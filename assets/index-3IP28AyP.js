function l3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Xi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dg={exports:{}},Ul={},fg={exports:{}},Ze={};var lP;function c3(){if(lP)return Ze;lP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(R){return R===null||typeof R!="object"?null:(R=p&&R[p]||R["@@iterator"],typeof R=="function"?R:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function b(R,W,ie){this.props=R,this.context=W,this.refs=w,this.updater=ie||g}b.prototype.isReactComponent={},b.prototype.setState=function(R,W){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,W,"setState")},b.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function C(){}C.prototype=b.prototype;function k(R,W,ie){this.props=R,this.context=W,this.refs=w,this.updater=ie||g}var E=k.prototype=new C;E.constructor=k,x(E,b.prototype),E.isPureReactComponent=!0;var N=Array.isArray,j=Object.prototype.hasOwnProperty,O={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function D(R,W,ie){var oe,de={},X=null,B=null;if(W!=null)for(oe in W.ref!==void 0&&(B=W.ref),W.key!==void 0&&(X=""+W.key),W)j.call(W,oe)&&!_.hasOwnProperty(oe)&&(de[oe]=W[oe]);var ee=arguments.length-2;if(ee===1)de.children=ie;else if(1<ee){for(var L=Array(ee),ne=0;ne<ee;ne++)L[ne]=arguments[ne+2];de.children=L}if(R&&R.defaultProps)for(oe in ee=R.defaultProps,ee)de[oe]===void 0&&(de[oe]=ee[oe]);return{$$typeof:e,type:R,key:X,ref:B,props:de,_owner:O.current}}function z(R,W){return{$$typeof:e,type:R.type,key:W,ref:R.ref,props:R.props,_owner:R._owner}}function q(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function G(R){var W={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ie){return W[ie]})}var F=/\/+/g;function U(R,W){return typeof R=="object"&&R!==null&&R.key!=null?G(""+R.key):W.toString(36)}function fe(R,W,ie,oe,de){var X=typeof R;(X==="undefined"||X==="boolean")&&(R=null);var B=!1;if(R===null)B=!0;else switch(X){case"string":case"number":B=!0;break;case"object":switch(R.$$typeof){case e:case t:B=!0}}if(B)return B=R,de=de(B),R=oe===""?"."+U(B,0):oe,N(de)?(ie="",R!=null&&(ie=R.replace(F,"$&/")+"/"),fe(de,W,ie,"",function(ne){return ne})):de!=null&&(q(de)&&(de=z(de,ie+(!de.key||B&&B.key===de.key?"":(""+de.key).replace(F,"$&/")+"/")+R)),W.push(de)),1;if(B=0,oe=oe===""?".":oe+":",N(R))for(var ee=0;ee<R.length;ee++){X=R[ee];var L=oe+U(X,ee);B+=fe(X,W,ie,L,de)}else if(L=m(R),typeof L=="function")for(R=L.call(R),ee=0;!(X=R.next()).done;)X=X.value,L=oe+U(X,ee++),B+=fe(X,W,ie,L,de);else if(X==="object")throw W=String(R),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return B}function ue(R,W,ie){if(R==null)return R;var oe=[],de=0;return fe(R,oe,"","",function(X){return W.call(ie,X,de++)}),oe}function be(R){if(R._status===-1){var W=R._result;W=W(),W.then(function(ie){(R._status===0||R._status===-1)&&(R._status=1,R._result=ie)},function(ie){(R._status===0||R._status===-1)&&(R._status=2,R._result=ie)}),R._status===-1&&(R._status=0,R._result=W)}if(R._status===1)return R._result.default;throw R._result}var Q={current:null},Y={transition:null},re={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:Y,ReactCurrentOwner:O};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:ue,forEach:function(R,W,ie){ue(R,function(){W.apply(this,arguments)},ie)},count:function(R){var W=0;return ue(R,function(){W++}),W},toArray:function(R){return ue(R,function(W){return W})||[]},only:function(R){if(!q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ze.Component=b,Ze.Fragment=n,Ze.Profiler=i,Ze.PureComponent=k,Ze.StrictMode=r,Ze.Suspense=u,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Ze.act=te,Ze.cloneElement=function(R,W,ie){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var oe=x({},R.props),de=R.key,X=R.ref,B=R._owner;if(W!=null){if(W.ref!==void 0&&(X=W.ref,B=O.current),W.key!==void 0&&(de=""+W.key),R.type&&R.type.defaultProps)var ee=R.type.defaultProps;for(L in W)j.call(W,L)&&!_.hasOwnProperty(L)&&(oe[L]=W[L]===void 0&&ee!==void 0?ee[L]:W[L])}var L=arguments.length-2;if(L===1)oe.children=ie;else if(1<L){ee=Array(L);for(var ne=0;ne<L;ne++)ee[ne]=arguments[ne+2];oe.children=ee}return{$$typeof:e,type:R.type,key:de,ref:X,props:oe,_owner:B}},Ze.createContext=function(R){return R={$$typeof:s,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:o,_context:R},R.Consumer=R},Ze.createElement=D,Ze.createFactory=function(R){var W=D.bind(null,R);return W.type=R,W},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(R){return{$$typeof:l,render:R}},Ze.isValidElement=q,Ze.lazy=function(R){return{$$typeof:f,_payload:{_status:-1,_result:R},_init:be}},Ze.memo=function(R,W){return{$$typeof:d,type:R,compare:W===void 0?null:W}},Ze.startTransition=function(R){var W=Y.transition;Y.transition={};try{R()}finally{Y.transition=W}},Ze.unstable_act=te,Ze.useCallback=function(R,W){return Q.current.useCallback(R,W)},Ze.useContext=function(R){return Q.current.useContext(R)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(R){return Q.current.useDeferredValue(R)},Ze.useEffect=function(R,W){return Q.current.useEffect(R,W)},Ze.useId=function(){return Q.current.useId()},Ze.useImperativeHandle=function(R,W,ie){return Q.current.useImperativeHandle(R,W,ie)},Ze.useInsertionEffect=function(R,W){return Q.current.useInsertionEffect(R,W)},Ze.useLayoutEffect=function(R,W){return Q.current.useLayoutEffect(R,W)},Ze.useMemo=function(R,W){return Q.current.useMemo(R,W)},Ze.useReducer=function(R,W,ie){return Q.current.useReducer(R,W,ie)},Ze.useRef=function(R){return Q.current.useRef(R)},Ze.useState=function(R){return Q.current.useState(R)},Ze.useSyncExternalStore=function(R,W,ie){return Q.current.useSyncExternalStore(R,W,ie)},Ze.useTransition=function(){return Q.current.useTransition()},Ze.version="18.3.1",Ze}var cP;function Hs(){return cP||(cP=1,fg.exports=c3()),fg.exports}var uP;function u3(){if(uP)return Ul;uP=1;var e=Hs(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,u,d){var f,p={},m=null,g=null;d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(g=u.ref);for(f in u)r.call(u,f)&&!o.hasOwnProperty(f)&&(p[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:t,type:l,key:m,ref:g,props:p,_owner:i.current}}return Ul.Fragment=n,Ul.jsx=s,Ul.jsxs=s,Ul}var dP;function d3(){return dP||(dP=1,dg.exports=u3()),dg.exports}var y=d3(),P=Hs();const ft=Xi(P),f3=l3({__proto__:null,default:ft},[P]);var jd={},pg={exports:{}},Gn={},hg={exports:{}},mg={};var fP;function p3(){return fP||(fP=1,(function(e){function t(Y,re){var te=Y.length;Y.push(re);e:for(;0<te;){var R=te-1>>>1,W=Y[R];if(0<i(W,re))Y[R]=re,Y[te]=W,te=R;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],te=Y.pop();if(te!==re){Y[0]=te;e:for(var R=0,W=Y.length,ie=W>>>1;R<ie;){var oe=2*(R+1)-1,de=Y[oe],X=oe+1,B=Y[X];if(0>i(de,te))X<W&&0>i(B,de)?(Y[R]=B,Y[X]=te,R=X):(Y[R]=de,Y[oe]=te,R=oe);else if(X<W&&0>i(B,te))Y[R]=B,Y[X]=te,R=X;else break e}}return re}function i(Y,re){var te=Y.sortIndex-re.sortIndex;return te!==0?te:Y.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],d=[],f=1,p=null,m=3,g=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var re=n(d);re!==null;){if(re.callback===null)r(d);else if(re.startTime<=Y)r(d),re.sortIndex=re.expirationTime,t(u,re);else break;re=n(d)}}function N(Y){if(w=!1,E(Y),!x)if(n(u)!==null)x=!0,be(j);else{var re=n(d);re!==null&&Q(N,re.startTime-Y)}}function j(Y,re){x=!1,w&&(w=!1,C(D),D=-1),g=!0;var te=m;try{for(E(re),p=n(u);p!==null&&(!(p.expirationTime>re)||Y&&!G());){var R=p.callback;if(typeof R=="function"){p.callback=null,m=p.priorityLevel;var W=R(p.expirationTime<=re);re=e.unstable_now(),typeof W=="function"?p.callback=W:p===n(u)&&r(u),E(re)}else r(u);p=n(u)}if(p!==null)var ie=!0;else{var oe=n(d);oe!==null&&Q(N,oe.startTime-re),ie=!1}return ie}finally{p=null,m=te,g=!1}}var O=!1,_=null,D=-1,z=5,q=-1;function G(){return!(e.unstable_now()-q<z)}function F(){if(_!==null){var Y=e.unstable_now();q=Y;var re=!0;try{re=_(!0,Y)}finally{re?U():(O=!1,_=null)}}else O=!1}var U;if(typeof k=="function")U=function(){k(F)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ue=fe.port2;fe.port1.onmessage=F,U=function(){ue.postMessage(null)}}else U=function(){b(F,0)};function be(Y){_=Y,O||(O=!0,U())}function Q(Y,re){D=b(function(){Y(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,be(j))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(Y){switch(m){case 1:case 2:case 3:var re=3;break;default:re=m}var te=m;m=re;try{return Y()}finally{m=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var te=m;m=Y;try{return re()}finally{m=te}},e.unstable_scheduleCallback=function(Y,re,te){var R=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?R+te:R):te=R,Y){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=te+W,Y={id:f++,callback:re,priorityLevel:Y,startTime:te,expirationTime:W,sortIndex:-1},te>R?(Y.sortIndex=te,t(d,Y),n(u)===null&&Y===n(d)&&(w?(C(D),D=-1):w=!0,Q(N,te-R))):(Y.sortIndex=W,t(u,Y),x||g||(x=!0,be(j))),Y},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(Y){var re=m;return function(){var te=m;m=re;try{return Y.apply(this,arguments)}finally{m=te}}}})(mg)),mg}var pP;function h3(){return pP||(pP=1,hg.exports=p3()),hg.exports}var hP;function m3(){if(hP)return Gn;hP=1;var e=Hs(),t=h3();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,c){s(a,c),s(a+"Capture",c)}function s(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(a){return u.call(p,a)?!0:u.call(f,a)?!1:d.test(a)?p[a]=!0:(f[a]=!0,!1)}function g(a,c,h,v){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function x(a,c,h,v){if(c===null||typeof c>"u"||g(a,c,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(a,c,h,v,S,A,T){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=h,this.propertyName=a,this.type=c,this.sanitizeURL=A,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];b[c]=new w(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(C,k);b[c]=new w(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(C,k);b[c]=new w(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(C,k);b[c]=new w(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,c,h,v){var S=b.hasOwnProperty(c)?b[c]:null;(S!==null?S.type!==0:v||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(x(c,h,S,v)&&(h=null),v||S===null?m(c)&&(h===null?a.removeAttribute(c):a.setAttribute(c,""+h)):S.mustUseProperty?a[S.propertyName]=h===null?S.type===3?!1:"":h:(c=S.attributeName,v=S.attributeNamespace,h===null?a.removeAttribute(c):(S=S.type,h=S===3||S===4&&h===!0?"":""+h,v?a.setAttributeNS(v,c,h):a.setAttribute(c,h))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),O=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),G=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),Y=Symbol.iterator;function re(a){return a===null||typeof a!="object"?null:(a=Y&&a[Y]||a["@@iterator"],typeof a=="function"?a:null)}var te=Object.assign,R;function W(a){if(R===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);R=c&&c[1]||""}return`
`+R+a}var ie=!1;function oe(a,c){if(!a||ie)return"";ie=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Z){var v=Z}Reflect.construct(a,[],c)}else{try{c.call()}catch(Z){v=Z}a.call(c.prototype)}else{try{throw Error()}catch(Z){v=Z}a()}}catch(Z){if(Z&&v&&typeof Z.stack=="string"){for(var S=Z.stack.split(`
`),A=v.stack.split(`
`),T=S.length-1,M=A.length-1;1<=T&&0<=M&&S[T]!==A[M];)M--;for(;1<=T&&0<=M;T--,M--)if(S[T]!==A[M]){if(T!==1||M!==1)do if(T--,M--,0>M||S[T]!==A[M]){var $=`
`+S[T].replace(" at new "," at ");return a.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",a.displayName)),$}while(1<=T&&0<=M);break}}}finally{ie=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?W(a):""}function de(a){switch(a.tag){case 5:return W(a.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return a=oe(a.type,!1),a;case 11:return a=oe(a.type.render,!1),a;case 1:return a=oe(a.type,!0),a;default:return""}}function X(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case O:return"Portal";case z:return"Profiler";case D:return"StrictMode";case U:return"Suspense";case fe:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case G:return(a.displayName||"Context")+".Consumer";case q:return(a._context.displayName||"Context")+".Provider";case F:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ue:return c=a.displayName||null,c!==null?c:X(a.type)||"Memo";case be:c=a._payload,a=a._init;try{return X(a(c))}catch{}}return null}function B(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(c);case 8:return c===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ee(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function L(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ne(a){var c=L(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),v=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var S=h.get,A=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return S.call(this)},set:function(T){v=""+T,A.call(this,T)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(T){v=""+T},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function pe(a){a._valueTracker||(a._valueTracker=ne(a))}function I(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),v="";return a&&(v=L(a)?a.checked?"true":"false":a.value),a=v,a!==h?(c.setValue(a),!0):!1}function Ce(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function we(a,c){var h=c.checked;return te({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Ye(a,c){var h=c.defaultValue==null?"":c.defaultValue,v=c.checked!=null?c.checked:c.defaultChecked;h=ee(c.value!=null?c.value:h),a._wrapperState={initialChecked:v,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ze(a,c){c=c.checked,c!=null&&E(a,"checked",c,!1)}function rt(a,c){ze(a,c);var h=ee(c.value),v=c.type;if(h!=null)v==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(v==="submit"||v==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?Kt(a,c.type,h):c.hasOwnProperty("defaultValue")&&Kt(a,c.type,ee(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function vt(a,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var v=c.type;if(!(v!=="submit"&&v!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,h||c===a.value||(a.value=c),a.defaultValue=c}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Kt(a,c,h){(c!=="number"||Ce(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var Dn=Array.isArray;function xe(a,c,h,v){if(a=a.options,c){c={};for(var S=0;S<h.length;S++)c["$"+h[S]]=!0;for(h=0;h<a.length;h++)S=c.hasOwnProperty("$"+a[h].value),a[h].selected!==S&&(a[h].selected=S),S&&v&&(a[h].defaultSelected=!0)}else{for(h=""+ee(h),c=null,S=0;S<a.length;S++){if(a[S].value===h){a[S].selected=!0,v&&(a[S].defaultSelected=!0);return}c!==null||a[S].disabled||(c=a[S])}c!==null&&(c.selected=!0)}}function at(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function lt(a,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(Dn(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}a._wrapperState={initialValue:ee(h)}}function Ke(a,c){var h=ee(c.value),v=ee(c.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),c.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),v!=null&&(a.defaultValue=""+v)}function le(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Me(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Me(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Qe,Ut=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,v,S){MSApp.execUnsafeLocalFunction(function(){return a(c,h,v,S)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Qe.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Et(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(a){bt.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),Xe[c]=Xe[a]})});function mr(a,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||Xe.hasOwnProperty(a)&&Xe[a]?(""+c).trim():c+"px"}function Zn(a,c){a=a.style;for(var h in c)if(c.hasOwnProperty(h)){var v=h.indexOf("--")===0,S=mr(h,c[h],v);h==="float"&&(h="cssFloat"),v?a.setProperty(h,S):a[h]=S}}var bu=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(a,c){if(c){if(bu[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function La(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fa=null;function $a(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ct=null,Si=null,Pi=null;function wu(a){if(a=Ol(a)){if(typeof ct!="function")throw Error(n(280));var c=a.stateNode;c&&(c=Hu(c),ct(a.stateNode,a.type,c))}}function Su(a){Si?Pi?Pi.push(a):Pi=[a]:Si=a}function Pu(){if(Si){var a=Si,c=Pi;if(Pi=Si=null,wu(a),c)for(a=0;a<c.length;a++)wu(c[a])}}function ll(a,c){return a(c)}function Cu(){}var cl=!1;function Qn(a,c,h){if(cl)return a(c,h);cl=!0;try{return ll(a,c,h)}finally{cl=!1,(Si!==null||Pi!==null)&&(Cu(),Pu())}}function Qr(a,c){var h=a.stateNode;if(h===null)return null;var v=Hu(h);if(v===null)return null;h=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var oo=!1;if(l)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){oo=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{oo=!1}function me(a,c,h,v,S,A,T,M,$){var Z=Array.prototype.slice.call(arguments,3);try{c.apply(h,Z)}catch(se){this.onError(se)}}var Pe=!1,ye=null,je=!1,He=null,ve={onError:function(a){Pe=!0,ye=a}};function Ne(a,c,h,v,S,A,T,M,$){Pe=!1,ye=null,me.apply(ve,arguments)}function We(a,c,h,v,S,A,T,M,$){if(Ne.apply(this,arguments),Pe){if(Pe){var Z=ye;Pe=!1,ye=null}else throw Error(n(198));je||(je=!0,He=Z)}}function qe(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function Be(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function pt(a){if(qe(a)!==a)throw Error(n(188))}function Rt(a){var c=a.alternate;if(!c){if(c=qe(a),c===null)throw Error(n(188));return c!==a?null:a}for(var h=a,v=c;;){var S=h.return;if(S===null)break;var A=S.alternate;if(A===null){if(v=S.return,v!==null){h=v;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===h)return pt(S),a;if(A===v)return pt(S),c;A=A.sibling}throw Error(n(188))}if(h.return!==v.return)h=S,v=A;else{for(var T=!1,M=S.child;M;){if(M===h){T=!0,h=S,v=A;break}if(M===v){T=!0,v=S,h=A;break}M=M.sibling}if(!T){for(M=A.child;M;){if(M===h){T=!0,h=A,v=S;break}if(M===v){T=!0,v=A,h=S;break}M=M.sibling}if(!T)throw Error(n(189))}}if(h.alternate!==v)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:c}function wt(a){return a=Rt(a),a!==null?pn(a):null}function pn(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=pn(a);if(c!==null)return c;a=a.sibling}return null}var Pn=t.unstable_scheduleCallback,Jr=t.unstable_cancelCallback,ul=t.unstable_shouldYield,bL=t.unstable_requestPaint,zt=t.unstable_now,wL=t.unstable_getCurrentPriorityLevel,Th=t.unstable_ImmediatePriority,L1=t.unstable_UserBlockingPriority,Au=t.unstable_NormalPriority,SL=t.unstable_LowPriority,F1=t.unstable_IdlePriority,ku=null,ei=null;function PL(a){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(ku,a,void 0,(a.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:kL,CL=Math.log,AL=Math.LN2;function kL(a){return a>>>=0,a===0?32:31-(CL(a)/AL|0)|0}var Eu=64,Nu=4194304;function dl(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Ou(a,c){var h=a.pendingLanes;if(h===0)return 0;var v=0,S=a.suspendedLanes,A=a.pingedLanes,T=h&268435455;if(T!==0){var M=T&~S;M!==0?v=dl(M):(A&=T,A!==0&&(v=dl(A)))}else T=h&~S,T!==0?v=dl(T):A!==0&&(v=dl(A));if(v===0)return 0;if(c!==0&&c!==v&&(c&S)===0&&(S=v&-v,A=c&-c,S>=A||S===16&&(A&4194240)!==0))return c;if((v&4)!==0&&(v|=h&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=v;0<c;)h=31-Rr(c),S=1<<h,v|=a[h],c&=~S;return v}function EL(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NL(a,c){for(var h=a.suspendedLanes,v=a.pingedLanes,S=a.expirationTimes,A=a.pendingLanes;0<A;){var T=31-Rr(A),M=1<<T,$=S[T];$===-1?((M&h)===0||(M&v)!==0)&&(S[T]=EL(M,c)):$<=c&&(a.expiredLanes|=M),A&=~M}}function _h(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function $1(){var a=Eu;return Eu<<=1,(Eu&4194240)===0&&(Eu=64),a}function Dh(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function fl(a,c,h){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Rr(c),a[c]=h}function OL(a,c){var h=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var v=a.eventTimes;for(a=a.expirationTimes;0<h;){var S=31-Rr(h),A=1<<S;c[S]=0,v[S]=-1,a[S]=-1,h&=~A}}function Mh(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var v=31-Rr(h),S=1<<v;S&c|a[v]&c&&(a[v]|=c),h&=~S}}var ut=0;function B1(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var z1,Ih,W1,V1,U1,Rh=!1,ju=[],ao=null,so=null,lo=null,pl=new Map,hl=new Map,co=[],jL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H1(a,c){switch(a){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":pl.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(c.pointerId)}}function ml(a,c,h,v,S,A){return a===null||a.nativeEvent!==A?(a={blockedOn:c,domEventName:h,eventSystemFlags:v,nativeEvent:A,targetContainers:[S]},c!==null&&(c=Ol(c),c!==null&&Ih(c)),a):(a.eventSystemFlags|=v,c=a.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),a)}function TL(a,c,h,v,S){switch(c){case"focusin":return ao=ml(ao,a,c,h,v,S),!0;case"dragenter":return so=ml(so,a,c,h,v,S),!0;case"mouseover":return lo=ml(lo,a,c,h,v,S),!0;case"pointerover":var A=S.pointerId;return pl.set(A,ml(pl.get(A)||null,a,c,h,v,S)),!0;case"gotpointercapture":return A=S.pointerId,hl.set(A,ml(hl.get(A)||null,a,c,h,v,S)),!0}return!1}function G1(a){var c=Ho(a.target);if(c!==null){var h=qe(c);if(h!==null){if(c=h.tag,c===13){if(c=Be(h),c!==null){a.blockedOn=c,U1(a.priority,function(){W1(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Tu(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=Fh(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var v=new h.constructor(h.type,h);Fa=v,h.target.dispatchEvent(v),Fa=null}else return c=Ol(h),c!==null&&Ih(c),a.blockedOn=h,!1;c.shift()}return!0}function K1(a,c,h){Tu(a)&&h.delete(c)}function _L(){Rh=!1,ao!==null&&Tu(ao)&&(ao=null),so!==null&&Tu(so)&&(so=null),lo!==null&&Tu(lo)&&(lo=null),pl.forEach(K1),hl.forEach(K1)}function gl(a,c){a.blockedOn===c&&(a.blockedOn=null,Rh||(Rh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_L)))}function vl(a){function c(S){return gl(S,a)}if(0<ju.length){gl(ju[0],a);for(var h=1;h<ju.length;h++){var v=ju[h];v.blockedOn===a&&(v.blockedOn=null)}}for(ao!==null&&gl(ao,a),so!==null&&gl(so,a),lo!==null&&gl(lo,a),pl.forEach(c),hl.forEach(c),h=0;h<co.length;h++)v=co[h],v.blockedOn===a&&(v.blockedOn=null);for(;0<co.length&&(h=co[0],h.blockedOn===null);)G1(h),h.blockedOn===null&&co.shift()}var Ba=N.ReactCurrentBatchConfig,_u=!0;function DL(a,c,h,v){var S=ut,A=Ba.transition;Ba.transition=null;try{ut=1,Lh(a,c,h,v)}finally{ut=S,Ba.transition=A}}function ML(a,c,h,v){var S=ut,A=Ba.transition;Ba.transition=null;try{ut=4,Lh(a,c,h,v)}finally{ut=S,Ba.transition=A}}function Lh(a,c,h,v){if(_u){var S=Fh(a,c,h,v);if(S===null)tm(a,c,v,Du,h),H1(a,v);else if(TL(S,a,c,h,v))v.stopPropagation();else if(H1(a,v),c&4&&-1<jL.indexOf(a)){for(;S!==null;){var A=Ol(S);if(A!==null&&z1(A),A=Fh(a,c,h,v),A===null&&tm(a,c,v,Du,h),A===S)break;S=A}S!==null&&v.stopPropagation()}else tm(a,c,v,null,h)}}var Du=null;function Fh(a,c,h,v){if(Du=null,a=$a(v),a=Ho(a),a!==null)if(c=qe(a),c===null)a=null;else if(h=c.tag,h===13){if(a=Be(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Du=a,null}function q1(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wL()){case Th:return 1;case L1:return 4;case Au:case SL:return 16;case F1:return 536870912;default:return 16}default:return 16}}var uo=null,$h=null,Mu=null;function Y1(){if(Mu)return Mu;var a,c=$h,h=c.length,v,S="value"in uo?uo.value:uo.textContent,A=S.length;for(a=0;a<h&&c[a]===S[a];a++);var T=h-a;for(v=1;v<=T&&c[h-v]===S[A-v];v++);return Mu=S.slice(a,1<v?1-v:void 0)}function Iu(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Ru(){return!0}function X1(){return!1}function Jn(a){function c(h,v,S,A,T){this._reactName=h,this._targetInst=S,this.type=v,this.nativeEvent=A,this.target=T,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(h=a[M],this[M]=h?h(A):A[M]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ru:X1,this.isPropagationStopped=X1,this}return te(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),c}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bh=Jn(za),yl=te({},za,{view:0,detail:0}),IL=Jn(yl),zh,Wh,xl,Lu=te({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==xl&&(xl&&a.type==="mousemove"?(zh=a.screenX-xl.screenX,Wh=a.screenY-xl.screenY):Wh=zh=0,xl=a),zh)},movementY:function(a){return"movementY"in a?a.movementY:Wh}}),Z1=Jn(Lu),RL=te({},Lu,{dataTransfer:0}),LL=Jn(RL),FL=te({},yl,{relatedTarget:0}),Vh=Jn(FL),$L=te({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),BL=Jn($L),zL=te({},za,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),WL=Jn(zL),VL=te({},za,{data:0}),Q1=Jn(VL),UL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KL(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=GL[a])?!!c[a]:!1}function Uh(){return KL}var qL=te({},yl,{key:function(a){if(a.key){var c=UL[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Iu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?HL[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uh,charCode:function(a){return a.type==="keypress"?Iu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Iu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),YL=Jn(qL),XL=te({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J1=Jn(XL),ZL=te({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uh}),QL=Jn(ZL),JL=te({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),e5=Jn(JL),t5=te({},Lu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),n5=Jn(t5),r5=[9,13,27,32],Hh=l&&"CompositionEvent"in window,bl=null;l&&"documentMode"in document&&(bl=document.documentMode);var i5=l&&"TextEvent"in window&&!bl,ew=l&&(!Hh||bl&&8<bl&&11>=bl),tw=" ",nw=!1;function rw(a,c){switch(a){case"keyup":return r5.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Wa=!1;function o5(a,c){switch(a){case"compositionend":return iw(c);case"keypress":return c.which!==32?null:(nw=!0,tw);case"textInput":return a=c.data,a===tw&&nw?null:a;default:return null}}function a5(a,c){if(Wa)return a==="compositionend"||!Hh&&rw(a,c)?(a=Y1(),Mu=$h=uo=null,Wa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ew&&c.locale!=="ko"?null:c.data;default:return null}}var s5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ow(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!s5[a.type]:c==="textarea"}function aw(a,c,h,v){Su(v),c=Wu(c,"onChange"),0<c.length&&(h=new Bh("onChange","change",null,h,v),a.push({event:h,listeners:c}))}var wl=null,Sl=null;function l5(a){Cw(a,0)}function Fu(a){var c=Ka(a);if(I(c))return a}function c5(a,c){if(a==="change")return c}var sw=!1;if(l){var Gh;if(l){var Kh="oninput"in document;if(!Kh){var lw=document.createElement("div");lw.setAttribute("oninput","return;"),Kh=typeof lw.oninput=="function"}Gh=Kh}else Gh=!1;sw=Gh&&(!document.documentMode||9<document.documentMode)}function cw(){wl&&(wl.detachEvent("onpropertychange",uw),Sl=wl=null)}function uw(a){if(a.propertyName==="value"&&Fu(Sl)){var c=[];aw(c,Sl,a,$a(a)),Qn(l5,c)}}function u5(a,c,h){a==="focusin"?(cw(),wl=c,Sl=h,wl.attachEvent("onpropertychange",uw)):a==="focusout"&&cw()}function d5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Fu(Sl)}function f5(a,c){if(a==="click")return Fu(c)}function p5(a,c){if(a==="input"||a==="change")return Fu(c)}function h5(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Lr=typeof Object.is=="function"?Object.is:h5;function Pl(a,c){if(Lr(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),v=Object.keys(c);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var S=h[v];if(!u.call(c,S)||!Lr(a[S],c[S]))return!1}return!0}function dw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function fw(a,c){var h=dw(a);a=0;for(var v;h;){if(h.nodeType===3){if(v=a+h.textContent.length,a<=c&&v>=c)return{node:h,offset:c-a};a=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=dw(h)}}function pw(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?pw(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function hw(){for(var a=window,c=Ce();c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=Ce(a.document)}return c}function qh(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function m5(a){var c=hw(),h=a.focusedElem,v=a.selectionRange;if(c!==h&&h&&h.ownerDocument&&pw(h.ownerDocument.documentElement,h)){if(v!==null&&qh(h)){if(c=v.start,a=v.end,a===void 0&&(a=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(a,h.value.length);else if(a=(c=h.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var S=h.textContent.length,A=Math.min(v.start,S);v=v.end===void 0?A:Math.min(v.end,S),!a.extend&&A>v&&(S=v,v=A,A=S),S=fw(h,A);var T=fw(h,v);S&&T&&(a.rangeCount!==1||a.anchorNode!==S.node||a.anchorOffset!==S.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(c=c.createRange(),c.setStart(S.node,S.offset),a.removeAllRanges(),A>v?(a.addRange(c),a.extend(T.node,T.offset)):(c.setEnd(T.node,T.offset),a.addRange(c)))}}for(c=[],a=h;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)a=c[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var g5=l&&"documentMode"in document&&11>=document.documentMode,Va=null,Yh=null,Cl=null,Xh=!1;function mw(a,c,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Xh||Va==null||Va!==Ce(v)||(v=Va,"selectionStart"in v&&qh(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Cl&&Pl(Cl,v)||(Cl=v,v=Wu(Yh,"onSelect"),0<v.length&&(c=new Bh("onSelect","select",null,c,h),a.push({event:c,listeners:v}),c.target=Va)))}function $u(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var Ua={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},Zh={},gw={};l&&(gw=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Bu(a){if(Zh[a])return Zh[a];if(!Ua[a])return a;var c=Ua[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in gw)return Zh[a]=c[h];return a}var vw=Bu("animationend"),yw=Bu("animationiteration"),xw=Bu("animationstart"),bw=Bu("transitionend"),ww=new Map,Sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fo(a,c){ww.set(a,c),o(c,[a])}for(var Qh=0;Qh<Sw.length;Qh++){var Jh=Sw[Qh],v5=Jh.toLowerCase(),y5=Jh[0].toUpperCase()+Jh.slice(1);fo(v5,"on"+y5)}fo(vw,"onAnimationEnd"),fo(yw,"onAnimationIteration"),fo(xw,"onAnimationStart"),fo("dblclick","onDoubleClick"),fo("focusin","onFocus"),fo("focusout","onBlur"),fo(bw,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Al));function Pw(a,c,h){var v=a.type||"unknown-event";a.currentTarget=h,We(v,c,void 0,a),a.currentTarget=null}function Cw(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var v=a[h],S=v.event;v=v.listeners;e:{var A=void 0;if(c)for(var T=v.length-1;0<=T;T--){var M=v[T],$=M.instance,Z=M.currentTarget;if(M=M.listener,$!==A&&S.isPropagationStopped())break e;Pw(S,M,Z),A=$}else for(T=0;T<v.length;T++){if(M=v[T],$=M.instance,Z=M.currentTarget,M=M.listener,$!==A&&S.isPropagationStopped())break e;Pw(S,M,Z),A=$}}}if(je)throw a=He,je=!1,He=null,a}function St(a,c){var h=c[sm];h===void 0&&(h=c[sm]=new Set);var v=a+"__bubble";h.has(v)||(Aw(c,a,2,!1),h.add(v))}function em(a,c,h){var v=0;c&&(v|=4),Aw(h,a,v,c)}var zu="_reactListening"+Math.random().toString(36).slice(2);function kl(a){if(!a[zu]){a[zu]=!0,r.forEach(function(h){h!=="selectionchange"&&(x5.has(h)||em(h,!1,a),em(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[zu]||(c[zu]=!0,em("selectionchange",!1,c))}}function Aw(a,c,h,v){switch(q1(c)){case 1:var S=DL;break;case 4:S=ML;break;default:S=Lh}h=S.bind(null,c,h,a),S=void 0,!oo||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),v?S!==void 0?a.addEventListener(c,h,{capture:!0,passive:S}):a.addEventListener(c,h,!0):S!==void 0?a.addEventListener(c,h,{passive:S}):a.addEventListener(c,h,!1)}function tm(a,c,h,v,S){var A=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var T=v.tag;if(T===3||T===4){var M=v.stateNode.containerInfo;if(M===S||M.nodeType===8&&M.parentNode===S)break;if(T===4)for(T=v.return;T!==null;){var $=T.tag;if(($===3||$===4)&&($=T.stateNode.containerInfo,$===S||$.nodeType===8&&$.parentNode===S))return;T=T.return}for(;M!==null;){if(T=Ho(M),T===null)return;if($=T.tag,$===5||$===6){v=A=T;continue e}M=M.parentNode}}v=v.return}Qn(function(){var Z=A,se=$a(h),ce=[];e:{var ae=ww.get(a);if(ae!==void 0){var Se=Bh,Ee=a;switch(a){case"keypress":if(Iu(h)===0)break e;case"keydown":case"keyup":Se=YL;break;case"focusin":Ee="focus",Se=Vh;break;case"focusout":Ee="blur",Se=Vh;break;case"beforeblur":case"afterblur":Se=Vh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Z1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=LL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=QL;break;case vw:case yw:case xw:Se=BL;break;case bw:Se=e5;break;case"scroll":Se=IL;break;case"wheel":Se=n5;break;case"copy":case"cut":case"paste":Se=WL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=J1}var Oe=(c&4)!==0,Wt=!Oe&&a==="scroll",H=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var V=Z,K;V!==null;){K=V;var he=K.stateNode;if(K.tag===5&&he!==null&&(K=he,H!==null&&(he=Qr(V,H),he!=null&&Oe.push(El(V,he,K)))),Wt)break;V=V.return}0<Oe.length&&(ae=new Se(ae,Ee,null,h,se),ce.push({event:ae,listeners:Oe}))}}if((c&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",Se=a==="mouseout"||a==="pointerout",ae&&h!==Fa&&(Ee=h.relatedTarget||h.fromElement)&&(Ho(Ee)||Ee[Ai]))break e;if((Se||ae)&&(ae=se.window===se?se:(ae=se.ownerDocument)?ae.defaultView||ae.parentWindow:window,Se?(Ee=h.relatedTarget||h.toElement,Se=Z,Ee=Ee?Ho(Ee):null,Ee!==null&&(Wt=qe(Ee),Ee!==Wt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(Se=null,Ee=Z),Se!==Ee)){if(Oe=Z1,he="onMouseLeave",H="onMouseEnter",V="mouse",(a==="pointerout"||a==="pointerover")&&(Oe=J1,he="onPointerLeave",H="onPointerEnter",V="pointer"),Wt=Se==null?ae:Ka(Se),K=Ee==null?ae:Ka(Ee),ae=new Oe(he,V+"leave",Se,h,se),ae.target=Wt,ae.relatedTarget=K,he=null,Ho(se)===Z&&(Oe=new Oe(H,V+"enter",Ee,h,se),Oe.target=K,Oe.relatedTarget=Wt,he=Oe),Wt=he,Se&&Ee)t:{for(Oe=Se,H=Ee,V=0,K=Oe;K;K=Ha(K))V++;for(K=0,he=H;he;he=Ha(he))K++;for(;0<V-K;)Oe=Ha(Oe),V--;for(;0<K-V;)H=Ha(H),K--;for(;V--;){if(Oe===H||H!==null&&Oe===H.alternate)break t;Oe=Ha(Oe),H=Ha(H)}Oe=null}else Oe=null;Se!==null&&kw(ce,ae,Se,Oe,!1),Ee!==null&&Wt!==null&&kw(ce,Wt,Ee,Oe,!0)}}e:{if(ae=Z?Ka(Z):window,Se=ae.nodeName&&ae.nodeName.toLowerCase(),Se==="select"||Se==="input"&&ae.type==="file")var Te=c5;else if(ow(ae))if(sw)Te=p5;else{Te=d5;var Ie=u5}else(Se=ae.nodeName)&&Se.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Te=f5);if(Te&&(Te=Te(a,Z))){aw(ce,Te,h,se);break e}Ie&&Ie(a,ae,Z),a==="focusout"&&(Ie=ae._wrapperState)&&Ie.controlled&&ae.type==="number"&&Kt(ae,"number",ae.value)}switch(Ie=Z?Ka(Z):window,a){case"focusin":(ow(Ie)||Ie.contentEditable==="true")&&(Va=Ie,Yh=Z,Cl=null);break;case"focusout":Cl=Yh=Va=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,mw(ce,h,se);break;case"selectionchange":if(g5)break;case"keydown":case"keyup":mw(ce,h,se)}var Re;if(Hh)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Wa?rw(a,h)&&(Ve="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ve="onCompositionStart");Ve&&(ew&&h.locale!=="ko"&&(Wa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Wa&&(Re=Y1()):(uo=se,$h="value"in uo?uo.value:uo.textContent,Wa=!0)),Ie=Wu(Z,Ve),0<Ie.length&&(Ve=new Q1(Ve,a,null,h,se),ce.push({event:Ve,listeners:Ie}),Re?Ve.data=Re:(Re=iw(h),Re!==null&&(Ve.data=Re)))),(Re=i5?o5(a,h):a5(a,h))&&(Z=Wu(Z,"onBeforeInput"),0<Z.length&&(se=new Q1("onBeforeInput","beforeinput",null,h,se),ce.push({event:se,listeners:Z}),se.data=Re))}Cw(ce,c)})}function El(a,c,h){return{instance:a,listener:c,currentTarget:h}}function Wu(a,c){for(var h=c+"Capture",v=[];a!==null;){var S=a,A=S.stateNode;S.tag===5&&A!==null&&(S=A,A=Qr(a,h),A!=null&&v.unshift(El(a,A,S)),A=Qr(a,c),A!=null&&v.push(El(a,A,S))),a=a.return}return v}function Ha(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function kw(a,c,h,v,S){for(var A=c._reactName,T=[];h!==null&&h!==v;){var M=h,$=M.alternate,Z=M.stateNode;if($!==null&&$===v)break;M.tag===5&&Z!==null&&(M=Z,S?($=Qr(h,A),$!=null&&T.unshift(El(h,$,M))):S||($=Qr(h,A),$!=null&&T.push(El(h,$,M)))),h=h.return}T.length!==0&&a.push({event:c,listeners:T})}var b5=/\r\n?/g,w5=/\u0000|\uFFFD/g;function Ew(a){return(typeof a=="string"?a:""+a).replace(b5,`
`).replace(w5,"")}function Vu(a,c,h){if(c=Ew(c),Ew(a)!==c&&h)throw Error(n(425))}function Uu(){}var nm=null,rm=null;function im(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var om=typeof setTimeout=="function"?setTimeout:void 0,S5=typeof clearTimeout=="function"?clearTimeout:void 0,Nw=typeof Promise=="function"?Promise:void 0,P5=typeof queueMicrotask=="function"?queueMicrotask:typeof Nw<"u"?function(a){return Nw.resolve(null).then(a).catch(C5)}:om;function C5(a){setTimeout(function(){throw a})}function am(a,c){var h=c,v=0;do{var S=h.nextSibling;if(a.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(v===0){a.removeChild(S),vl(c);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=S}while(h);vl(c)}function po(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function Ow(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}var Ga=Math.random().toString(36).slice(2),ti="__reactFiber$"+Ga,Nl="__reactProps$"+Ga,Ai="__reactContainer$"+Ga,sm="__reactEvents$"+Ga,A5="__reactListeners$"+Ga,k5="__reactHandles$"+Ga;function Ho(a){var c=a[ti];if(c)return c;for(var h=a.parentNode;h;){if(c=h[Ai]||h[ti]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=Ow(a);a!==null;){if(h=a[ti])return h;a=Ow(a)}return c}a=h,h=a.parentNode}return null}function Ol(a){return a=a[ti]||a[Ai],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ka(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Hu(a){return a[Nl]||null}var lm=[],qa=-1;function ho(a){return{current:a}}function Pt(a){0>qa||(a.current=lm[qa],lm[qa]=null,qa--)}function yt(a,c){qa++,lm[qa]=a.current,a.current=c}var mo={},Cn=ho(mo),zn=ho(!1),Go=mo;function Ya(a,c){var h=a.type.contextTypes;if(!h)return mo;var v=a.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===c)return v.__reactInternalMemoizedMaskedChildContext;var S={},A;for(A in h)S[A]=c[A];return v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=S),S}function Wn(a){return a=a.childContextTypes,a!=null}function Gu(){Pt(zn),Pt(Cn)}function jw(a,c,h){if(Cn.current!==mo)throw Error(n(168));yt(Cn,c),yt(zn,h)}function Tw(a,c,h){var v=a.stateNode;if(c=c.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var S in v)if(!(S in c))throw Error(n(108,B(a)||"Unknown",S));return te({},h,v)}function Ku(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||mo,Go=Cn.current,yt(Cn,a),yt(zn,zn.current),!0}function _w(a,c,h){var v=a.stateNode;if(!v)throw Error(n(169));h?(a=Tw(a,c,Go),v.__reactInternalMemoizedMergedChildContext=a,Pt(zn),Pt(Cn),yt(Cn,a)):Pt(zn),yt(zn,h)}var ki=null,qu=!1,cm=!1;function Dw(a){ki===null?ki=[a]:ki.push(a)}function E5(a){qu=!0,Dw(a)}function go(){if(!cm&&ki!==null){cm=!0;var a=0,c=ut;try{var h=ki;for(ut=1;a<h.length;a++){var v=h[a];do v=v(!0);while(v!==null)}ki=null,qu=!1}catch(S){throw ki!==null&&(ki=ki.slice(a+1)),Pn(Th,go),S}finally{ut=c,cm=!1}}return null}var Xa=[],Za=0,Yu=null,Xu=0,gr=[],vr=0,Ko=null,Ei=1,Ni="";function qo(a,c){Xa[Za++]=Xu,Xa[Za++]=Yu,Yu=a,Xu=c}function Mw(a,c,h){gr[vr++]=Ei,gr[vr++]=Ni,gr[vr++]=Ko,Ko=a;var v=Ei;a=Ni;var S=32-Rr(v)-1;v&=~(1<<S),h+=1;var A=32-Rr(c)+S;if(30<A){var T=S-S%5;A=(v&(1<<T)-1).toString(32),v>>=T,S-=T,Ei=1<<32-Rr(c)+S|h<<S|v,Ni=A+a}else Ei=1<<A|h<<S|v,Ni=a}function um(a){a.return!==null&&(qo(a,1),Mw(a,1,0))}function dm(a){for(;a===Yu;)Yu=Xa[--Za],Xa[Za]=null,Xu=Xa[--Za],Xa[Za]=null;for(;a===Ko;)Ko=gr[--vr],gr[vr]=null,Ni=gr[--vr],gr[vr]=null,Ei=gr[--vr],gr[vr]=null}var er=null,tr=null,Nt=!1,Fr=null;function Iw(a,c){var h=wr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=a,c=a.deletions,c===null?(a.deletions=[h],a.flags|=16):c.push(h)}function Rw(a,c){switch(a.tag){case 5:var h=a.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,er=a,tr=po(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,er=a,tr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ko!==null?{id:Ei,overflow:Ni}:null,a.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=wr(18,null,null,0),h.stateNode=c,h.return=a,a.child=h,er=a,tr=null,!0):!1;default:return!1}}function fm(a){return(a.mode&1)!==0&&(a.flags&128)===0}function pm(a){if(Nt){var c=tr;if(c){var h=c;if(!Rw(a,c)){if(fm(a))throw Error(n(418));c=po(h.nextSibling);var v=er;c&&Rw(a,c)?Iw(v,h):(a.flags=a.flags&-4097|2,Nt=!1,er=a)}}else{if(fm(a))throw Error(n(418));a.flags=a.flags&-4097|2,Nt=!1,er=a}}}function Lw(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;er=a}function Zu(a){if(a!==er)return!1;if(!Nt)return Lw(a),Nt=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!im(a.type,a.memoizedProps)),c&&(c=tr)){if(fm(a))throw Fw(),Error(n(418));for(;c;)Iw(a,c),c=po(c.nextSibling)}if(Lw(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(c===0){tr=po(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}a=a.nextSibling}tr=null}}else tr=er?po(a.stateNode.nextSibling):null;return!0}function Fw(){for(var a=tr;a;)a=po(a.nextSibling)}function Qa(){tr=er=null,Nt=!1}function hm(a){Fr===null?Fr=[a]:Fr.push(a)}var N5=N.ReactCurrentBatchConfig;function jl(a,c,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var v=h.stateNode}if(!v)throw Error(n(147,a));var S=v,A=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(T){var M=S.refs;T===null?delete M[A]:M[A]=T},c._stringRef=A,c)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function Qu(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function $w(a){var c=a._init;return c(a._payload)}function Bw(a){function c(H,V){if(a){var K=H.deletions;K===null?(H.deletions=[V],H.flags|=16):K.push(V)}}function h(H,V){if(!a)return null;for(;V!==null;)c(H,V),V=V.sibling;return null}function v(H,V){for(H=new Map;V!==null;)V.key!==null?H.set(V.key,V):H.set(V.index,V),V=V.sibling;return H}function S(H,V){return H=Co(H,V),H.index=0,H.sibling=null,H}function A(H,V,K){return H.index=K,a?(K=H.alternate,K!==null?(K=K.index,K<V?(H.flags|=2,V):K):(H.flags|=2,V)):(H.flags|=1048576,V)}function T(H){return a&&H.alternate===null&&(H.flags|=2),H}function M(H,V,K,he){return V===null||V.tag!==6?(V=og(K,H.mode,he),V.return=H,V):(V=S(V,K),V.return=H,V)}function $(H,V,K,he){var Te=K.type;return Te===_?se(H,V,K.props.children,he,K.key):V!==null&&(V.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===be&&$w(Te)===V.type)?(he=S(V,K.props),he.ref=jl(H,V,K),he.return=H,he):(he=Sd(K.type,K.key,K.props,null,H.mode,he),he.ref=jl(H,V,K),he.return=H,he)}function Z(H,V,K,he){return V===null||V.tag!==4||V.stateNode.containerInfo!==K.containerInfo||V.stateNode.implementation!==K.implementation?(V=ag(K,H.mode,he),V.return=H,V):(V=S(V,K.children||[]),V.return=H,V)}function se(H,V,K,he,Te){return V===null||V.tag!==7?(V=na(K,H.mode,he,Te),V.return=H,V):(V=S(V,K),V.return=H,V)}function ce(H,V,K){if(typeof V=="string"&&V!==""||typeof V=="number")return V=og(""+V,H.mode,K),V.return=H,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return K=Sd(V.type,V.key,V.props,null,H.mode,K),K.ref=jl(H,null,V),K.return=H,K;case O:return V=ag(V,H.mode,K),V.return=H,V;case be:var he=V._init;return ce(H,he(V._payload),K)}if(Dn(V)||re(V))return V=na(V,H.mode,K,null),V.return=H,V;Qu(H,V)}return null}function ae(H,V,K,he){var Te=V!==null?V.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Te!==null?null:M(H,V,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return K.key===Te?$(H,V,K,he):null;case O:return K.key===Te?Z(H,V,K,he):null;case be:return Te=K._init,ae(H,V,Te(K._payload),he)}if(Dn(K)||re(K))return Te!==null?null:se(H,V,K,he,null);Qu(H,K)}return null}function Se(H,V,K,he,Te){if(typeof he=="string"&&he!==""||typeof he=="number")return H=H.get(K)||null,M(V,H,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case j:return H=H.get(he.key===null?K:he.key)||null,$(V,H,he,Te);case O:return H=H.get(he.key===null?K:he.key)||null,Z(V,H,he,Te);case be:var Ie=he._init;return Se(H,V,K,Ie(he._payload),Te)}if(Dn(he)||re(he))return H=H.get(K)||null,se(V,H,he,Te,null);Qu(V,he)}return null}function Ee(H,V,K,he){for(var Te=null,Ie=null,Re=V,Ve=V=0,tn=null;Re!==null&&Ve<K.length;Ve++){Re.index>Ve?(tn=Re,Re=null):tn=Re.sibling;var it=ae(H,Re,K[Ve],he);if(it===null){Re===null&&(Re=tn);break}a&&Re&&it.alternate===null&&c(H,Re),V=A(it,V,Ve),Ie===null?Te=it:Ie.sibling=it,Ie=it,Re=tn}if(Ve===K.length)return h(H,Re),Nt&&qo(H,Ve),Te;if(Re===null){for(;Ve<K.length;Ve++)Re=ce(H,K[Ve],he),Re!==null&&(V=A(Re,V,Ve),Ie===null?Te=Re:Ie.sibling=Re,Ie=Re);return Nt&&qo(H,Ve),Te}for(Re=v(H,Re);Ve<K.length;Ve++)tn=Se(Re,H,Ve,K[Ve],he),tn!==null&&(a&&tn.alternate!==null&&Re.delete(tn.key===null?Ve:tn.key),V=A(tn,V,Ve),Ie===null?Te=tn:Ie.sibling=tn,Ie=tn);return a&&Re.forEach(function(Ao){return c(H,Ao)}),Nt&&qo(H,Ve),Te}function Oe(H,V,K,he){var Te=re(K);if(typeof Te!="function")throw Error(n(150));if(K=Te.call(K),K==null)throw Error(n(151));for(var Ie=Te=null,Re=V,Ve=V=0,tn=null,it=K.next();Re!==null&&!it.done;Ve++,it=K.next()){Re.index>Ve?(tn=Re,Re=null):tn=Re.sibling;var Ao=ae(H,Re,it.value,he);if(Ao===null){Re===null&&(Re=tn);break}a&&Re&&Ao.alternate===null&&c(H,Re),V=A(Ao,V,Ve),Ie===null?Te=Ao:Ie.sibling=Ao,Ie=Ao,Re=tn}if(it.done)return h(H,Re),Nt&&qo(H,Ve),Te;if(Re===null){for(;!it.done;Ve++,it=K.next())it=ce(H,it.value,he),it!==null&&(V=A(it,V,Ve),Ie===null?Te=it:Ie.sibling=it,Ie=it);return Nt&&qo(H,Ve),Te}for(Re=v(H,Re);!it.done;Ve++,it=K.next())it=Se(Re,H,Ve,it.value,he),it!==null&&(a&&it.alternate!==null&&Re.delete(it.key===null?Ve:it.key),V=A(it,V,Ve),Ie===null?Te=it:Ie.sibling=it,Ie=it);return a&&Re.forEach(function(s3){return c(H,s3)}),Nt&&qo(H,Ve),Te}function Wt(H,V,K,he){if(typeof K=="object"&&K!==null&&K.type===_&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case j:e:{for(var Te=K.key,Ie=V;Ie!==null;){if(Ie.key===Te){if(Te=K.type,Te===_){if(Ie.tag===7){h(H,Ie.sibling),V=S(Ie,K.props.children),V.return=H,H=V;break e}}else if(Ie.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===be&&$w(Te)===Ie.type){h(H,Ie.sibling),V=S(Ie,K.props),V.ref=jl(H,Ie,K),V.return=H,H=V;break e}h(H,Ie);break}else c(H,Ie);Ie=Ie.sibling}K.type===_?(V=na(K.props.children,H.mode,he,K.key),V.return=H,H=V):(he=Sd(K.type,K.key,K.props,null,H.mode,he),he.ref=jl(H,V,K),he.return=H,H=he)}return T(H);case O:e:{for(Ie=K.key;V!==null;){if(V.key===Ie)if(V.tag===4&&V.stateNode.containerInfo===K.containerInfo&&V.stateNode.implementation===K.implementation){h(H,V.sibling),V=S(V,K.children||[]),V.return=H,H=V;break e}else{h(H,V);break}else c(H,V);V=V.sibling}V=ag(K,H.mode,he),V.return=H,H=V}return T(H);case be:return Ie=K._init,Wt(H,V,Ie(K._payload),he)}if(Dn(K))return Ee(H,V,K,he);if(re(K))return Oe(H,V,K,he);Qu(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,V!==null&&V.tag===6?(h(H,V.sibling),V=S(V,K),V.return=H,H=V):(h(H,V),V=og(K,H.mode,he),V.return=H,H=V),T(H)):h(H,V)}return Wt}var Ja=Bw(!0),zw=Bw(!1),Ju=ho(null),ed=null,es=null,mm=null;function gm(){mm=es=ed=null}function vm(a){var c=Ju.current;Pt(Ju),a._currentValue=c}function ym(a,c,h){for(;a!==null;){var v=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),a===h)break;a=a.return}}function ts(a,c){ed=a,mm=es=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Vn=!0),a.firstContext=null)}function yr(a){var c=a._currentValue;if(mm!==a)if(a={context:a,memoizedValue:c,next:null},es===null){if(ed===null)throw Error(n(308));es=a,ed.dependencies={lanes:0,firstContext:a}}else es=es.next=a;return c}var Yo=null;function xm(a){Yo===null?Yo=[a]:Yo.push(a)}function Ww(a,c,h,v){var S=c.interleaved;return S===null?(h.next=h,xm(c)):(h.next=S.next,S.next=h),c.interleaved=h,Oi(a,v)}function Oi(a,c){a.lanes|=c;var h=a.alternate;for(h!==null&&(h.lanes|=c),h=a,a=a.return;a!==null;)a.childLanes|=c,h=a.alternate,h!==null&&(h.childLanes|=c),h=a,a=a.return;return h.tag===3?h.stateNode:null}var vo=!1;function bm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vw(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ji(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function yo(a,c,h){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(nt&2)!==0){var S=v.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),v.pending=c,Oi(a,h)}return S=v.interleaved,S===null?(c.next=c,xm(v)):(c.next=S.next,S.next=c),v.interleaved=c,Oi(a,h)}function td(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var v=c.lanes;v&=a.pendingLanes,h|=v,c.lanes=h,Mh(a,h)}}function Uw(a,c){var h=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var S=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var T={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};A===null?S=A=T:A=A.next=T,h=h.next}while(h!==null);A===null?S=A=c:A=A.next=c}else S=A=c;h={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:v.shared,effects:v.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}function nd(a,c,h,v){var S=a.updateQueue;vo=!1;var A=S.firstBaseUpdate,T=S.lastBaseUpdate,M=S.shared.pending;if(M!==null){S.shared.pending=null;var $=M,Z=$.next;$.next=null,T===null?A=Z:T.next=Z,T=$;var se=a.alternate;se!==null&&(se=se.updateQueue,M=se.lastBaseUpdate,M!==T&&(M===null?se.firstBaseUpdate=Z:M.next=Z,se.lastBaseUpdate=$))}if(A!==null){var ce=S.baseState;T=0,se=Z=$=null,M=A;do{var ae=M.lane,Se=M.eventTime;if((v&ae)===ae){se!==null&&(se=se.next={eventTime:Se,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ee=a,Oe=M;switch(ae=c,Se=h,Oe.tag){case 1:if(Ee=Oe.payload,typeof Ee=="function"){ce=Ee.call(Se,ce,ae);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Oe.payload,ae=typeof Ee=="function"?Ee.call(Se,ce,ae):Ee,ae==null)break e;ce=te({},ce,ae);break e;case 2:vo=!0}}M.callback!==null&&M.lane!==0&&(a.flags|=64,ae=S.effects,ae===null?S.effects=[M]:ae.push(M))}else Se={eventTime:Se,lane:ae,tag:M.tag,payload:M.payload,callback:M.callback,next:null},se===null?(Z=se=Se,$=ce):se=se.next=Se,T|=ae;if(M=M.next,M===null){if(M=S.shared.pending,M===null)break;ae=M,M=ae.next,ae.next=null,S.lastBaseUpdate=ae,S.shared.pending=null}}while(!0);if(se===null&&($=ce),S.baseState=$,S.firstBaseUpdate=Z,S.lastBaseUpdate=se,c=S.shared.interleaved,c!==null){S=c;do T|=S.lane,S=S.next;while(S!==c)}else A===null&&(S.shared.lanes=0);Qo|=T,a.lanes=T,a.memoizedState=ce}}function Hw(a,c,h){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var v=a[c],S=v.callback;if(S!==null){if(v.callback=null,v=h,typeof S!="function")throw Error(n(191,S));S.call(v)}}}var Tl={},ni=ho(Tl),_l=ho(Tl),Dl=ho(Tl);function Xo(a){if(a===Tl)throw Error(n(174));return a}function wm(a,c){switch(yt(Dl,c),yt(_l,a),yt(ni,Tl),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Ue(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Ue(c,a)}Pt(ni),yt(ni,c)}function ns(){Pt(ni),Pt(_l),Pt(Dl)}function Gw(a){Xo(Dl.current);var c=Xo(ni.current),h=Ue(c,a.type);c!==h&&(yt(_l,a),yt(ni,h))}function Sm(a){_l.current===a&&(Pt(ni),Pt(_l))}var Dt=ho(0);function rd(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Pm=[];function Cm(){for(var a=0;a<Pm.length;a++)Pm[a]._workInProgressVersionPrimary=null;Pm.length=0}var id=N.ReactCurrentDispatcher,Am=N.ReactCurrentBatchConfig,Zo=0,Mt=null,qt=null,Jt=null,od=!1,Ml=!1,Il=0,O5=0;function An(){throw Error(n(321))}function km(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!Lr(a[h],c[h]))return!1;return!0}function Em(a,c,h,v,S,A){if(Zo=A,Mt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,id.current=a===null||a.memoizedState===null?D5:M5,a=h(v,S),Ml){A=0;do{if(Ml=!1,Il=0,25<=A)throw Error(n(301));A+=1,Jt=qt=null,c.updateQueue=null,id.current=I5,a=h(v,S)}while(Ml)}if(id.current=ld,c=qt!==null&&qt.next!==null,Zo=0,Jt=qt=Mt=null,od=!1,c)throw Error(n(300));return a}function Nm(){var a=Il!==0;return Il=0,a}function ri(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Mt.memoizedState=Jt=a:Jt=Jt.next=a,Jt}function xr(){if(qt===null){var a=Mt.alternate;a=a!==null?a.memoizedState:null}else a=qt.next;var c=Jt===null?Mt.memoizedState:Jt.next;if(c!==null)Jt=c,qt=a;else{if(a===null)throw Error(n(310));qt=a,a={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Jt===null?Mt.memoizedState=Jt=a:Jt=Jt.next=a}return Jt}function Rl(a,c){return typeof c=="function"?c(a):c}function Om(a){var c=xr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var v=qt,S=v.baseQueue,A=h.pending;if(A!==null){if(S!==null){var T=S.next;S.next=A.next,A.next=T}v.baseQueue=S=A,h.pending=null}if(S!==null){A=S.next,v=v.baseState;var M=T=null,$=null,Z=A;do{var se=Z.lane;if((Zo&se)===se)$!==null&&($=$.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),v=Z.hasEagerState?Z.eagerState:a(v,Z.action);else{var ce={lane:se,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};$===null?(M=$=ce,T=v):$=$.next=ce,Mt.lanes|=se,Qo|=se}Z=Z.next}while(Z!==null&&Z!==A);$===null?T=v:$.next=M,Lr(v,c.memoizedState)||(Vn=!0),c.memoizedState=v,c.baseState=T,c.baseQueue=$,h.lastRenderedState=v}if(a=h.interleaved,a!==null){S=a;do A=S.lane,Mt.lanes|=A,Qo|=A,S=S.next;while(S!==a)}else S===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function jm(a){var c=xr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var v=h.dispatch,S=h.pending,A=c.memoizedState;if(S!==null){h.pending=null;var T=S=S.next;do A=a(A,T.action),T=T.next;while(T!==S);Lr(A,c.memoizedState)||(Vn=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),h.lastRenderedState=A}return[A,v]}function Kw(){}function qw(a,c){var h=Mt,v=xr(),S=c(),A=!Lr(v.memoizedState,S);if(A&&(v.memoizedState=S,Vn=!0),v=v.queue,Tm(Zw.bind(null,h,v,a),[a]),v.getSnapshot!==c||A||Jt!==null&&Jt.memoizedState.tag&1){if(h.flags|=2048,Ll(9,Xw.bind(null,h,v,S,c),void 0,null),en===null)throw Error(n(349));(Zo&30)!==0||Yw(h,c,S)}return S}function Yw(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=Mt.updateQueue,c===null?(c={lastEffect:null,stores:null},Mt.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function Xw(a,c,h,v){c.value=h,c.getSnapshot=v,Qw(c)&&Jw(a)}function Zw(a,c,h){return h(function(){Qw(c)&&Jw(a)})}function Qw(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!Lr(a,h)}catch{return!0}}function Jw(a){var c=Oi(a,1);c!==null&&Wr(c,a,1,-1)}function eS(a){var c=ri();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:a},c.queue=a,a=a.dispatch=_5.bind(null,Mt,a),[c.memoizedState,a]}function Ll(a,c,h,v){return a={tag:a,create:c,destroy:h,deps:v,next:null},c=Mt.updateQueue,c===null?(c={lastEffect:null,stores:null},Mt.updateQueue=c,c.lastEffect=a.next=a):(h=c.lastEffect,h===null?c.lastEffect=a.next=a:(v=h.next,h.next=a,a.next=v,c.lastEffect=a)),a}function tS(){return xr().memoizedState}function ad(a,c,h,v){var S=ri();Mt.flags|=a,S.memoizedState=Ll(1|c,h,void 0,v===void 0?null:v)}function sd(a,c,h,v){var S=xr();v=v===void 0?null:v;var A=void 0;if(qt!==null){var T=qt.memoizedState;if(A=T.destroy,v!==null&&km(v,T.deps)){S.memoizedState=Ll(c,h,A,v);return}}Mt.flags|=a,S.memoizedState=Ll(1|c,h,A,v)}function nS(a,c){return ad(8390656,8,a,c)}function Tm(a,c){return sd(2048,8,a,c)}function rS(a,c){return sd(4,2,a,c)}function iS(a,c){return sd(4,4,a,c)}function oS(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function aS(a,c,h){return h=h!=null?h.concat([a]):null,sd(4,4,oS.bind(null,c,a),h)}function _m(){}function sS(a,c){var h=xr();c=c===void 0?null:c;var v=h.memoizedState;return v!==null&&c!==null&&km(c,v[1])?v[0]:(h.memoizedState=[a,c],a)}function lS(a,c){var h=xr();c=c===void 0?null:c;var v=h.memoizedState;return v!==null&&c!==null&&km(c,v[1])?v[0]:(a=a(),h.memoizedState=[a,c],a)}function cS(a,c,h){return(Zo&21)===0?(a.baseState&&(a.baseState=!1,Vn=!0),a.memoizedState=h):(Lr(h,c)||(h=$1(),Mt.lanes|=h,Qo|=h,a.baseState=!0),c)}function j5(a,c){var h=ut;ut=h!==0&&4>h?h:4,a(!0);var v=Am.transition;Am.transition={};try{a(!1),c()}finally{ut=h,Am.transition=v}}function uS(){return xr().memoizedState}function T5(a,c,h){var v=So(a);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},dS(a))fS(c,h);else if(h=Ww(a,c,h,v),h!==null){var S=In();Wr(h,a,v,S),pS(h,c,v)}}function _5(a,c,h){var v=So(a),S={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(dS(a))fS(c,S);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var T=c.lastRenderedState,M=A(T,h);if(S.hasEagerState=!0,S.eagerState=M,Lr(M,T)){var $=c.interleaved;$===null?(S.next=S,xm(c)):(S.next=$.next,$.next=S),c.interleaved=S;return}}catch{}h=Ww(a,c,S,v),h!==null&&(S=In(),Wr(h,a,v,S),pS(h,c,v))}}function dS(a){var c=a.alternate;return a===Mt||c!==null&&c===Mt}function fS(a,c){Ml=od=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function pS(a,c,h){if((h&4194240)!==0){var v=c.lanes;v&=a.pendingLanes,h|=v,c.lanes=h,Mh(a,h)}}var ld={readContext:yr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},D5={readContext:yr,useCallback:function(a,c){return ri().memoizedState=[a,c===void 0?null:c],a},useContext:yr,useEffect:nS,useImperativeHandle:function(a,c,h){return h=h!=null?h.concat([a]):null,ad(4194308,4,oS.bind(null,c,a),h)},useLayoutEffect:function(a,c){return ad(4194308,4,a,c)},useInsertionEffect:function(a,c){return ad(4,2,a,c)},useMemo:function(a,c){var h=ri();return c=c===void 0?null:c,a=a(),h.memoizedState=[a,c],a},useReducer:function(a,c,h){var v=ri();return c=h!==void 0?h(c):c,v.memoizedState=v.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},v.queue=a,a=a.dispatch=T5.bind(null,Mt,a),[v.memoizedState,a]},useRef:function(a){var c=ri();return a={current:a},c.memoizedState=a},useState:eS,useDebugValue:_m,useDeferredValue:function(a){return ri().memoizedState=a},useTransition:function(){var a=eS(!1),c=a[0];return a=j5.bind(null,a[1]),ri().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,h){var v=Mt,S=ri();if(Nt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),en===null)throw Error(n(349));(Zo&30)!==0||Yw(v,c,h)}S.memoizedState=h;var A={value:h,getSnapshot:c};return S.queue=A,nS(Zw.bind(null,v,A,a),[a]),v.flags|=2048,Ll(9,Xw.bind(null,v,A,h,c),void 0,null),h},useId:function(){var a=ri(),c=en.identifierPrefix;if(Nt){var h=Ni,v=Ei;h=(v&~(1<<32-Rr(v)-1)).toString(32)+h,c=":"+c+"R"+h,h=Il++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=O5++,c=":"+c+"r"+h.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},M5={readContext:yr,useCallback:sS,useContext:yr,useEffect:Tm,useImperativeHandle:aS,useInsertionEffect:rS,useLayoutEffect:iS,useMemo:lS,useReducer:Om,useRef:tS,useState:function(){return Om(Rl)},useDebugValue:_m,useDeferredValue:function(a){var c=xr();return cS(c,qt.memoizedState,a)},useTransition:function(){var a=Om(Rl)[0],c=xr().memoizedState;return[a,c]},useMutableSource:Kw,useSyncExternalStore:qw,useId:uS,unstable_isNewReconciler:!1},I5={readContext:yr,useCallback:sS,useContext:yr,useEffect:Tm,useImperativeHandle:aS,useInsertionEffect:rS,useLayoutEffect:iS,useMemo:lS,useReducer:jm,useRef:tS,useState:function(){return jm(Rl)},useDebugValue:_m,useDeferredValue:function(a){var c=xr();return qt===null?c.memoizedState=a:cS(c,qt.memoizedState,a)},useTransition:function(){var a=jm(Rl)[0],c=xr().memoizedState;return[a,c]},useMutableSource:Kw,useSyncExternalStore:qw,useId:uS,unstable_isNewReconciler:!1};function $r(a,c){if(a&&a.defaultProps){c=te({},c),a=a.defaultProps;for(var h in a)c[h]===void 0&&(c[h]=a[h]);return c}return c}function Dm(a,c,h,v){c=a.memoizedState,h=h(v,c),h=h==null?c:te({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var cd={isMounted:function(a){return(a=a._reactInternals)?qe(a)===a:!1},enqueueSetState:function(a,c,h){a=a._reactInternals;var v=In(),S=So(a),A=ji(v,S);A.payload=c,h!=null&&(A.callback=h),c=yo(a,A,S),c!==null&&(Wr(c,a,S,v),td(c,a,S))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var v=In(),S=So(a),A=ji(v,S);A.tag=1,A.payload=c,h!=null&&(A.callback=h),c=yo(a,A,S),c!==null&&(Wr(c,a,S,v),td(c,a,S))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=In(),v=So(a),S=ji(h,v);S.tag=2,c!=null&&(S.callback=c),c=yo(a,S,v),c!==null&&(Wr(c,a,v,h),td(c,a,v))}};function hS(a,c,h,v,S,A,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,A,T):c.prototype&&c.prototype.isPureReactComponent?!Pl(h,v)||!Pl(S,A):!0}function mS(a,c,h){var v=!1,S=mo,A=c.contextType;return typeof A=="object"&&A!==null?A=yr(A):(S=Wn(c)?Go:Cn.current,v=c.contextTypes,A=(v=v!=null)?Ya(a,S):mo),c=new c(h,A),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=cd,a.stateNode=c,c._reactInternals=a,v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=S,a.__reactInternalMemoizedMaskedChildContext=A),c}function gS(a,c,h,v){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,v),c.state!==a&&cd.enqueueReplaceState(c,c.state,null)}function Mm(a,c,h,v){var S=a.stateNode;S.props=h,S.state=a.memoizedState,S.refs={},bm(a);var A=c.contextType;typeof A=="object"&&A!==null?S.context=yr(A):(A=Wn(c)?Go:Cn.current,S.context=Ya(a,A)),S.state=a.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Dm(a,c,A,h),S.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(c=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),c!==S.state&&cd.enqueueReplaceState(S,S.state,null),nd(a,h,S,v),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308)}function rs(a,c){try{var h="",v=c;do h+=de(v),v=v.return;while(v);var S=h}catch(A){S=`
Error generating stack: `+A.message+`
`+A.stack}return{value:a,source:c,stack:S,digest:null}}function Im(a,c,h){return{value:a,source:null,stack:h??null,digest:c??null}}function Rm(a,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var R5=typeof WeakMap=="function"?WeakMap:Map;function vS(a,c,h){h=ji(-1,h),h.tag=3,h.payload={element:null};var v=c.value;return h.callback=function(){gd||(gd=!0,Zm=v),Rm(a,c)},h}function yS(a,c,h){h=ji(-1,h),h.tag=3;var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var S=c.value;h.payload=function(){return v(S)},h.callback=function(){Rm(a,c)}}var A=a.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(h.callback=function(){Rm(a,c),typeof v!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})}),h}function xS(a,c,h){var v=a.pingCache;if(v===null){v=a.pingCache=new R5;var S=new Set;v.set(c,S)}else S=v.get(c),S===void 0&&(S=new Set,v.set(c,S));S.has(h)||(S.add(h),a=X5.bind(null,a,c,h),c.then(a,a))}function bS(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function wS(a,c,h,v,S){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=ji(-1,1),c.tag=2,yo(h,c,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=S,a)}var L5=N.ReactCurrentOwner,Vn=!1;function Mn(a,c,h,v){c.child=a===null?zw(c,null,h,v):Ja(c,a.child,h,v)}function SS(a,c,h,v,S){h=h.render;var A=c.ref;return ts(c,S),v=Em(a,c,h,v,A,S),h=Nm(),a!==null&&!Vn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~S,Ti(a,c,S)):(Nt&&h&&um(c),c.flags|=1,Mn(a,c,v,S),c.child)}function PS(a,c,h,v,S){if(a===null){var A=h.type;return typeof A=="function"&&!ig(A)&&A.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=A,CS(a,c,A,v,S)):(a=Sd(h.type,null,v,c,c.mode,S),a.ref=c.ref,a.return=c,c.child=a)}if(A=a.child,(a.lanes&S)===0){var T=A.memoizedProps;if(h=h.compare,h=h!==null?h:Pl,h(T,v)&&a.ref===c.ref)return Ti(a,c,S)}return c.flags|=1,a=Co(A,v),a.ref=c.ref,a.return=c,c.child=a}function CS(a,c,h,v,S){if(a!==null){var A=a.memoizedProps;if(Pl(A,v)&&a.ref===c.ref)if(Vn=!1,c.pendingProps=v=A,(a.lanes&S)!==0)(a.flags&131072)!==0&&(Vn=!0);else return c.lanes=a.lanes,Ti(a,c,S)}return Lm(a,c,h,v,S)}function AS(a,c,h){var v=c.pendingProps,S=v.children,A=a!==null?a.memoizedState:null;if(v.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(os,nr),nr|=h;else{if((h&1073741824)===0)return a=A!==null?A.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,yt(os,nr),nr|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=A!==null?A.baseLanes:h,yt(os,nr),nr|=v}else A!==null?(v=A.baseLanes|h,c.memoizedState=null):v=h,yt(os,nr),nr|=v;return Mn(a,c,S,h),c.child}function kS(a,c){var h=c.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Lm(a,c,h,v,S){var A=Wn(h)?Go:Cn.current;return A=Ya(c,A),ts(c,S),h=Em(a,c,h,v,A,S),v=Nm(),a!==null&&!Vn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~S,Ti(a,c,S)):(Nt&&v&&um(c),c.flags|=1,Mn(a,c,h,S),c.child)}function ES(a,c,h,v,S){if(Wn(h)){var A=!0;Ku(c)}else A=!1;if(ts(c,S),c.stateNode===null)dd(a,c),mS(c,h,v),Mm(c,h,v,S),v=!0;else if(a===null){var T=c.stateNode,M=c.memoizedProps;T.props=M;var $=T.context,Z=h.contextType;typeof Z=="object"&&Z!==null?Z=yr(Z):(Z=Wn(h)?Go:Cn.current,Z=Ya(c,Z));var se=h.getDerivedStateFromProps,ce=typeof se=="function"||typeof T.getSnapshotBeforeUpdate=="function";ce||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==v||$!==Z)&&gS(c,T,v,Z),vo=!1;var ae=c.memoizedState;T.state=ae,nd(c,v,T,S),$=c.memoizedState,M!==v||ae!==$||zn.current||vo?(typeof se=="function"&&(Dm(c,h,se,v),$=c.memoizedState),(M=vo||hS(c,h,M,v,ae,$,Z))?(ce||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=$),T.props=v,T.state=$,T.context=Z,v=M):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{T=c.stateNode,Vw(a,c),M=c.memoizedProps,Z=c.type===c.elementType?M:$r(c.type,M),T.props=Z,ce=c.pendingProps,ae=T.context,$=h.contextType,typeof $=="object"&&$!==null?$=yr($):($=Wn(h)?Go:Cn.current,$=Ya(c,$));var Se=h.getDerivedStateFromProps;(se=typeof Se=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==ce||ae!==$)&&gS(c,T,v,$),vo=!1,ae=c.memoizedState,T.state=ae,nd(c,v,T,S);var Ee=c.memoizedState;M!==ce||ae!==Ee||zn.current||vo?(typeof Se=="function"&&(Dm(c,h,Se,v),Ee=c.memoizedState),(Z=vo||hS(c,h,Z,v,ae,Ee,$)||!1)?(se||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,Ee,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,Ee,$)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||M===a.memoizedProps&&ae===a.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&ae===a.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Ee),T.props=v,T.state=Ee,T.context=$,v=Z):(typeof T.componentDidUpdate!="function"||M===a.memoizedProps&&ae===a.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&ae===a.memoizedState||(c.flags|=1024),v=!1)}return Fm(a,c,h,v,A,S)}function Fm(a,c,h,v,S,A){kS(a,c);var T=(c.flags&128)!==0;if(!v&&!T)return S&&_w(c,h,!1),Ti(a,c,A);v=c.stateNode,L5.current=c;var M=T&&typeof h.getDerivedStateFromError!="function"?null:v.render();return c.flags|=1,a!==null&&T?(c.child=Ja(c,a.child,null,A),c.child=Ja(c,null,M,A)):Mn(a,c,M,A),c.memoizedState=v.state,S&&_w(c,h,!0),c.child}function NS(a){var c=a.stateNode;c.pendingContext?jw(a,c.pendingContext,c.pendingContext!==c.context):c.context&&jw(a,c.context,!1),wm(a,c.containerInfo)}function OS(a,c,h,v,S){return Qa(),hm(S),c.flags|=256,Mn(a,c,h,v),c.child}var $m={dehydrated:null,treeContext:null,retryLane:0};function Bm(a){return{baseLanes:a,cachePool:null,transitions:null}}function jS(a,c,h){var v=c.pendingProps,S=Dt.current,A=!1,T=(c.flags&128)!==0,M;if((M=T)||(M=a!==null&&a.memoizedState===null?!1:(S&2)!==0),M?(A=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(S|=1),yt(Dt,S&1),a===null)return pm(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(T=v.children,a=v.fallback,A?(v=c.mode,A=c.child,T={mode:"hidden",children:T},(v&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=T):A=Pd(T,v,0,null),a=na(a,v,h,null),A.return=c,a.return=c,A.sibling=a,c.child=A,c.child.memoizedState=Bm(h),c.memoizedState=$m,a):zm(c,T));if(S=a.memoizedState,S!==null&&(M=S.dehydrated,M!==null))return F5(a,c,T,v,M,S,h);if(A){A=v.fallback,T=c.mode,S=a.child,M=S.sibling;var $={mode:"hidden",children:v.children};return(T&1)===0&&c.child!==S?(v=c.child,v.childLanes=0,v.pendingProps=$,c.deletions=null):(v=Co(S,$),v.subtreeFlags=S.subtreeFlags&14680064),M!==null?A=Co(M,A):(A=na(A,T,h,null),A.flags|=2),A.return=c,v.return=c,v.sibling=A,c.child=v,v=A,A=c.child,T=a.child.memoizedState,T=T===null?Bm(h):{baseLanes:T.baseLanes|h,cachePool:null,transitions:T.transitions},A.memoizedState=T,A.childLanes=a.childLanes&~h,c.memoizedState=$m,v}return A=a.child,a=A.sibling,v=Co(A,{mode:"visible",children:v.children}),(c.mode&1)===0&&(v.lanes=h),v.return=c,v.sibling=null,a!==null&&(h=c.deletions,h===null?(c.deletions=[a],c.flags|=16):h.push(a)),c.child=v,c.memoizedState=null,v}function zm(a,c){return c=Pd({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function ud(a,c,h,v){return v!==null&&hm(v),Ja(c,a.child,null,h),a=zm(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function F5(a,c,h,v,S,A,T){if(h)return c.flags&256?(c.flags&=-257,v=Im(Error(n(422))),ud(a,c,T,v)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(A=v.fallback,S=c.mode,v=Pd({mode:"visible",children:v.children},S,0,null),A=na(A,S,T,null),A.flags|=2,v.return=c,A.return=c,v.sibling=A,c.child=v,(c.mode&1)!==0&&Ja(c,a.child,null,T),c.child.memoizedState=Bm(T),c.memoizedState=$m,A);if((c.mode&1)===0)return ud(a,c,T,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var M=v.dgst;return v=M,A=Error(n(419)),v=Im(A,v,void 0),ud(a,c,T,v)}if(M=(T&a.childLanes)!==0,Vn||M){if(v=en,v!==null){switch(T&-T){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|T))!==0?0:S,S!==0&&S!==A.retryLane&&(A.retryLane=S,Oi(a,S),Wr(v,a,S,-1))}return rg(),v=Im(Error(n(421))),ud(a,c,T,v)}return S.data==="$?"?(c.flags|=128,c.child=a.child,c=Z5.bind(null,a),S._reactRetry=c,null):(a=A.treeContext,tr=po(S.nextSibling),er=c,Nt=!0,Fr=null,a!==null&&(gr[vr++]=Ei,gr[vr++]=Ni,gr[vr++]=Ko,Ei=a.id,Ni=a.overflow,Ko=c),c=zm(c,v.children),c.flags|=4096,c)}function TS(a,c,h){a.lanes|=c;var v=a.alternate;v!==null&&(v.lanes|=c),ym(a.return,c,h)}function Wm(a,c,h,v,S){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:S}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=v,A.tail=h,A.tailMode=S)}function _S(a,c,h){var v=c.pendingProps,S=v.revealOrder,A=v.tail;if(Mn(a,c,v.children,h),v=Dt.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&TS(a,h,c);else if(a.tag===19)TS(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}if(yt(Dt,v),(c.mode&1)===0)c.memoizedState=null;else switch(S){case"forwards":for(h=c.child,S=null;h!==null;)a=h.alternate,a!==null&&rd(a)===null&&(S=h),h=h.sibling;h=S,h===null?(S=c.child,c.child=null):(S=h.sibling,h.sibling=null),Wm(c,!1,S,h,A);break;case"backwards":for(h=null,S=c.child,c.child=null;S!==null;){if(a=S.alternate,a!==null&&rd(a)===null){c.child=S;break}a=S.sibling,S.sibling=h,h=S,S=a}Wm(c,!0,h,null,A);break;case"together":Wm(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function dd(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Ti(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),Qo|=c.lanes,(h&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,h=Co(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=Co(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function $5(a,c,h){switch(c.tag){case 3:NS(c),Qa();break;case 5:Gw(c);break;case 1:Wn(c.type)&&Ku(c);break;case 4:wm(c,c.stateNode.containerInfo);break;case 10:var v=c.type._context,S=c.memoizedProps.value;yt(Ju,v._currentValue),v._currentValue=S;break;case 13:if(v=c.memoizedState,v!==null)return v.dehydrated!==null?(yt(Dt,Dt.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?jS(a,c,h):(yt(Dt,Dt.current&1),a=Ti(a,c,h),a!==null?a.sibling:null);yt(Dt,Dt.current&1);break;case 19:if(v=(h&c.childLanes)!==0,(a.flags&128)!==0){if(v)return _S(a,c,h);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),yt(Dt,Dt.current),v)break;return null;case 22:case 23:return c.lanes=0,AS(a,c,h)}return Ti(a,c,h)}var DS,Vm,MS,IS;DS=function(a,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Vm=function(){},MS=function(a,c,h,v){var S=a.memoizedProps;if(S!==v){a=c.stateNode,Xo(ni.current);var A=null;switch(h){case"input":S=we(a,S),v=we(a,v),A=[];break;case"select":S=te({},S,{value:void 0}),v=te({},v,{value:void 0}),A=[];break;case"textarea":S=at(a,S),v=at(a,v),A=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(a.onclick=Uu)}Ra(h,v);var T;h=null;for(Z in S)if(!v.hasOwnProperty(Z)&&S.hasOwnProperty(Z)&&S[Z]!=null)if(Z==="style"){var M=S[Z];for(T in M)M.hasOwnProperty(T)&&(h||(h={}),h[T]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?A||(A=[]):(A=A||[]).push(Z,null));for(Z in v){var $=v[Z];if(M=S?.[Z],v.hasOwnProperty(Z)&&$!==M&&($!=null||M!=null))if(Z==="style")if(M){for(T in M)!M.hasOwnProperty(T)||$&&$.hasOwnProperty(T)||(h||(h={}),h[T]="");for(T in $)$.hasOwnProperty(T)&&M[T]!==$[T]&&(h||(h={}),h[T]=$[T])}else h||(A||(A=[]),A.push(Z,h)),h=$;else Z==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,M=M?M.__html:void 0,$!=null&&M!==$&&(A=A||[]).push(Z,$)):Z==="children"?typeof $!="string"&&typeof $!="number"||(A=A||[]).push(Z,""+$):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?($!=null&&Z==="onScroll"&&St("scroll",a),A||M===$||(A=[])):(A=A||[]).push(Z,$))}h&&(A=A||[]).push("style",h);var Z=A;(c.updateQueue=Z)&&(c.flags|=4)}},IS=function(a,c,h,v){h!==v&&(c.flags|=4)};function Fl(a,c){if(!Nt)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function kn(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,v=0;if(c)for(var S=a.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=v,a.childLanes=h,c}function B5(a,c,h){var v=c.pendingProps;switch(dm(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(c),null;case 1:return Wn(c.type)&&Gu(),kn(c),null;case 3:return v=c.stateNode,ns(),Pt(zn),Pt(Cn),Cm(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(a===null||a.child===null)&&(Zu(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Fr!==null&&(eg(Fr),Fr=null))),Vm(a,c),kn(c),null;case 5:Sm(c);var S=Xo(Dl.current);if(h=c.type,a!==null&&c.stateNode!=null)MS(a,c,h,v,S),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!v){if(c.stateNode===null)throw Error(n(166));return kn(c),null}if(a=Xo(ni.current),Zu(c)){v=c.stateNode,h=c.type;var A=c.memoizedProps;switch(v[ti]=c,v[Nl]=A,a=(c.mode&1)!==0,h){case"dialog":St("cancel",v),St("close",v);break;case"iframe":case"object":case"embed":St("load",v);break;case"video":case"audio":for(S=0;S<Al.length;S++)St(Al[S],v);break;case"source":St("error",v);break;case"img":case"image":case"link":St("error",v),St("load",v);break;case"details":St("toggle",v);break;case"input":Ye(v,A),St("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!A.multiple},St("invalid",v);break;case"textarea":lt(v,A),St("invalid",v)}Ra(h,A),S=null;for(var T in A)if(A.hasOwnProperty(T)){var M=A[T];T==="children"?typeof M=="string"?v.textContent!==M&&(A.suppressHydrationWarning!==!0&&Vu(v.textContent,M,a),S=["children",M]):typeof M=="number"&&v.textContent!==""+M&&(A.suppressHydrationWarning!==!0&&Vu(v.textContent,M,a),S=["children",""+M]):i.hasOwnProperty(T)&&M!=null&&T==="onScroll"&&St("scroll",v)}switch(h){case"input":pe(v),vt(v,A,!0);break;case"textarea":pe(v),le(v);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(v.onclick=Uu)}v=S,c.updateQueue=v,v!==null&&(c.flags|=4)}else{T=S.nodeType===9?S:S.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Me(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=T.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof v.is=="string"?a=T.createElement(h,{is:v.is}):(a=T.createElement(h),h==="select"&&(T=a,v.multiple?T.multiple=!0:v.size&&(T.size=v.size))):a=T.createElementNS(a,h),a[ti]=c,a[Nl]=v,DS(a,c,!1,!1),c.stateNode=a;e:{switch(T=La(h,v),h){case"dialog":St("cancel",a),St("close",a),S=v;break;case"iframe":case"object":case"embed":St("load",a),S=v;break;case"video":case"audio":for(S=0;S<Al.length;S++)St(Al[S],a);S=v;break;case"source":St("error",a),S=v;break;case"img":case"image":case"link":St("error",a),St("load",a),S=v;break;case"details":St("toggle",a),S=v;break;case"input":Ye(a,v),S=we(a,v),St("invalid",a);break;case"option":S=v;break;case"select":a._wrapperState={wasMultiple:!!v.multiple},S=te({},v,{value:void 0}),St("invalid",a);break;case"textarea":lt(a,v),S=at(a,v),St("invalid",a);break;default:S=v}Ra(h,S),M=S;for(A in M)if(M.hasOwnProperty(A)){var $=M[A];A==="style"?Zn(a,$):A==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Ut(a,$)):A==="children"?typeof $=="string"?(h!=="textarea"||$!=="")&&Et(a,$):typeof $=="number"&&Et(a,""+$):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?$!=null&&A==="onScroll"&&St("scroll",a):$!=null&&E(a,A,$,T))}switch(h){case"input":pe(a),vt(a,v,!1);break;case"textarea":pe(a),le(a);break;case"option":v.value!=null&&a.setAttribute("value",""+ee(v.value));break;case"select":a.multiple=!!v.multiple,A=v.value,A!=null?xe(a,!!v.multiple,A,!1):v.defaultValue!=null&&xe(a,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(a.onclick=Uu)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return kn(c),null;case 6:if(a&&c.stateNode!=null)IS(a,c,a.memoizedProps,v);else{if(typeof v!="string"&&c.stateNode===null)throw Error(n(166));if(h=Xo(Dl.current),Xo(ni.current),Zu(c)){if(v=c.stateNode,h=c.memoizedProps,v[ti]=c,(A=v.nodeValue!==h)&&(a=er,a!==null))switch(a.tag){case 3:Vu(v.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Vu(v.nodeValue,h,(a.mode&1)!==0)}A&&(c.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[ti]=c,c.stateNode=v}return kn(c),null;case 13:if(Pt(Dt),v=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Nt&&tr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Fw(),Qa(),c.flags|=98560,A=!1;else if(A=Zu(c),v!==null&&v.dehydrated!==null){if(a===null){if(!A)throw Error(n(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[ti]=c}else Qa(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;kn(c),A=!1}else Fr!==null&&(eg(Fr),Fr=null),A=!0;if(!A)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(v=v!==null,v!==(a!==null&&a.memoizedState!==null)&&v&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(Dt.current&1)!==0?Yt===0&&(Yt=3):rg())),c.updateQueue!==null&&(c.flags|=4),kn(c),null);case 4:return ns(),Vm(a,c),a===null&&kl(c.stateNode.containerInfo),kn(c),null;case 10:return vm(c.type._context),kn(c),null;case 17:return Wn(c.type)&&Gu(),kn(c),null;case 19:if(Pt(Dt),A=c.memoizedState,A===null)return kn(c),null;if(v=(c.flags&128)!==0,T=A.rendering,T===null)if(v)Fl(A,!1);else{if(Yt!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(T=rd(a),T!==null){for(c.flags|=128,Fl(A,!1),v=T.updateQueue,v!==null&&(c.updateQueue=v,c.flags|=4),c.subtreeFlags=0,v=h,h=c.child;h!==null;)A=h,a=v,A.flags&=14680066,T=A.alternate,T===null?(A.childLanes=0,A.lanes=a,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=T.childLanes,A.lanes=T.lanes,A.child=T.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=T.memoizedProps,A.memoizedState=T.memoizedState,A.updateQueue=T.updateQueue,A.type=T.type,a=T.dependencies,A.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return yt(Dt,Dt.current&1|2),c.child}a=a.sibling}A.tail!==null&&zt()>as&&(c.flags|=128,v=!0,Fl(A,!1),c.lanes=4194304)}else{if(!v)if(a=rd(T),a!==null){if(c.flags|=128,v=!0,h=a.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Fl(A,!0),A.tail===null&&A.tailMode==="hidden"&&!T.alternate&&!Nt)return kn(c),null}else 2*zt()-A.renderingStartTime>as&&h!==1073741824&&(c.flags|=128,v=!0,Fl(A,!1),c.lanes=4194304);A.isBackwards?(T.sibling=c.child,c.child=T):(h=A.last,h!==null?h.sibling=T:c.child=T,A.last=T)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=zt(),c.sibling=null,h=Dt.current,yt(Dt,v?h&1|2:h&1),c):(kn(c),null);case 22:case 23:return ng(),v=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==v&&(c.flags|=8192),v&&(c.mode&1)!==0?(nr&1073741824)!==0&&(kn(c),c.subtreeFlags&6&&(c.flags|=8192)):kn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function z5(a,c){switch(dm(c),c.tag){case 1:return Wn(c.type)&&Gu(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return ns(),Pt(zn),Pt(Cn),Cm(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return Sm(c),null;case 13:if(Pt(Dt),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Qa()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Pt(Dt),null;case 4:return ns(),null;case 10:return vm(c.type._context),null;case 22:case 23:return ng(),null;case 24:return null;default:return null}}var fd=!1,En=!1,W5=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function is(a,c){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){Lt(a,c,v)}else h.current=null}function Um(a,c,h){try{h()}catch(v){Lt(a,c,v)}}var RS=!1;function V5(a,c){if(nm=_u,a=hw(),qh(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var S=v.anchorOffset,A=v.focusNode;v=v.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var T=0,M=-1,$=-1,Z=0,se=0,ce=a,ae=null;t:for(;;){for(var Se;ce!==h||S!==0&&ce.nodeType!==3||(M=T+S),ce!==A||v!==0&&ce.nodeType!==3||($=T+v),ce.nodeType===3&&(T+=ce.nodeValue.length),(Se=ce.firstChild)!==null;)ae=ce,ce=Se;for(;;){if(ce===a)break t;if(ae===h&&++Z===S&&(M=T),ae===A&&++se===v&&($=T),(Se=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=Se}h=M===-1||$===-1?null:{start:M,end:$}}else h=null}h=h||{start:0,end:0}}else h=null;for(rm={focusedElem:a,selectionRange:h},_u=!1,Ae=c;Ae!==null;)if(c=Ae,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Ae=a;else for(;Ae!==null;){c=Ae;try{var Ee=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Oe=Ee.memoizedProps,Wt=Ee.memoizedState,H=c.stateNode,V=H.getSnapshotBeforeUpdate(c.elementType===c.type?Oe:$r(c.type,Oe),Wt);H.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var K=c.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){Lt(c,c.return,he)}if(a=c.sibling,a!==null){a.return=c.return,Ae=a;break}Ae=c.return}return Ee=RS,RS=!1,Ee}function $l(a,c,h){var v=c.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&a)===a){var A=S.destroy;S.destroy=void 0,A!==void 0&&Um(c,h,A)}S=S.next}while(S!==v)}}function pd(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&a)===a){var v=h.create;h.destroy=v()}h=h.next}while(h!==c)}}function Hm(a){var c=a.ref;if(c!==null){var h=a.stateNode;a.tag,a=h,typeof c=="function"?c(a):c.current=a}}function LS(a){var c=a.alternate;c!==null&&(a.alternate=null,LS(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[ti],delete c[Nl],delete c[sm],delete c[A5],delete c[k5])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function FS(a){return a.tag===5||a.tag===3||a.tag===4}function $S(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||FS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Gm(a,c,h){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(a,c):h.insertBefore(a,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(a,h)):(c=h,c.appendChild(a)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Uu));else if(v!==4&&(a=a.child,a!==null))for(Gm(a,c,h),a=a.sibling;a!==null;)Gm(a,c,h),a=a.sibling}function Km(a,c,h){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(v!==4&&(a=a.child,a!==null))for(Km(a,c,h),a=a.sibling;a!==null;)Km(a,c,h),a=a.sibling}var hn=null,Br=!1;function xo(a,c,h){for(h=h.child;h!==null;)BS(a,c,h),h=h.sibling}function BS(a,c,h){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(ku,h)}catch{}switch(h.tag){case 5:En||is(h,c);case 6:var v=hn,S=Br;hn=null,xo(a,c,h),hn=v,Br=S,hn!==null&&(Br?(a=hn,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):hn.removeChild(h.stateNode));break;case 18:hn!==null&&(Br?(a=hn,h=h.stateNode,a.nodeType===8?am(a.parentNode,h):a.nodeType===1&&am(a,h),vl(a)):am(hn,h.stateNode));break;case 4:v=hn,S=Br,hn=h.stateNode.containerInfo,Br=!0,xo(a,c,h),hn=v,Br=S;break;case 0:case 11:case 14:case 15:if(!En&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var A=S,T=A.destroy;A=A.tag,T!==void 0&&((A&2)!==0||(A&4)!==0)&&Um(h,c,T),S=S.next}while(S!==v)}xo(a,c,h);break;case 1:if(!En&&(is(h,c),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(M){Lt(h,c,M)}xo(a,c,h);break;case 21:xo(a,c,h);break;case 22:h.mode&1?(En=(v=En)||h.memoizedState!==null,xo(a,c,h),En=v):xo(a,c,h);break;default:xo(a,c,h)}}function zS(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new W5),c.forEach(function(v){var S=Q5.bind(null,a,v);h.has(v)||(h.add(v),v.then(S,S))})}}function zr(a,c){var h=c.deletions;if(h!==null)for(var v=0;v<h.length;v++){var S=h[v];try{var A=a,T=c,M=T;e:for(;M!==null;){switch(M.tag){case 5:hn=M.stateNode,Br=!1;break e;case 3:hn=M.stateNode.containerInfo,Br=!0;break e;case 4:hn=M.stateNode.containerInfo,Br=!0;break e}M=M.return}if(hn===null)throw Error(n(160));BS(A,T,S),hn=null,Br=!1;var $=S.alternate;$!==null&&($.return=null),S.return=null}catch(Z){Lt(S,c,Z)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)WS(c,a),c=c.sibling}function WS(a,c){var h=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(zr(c,a),ii(a),v&4){try{$l(3,a,a.return),pd(3,a)}catch(Oe){Lt(a,a.return,Oe)}try{$l(5,a,a.return)}catch(Oe){Lt(a,a.return,Oe)}}break;case 1:zr(c,a),ii(a),v&512&&h!==null&&is(h,h.return);break;case 5:if(zr(c,a),ii(a),v&512&&h!==null&&is(h,h.return),a.flags&32){var S=a.stateNode;try{Et(S,"")}catch(Oe){Lt(a,a.return,Oe)}}if(v&4&&(S=a.stateNode,S!=null)){var A=a.memoizedProps,T=h!==null?h.memoizedProps:A,M=a.type,$=a.updateQueue;if(a.updateQueue=null,$!==null)try{M==="input"&&A.type==="radio"&&A.name!=null&&ze(S,A),La(M,T);var Z=La(M,A);for(T=0;T<$.length;T+=2){var se=$[T],ce=$[T+1];se==="style"?Zn(S,ce):se==="dangerouslySetInnerHTML"?Ut(S,ce):se==="children"?Et(S,ce):E(S,se,ce,Z)}switch(M){case"input":rt(S,A);break;case"textarea":Ke(S,A);break;case"select":var ae=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!A.multiple;var Se=A.value;Se!=null?xe(S,!!A.multiple,Se,!1):ae!==!!A.multiple&&(A.defaultValue!=null?xe(S,!!A.multiple,A.defaultValue,!0):xe(S,!!A.multiple,A.multiple?[]:"",!1))}S[Nl]=A}catch(Oe){Lt(a,a.return,Oe)}}break;case 6:if(zr(c,a),ii(a),v&4){if(a.stateNode===null)throw Error(n(162));S=a.stateNode,A=a.memoizedProps;try{S.nodeValue=A}catch(Oe){Lt(a,a.return,Oe)}}break;case 3:if(zr(c,a),ii(a),v&4&&h!==null&&h.memoizedState.isDehydrated)try{vl(c.containerInfo)}catch(Oe){Lt(a,a.return,Oe)}break;case 4:zr(c,a),ii(a);break;case 13:zr(c,a),ii(a),S=a.child,S.flags&8192&&(A=S.memoizedState!==null,S.stateNode.isHidden=A,!A||S.alternate!==null&&S.alternate.memoizedState!==null||(Xm=zt())),v&4&&zS(a);break;case 22:if(se=h!==null&&h.memoizedState!==null,a.mode&1?(En=(Z=En)||se,zr(c,a),En=Z):zr(c,a),ii(a),v&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!se&&(a.mode&1)!==0)for(Ae=a,se=a.child;se!==null;){for(ce=Ae=se;Ae!==null;){switch(ae=Ae,Se=ae.child,ae.tag){case 0:case 11:case 14:case 15:$l(4,ae,ae.return);break;case 1:is(ae,ae.return);var Ee=ae.stateNode;if(typeof Ee.componentWillUnmount=="function"){v=ae,h=ae.return;try{c=v,Ee.props=c.memoizedProps,Ee.state=c.memoizedState,Ee.componentWillUnmount()}catch(Oe){Lt(v,h,Oe)}}break;case 5:is(ae,ae.return);break;case 22:if(ae.memoizedState!==null){HS(ce);continue}}Se!==null?(Se.return=ae,Ae=Se):HS(ce)}se=se.sibling}e:for(se=null,ce=a;;){if(ce.tag===5){if(se===null){se=ce;try{S=ce.stateNode,Z?(A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(M=ce.stateNode,$=ce.memoizedProps.style,T=$!=null&&$.hasOwnProperty("display")?$.display:null,M.style.display=mr("display",T))}catch(Oe){Lt(a,a.return,Oe)}}}else if(ce.tag===6){if(se===null)try{ce.stateNode.nodeValue=Z?"":ce.memoizedProps}catch(Oe){Lt(a,a.return,Oe)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===a)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===a)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===a)break e;se===ce&&(se=null),ce=ce.return}se===ce&&(se=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:zr(c,a),ii(a),v&4&&zS(a);break;case 21:break;default:zr(c,a),ii(a)}}function ii(a){var c=a.flags;if(c&2){try{e:{for(var h=a.return;h!==null;){if(FS(h)){var v=h;break e}h=h.return}throw Error(n(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(Et(S,""),v.flags&=-33);var A=$S(a);Km(a,A,S);break;case 3:case 4:var T=v.stateNode.containerInfo,M=$S(a);Gm(a,M,T);break;default:throw Error(n(161))}}catch($){Lt(a,a.return,$)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function U5(a,c,h){Ae=a,VS(a)}function VS(a,c,h){for(var v=(a.mode&1)!==0;Ae!==null;){var S=Ae,A=S.child;if(S.tag===22&&v){var T=S.memoizedState!==null||fd;if(!T){var M=S.alternate,$=M!==null&&M.memoizedState!==null||En;M=fd;var Z=En;if(fd=T,(En=$)&&!Z)for(Ae=S;Ae!==null;)T=Ae,$=T.child,T.tag===22&&T.memoizedState!==null?GS(S):$!==null?($.return=T,Ae=$):GS(S);for(;A!==null;)Ae=A,VS(A),A=A.sibling;Ae=S,fd=M,En=Z}US(a)}else(S.subtreeFlags&8772)!==0&&A!==null?(A.return=S,Ae=A):US(a)}}function US(a){for(;Ae!==null;){var c=Ae;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:En||pd(5,c);break;case 1:var v=c.stateNode;if(c.flags&4&&!En)if(h===null)v.componentDidMount();else{var S=c.elementType===c.type?h.memoizedProps:$r(c.type,h.memoizedProps);v.componentDidUpdate(S,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&Hw(c,A,v);break;case 3:var T=c.updateQueue;if(T!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}Hw(c,T,h)}break;case 5:var M=c.stateNode;if(h===null&&c.flags&4){h=M;var $=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&h.focus();break;case"img":$.src&&(h.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Z=c.alternate;if(Z!==null){var se=Z.memoizedState;if(se!==null){var ce=se.dehydrated;ce!==null&&vl(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}En||c.flags&512&&Hm(c)}catch(ae){Lt(c,c.return,ae)}}if(c===a){Ae=null;break}if(h=c.sibling,h!==null){h.return=c.return,Ae=h;break}Ae=c.return}}function HS(a){for(;Ae!==null;){var c=Ae;if(c===a){Ae=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Ae=h;break}Ae=c.return}}function GS(a){for(;Ae!==null;){var c=Ae;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{pd(4,c)}catch($){Lt(c,h,$)}break;case 1:var v=c.stateNode;if(typeof v.componentDidMount=="function"){var S=c.return;try{v.componentDidMount()}catch($){Lt(c,S,$)}}var A=c.return;try{Hm(c)}catch($){Lt(c,A,$)}break;case 5:var T=c.return;try{Hm(c)}catch($){Lt(c,T,$)}}}catch($){Lt(c,c.return,$)}if(c===a){Ae=null;break}var M=c.sibling;if(M!==null){M.return=c.return,Ae=M;break}Ae=c.return}}var H5=Math.ceil,hd=N.ReactCurrentDispatcher,qm=N.ReactCurrentOwner,br=N.ReactCurrentBatchConfig,nt=0,en=null,Ht=null,mn=0,nr=0,os=ho(0),Yt=0,Bl=null,Qo=0,md=0,Ym=0,zl=null,Un=null,Xm=0,as=1/0,_i=null,gd=!1,Zm=null,bo=null,vd=!1,wo=null,yd=0,Wl=0,Qm=null,xd=-1,bd=0;function In(){return(nt&6)!==0?zt():xd!==-1?xd:xd=zt()}function So(a){return(a.mode&1)===0?1:(nt&2)!==0&&mn!==0?mn&-mn:N5.transition!==null?(bd===0&&(bd=$1()),bd):(a=ut,a!==0||(a=window.event,a=a===void 0?16:q1(a.type)),a)}function Wr(a,c,h,v){if(50<Wl)throw Wl=0,Qm=null,Error(n(185));fl(a,h,v),((nt&2)===0||a!==en)&&(a===en&&((nt&2)===0&&(md|=h),Yt===4&&Po(a,mn)),Hn(a,v),h===1&&nt===0&&(c.mode&1)===0&&(as=zt()+500,qu&&go()))}function Hn(a,c){var h=a.callbackNode;NL(a,c);var v=Ou(a,a===en?mn:0);if(v===0)h!==null&&Jr(h),a.callbackNode=null,a.callbackPriority=0;else if(c=v&-v,a.callbackPriority!==c){if(h!=null&&Jr(h),c===1)a.tag===0?E5(qS.bind(null,a)):Dw(qS.bind(null,a)),P5(function(){(nt&6)===0&&go()}),h=null;else{switch(B1(v)){case 1:h=Th;break;case 4:h=L1;break;case 16:h=Au;break;case 536870912:h=F1;break;default:h=Au}h=nP(h,KS.bind(null,a))}a.callbackPriority=c,a.callbackNode=h}}function KS(a,c){if(xd=-1,bd=0,(nt&6)!==0)throw Error(n(327));var h=a.callbackNode;if(ss()&&a.callbackNode!==h)return null;var v=Ou(a,a===en?mn:0);if(v===0)return null;if((v&30)!==0||(v&a.expiredLanes)!==0||c)c=wd(a,v);else{c=v;var S=nt;nt|=2;var A=XS();(en!==a||mn!==c)&&(_i=null,as=zt()+500,ea(a,c));do try{q5();break}catch(M){YS(a,M)}while(!0);gm(),hd.current=A,nt=S,Ht!==null?c=0:(en=null,mn=0,c=Yt)}if(c!==0){if(c===2&&(S=_h(a),S!==0&&(v=S,c=Jm(a,S))),c===1)throw h=Bl,ea(a,0),Po(a,v),Hn(a,zt()),h;if(c===6)Po(a,v);else{if(S=a.current.alternate,(v&30)===0&&!G5(S)&&(c=wd(a,v),c===2&&(A=_h(a),A!==0&&(v=A,c=Jm(a,A))),c===1))throw h=Bl,ea(a,0),Po(a,v),Hn(a,zt()),h;switch(a.finishedWork=S,a.finishedLanes=v,c){case 0:case 1:throw Error(n(345));case 2:ta(a,Un,_i);break;case 3:if(Po(a,v),(v&130023424)===v&&(c=Xm+500-zt(),10<c)){if(Ou(a,0)!==0)break;if(S=a.suspendedLanes,(S&v)!==v){In(),a.pingedLanes|=a.suspendedLanes&S;break}a.timeoutHandle=om(ta.bind(null,a,Un,_i),c);break}ta(a,Un,_i);break;case 4:if(Po(a,v),(v&4194240)===v)break;for(c=a.eventTimes,S=-1;0<v;){var T=31-Rr(v);A=1<<T,T=c[T],T>S&&(S=T),v&=~A}if(v=S,v=zt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*H5(v/1960))-v,10<v){a.timeoutHandle=om(ta.bind(null,a,Un,_i),v);break}ta(a,Un,_i);break;case 5:ta(a,Un,_i);break;default:throw Error(n(329))}}}return Hn(a,zt()),a.callbackNode===h?KS.bind(null,a):null}function Jm(a,c){var h=zl;return a.current.memoizedState.isDehydrated&&(ea(a,c).flags|=256),a=wd(a,c),a!==2&&(c=Un,Un=h,c!==null&&eg(c)),a}function eg(a){Un===null?Un=a:Un.push.apply(Un,a)}function G5(a){for(var c=a;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var S=h[v],A=S.getSnapshot;S=S.value;try{if(!Lr(A(),S))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Po(a,c){for(c&=~Ym,c&=~md,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var h=31-Rr(c),v=1<<h;a[h]=-1,c&=~v}}function qS(a){if((nt&6)!==0)throw Error(n(327));ss();var c=Ou(a,0);if((c&1)===0)return Hn(a,zt()),null;var h=wd(a,c);if(a.tag!==0&&h===2){var v=_h(a);v!==0&&(c=v,h=Jm(a,v))}if(h===1)throw h=Bl,ea(a,0),Po(a,c),Hn(a,zt()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,ta(a,Un,_i),Hn(a,zt()),null}function tg(a,c){var h=nt;nt|=1;try{return a(c)}finally{nt=h,nt===0&&(as=zt()+500,qu&&go())}}function Jo(a){wo!==null&&wo.tag===0&&(nt&6)===0&&ss();var c=nt;nt|=1;var h=br.transition,v=ut;try{if(br.transition=null,ut=1,a)return a()}finally{ut=v,br.transition=h,nt=c,(nt&6)===0&&go()}}function ng(){nr=os.current,Pt(os)}function ea(a,c){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,S5(h)),Ht!==null)for(h=Ht.return;h!==null;){var v=h;switch(dm(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Gu();break;case 3:ns(),Pt(zn),Pt(Cn),Cm();break;case 5:Sm(v);break;case 4:ns();break;case 13:Pt(Dt);break;case 19:Pt(Dt);break;case 10:vm(v.type._context);break;case 22:case 23:ng()}h=h.return}if(en=a,Ht=a=Co(a.current,null),mn=nr=c,Yt=0,Bl=null,Ym=md=Qo=0,Un=zl=null,Yo!==null){for(c=0;c<Yo.length;c++)if(h=Yo[c],v=h.interleaved,v!==null){h.interleaved=null;var S=v.next,A=h.pending;if(A!==null){var T=A.next;A.next=S,v.next=T}h.pending=v}Yo=null}return a}function YS(a,c){do{var h=Ht;try{if(gm(),id.current=ld,od){for(var v=Mt.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}od=!1}if(Zo=0,Jt=qt=Mt=null,Ml=!1,Il=0,qm.current=null,h===null||h.return===null){Yt=1,Bl=c,Ht=null;break}e:{var A=a,T=h.return,M=h,$=c;if(c=mn,M.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Z=$,se=M,ce=se.tag;if((se.mode&1)===0&&(ce===0||ce===11||ce===15)){var ae=se.alternate;ae?(se.updateQueue=ae.updateQueue,se.memoizedState=ae.memoizedState,se.lanes=ae.lanes):(se.updateQueue=null,se.memoizedState=null)}var Se=bS(T);if(Se!==null){Se.flags&=-257,wS(Se,T,M,A,c),Se.mode&1&&xS(A,Z,c),c=Se,$=Z;var Ee=c.updateQueue;if(Ee===null){var Oe=new Set;Oe.add($),c.updateQueue=Oe}else Ee.add($);break e}else{if((c&1)===0){xS(A,Z,c),rg();break e}$=Error(n(426))}}else if(Nt&&M.mode&1){var Wt=bS(T);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),wS(Wt,T,M,A,c),hm(rs($,M));break e}}A=$=rs($,M),Yt!==4&&(Yt=2),zl===null?zl=[A]:zl.push(A),A=T;do{switch(A.tag){case 3:A.flags|=65536,c&=-c,A.lanes|=c;var H=vS(A,$,c);Uw(A,H);break e;case 1:M=$;var V=A.type,K=A.stateNode;if((A.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(bo===null||!bo.has(K)))){A.flags|=65536,c&=-c,A.lanes|=c;var he=yS(A,M,c);Uw(A,he);break e}}A=A.return}while(A!==null)}QS(h)}catch(Te){c=Te,Ht===h&&h!==null&&(Ht=h=h.return);continue}break}while(!0)}function XS(){var a=hd.current;return hd.current=ld,a===null?ld:a}function rg(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),en===null||(Qo&268435455)===0&&(md&268435455)===0||Po(en,mn)}function wd(a,c){var h=nt;nt|=2;var v=XS();(en!==a||mn!==c)&&(_i=null,ea(a,c));do try{K5();break}catch(S){YS(a,S)}while(!0);if(gm(),nt=h,hd.current=v,Ht!==null)throw Error(n(261));return en=null,mn=0,Yt}function K5(){for(;Ht!==null;)ZS(Ht)}function q5(){for(;Ht!==null&&!ul();)ZS(Ht)}function ZS(a){var c=tP(a.alternate,a,nr);a.memoizedProps=a.pendingProps,c===null?QS(a):Ht=c,qm.current=null}function QS(a){var c=a;do{var h=c.alternate;if(a=c.return,(c.flags&32768)===0){if(h=B5(h,c,nr),h!==null){Ht=h;return}}else{if(h=z5(h,c),h!==null){h.flags&=32767,Ht=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Yt=6,Ht=null;return}}if(c=c.sibling,c!==null){Ht=c;return}Ht=c=a}while(c!==null);Yt===0&&(Yt=5)}function ta(a,c,h){var v=ut,S=br.transition;try{br.transition=null,ut=1,Y5(a,c,h,v)}finally{br.transition=S,ut=v}return null}function Y5(a,c,h,v){do ss();while(wo!==null);if((nt&6)!==0)throw Error(n(327));h=a.finishedWork;var S=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var A=h.lanes|h.childLanes;if(OL(a,A),a===en&&(Ht=en=null,mn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||vd||(vd=!0,nP(Au,function(){return ss(),null})),A=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||A){A=br.transition,br.transition=null;var T=ut;ut=1;var M=nt;nt|=4,qm.current=null,V5(a,h),WS(h,a),m5(rm),_u=!!nm,rm=nm=null,a.current=h,U5(h),bL(),nt=M,ut=T,br.transition=A}else a.current=h;if(vd&&(vd=!1,wo=a,yd=S),A=a.pendingLanes,A===0&&(bo=null),PL(h.stateNode),Hn(a,zt()),c!==null)for(v=a.onRecoverableError,h=0;h<c.length;h++)S=c[h],v(S.value,{componentStack:S.stack,digest:S.digest});if(gd)throw gd=!1,a=Zm,Zm=null,a;return(yd&1)!==0&&a.tag!==0&&ss(),A=a.pendingLanes,(A&1)!==0?a===Qm?Wl++:(Wl=0,Qm=a):Wl=0,go(),null}function ss(){if(wo!==null){var a=B1(yd),c=br.transition,h=ut;try{if(br.transition=null,ut=16>a?16:a,wo===null)var v=!1;else{if(a=wo,wo=null,yd=0,(nt&6)!==0)throw Error(n(331));var S=nt;for(nt|=4,Ae=a.current;Ae!==null;){var A=Ae,T=A.child;if((Ae.flags&16)!==0){var M=A.deletions;if(M!==null){for(var $=0;$<M.length;$++){var Z=M[$];for(Ae=Z;Ae!==null;){var se=Ae;switch(se.tag){case 0:case 11:case 15:$l(8,se,A)}var ce=se.child;if(ce!==null)ce.return=se,Ae=ce;else for(;Ae!==null;){se=Ae;var ae=se.sibling,Se=se.return;if(LS(se),se===Z){Ae=null;break}if(ae!==null){ae.return=Se,Ae=ae;break}Ae=Se}}}var Ee=A.alternate;if(Ee!==null){var Oe=Ee.child;if(Oe!==null){Ee.child=null;do{var Wt=Oe.sibling;Oe.sibling=null,Oe=Wt}while(Oe!==null)}}Ae=A}}if((A.subtreeFlags&2064)!==0&&T!==null)T.return=A,Ae=T;else e:for(;Ae!==null;){if(A=Ae,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:$l(9,A,A.return)}var H=A.sibling;if(H!==null){H.return=A.return,Ae=H;break e}Ae=A.return}}var V=a.current;for(Ae=V;Ae!==null;){T=Ae;var K=T.child;if((T.subtreeFlags&2064)!==0&&K!==null)K.return=T,Ae=K;else e:for(T=V;Ae!==null;){if(M=Ae,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:pd(9,M)}}catch(Te){Lt(M,M.return,Te)}if(M===T){Ae=null;break e}var he=M.sibling;if(he!==null){he.return=M.return,Ae=he;break e}Ae=M.return}}if(nt=S,go(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(ku,a)}catch{}v=!0}return v}finally{ut=h,br.transition=c}}return!1}function JS(a,c,h){c=rs(h,c),c=vS(a,c,1),a=yo(a,c,1),c=In(),a!==null&&(fl(a,1,c),Hn(a,c))}function Lt(a,c,h){if(a.tag===3)JS(a,a,h);else for(;c!==null;){if(c.tag===3){JS(c,a,h);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(bo===null||!bo.has(v))){a=rs(h,a),a=yS(c,a,1),c=yo(c,a,1),a=In(),c!==null&&(fl(c,1,a),Hn(c,a));break}}c=c.return}}function X5(a,c,h){var v=a.pingCache;v!==null&&v.delete(c),c=In(),a.pingedLanes|=a.suspendedLanes&h,en===a&&(mn&h)===h&&(Yt===4||Yt===3&&(mn&130023424)===mn&&500>zt()-Xm?ea(a,0):Ym|=h),Hn(a,c)}function eP(a,c){c===0&&((a.mode&1)===0?c=1:(c=Nu,Nu<<=1,(Nu&130023424)===0&&(Nu=4194304)));var h=In();a=Oi(a,c),a!==null&&(fl(a,c,h),Hn(a,h))}function Z5(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),eP(a,h)}function Q5(a,c){var h=0;switch(a.tag){case 13:var v=a.stateNode,S=a.memoizedState;S!==null&&(h=S.retryLane);break;case 19:v=a.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(c),eP(a,h)}var tP;tP=function(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps||zn.current)Vn=!0;else{if((a.lanes&h)===0&&(c.flags&128)===0)return Vn=!1,$5(a,c,h);Vn=(a.flags&131072)!==0}else Vn=!1,Nt&&(c.flags&1048576)!==0&&Mw(c,Xu,c.index);switch(c.lanes=0,c.tag){case 2:var v=c.type;dd(a,c),a=c.pendingProps;var S=Ya(c,Cn.current);ts(c,h),S=Em(null,c,v,a,S,h);var A=Nm();return c.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Wn(v)?(A=!0,Ku(c)):A=!1,c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,bm(c),S.updater=cd,c.stateNode=S,S._reactInternals=c,Mm(c,v,a,h),c=Fm(null,c,v,!0,A,h)):(c.tag=0,Nt&&A&&um(c),Mn(null,c,S,h),c=c.child),c;case 16:v=c.elementType;e:{switch(dd(a,c),a=c.pendingProps,S=v._init,v=S(v._payload),c.type=v,S=c.tag=e3(v),a=$r(v,a),S){case 0:c=Lm(null,c,v,a,h);break e;case 1:c=ES(null,c,v,a,h);break e;case 11:c=SS(null,c,v,a,h);break e;case 14:c=PS(null,c,v,$r(v.type,a),h);break e}throw Error(n(306,v,""))}return c;case 0:return v=c.type,S=c.pendingProps,S=c.elementType===v?S:$r(v,S),Lm(a,c,v,S,h);case 1:return v=c.type,S=c.pendingProps,S=c.elementType===v?S:$r(v,S),ES(a,c,v,S,h);case 3:e:{if(NS(c),a===null)throw Error(n(387));v=c.pendingProps,A=c.memoizedState,S=A.element,Vw(a,c),nd(c,v,null,h);var T=c.memoizedState;if(v=T.element,A.isDehydrated)if(A={element:v,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){S=rs(Error(n(423)),c),c=OS(a,c,v,h,S);break e}else if(v!==S){S=rs(Error(n(424)),c),c=OS(a,c,v,h,S);break e}else for(tr=po(c.stateNode.containerInfo.firstChild),er=c,Nt=!0,Fr=null,h=zw(c,null,v,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Qa(),v===S){c=Ti(a,c,h);break e}Mn(a,c,v,h)}c=c.child}return c;case 5:return Gw(c),a===null&&pm(c),v=c.type,S=c.pendingProps,A=a!==null?a.memoizedProps:null,T=S.children,im(v,S)?T=null:A!==null&&im(v,A)&&(c.flags|=32),kS(a,c),Mn(a,c,T,h),c.child;case 6:return a===null&&pm(c),null;case 13:return jS(a,c,h);case 4:return wm(c,c.stateNode.containerInfo),v=c.pendingProps,a===null?c.child=Ja(c,null,v,h):Mn(a,c,v,h),c.child;case 11:return v=c.type,S=c.pendingProps,S=c.elementType===v?S:$r(v,S),SS(a,c,v,S,h);case 7:return Mn(a,c,c.pendingProps,h),c.child;case 8:return Mn(a,c,c.pendingProps.children,h),c.child;case 12:return Mn(a,c,c.pendingProps.children,h),c.child;case 10:e:{if(v=c.type._context,S=c.pendingProps,A=c.memoizedProps,T=S.value,yt(Ju,v._currentValue),v._currentValue=T,A!==null)if(Lr(A.value,T)){if(A.children===S.children&&!zn.current){c=Ti(a,c,h);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var M=A.dependencies;if(M!==null){T=A.child;for(var $=M.firstContext;$!==null;){if($.context===v){if(A.tag===1){$=ji(-1,h&-h),$.tag=2;var Z=A.updateQueue;if(Z!==null){Z=Z.shared;var se=Z.pending;se===null?$.next=$:($.next=se.next,se.next=$),Z.pending=$}}A.lanes|=h,$=A.alternate,$!==null&&($.lanes|=h),ym(A.return,h,c),M.lanes|=h;break}$=$.next}}else if(A.tag===10)T=A.type===c.type?null:A.child;else if(A.tag===18){if(T=A.return,T===null)throw Error(n(341));T.lanes|=h,M=T.alternate,M!==null&&(M.lanes|=h),ym(T,h,c),T=A.sibling}else T=A.child;if(T!==null)T.return=A;else for(T=A;T!==null;){if(T===c){T=null;break}if(A=T.sibling,A!==null){A.return=T.return,T=A;break}T=T.return}A=T}Mn(a,c,S.children,h),c=c.child}return c;case 9:return S=c.type,v=c.pendingProps.children,ts(c,h),S=yr(S),v=v(S),c.flags|=1,Mn(a,c,v,h),c.child;case 14:return v=c.type,S=$r(v,c.pendingProps),S=$r(v.type,S),PS(a,c,v,S,h);case 15:return CS(a,c,c.type,c.pendingProps,h);case 17:return v=c.type,S=c.pendingProps,S=c.elementType===v?S:$r(v,S),dd(a,c),c.tag=1,Wn(v)?(a=!0,Ku(c)):a=!1,ts(c,h),mS(c,v,S),Mm(c,v,S,h),Fm(null,c,v,!0,a,h);case 19:return _S(a,c,h);case 22:return AS(a,c,h)}throw Error(n(156,c.tag))};function nP(a,c){return Pn(a,c)}function J5(a,c,h,v){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(a,c,h,v){return new J5(a,c,h,v)}function ig(a){return a=a.prototype,!(!a||!a.isReactComponent)}function e3(a){if(typeof a=="function")return ig(a)?1:0;if(a!=null){if(a=a.$$typeof,a===F)return 11;if(a===ue)return 14}return 2}function Co(a,c){var h=a.alternate;return h===null?(h=wr(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Sd(a,c,h,v,S,A){var T=2;if(v=a,typeof a=="function")ig(a)&&(T=1);else if(typeof a=="string")T=5;else e:switch(a){case _:return na(h.children,S,A,c);case D:T=8,S|=8;break;case z:return a=wr(12,h,c,S|2),a.elementType=z,a.lanes=A,a;case U:return a=wr(13,h,c,S),a.elementType=U,a.lanes=A,a;case fe:return a=wr(19,h,c,S),a.elementType=fe,a.lanes=A,a;case Q:return Pd(h,S,A,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case q:T=10;break e;case G:T=9;break e;case F:T=11;break e;case ue:T=14;break e;case be:T=16,v=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=wr(T,h,c,S),c.elementType=a,c.type=v,c.lanes=A,c}function na(a,c,h,v){return a=wr(7,a,v,c),a.lanes=h,a}function Pd(a,c,h,v){return a=wr(22,a,v,c),a.elementType=Q,a.lanes=h,a.stateNode={isHidden:!1},a}function og(a,c,h){return a=wr(6,a,null,c),a.lanes=h,a}function ag(a,c,h){return c=wr(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function t3(a,c,h,v,S){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dh(0),this.expirationTimes=Dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function sg(a,c,h,v,S,A,T,M,$){return a=new t3(a,c,h,M,$),c===1?(c=1,A===!0&&(c|=8)):c=0,A=wr(3,null,null,c),a.current=A,A.stateNode=a,A.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},bm(A),a}function n3(a,c,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:v==null?null:""+v,children:a,containerInfo:c,implementation:h}}function rP(a){if(!a)return mo;a=a._reactInternals;e:{if(qe(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Wn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(Wn(h))return Tw(a,h,c)}return c}function iP(a,c,h,v,S,A,T,M,$){return a=sg(h,v,!0,a,S,A,T,M,$),a.context=rP(null),h=a.current,v=In(),S=So(h),A=ji(v,S),A.callback=c??null,yo(h,A,S),a.current.lanes=S,fl(a,S,v),Hn(a,v),a}function Cd(a,c,h,v){var S=c.current,A=In(),T=So(S);return h=rP(h),c.context===null?c.context=h:c.pendingContext=h,c=ji(A,T),c.payload={element:a},v=v===void 0?null:v,v!==null&&(c.callback=v),a=yo(S,c,T),a!==null&&(Wr(a,S,T,A),td(a,S,T)),T}function Ad(a){return a=a.current,a.child?(a.child.tag===5,a.child.stateNode):null}function oP(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function lg(a,c){oP(a,c),(a=a.alternate)&&oP(a,c)}function r3(){return null}var aP=typeof reportError=="function"?reportError:function(a){console.error(a)};function cg(a){this._internalRoot=a}kd.prototype.render=cg.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));Cd(a,c,null,null)},kd.prototype.unmount=cg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Jo(function(){Cd(null,a,null,null)}),c[Ai]=null}};function kd(a){this._internalRoot=a}kd.prototype.unstable_scheduleHydration=function(a){if(a){var c=V1();a={blockedOn:null,target:a,priority:c};for(var h=0;h<co.length&&c!==0&&c<co[h].priority;h++);co.splice(h,0,a),h===0&&G1(a)}};function ug(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Ed(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function sP(){}function i3(a,c,h,v,S){if(S){if(typeof v=="function"){var A=v;v=function(){var Z=Ad(T);A.call(Z)}}var T=iP(c,v,a,0,null,!1,!1,"",sP);return a._reactRootContainer=T,a[Ai]=T.current,kl(a.nodeType===8?a.parentNode:a),Jo(),T}for(;S=a.lastChild;)a.removeChild(S);if(typeof v=="function"){var M=v;v=function(){var Z=Ad($);M.call(Z)}}var $=sg(a,0,!1,null,null,!1,!1,"",sP);return a._reactRootContainer=$,a[Ai]=$.current,kl(a.nodeType===8?a.parentNode:a),Jo(function(){Cd(c,$,h,v)}),$}function Nd(a,c,h,v,S){var A=h._reactRootContainer;if(A){var T=A;if(typeof S=="function"){var M=S;S=function(){var $=Ad(T);M.call($)}}Cd(c,T,a,S)}else T=i3(h,c,a,S,v);return Ad(T)}z1=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var h=dl(c.pendingLanes);h!==0&&(Mh(c,h|1),Hn(c,zt()),(nt&6)===0&&(as=zt()+500,go()))}break;case 13:Jo(function(){var v=Oi(a,1);if(v!==null){var S=In();Wr(v,a,1,S)}}),lg(a,1)}},Ih=function(a){if(a.tag===13){var c=Oi(a,134217728);if(c!==null){var h=In();Wr(c,a,134217728,h)}lg(a,134217728)}},W1=function(a){if(a.tag===13){var c=So(a),h=Oi(a,c);if(h!==null){var v=In();Wr(h,a,c,v)}lg(a,c)}},V1=function(){return ut},U1=function(a,c){var h=ut;try{return ut=a,c()}finally{ut=h}},ct=function(a,c,h){switch(c){case"input":if(rt(a,h),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var v=h[c];if(v!==a&&v.form===a.form){var S=Hu(v);if(!S)throw Error(n(90));I(v),rt(v,S)}}}break;case"textarea":Ke(a,h);break;case"select":c=h.value,c!=null&&xe(a,!!h.multiple,c,!1)}},ll=tg,Cu=Jo;var o3={usingClientEntryPoint:!1,Events:[Ol,Ka,Hu,Su,Pu,tg]},Vl={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a3={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=wt(a),a===null?null:a.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||r3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{ku=Od.inject(a3),ei=Od}catch{}}return Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o3,Gn.createPortal=function(a,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ug(c))throw Error(n(200));return n3(a,c,null,h)},Gn.createRoot=function(a,c){if(!ug(a))throw Error(n(299));var h=!1,v="",S=aP;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),c=sg(a,1,!1,null,null,h,!1,v,S),a[Ai]=c.current,kl(a.nodeType===8?a.parentNode:a),new cg(c)},Gn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=wt(c),a=a===null?null:a.stateNode,a},Gn.flushSync=function(a){return Jo(a)},Gn.hydrate=function(a,c,h){if(!Ed(c))throw Error(n(200));return Nd(null,a,c,!0,h)},Gn.hydrateRoot=function(a,c,h){if(!ug(a))throw Error(n(405));var v=h!=null&&h.hydratedSources||null,S=!1,A="",T=aP;if(h!=null&&(h.unstable_strictMode===!0&&(S=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&(T=h.onRecoverableError)),c=iP(c,null,a,1,h??null,S,!1,A,T),a[Ai]=c.current,kl(a),v)for(a=0;a<v.length;a++)h=v[a],S=h._getVersion,S=S(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,S]:c.mutableSourceEagerHydrationData.push(h,S);return new kd(c)},Gn.render=function(a,c,h){if(!Ed(c))throw Error(n(200));return Nd(null,a,c,!1,h)},Gn.unmountComponentAtNode=function(a){if(!Ed(a))throw Error(n(40));return a._reactRootContainer?(Jo(function(){Nd(null,null,a,!1,function(){a._reactRootContainer=null,a[Ai]=null})}),!0):!1},Gn.unstable_batchedUpdates=tg,Gn.unstable_renderSubtreeIntoContainer=function(a,c,h,v){if(!Ed(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Nd(a,c,h,!1,v)},Gn.version="18.3.1-next-f1338f8080-20240426",Gn}var mP;function sO(){if(mP)return pg.exports;mP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pg.exports=m3(),pg.exports}var gP;function g3(){if(gP)return jd;gP=1;var e=sO();return jd.createRoot=e.createRoot,jd.hydrateRoot=e.hydrateRoot,jd}var v3=g3();const y3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lO=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var x3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const b3=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...l},u)=>P.createElement("svg",{ref:u,...x3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:lO("lucide",i),...l},[...s.map(([d,f])=>P.createElement(d,f)),...Array.isArray(o)?o:[o]]));const Ge=(e,t)=>{const n=P.forwardRef(({className:r,...i},o)=>P.createElement(b3,{ref:o,iconNode:t,className:lO(`lucide-${y3(e)}`,r),...i}));return n.displayName=`${e}`,n};const cO=Ge("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);const uO=Ge("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const w3=Ge("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const S3=Ge("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);const As=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Cy=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const P3=Ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const C3=Ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const A3=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const k3=Ge("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const dO=Ge("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);const E3=Ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const N3=Ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const O3=Ge("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);const vP=Ge("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const fO=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const j3=Ge("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);const T3=Ge("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const _3=Ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const D3=Ge("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);const yP=Ge("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const pO=Ge("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const M3=Ge("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const ks=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const I3=Ge("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);const R3=Ge("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const L3=Ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const F3=Ge("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);const $3=Ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const B3=Ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const js=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const z3=Ge("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);const W3=Ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const V3=Ge("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);const Ts=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const U3=Ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const H3=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const G3=Ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const K3=Ge("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const wf=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const xP=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const _s=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const q3=Ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);const Y3=Ge("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const X3=Ge("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Z3=[{id:"agent",label:"LeapOS",icon:w3},{id:"lens",label:"Lens Designer",icon:A3},{id:"system",label:"System Editor",icon:pO},{id:"coating",label:"Coating Lab",icon:cO},{id:"info",label:"User Guide",icon:uO},{id:"properties",label:"Properties",icon:H3},{id:"export",label:"Export",icon:O3}];function Q3({activeTab:e,onTabChange:t,loadedFileName:n}){return y.jsx("div",{className:"glass-card border-b border-white/10 rounded-none",children:y.jsxs("nav",{className:"flex items-center gap-1 px-6 py-3",children:[y.jsxs("div",{className:"flex items-center gap-4 mr-8",children:[y.jsx("span",{className:"text-cyan-electric font-semibold text-lg",children:"Photon Leap"}),n&&y.jsxs("span",{className:"text-slate-400 text-sm font-medium",children:["File: ",n]})]}),Z3.map(r=>{const i=r.icon,o=e===r.id;return y.jsxs("button",{"data-testid":`nav-${r.id}`,onClick:()=>t(r.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${o?"text-cyan-electric bg-white/10":"text-slate-300 hover:text-cyan-electric hover:bg-white/5"}`,children:[y.jsx(i,{className:"w-4 h-4",strokeWidth:2}),y.jsx("span",{className:"text-sm font-medium",children:r.label})]},r.id)})]})})}const hO=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0,Le={apiBaseUrl:"http://localhost:8000",viewport:{width:640,height:320},rayCount:{min:3,max:21},defaults:{entrancePupilDiameter:10,wavelengths:[587.6,486.1,656.3],fieldAngles:[0,7,14],numRays:9,defaultWavelength:587.6,defaultFieldAngle:7},surfaceDefaults:{thickness:10,diameter:25,refractiveIndex:1},view:{padding:40,scaleFactor:.9,minZExtent:30,extendZFactor:.2,extendZMin:50},maxFieldAngles:3,rayColors:["#22D3EE","#22C55E","#F97316"],paraxial:{focusYFactor:.15,lensToFocusFactor:.3},toastDuration:2500,thermalPowerThresholdW:1,llm:{anthropicApiKey:"",openaiApiKey:"",deepseekApiKey:""},agentRmsThresholdUm:1e3,localAgent:{apiBase:"http://localhost:1234/v1",apiKey:"lm-studio",modelId:"deepseek-r1-distill-qwen-32b-mlx"}};let rr=null,Td=null;function J3(){const e=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=`${e.endsWith("/")?e:`${e}/`}pyodide/worker.js`;return typeof location<"u"?new URL(n,location.href).href:n.startsWith("http")?n:typeof document<"u"?new URL(n,document.baseURI).href:n}async function jp(){return rr||(Td?(await Td,rr):(Td=(async()=>{rr=new Worker(J3(),{type:"classic"}),rr.addEventListener("message",e=>{e.data?.type==="log"&&(e.data.lines||[]).forEach(t=>console.log("%c[Python]","color: #4CAF50",t))}),await new Promise((e,t)=>{const n=i=>{i.data?.type==="ready"&&(rr.removeEventListener("message",n),rr.removeEventListener("error",r),i.data.error?t(new Error(i.data.error)):e())},r=i=>{rr.removeEventListener("message",n),rr.removeEventListener("error",r),t(i)};rr.addEventListener("message",n),rr.addEventListener("error",r),rr.postMessage({type:"init"})})})(),await Td,rr))}async function e4(e){const t=await jp(),n={surfaces:e.surfaces.map(i=>({id:i.id,type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,coating:i.coating,sellmeierCoefficients:i.sellmeierCoefficients,coatingDataPoints:i.coatingDataPoints,coatingConstantValue:i.coatingConstantValue,coatingIsHr:i.coatingIsHr})),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:(e.fieldAngles??[0]).slice(0,Le.maxFieldAngles),numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1},r=`trace-${Date.now()}-${Math.random().toString(36).slice(2)}`;return new Promise((i,o)=>{const s=l=>{l.data?.type==="trace"&&l.data.id===r&&(t.removeEventListener("message",s),l.data.error?o(new Error(l.data.error)):i(l.data.result))};t.addEventListener("message",s),t.postMessage({type:"trace",id:r,payload:n})})}async function t4(e){const t=await jp(),n={surfaces:e.surfaces.map(i=>({id:i.id,type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,sellmeierCoefficients:i.sellmeierCoefficients})),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:(e.fieldAngles??[0]).slice(0,Le.maxFieldAngles),numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1,wavelength_min_nm:e.wavelength_min_nm??400,wavelength_max_nm:e.wavelength_max_nm??1100,wavelength_step_nm:e.wavelength_step_nm??10},r=`chromatic-${Date.now()}-${Math.random().toString(36).slice(2)}`;return new Promise((i,o)=>{const s=l=>{l.data?.type==="chromatic-shift"&&l.data.id===r&&(t.removeEventListener("message",s),l.data.error?o(new Error(l.data.error)):i(l.data.result??[]))};t.addEventListener("message",s),t.postMessage({type:"chromatic-shift",id:r,payload:n})})}async function n4(e){const t=await jp(),n={surfaces:e.surfaces.map(i=>({id:i.id,type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,sellmeierCoefficients:i.sellmeierCoefficients})),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:(e.fieldAngles??[0]).slice(0,Le.maxFieldAngles),numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1},r=`optimize-${Date.now()}-${Math.random().toString(36).slice(2)}`;return new Promise((i,o)=>{const s=l=>{l.data?.type==="optimize-colors"&&l.data.id===r&&(t.removeEventListener("message",s),l.data.error?o(new Error(l.data.error)):i(l.data.result??{recommended_glass:"",estimated_lca_reduction:0}))};t.addEventListener("message",s),t.postMessage({type:"optimize-colors",id:r,payload:n})})}function r4(){return!0}function i4(){return jp().then(()=>{})}const Q0=P.createContext({});function J0(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const Tp=P.createContext(null),ex=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class o4 extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function a4({children:e,isPresent:t}){const n=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=P.useContext(ex);return P.useInsertionEffect(()=>{const{width:s,height:l,top:u,left:d}=i.current;if(t||!r.current||!s||!l)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return o&&(f.nonce=o),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),y.jsx(o4,{isPresent:t,childRef:r,sizeRef:i,children:P.cloneElement(e,{ref:r})})}const s4=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const l=J0(l4),u=P.useId(),d=P.useCallback(p=>{l.set(p,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),f=P.useMemo(()=>({id:u,initial:t,isPresent:n,custom:i,onExitComplete:d,register:p=>(l.set(p,!1),()=>l.delete(p))}),o?[Math.random(),d]:[n,d]);return P.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),P.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),s==="popLayout"&&(e=y.jsx(a4,{isPresent:n,children:e})),y.jsx(Tp.Provider,{value:f,children:e})};function l4(){return new Map}function mO(e=!0){const t=P.useContext(Tp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=P.useId();P.useEffect(()=>{e&&i(o)},[e]);const s=P.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}const _d=e=>e.key||"";function bP(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const tx=typeof window<"u",gO=tx?P.useLayoutEffect:P.useEffect,Wi=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1})=>{const[l,u]=mO(s),d=P.useMemo(()=>bP(e),[e]),f=s&&!l?[]:d.map(_d),p=P.useRef(!0),m=P.useRef(d),g=J0(()=>new Map),[x,w]=P.useState(d),[b,C]=P.useState(d);gO(()=>{p.current=!1,m.current=d;for(let N=0;N<b.length;N++){const j=_d(b[N]);f.includes(j)?g.delete(j):g.get(j)!==!0&&g.set(j,!1)}},[b,f.length,f.join("-")]);const k=[];if(d!==x){let N=[...d];for(let j=0;j<b.length;j++){const O=b[j],_=_d(O);f.includes(_)||(N.splice(j,0,O),k.push(O))}o==="wait"&&k.length&&(N=k),C(bP(N)),w(d);return}const{forceRender:E}=P.useContext(Q0);return y.jsx(y.Fragment,{children:b.map(N=>{const j=_d(N),O=s&&!l?!1:d===b||f.includes(j),_=()=>{if(g.has(j))g.set(j,!0);else return;let D=!0;g.forEach(z=>{z||(D=!1)}),D&&(E?.(),C(m.current),s&&u?.(),r&&r())};return y.jsx(s4,{isPresent:O,initial:!p.current||n?void 0:!1,custom:O?void 0:t,presenceAffectsLayout:i,mode:o,onExitComplete:O?void 0:_,children:N},j)})})},lr=e=>e;let vO=lr;function nx(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ds=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Fi=e=>e*1e3,$i=e=>e/1e3,c4={useManualTiming:!1};function u4(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(u.schedule(d),e()),d(s)}const u={schedule:(d,f=!1,p=!1)=>{const g=p&&r?t:n;return f&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(s=d,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,i&&(i=!1,u.process(d))}};return u}const Dd=["read","resolveKeyframes","update","preRender","render","postRender"],d4=40;function yO(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Dd.reduce((C,k)=>(C[k]=u4(o),C),{}),{read:l,resolveKeyframes:u,update:d,preRender:f,render:p,postRender:m}=s,g=()=>{const C=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(C-i.timestamp,d4),1),i.timestamp=C,i.isProcessing=!0,l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},x=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:Dd.reduce((C,k)=>{const E=s[k];return C[k]=(N,j=!1,O=!1)=>(n||x(),E.schedule(N,j,O)),C},{}),cancel:C=>{for(let k=0;k<Dd.length;k++)s[Dd[k]].cancel(C)},state:i,steps:s}}const{schedule:At,cancel:Ro,state:gn,steps:gg}=yO(typeof requestAnimationFrame<"u"?requestAnimationFrame:lr,!0),xO=P.createContext({strict:!1}),wP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ms={};for(const e in wP)Ms[e]={isEnabled:t=>wP[e].some(n=>!!t[n])};function f4(e){for(const t in e)Ms[t]={...Ms[t],...e[t]}}const p4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||p4.has(e)}let bO=e=>!Sf(e);function h4(e){e&&(bO=t=>t.startsWith("on")?!Sf(t):e(t))}try{h4(require("@emotion/is-prop-valid").default)}catch{}function m4(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(bO(i)||n===!0&&Sf(i)||!t&&!Sf(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function g4(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const _p=P.createContext({});function xc(e){return typeof e=="string"||Array.isArray(e)}function Dp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const rx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ix=["initial",...rx];function Mp(e){return Dp(e.animate)||ix.some(t=>xc(e[t]))}function wO(e){return!!(Mp(e)||e.variants)}function v4(e,t){if(Mp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||xc(n)?n:void 0,animate:xc(r)?r:void 0}}return e.inherit!==!1?t:{}}function y4(e){const{initial:t,animate:n}=v4(e,P.useContext(_p));return P.useMemo(()=>({initial:t,animate:n}),[SP(t),SP(n)])}function SP(e){return Array.isArray(e)?e.join(" "):e}const x4=Symbol.for("motionComponentSymbol");function gs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function b4(e,t,n){return P.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):gs(n)&&(n.current=r))},[t])}const ox=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w4="framerAppearId",SO="data-"+ox(w4),{schedule:ax}=yO(queueMicrotask,!1),PO=P.createContext({});function S4(e,t,n,r,i){var o,s;const{visualElement:l}=P.useContext(_p),u=P.useContext(xO),d=P.useContext(Tp),f=P.useContext(ex).reducedMotion,p=P.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,g=P.useContext(PO);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&P4(p.current,n,i,g);const x=P.useRef(!1);P.useInsertionEffect(()=>{m&&x.current&&m.update(n,d)});const w=n[SO],b=P.useRef(!!w&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,w))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,w)));return gO(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),ax.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),P.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,w)}),b.current=!1))}),m}function P4(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:l,layoutScroll:u,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:CO(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||l&&gs(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:d})}function CO(e){if(e)return e.options.allowProjection!==!1?e.projection:CO(e.parent)}function C4({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var o,s;e&&f4(e);function l(d,f){let p;const m={...P.useContext(ex),...d,layoutId:A4(d)},{isStatic:g}=m,x=y4(d),w=r(d,g);if(!g&&tx){k4();const b=E4(m);p=b.MeasureLayout,x.visualElement=S4(i,w,m,t,b.ProjectionNode)}return y.jsxs(_p.Provider,{value:x,children:[p&&x.visualElement?y.jsx(p,{visualElement:x.visualElement,...m}):null,n(i,d,b4(w,x.visualElement,f),w,g,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(s=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&s!==void 0?s:""})`}`;const u=P.forwardRef(l);return u[x4]=i,u}function A4({layoutId:e}){const t=P.useContext(Q0).id;return t&&e!==void 0?t+"-"+e:e}function k4(e,t){P.useContext(xO).strict}function E4(e){const{drag:t,layout:n}=Ms;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const N4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sx(e){return typeof e!="string"||e.includes("-")?!1:!!(N4.indexOf(e)>-1||/[A-Z]/u.test(e))}function PP(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function lx(e,t,n,r){if(typeof t=="function"){const[i,o]=PP(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=PP(r);t=t(n!==void 0?n:e.custom,i,o)}return t}const Ay=e=>Array.isArray(e),O4=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),j4=e=>Ay(e)?e[e.length-1]||0:e,Tn=e=>!!(e&&e.getVelocity);function lf(e){const t=Tn(e)?e.get():e;return O4(t)?t.toValue():t}function T4({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,o){const s={latestValues:_4(r,i,o,e),renderState:t()};return n&&(s.onMount=l=>n({props:r,current:l,...s}),s.onUpdate=l=>n(l)),s}const AO=e=>(t,n)=>{const r=P.useContext(_p),i=P.useContext(Tp),o=()=>T4(e,t,r,i);return n?o():J0(o)};function _4(e,t,n,r){const i={},o=r(e,{});for(const m in o)i[m]=lf(o[m]);let{initial:s,animate:l}=e;const u=Mp(e),d=wO(e);t&&d&&!u&&e.inherit!==!1&&(s===void 0&&(s=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||s===!1;const p=f?l:s;if(p&&typeof p!="boolean"&&!Dp(p)){const m=Array.isArray(p)?p:[p];for(let g=0;g<m.length;g++){const x=lx(e,m[g]);if(x){const{transitionEnd:w,transition:b,...C}=x;for(const k in C){let E=C[k];if(Array.isArray(E)){const N=f?E.length-1:0;E=E[N]}E!==null&&(i[k]=E)}for(const k in w)i[k]=w[k]}}}return i}const Gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Da=new Set(Gs),kO=e=>t=>typeof t=="string"&&t.startsWith(e),EO=kO("--"),D4=kO("var(--"),cx=e=>D4(e)?M4.test(e.split("/*")[0].trim()):!1,M4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,NO=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Vi=(e,t,n)=>n>t?t:n<e?e:n,Ks={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},bc={...Ks,transform:e=>Vi(0,1,e)},Md={...Ks,default:1},qc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ko=qc("deg"),pi=qc("%"),$e=qc("px"),I4=qc("vh"),R4=qc("vw"),CP={...pi,parse:e=>pi.parse(e)/100,transform:e=>pi.transform(e*100)},L4={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e},F4={rotate:ko,rotateX:ko,rotateY:ko,rotateZ:ko,scale:Md,scaleX:Md,scaleY:Md,scaleZ:Md,skew:ko,skewX:ko,skewY:ko,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:bc,originX:CP,originY:CP,originZ:$e},AP={...Ks,transform:Math.round},ux={...L4,...F4,zIndex:AP,size:$e,fillOpacity:bc,strokeOpacity:bc,numOctaves:AP},$4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B4=Gs.length;function z4(e,t,n){let r="",i=!0;for(let o=0;o<B4;o++){const s=Gs[o],l=e[s];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(s.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=NO(l,ux[s]);if(!u){i=!1;const f=$4[s]||s;r+=`${f}(${d}) `}n&&(t[s]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function dx(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,l=!1;for(const u in t){const d=t[u];if(Da.has(u)){s=!0;continue}else if(EO(u)){i[u]=d;continue}else{const f=NO(d,ux[u]);u.startsWith("origin")?(l=!0,o[u]=f):r[u]=f}}if(t.transform||(s||n?r.transform=z4(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=o;r.transformOrigin=`${u} ${d} ${f}`}}const W4={offset:"stroke-dashoffset",array:"stroke-dasharray"},V4={offset:"strokeDashoffset",array:"strokeDasharray"};function U4(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?W4:V4;e[o.offset]=$e.transform(-r);const s=$e.transform(t),l=$e.transform(n);e[o.array]=`${s} ${l}`}function kP(e,t,n){return typeof e=="string"?e:$e.transform(t+n*e)}function H4(e,t,n){const r=kP(t,e.x,e.width),i=kP(n,e.y,e.height);return`${r} ${i}`}function fx(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:l=1,pathOffset:u=0,...d},f,p){if(dx(e,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:x}=e;m.transform&&(x&&(g.transform=m.transform),delete m.transform),x&&(i!==void 0||o!==void 0||g.transform)&&(g.transformOrigin=H4(x,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&U4(m,s,l,u,!1)}const px=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),OO=()=>({...px(),attrs:{}}),hx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jO(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const TO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _O(e,t,n,r){jO(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(TO.has(i)?i:ox(i),t.attrs[i])}const Pf={};function G4(e){Object.assign(Pf,e)}function DO(e,{layout:t,layoutId:n}){return Da.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Pf[e]||e==="opacity")}function mx(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(Tn(i[s])||t.style&&Tn(t.style[s])||DO(s,e)||((r=n?.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function MO(e,t,n){const r=mx(e,t,n);for(const i in e)if(Tn(e[i])||Tn(t[i])){const o=Gs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}function K4(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const EP=["x","y","width","height","cx","cy","r"],q4={useVisualState:AO({scrapeMotionValuesFromProps:MO,createRenderState:OO,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!e.drag;if(!o){for(const l in i)if(Da.has(l)){o=!0;break}}if(!o)return;let s=!t;if(t)for(let l=0;l<EP.length;l++){const u=EP[l];e[u]!==t[u]&&(s=!0)}s&&At.read(()=>{K4(n,r),At.render(()=>{fx(r,i,hx(n.tagName),e.transformTemplate),_O(n,r)})})}})},Y4={useVisualState:AO({scrapeMotionValuesFromProps:mx,createRenderState:px})};function IO(e,t,n){for(const r in t)!Tn(t[r])&&!DO(r,n)&&(e[r]=t[r])}function X4({transformTemplate:e},t){return P.useMemo(()=>{const n=px();return dx(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Z4(e,t){const n=e.style||{},r={};return IO(r,n,e),Object.assign(r,X4(e,t)),r}function Q4(e,t){const n={},r=Z4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function J4(e,t,n,r){const i=P.useMemo(()=>{const o=OO();return fx(o,t,hx(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};IO(o,e.style,e),i.style={...o,...i.style}}return i}function eF(e=!1){return(n,r,i,{latestValues:o},s)=>{const u=(sx(n)?J4:Q4)(r,o,s,n),d=m4(r,typeof n=="string",e),f=n!==P.Fragment?{...d,...u,ref:i}:{},{children:p}=r,m=P.useMemo(()=>Tn(p)?p.get():p,[p]);return P.createElement(n,{...f,children:m})}}function tF(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...sx(r)?q4:Y4,preloadedFeatures:e,useRender:eF(i),createVisualElement:t,Component:r};return C4(s)}}function RO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ip(e,t,n){const r=e.getProps();return lx(r,t,n!==void 0?n:r.custom,e)}const nF=nx(()=>window.ScrollTimeline!==void 0);class rF{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(nF()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class iF extends rF{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function gx(e,t){return e?e[t]||e.default||e:void 0}const ky=2e4;function LO(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ky;)t+=n,r=e.next(t);return t>=ky?1/0:t}function vx(e){return typeof e=="function"}function NP(e,t){e.timeline=t,e.onfinish=null}const yx=e=>Array.isArray(e)&&typeof e[0]=="number",oF={linearEasing:void 0};function aF(e,t){const n=nx(e);return()=>{var r;return(r=oF[t])!==null&&r!==void 0?r:n()}}const Cf=aF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),FO=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(Ds(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function $O(e){return!!(typeof e=="function"&&Cf()||!e||typeof e=="string"&&(e in Ey||Cf())||yx(e)||Array.isArray(e)&&e.every($O))}const ic=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ey={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ic([0,.65,.55,1]),circOut:ic([.55,0,1,.45]),backIn:ic([.31,.01,.66,-.59]),backOut:ic([.33,1.53,.69,.99])};function BO(e,t){if(e)return typeof e=="function"&&Cf()?FO(e,t):yx(e)?ic(e):Array.isArray(e)?e.map(n=>BO(n,t)||Ey.easeOut):Ey[e]}const Vr={x:!1,y:!1};function zO(){return Vr.x||Vr.y}function sF(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function WO(e,t){const n=sF(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function OP(e){return t=>{t.pointerType==="touch"||zO()||e(t)}}function lF(e,t,n={}){const[r,i,o]=WO(e,n),s=OP(l=>{const{target:u}=l,d=t(l);if(typeof d!="function"||!u)return;const f=OP(p=>{d(p),u.removeEventListener("pointerleave",f)});u.addEventListener("pointerleave",f,i)});return r.forEach(l=>{l.addEventListener("pointerenter",s,i)}),o}const VO=(e,t)=>t?e===t?!0:VO(e,t.parentElement):!1,xx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,cF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uF(e){return cF.has(e.tagName)||e.tabIndex!==-1}const oc=new WeakSet;function jP(e){return t=>{t.key==="Enter"&&e(t)}}function vg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const dF=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=jP(()=>{if(oc.has(n))return;vg(n,"down");const i=jP(()=>{vg(n,"up")}),o=()=>vg(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function TP(e){return xx(e)&&!zO()}function fF(e,t,n={}){const[r,i,o]=WO(e,n),s=l=>{const u=l.currentTarget;if(!TP(l)||oc.has(u))return;oc.add(u);const d=t(l),f=(g,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),!(!TP(g)||!oc.has(u))&&(oc.delete(u),typeof d=="function"&&d(g,{success:x}))},p=g=>{f(g,n.useGlobalTarget||VO(u,g.target))},m=g=>{f(g,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(l=>{!uF(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",s,i),l.addEventListener("focus",d=>dF(d,i),i)}),o}function pF(e){return e==="x"||e==="y"?Vr[e]?null:(Vr[e]=!0,()=>{Vr[e]=!1}):Vr.x||Vr.y?null:(Vr.x=Vr.y=!0,()=>{Vr.x=Vr.y=!1})}const UO=new Set(["width","height","top","left","right","bottom",...Gs]);let cf;function hF(){cf=void 0}const hi={now:()=>(cf===void 0&&hi.set(gn.isProcessing||c4.useManualTiming?gn.timestamp:performance.now()),cf),set:e=>{cf=e,queueMicrotask(hF)}};function bx(e,t){e.indexOf(t)===-1&&e.push(t)}function wx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Sx{constructor(){this.subscriptions=[]}add(t){return bx(this.subscriptions,t),()=>wx(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function HO(e,t){return t?e*(1e3/t):0}const _P=30,mF=e=>!isNaN(parseFloat(e));class gF{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=hi.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=hi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=mF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Sx);const r=this.events[t].add(n);return t==="change"?()=>{r(),At.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_P)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_P);return HO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wc(e,t){return new gF(e,t)}function vF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,wc(n))}function yF(e,t){const n=Ip(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const l=j4(o[s]);vF(e,s,l)}}function xF(e){return!!(Tn(e)&&e.add)}function Ny(e,t){const n=e.getValue("willChange");if(xF(n))return n.add(t)}function GO(e){return e.props[SO]}const KO=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,bF=1e-7,wF=12;function SF(e,t,n,r,i){let o,s,l=0;do s=t+(n-t)/2,o=KO(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>bF&&++l<wF);return s}function Yc(e,t,n,r){if(e===t&&n===r)return lr;const i=o=>SF(o,0,1,e,n);return o=>o===0||o===1?o:KO(i(o),t,r)}const qO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,YO=e=>t=>1-e(1-t),XO=Yc(.33,1.53,.69,.99),Px=YO(XO),ZO=qO(Px),QO=e=>(e*=2)<1?.5*Px(e):.5*(2-Math.pow(2,-10*(e-1))),Cx=e=>1-Math.sin(Math.acos(e)),JO=YO(Cx),ej=qO(Cx),tj=e=>/^0[^.\s]+$/u.test(e);function PF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tj(e):!0}const uc=e=>Math.round(e*1e5)/1e5,Ax=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CF(e){return e==null}const AF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kx=(e,t)=>n=>!!(typeof n=="string"&&AF.test(n)&&n.startsWith(e)||t&&!CF(n)&&Object.prototype.hasOwnProperty.call(n,t)),nj=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,l]=r.match(Ax);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},kF=e=>Vi(0,255,e),yg={...Ks,transform:e=>Math.round(kF(e))},pa={test:kx("rgb","red"),parse:nj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+yg.transform(e)+", "+yg.transform(t)+", "+yg.transform(n)+", "+uc(bc.transform(r))+")"};function EF(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Oy={test:kx("#"),parse:EF,transform:pa.transform},vs={test:kx("hsl","hue"),parse:nj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+pi.transform(uc(t))+", "+pi.transform(uc(n))+", "+uc(bc.transform(r))+")"},Nn={test:e=>pa.test(e)||Oy.test(e)||vs.test(e),parse:e=>pa.test(e)?pa.parse(e):vs.test(e)?vs.parse(e):Oy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?pa.transform(e):vs.transform(e)},NF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OF(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ax))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(NF))===null||n===void 0?void 0:n.length)||0)>0}const rj="number",ij="color",jF="var",TF="var(",DP="${}",_F=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const l=t.replace(_F,u=>(Nn.test(u)?(r.color.push(o),i.push(ij),n.push(Nn.parse(u))):u.startsWith(TF)?(r.var.push(o),i.push(jF),n.push(u)):(r.number.push(o),i.push(rj),n.push(parseFloat(u))),++o,DP)).split(DP);return{values:n,split:l,indexes:r,types:i}}function oj(e){return Sc(e).values}function aj(e){const{split:t,types:n}=Sc(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const l=n[s];l===rj?o+=uc(i[s]):l===ij?o+=Nn.transform(i[s]):o+=i[s]}return o}}const DF=e=>typeof e=="number"?0:e;function MF(e){const t=oj(e);return aj(e)(t.map(DF))}const Lo={test:OF,parse:oj,createTransformer:aj,getAnimatableNone:MF},IF=new Set(["brightness","contrast","saturate","opacity"]);function RF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ax)||[];if(!r)return e;const i=n.replace(r,"");let o=IF.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const LF=/\b([a-z-]*)\(.*?\)/gu,jy={...Lo,getAnimatableNone:e=>{const t=e.match(LF);return t?t.map(RF).join(" "):e}},FF={...ux,color:Nn,backgroundColor:Nn,outlineColor:Nn,fill:Nn,stroke:Nn,borderColor:Nn,borderTopColor:Nn,borderRightColor:Nn,borderBottomColor:Nn,borderLeftColor:Nn,filter:jy,WebkitFilter:jy},Ex=e=>FF[e];function sj(e,t){let n=Ex(e);return n!==jy&&(n=Lo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $F=new Set(["auto","none","0"]);function BF(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!$F.has(o)&&Sc(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=sj(n,i)}const MP=e=>e===Ks||e===$e,IP=(e,t)=>parseFloat(e.split(", ")[t]),RP=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return IP(i[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?IP(o[1],e):0}},zF=new Set(["x","y","z"]),WF=Gs.filter(e=>!zF.has(e));function VF(e){const t=[];return WF.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Is={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:RP(4,13),y:RP(5,14)};Is.translateX=Is.x;Is.translateY=Is.y;const xa=new Set;let Ty=!1,_y=!1;function lj(){if(_y){const e=Array.from(xa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=VF(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var l;(l=r.getValue(o))===null||l===void 0||l.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_y=!1,Ty=!1,xa.forEach(e=>e.complete()),xa.clear()}function cj(){xa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_y=!0)})}function UF(){cj(),lj()}class Nx{constructor(t,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xa.add(this),Ty||(Ty=!0,At.read(cj),At.resolveKeyframes(lj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const s=i?.get(),l=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const u=r.readValue(n,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),i&&s===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const uj=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),HF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GF(e){const t=HF.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function dj(e,t,n=1){const[r,i]=GF(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return uj(s)?parseFloat(s):s}return cx(i)?dj(i,t,n+1):i}const fj=e=>t=>t.test(e),KF={test:e=>e==="auto",parse:e=>e},pj=[Ks,$e,pi,ko,R4,I4,KF],LP=e=>pj.find(fj(e));class hj extends Nx{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),cx(d))){const f=dj(d,n.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!UO.has(r)||t.length!==2)return;const[i,o]=t,s=LP(i),l=LP(o);if(s!==l)if(MP(s)&&MP(l))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)PF(t[i])&&r.push(i);r.length&&BF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Is[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,l=i[s];i[s]=Is[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,d])=>{n.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const FP=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Lo.test(e)||e==="0")&&!e.startsWith("url("));function qF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function YF(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=FP(i,t),l=FP(o,t);return!s||!l?!1:qF(e)||(n==="spring"||vx(n))&&r}const XF=e=>e!==null;function Rp(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(XF),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const ZF=40;class mj{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hi.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ZF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&UF(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=hi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:l,onUpdate:u,isGenerator:d}=this.options;if(!d&&!YF(t,r,i,o))if(s)this.options.duration=0;else{u&&u(Rp(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const It=(e,t,n)=>e+(t-e)*n;function xg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function QF({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;i=xg(u,l,e+1/3),o=xg(u,l,e),s=xg(u,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function Af(e,t){return n=>n>0?t:e}const bg=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},JF=[Oy,pa,vs],e$=e=>JF.find(t=>t.test(e));function $P(e){const t=e$(e);if(!t)return!1;let n=t.parse(e);return t===vs&&(n=QF(n)),n}const BP=(e,t)=>{const n=$P(e),r=$P(t);if(!n||!r)return Af(e,t);const i={...n};return o=>(i.red=bg(n.red,r.red,o),i.green=bg(n.green,r.green,o),i.blue=bg(n.blue,r.blue,o),i.alpha=It(n.alpha,r.alpha,o),pa.transform(i))},t$=(e,t)=>n=>t(e(n)),Xc=(...e)=>e.reduce(t$),Dy=new Set(["none","hidden"]);function n$(e,t){return Dy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function r$(e,t){return n=>It(e,t,n)}function Ox(e){return typeof e=="number"?r$:typeof e=="string"?cx(e)?Af:Nn.test(e)?BP:a$:Array.isArray(e)?gj:typeof e=="object"?Nn.test(e)?BP:i$:Af}function gj(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>Ox(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function i$(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Ox(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function o$(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],l=e.indexes[s][i[s]],u=(n=e.values[l])!==null&&n!==void 0?n:0;r[o]=u,i[s]++}return r}const a$=(e,t)=>{const n=Lo.createTransformer(t),r=Sc(e),i=Sc(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Dy.has(e)&&!i.values.length||Dy.has(t)&&!r.values.length?n$(e,t):Xc(gj(o$(r,i),i.values),n):Af(e,t)};function vj(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?It(e,t,n):Ox(e)(e,t)}const s$=5;function yj(e,t,n){const r=Math.max(t-s$,0);return HO(n-e(r),t-r)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wg=.001;function l$({duration:e=Bt.duration,bounce:t=Bt.bounce,velocity:n=Bt.velocity,mass:r=Bt.mass}){let i,o,s=1-t;s=Vi(Bt.minDamping,Bt.maxDamping,s),e=Vi(Bt.minDuration,Bt.maxDuration,$i(e)),s<1?(i=d=>{const f=d*s,p=f*e,m=f-n,g=My(d,s),x=Math.exp(-p);return wg-m/g*x},o=d=>{const p=d*s*e,m=p*n+n,g=Math.pow(s,2)*Math.pow(d,2)*e,x=Math.exp(-p),w=My(Math.pow(d,2),s);return(-i(d)+wg>0?-1:1)*((m-g)*x)/w}):(i=d=>{const f=Math.exp(-d*e),p=(d-n)*e+1;return-wg+f*p},o=d=>{const f=Math.exp(-d*e),p=(n-d)*(e*e);return f*p});const l=5/e,u=u$(i,o,l);if(e=Fi(e),isNaN(u))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:e};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:s*2*Math.sqrt(r*d),duration:e}}}const c$=12;function u$(e,t,n){let r=n;for(let i=1;i<c$;i++)r=r-e(r)/t(r);return r}function My(e,t){return e*Math.sqrt(1-t*t)}const d$=["duration","bounce"],f$=["stiffness","damping","mass"];function zP(e,t){return t.some(n=>e[n]!==void 0)}function p$(e){let t={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...e};if(!zP(e,f$)&&zP(e,d$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Vi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Bt.mass,stiffness:i,damping:o}}else{const n=l$(e);t={...t,...n,mass:Bt.mass},t.isResolvedFromDuration=!0}return t}function xj(e=Bt.visualDuration,t=Bt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:u,damping:d,mass:f,duration:p,velocity:m,isResolvedFromDuration:g}=p$({...n,velocity:-$i(n.velocity||0)}),x=m||0,w=d/(2*Math.sqrt(u*f)),b=s-o,C=$i(Math.sqrt(u/f)),k=Math.abs(b)<5;r||(r=k?Bt.restSpeed.granular:Bt.restSpeed.default),i||(i=k?Bt.restDelta.granular:Bt.restDelta.default);let E;if(w<1){const j=My(C,w);E=O=>{const _=Math.exp(-w*C*O);return s-_*((x+w*C*b)/j*Math.sin(j*O)+b*Math.cos(j*O))}}else if(w===1)E=j=>s-Math.exp(-C*j)*(b+(x+C*b)*j);else{const j=C*Math.sqrt(w*w-1);E=O=>{const _=Math.exp(-w*C*O),D=Math.min(j*O,300);return s-_*((x+w*C*b)*Math.sinh(D)+j*b*Math.cosh(D))/j}}const N={calculatedDuration:g&&p||null,next:j=>{const O=E(j);if(g)l.done=j>=p;else{let _=0;w<1&&(_=j===0?Fi(x):yj(E,j,O));const D=Math.abs(_)<=r,z=Math.abs(s-O)<=i;l.done=D&&z}return l.value=l.done?s:O,l},toString:()=>{const j=Math.min(LO(N),ky),O=FO(_=>N.next(j*_).value,j,30);return j+"ms "+O}};return N}function WP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:u,restDelta:d=.5,restSpeed:f}){const p=e[0],m={done:!1,value:p},g=D=>l!==void 0&&D<l||u!==void 0&&D>u,x=D=>l===void 0?u:u===void 0||Math.abs(l-D)<Math.abs(u-D)?l:u;let w=n*t;const b=p+w,C=s===void 0?b:s(b);C!==b&&(w=C-p);const k=D=>-w*Math.exp(-D/r),E=D=>C+k(D),N=D=>{const z=k(D),q=E(D);m.done=Math.abs(z)<=d,m.value=m.done?C:q};let j,O;const _=D=>{g(m.value)&&(j=D,O=xj({keyframes:[m.value,x(m.value)],velocity:yj(E,D,m.value),damping:i,stiffness:o,restDelta:d,restSpeed:f}))};return _(0),{calculatedDuration:null,next:D=>{let z=!1;return!O&&j===void 0&&(z=!0,N(D),_(D)),j!==void 0&&D>=j?O.next(D-j):(!z&&N(D),m)}}}const h$=Yc(.42,0,1,1),m$=Yc(0,0,.58,1),bj=Yc(.42,0,.58,1),g$=e=>Array.isArray(e)&&typeof e[0]!="number",v$={linear:lr,easeIn:h$,easeInOut:bj,easeOut:m$,circIn:Cx,circInOut:ej,circOut:JO,backIn:Px,backInOut:ZO,backOut:XO,anticipate:QO},VP=e=>{if(yx(e)){vO(e.length===4);const[t,n,r,i]=e;return Yc(t,n,r,i)}else if(typeof e=="string")return v$[e];return e};function y$(e,t,n){const r=[],i=n||vj,o=e.length-1;for(let s=0;s<o;s++){let l=i(e[s],e[s+1]);if(t){const u=Array.isArray(t)?t[s]||lr:t;l=Xc(u,l)}r.push(l)}return r}function x$(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(vO(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=y$(t,r,i),u=l.length,d=f=>{if(s&&f<e[0])return t[0];let p=0;if(u>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const m=Ds(e[p],e[p+1],f);return l[p](m)};return n?f=>d(Vi(e[0],e[o-1],f)):d}function b$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ds(0,t,r);e.push(It(n,1,i))}}function w$(e){const t=[0];return b$(t,e.length-1),t}function S$(e,t){return e.map(n=>n*t)}function P$(e,t){return e.map(()=>t||bj).splice(0,e.length-1)}function kf({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=g$(r)?r.map(VP):VP(r),o={done:!1,value:t[0]},s=S$(n&&n.length===t.length?n:w$(t),e),l=x$(s,t,{ease:Array.isArray(i)?i:P$(t,i)});return{calculatedDuration:e,next:u=>(o.value=l(u),o.done=u>=e,o)}}const C$=e=>{const t=({timestamp:n})=>e(n);return{start:()=>At.update(t,!0),stop:()=>Ro(t),now:()=>gn.isProcessing?gn.timestamp:hi.now()}},A$={decay:WP,inertia:WP,tween:kf,keyframes:kf,spring:xj},k$=e=>e/100;class jx extends mj{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=i?.KeyframeResolver||Nx,l=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new s(o,l,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,l=vx(n)?n:A$[n]||kf;let u,d;l!==kf&&typeof t[0]!="number"&&(u=Xc(k$,vj(t[0],t[1])),t=[0,100]);const f=l({...this.options,keyframes:t});o==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=LO(f));const{calculatedDuration:p}=f,m=p+i,g=m*(r+1)-i;return{generator:f,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:p,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:d,totalDuration:f,resolvedDuration:p}=r;if(this.startTime===null)return o.next(0);const{delay:m,repeat:g,repeatType:x,repeatDelay:w,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-m*(this.speed>=0?1:-1),k=this.speed>=0?C<0:C>f;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let E=this.currentTime,N=o;if(g){const D=Math.min(this.currentTime,f)/p;let z=Math.floor(D),q=D%1;!q&&D>=1&&(q=1),q===1&&z--,z=Math.min(z,g+1),z%2&&(x==="reverse"?(q=1-q,w&&(q-=w/p)):x==="mirror"&&(N=s)),E=Vi(0,1,q)*p}const j=k?{done:!1,value:u[0]}:N.next(E);l&&(j.value=l(j.value));let{done:O}=j;!k&&d!==null&&(O=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return _&&i!==void 0&&(j.value=Rp(u,this.options,i)),b&&b(j.value),_&&this.finish(),j}get duration(){const{resolved:t}=this;return t?$i(t.calculatedDuration):0}get time(){return $i(this.currentTime)}set time(t){t=Fi(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=$i(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=C$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const E$=new Set(["opacity","clipPath","filter","transform"]);function N$(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:l="easeInOut",times:u}={}){const d={[t]:n};u&&(d.offset=u);const f=BO(l,i);return Array.isArray(f)&&(d.easing=f),e.animate(d,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const O$=nx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ef=10,j$=2e4;function T$(e){return vx(e.type)||e.type==="spring"||!$O(e.ease)}function _$(e,t){const n=new jx({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<j$;)r=n.sample(o),i.push(r.value),o+=Ef;return{times:void 0,keyframes:i,duration:o-Ef,ease:"linear"}}const wj={anticipate:QO,backInOut:ZO,circInOut:ej};function D$(e){return e in wj}class UP extends mj{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new hj(o,(s,l)=>this.onKeyframesResolved(s,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:l,name:u,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof o=="string"&&Cf()&&D$(o)&&(o=wj[o]),T$(this.options)){const{onComplete:p,onUpdate:m,motionValue:g,element:x,...w}=this.options,b=_$(t,w);t=b.keyframes,t.length===1&&(t[1]=t[0]),r=b.duration,i=b.times,o=b.ease,s="keyframes"}const f=N$(l.owner.current,u,t,{...this.options,duration:r,times:i,ease:o});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(NP(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(Rp(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:s,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return $i(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return $i(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Fi(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return lr;const{animation:r}=n;NP(r,t)}return lr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:f,onComplete:p,element:m,...g}=this.options,x=new jx({...g,keyframes:r,duration:i,type:o,ease:s,times:l,isGenerator:!0}),w=Fi(this.time);d.setWithVelocity(x.sample(w-Ef).value,x.sample(w).value,Ef)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=n.owner.getProps();return O$()&&r&&E$.has(r)&&!u&&!d&&!i&&o!=="mirror"&&s!==0&&l!=="inertia"}}const M$={type:"spring",stiffness:500,damping:25,restSpeed:10},I$=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),R$={type:"keyframes",duration:.8},L$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},F$=(e,{keyframes:t})=>t.length>2?R$:Da.has(e)?e.startsWith("scale")?I$(t[1]):M$:L$;function $$({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const Tx=(e,t,n,r={},i,o)=>s=>{const l=gx(r,e)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Fi(u);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:i};$$(l)||(f={...f,...F$(e,f)}),f.duration&&(f.duration=Fi(f.duration)),f.repeatDelay&&(f.repeatDelay=Fi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!o&&t.get()!==void 0){const m=Rp(f.keyframes,l);if(m!==void 0)return At.update(()=>{f.onUpdate(m),f.onComplete()}),new iF([])}return!o&&UP.supports(f)?new UP(f):new jx(f)};function B$({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Sj(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=e.getDefaultTransition(),transitionEnd:l,...u}=t;r&&(s=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in u){const m=e.getValue(p,(o=e.latestValues[p])!==null&&o!==void 0?o:null),g=u[p];if(g===void 0||f&&B$(f,p))continue;const x={delay:n,...gx(s||{},p)};let w=!1;if(window.MotionHandoffAnimation){const C=GO(e);if(C){const k=window.MotionHandoffAnimation(C,p,At);k!==null&&(x.startTime=k,w=!0)}}Ny(e,p),m.start(Tx(p,m,g,e.shouldReduceMotion&&UO.has(p)?{type:!1}:x,e,w));const b=m.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{At.update(()=>{l&&yF(e,l)})}),d}function Iy(e,t,n={}){var r;const i=Ip(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(Sj(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=o;return z$(e,t,f+d,p,m,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[d,f]=u==="beforeChildren"?[s,l]:[l,s];return d().then(()=>f())}else return Promise.all([s(),l(n.delay)])}function z$(e,t,n=0,r=0,i=1,o){const s=[],l=(e.variantChildren.size-1)*r,u=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(W$).forEach((d,f)=>{d.notify("AnimationStart",t),s.push(Iy(d,t,{...o,delay:n+u(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(s)}function W$(e,t){return e.sortNodePosition(t)}function V$(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>Iy(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=Iy(e,t,n);else{const i=typeof t=="function"?Ip(e,t,n.custom):t;r=Promise.all(Sj(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const U$=ix.length;function Pj(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Pj(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<U$;n++){const r=ix[n],i=e.props[r];(xc(i)||i===!1)&&(t[r]=i)}return t}const H$=[...rx].reverse(),G$=rx.length;function K$(e){return t=>Promise.all(t.map(({animation:n,options:r})=>V$(e,n,r)))}function q$(e){let t=K$(e),n=HP(),r=!0;const i=u=>(d,f)=>{var p;const m=Ip(e,f,u==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(m){const{transition:g,transitionEnd:x,...w}=m;d={...d,...w,...x}}return d};function o(u){t=u(e)}function s(u){const{props:d}=e,f=Pj(e.parent)||{},p=[],m=new Set;let g={},x=1/0;for(let b=0;b<G$;b++){const C=H$[b],k=n[C],E=d[C]!==void 0?d[C]:f[C],N=xc(E),j=C===u?k.isActive:null;j===!1&&(x=b);let O=E===f[C]&&E!==d[C]&&N;if(O&&r&&e.manuallyAnimateOnMount&&(O=!1),k.protectedKeys={...g},!k.isActive&&j===null||!E&&!k.prevProp||Dp(E)||typeof E=="boolean")continue;const _=Y$(k.prevProp,E);let D=_||C===u&&k.isActive&&!O&&N||b>x&&N,z=!1;const q=Array.isArray(E)?E:[E];let G=q.reduce(i(C),{});j===!1&&(G={});const{prevResolvedValues:F={}}=k,U={...F,...G},fe=Q=>{D=!0,m.has(Q)&&(z=!0,m.delete(Q)),k.needsAnimating[Q]=!0;const Y=e.getValue(Q);Y&&(Y.liveStyle=!1)};for(const Q in U){const Y=G[Q],re=F[Q];if(g.hasOwnProperty(Q))continue;let te=!1;Ay(Y)&&Ay(re)?te=!RO(Y,re):te=Y!==re,te?Y!=null?fe(Q):m.add(Q):Y!==void 0&&m.has(Q)?fe(Q):k.protectedKeys[Q]=!0}k.prevProp=E,k.prevResolvedValues=G,k.isActive&&(g={...g,...G}),r&&e.blockInitialAnimation&&(D=!1),D&&(!(O&&_)||z)&&p.push(...q.map(Q=>({animation:Q,options:{type:C}})))}if(m.size){const b={};m.forEach(C=>{const k=e.getBaseTarget(C),E=e.getValue(C);E&&(E.liveStyle=!0),b[C]=k??null}),p.push({animation:b})}let w=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(p):Promise.resolve()}function l(u,d){var f;if(n[u].isActive===d)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(u,d)}),n[u].isActive=d;const p=s(u);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=HP(),r=!0}}}function Y$(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!RO(t,e):!1}function ra(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HP(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class zo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class X$ extends zo{constructor(t){super(t),t.animationState||(t.animationState=q$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Dp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Z$=0;class Q$ extends zo{constructor(){super(...arguments),this.id=Z$++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const J$={animation:{Feature:X$},exit:{Feature:Q$}};function Pc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Zc(e){return{point:{x:e.pageX,y:e.pageY}}}const eB=e=>t=>xx(t)&&e(t,Zc(t));function dc(e,t,n,r){return Pc(e,t,eB(n),r)}const GP=(e,t)=>Math.abs(e-t);function tB(e,t){const n=GP(e.x,t.x),r=GP(e.y,t.y);return Math.sqrt(n**2+r**2)}class Cj{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Pg(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=tB(p.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:x}=p,{timestamp:w}=gn;this.history.push({...x,timestamp:w});const{onStart:b,onMove:C}=this.handlers;m||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Sg(m,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Pg(p.type==="pointercancel"?this.lastMoveEventInfo:Sg(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(p,b),x&&x(p,b)},!xx(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Zc(t),l=Sg(s,this.transformPagePoint),{point:u}=l,{timestamp:d}=gn;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Pg(l,this.history)),this.removeListeners=Xc(dc(this.contextWindow,"pointermove",this.handlePointerMove),dc(this.contextWindow,"pointerup",this.handlePointerUp),dc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ro(this.updatePoint)}}function Sg(e,t){return t?{point:t(e.point)}:e}function KP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Pg({point:e},t){return{point:e,delta:KP(e,Aj(t)),offset:KP(e,nB(t)),velocity:rB(t,.1)}}function nB(e){return e[0]}function Aj(e){return e[e.length-1]}function rB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Aj(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Fi(t)));)n--;if(!r)return{x:0,y:0};const o=$i(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const kj=1e-4,iB=1-kj,oB=1+kj,Ej=.01,aB=0-Ej,sB=0+Ej;function fr(e){return e.max-e.min}function lB(e,t,n){return Math.abs(e-t)<=n}function qP(e,t,n,r=.5){e.origin=r,e.originPoint=It(t.min,t.max,e.origin),e.scale=fr(n)/fr(t),e.translate=It(n.min,n.max,e.origin)-e.originPoint,(e.scale>=iB&&e.scale<=oB||isNaN(e.scale))&&(e.scale=1),(e.translate>=aB&&e.translate<=sB||isNaN(e.translate))&&(e.translate=0)}function fc(e,t,n,r){qP(e.x,t.x,n.x,r?r.originX:void 0),qP(e.y,t.y,n.y,r?r.originY:void 0)}function YP(e,t,n){e.min=n.min+t.min,e.max=e.min+fr(t)}function cB(e,t,n){YP(e.x,t.x,n.x),YP(e.y,t.y,n.y)}function XP(e,t,n){e.min=t.min-n.min,e.max=e.min+fr(t)}function pc(e,t,n){XP(e.x,t.x,n.x),XP(e.y,t.y,n.y)}function uB(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?It(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?It(n,e,r.max):Math.min(e,n)),e}function ZP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function dB(e,{top:t,left:n,bottom:r,right:i}){return{x:ZP(e.x,n,i),y:ZP(e.y,t,r)}}function QP(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function fB(e,t){return{x:QP(e.x,t.x),y:QP(e.y,t.y)}}function pB(e,t){let n=.5;const r=fr(e),i=fr(t);return i>r?n=Ds(t.min,t.max-r,e.min):r>i&&(n=Ds(e.min,e.max-i,t.min)),Vi(0,1,n)}function hB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ry=.35;function mB(e=Ry){return e===!1?e=0:e===!0&&(e=Ry),{x:JP(e,"left","right"),y:JP(e,"top","bottom")}}function JP(e,t,n){return{min:e2(e,t),max:e2(e,n)}}function e2(e,t){return typeof e=="number"?e:e[t]||0}const t2=()=>({translate:0,scale:1,origin:0,originPoint:0}),ys=()=>({x:t2(),y:t2()}),n2=()=>({min:0,max:0}),Vt=()=>({x:n2(),y:n2()});function kr(e){return[e("x"),e("y")]}function Nj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function gB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vB(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Cg(e){return e===void 0||e===1}function Ly({scale:e,scaleX:t,scaleY:n}){return!Cg(e)||!Cg(t)||!Cg(n)}function sa(e){return Ly(e)||Oj(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Oj(e){return r2(e.x)||r2(e.y)}function r2(e){return e&&e!=="0%"}function Nf(e,t,n){const r=e-n,i=t*r;return n+i}function i2(e,t,n,r,i){return i!==void 0&&(e=Nf(e,i,r)),Nf(e,n,r)+t}function Fy(e,t=0,n=1,r,i){e.min=i2(e.min,t,n,r,i),e.max=i2(e.max,t,n,r,i)}function jj(e,{x:t,y:n}){Fy(e.x,t.translate,t.scale,t.originPoint),Fy(e.y,n.translate,n.scale,n.originPoint)}const o2=.999999999999,a2=1.0000000000001;function yB(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let l=0;l<i;l++){o=n[l],s=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&bs(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,jj(e,s)),r&&sa(o.latestValues)&&bs(e,o.latestValues))}t.x<a2&&t.x>o2&&(t.x=1),t.y<a2&&t.y>o2&&(t.y=1)}function xs(e,t){e.min=e.min+t,e.max=e.max+t}function s2(e,t,n,r,i=.5){const o=It(e.min,e.max,i);Fy(e,t,n,o,r)}function bs(e,t){s2(e.x,t.x,t.scaleX,t.scale,t.originX),s2(e.y,t.y,t.scaleY,t.scale,t.originY)}function Tj(e,t){return Nj(vB(e.getBoundingClientRect(),t))}function xB(e,t,n){const r=Tj(e,n),{scroll:i}=t;return i&&(xs(r.x,i.offset.x),xs(r.y,i.offset.y)),r}const _j=({current:e})=>e?e.ownerDocument.defaultView:null,bB=new WeakMap;class wB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Zc(f).point)},o=(f,p)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pF(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kr(b=>{let C=this.getAxisMotionValue(b).get()||0;if(pi.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const E=k.layout.layoutBox[b];E&&(C=fr(E)*(parseFloat(C)/100))}}this.originPoint[b]=C}),x&&At.postRender(()=>x(f,p)),Ny(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},s=(f,p)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=p;if(g&&this.currentDirection===null){this.currentDirection=SB(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,b),this.updateAxis("y",p.point,b),this.visualElement.render(),w&&w(f,p)},l=(f,p)=>this.stop(f,p),u=()=>kr(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Cj(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:_j(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&At.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Id(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=uB(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&gs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=dB(i.layoutBox,n):this.constraints=!1,this.elastic=mB(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&kr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=hB(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!gs(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=xB(r,i.root,this.visualElement.getTransformPagePoint());let s=fB(i.layout.layoutBox,o);if(n){const l=n(gB(s));this.hasMutatedConstraints=!!l,l&&(s=Nj(l))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=kr(f=>{if(!Id(f,n,this.currentDirection))return;let p=u&&u[f]||{};s&&(p={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:r?t[f]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(f,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Ny(this.visualElement,t),r.start(Tx(t,r,0,n,this.visualElement,!1))}stopAnimation(){kr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){kr(n=>{const{drag:r}=this.getProps();if(!Id(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[n];o.set(t[n]-It(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};kr(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const u=l.get();i[s]=pB({min:u,max:u},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kr(s=>{if(!Id(s,t,null))return;const l=this.getAxisMotionValue(s),{min:u,max:d}=this.constraints[s];l.set(It(u,d,i[s]))})}addListeners(){if(!this.visualElement.current)return;bB.set(this.visualElement,this);const t=this.visualElement.current,n=dc(t,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();gs(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),At.read(r);const s=Pc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(kr(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())}));return()=>{s(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Ry,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:l}}}function Id(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function SB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class PB extends zo{constructor(t){super(t),this.removeGroupControls=lr,this.removeListeners=lr,this.controls=new wB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const l2=e=>(t,n)=>{e&&At.postRender(()=>e(t,n))};class CB extends zo{constructor(){super(...arguments),this.removePointerDownListener=lr}onPointerDown(t){this.session=new Cj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_j(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:l2(t),onStart:l2(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&At.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=dc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Hl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($e.test(e))e=parseFloat(e);else return e;const n=c2(e,t.target.x),r=c2(e,t.target.y);return`${n}% ${r}%`}},AB={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Lo.parse(e);if(i.length>5)return r;const o=Lo.createTransformer(e),s=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,u=n.y.scale*t.y;i[0+s]/=l,i[1+s]/=u;const d=It(l,u,.5);return typeof i[2+s]=="number"&&(i[2+s]/=d),typeof i[3+s]=="number"&&(i[3+s]/=d),o(i)}};class kB extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;G4(EB),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),uf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||At.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ax.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Dj(e){const[t,n]=mO(),r=P.useContext(Q0);return y.jsx(kB,{...e,layoutGroup:r,switchLayoutGroup:P.useContext(PO),isPresent:t,safeToRemove:n})}const EB={borderRadius:{...Hl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hl,borderTopRightRadius:Hl,borderBottomLeftRadius:Hl,borderBottomRightRadius:Hl,boxShadow:AB};function NB(e,t,n){const r=Tn(e)?e:wc(e);return r.start(Tx("",r,t,n)),r.animation}function OB(e){return e instanceof SVGElement&&e.tagName!=="svg"}const jB=(e,t)=>e.depth-t.depth;class TB{constructor(){this.children=[],this.isDirty=!1}add(t){bx(this.children,t),this.isDirty=!0}remove(t){wx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jB),this.isDirty=!1,this.children.forEach(t)}}function _B(e,t){const n=hi.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Ro(r),e(o-t))};return At.read(r,!0),()=>Ro(r)}const Mj=["TopLeft","TopRight","BottomLeft","BottomRight"],DB=Mj.length,u2=e=>typeof e=="string"?parseFloat(e):e,d2=e=>typeof e=="number"||$e.test(e);function MB(e,t,n,r,i,o){i?(e.opacity=It(0,n.opacity!==void 0?n.opacity:1,IB(r)),e.opacityExit=It(t.opacity!==void 0?t.opacity:1,0,RB(r))):o&&(e.opacity=It(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<DB;s++){const l=`border${Mj[s]}Radius`;let u=f2(t,l),d=f2(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||d2(u)===d2(d)?(e[l]=Math.max(It(u2(u),u2(d),r),0),(pi.test(d)||pi.test(u))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=It(t.rotate||0,n.rotate||0,r))}function f2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const IB=Ij(0,.5,JO),RB=Ij(.5,.95,lr);function Ij(e,t,n){return r=>r<e?0:r>t?1:n(Ds(e,t,r))}function p2(e,t){e.min=t.min,e.max=t.max}function Sr(e,t){p2(e.x,t.x),p2(e.y,t.y)}function h2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function m2(e,t,n,r,i){return e-=t,e=Nf(e,1/n,r),i!==void 0&&(e=Nf(e,1/i,r)),e}function LB(e,t=0,n=1,r=.5,i,o=e,s=e){if(pi.test(t)&&(t=parseFloat(t),t=It(s.min,s.max,t/100)-s.min),typeof t!="number")return;let l=It(o.min,o.max,r);e===o&&(l-=t),e.min=m2(e.min,t,n,l,i),e.max=m2(e.max,t,n,l,i)}function g2(e,t,[n,r,i],o,s){LB(e,t[n],t[r],t[i],t.scale,o,s)}const FB=["x","scaleX","originX"],$B=["y","scaleY","originY"];function v2(e,t,n,r){g2(e.x,t,FB,n?n.x:void 0,r?r.x:void 0),g2(e.y,t,$B,n?n.y:void 0,r?r.y:void 0)}function y2(e){return e.translate===0&&e.scale===1}function Rj(e){return y2(e.x)&&y2(e.y)}function x2(e,t){return e.min===t.min&&e.max===t.max}function BB(e,t){return x2(e.x,t.x)&&x2(e.y,t.y)}function b2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Lj(e,t){return b2(e.x,t.x)&&b2(e.y,t.y)}function w2(e){return fr(e.x)/fr(e.y)}function S2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zB{constructor(){this.members=[]}add(t){bx(this.members,t),t.scheduleRender()}remove(t){if(wx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WB(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=n?.z||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:m,skewX:g,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const la={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ac=typeof window<"u"&&window.MotionDebug!==void 0,Ag=["","X","Y","Z"],VB={visibility:"hidden"},P2=1e3;let UB=0;function kg(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Fj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=GO(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",At,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Fj(r)}function $j({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},l=t?.()){this.id=UB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ac&&(la.totalNodes=la.resolvedTargetDeltas=la.recalculatedProjection=0),this.nodes.forEach(KB),this.nodes.forEach(QB),this.nodes.forEach(JB),this.nodes.forEach(qB),ac&&window.MotionDebug.record(la)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new TB)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Sx),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const u=this.eventHandlers.get(s);u&&u.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=OB(s),this.instance=s;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),e){let p;const m=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=_B(m,250),uf.hasAnimatedSinceResize&&(uf.hasAnimatedSinceResize=!1,this.nodes.forEach(A2))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||iz,{onLayoutAnimationStart:b,onLayoutAnimationComplete:C}=f.getProps(),k=!this.targetLayout||!Lj(this.targetLayout,x)||g,E=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||m&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,E);const N={...gx(w,"layout"),onPlay:b,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||A2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ro(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ez),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C2);return}this.isUpdating||this.nodes.forEach(XB),this.isUpdating=!1,this.nodes.forEach(ZB),this.nodes.forEach(HB),this.nodes.forEach(GB),this.clearAllSnapshots();const l=hi.now();gn.delta=Vi(0,1e3/60,l-gn.timestamp),gn.timestamp=l,gn.isProcessing=!0,gg.update.process(gn),gg.preRender.process(gn),gg.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ax.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YB),this.sharedNodes.forEach(tz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Rj(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;s&&(l||sa(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return s&&(u=this.removeTransform(u)),oz(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:l}=this.options;if(!l)return Vt();const u=l.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(az))){const{scroll:f}=this.root;f&&(xs(u.x,f.offset.x),xs(u.y,f.offset.y))}return u}removeElementScroll(s){var l;const u=Vt();if(Sr(u,s),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Sr(u,s),xs(u.x,p.offset.x),xs(u.y,p.offset.y))}return u}applyTransform(s,l=!1){const u=Vt();Sr(u,s);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&bs(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),sa(f.latestValues)&&bs(u,f.latestValues)}return sa(this.latestValues)&&bs(u,this.latestValues),u}removeTransform(s){const l=Vt();Sr(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!sa(d.latestValues))continue;Ly(d.latestValues)&&d.updateSnapshot();const f=Vt(),p=d.measurePageBox();Sr(f,p),v2(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return sa(this.latestValues)&&v2(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(s||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=gn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),pc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sr(this.target,this.layout.layoutBox),jj(this.target,this.targetDelta)):Sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),pc(this.relativeTargetOrigin,this.target,g.target),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ac&&la.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ly(this.parent.latestValues)||Oj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Sr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;yB(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Vt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(h2(this.prevProjectionDelta.x,this.projectionDelta.x),h2(this.prevProjectionDelta.y,this.projectionDelta.y)),fc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!S2(this.projectionDelta.x,this.prevProjectionDelta.x)||!S2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ac&&la.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),s){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ys(),this.projectionDelta=ys(),this.projectionDeltaWithTransform=ys()}setAnimationOrigin(s,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},p=ys();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Vt(),g=u?u.source:void 0,x=this.layout?this.layout.source:void 0,w=g!==x,b=this.getStack(),C=!b||b.members.length<=1,k=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(rz));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const j=N/1e3;k2(p.x,s.x,j),k2(p.y,s.y,j),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nz(this.relativeTarget,this.relativeTargetOrigin,m,j),E&&BB(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Vt()),Sr(E,this.relativeTarget)),w&&(this.animationValues=f,MB(f,d,this.latestValues,j,k,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ro(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{uf.hasAnimatedSinceResize=!0,this.currentAnimation=NB(0,P2,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=s;if(!(!l||!u||!d)){if(this!==s&&this.layout&&d&&Bj(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Vt();const p=fr(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+p;const m=fr(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+m}Sr(l,u),bs(l,f),fc(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new zB),this.sharedNodes.get(s).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:l}=this.options;return l?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:l}=this.options;return l?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&kg("z",s,d,this.animationValues);for(let f=0;f<Ag.length;f++)kg(`rotate${Ag[f]}`,s,d,this.animationValues),kg(`skew${Ag[f]}`,s,d,this.animationValues);s.render();for(const f in d)s.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);s.scheduleRender()}getProjectionStyles(s){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return VB;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=lf(s?.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=lf(s?.pointerEvents)||""),this.hasProjected&&!sa(this.latestValues)&&(w.transform=f?f({},""):"none",this.hasProjected=!1),w}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=WB(this.projectionDeltaWithTransform,this.treeScale,m),f&&(d.transform=f(m,d.transform));const{x:g,y:x}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,p.animationValues?d.opacity=p===this?(u=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in Pf){if(m[w]===void 0)continue;const{correct:b,applyTo:C}=Pf[w],k=d.transform==="none"?m[w]:b(m[w],p);if(C){const E=C.length;for(let N=0;N<E;N++)d[C[N]]=k}else d[w]=k}return this.options.layoutId&&(d.pointerEvents=p===this?lf(s?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(C2),this.root.sharedNodes.clear()}}}function HB(e){e.updateLayout()}function GB(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?kr(p=>{const m=s?n.measuredBox[p]:n.layoutBox[p],g=fr(m);m.min=r[p].min,m.max=m.min+g}):Bj(o,n.layoutBox,r)&&kr(p=>{const m=s?n.measuredBox[p]:n.layoutBox[p],g=fr(r[p]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+g)});const l=ys();fc(l,r,n.layoutBox);const u=ys();s?fc(u,e.applyTransform(i,!0),n.measuredBox):fc(u,r,n.layoutBox);const d=!Rj(l);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:g}=p;if(m&&g){const x=Vt();pc(x,n.layoutBox,m.layoutBox);const w=Vt();pc(w,r,g.layoutBox),Lj(x,w)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=x,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function KB(e){ac&&la.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function qB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function YB(e){e.clearSnapshot()}function C2(e){e.clearMeasurements()}function XB(e){e.isLayoutDirty=!1}function ZB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function A2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function QB(e){e.resolveTargetDelta()}function JB(e){e.calcProjection()}function ez(e){e.resetSkewAndRotation()}function tz(e){e.removeLeadSnapshot()}function k2(e,t,n){e.translate=It(t.translate,0,n),e.scale=It(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function E2(e,t,n,r){e.min=It(t.min,n.min,r),e.max=It(t.max,n.max,r)}function nz(e,t,n,r){E2(e.x,t.x,n.x,r),E2(e.y,t.y,n.y,r)}function rz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const iz={duration:.45,ease:[.4,0,.1,1]},N2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),O2=N2("applewebkit/")&&!N2("chrome/")?Math.round:lr;function j2(e){e.min=O2(e.min),e.max=O2(e.max)}function oz(e){j2(e.x),j2(e.y)}function Bj(e,t,n){return e==="position"||e==="preserve-aspect"&&!lB(w2(t),w2(n),.2)}function az(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const sz=$j({attachResizeListener:(e,t)=>Pc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Eg={current:void 0},zj=$j({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Eg.current){const e=new sz({});e.mount(window),e.setOptions({layoutScroll:!0}),Eg.current=e}return Eg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lz={pan:{Feature:CB},drag:{Feature:PB,ProjectionNode:zj,MeasureLayout:Dj}};function T2(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&At.postRender(()=>o(t,Zc(t)))}class cz extends zo{mount(){const{current:t}=this.node;t&&(this.unmount=lF(t,n=>(T2(this.node,n,"Start"),r=>T2(this.node,r,"End"))))}unmount(){}}class uz extends zo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xc(Pc(this.node.current,"focus",()=>this.onFocus()),Pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _2(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&At.postRender(()=>o(t,Zc(t)))}class dz extends zo{mount(){const{current:t}=this.node;t&&(this.unmount=fF(t,n=>(_2(this.node,n,"Start"),(r,{success:i})=>_2(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $y=new WeakMap,Ng=new WeakMap,fz=e=>{const t=$y.get(e.target);t&&t(e)},pz=e=>{e.forEach(fz)};function hz({root:e,...t}){const n=e||document;Ng.has(n)||Ng.set(n,{});const r=Ng.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(pz,{root:e,...t})),r[i]}function mz(e,t,n){const r=hz(t);return $y.set(e,n),r.observe(e),()=>{$y.delete(e),r.unobserve(e)}}const gz={some:0,all:1};class vz extends zo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gz[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),m=d?f:p;m&&m(u)};return mz(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yz(t,n))&&this.startObserver()}unmount(){}}function yz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const xz={inView:{Feature:vz},tap:{Feature:dz},focus:{Feature:uz},hover:{Feature:cz}},bz={layout:{ProjectionNode:zj,MeasureLayout:Dj}},By={current:null},Wj={current:!1};function wz(){if(Wj.current=!0,!!tx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>By.current=e.matches;e.addListener(t),t()}else By.current=!1}const Sz=[...pj,Nn,Lo],Pz=e=>Sz.find(fj(e)),D2=new WeakMap;function Cz(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Tn(i))e.addValue(r,i);else if(Tn(o))e.addValue(r,wc(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,wc(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const M2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Az{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=hi.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,At.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:f}=s;this.onUpdate=f,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Mp(n),this.isVariantNode=wO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const x=m[g];u[g]!==void 0&&Tn(x)&&x.set(u[g],!1)}}mount(t){this.current=t,D2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Wj.current||wz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:By.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){D2.delete(this.current),this.projection&&this.projection.unmount(),Ro(this.notifyUpdate),Ro(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Da.has(t),i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&At.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ms){const n=Ms[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<M2.length;r++){const i=M2[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Cz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=wc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(uj(i)||tj(i))?i=parseFloat(i):!Pz(i)&&Lo.test(n)&&(i=sj(t,n)),this.setBaseTarget(t,Tn(i)?i.get():i)),Tn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=lx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Tn(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Sx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Vj extends Az{constructor(){super(...arguments),this.KeyframeResolver=hj}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Tn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kz(e){return window.getComputedStyle(e)}class Ez extends Vj{constructor(){super(...arguments),this.type="html",this.renderInstance=jO}readValueFromInstance(t,n){if(Da.has(n)){const r=Ex(n);return r&&r.default||0}else{const r=kz(t),i=(EO(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Tj(t,n)}build(t,n,r){dx(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return mx(t,n,r)}}class Nz extends Vj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Da.has(n)){const r=Ex(n);return r&&r.default||0}return n=TO.has(n)?n:ox(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return MO(t,n,r)}build(t,n,r){fx(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){_O(t,n,r,i)}mount(t){this.isSVGTag=hx(t.tagName),super.mount(t)}}const Oz=(e,t)=>sx(e)?new Nz(t):new Ez(t,{allowProjection:e!==P.Fragment}),jz=tF({...J$,...xz,...lz,...bz},Oz),Je=g4(jz);var Er=function(e,t){return Number(e.toFixed(t))},Tz=function(e,t){return t},Ot=function(e,t,n){n&&typeof n=="function"&&n(e,t)},_z=function(e){return-Math.cos(e*Math.PI)/2+.5},Dz=function(e){return e},Mz=function(e){return e*e},Iz=function(e){return e*(2-e)},Rz=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},Lz=function(e){return e*e*e},Fz=function(e){return--e*e*e+1},$z=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},Bz=function(e){return e*e*e*e},zz=function(e){return 1- --e*e*e*e},Wz=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},Vz=function(e){return e*e*e*e*e},Uz=function(e){return 1+--e*e*e*e*e},Hz=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},Uj={easeOut:_z,linear:Dz,easeInQuad:Mz,easeOutQuad:Iz,easeInOutQuad:Rz,easeInCubic:Lz,easeOutCubic:Fz,easeInOutCubic:$z,easeInQuart:Bz,easeOutQuart:zz,easeInOutQuart:Wz,easeInQuint:Vz,easeOutQuint:Uz,easeInOutQuint:Hz},Hj=function(e){typeof e=="number"&&cancelAnimationFrame(e)},Ur=function(e){e.mounted&&(Hj(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function Gj(e,t,n,r){if(e.mounted){var i=new Date().getTime(),o=1;Ur(e),e.animation=function(){if(!e.mounted)return Hj(e.animation);var s=new Date().getTime()-i,l=s/n,u=Uj[t],d=u(l);s>=n?(r(o),e.animation=null):e.animation&&(r(d),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function Gz(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}function Wo(e,t,n,r){var i=Gz(t);if(!(!e.mounted||!i)){var o=e.setTransformState,s=e.transformState,l=s.scale,u=s.positionX,d=s.positionY,f=t.scale-l,p=t.positionX-u,m=t.positionY-d;n===0?o(t.scale,t.positionX,t.positionY):Gj(e,r,n,function(g){var x=l+f*g,w=u+p*g,b=d+m*g;o(x,w,b)})}}function Kz(e,t,n){var r=e.offsetWidth,i=e.offsetHeight,o=t.offsetWidth,s=t.offsetHeight,l=o*n,u=s*n,d=r-l,f=i-u;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:l,newDiffWidth:d,newContentHeight:u,newDiffHeight:f}}var qz=function(e,t,n,r,i,o,s){var l=e>t?n*(s?1:.5):0,u=r>i?o*(s?1:.5):0,d=e-t-l,f=l,p=r-i-u,m=u;return{minPositionX:d,maxPositionX:f,minPositionY:p,maxPositionY:m}},_x=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,i=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var o=Kz(n,r,t),s=o.wrapperWidth,l=o.wrapperHeight,u=o.newContentWidth,d=o.newDiffWidth,f=o.newContentHeight,p=o.newDiffHeight,m=qz(s,u,d,l,f,p,!!i);return m},zy=function(e,t,n,r){return r?e<t?Er(t,2):e>n?Er(n,2):Er(e,2):Er(e,2)},ba=function(e,t){var n=_x(e,t);return e.bounds=n,n};function Qc(e,t,n,r,i,o,s){var l=n.minPositionX,u=n.minPositionY,d=n.maxPositionX,f=n.maxPositionY,p=0,m=0;s&&(p=i,m=o);var g=zy(e,l-p,d+p,r),x=zy(t,u-m,f+m,r);return{x:g,y:x}}function Lp(e,t,n,r,i,o){var s=e.transformState,l=s.scale,u=s.positionX,d=s.positionY,f=r-l;if(typeof t!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:u,y:d};var p=u-t*f,m=d-n*f,g=Qc(p,m,i,o,0,0,null);return g}function Jc(e,t,n,r,i){var o=i?r:0,s=t-o;return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=s?s:e}var I2=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,i=e.wrapperComponent,o=t.target,s="shadowRoot"in o&&"composedPath"in t,l=s?t.composedPath().some(function(f){return f instanceof Element?i?.contains(f):!1}):i?.contains(o),u=r&&o&&l;if(!u)return!1;var d=Fp(o,n);return!d},R2=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup,i=r.panning.disabled,o=t&&n&&!i;return!!o},Yz=function(e,t){var n=e.transformState,r=n.positionX,i=n.positionY;e.isPanning=!0;var o=t.clientX,s=t.clientY;e.startCoords={x:o-r,y:s-i}},Xz=function(e,t){var n=t.touches,r=e.transformState,i=r.positionX,o=r.positionY;e.isPanning=!0;var s=n.length===1;if(s){var l=n[0].clientX,u=n[0].clientY;e.startCoords={x:l-i,y:u-o}}};function Zz(e){var t=e.transformState,n=t.positionX,r=t.positionY,i=t.scale,o=e.setup,s=o.disabled,l=o.limitToBounds,u=o.centerZoomedOut,d=e.wrapperComponent;if(!(s||!d||!e.bounds)){var f=e.bounds,p=f.maxPositionX,m=f.minPositionX,g=f.maxPositionY,x=f.minPositionY,w=n>p||n<m,b=r>g||r<x,C=n>p?d.offsetWidth:e.setup.minPositionX||0,k=r>g?d.offsetHeight:e.setup.minPositionY||0,E=Lp(e,C,k,i,e.bounds,l||u),N=E.x,j=E.y;return{scale:i,positionX:w?N:n,positionY:b?j:r}}}function Kj(e,t,n,r,i){var o=e.setup.limitToBounds,s=e.wrapperComponent,l=e.bounds,u=e.transformState,d=u.scale,f=u.positionX,p=u.positionY;if(!(s===null||l===null||t===f&&n===p)){var m=Qc(t,n,l,o,r,i,s),g=m.x,x=m.y;e.setTransformState(d,g,x)}}var Qz=function(e,t,n){var r=e.startCoords,i=e.transformState,o=e.setup.panning,s=o.lockAxisX,l=o.lockAxisY,u=i.positionX,d=i.positionY;if(!r)return{x:u,y:d};var f=t-r.x,p=n-r.y,m=s?u:f,g=l?d:p;return{x:m,y:g}},Fo=function(e,t){var n=e.setup,r=e.transformState,i=r.scale,o=n.minScale,s=n.disablePadding;return t>0&&i>=o&&!s?t:0},Jz=function(e){var t=e.mounted,n=e.setup,r=n.disabled,i=n.velocityAnimation,o=e.transformState.scale,s=i.disabled,l=!s||o>1||!r||t;return!!l},e6=function(e){var t=e.mounted,n=e.velocity,r=e.bounds,i=e.setup,o=i.disabled,s=i.velocityAnimation,l=e.transformState.scale,u=s.disabled,d=!u||l>1||!o||t;return!(!d||!n||!r)};function t6(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,i=n.animationTime,o=n.sensitivity;return r?i*t*o:i}function L2(e,t,n,r,i,o,s,l,u,d){if(i){if(t>s&&n>s){var f=s+(e-s)*d;return f>u?u:f<s?s:f}if(t<o&&n<o){var f=o+(e-o)*d;return f<l?l:f>o?o:f}}return r?t:zy(e,o,s,i)}function n6(e,t){var n=1;return t?Math.min(n,e.offsetWidth/window.innerWidth):n}function r6(e,t){var n=Jz(e);if(n){var r=e.lastMousePosition,i=e.velocityTime,o=e.setup,s=e.wrapperComponent,l=o.velocityAnimation.equalToMove,u=Date.now();if(r&&i&&s){var d=n6(s,l),f=t.x-r.x,p=t.y-r.y,m=f/d,g=p/d,x=u-i,w=f*f+p*p,b=Math.sqrt(w)/x;e.velocity={velocityX:m,velocityY:g,total:b}}e.lastMousePosition=t,e.velocityTime=u}}function i6(e){var t=e.velocity,n=e.bounds,r=e.setup,i=e.wrapperComponent,o=e6(e);if(!(!o||!t||!n||!i)){var s=t.velocityX,l=t.velocityY,u=t.total,d=n.maxPositionX,f=n.minPositionX,p=n.maxPositionY,m=n.minPositionY,g=r.limitToBounds,x=r.alignmentAnimation,w=r.zoomAnimation,b=r.panning,C=b.lockAxisY,k=b.lockAxisX,E=w.animationType,N=x.sizeX,j=x.sizeY,O=x.velocityAlignmentTime,_=O,D=t6(e,u),z=Math.max(D,_),q=Fo(e,N),G=Fo(e,j),F=q*i.offsetWidth/100,U=G*i.offsetHeight/100,fe=d+F,ue=f-F,be=p+U,Q=m-U,Y=e.transformState,re=new Date().getTime();Gj(e,E,z,function(te){var R=e.transformState,W=R.scale,ie=R.positionX,oe=R.positionY,de=new Date().getTime()-re,X=de/_,B=Uj[x.animationType],ee=1-B(Math.min(1,X)),L=1-te,ne=ie+s*L,pe=oe+l*L,I=L2(ne,Y.positionX,ie,k,g,f,d,ue,fe,ee),Ce=L2(pe,Y.positionY,oe,C,g,m,p,Q,be,ee);(ie!==ne||oe!==pe)&&e.setTransformState(W,I,Ce)})}}function F2(e,t){var n=e.transformState.scale;Ur(e),ba(e,n),window.TouchEvent!==void 0&&t instanceof TouchEvent?Xz(e,t):Yz(e,t)}function Dx(e,t){var n=e.transformState.scale,r=e.setup,i=r.minScale,o=r.alignmentAnimation,s=o.disabled,l=o.sizeX,u=o.sizeY,d=o.animationTime,f=o.animationType,p=s||n<i||!l&&!u;if(!p){var m=Zz(e);m&&Wo(e,m,t??d,f)}}function $2(e,t,n){var r=e.startCoords,i=e.setup,o=i.alignmentAnimation,s=o.sizeX,l=o.sizeY;if(r){var u=Qz(e,t,n),d=u.x,f=u.y,p=Fo(e,s),m=Fo(e,l);r6(e,{x:d,y:f}),Kj(e,d,f,p,m)}}function o6(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var o=r?.getBoundingClientRect(),s=i?.getBoundingClientRect(),l=o?.width||0,u=o?.height||0,d=s?.width||0,f=s?.height||0,p=l<d||u<f,m=!t&&n&&n?.total>.1&&p;m?i6(e):Dx(e)}}function Mx(e,t,n,r){var i=e.setup,o=i.minScale,s=i.maxScale,l=i.limitToBounds,u=Jc(Er(t,2),o,s,0,!1),d=ba(e,u),f=Lp(e,n,r,u,d,l),p=f.x,m=f.y;return{scale:u,positionX:p,positionY:m}}function qj(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,s=o.minScale,l=o.limitToBounds,u=o.zoomAnimation,d=u.disabled,f=u.animationTime,p=u.animationType,m=d||r>=s;if((r>=1||l)&&Dx(e),!(m||!i||!e.mounted)){var g=t||i.offsetWidth/2,x=n||i.offsetHeight/2,w=Mx(e,s,g,x);w&&Wo(e,w,f,p)}}var To=function(){return To=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},To.apply(this,arguments)};function B2(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Rd={scale:1,positionX:0,positionY:0},Gl={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Wy={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},Yj=function(e){var t,n,r,i;return{previousScale:(t=e.initialScale)!==null&&t!==void 0?t:Rd.scale,scale:(n=e.initialScale)!==null&&n!==void 0?n:Rd.scale,positionX:(r=e.initialPositionX)!==null&&r!==void 0?r:Rd.positionX,positionY:(i=e.initialPositionY)!==null&&i!==void 0?i:Rd.positionY}},z2=function(e){var t=To({},Gl);return Object.keys(e).forEach(function(n){var r=typeof e[n]<"u",i=typeof Gl[n]<"u";if(i&&r){var o=Object.prototype.toString.call(Gl[n]),s=o==="[object Object]",l=o==="[object Array]";s?t[n]=To(To({},Gl[n]),e[n]):l?t[n]=B2(B2([],Gl[n],!0),e[n]):t[n]=e[n]}}),t},Xj=function(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,s=o.maxScale,l=o.minScale,u=o.zoomAnimation,d=o.smooth,f=u.size;if(!i)throw new Error("Wrapper is not mounted");var p=d?r*Math.exp(t*n):r+t*n,m=Jc(Er(p,3),l,s,f,!1);return m};function Zj(e,t,n,r,i){var o=e.wrapperComponent,s=e.transformState,l=s.scale,u=s.positionX,d=s.positionY;if(!o)return console.error("No WrapperComponent found");var f=o.offsetWidth,p=o.offsetHeight,m=(f/2-u)/l,g=(p/2-d)/l,x=Xj(e,t,n),w=Mx(e,x,m,g);if(!w)return console.error("Error during zoom event. New transformation state was not calculated.");Wo(e,w,r,i)}function Qj(e,t,n,r){var i=e.setup,o=e.wrapperComponent,s=i.limitToBounds,l=Yj(e.props),u=e.transformState,d=u.scale,f=u.positionX,p=u.positionY;if(o){var m=_x(e,l.scale),g=Qc(l.positionX,l.positionY,m,s,0,0,o),x={scale:l.scale,positionX:g.x,positionY:g.y};d===l.scale&&f===l.positionX&&p===l.positionY||(r?.(),Wo(e,x,t,n))}}function a6(e,t,n,r){var i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),s=n.getBoundingClientRect(),l=o.x*r.scale,u=o.y*r.scale;return{x:(i.x-s.x+l)/r.scale,y:(i.y-s.y+u)/r.scale}}function s6(e,t,n){var r=e.wrapperComponent,i=e.contentComponent,o=e.transformState,s=e.setup,l=s.limitToBounds,u=s.minScale,d=s.maxScale;if(!r||!i)return o;var f=r.getBoundingClientRect(),p=t.getBoundingClientRect(),m=a6(t,r,i,o),g=m.x,x=m.y,w=p.width/o.scale,b=p.height/o.scale,C=r.offsetWidth/w,k=r.offsetHeight/b,E=Jc(n||Math.min(C,k),u,d,0,!1),N=(f.width-w*E)/2,j=(f.height-b*E)/2,O=(f.left-g)*E+N,_=(f.top-x)*E+j,D=_x(e,E),z=Qc(O,_,D,l,0,0,r),q=z.x,G=z.y;return{positionX:q,positionY:G,scale:E}}var l6=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),Zj(e,1,t,n,r)}},c6=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),Zj(e,-1,t,n,r)}},u6=function(e){return function(t,n,r,i,o){i===void 0&&(i=300),o===void 0&&(o="easeOut");var s=e.transformState,l=s.positionX,u=s.positionY,d=s.scale,f=e.wrapperComponent,p=e.contentComponent,m=e.setup.disabled;if(!(m||!f||!p)){var g={positionX:Number.isNaN(t)?l:t,positionY:Number.isNaN(n)?u:n,scale:Number.isNaN(r)?d:r};Wo(e,g,i,o)}}},d6=function(e){return function(t,n){t===void 0&&(t=200),n===void 0&&(n="easeOut"),Qj(e,t,n)}},f6=function(e){return function(t,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var i=e.transformState,o=e.wrapperComponent,s=e.contentComponent;if(o&&s){var l=Jj(t||i.scale,o,s);Wo(e,l,n,r)}}},p6=function(e){return function(t,n,r,i){r===void 0&&(r=600),i===void 0&&(i="easeOut"),Ur(e);var o=e.wrapperComponent,s=typeof t=="string"?document.getElementById(t):t;if(o&&s&&o.contains(s)){var l=s6(e,s,n);Wo(e,l,r,i)}}},Vy=function(e){return{instance:e,zoomIn:l6(e),zoomOut:c6(e),setTransform:u6(e),resetTransform:d6(e),centerView:f6(e),zoomToElement:p6(e)}},h6=function(e){return{instance:e,state:e.transformState}},xt=function(e){var t={};return Object.assign(t,h6(e)),Object.assign(t,Vy(e)),t},Og=!1;function jg(){try{var e={get passive(){return Og=!0,!1}};return e}catch{return Og=!1,Og}}var Ld=".".concat(Wy.wrapperClass),Fp=function(e,t){return t.some(function(n){return e.matches("".concat(Ld," ").concat(n,", ").concat(Ld," .").concat(n,", ").concat(Ld," ").concat(n," *, ").concat(Ld," .").concat(n," *"))})},Uy=function(e){e&&clearTimeout(e)},m6=function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")},Jj=function(e,t,n){var r=n.offsetWidth*e,i=n.offsetHeight*e,o=(t.offsetWidth-r)/2,s=(t.offsetHeight-i)/2;return{scale:e,positionX:o,positionY:s}};function g6(e){return function(t){e.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var v6=function(e,t){var n=e.setup.wheel,r=n.disabled,i=n.wheelDisabled,o=n.touchPadDisabled,s=n.excluded,l=e.isInitialized,u=e.isPanning,d=t.target,f=l&&!u&&!r&&d;if(!f||i&&!t.ctrlKey||o&&t.ctrlKey)return!1;var p=Fp(d,s);return!p},y6=function(e){return e?e.deltaY<0?1:-1:0};function x6(e,t){var n=y6(e),r=Tz(t,n);return r}function eT(e,t,n){var r=t.getBoundingClientRect(),i=0,o=0;if("clientX"in e)i=(e.clientX-r.left)/n,o=(e.clientY-r.top)/n;else{var s=e.touches[0];i=(s.clientX-r.left)/n,o=(s.clientY-r.top)/n}return(Number.isNaN(i)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:i,y:o}}var b6=function(e,t,n,r,i){var o=e.transformState.scale,s=e.wrapperComponent,l=e.setup,u=l.maxScale,d=l.minScale,f=l.zoomAnimation,p=l.disablePadding,m=f.size,g=f.disabled;if(!s)throw new Error("Wrapper is not mounted");var x=o+t*n,w=r?!1:!g,b=Jc(Er(x,3),d,u,m,w&&!p);return b},w6=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,i=e.setup,o=i.maxScale,s=i.minScale;return n?r<o||r>s||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY):!1},S6=function(e,t){var n=e.setup.pinch,r=n.disabled,i=n.excluded,o=e.isInitialized,s=t.target,l=o&&!r&&s;if(!l)return!1;var u=Fp(s,i);return!u},P6=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance,i=n&&!t&&r;return!!i},C6=function(e,t,n){var r=n.getBoundingClientRect(),i=e.touches,o=Er(i[0].clientX-r.left,5),s=Er(i[0].clientY-r.top,5),l=Er(i[1].clientX-r.left,5),u=Er(i[1].clientY-r.top,5);return{x:(o+l)/2/t,y:(s+u)/2/t}},tT=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},A6=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,i=e.setup,o=i.maxScale,s=i.minScale,l=i.zoomAnimation,u=i.disablePadding,d=l.size,f=l.disabled;if(!n||r===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return e.transformState.scale;var p=t/r,m=p*n;return Jc(Er(m,2),s,o,d,!f&&!u)},k6=160,E6=100,N6=function(e,t){var n=e.props,r=n.onWheelStart,i=n.onZoomStart;e.wheelStopEventTimer||(Ur(e),Ot(xt(e),t,r),Ot(xt(e),t,i))},O6=function(e,t){var n=e.props,r=n.onWheel,i=n.onZoom,o=e.contentComponent,s=e.setup,l=e.transformState,u=l.scale,d=s.limitToBounds,f=s.centerZoomedOut,p=s.zoomAnimation,m=s.wheel,g=s.disablePadding,x=s.smooth,w=p.size,b=p.disabled,C=m.step,k=m.smoothStep;if(!o)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var E=x6(t,null),N=x?k*Math.abs(t.deltaY):C,j=b6(e,E,N,!t.ctrlKey);if(u!==j){var O=ba(e,j),_=eT(t,o,u),D=b||w===0||f||g,z=d&&D,q=Lp(e,_.x,_.y,j,O,z),G=q.x,F=q.y;e.previousWheelEvent=t,e.setTransformState(j,G,F),Ot(xt(e),t,r),Ot(xt(e),t,i)}},j6=function(e,t){var n=e.props,r=n.onWheelStop,i=n.onZoomStop;Uy(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(qj(e,t.x,t.y),e.wheelAnimationTimer=null)},E6);var o=w6(e,t);o&&(Uy(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,Ot(xt(e),t,r),Ot(xt(e),t,i))},k6))},nT=function(e){for(var t=0,n=0,r=0;r<2;r+=1)t+=e.touches[r].clientX,n+=e.touches[r].clientY;var i=t/2,o=n/2;return{x:i,y:o}},T6=function(e,t){var n=tT(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var r=nT(t);e.pinchLastCenterX=r.x,e.pinchLastCenterY=r.y,Ur(e)},_6=function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,i=e.wrapperComponent,o=e.transformState.scale,s=e.setup,l=s.limitToBounds,u=s.centerZoomedOut,d=s.zoomAnimation,f=s.alignmentAnimation,p=d.disabled,m=d.size;if(!(r===null||!n)){var g=C6(t,o,n);if(!(!Number.isFinite(g.x)||!Number.isFinite(g.y))){var x=tT(t),w=A6(e,x),b=nT(t),C=b.x-(e.pinchLastCenterX||0),k=b.y-(e.pinchLastCenterY||0);if(!(w===o&&C===0&&k===0)){e.pinchLastCenterX=b.x,e.pinchLastCenterY=b.y;var E=ba(e,w),N=p||m===0||u,j=l&&N,O=Lp(e,g.x,g.y,w,E,j),_=O.x,D=O.y;e.pinchMidpoint=g,e.lastDistance=x;var z=f.sizeX,q=f.sizeY,G=Fo(e,z),F=Fo(e,q),U=_+C,fe=D+k,ue=Qc(U,fe,E,l,G,F,i),be=ue.x,Q=ue.y;e.setTransformState(w,be,Q)}}}},D6=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,qj(e,t?.x,t?.y)},rT=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;Uy(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,Ot(xt(e),t,n)},r)},M6=function(e,t){var n=e.props,r=n.onZoomStart,i=n.onZoom,o=e.setup.doubleClick,s=o.animationTime,l=o.animationType;Ot(xt(e),t,r),Qj(e,s,l,function(){return Ot(xt(e),t,i)}),rT(e,t)};function I6(e,t){return e==="toggle"?t===1?1:-1:e==="zoomOut"?-1:1}function R6(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,i=e.transformState,o=e.contentComponent,s=i.scale,l=e.props,u=l.onZoomStart,d=l.onZoom,f=n.doubleClick,p=f.disabled,m=f.mode,g=f.step,x=f.animationTime,w=f.animationType;if(!p&&!r){if(m==="reset")return M6(e,t);if(!o)return console.error("No ContentComponent found");var b=I6(m,e.transformState.scale),C=Xj(e,b,g);if(s!==C){Ot(xt(e),t,u);var k=eT(t,o,s),E=Mx(e,C,k.x,k.y);if(!E)return console.error("Error during zoom event. New transformation state was not calculated.");Ot(xt(e),t,d),Wo(e,E,x,w),rT(e,t)}}}var L6=function(e,t){var n=e.isInitialized,r=e.setup,i=e.wrapperComponent,o=r.doubleClick,s=o.disabled,l=o.excluded,u=t.target,d=i?.contains(u),f=n&&u&&d&&!s;if(!f)return!1;var p=Fp(u,l);return!p},F6=(function(){function e(t){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){n.props=r,ba(n,n.transformState.scale),n.setup=z2(r)},this.initializeWindowEvents=function(){var r,i,o=jg(),s=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=s?.defaultView;(i=n.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",n.onWheelPanning,o),l?.addEventListener("mousedown",n.onPanningStart,o),l?.addEventListener("mousemove",n.onPanning,o),l?.addEventListener("mouseup",n.onPanningStop,o),s?.addEventListener("mouseleave",n.clearPanning,o),l?.addEventListener("keyup",n.setKeyUnPressed,o),l?.addEventListener("keydown",n.setKeyPressed,o)},this.cleanupWindowEvents=function(){var r,i,o=jg(),s=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=s?.defaultView;l?.removeEventListener("mousedown",n.onPanningStart,o),l?.removeEventListener("mousemove",n.onPanning,o),l?.removeEventListener("mouseup",n.onPanningStop,o),s?.removeEventListener("mouseleave",n.clearPanning,o),l?.removeEventListener("keyup",n.setKeyUnPressed,o),l?.removeEventListener("keydown",n.setKeyPressed,o),document.removeEventListener("mouseleave",n.clearPanning,o),Ur(n),(i=n.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(r){var i=jg();r.addEventListener("wheel",n.onWheelZoom,i),r.addEventListener("dblclick",n.onDoubleClick,i),r.addEventListener("touchstart",n.onTouchPanningStart,i),r.addEventListener("touchmove",n.onTouchPanning,i),r.addEventListener("touchend",n.onTouchPanningStop,i)},this.handleInitialize=function(r,i){var o=!1,s=n.setup.centerOnInit,l=function(u,d){for(var f=0,p=u;f<p.length;f++){var m=p[f];if(m.target===d)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(u){u(xt(n))}),n.observer=new ResizeObserver(function(u){if(l(u,r)||l(u,i))if(s&&!o){var d=i.offsetWidth,f=i.offsetHeight;(d>0||f>0)&&(o=!0,n.setCenter())}else Ur(n),ba(n,n.transformState.scale),Dx(n,0)}),n.observer.observe(r),n.observer.observe(i)},this.onWheelZoom=function(r){var i=n.setup.disabled;if(!i){var o=v6(n,r);if(o){var s=n.isPressingKeys(n.setup.wheel.activationKeys);s&&(N6(n,r),O6(n,r),j6(n,r))}}},this.onWheelPanning=function(r){var i=n.setup,o=i.disabled,s=i.wheel,l=i.panning;if(!(!n.wrapperComponent||!n.contentComponent||o||!s.wheelDisabled||l.disabled||!l.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var u=n.transformState,d=u.positionX,f=u.positionY,p=d-r.deltaX,m=f-r.deltaY,g=l.lockAxisX?d:p,x=l.lockAxisY?f:m,w=n.setup.alignmentAnimation,b=w.sizeX,C=w.sizeY,k=Fo(n,b),E=Fo(n,C);g===d&&x===f||Kj(n,g,x,k,E)}},this.onPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var s=I2(n,r);if(s){var l=n.isPressingKeys(n.setup.panning.activationKeys);l&&(r.button===0&&!n.setup.panning.allowLeftClickPan||r.button===1&&!n.setup.panning.allowMiddleClickPan||r.button===2&&!n.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),Ur(n),F2(n,r),Ot(xt(n),r,o)))}}},this.onPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(!i){var s=R2(n);if(s){var l=n.isPressingKeys(n.setup.panning.activationKeys);l&&(r.preventDefault(),r.stopPropagation(),$2(n,r.clientX,r.clientY),Ot(xt(n),r,o))}}},this.onPanningStop=function(r){var i=n.props.onPanningStop;n.isPanning&&(o6(n),Ot(xt(n),r,i))},this.onPinchStart=function(r){var i=n.setup.disabled,o=n.props,s=o.onPinchingStart,l=o.onZoomStart;if(!i){var u=S6(n,r);u&&(T6(n,r),Ur(n),Ot(xt(n),r,s),Ot(xt(n),r,l))}},this.onPinch=function(r){var i=n.setup.disabled,o=n.props,s=o.onPinching,l=o.onZoom;if(!i){var u=P6(n);u&&(r.preventDefault(),r.stopPropagation(),_6(n,r),Ot(xt(n),r,s),Ot(xt(n),r,l))}},this.onPinchStop=function(r){var i=n.props,o=i.onPinchingStop,s=i.onZoomStop;n.pinchStartScale&&(D6(n),Ot(xt(n),r,o),Ot(xt(n),r,s))},this.onTouchPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var s=I2(n,r);if(s){var l=n.lastTouch&&+new Date-n.lastTouch<200&&r.touches.length===1;if(!l){n.lastTouch=+new Date,Ur(n);var u=r.touches,d=u.length===1,f=u.length===2;d&&(Ur(n),F2(n,r),Ot(xt(n),r,o)),f&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(i)return;var s=R2(n);if(!s)return;r.preventDefault(),r.stopPropagation();var l=r.touches[0];$2(n,l.clientX,l.clientY),Ot(xt(n),r,o)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var i=n.setup.disabled;if(!i){var o=L6(n,r);o&&R6(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(i){return n.pressedKeys[i]}):!0},this.setTransformState=function(r,i,o){var s=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=i,n.transformState.positionY=o,n.applyTransformation();var l=xt(n);n.onChangeCallbacks.forEach(function(u){return u(l)}),Ot(l,{scale:r,positionX:i,positionY:o},s)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=Jj(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,i,o){return n.props.customTransform?n.props.customTransform(r,i,o):m6(r,i,o)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,i=r.scale,o=r.positionX,s=r.positionY,l=n.handleTransformStyles(o,s,i);n.contentComponent.style.transform=l}},this.getContext=function(){return xt(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,i){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=i,ba(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(r,i),n.initializeWindowEvents(),n.isInitialized=!0;var o=xt(n);Ot(o,void 0,n.props.onInit)},this.props=t,this.setup=z2(this.props),this.transformState=Yj(this.props)}return e})(),Ix=ft.createContext(null),$6=function(e,t){return typeof e=="function"?e(t):e},B6=ft.forwardRef(function(e,t){var n=P.useRef(new F6(e)).current,r=$6(e.children,Vy(n));return P.useImperativeHandle(t,function(){return Vy(n)},[n]),P.useEffect(function(){n.update(e)},[n,e]),ft.createElement(Ix.Provider,{value:n},r)});ft.forwardRef(function(e,t){var n=P.useRef(null),r=P.useContext(Ix);return P.useEffect(function(){return r.onChange(function(i){if(n.current){var o=0,s=0;n.current.style.transform=r.handleTransformStyles(o,s,1/i.instance.transformState.scale)}})},[r]),ft.createElement("div",To({},e,{ref:g6([n,t])}))});function z6(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var W6=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,W2={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};z6(W6);var V6=function(e){var t=e.children,n=e.wrapperClass,r=n===void 0?"":n,i=e.contentClass,o=i===void 0?"":i,s=e.wrapperStyle,l=e.contentStyle,u=e.wrapperProps,d=u===void 0?{}:u,f=e.contentProps,p=f===void 0?{}:f,m=P.useContext(Ix),g=m.init,x=m.cleanupWindowEvents,w=P.useRef(null),b=P.useRef(null);return P.useEffect(function(){var C=w.current,k=b.current;return C!==null&&k!==null&&g&&g?.(C,k),function(){x?.()}},[]),ft.createElement("div",To({},d,{ref:w,className:"".concat(Wy.wrapperClass," ").concat(W2.wrapper," ").concat(r),style:s}),ft.createElement("div",To({},p,{ref:b,className:"".concat(Wy.contentClass," ").concat(W2.content," ").concat(o),style:l}),t))};const U6=Le.apiBaseUrl;async function iT(e){return e4(e)}async function H6(e){const t={...e,focusMode:e.focusMode??"On-Axis",iterations:e.iterations,surfaces:e.surfaces.map(r=>({id:r.id,type:r.type,radius:r.radius,thickness:r.thickness,refractiveIndex:r.refractiveIndex,diameter:r.diameter,material:r.material,description:r.description,radiusTolerance:r.radiusTolerance??0,thicknessTolerance:r.thicknessTolerance??0,tiltTolerance:r.tiltTolerance??0,decenterX:r.decenterX??0,decenterY:r.decenterY??0,coating:r.coating,coating_r_table:r.coatingDataPoints??void 0,coating_constant_r:r.coatingConstantValue??void 0,coating_is_hr:r.coatingIsHr??void 0}))},n=await fetch(`${U6}/api/monte-carlo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const r=await n.text();throw new Error(r||`Monte Carlo failed: ${n.status}`)}return n.json()}async function G6(e,t){return t4({...e,wavelength_min_nm:t?.wavelengthMinNm,wavelength_max_nm:t?.wavelengthMaxNm,wavelength_step_nm:t?.wavelengthStepNm})}async function K6(e){return n4({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1})}const oT=220,Hy=150,ir={left:36,right:12,top:8,bottom:24},Tg=oT-ir.left-ir.right,ls=Hy-ir.top-ir.bottom,ci=[[400,"#8B5CF6"],[450,"#3B82F6"],[500,"#22C55E"],[550,"#84CC16"],[600,"#EAB308"],[650,"#F97316"],[700,"#EF4444"],[800,"#DC2626"],[1100,"#991B1B"]];function q6(e){if(e<=ci[0][0])return ci[0][1];if(e>=ci[ci.length-1][0])return ci[ci.length-1][1];for(let t=0;t<ci.length-1;t++){const[n,r]=ci[t],[i]=ci[t+1];if(e>=n&&e<=i)return r}return"#94A3B8"}function Y6({systemState:e,onSystemStateChange:t,pulseOptimizeTrigger:n=0}){const[r,i]=P.useState([]),[o,s]=P.useState(!1),[l,u]=P.useState(null),[d,f]=P.useState(!1),[p,m]=P.useState(null),g=P.useRef(null),x=P.useCallback(()=>{s(!0),u(null),G6({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter??10,wavelengths:e.wavelengths??[587.6],fieldAngles:e.fieldAngles??[0],numRays:e.numRays??9,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1},{wavelengthMinNm:400,wavelengthMaxNm:1100,wavelengthStepNm:10}).then(B=>{const ee=(B||[]).map(L=>({wavelength:Number(L.wavelength)||0,focus_shift:Number(L.focus_shift)??NaN}));i(ee)}).catch(B=>{u(B instanceof Error?B.message:"Failed to fetch"),i([])}).finally(()=>s(!1))},[e.surfaces,e.entrancePupilDiameter,e.wavelengths,e.fieldAngles,e.numRays,e.focusMode,e.m2Factor]),w=P.useRef(e.surfaces);P.useEffect(()=>{const B=w.current.length!==e.surfaces.length||w.current.some((ee,L)=>{const ne=e.surfaces[L];return ne?.material!==ee.material||!!ne?.sellmeierCoefficients?.B!=!!ee.sellmeierCoefficients?.B});return w.current=e.surfaces,B?(g.current&&clearTimeout(g.current),g.current=null,x()):(g.current&&clearTimeout(g.current),g.current=setTimeout(x,300)),()=>{g.current&&clearTimeout(g.current)}},[x,e.surfaces]);const b=r.filter(B=>Number.isFinite(B.focus_shift)&&Number.isFinite(B.wavelength)).sort((B,ee)=>B.wavelength-ee.wavelength),C=e.wavelengths?.[0]??587.6,k=C>=400&&C<=1100?C:587.6,N=b.reduce((B,ee)=>!B||Math.abs(ee.wavelength-k)<Math.abs(B.wavelength-k)?ee:B,null)?.focus_shift??(b.length?b[Math.floor(b.length/2)].focus_shift:0),j=Math.min(...b.map(B=>B.focus_shift-N),0),O=Math.max(...b.map(B=>B.focus_shift-N),0),_=Math.max(O-j,.5),D=j-_*.1,z=O+_*.1,q=400,G=1100,F=B=>ir.left+Tg*(B-D)/(z-D),U=B=>ir.top+ls-ls*(B-q)/(G-q),fe=b.map(B=>`${F(B.focus_shift-N)},${U(B.wavelength)}`).join(" "),ue=F(0),[be,Q]=P.useState(null),Y=P.useRef(null),re=B=>D+(B-ir.left)/Tg*(z-D),te=B=>q+(ir.top+ls-B)/ls*(G-q),R=P.useCallback(B=>{if(!Y.current||b.length<2)return;const ee=Y.current.getBoundingClientRect(),L=B.clientX-ee.left,ne=B.clientY-ee.top,pe=te(ne),I=re(L),Ce=b.reduce((we,Ye)=>{const ze=Math.abs(Ye.wavelength-pe)+Math.abs(Ye.focus_shift-N-I)*.1;return ze<we.dist?{p:Ye,dist:ze}:we},{p:b[0],dist:1/0});Q({wavelength:Ce.p.wavelength,shiftMm:Ce.p.focus_shift-N,x:B.clientX,y:B.clientY})},[b,N,re,te]),W=P.useCallback(()=>Q(null),[]),ie=b.length>=2?(()=>{const B=b.find(L=>Math.abs(L.wavelength-486)<20),ee=b.find(L=>Math.abs(L.wavelength-656)<20);return!B||!ee?null:Math.abs(B.focus_shift-ee.focus_shift)})():null,oe=p&&ie!=null&&ie>0?Math.round(p.estimated_lca_reduction/ie*100):null,de=P.useCallback(()=>{f(!0),m(null),K6({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter??10,wavelengths:e.wavelengths??[587.6],fieldAngles:e.fieldAngles??[0],numRays:e.numRays??9,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1}).then(B=>m(B)).catch(()=>m({recommended_glass:"",estimated_lca_reduction:0})).finally(()=>f(!1))},[e]),X=P.useCallback(()=>{if(!p?.recommended_glass||e.surfaces.length!==2)return;const B=e.surfaces[0],ee=e.surfaces[1];if(B.type!=="Glass"||ee.type!=="Air")return;const L={id:crypto.randomUUID(),type:"Glass",radius:ee.radius,thickness:B.thickness/2,refractiveIndex:1.6,diameter:B.diameter,material:p.recommended_glass,description:p.recommended_glass,coating:"Uncoated"};t(ne=>{const pe=ne.surfaces.map((I,Ce)=>Ce===1?{...I,radius:-I.radius}:{...I});return pe.splice(1,0,L),{...ne,surfaces:pe,traceResult:null,traceError:null}}),m(null)},[p,e.surfaces,t]);return y.jsxs(Je.div,{className:"absolute z-[40] flex flex-col gap-2",style:{bottom:16,left:16,width:240,maxWidth:240,pointerEvents:"auto"},initial:{opacity:0,y:12,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:300,damping:24},children:[y.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-900/80 backdrop-blur-md shadow-2xl px-2 py-2 overflow-hidden",children:[y.jsx("div",{className:"text-[10px] font-medium text-slate-400 mb-1 px-1",children:"Chromatic Aberration"}),y.jsx(Wi,{mode:"wait",children:o?y.jsxs(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center gap-2 py-8 text-slate-400",children:[y.jsx(ks,{className:"w-4 h-4 animate-spin",strokeWidth:2}),y.jsx("span",{className:"text-xs",children:"Calculating"})]},"loading"):l?y.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-4 px-2 text-xs text-red-400/90",children:l},"error"):b.length<2?y.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-6 text-center text-xs text-slate-500",children:"No data"},"empty"):y.jsxs(Je.svg,{ref:Y,width:oT,height:Hy,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"block cursor-crosshair",onMouseMove:R,onMouseLeave:W,children:[y.jsx("defs",{children:y.jsx("linearGradient",{id:"chromatic-spectrum-y",x1:"0",y1:"1",x2:"0",y2:"0",children:ci.map(([B,ee],L)=>y.jsx("stop",{offset:(B-400)/700,stopColor:ee},L))})}),y.jsx("rect",{x:4,y:ir.top,width:8,height:ls,fill:"url(#chromatic-spectrum-y)",rx:2,opacity:.9}),[400,550,700,1100].map(B=>y.jsx("text",{x:ir.left-8,y:U(B)+3,textAnchor:"end",className:"fill-slate-500 text-[9px] font-mono",children:B},B)),y.jsx("text",{x:ir.left+Tg/2,y:Hy-4,textAnchor:"middle",className:"fill-slate-500 text-[9px] font-mono",children:" focus (mm)"}),y.jsx("line",{x1:ue,y1:ir.top,x2:ue,y2:ir.top+ls,stroke:"rgba(34, 211, 238, 0.8)",strokeWidth:"1.5",strokeDasharray:"4 3"}),y.jsx("polyline",{points:fe,fill:"none",stroke:"#22D3EE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),b.map((B,ee)=>y.jsx("circle",{cx:F(B.focus_shift-N),cy:U(B.wavelength),r:2,fill:q6(B.wavelength),stroke:"rgba(255,255,255,0.6)",strokeWidth:"0.5"},ee))]},"chart")}),be&&y.jsxs("div",{className:"fixed z-[50] px-2 py-1.5 rounded text-xs font-mono bg-slate-900/80 backdrop-blur-md border border-slate-700 text-slate-200 pointer-events-none",style:{left:be.x+12,top:be.y+8},children:[be.wavelength," nm  ",(be.shiftMm*1e3).toFixed(2)," m"]})]}),y.jsx(Je.button,{type:"button",onClick:de,disabled:d||e.surfaces.length!==2,className:"w-full py-2 px-3 rounded-lg text-sm font-medium text-white bg-gradient-to-r from-cyan-500 to-indigo-500 hover:from-cyan-400 hover:to-indigo-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg",animate:n>0?{scale:[1,1.05,1],boxShadow:["0 10px 15px -3px rgb(0 0 0 / 0.1)","0 0 24px 4px rgba(34, 211, 238, 0.6)","0 10px 15px -3px rgb(0 0 0 / 0.1)"]}:void 0,transition:n>0?{duration:1.2,repeat:2,ease:"easeInOut"}:void 0,children:d?y.jsxs("span",{className:"flex items-center justify-center gap-2",children:[y.jsx(ks,{className:"w-4 h-4 animate-spin",strokeWidth:2}),"Optimizing"]}):"Optimize Colors"}),y.jsx(Wi,{children:p?.recommended_glass&&y.jsxs(Je.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},className:"rounded-lg border border-slate-700 bg-slate-900/80 backdrop-blur-md shadow-2xl p-3",children:[y.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[y.jsxs("p",{className:"text-xs text-slate-300",children:["Pair with ",y.jsx("span",{className:"font-semibold text-cyan-400",children:p.recommended_glass}),oe!=null?` to reduce shift by ${oe}%`:` (${p.estimated_lca_reduction.toFixed(2)} mm)`]}),y.jsx("button",{type:"button",onClick:()=>m(null),className:"p-0.5 rounded text-slate-500 hover:text-slate-300","aria-label":"Close",children:y.jsx(_s,{className:"w-3.5 h-3.5",strokeWidth:2})})]}),y.jsx("button",{type:"button",onClick:X,className:"w-full py-1.5 px-3 rounded text-xs font-medium bg-gradient-to-r from-cyan-500 to-indigo-500 text-white hover:from-cyan-400 hover:to-indigo-400 transition-all",children:"Apply"})]})})]})}const X6={"N-BK7":{B:[1.03961212,.231792344,1.01046945],C:[.00600069867,.0200179144,103.560653]},BK7:{B:[1.03961212,.231792344,1.01046945],C:[.00600069867,.0200179144,103.560653]},"N-SF11":{B:[1.73848403,.31116824,1.17490871],C:[.0133711172,.0619001176,121.419942]},SF11:{B:[1.73848403,.31116824,1.17490871],C:[.0133711172,.0619001176,121.419942]},"Fused Silica":{B:[.6961663,.4079426,.8974794],C:[.004679148,.01351206,97.93432]},Silica:{B:[.6961663,.4079426,.8974794],C:[.004679148,.01351206,97.93432]},F2:{B:[1.31038764,.196681836,.966129764],C:[.00958633072,.0457627625,99.2753302]},"N-SF5":{B:[1.31038764,.196681836,.966129764],C:[.00958633072,.0457627625,99.2753302]},"N-SF10":{B:[1.61625974,.259229334,.96887106],C:[.0106200162,.0473625942,119.248795]},"N-BAF10":{B:[1.5851495,.143571385,1.08521269],C:[.00909730952,.0424520636,105.613573]},"N-LAK9":{B:[1.41673927,.126605356,1.28217827],C:[.00906333117,.0493226978,95.6403971]}},Z6={"n-bk7":"N-BK7",bk7:"N-BK7",nbk7:"N-BK7","n-sf11":"N-SF11",sf11:"N-SF11","fused silica":"Fused Silica","fused-silica":"Fused Silica",silica:"Fused Silica",f2:"F2","n-sf5":"N-SF5","n-sf10":"N-SF10","n-baf10":"N-BAF10",baf10:"N-BAF10","n-lak9":"N-LAK9",lak9:"N-LAK9"};function Q6(e){const t=Z6[e.toLowerCase().trim()];return t?X6[t]??null:null}function _g(e,t){const n=e*.001,r=n*n;let i=1;for(let o=0;o<3;o++)i+=t.B[o]*r/(r-t.C[o]);return Math.sqrt(Math.max(i,1))}const ha=.5;function Gy(e,t){const n=_g(e,t),r=_g(e+ha,t),i=_g(e-ha,t);return(r-2*n+i)/(ha*ha)}function J6(e,t){const n=Gy(e+ha,t),r=Gy(e-ha,t);return(n-r)/(2*ha)}const aT=299792458;function e8(e,t,n){const r=e*1e-9,i=t*1e18,o=aT;return n*.001*Math.pow(r,3)*i/(2*Math.PI*Math.PI*o*o)*1e30}function t8(e,t,n,r){const i=e*1e-9,o=t*1e18,s=n*1e27,l=aT,u=r*.001,d=i*s-2*o;return u*Math.pow(i,4)*d/(4*Math.pow(Math.PI,3)*Math.pow(l,3))*1e45}function n8(e,t,n){const r=4*Math.LN2,i=e*e,o=r*r*t*t/i,s=r*r*r*n*n/(i*i);return Math.sqrt(Math.max(0,i+o+s))}function r8(e,t,n){let r=0,i=0;for(const s of e){if(s.type==="Air"||s.refractiveIndex<=1.01)continue;const l=Q6(s.material);if(!l)continue;const u=s.thickness,d=Gy(t,l),f=J6(t,l);r+=e8(t,d,u),i+=t8(t,d,f,u)}const o=n8(n,r,i);return{gddFs2:r,todFs3:i,predictedExitPulseWidthFs:o}}function i8(e,t){const{centerX:n,centerY:r,scale:i,dotRadius:o=1.2,inSpecOpacity:s=.5,outlierOpacity:l=.6}=t;if(!e.length)return{dots:null,inSpecCount:0,outlierCount:0};const u=e.reduce((C,[k])=>C+k,0)/e.length,d=e.reduce((C,[,k])=>C+k,0)/e.length,f=e.map(([C,k])=>Math.sqrt((C-u)**2+(k-d)**2)),p=f.reduce((C,k)=>C+k,0)/f.length,m=f.reduce((C,k)=>C+(k-p)**2,0)/f.length,g=Math.sqrt(m)||.001;let x=0,w=0;return{dots:e.map(([C,k],E)=>{const j=f[E]>g;j?w++:x++;const O=n+C*i,_=r-k*i;return y.jsx("circle",{cx:O,cy:_,r:o,fill:j?"rgba(239, 68, 68, 0.85)":"rgba(34, 211, 238, 0.85)",opacity:j?l:s},E)}),inSpecCount:x,outlierCount:w}}function o8({sweep:e,cursorZ:t,diamondZ:n,width:r=140,height:i=44}){if(!e.length)return null;const o=5,s=t-o,l=t+o,u=l-s||1,d=e.filter(E=>E.z>=s-.01&&E.z<=l+.01);if(d.length<2)return null;const f=d.map(E=>{const N=E.rmsPerField?.length?(()=>{const j=E.rmsPerField.filter(O=>O!=null);return j.length>0?Math.sqrt(j.reduce((O,_)=>O+_*_,0)/j.length):null})():E.rmsRadius;return{z:E.z,rms:N}}).filter(({rms:E})=>E!=null);if(f.length<2)return null;const p=Math.max(...f.map(E=>E.rms),1e-6),m=4,g=r-2*m,x=i-2*m,b=`M ${f.map(({z:E,rms:N})=>{const j=m+g*(E-s)/u,O=m+x-x*(N/p);return`${j},${O}`}).join(" L ")}`,C=m+g*Math.max(0,Math.min(1,(t-s)/u)),k=n!=null&&n>=s&&n<=l?m+g*(n-s)/u:null;return y.jsxs("svg",{width:r,height:i,className:"block",children:[y.jsx("path",{d:b,fill:"none",stroke:"rgba(34, 211, 238, 0.9)",strokeWidth:"1.5",vectorEffect:"non-scaling-stroke"}),y.jsx("line",{x1:C,y1:m,x2:C,y2:i-m,stroke:"#f97316",strokeWidth:"1",strokeDasharray:"2 2"}),k!=null&&y.jsx("line",{x1:k,y1:m,x2:k,y2:i-m,stroke:"#F59E0B",strokeWidth:"1.5",strokeDasharray:"3 2",opacity:.95})]})}function a8({sweep:e,currentZ:t,width:n=100,height:r=36}){if(!e.length)return null;const i=e[0].z,s=e[e.length-1].z-i||1,l=e.map(w=>{if(w.rmsPerField?.length){const b=w.rmsPerField.filter(C=>C!=null);return b.length>0?Math.sqrt(b.reduce((C,k)=>C+k*k,0)/b.length):null}return w.rmsRadius}).filter(w=>w!=null),u=Math.max(...l,1e-6),d=2,f=n-2*d,p=r-2*d,m=e.map(w=>{const b=w.rmsPerField?.length?(()=>{const C=w.rmsPerField.filter(k=>k!=null);return C.length>0?Math.sqrt(C.reduce((k,E)=>k+E*E,0)/C.length):null})():w.rmsRadius;return{z:w.z,rms:b}}).filter(({rms:w})=>w!=null).map(({z:w,rms:b})=>{const C=d+f*(w-i)/s,k=d+p-p*(b/u);return`${C},${k}`}),g=m.length>=2?`M ${m.join(" L ")}`:"",x=d+f*Math.max(0,Math.min(1,(t-i)/s));return y.jsxs("svg",{width:n,height:r,className:"block",children:[g&&y.jsx("path",{d:g,fill:"none",stroke:"rgba(34, 211, 238, 0.8)",strokeWidth:"1",vectorEffect:"non-scaling-stroke"}),y.jsx("line",{x1:x,y1:d,x2:x,y2:r-d,stroke:"#f97316",strokeWidth:"1",strokeDasharray:"2 2"})]})}function Di({label:e,value:t,metricId:n,highlightedMetric:r,labelColor:i}){const o=r===n;return y.jsxs(y.Fragment,{children:[y.jsx("span",{className:o?"text-cyan-electric":"text-slate-400",style:i&&!o?{color:i}:void 0,children:e}),y.jsx("span",{className:"tabular-nums",style:{color:i??"var(--electric-cyan, #22D3EE)",...o?{boxShadow:"0 0 12px rgba(34, 211, 238, 0.6)",borderRadius:4,padding:"0 4px"}:{}},children:t})]})}const Fd=64,$d=1e4,V2=10;function s8(e,t,n,r,i){const o=[];for(let s=0;s<e;s++){const l=e===1?.5:s/(e-1),u=(l-.5)*2*i*.9,d=Math.abs(l-.5),f=Le.rayColors,p=d<.15?f[0]:d<.4?f[1]:f[2],m=u*Le.paraxial.focusYFactor,g=[{x:0,y:u},{x:t,y:u},{x:n,y:u+(m-u)*Le.paraxial.lensToFocusFactor},{x:r,y:m}];o.push({points:g,color:p})}return o}function U2(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(n),n+=e[r].thickness??0;return t}function l8(e,t,n,r,i){const{padding:o,scaleFactor:s,minZExtent:l,extendZFactor:u,extendZMin:d}=Le.view,f=i/2,p=t.reduce((O,_)=>O+(_.thickness??0),0),m=t.length?Math.max(n,...t.map(O=>O.diameter??n)):n,g=Math.max(m/2,5);let x=0,w=Math.max(p,d);t.length&&(x=-Math.max(l,p*u),w=p+Math.max(d,p*u));let b=g;if(e?.rays?.length||e?.surfaces?.length){const O=(_,D)=>{x=Math.min(x,_),w=Math.max(w,_),b=Math.max(b,Math.abs(D))};for(const _ of e.rays??[])for(const[D,z]of _)O(D,z);for(const _ of e.surfaces??[])for(const[D,z]of _)O(D,z);e.focusZ!=null&&O(e.focusZ,0)}const C=w-x,k=2*b+10,E=Math.min((r-2*o)/C,(i-2*o)/k)*s,N=(x+w)/2,j=r/2-N*E;return{scale:E,xOffset:j,cy:f}}function c8(e,t,n){const{minZExtent:r,extendZFactor:i,extendZMin:o}=Le.view,s=t.reduce((p,m)=>p+(m.thickness??0),0),l=t.length?Math.max(n,...t.map(p=>p.diameter??n)):n;let u=Math.max(l/2,5),d=0,f=Math.max(s,o);if(t.length&&(d=-Math.max(r,s*i),f=s+Math.max(o,s*i)),e?.rays?.length||e?.surfaces?.length){const p=(m,g)=>{d=Math.min(d,m),f=Math.max(f,m),u=Math.max(u,Math.abs(g))};for(const m of e.rays??[])for(const[g,x]of m)p(g,x);for(const m of e.surfaces??[])for(const[g,x]of m)p(g,x);e.focusZ!=null&&p(e.focusZ,0)}return{zRange:f-d,yExtent:u}}function u8(e,t){if(!e?.length||e.length<2)return null;const n=e.map(s=>s[0]),r=e.map(s=>s[1]),i=Math.min(...n),o=Math.max(...n);if(t<=i){const s=n[1]-n[0],l=r[1]-r[0],u=Math.abs(s)>1e-12?l/s:0;return r[0]+u*(t-n[0])}if(t>=o){const s=n[n.length-1]-n[n.length-2],l=r[r.length-1]-r[r.length-2],u=Math.abs(s)>1e-12?l/s:0;return r[r.length-1]+u*(t-n[n.length-1])}for(let s=0;s<e.length-1;s++){const l=n[s],u=n[s+1];if(l<=t&&t<=u){const d=u-l,f=Math.abs(d)>1e-12?(t-l)/d:0;return r[s]+f*(r[s+1]-r[s])}}return null}function d8(e,t,n=80){if(!e?.length)return null;const r=[];for(const p of e)for(const m of p)r.push(m[0]);const i=Math.min(...r),o=Math.max(...r);if(o<=i)return null;const s=[];for(let p=0;p<=n;p++)s.push(i+p/n*(o-i));const l=[],u=[];for(const p of s){const m=[];for(const g of e){const x=u8(g,p);x!=null&&m.push(x)}if(m.length>0){const g=Math.max(...m),x=Math.min(...m);l.push(t(p,g)),u.push(t(p,x))}}if(l.length<2)return null;const d=`M ${l.join(" L ")}`,f=`L ${[...u].reverse().join(" L ")} Z`;return`${d} ${f}`}function H2(e,t){if(!e?.length)return null;if(t<=e[0].z)return e[0];if(t>=e[e.length-1].z)return e[e.length-1];let n=0;for(;n<e.length-1&&e[n+1].z<t;)n++;const r=e[n],i=e[n+1],o=(t-r.z)/(i.z-r.z),s=(u,d)=>u!=null&&d!=null?u+o*(d-u):u??d??null,l=r.rmsPerField&&i.rmsPerField&&r.rmsPerField.length===i.rmsPerField.length?r.rmsPerField.map((u,d)=>s(u,i.rmsPerField[d])):r.rmsPerField;return{z:t,rmsRadius:s(r.rmsRadius,i.rmsRadius),beamWidth:s(r.beamWidth,i.beamWidth),chiefRayAngle:s(r.chiefRayAngle,i.chiefRayAngle),yCentroid:s(r.yCentroid,i.yCentroid),numRays:r.numRays,rmsPerField:l}}function f8({className:e="",systemState:t,onSystemStateChange:n,selectedSurfaceId:r,onSelectSurface:i,highlightedMetric:o=null,showPersistentHud:s=!1,showBestFocus:l=!0,snapToFocus:u=!0,snapToSurface:d=!0,runSampleAnalysisRef:f,pulseOptimizeRef:p,onMonteCarloSensitivity:m}){const[g,x]=P.useState(!1),[w,b]=P.useState(!1),[C,k]=P.useState(null),[E,N]=P.useState(!1),[j,O]=P.useState(!1),[_,D]=P.useState(!1),[z,q]=P.useState(!1),[G,F]=P.useState(0),[U,fe]=P.useState(null),[ue,be]=P.useState("geometry"),[Q,Y]=P.useState(!1),re=P.useRef(null),te=(t.fieldAngles||[0]).length;P.useEffect(()=>{U!=null&&U>=te&&fe(null)},[te,U]),P.useEffect(()=>{E&&(Y(!1),re.current&&(clearTimeout(re.current),re.current=null))},[E]),P.useEffect(()=>()=>{re.current&&clearTimeout(re.current)},[]),P.useEffect(()=>{if(p)return p.current=()=>{q(!0),F(me=>me+1)},()=>{p.current=null}},[p]);const R=P.useCallback(()=>{re.current&&(clearTimeout(re.current),re.current=null),Y(!0)},[]),W=P.useCallback(()=>{re.current=setTimeout(()=>{re.current=null,Y(!1)},2e3)},[]);P.useEffect(()=>{const me=ye=>{ye.code==="Space"&&!(ye.target instanceof HTMLInputElement||ye.target instanceof HTMLTextAreaElement)&&(ye.preventDefault(),O(!0))},Pe=ye=>{ye.code==="Space"&&(ye.preventDefault(),O(!1))};return window.addEventListener("keydown",me),window.addEventListener("keyup",Pe),()=>{window.removeEventListener("keydown",me),window.removeEventListener("keyup",Pe)}},[]);const ie=t.numRays,oe=t.hasTraced,de=t.traceResult,X=t.traceError,B=me=>n(Pe=>({...Pe,numRays:me})),ee=P.useCallback(async()=>{x(!0),n(me=>({...me,traceError:null}));try{const me=await iT({surfaces:t.surfaces,entrancePupilDiameter:t.entrancePupilDiameter,wavelengths:t.wavelengths,fieldAngles:t.fieldAngles,numRays:t.numRays,focusMode:t.focusMode??"On-Axis",m2Factor:t.m2Factor??1});if(me.error)n(Pe=>({...Pe,hasTraced:!0,traceResult:null,traceError:me.error??null}));else{me.terminationLog?.length&&console.warn("[Trace termination log]",me.terminationLog),me.refractionLog?.length&&(me.refractionLog.forEach(je=>{const He=je.mat_name??"?",ve=je.n2??0;He.toLowerCase()==="air"&&Math.abs(ve-1)>1e-6&&console.warn("[Trace] Air with n_after1:",je)}),console.log("[Trace refraction audit] MATCH AUDIT per surface:",me.refractionLog));const ye=(me.rays??[]).map(je=>[...je].sort((He,ve)=>He[0]-ve[0]));n(je=>({...je,hasTraced:!0,traceResult:{rays:ye,rayFieldIndices:me.rayFieldIndices,rayPower:me.rayPower,surfaces:me.surfaces??[],focusZ:me.focusZ??0,bestFocusZ:me.bestFocusZ,zOrigin:me.zOrigin,performance:me.performance,metricsSweep:me.metricsSweep??[],gaussianBeam:me.gaussianBeam},traceError:null}))}}catch(me){const Pe=me instanceof Error?me.message:"Trace failed",je=/fetch|network|connection|cors|failed to fetch/i.test(Pe)||Pe==="Trace failed"?"Pyodide worker failed to load. Ensure you're serving from the dist folder: cd dist && npx serve . (or use start-mac.command)":Pe;n(He=>({...He,hasTraced:!0,traceResult:null,traceError:je}))}finally{x(!1)}},[t,n]),L=P.useCallback(async(me=100)=>{if(!t.surfaces.some(ye=>(ye.radiusTolerance??0)>0||(ye.thicknessTolerance??0)>0||(ye.tiltTolerance??0)>0)){n(ye=>({...ye,traceError:"Set tolerances (R, T, Tilt) in System Editor first"}));return}b(!0),k(null),n(ye=>({...ye,traceError:null}));try{const ye=await H6({surfaces:t.surfaces,entrancePupilDiameter:t.entrancePupilDiameter,wavelengths:t.wavelengths,fieldAngles:t.fieldAngles,numRays:t.numRays,focusMode:t.focusMode??"On-Axis",iterations:me});ye.error?(n(je=>({...je,traceError:ye.error??null})),m?.(null)):(k(ye),m?.(ye.sensitivityBySurface??null))}catch(ye){const je=ye instanceof Error?ye.message:"Monte Carlo failed";n(He=>({...He,traceError:je}))}finally{b(!1)}},[t,n]);P.useEffect(()=>{if(f)return f.current=()=>L(10),()=>{f.current=null}},[f,L]),P.useEffect(()=>{k(null),m?.(null)},[t.surfaces,t.entrancePupilDiameter,t.numRays,m]),P.useEffect(()=>{t.pendingTrace&&(n(me=>({...me,pendingTrace:!1})),ee())},[t.pendingTrace,n,ee]);const ne=Le.viewport.width,pe=Le.viewport.height,I=t.surfaces,Ce=t.ghostSurfaces??null,we=t.entrancePupilDiameter??10,Ye=we/2,{scale:ze,xOffset:rt,cy:vt}=P.useMemo(()=>l8(de,I,we,ne,pe),[de,I,we,ne,pe]),Kt=P.useMemo(()=>U2(I),[I]),Dn=Kt.length?Kt[Kt.length-1]+(I[I.length-1]?.thickness??0):0,xe=Dn*.7,at=Kt[0]??0,lt=I[0]?(Kt[0]??0)+(I[0].thickness??0):0,Ke=(me,Pe)=>`${me*ze+rt},${vt-Pe*ze}`,le=P.useMemo(()=>!_||!de?.rays?.length?null:d8(de.rays,Ke,80),[_,de?.rays,ze,rt,vt]),Me=P.useMemo(()=>{const me=de?.gaussianBeam;if(!me?.beamEnvelope?.length)return null;const Pe=me.beamEnvelope,ye=Pe.map(([He,ve])=>Ke(He,-ve)).join(" L "),je=[...Pe].reverse().map(([He,ve])=>Ke(He,ve)).join(" L ");return`M ${ye} L ${je} Z`},[de?.gaussianBeam,ze,rt,vt]);function Ue(me,Pe,ye,je=24){const He=ye/2,ve=[];if(Math.abs(Pe)<.1)ve.push(Ke(me,-He)),ve.push(Ke(me,He));else{const Ne=Pe;for(let We=0;We<=je;We++){const Be=(We/je-.5)*2*He,pt=Math.max(0,Ne*Ne-Be*Be),Rt=Ne-Math.sign(Ne)*Math.sqrt(pt),wt=me+Rt;ve.push(Ke(wt,Be))}}return ve.length>=2?`M ${ve[0]} L ${ve.slice(1).join(" L ")}`:""}const Qe=P.useMemo(()=>{const me=[];for(let Pe=0;Pe<I.length;Pe++){const ye=I[Pe],je=Kt[Pe]??0,He=ye.refractiveIndex??1,ve=Ue(je,ye.radius,ye.diameter??we);if(ve&&me.push({type:"surface",path:ve,key:`surf-${Pe}`,refractiveIndex:He,surfaceId:ye.id}),Pe<I.length-1){const Ne=I[Pe+1],We=Kt[Pe+1]??je+ye.thickness,qe=Ue(je,ye.radius,ye.diameter??we),Be=Ue(We,Ne.radius,Ne.diameter??we);if(qe&&Be){const pt=qe.split(" L ").map(Pn=>Pn.replace("M ","")),Rt=Be.split(" L ").map(Pn=>Pn.replace("M ","")).reverse(),wt=`M ${pt.join(" L ")} L ${Rt.join(" L ")} Z`,pn=He>1.01?"glass":"air";me.push({type:pn,path:wt,key:`gap-${Pe}`,refractiveIndex:He,surfaceId:ye.id})}}}return me},[I,Kt,we,ze,rt,vt]),Ut=P.useMemo(()=>{if(!Ce?.length)return[];const me=U2(Ce),Pe=[];for(let ye=0;ye<Ce.length;ye++){const je=Ce[ye],He=me[ye]??0,ve=je.refractiveIndex??1,Ne=Ue(He,je.radius,je.diameter??we);if(Ne&&Pe.push({type:"surface",path:Ne,key:`ghost-surf-${ye}`}),ye<Ce.length-1){const We=Ce[ye+1],qe=me[ye+1]??He+je.thickness,Be=Ue(He,je.radius,je.diameter??we),pt=Ue(qe,We.radius,We.diameter??we);if(Be&&pt){const Rt=Be.split(" L ").map(Jr=>Jr.replace("M ","")),wt=pt.split(" L ").map(Jr=>Jr.replace("M ","")).reverse(),pn=`M ${Rt.join(" L ")} L ${wt.join(" L ")} Z`,Pn=ve>1.01?"glass":"air";Pe.push({type:Pn,path:pn,key:`ghost-gap-${ye}`})}}}return Pe},[Ce,we,ze,rt,vt]),Et=P.useMemo(()=>{const me=Le.thermalPowerThresholdW,Pe=t.laserPowerW??0,je=I.find(He=>He.type==="Glass")?.absorptionCoefficient??0;return Pe<=me||je<=0?null:Qe.find(He=>He.type==="glass"&&He.key==="gap-0")??null},[t.laserPowerW,I,Qe]),Xe=P.useMemo(()=>{if(!oe)return[];if(de?.rays?.length){const Pe=t.fieldAngles||[0],ye=Math.max(1,Pe.length),je=de.rayFieldIndices,He=Le.rayColors,ve=Math.max(1,Math.min(He.length,je?.length?Math.max(...je)+1:ye)),Ne=new Map;return de.rays.forEach((We,qe)=>{const Be=je&&je[qe]!=null?Math.min(je[qe],ve-1):Math.min(Math.floor(qe/Math.ceil(de.rays.length/ve)),ve-1),pt=He[Math.min(Be,He.length-1)],Rt={points:We.map(([wt,pn])=>({x:wt,y:pn})),color:pt};Ne.has(Be)||Ne.set(Be,[]),Ne.get(Be).push(Rt)}),Array.from(Ne.entries()).sort(([We],[qe])=>We-qe).map(([We,qe])=>({color:He[Math.min(We,He.length-1)],rays:qe}))}const me=s8(ie,at,lt,xe,Ye);return[{color:Le.rayColors[0],rays:me}]},[oe,de,ie,at,lt,xe,Ye,t.fieldAngles]),bt=Xe.reduce((me,Pe)=>me+Pe.rays.length,0),mr=de?.bestFocusZ,Zn=mr!=null?mr*ze+rt:null,bu=P.useMemo(()=>c8(de,I,we),[de,I,we]),Ra=P.useRef(null);P.useRef({last:0});const La=P.useRef(null),[Fa,$a]=P.useState(!1),[ct,Si]=P.useState({isHovering:!1,mouseX:0,mouseY:0,cursorSvgX:0,cursorSvgY:0,scanSvgX:0,cursorZ:0,snappedSurfaceIndex:null});P.useEffect(()=>{const me=ye=>{ye.altKey&&$a(!0)},Pe=ye=>{ye.altKey||$a(!1)};return window.addEventListener("keydown",me),window.addEventListener("keyup",Pe),()=>{window.removeEventListener("keydown",me),window.removeEventListener("keyup",Pe)}},[]);const Pi=P.useCallback(me=>{const Pe=Ra.current,ye=La.current;if(!Pe)return;let je,He;if(ye?.contentComponent){const Be=ye.contentComponent.getBoundingClientRect(),pt=ne,Rt=pe,wt=Math.min(Be.width/pt,Be.height/Rt),pn=pt*wt,Pn=Rt*wt,Jr=(Be.width-pn)/2,ul=(Be.height-Pn)/2;je=(me.clientX-Be.left-Jr)/wt,He=(me.clientY-Be.top-ul)/wt}else{const Be=Pe.getBoundingClientRect(),pt=ne,Rt=pe,wt=Math.min(Be.width/pt,Be.height/Rt),pn=pt*wt,Pn=Rt*wt,Jr=(Be.width-pn)/2,ul=(Be.height-Pn)/2;je=(me.clientX-Be.left-Jr)/wt,He=(me.clientY-Be.top-ul)/wt}let ve=je,Ne=null,We="None";if(!Fa){if(d){let Be=V2;for(let pt=0;pt<Kt.length;pt++){const Rt=Kt[pt]*ze+rt,wt=Math.abs(je-Rt);wt<Be&&(Be=wt,ve=Rt,Ne=pt,We="Surface")}}if(We!=="Surface"&&u&&de?.bestFocusZ!=null){const Be=de.bestFocusZ*ze+rt;Math.abs(je-Be)<V2&&(ve=Be,We="Focus")}}const qe=(ve-rt)/ze;Si({isHovering:!0,mouseX:me.clientX,mouseY:me.clientY,cursorSvgX:je,cursorSvgY:He,scanSvgX:ve,cursorZ:qe,snappedSurfaceIndex:Ne})},[ze,rt,ne,pe,Kt,de?.bestFocusZ,u,d,Fa]),wu=P.useCallback(()=>{Si(me=>({...me,isHovering:!1}))},[]),Su=P.useCallback(()=>{const me=de?.bestFocusZ;if(me==null||I.length<2)return;const Pe=I.reduce((ve,Ne)=>ve+(Ne.thickness??0),0),ye=I[I.length-1],je=Pe-(ye?.thickness??0),He=Math.max(.1,me-je);n(ve=>({...ve,surfaces:ve.surfaces.map((Ne,We)=>We===ve.surfaces.length-1?{...Ne,thickness:He}:Ne),traceResult:null,traceError:null}))},[de?.bestFocusZ,I,n]),Pu=ct.isHovering?H2(de?.metricsSweep??[],ct.cursorZ):null,ll=mr??de?.focusZ??Dn*.8,Cu=s?H2(de?.metricsSweep??[],ll):null,cl=ct.isHovering||s,Qn=ct.isHovering?Pu:Cu,Qr=ct.isHovering?ct.cursorZ:ll,oo=s&&!ct.isHovering,Ci=P.useMemo(()=>{const me=t.wavelengths?.[0]??587.6,Pe=t.pulseWidthFs??100;return r8(I.map(ye=>({thickness:ye.thickness,material:ye.material,type:ye.type,refractiveIndex:ye.refractiveIndex})),me,Pe)},[I,t.wavelengths,t.pulseWidthFs]);return y.jsxs("div",{className:`relative ${e}`,children:[y.jsxs("div",{className:"absolute top-4 left-4 z-10 flex flex-wrap items-center gap-4 glass-card px-4 py-2 rounded-lg",children:[y.jsxs(Je.button,{"data-testid":"trace-button",whileHover:{scale:1.05},whileTap:{scale:.98},onClick:ee,disabled:g,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all disabled:opacity-70",style:{background:"linear-gradient(135deg, #22D3EE 0%, #0891b2 100%)",color:"#0B1120",boxShadow:"0 0 24px rgba(34, 211, 238, 0.5)"},children:[g?y.jsx(ks,{className:"w-5 h-5 animate-spin",strokeWidth:2}):y.jsx(B3,{className:"w-5 h-5",fill:"currentColor",strokeWidth:0}),g?"Tracing":"Trace"]}),y.jsxs(Je.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>L(),disabled:w,title:"Run Monte Carlo (100 iterations with tolerance jitter)  set R, T, Tilt in System Editor",className:"flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-cyan-electric/50 hover:bg-cyan-electric/15 text-cyan-electric",children:[w?y.jsx(ks,{className:"w-4 h-4 animate-spin",strokeWidth:2}):y.jsx(dO,{className:"w-4 h-4",strokeWidth:2}),w?"Monte Carlo":"Monte Carlo"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-slate-400 text-sm whitespace-nowrap",children:"Rays"}),y.jsx("input",{type:"range",min:Le.rayCount.min,max:Le.rayCount.max,value:ie,onChange:me=>B(Number(me.target.value)),className:"w-28 h-2 rounded-full accent-cyan-electric bg-white/10 cursor-pointer"}),y.jsx("span",{className:"text-cyan-electric text-sm font-mono w-6",children:ie})]}),oe&&y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-slate-300",children:[y.jsx("input",{type:"checkbox",checked:_,onChange:me=>D(me.target.checked),className:"rounded accent-cyan-electric"}),"Caustic Envelope"]}),y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-slate-300",children:[y.jsx("input",{type:"checkbox",checked:z,onChange:me=>q(me.target.checked),className:"rounded accent-cyan-electric"}),y.jsx(S3,{className:"w-4 h-4 text-slate-400",strokeWidth:2}),"Show LCA Map"]}),oe&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-400 text-sm whitespace-nowrap",children:"Field"}),y.jsx("div",{className:"flex items-center gap-1.5",children:(t.fieldAngles||[0]).slice(0,Le.maxFieldAngles).map((me,Pe)=>{const ye=Le.rayColors[Math.min(Pe,Le.rayColors.length-1)],je=U===Pe;return y.jsx("button",{type:"button",onClick:()=>fe(U===Pe?null:Pe),title:U===Pe?"Show all fields":`Show only field ${Pe}${(t.fieldAngles||[])[Pe]!=null?` (${(t.fieldAngles||[])[Pe]})`:""}`,className:`w-3 h-3 rounded-full transition-all ring-offset-2 ring-offset-slate-900 ${je?"ring-2 ring-white scale-125":"ring-0 hover:scale-110 opacity-80 hover:opacity-100"}`,style:{backgroundColor:ye,boxShadow:je?`0 0 6px ${ye}`:void 0},"aria-label":`Filter to field ${Pe}`,"aria-pressed":je},Pe)})})]})]}),X&&y.jsxs("div",{className:"absolute top-4 right-4 z-20 glass-card px-4 py-3 rounded-lg text-red-400 text-sm max-w-sm border border-red-500/30 bg-slate-900/95",children:[y.jsx("p",{className:"font-medium text-red-300 mb-1",children:"Trace error"}),y.jsx("p",{className:"text-red-200/90",children:X}),y.jsx("button",{type:"button",onClick:()=>n(me=>({...me,traceError:null})),className:"mt-2 text-xs text-slate-400 hover:text-slate-200 underline",children:"Dismiss"})]}),y.jsx(Wi,{children:g&&y.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center pointer-events-none","aria-live":"polite",children:y.jsxs(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"glass-card px-4 py-2 rounded-lg flex items-center gap-2 text-cyan-electric/90 text-sm",children:[y.jsx(ks,{className:"w-4 h-4 animate-spin",strokeWidth:2}),y.jsx("span",{children:"Calculating"})]},"calculating")})}),y.jsxs("div",{className:"relative overflow-hidden rounded-xl",style:{backgroundColor:"#0B1120",border:"1px solid rgba(34, 211, 238, 0.2)"},onMouseEnter:R,onMouseLeave:W,children:[z&&y.jsx(Y6,{systemState:t,onSystemStateChange:n,pulseOptimizeTrigger:G}),y.jsx(B6,{initialScale:1,minScale:.1,maxScale:20,centerOnInit:!0,limitToBounds:!1,smooth:!0,wheel:{step:.15,smoothStep:.002,wheelDisabled:!1,touchPadDisabled:!1},panning:{disabled:!1,velocityDisabled:!0,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!1,activationKeys:[" "],excluded:[]},onPanningStart:()=>N(!0),onPanningStop:()=>N(!1),zoomAnimation:{animationTime:200,animationType:"easeOut"},doubleClick:{disabled:!0},children:({zoomIn:me,zoomOut:Pe,centerView:ye,instance:je})=>{La.current=je?{transformState:je.transformState,contentComponent:je.contentComponent}:null;const He=()=>{const ve=je?.wrapperComponent;if(!ve)return;const Ne=ve.offsetWidth,We=ve.offsetHeight,qe=.1,Be=bu.zRange*ze,pt=2*bu.yExtent*ze,Rt=Math.min(Ne*(1-2*qe)/Be,We*(1-2*qe)/pt);ye(Rt,450,"easeOutCubic")};return y.jsxs(y.Fragment,{children:[y.jsx(V6,{wrapperStyle:{width:"100%",height:"100%",minHeight:"320px",cursor:E?"grabbing":j?"grab":"default"},contentStyle:{width:"100%",height:"100%",minHeight:"320px"},children:y.jsxs("svg",{ref:Ra,viewBox:`0 0 ${ne} ${pe}`,className:"w-full h-full min-h-[320px] block",preserveAspectRatio:"xMidYMid meet",onMouseEnter:Pi,onMouseMove:Pi,onMouseLeave:wu,onDoubleClick:Su,children:[y.jsxs("defs",{children:[y.jsx("pattern",{id:"infinite-grid",width:Fd,height:Fd,patternUnits:"userSpaceOnUse",children:y.jsx("path",{d:`M ${Fd} 0 L 0 0 0 ${Fd}`,fill:"none",stroke:"#22D3EE",strokeWidth:"0.5",opacity:"0.12"})}),y.jsxs("filter",{id:"lens-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[y.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"blur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("filter",{id:"glow-strong",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[y.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"blur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("filter",{id:"diamond-glow",x:"-100%",y:"-100%",width:"300%",height:"300%",children:[y.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"blur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("linearGradient",{id:"lens-fill",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[y.jsx("stop",{offset:"0%",stopColor:"#22D3EE",stopOpacity:"0.15"}),y.jsx("stop",{offset:"50%",stopColor:"#22D3EE",stopOpacity:"0.25"}),y.jsx("stop",{offset:"100%",stopColor:"#22D3EE",stopOpacity:"0.15"})]}),y.jsxs("linearGradient",{id:"caustic-envelope-fill",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[y.jsx("stop",{offset:"0%",stopColor:"#22D3EE",stopOpacity:"0.08"}),y.jsx("stop",{offset:"50%",stopColor:"#22D3EE",stopOpacity:"0.18"}),y.jsx("stop",{offset:"100%",stopColor:"#22D3EE",stopOpacity:"0.08"})]}),y.jsxs("radialGradient",{id:"thermal-heat-map",cx:"50%",cy:"50%",r:"50%",gradientUnits:"objectBoundingBox",children:[y.jsx("stop",{offset:"0%",stopColor:"#f97316",stopOpacity:"0.9"}),y.jsx("stop",{offset:"40%",stopColor:"#ea580c",stopOpacity:"0.5"}),y.jsx("stop",{offset:"70%",stopColor:"#dc2626",stopOpacity:"0.2"}),y.jsx("stop",{offset:"100%",stopColor:"#7f1d1d",stopOpacity:"0"})]})]}),y.jsx("rect",{x:-$d,y:-$d,width:$d*2,height:$d*2,fill:"url(#infinite-grid)"}),le&&y.jsx("path",{d:le,fill:"url(#caustic-envelope-fill)",stroke:"rgba(34, 211, 238, 0.4)",strokeWidth:"0.5",opacity:"0.6",pointerEvents:"none"}),Me&&y.jsx("path",{d:Me,fill:"rgba(34, 211, 238, 0.15)",stroke:"rgba(34, 211, 238, 0.5)",strokeWidth:"1",opacity:"0.9",pointerEvents:"none"}),y.jsx("g",{filter:"url(#lens-glow)",children:Qe.map(ve=>{const Ne=r===ve.surfaceId,We=qe=>{qe.stopPropagation(),i(ve.surfaceId)};return ve.type==="glass"?y.jsx("path",{d:ve.path,fill:Ne?"rgba(34, 211, 238, 0.3)":"rgba(34, 211, 238, 0.2)",stroke:"#22D3EE",strokeWidth:Ne?2:1.5,strokeOpacity:Ne?1:.8,strokeDasharray:Ne?"4 2":void 0,style:{filter:Ne?"drop-shadow(0 0 12px rgba(34, 211, 238, 0.8))":"drop-shadow(0 0 6px rgba(34, 211, 238, 0.4))",cursor:"pointer"},onClick:We},ve.key):ve.type==="air"?y.jsx("path",{d:ve.path,fill:Ne?"rgba(255, 255, 255, 0.08)":"rgba(255, 255, 255, 0.03)",stroke:Ne?"#22D3EE":"rgba(148, 163, 184, 0.4)",strokeWidth:Ne?1.5:1,strokeOpacity:Ne?.9:.6,strokeDasharray:Ne?"4 2":void 0,style:{cursor:"pointer"},onClick:We},ve.key):y.jsx("path",{d:ve.path,fill:"none",stroke:"#22D3EE",strokeWidth:Ne?2:1.5,strokeOpacity:Ne?1:.8,strokeDasharray:Ne?"4 2":void 0,style:{filter:Ne?"drop-shadow(0 0 10px rgba(34, 211, 238, 0.9))":void 0,cursor:"pointer"},onClick:We},ve.key)})}),Ut.length>0&&y.jsx("g",{opacity:.4,pointerEvents:"none",children:Ut.map(ve=>y.jsx("path",{d:ve.path,fill:ve.type==="glass"?"rgba(34, 211, 238, 0.25)":ve.type==="air"?"rgba(255,255,255,0.05)":"none",stroke:"#22D3EE",strokeWidth:1,strokeOpacity:.7},ve.key))}),Et&&y.jsx("path",{d:Et.path,fill:"url(#thermal-heat-map)",stroke:"none",opacity:.6,pointerEvents:"none"}),Xe.map((ve,Ne)=>({group:ve,origIdx:Ne})).filter(({origIdx:ve})=>U===null||ve===U).map(({group:ve,origIdx:Ne})=>y.jsx("g",{stroke:ve.color,strokeWidth:"0.5",strokeOpacity:"0.8",fill:"none",style:{filter:`drop-shadow(0 0 1px ${ve.color}40)`},children:ve.rays.map((We,qe)=>{const Be=We.points,Rt=(Be[0]?.x<=Be[Be.length-1]?.x?Be:[...Be].reverse()).map((pn,Pn)=>`${Pn===0?"M":"L"} ${Ke(pn.x,pn.y)}`).join(" "),wt=Xe.slice(0,Ne).reduce((pn,Pn)=>pn+Pn.rays.length,0)+qe;return y.jsx(Je.path,{d:Rt,fill:"none",initial:{pathLength:0,opacity:0},animate:g?{pathLength:1,opacity:[.5,1,.5]}:{pathLength:1,opacity:.8},transition:g?{opacity:{duration:.8,repeat:1/0,ease:"easeInOut"}}:{duration:.35,delay:wt*.012,ease:"easeOut"}},`field-${Ne}-ray-${qe}-${Be[0]?.x??0}-${Be[0]?.y??0}`)})},Ne)),C?.spots?.length&&Zn!=null&&(()=>{const Ne=Zn+56,We=vt,{dots:qe}=i8(C.spots,{centerX:Ne,centerY:We,scale:60,dotRadius:1.2,inSpecOpacity:.5,outlierOpacity:.6});return y.jsxs("g",{children:[y.jsx("defs",{children:y.jsx("clipPath",{id:"spot-diagram-clip",children:y.jsx("rect",{x:Zn+12,y:vt-44,width:88,height:88,rx:4})})}),y.jsx("rect",{x:Zn+12,y:vt-44,width:88,height:88,rx:4,fill:"rgba(15, 23, 42, 0.85)",stroke:"rgba(34, 211, 238, 0.5)",strokeWidth:"1"}),y.jsx("g",{clipPath:"url(#spot-diagram-clip)",children:qe}),y.jsx("text",{x:Zn+56,y:vt-32,textAnchor:"middle",fill:"#94a3b8",fontSize:9,children:`Spot (n=${C.numValid??0})`}),y.jsx("text",{x:Zn+56,y:vt+38,textAnchor:"middle",fill:"#22D3EE",fontSize:9,children:`RMS ${((C.rmsSpread??0)*1e3).toFixed(2)} m`})]},"monte-carlo-spot")})(),y.jsx(Wi,{children:l&&Zn!=null&&oe&&bt>0&&y.jsx(Je.g,{initial:{x:Zn,y:vt,opacity:0,scale:0},animate:{x:Zn,y:vt,opacity:1,scale:1},transition:{duration:.25,ease:"easeOut"},exit:{x:Zn,y:vt,opacity:0,scale:0,transition:{duration:.2}},style:{transformBox:"fill-box",transformOrigin:"center"},children:y.jsx("polygon",{points:"0,-6 6,0 0,6 -6,0",fill:t.focusMode==="Balanced"?"#F59E0B":"white",stroke:t.focusMode==="Balanced"?"rgba(245,158,11,0.95)":"rgba(255,255,255,0.9)",strokeWidth:"1",filter:"url(#diamond-glow)"})},"focus-diamond")}),ct.isHovering&&y.jsxs(y.Fragment,{children:[y.jsx(Je.g,{x:ct.scanSvgX,initial:!1,animate:ct.snappedSurfaceIndex!=null?{x:[ct.scanSvgX,ct.scanSvgX+1,ct.scanSvgX-1,ct.scanSvgX],transition:{duration:.15}}:{x:ct.scanSvgX},children:y.jsx("line",{x1:0,y1:0,x2:0,y2:pe,stroke:ct.snappedSurfaceIndex!=null?"#ffffff":"#22D3EE",strokeWidth:"1",strokeDasharray:"4 4",strokeOpacity:"0.8",pointerEvents:"none"})},ct.snappedSurfaceIndex!=null?`snapped-${ct.snappedSurfaceIndex}`:"free"),y.jsx("circle",{cx:ct.cursorSvgX,cy:ct.cursorSvgY,r:"8",fill:"none",stroke:"#f97316",strokeWidth:"2",opacity:"0.9",pointerEvents:"none"})]})]})}),y.jsxs(Je.div,{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 flex items-center gap-2 glass-card px-3 py-2 rounded-lg",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:400,damping:25},children:[y.jsx(Je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>me(),className:"flex items-center justify-center w-9 h-9 rounded-lg transition-colors hover:bg-white/10","aria-label":"Zoom In",children:y.jsx(Y3,{className:"w-5 h-5 text-cyan-electric",strokeWidth:2})}),y.jsx(Je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Pe(),className:"flex items-center justify-center w-9 h-9 rounded-lg transition-colors hover:bg-white/10","aria-label":"Zoom Out",children:y.jsx(X3,{className:"w-5 h-5 text-cyan-electric",strokeWidth:2})}),y.jsxs(Je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:He,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-cyan-electric transition-colors hover:bg-white/10","aria-label":"Reset View",children:[y.jsx(R3,{className:"w-4 h-4",strokeWidth:2}),"Reset View"]})]}),C?.spots?.length&&y.jsxs(Je.div,{className:"absolute bottom-4 right-4 z-[5] px-3 py-2 rounded-lg text-xs pointer-events-none bg-slate-900/70 backdrop-blur-md border border-cyan-electric/30",initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.2},children:[y.jsx("div",{className:"font-medium text-cyan-electric/90 mb-1.5",children:"Monte Carlo Yield Map"}),y.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-electric/60"}),"Within 1"]}),y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500/80"}),"Outliers"]})]})]}),oe&&(t.fieldAngles?.length??0)>0&&y.jsx(Je.div,{className:"absolute top-3 right-3 z-[5] px-3 py-2 rounded-lg pointer-events-none bg-slate-900/40 backdrop-blur-md border border-white/10 shadow-lg",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:y.jsx("div",{className:"flex flex-col gap-1.5",children:(t.fieldAngles||[0]).slice(0,Le.maxFieldAngles).map((ve,Ne)=>{const We=Le.rayColors[Math.min(Ne,Le.rayColors.length-1)];return y.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-300",children:[y.jsx("span",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:We,boxShadow:`0 0 6px ${We}60`}}),y.jsxs("span",{children:[Number(ve).toFixed(1)," Field"]})]},Ne)})})}),y.jsxs(Je.div,{className:"absolute bottom-0 left-0 z-[5] ml-5 mb-5 px-4 py-2 rounded-full text-xs text-slate-300 pointer-events-none bg-slate-900/50 backdrop-blur-[8px] border border-white/10",initial:{opacity:0,x:-20},animate:{opacity:Q?1:0,x:Q?0:-20},transition:{duration:.25,ease:"easeOut"},children:["Hold ",y.jsx("kbd",{className:`px-1.5 py-0.5 rounded font-mono text-[10px] transition-all duration-150 ${j?"bg-cyan-500/30 text-cyan-200 shadow-[0_0_8px_rgba(34,211,238,0.5),0_1px_0_0_rgba(255,255,255,0.15)]":"bg-slate-800/90 text-slate-200 shadow-[0_1px_0_0_rgba(255,255,255,0.1),inset_0_-1px_0_0_rgba(0,0,0,0.3)]"}`,children:"Space"})," + Drag to Pan"]}),cl&&y.jsxs(Je.div,{className:`z-50 rounded-lg px-3 py-2 backdrop-blur-[12px] bg-slate-900/70 border ${ct.snappedSurfaceIndex!=null?"border-white/60":"border-cyan-electric/50"} ${oo?"absolute bottom-20 left-4":"fixed"}`,style:{fontFamily:"'JetBrains Mono', 'SF Mono', monospace",...oo?{}:{left:ct.mouseX+16,top:ct.mouseY+16}},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:200,damping:20},exit:{opacity:0,scale:.95},children:[y.jsxs("div",{className:"flex gap-1 mb-2 border-b border-white/10 pb-2",style:{pointerEvents:oo?"auto":"none"},children:[y.jsx("button",{type:"button",onClick:()=>be("geometry"),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${ue==="geometry"?"bg-cyan-electric/40 text-cyan-electric":"text-slate-500 hover:text-slate-300"}`,children:"Geometry"}),y.jsx("button",{type:"button",onClick:()=>be("ultrafast"),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${ue==="ultrafast"?"bg-cyan-electric/40 text-cyan-electric":"text-slate-500 hover:text-slate-300"}`,children:"Ultrafast"})]}),ue==="ultrafast"?y.jsxs("div",{className:"grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-xs pointer-events-none",children:[y.jsx(Di,{label:"GDD:",value:`${Ci.gddFs2.toFixed(2)} fs`,metricId:"gdd",highlightedMetric:o,labelColor:"#22D3EE"}),y.jsx(Di,{label:"TOD:",value:`${Ci.todFs3.toFixed(2)} fs`,metricId:"tod",highlightedMetric:o,labelColor:"#22D3EE"}),y.jsxs("div",{className:"col-span-2 flex justify-between gap-2 border-t border-white/10 mt-1 pt-1",children:[y.jsx("span",{className:"text-slate-400",children:"Input Pulse:"}),y.jsxs("span",{className:"text-slate-300 tabular-nums",children:[t.pulseWidthFs??100," fs"]})]}),y.jsxs("div",{className:"col-span-2 flex justify-between gap-2",children:[y.jsx("span",{className:"text-slate-400 font-medium",children:"Predicted Exit Pulse:"}),y.jsxs("span",{className:"text-cyan-electric tabular-nums font-medium",children:[Ci.predictedExitPulseWidthFs.toFixed(2)," fs"]})]})]}):y.jsxs(y.Fragment,{children:[ct.snappedSurfaceIndex!=null&&!oo&&(()=>{const ve=ct.snappedSurfaceIndex,Ne=ve+1,We=I[ve],qe=We?We.description||We.material||(We.type==="Glass"?"Lens":"Air"):`Surface ${Ne}`;return y.jsxs("div",{className:"text-[10px] font-medium text-white/90 mb-1.5 -mt-0.5",children:["Surface ",Ne,": ",qe]})})(),y.jsxs("div",{className:"grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-xs",children:[y.jsx(Di,{label:"Z:",value:`${Qr.toFixed(2)} mm`,metricId:"z",highlightedMetric:o}),Qn?.rmsPerField&&Qn.rmsPerField.length>0?y.jsxs(y.Fragment,{children:[Qn.rmsPerField.map((ve,Ne)=>{const We=["Cyan RMS","Orange RMS","Green RMS"],qe=["#22D3EE","#F97316","#22C55E"],Be=We[Math.min(Ne,We.length-1)],pt=qe[Math.min(Ne,qe.length-1)];return y.jsx(Di,{label:`${Be}:`,value:ve!=null?`${(ve*1e3).toFixed(2)} m`:"",metricId:"rms",highlightedMetric:o,labelColor:pt},Ne)}),(()=>{const ve=Qn.rmsPerField.filter(We=>We!=null),Ne=ve.length>0?Math.sqrt(ve.reduce((We,qe)=>We+qe*qe,0)/ve.length):null;return y.jsxs("div",{className:"col-span-2 flex justify-between gap-2 border-t border-white/10 mt-1 pt-1",children:[y.jsx("span",{className:"text-slate-400 font-medium",children:"System Avg RMS:"}),y.jsx("span",{className:"text-amber-400 tabular-nums font-medium",children:Ne!=null?`${(Ne*1e3).toFixed(2)} m`:""})]})})()]}):y.jsx(Di,{label:"RMS:",value:Qn?.rmsRadius!=null?`${(Qn.rmsRadius*1e3).toFixed(2)} m`:"",metricId:"rms",highlightedMetric:o}),y.jsx(Di,{label:"Width:",value:Qn?.beamWidth!=null?`${Qn.beamWidth.toFixed(3)} mm`:"",metricId:"beamWidth",highlightedMetric:o}),y.jsx(Di,{label:"CRA:",value:Qn?.chiefRayAngle!=null?`${Qn.chiefRayAngle.toFixed(2)}`:"",metricId:"cra",highlightedMetric:o}),mr!=null&&y.jsxs("div",{className:"col-span-2 flex gap-2",children:[y.jsx("span",{className:"text-slate-400",children:"Dist to Best Focus:"}),y.jsxs("span",{className:"text-cyan-electric tabular-nums",children:[Math.abs(Qr-mr).toFixed(2)," mm"]})]}),de?.gaussianBeam&&mr!=null&&y.jsxs(y.Fragment,{children:[y.jsx(Di,{label:"Spot Size (w) at focus:",value:`${(de.gaussianBeam.spotSizeAtFocus*1e3).toFixed(2)} m`,metricId:"spotSize",highlightedMetric:o,labelColor:"#22D3EE"}),y.jsx(Di,{label:"Rayleigh (z_R) at focus:",value:`${de.gaussianBeam.rayleighRange.toFixed(2)} mm`,metricId:"rayleigh",highlightedMetric:o,labelColor:"#22D3EE"})]}),de?.metricsSweep?.length&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"col-span-2 mt-1.5 pt-1.5 border-t border-white/10",children:[y.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"RMS vs Z"}),y.jsx(a8,{sweep:de.metricsSweep,currentZ:Qr,width:120,height:40})]}),y.jsxs("div",{className:"col-span-2 mt-1 pt-1 border-t border-white/10",children:[y.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Through-Focus (10 mm)  gold line = diamond minimum"}),y.jsx(o8,{sweep:de.metricsSweep,cursorZ:Qr,diamondZ:mr??null,width:140,height:44})]})]})]})]})]})]})}})]})]})}function Dg({systemState:e,onSystemStateChange:t,selectedSurfaceId:n,onSelectSurface:r,highlightedMetric:i=null,showPersistentHud:o=!1,showBestFocus:s=!0,snapToFocus:l=!0,snapToSurface:u=!0,runSampleAnalysisRef:d,pulseOptimizeRef:f,onMonteCarloSensitivity:p}){return y.jsx("div",{className:"h-full min-h-[500px] w-full",children:y.jsx(f8,{className:"h-full w-full",systemState:e,onSystemStateChange:t,selectedSurfaceId:n,onSelectSurface:r,highlightedMetric:i,showPersistentHud:o,showBestFocus:s,snapToFocus:l,snapToSurface:u,runSampleAnalysisRef:d,pulseOptimizeRef:f,onMonteCarloSensitivity:p})})}var eu=sO();const Rs=Xi(eu);function on(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var p8=typeof Symbol=="function"&&Symbol.observable||"@@observable",G2=p8,Mg=()=>Math.random().toString(36).substring(7).split("").join("."),h8={INIT:`@@redux/INIT${Mg()}`,REPLACE:`@@redux/REPLACE${Mg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mg()}`},Of=h8;function Rx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Lx(e,t,n){if(typeof e!="function")throw new Error(on(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(on(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(on(1));return n(Lx)(e,t)}let r=e,i=t,o=new Map,s=o,l=0,u=!1;function d(){s===o&&(s=new Map,o.forEach((b,C)=>{s.set(C,b)}))}function f(){if(u)throw new Error(on(3));return i}function p(b){if(typeof b!="function")throw new Error(on(4));if(u)throw new Error(on(5));let C=!0;d();const k=l++;return s.set(k,b),function(){if(C){if(u)throw new Error(on(6));C=!1,d(),s.delete(k),o=null}}}function m(b){if(!Rx(b))throw new Error(on(7));if(typeof b.type>"u")throw new Error(on(8));if(typeof b.type!="string")throw new Error(on(17));if(u)throw new Error(on(9));try{u=!0,i=r(i,b)}finally{u=!1}return(o=s).forEach(k=>{k()}),b}function g(b){if(typeof b!="function")throw new Error(on(10));r=b,m({type:Of.REPLACE})}function x(){const b=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(on(11));function k(){const N=C;N.next&&N.next(f())}return k(),{unsubscribe:b(k)}},[G2](){return this}}}return m({type:Of.INIT}),{dispatch:m,subscribe:p,getState:f,replaceReducer:g,[G2]:x}}function m8(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Of.INIT})>"u")throw new Error(on(12));if(typeof n(void 0,{type:Of.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(on(13))})}function sT(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{m8(n)}catch(o){i=o}return function(s={},l){if(i)throw i;let u=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],m=n[p],g=s[p],x=m(g,l);if(typeof x>"u")throw l&&l.type,new Error(on(14));d[p]=x,u=u||x!==g}return u=u||r.length!==Object.keys(s).length,u?d:s}}function K2(e,t){return function(...n){return t(e.apply(this,n))}}function q2(e,t){if(typeof e=="function")return K2(e,t);if(typeof e!="object"||e===null)throw new Error(on(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=K2(i,t))}return n}function Cc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function lT(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(on(15))};const s={getState:i.getState,dispatch:(u,...d)=>o(u,...d)},l=e.map(u=>u(s));return o=Cc(...l)(i.dispatch),{...i,dispatch:o}}}function cT(e){return Rx(e)&&"type"in e&&typeof e.type=="string"}var Ig={exports:{}},Rg={};var Y2;function g8(){if(Y2)return Rg;Y2=1;var e=Hs();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,l=e.useDebugValue;return Rg.useSyncExternalStoreWithSelector=function(u,d,f,p,m){var g=i(null);if(g.current===null){var x={hasValue:!1,value:null};g.current=x}else x=g.current;g=s(function(){function b(j){if(!C){if(C=!0,k=j,j=p(j),m!==void 0&&x.hasValue){var O=x.value;if(m(O,j))return E=O}return E=j}if(O=E,n(k,j))return O;var _=p(j);return m!==void 0&&m(O,_)?(k=j,O):(k=j,E=_)}var C=!1,k,E,N=f===void 0?null:f;return[function(){return b(d())},N===null?void 0:function(){return b(N())}]},[d,f,p,m]);var w=r(u,g[0],g[1]);return o(function(){x.hasValue=!0,x.value=w},[w]),l(w),w},Rg}var X2;function v8(){return X2||(X2=1,Ig.exports=g8()),Ig.exports}v8();var y8=P.version.startsWith("19"),x8=Symbol.for(y8?"react.transitional.element":"react.element"),b8=Symbol.for("react.portal"),w8=Symbol.for("react.fragment"),S8=Symbol.for("react.strict_mode"),P8=Symbol.for("react.profiler"),C8=Symbol.for("react.consumer"),A8=Symbol.for("react.context"),uT=Symbol.for("react.forward_ref"),k8=Symbol.for("react.suspense"),E8=Symbol.for("react.suspense_list"),Fx=Symbol.for("react.memo"),N8=Symbol.for("react.lazy"),O8=uT,j8=Fx;function T8(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case x8:switch(e=e.type,e){case w8:case P8:case S8:case k8:case E8:return e;default:switch(e=e&&e.$$typeof,e){case A8:case uT:case N8:case Fx:return e;case C8:return e;default:return t}}case b8:return t}}}function _8(e){return T8(e)===Fx}function D8(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let l=!1,u,d,f,p,m;function g(k,E){return u=k,d=E,f=e(u,d),p=t(r,d),m=n(f,p,d),l=!0,m}function x(){return f=e(u,d),t.dependsOnOwnProps&&(p=t(r,d)),m=n(f,p,d),m}function w(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(p=t(r,d)),m=n(f,p,d),m}function b(){const k=e(u,d),E=!s(k,f);return f=k,E&&(m=n(f,p,d)),m}function C(k,E){const N=!o(E,d),j=!i(k,u,E,d);return u=k,d=E,N&&j?x():N?w():j?b():m}return function(E,N){return l?C(E,N):g(E,N)}}function M8(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const o=t(e,i),s=n(e,i),l=r(e,i);return D8(o,s,l,e,i)}function I8(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function Ky(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Z2(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function dT(e,t){return function(r,{displayName:i}){const o=function(l,u){return o.dependsOnOwnProps?o.mapToProps(l,u):o.mapToProps(l,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(l,u){o.mapToProps=e,o.dependsOnOwnProps=Z2(e);let d=o(l,u);return typeof d=="function"&&(o.mapToProps=d,o.dependsOnOwnProps=Z2(d),d=o(l,u)),d},o}}function $x(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function R8(e){return e&&typeof e=="object"?Ky(t=>I8(e,t)):e?typeof e=="function"?dT(e):$x(e,"mapDispatchToProps"):Ky(t=>({dispatch:t}))}function L8(e){return e?typeof e=="function"?dT(e):$x(e,"mapStateToProps"):Ky(()=>({}))}function F8(e,t,n){return{...n,...e,...t}}function $8(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(u,d,f){const p=e(u,d,f);return o?i(p,s)||(s=p):(o=!0,s=p),s}}}function B8(e){return e?typeof e=="function"?$8(e):$x(e,"mergeProps"):()=>F8}function z8(e){e()}function W8(){let e=null,t=null;return{clear(){e=null,t=null},notify(){z8(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Q2={notify(){},get:()=>[]};function fT(e,t){let n,r=Q2,i=0,o=!1;function s(w){f();const b=r.subscribe(w);let C=!1;return()=>{C||(C=!0,b(),p())}}function l(){r.notify()}function u(){x.onStateChange&&x.onStateChange()}function d(){return o}function f(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=W8())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Q2)}function m(){o||(o=!0,f())}function g(){o&&(o=!1,p())}const x={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>r};return x}var V8=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U8=V8(),H8=()=>typeof navigator<"u"&&navigator.product==="ReactNative",G8=H8(),K8=()=>U8||G8?P.useLayoutEffect:P.useEffect,jf=K8();function J2(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function df(e,t){if(J2(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!J2(e[n[i]],t[n[i]]))return!1;return!0}var q8={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Y8={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},X8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Z8={[O8]:X8,[j8]:pT};function eC(e){return _8(e)?pT:Z8[e.$$typeof]||q8}var Q8=Object.defineProperty,J8=Object.getOwnPropertyNames,tC=Object.getOwnPropertySymbols,eW=Object.getOwnPropertyDescriptor,tW=Object.getPrototypeOf,nC=Object.prototype;function qy(e,t){if(typeof t!="string"){if(nC){const o=tW(t);o&&o!==nC&&qy(e,o)}let n=J8(t);tC&&(n=n.concat(tC(t)));const r=eC(e),i=eC(t);for(let o=0;o<n.length;++o){const s=n[o];if(!Y8[s]&&!(i&&i[s])&&!(r&&r[s])){const l=eW(t,s);try{Q8(e,s,l)}catch{}}}}return e}var nW=Symbol.for("react-redux-context"),rW=typeof globalThis<"u"?globalThis:{};function iW(){if(!P.createContext)return{};const e=rW[nW]??=new Map;let t=e.get(P.createContext);return t||(t=P.createContext(null),e.set(P.createContext,t)),t}var hT=iW(),oW=[null,null];function aW(e,t,n){jf(()=>e(...t),n)}function sW(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function lW(e,t,n,r,i,o,s,l,u,d,f){if(!e)return()=>{};let p=!1,m=null;const g=()=>{if(p||!l.current)return;const w=t.getState();let b,C;try{b=r(w,i.current)}catch(k){C=k,m=k}C||(m=null),b===o.current?s.current||d():(o.current=b,u.current=b,s.current=!0,f())};return n.onStateChange=g,n.trySubscribe(),g(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}function cW(e,t){return e===t}function uW(e,t,n,{pure:r,areStatesEqual:i=cW,areOwnPropsEqual:o=df,areStatePropsEqual:s=df,areMergedPropsEqual:l=df,forwardRef:u=!1,context:d=hT}={}){const f=d,p=L8(e),m=R8(t),g=B8(n),x=!!e;return b=>{const C=b.displayName||b.name||"Component",k=`Connect(${C})`,E={shouldHandleStateChanges:x,displayName:k,wrappedComponentName:C,WrappedComponent:b,initMapStateToProps:p,initMapDispatchToProps:m,initMergeProps:g,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:l};function N(_){const[D,z,q]=P.useMemo(()=>{const{reactReduxForwardedRef:I,...Ce}=_;return[_.context,I,Ce]},[_]),G=P.useMemo(()=>{let I=f;return D?.Consumer,I},[D,f]),F=P.useContext(G),U=!!_.store&&!!_.store.getState&&!!_.store.dispatch,fe=!!F&&!!F.store,ue=U?_.store:F.store,be=fe?F.getServerState:ue.getState,Q=P.useMemo(()=>M8(ue.dispatch,E),[ue]),[Y,re]=P.useMemo(()=>{if(!x)return oW;const I=fT(ue,U?void 0:F.subscription),Ce=I.notifyNestedSubs.bind(I);return[I,Ce]},[ue,U,F]),te=P.useMemo(()=>U?F:{...F,subscription:Y},[U,F,Y]),R=P.useRef(void 0),W=P.useRef(q),ie=P.useRef(void 0),oe=P.useRef(!1),de=P.useRef(!1),X=P.useRef(void 0);jf(()=>(de.current=!0,()=>{de.current=!1}),[]);const B=P.useMemo(()=>()=>ie.current&&q===W.current?ie.current:Q(ue.getState(),q),[ue,q]),ee=P.useMemo(()=>Ce=>Y?lW(x,ue,Y,Q,W,R,oe,de,ie,re,Ce):()=>{},[Y]);aW(sW,[W,R,oe,q,ie,re]);let L;try{L=P.useSyncExternalStore(ee,B,be?()=>Q(be(),q):B)}catch(I){throw X.current&&(I.message+=`
The error may be correlated with this previous error:
${X.current.stack}

`),I}jf(()=>{X.current=void 0,ie.current=void 0,R.current=L});const ne=P.useMemo(()=>P.createElement(b,{...L,ref:z}),[z,b,L]);return P.useMemo(()=>x?P.createElement(G.Provider,{value:te},ne):ne,[G,ne,te])}const O=P.memo(N);if(O.WrappedComponent=b,O.displayName=N.displayName=k,u){const D=P.forwardRef(function(q,G){return P.createElement(O,{...q,reactReduxForwardedRef:G})});return D.displayName=k,D.WrappedComponent=b,qy(D,b)}return qy(O,b)}}var mT=uW;function dW(e){const{children:t,context:n,serverState:r,store:i}=e,o=P.useMemo(()=>{const u=fT(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=P.useMemo(()=>i.getState(),[i]);jf(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,s]);const l=n||hT;return P.createElement(l.Provider,{value:o},t)}var gT=dW,fW="Invariant failed";function pW(e,t){throw new Error(fW)}var qr=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,l=i-n,u={top:n,right:r,bottom:i,left:o,width:s,height:l,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return u},Bx=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},rC=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},hW=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Lg={top:0,right:0,bottom:0,left:0},zx=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Lg:r,o=t.border,s=o===void 0?Lg:o,l=t.padding,u=l===void 0?Lg:l,d=qr(Bx(n,i)),f=qr(rC(n,s)),p=qr(rC(f,u));return{marginBox:d,borderBox:qr(n),paddingBox:f,contentBox:p,margin:i,border:s,padding:u}},Pr=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&pW(),i},mW=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Tf=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,l=hW(r,n);return zx({borderBox:l,border:i,margin:o,padding:s})},_f=function(t,n){return n===void 0&&(n=mW()),Tf(t,n)},vT=function(t,n){var r={top:Pr(n.marginTop),right:Pr(n.marginRight),bottom:Pr(n.marginBottom),left:Pr(n.marginLeft)},i={top:Pr(n.paddingTop),right:Pr(n.paddingRight),bottom:Pr(n.paddingBottom),left:Pr(n.paddingLeft)},o={top:Pr(n.borderTopWidth),right:Pr(n.borderRightWidth),bottom:Pr(n.borderBottomWidth),left:Pr(n.borderLeftWidth)};return zx({borderBox:t,margin:r,padding:i,border:o})},yT=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return vT(n,r)},Ac=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Df.apply(null,arguments)}function xT(e,t){}xT.bind(null,"warn");xT.bind(null,"error");function _o(){}function gW(e,t){return{...e,...t}}function Nr(e,t,n){const r=t.map(i=>{const o=gW(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const vW="Invariant failed";class Mf extends Error{}Mf.prototype.toString=function(){return this.message};function ge(e,t){throw new Mf(vW)}let yW=class extends ft.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=_o,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Mf&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Nr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Mf){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const xW=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,If=e=>e+1,bW=e=>`
  You have lifted an item in position ${If(e.source.index)}
`,bT=(e,t)=>{const n=e.droppableId===t.droppableId,r=If(e.index),i=If(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},wT=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,wW=e=>{const t=e.destination;if(t)return bT(e.source,t);const n=e.combine;return n?wT(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},iC=e=>`
  The item has returned to its starting position
  of ${If(e.index)}
`,SW=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${iC(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${bT(e.source,t)}
    `:n?`
      You have dropped the item.
      ${wT(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${iC(e.source)}
  `},ff={dragHandleUsageInstructions:xW,onDragStart:bW,onDragUpdate:wW,onDragEnd:SW};function PW(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function ST(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!PW(e[n],t[n]))return!1;return!0}function tt(e,t){const n=P.useState(()=>({inputs:t,result:e()}))[0],r=P.useRef(!0),i=P.useRef(n),s=r.current||!!(t&&i.current.inputs&&ST(t,i.current.inputs))?i.current:{inputs:t,result:e()};return P.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function De(e,t){return tt(()=>e,t)}const ln={x:0,y:0},xn=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ar=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Do=(e,t)=>e.x===t.x&&e.y===t.y,qs=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Aa=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},kc=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),oC=(e,t)=>Math.min(...t.map(n=>kc(e,n))),PT=e=>t=>({x:e(t.x),y:e(t.y)});var CW=(e,t)=>{const n=qr({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const tu=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),aC=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],AW={top:0,right:0,bottom:0,left:0},kW=(e,t)=>t?tu(e,t.scroll.diff.displacement):e,EW=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,NW=(e,t)=>t&&t.shouldClipSubject?CW(t.pageMarginBox,e):qr(e);var Ls=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=kW(e.marginBox,r),o=EW(i,n,t),s=NW(o,r);return{page:e,withPlaceholder:t,active:s}},Wx=(e,t)=>{e.frame||ge();const n=e.frame,r=ar(t,n.scroll.initial),i=qs(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=Ls({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:s}};function sn(e,t=ST){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}const CT=sn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),AT=sn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),$p=sn(e=>Object.values(e)),OW=sn(e=>Object.values(e));var Ys=sn((e,t)=>OW(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function Vx(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Bp(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var zp=sn((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),jW=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!Vx(i))return null;function s(g){const x={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return{...i,at:x}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?s(u):null;const d=zp(t,r);if(!u){if(!d.length)return null;const g=d[d.length-1];return s(g.descriptor.id)}const f=d.findIndex(g=>g.descriptor.id===u);f===-1&&ge();const p=f-1;if(p<0)return null;const m=d[p];return s(m.descriptor.id)},Xs=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const kT={point:ln,value:0},Ec={invisible:{},visible:{},all:[]},TW={displaced:Ec,displacedBy:kT,at:null};var Tr=(e,t)=>n=>e<=n&&n<=t,ET=e=>{const t=Tr(e.top,e.bottom),n=Tr(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&s||d&&o}},_W=e=>{const t=Tr(e.top,e.bottom),n=Tr(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Ux={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},NT={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var DW=e=>t=>{const n=Tr(t.top,t.bottom),r=Tr(t.left,t.right);return i=>e===Ux?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const MW=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:ln;return tu(e,n)},IW=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,RW=(e,t,n)=>n(t)(e),Hx=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?MW(e,t):e;return IW(o,t,i)&&RW(o,n,i)},LW=e=>Hx({...e,isVisibleThroughFrameFn:ET}),OT=e=>Hx({...e,isVisibleThroughFrameFn:_W}),FW=e=>Hx({...e,isVisibleThroughFrameFn:DW(e.destination.axis)}),$W=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return o?o.shouldAnimate:!0};function BW(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return qr(Bx(n,r))}function Nc({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:o}){return e.reduce(function(l,u){const d=BW(u,n),f=u.descriptor.id;if(l.all.push(f),!LW({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const m=$W(f,o,i),g={draggableId:f,shouldAnimate:m};return l.visible[f]=g,l},{all:[],visible:{},invisible:{}})}function zW(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function sC({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=zW(e,{inHomeList:t});return{displaced:Ec,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Rf({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:o,index:s,forceShouldAnimate:l}){const u=Xs(e,n);if(s==null)return sC({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const d=t.find(x=>x.descriptor.index===s);if(!d)return sC({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const f=zp(e,t),p=t.indexOf(d),m=f.slice(p);return{displaced:Nc({afterDragging:m,destination:n,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function $o(e,t){return!!t.effected[e]}var WW=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,l=n[o].descriptor.index;return $o(o,i)?e?l:l-1:e?l+1:l},VW=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,o=e?i+1:i-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return o<s||o>u?null:o},UW=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:o,previousImpact:s,viewport:l,afterCritical:u})=>{const d=s.at;if(d||ge(),d.type==="REORDER"){const p=VW({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:o});return p==null?null:Rf({draggable:n,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})}const f=WW({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:d.combine,afterCritical:u});return f==null?null:Rf({draggable:n,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})},HW=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return $o(n,t)?i?ln:qs(r.point):i?r.point:ln},GW=({afterCritical:e,impact:t,draggables:n})=>{const r=Bp(t);r||ge();const i=r.draggableId,o=n[i].page.borderBox.center,s=HW({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return xn(o,s)};const jT=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,KW=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Gx=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,lC=({axis:e,moveRelativeTo:t,isMoving:n})=>Aa(e.line,t.marginBox[e.end]+jT(e,n),Gx(e,t.marginBox,n)),cC=({axis:e,moveRelativeTo:t,isMoving:n})=>Aa(e.line,t.marginBox[e.start]-KW(e,n),Gx(e,t.marginBox,n)),qW=({axis:e,moveInto:t,isMoving:n})=>Aa(e.line,t.contentBox[e.start]+jT(e,n),Gx(e,t.contentBox,n));var YW=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const o=Ys(r.descriptor.id,n),s=t.page,l=r.axis;if(!o.length)return qW({axis:l,moveInto:r.page,isMoving:s});const{displaced:u,displacedBy:d}=e,f=u.all[0];if(f){const m=n[f];if($o(f,i))return cC({axis:l,moveRelativeTo:m.page,isMoving:s});const g=Tf(m.page,d.point);return cC({axis:l,moveRelativeTo:g,isMoving:s})}const p=o[o.length-1];if(p.descriptor.id===t.descriptor.id)return s.borderBox.center;if($o(p.descriptor.id,i)){const m=Tf(p.page,qs(i.displacedBy.point));return lC({axis:l,moveRelativeTo:m,isMoving:s})}return lC({axis:l,moveRelativeTo:p.page,isMoving:s})},Yy=(e,t)=>{const n=e.frame;return n?xn(t,n.scroll.diff.displacement):t};const XW=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const o=t.page.borderBox.center,s=e.at;return!n||!s?o:s.type==="REORDER"?YW({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):GW({impact:e,draggables:r,afterCritical:i})};var Wp=e=>{const t=XW(e),n=e.droppable;return n?Yy(n,t):t},TT=(e,t)=>{const n=ar(t,e.scroll.initial),r=qs(n);return{frame:qr({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function uC(e,t){return e.map(n=>t[n])}function ZW(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var QW=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const o=TT(t,xn(t.scroll.current,i)),s=n.frame?Wx(n,xn(n.frame.scroll.current,i)):n,l=e.displaced,u=Nc({afterDragging:uC(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),d=Nc({afterDragging:uC(l.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),f={},p={},m=[l,u,d];return l.all.forEach(x=>{const w=ZW(x,m);if(w){p[x]=w;return}f[x]=!0}),{...e,displaced:{all:l.all,invisible:f,visible:p}}},JW=(e,t)=>xn(e.scroll.diff.displacement,t),Kx=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=JW(n,e),i=ar(r,t.page.borderBox.center);return xn(t.client.borderBox.center,i)},_T=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=ar(n,e.page.borderBox.center),u={target:tu(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return o?FW(u):OT(u)},eV=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=Ys(n.descriptor.id,r),f=Xs(t,n),p=jW({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||UW({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:o,afterCritical:u});if(!p)return null;const m=Wp({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(_T({draggable:t,destination:n,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Kx({pageBorderBoxCenter:m,draggable:t,viewport:o}),impact:p,scrollJumpRequest:null};const x=ar(m,s),w=QW({impact:p,viewport:o,destination:n,draggables:r,maxScrollChange:x});return{clientSelection:l,impact:w,scrollJumpRequest:x}};const Rn=e=>{const t=e.subject.active;return t||ge(),t};var tV=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const o=n.subject.active;if(!o)return null;const s=n.axis,l=Tr(o[s.start],o[s.end]),u=$p(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>ET(i.frame)(Rn(f))).filter(f=>{const p=Rn(f);return e?o[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<o[s.crossAxisStart]}).filter(f=>{const p=Rn(f),m=Tr(p[s.start],p[s.end]);return l(p[s.start])||l(p[s.end])||m(o[s.start])||m(o[s.end])}).sort((f,p)=>{const m=Rn(f)[s.crossAxisStart],g=Rn(p)[s.crossAxisStart];return e?m-g:g-m}).filter((f,p,m)=>Rn(f)[s.crossAxisStart]===Rn(m[0])[s.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(f=>Tr(Rn(f)[s.start],Rn(f)[s.end])(t[s.line]));return d.length===1?d[0]:d.length>1?d.sort((f,p)=>Rn(f)[s.start]-Rn(p)[s.start])[0]:u.sort((f,p)=>{const m=oC(t,aC(Rn(f))),g=oC(t,aC(Rn(p)));return m!==g?m-g:Rn(f)[s.start]-Rn(p)[s.start]})[0]};const dC=(e,t)=>{const n=e.page.borderBox.center;return $o(e.descriptor.id,t)?ar(n,t.displacedBy.point):n},nV=(e,t)=>{const n=e.page.borderBox;return $o(e.descriptor.id,t)?tu(n,qs(t.displacedBy.point)):n};var rV=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>OT({target:nV(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,l)=>{const u=kc(e,Yy(n,dC(s,i))),d=kc(e,Yy(n,dC(l,i)));return u<d?-1:d<u?1:s.descriptor.index-l.descriptor.index})[0]||null,nu=sn(function(t,n){const r=n[t.line];return{value:r,point:Aa(t.line,r)}});const iV=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Aa(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=Ys(e.descriptor.id,n).reduce((d,f)=>d+f.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:Aa(r.line,u)},DT=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),MT=(e,t,n)=>{const r=e.frame;Xs(t,e)&&ge(),e.subject.withPlaceholder&&ge();const i=nu(e.axis,t.displaceBy).point,o=iV(e,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=Ls({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:f}}const l=o?xn(r.scroll.max,o):r.scroll.max,u=DT(r,l),d=Ls({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},oV=e=>{const t=e.subject.withPlaceholder;t||ge();const n=e.frame;if(!n){const s=Ls({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||ge();const i=DT(n,r),o=Ls({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}};var aV=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:o,viewport:s,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:Ec,displacedBy:kT,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},m=Wp({impact:p,draggable:r,droppable:o,draggables:i,afterCritical:l}),g=Xs(r,o)?o:MT(o,r,i);return _T({draggable:r,destination:g,newPageBorderBoxCenter:m,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],d=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),f=nu(o.axis,r.displaceBy);return Rf({draggable:r,insideDestination:n,destination:o,viewport:s,displacedBy:f,last:Ec,index:d})},sV=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:o,viewport:s,afterCritical:l})=>{const u=tV({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:s});if(!u)return null;const d=Ys(u.descriptor.id,i),f=rV({pageBorderBoxCenter:t,viewport:s,destination:u,insideDestination:d,afterCritical:l}),p=aV({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:f,insideDestination:d,viewport:s,afterCritical:l});if(!p)return null;const m=Wp({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:Kx({pageBorderBoxCenter:m,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null}},cr=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const lV=(e,t)=>{const n=cr(e);return n?t[n]:null};var cV=({state:e,type:t})=>{const n=lV(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],o=n||i,s=o.axis.direction,l=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:p,droppables:m}=e.dimensions;return l?eV({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:o,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):sV({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:o,draggables:p,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function ca(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function IT(e){const t=Tr(e.top,e.bottom),n=Tr(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function uV(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function dV({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(o=>{const s=o.axis,l=Aa(o.axis.line,e.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:kc(r,l)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function fV({pageBorderBox:e,draggable:t,droppables:n}){const r=$p(n).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!uV(e,o))return!1;if(IT(o)(e.center))return!0;const s=i.axis,l=o.center[s.crossAxisLine],u=e[s.crossAxisStart],d=e[s.crossAxisEnd],f=Tr(o[s.crossAxisStart],o[s.crossAxisEnd]),p=f(u),m=f(d);return!p&&!m?!0:p?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:dV({pageBorderBox:e,draggable:t,candidates:r}):null}const RT=(e,t)=>qr(tu(e,t));var pV=(e,t)=>{const n=e.frame;return n?RT(t,n.scroll.diff.value):t};function LT({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function hV({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var mV=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:o,afterCritical:s})=>{const l=n.axis,u=nu(n.axis,t.displaceBy),d=u.value,f=e[l.start],p=e[l.end],g=zp(t,r).find(w=>{const b=w.descriptor.id,C=w.page.borderBox.center[l.line],k=$o(b,s),E=LT({displaced:i,id:b});return k?E?p<=C:f<C-d:E?p<=C+d:f<C})||null,x=hV({draggable:t,closest:g,inHomeList:Xs(t,n)});return Rf({draggable:t,insideDestination:r,destination:n,viewport:o,last:i,displacedBy:u,index:x})};const gV=4;var vV=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const s=r.axis,l=nu(r.axis,e.displaceBy),u=l.value,d=t[s.start],f=t[s.end],m=zp(e,i).find(x=>{const w=x.descriptor.id,b=x.page.borderBox,k=b[s.size]/gV,E=$o(w,o),N=LT({displaced:n.displaced,id:w});return E?N?f>b[s.start]+k&&f<b[s.end]-k:d>b[s.start]-u+k&&d<b[s.end]-u-k:N?f>b[s.start]+u+k&&f<b[s.end]+u-k:d>b[s.start]+k&&d<b[s.end]-k});return m?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null},FT=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:o,afterCritical:s})=>{const l=RT(t.page.borderBox,e),u=fV({pageBorderBox:l,draggable:t,droppables:r});if(!u)return TW;const d=r[u],f=Ys(d.descriptor.id,n),p=pV(d,l);return vV({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:d,insideDestination:f,afterCritical:s})||mV({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:f,last:i.displaced,viewport:o,afterCritical:s})},qx=(e,t)=>({...e,[t.descriptor.id]:t});const yV=({previousImpact:e,impact:t,droppables:n})=>{const r=cr(e),i=cr(t);if(!r||r===i)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const s=oV(o);return qx(n,s)};var xV=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const o=yV({previousImpact:r,impact:i,droppables:n}),s=cr(i);if(!s)return o;const l=n[s];if(Xs(e,l)||l.subject.withPlaceholder)return o;const u=MT(l,e,t);return qx(o,u)},hc=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:o})=>{const s=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=ar(u,e.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:xn(e.initial.client.borderBoxCenter,d)},p={selection:xn(f.selection,s.scroll.current),borderBoxCenter:xn(f.borderBoxCenter,s.scroll.current),offset:xn(f.offset,s.scroll.diff.value)},m={client:f,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:s,current:m};const g=l.draggables[e.critical.draggable.id],x=i||FT({pageOffset:p.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),w=xV({draggable:g,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:w},impact:x,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function bV(e,t){return e.map(n=>t[n])}var $T=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const o=e.displaced,s=bV(o.all,n),l=Nc({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:o});return{...e,displaced:l}},BT=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:o})=>{const s=Wp({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return Kx({pageBorderBoxCenter:s,draggable:t,viewport:i})},zT=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&ge();const r=e.impact,i=n||e.viewport,o=t||e.dimensions,{draggables:s,droppables:l}=o,u=s[e.critical.draggable.id],d=cr(r);d||ge();const f=l[d],p=$T({impact:r,viewport:i,destination:f,draggables:s}),m=BT({impact:p,draggable:u,droppable:f,draggables:s,viewport:i,afterCritical:e.afterCritical});return hc({impact:p,clientSelection:m,state:e,dimensions:o,viewport:i})},wV=e=>({index:e.index,droppableId:e.droppableId}),WT=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=nu(t.axis,e.displaceBy),o=Ys(t.descriptor.id,n),s=o.indexOf(e);s===-1&&ge();const l=o.slice(s+1),u=l.reduce((m,g)=>(m[g.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:Nc({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:wV(e.descriptor)}},afterCritical:d}},SV=(e,t)=>({draggables:e.draggables,droppables:qx(e.droppables,t)}),PV=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Tf(e.client,t),i=_f(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},CV=e=>{const t=e.frame;return t||ge(),t},AV=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const o=i.descriptor.droppableId,s=t[o],u=CV(s).scroll.diff.value,d=xn(r,u);return PV({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},kV=({state:e,published:t})=>{const n=t.modified.map(C=>{const k=e.dimensions.droppables[C.droppableId];return Wx(k,C.scroll)}),r={...e.dimensions.droppables,...CT(n)},i=AT(AV({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...i};t.removals.forEach(C=>{delete o[C]});const s={droppables:r,draggables:o},l=cr(e.impact),u=l?s.droppables[l]:null,d=s.draggables[e.critical.draggable.id],f=s.droppables[e.critical.droppable.id],{impact:p,afterCritical:m}=WT({draggable:d,home:f,draggables:o,viewport:e.viewport}),g=u&&u.isCombineEnabled?e.impact:p,x=FT({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:g,viewport:e.viewport,afterCritical:m}),w={...e,phase:"DRAGGING",impact:x,onLiftImpact:p,dimensions:s,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Xy=e=>e.movementMode==="SNAP",Fg=(e,t,n)=>{const r=SV(e.dimensions,t);return!Xy(e)||n?hc({state:e,dimensions:r}):zT({state:e,dimensions:r})};function $g(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const fC={phase:"IDLE",completed:null,shouldFlush:!1};var EV=(e=fC,t)=>{if(t.type==="FLUSH")return{...fC,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ge();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=t.payload,l=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:ln},f={client:d,page:{selection:xn(d.selection,i.scroll.initial),borderBoxCenter:xn(d.selection,i.scroll.initial),offset:xn(d.selection,i.scroll.diff.value)}},p=$p(o.droppables).every(w=>!w.isFixedOnPage),{impact:m,afterCritical:g}=WT({draggable:l,home:u,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:f,current:f,isWindowScrollAllowed:p,impact:m,afterCritical:g,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&ge(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ge(),kV({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ca(e)||ge();const{client:n}=t.payload;return Do(n,e.current.client.selection)?e:hc({state:e,clientSelection:n,impact:Xy(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return $g(e);ca(e)||ge();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=Wx(i,r);return Fg(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ca(e)||ge();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||ge(),i.isEnabled===r&&ge();const o={...i,isEnabled:r};return Fg(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ca(e)||ge();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||ge(),i.isCombineEnabled===r&&ge();const o={...i,isCombineEnabled:r};return Fg(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ca(e)||ge(),e.isWindowScrollAllowed||ge();const n=t.payload.newScroll;if(Do(e.viewport.scroll.current,n))return $g(e);const r=TT(e.viewport,n);return Xy(e)?zT({state:e,viewport:r}):hc({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ca(e))return e;const n=t.payload.maxScroll;if(Do(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ge();const n=cV({state:e,type:t.type});return n?hc({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&ge(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ge(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function st(e,t){return e instanceof Object&&"type"in e&&e.type===t}const NV=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),OV=e=>({type:"LIFT",payload:e}),jV=e=>({type:"INITIAL_PUBLISH",payload:e}),TV=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),_V=()=>({type:"COLLECTION_STARTING",payload:null}),DV=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),MV=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),IV=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),VT=e=>({type:"MOVE",payload:e}),RV=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),LV=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),FV=()=>({type:"MOVE_UP",payload:null}),$V=()=>({type:"MOVE_DOWN",payload:null}),BV=()=>({type:"MOVE_RIGHT",payload:null}),zV=()=>({type:"MOVE_LEFT",payload:null}),Yx=()=>({type:"FLUSH",payload:null}),WV=e=>({type:"DROP_ANIMATE",payload:e}),Xx=e=>({type:"DROP_COMPLETE",payload:e}),UT=e=>({type:"DROP",payload:e}),VV=e=>({type:"DROP_PENDING",payload:e}),HT=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var UV=e=>({getState:t,dispatch:n})=>r=>i=>{if(!st(i,"LIFT")){r(i);return}const{id:o,clientSelection:s,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(Xx({completed:u.completed})),t().phase!=="IDLE"&&ge(),n(Yx()),n(NV({draggableId:o,movementMode:l}));const f={draggableId:o,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:m,viewport:g}=e.startPublishing(f);n(jV({critical:p,dimensions:m,clientSelection:s,movementMode:l,viewport:g}))},HV=e=>()=>t=>n=>{st(n,"INITIAL_PUBLISH")&&e.dragging(),st(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(st(n,"FLUSH")||st(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Zx={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Oc={opacity:{drop:0,combining:.7},scale:{drop:.75}},GT={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ia=`${GT.outOfTheWay}s ${Zx.outOfTheWay}`,mc={fluid:`opacity ${ia}`,snap:`transform ${ia}, opacity ${ia}`,drop:e=>{const t=`${e}s ${Zx.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${ia}`,placeholder:`height ${ia}, width ${ia}, margin ${ia}`},pC=e=>Do(e,ln)?void 0:`translate(${e.x}px, ${e.y}px)`,Zy={moveTo:pC,drop:(e,t)=>{const n=pC(e);if(n)return t?`${n} scale(${Oc.scale.drop})`:n}},{minDropTime:Qy,maxDropTime:KT}=GT,GV=KT-Qy,hC=1500,KV=.6;var qV=({current:e,destination:t,reason:n})=>{const r=kc(e,t);if(r<=0)return Qy;if(r>=hC)return KT;const i=r/hC,o=Qy+GV*i,s=n==="CANCEL"?o*KV:o;return Number(s.toFixed(2))},YV=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:o,droppables:s}=n,l=cr(e),u=l?s[l]:null,d=s[t.descriptor.droppableId],f=BT({impact:e,draggable:t,draggables:o,afterCritical:i,droppable:u||d,viewport:r});return ar(f,t.client.borderBox.center)},XV=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:$T({draggables:e,impact:o,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Ec},didDropInsideDroppable:!0};const ZV=({getState:e,dispatch:t})=>n=>r=>{if(!st(r,"DROP")){n(r);return}const i=e(),o=r.payload.reason;if(i.phase==="COLLECTING"){t(VV({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&ge(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||ge();const l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],{impact:f,didDropInsideDroppable:p}=XV({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),m=p?Vx(f):null,g=p?Bp(f):null,x={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:o,mode:i.movementMode,destination:m,combine:g},b=YV({impact:f,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),C={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:f};if(!(!Do(i.current.client.offset,b)||!!w.combine)){t(Xx({completed:C}));return}const E=qV({current:i.current.client.offset,destination:b,reason:o});t(WV({newHomeClientOffset:b,dropDuration:E,completed:C}))};var qT=()=>({x:window.pageXOffset,y:window.pageYOffset});function QV(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function JV({onWindowScroll:e}){function t(){e(qT())}const n=Ac(t),r=QV(n);let i=_o;function o(){return i!==_o}function s(){o()&&ge(),i=Nr(window,[r])}function l(){o()||ge(),n.cancel(),i(),i=_o}return{start:s,stop:l,isActive:o}}const eU=e=>st(e,"DROP_COMPLETE")||st(e,"DROP_ANIMATE")||st(e,"FLUSH"),tU=e=>{const t=JV({onWindowScroll:n=>{e.dispatch(RV({newScroll:n}))}});return n=>r=>{!t.isActive()&&st(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&eU(r)&&t.stop(),n(r)}};var nU=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return i.wasCalled=()=>t,i},rU=()=>{const e=[],t=i=>{const o=e.findIndex(l=>l.timerId===i);o===-1&&ge();const[s]=e.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>t(o)),s={timerId:o,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const iU=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,oU=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,aU=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Kl=(e,t)=>{t()},Bd=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Bg(e,t,n,r){if(!e){n(r(t));return}const i=nU(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var sU=(e,t)=>{const n=rU();let r=null;const i=(p,m)=>{r&&ge(),Kl("onBeforeCapture",()=>{const g=e().onBeforeCapture;g&&g({draggableId:p,mode:m})})},o=(p,m)=>{r&&ge(),Kl("onBeforeDragStart",()=>{const g=e().onBeforeDragStart;g&&g(Bd(p,m))})},s=(p,m)=>{r&&ge();const g=Bd(p,m);r={mode:m,lastCritical:p,lastLocation:g.source,lastCombine:null},n.add(()=>{Kl("onDragStart",()=>Bg(e().onDragStart,g,t,ff.onDragStart))})},l=(p,m)=>{const g=Vx(m),x=Bp(m);r||ge();const w=!aU(p,r.lastCritical);w&&(r.lastCritical=p);const b=!iU(r.lastLocation,g);b&&(r.lastLocation=g);const C=!oU(r.lastCombine,x);if(C&&(r.lastCombine=x),!w&&!b&&!C)return;const k={...Bd(p,r.mode),combine:x,destination:g};n.add(()=>{Kl("onDragUpdate",()=>Bg(e().onDragUpdate,k,t,ff.onDragUpdate))})},u=()=>{r||ge(),n.flush()},d=p=>{r||ge(),r=null,Kl("onDragEnd",()=>Bg(e().onDragEnd,p,t,ff.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const p={...Bd(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},lU=(e,t)=>{const n=sU(e,t);return r=>i=>o=>{if(st(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(st(o,"INITIAL_PUBLISH")){const l=o.payload.critical;n.beforeStart(l,o.payload.movementMode),i(o),n.start(l,o.payload.movementMode);return}if(st(o,"DROP_COMPLETE")){const l=o.payload.completed.result;n.flush(),i(o),n.drop(l);return}if(i(o),st(o,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const cU=e=>t=>n=>{if(!st(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&ge(),e.dispatch(Xx({completed:r.completed}))},uU=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>o=>{if((st(o,"FLUSH")||st(o,"DROP_COMPLETE")||st(o,"DROP_ANIMATION_FINISHED"))&&r(),i(o),!st(o,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(HT())}};n=requestAnimationFrame(()=>{n=null,t=Nr(window,[s])})}};var dU=e=>()=>t=>n=>{(st(n,"DROP_COMPLETE")||st(n,"FLUSH")||st(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},fU=e=>{let t=!1;return()=>n=>r=>{if(st(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(st(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(st(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const pU=e=>st(e,"DROP_COMPLETE")||st(e,"DROP_ANIMATE")||st(e,"FLUSH");var hU=e=>t=>n=>r=>{if(pU(r)){e.stop(),n(r);return}if(st(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&ge(),e.start(i);return}n(r),e.scroll(t.getState())};const mU=e=>t=>n=>{if(t(n),!st(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(UT({reason:r.reason})))},gU=Cc;var vU=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:o})=>Lx(EV,gU(lT(HV(n),dU(e),UV(e),ZV,cU,uU,mU,hU(o),tU,fU(t),lU(r,i))));const zg=()=>({additions:{},removals:{},modified:{}});function yU({registry:e,callbacks:t}){let n=zg(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:f}=n,p=Object.keys(u).map(x=>e.draggable.getById(x).getDimension(ln)).sort((x,w)=>x.descriptor.index-w.descriptor.index),m=Object.keys(f).map(x=>{const b=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:b}}),g={additions:p,removals:Object.keys(d),modified:m};n=zg(),t.publish(g)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=zg())}}}var YT=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=ar({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},XT=()=>{const e=document.documentElement;return e||ge(),e},ZT=()=>{const e=XT();return YT({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},xU=()=>{const e=qT(),t=ZT(),n=e.y,r=e.x,i=XT(),o=i.clientWidth,s=i.clientHeight,l=r+o,u=n+s;return{frame:qr({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:ln,displacement:ln}}}},bU=({critical:e,scrollOptions:t,registry:n})=>{const r=xU(),i=r.scroll.current,o=e.droppable,s=n.droppable.getAllByType(o.type).map(f=>f.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(i));return{dimensions:{draggables:AT(l),droppables:CT(s)},critical:e,viewport:r}};function mC(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var wU=(e,t)=>{let n=null;const r=yU({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(m,g)=>{e.droppable.exists(m)||ge(),n&&t.updateDroppableIsEnabled({id:m,isEnabled:g})},o=(m,g)=>{n&&(e.droppable.exists(m)||ge(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:g}))},s=(m,g)=>{n&&(e.droppable.exists(m)||ge(),t.updateDroppableScroll({id:m,newScroll:g}))},l=(m,g)=>{n&&e.droppable.getById(m).callbacks.scroll(g)},u=()=>{if(!n)return;r.stop();const m=n.critical.droppable;e.droppable.getAllByType(m.type).forEach(g=>g.callbacks.dragStopped()),n.unsubscribe(),n=null},d=m=>{n||ge();const g=n.critical.draggable;m.type==="ADDITION"&&mC(e,g,m.value)&&r.add(m.value),m.type==="REMOVAL"&&mC(e,g,m.value)&&r.remove(m.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:l,updateDroppableScroll:s,startPublishing:m=>{n&&ge();const g=e.draggable.getById(m.draggableId),x=e.droppable.getById(g.descriptor.droppableId),w={draggable:g.descriptor,droppable:x.descriptor},b=e.subscribe(d);return n={critical:w,unsubscribe:b},bU({critical:w,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:u}},QT=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",SU=e=>{window.scrollBy(e.x,e.y)};const PU=sn(e=>$p(e).filter(t=>!(!t.isEnabled||!t.frame))),CU=(e,t)=>PU(t).find(r=>(r.frame||ge(),IT(r.frame.pageMarginBox)(e)))||null;var AU=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return CU(e,n)};const jc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var kU=(e,t,n=()=>jc)=>{const r=n(),i=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},JT=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Qx=1,EU=(e,t,n=()=>jc)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Qx;const o=1-JT({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)},NU=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,s=t,l=o,d=Date.now()-s;if(d>=o)return e;if(d<i)return Qx;const f=JT({startOfRange:i,endOfRange:l,current:d}),p=e*r.ease(f);return Math.ceil(p)},gC=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=EU(e,t,i);return o===0?0:r?Math.max(NU(o,n,i),Qx):o},vC=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=kU(e,r,o);return t[r.end]<t[r.start]?gC({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*gC({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},OU=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const jU=PT(e=>e===0?0:e);var e_=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=vC({container:t,distanceToEdges:s,dragStartTime:e,axis:Ux,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),u=vC({container:t,distanceToEdges:s,dragStartTime:e,axis:NT,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),d=jU({x:u,y:l});if(Do(d,ln))return null;const f=OU({container:t,subject:n,proposedScroll:d});return f?Do(f,ln)?null:f:null};const TU=PT(e=>e===0?0:e>0?1:-1),Jx=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=xn(t,r),o={x:e(i.x,n.x),y:e(i.y,n.y)};return Do(o,ln)?null:o}})(),t_=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=TU(n),o=Jx({max:r,current:t,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},eb=(e,t)=>t_({current:e.scroll.current,max:e.scroll.max,change:t}),_U=(e,t)=>{if(!eb(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Jx({current:r,max:n,change:t})},tb=(e,t)=>{const n=e.frame;return n?t_({current:n.scroll.current,max:n.scroll.max,change:t}):!1},DU=(e,t)=>{const n=e.frame;return!n||!tb(e,t)?null:Jx({current:n.scroll.current,max:n.scroll.max,change:t})};var MU=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=e_({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&eb(e,s)?s:null},IU=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=e.frame;if(!s)return null;const l=e_({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return l&&tb(e,l)?l:null},yC=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,m=MU({dragStartTime:t,viewport:p,subject:u,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(m){r(m);return}}const d=AU({center:s,destination:cr(e.impact),droppables:e.dimensions.droppables});if(!d)return;const f=IU({dragStartTime:t,droppable:d,subject:u,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});f&&i(d.descriptor.id,f)},RU=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>jc})=>{const r=Ac(e),i=Ac(t);let o=null;const s=d=>{o||ge();const{shouldUseTimeDampening:f,dragStartTime:p}=o;yC({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:d=>{o&&ge();const f=Date.now();let p=!1;const m=()=>{p=!0};yC({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:n}),o={dragStartTime:f,shouldUseTimeDampening:p},p&&s(d)},stop:()=>{o&&(r.cancel(),i.cancel(),o=null)},scroll:s}},LU=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=xn(l.current.client.selection,u);e({client:d})},i=(l,u)=>{if(!tb(l,u))return u;const d=DU(l,u);if(!d)return t(l.descriptor.id,u),null;const f=ar(u,d);return t(l.descriptor.id,f),ar(u,f)},o=(l,u,d)=>{if(!l||!eb(u,d))return d;const f=_U(u,d);if(!f)return n(d),null;const p=ar(d,f);return n(p),ar(d,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=cr(l.impact);d||ge();const f=i(l.dimensions.droppables[d],u);if(!f)return;const p=l.viewport,m=o(l.isWindowScrollAllowed,p,f);m&&r(l,m)}},FU=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=RU({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=LU({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&o(u)}},start:i.start,stop:i.stop}};const Fs="data-rfd",$s=(()=>{const e=`${Fs}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Jy=(()=>{const e=`${Fs}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),$U=(()=>{const e=`${Fs}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),xC={contextId:`${Fs}-scroll-container-context-id`},BU=e=>t=>`[${t}="${e}"]`,ql=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),zU="pointer-events: none;";var WU=e=>{const t=BU(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t($s.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:zU,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${mc.outOfTheWay};
    `;return{selector:t(Jy.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t($U.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ql(s,"always"),resting:ql(s,"resting"),dragging:ql(s,"dragging"),dropAnimating:ql(s,"dropAnimating"),userCancel:ql(s,"userCancel")}};const ur=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect,Wg=()=>{const e=document.querySelector("head");return e||ge(),e},bC=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function VU(e,t){const n=tt(()=>WU(e),[e]),r=P.useRef(null),i=P.useRef(null),o=De(sn(p=>{const m=i.current;m||ge(),m.textContent=p}),[]),s=De(p=>{const m=r.current;m||ge(),m.textContent=p},[]);ur(()=>{!r.current&&!i.current||ge();const p=bC(t),m=bC(t);return r.current=p,i.current=m,p.setAttribute(`${Fs}-always`,e),m.setAttribute(`${Fs}-dynamic`,e),Wg().appendChild(p),Wg().appendChild(m),s(n.always),o(n.resting),()=>{const g=x=>{const w=x.current;w||ge(),Wg().removeChild(w),x.current=null};g(r),g(i)}},[t,s,o,n.always,n.resting,e]);const l=De(()=>o(n.dragging),[o,n.dragging]),u=De(p=>{if(p==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),d=De(()=>{i.current&&o(n.resting)},[o,n.resting]);return tt(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function n_(e,t){return Array.from(e.querySelectorAll(t))}var r_=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Vp(e){return e instanceof r_(e).HTMLElement}function UU(e,t){const n=`[${$s.contextId}="${e}"]`,r=n_(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute($s.draggableId)===t);return!i||!Vp(i)?null:i}function HU(e){const t=P.useRef({}),n=P.useRef(null),r=P.useRef(null),i=P.useRef(!1),o=De(function(m,g){const x={id:m,focus:g};return t.current[m]=x,function(){const b=t.current;b[m]!==x&&delete b[m]}},[]),s=De(function(m){const g=UU(e,m);g&&g!==document.activeElement&&g.focus()},[e]),l=De(function(m,g){n.current===m&&(n.current=g)},[]),u=De(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const m=n.current;m&&s(m)}))},[s]),d=De(function(m){n.current=null;const g=document.activeElement;g&&g.getAttribute($s.draggableId)===m&&(n.current=m)},[]);return ur(()=>(i.current=!0,function(){i.current=!1;const m=r.current;m&&cancelAnimationFrame(m)}),[]),tt(()=>({register:o,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[o,d,u,l])}function GU(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const g=t.indexOf(p);g!==-1&&t.splice(g,1)}}function r(p){t.length&&t.forEach(m=>m(p))}function i(p){return e.draggables[p]||null}function o(p){const m=i(p);return m||ge(),m}const s={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,m)=>{const g=e.draggables[m.descriptor.id];g&&g.uniqueId===p.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const m=p.descriptor.id,g=i(m);g&&p.uniqueId===g.uniqueId&&(delete e.draggables[m],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:o,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(m=>m.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const m=l(p);return m||ge(),m}const d={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const m=l(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(m=>m.descriptor.type===p)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:d,subscribe:n,clean:f}}function KU(){const e=tt(GU,[]);return P.useEffect(()=>function(){e.clean()},[e]),e}var nb=ft.createContext(null),Lf=()=>{const e=document.body;return e||ge(),e};const qU={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},YU=e=>`rfd-announcement-${e}`;function XU(e){const t=tt(()=>YU(e),[e]),n=P.useRef(null);return P.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Df(o.style,qU),Lf().appendChild(o),function(){setTimeout(function(){const u=Lf();u.contains(o)&&u.removeChild(o),o===n.current&&(n.current=null)})}},[t]),De(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}const ZU={separator:"::"};function rb(e,t=ZU){const n=ft.useId();return tt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function QU({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function JU({contextId:e,text:t}){const n=rb("hidden-text",{separator:"-"}),r=tt(()=>QU({contextId:e,uniqueId:n}),[n,e]);return P.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",Lf().appendChild(o),function(){const l=Lf();l.contains(o)&&l.removeChild(o)}},[r,t]),r}var Up=ft.createContext(null);function i_(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),t}function e9(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&ge();const l={abandon:s};return e=l,l}function i(){e||ge(),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}function Tc(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const t9=9,n9=13,ib=27,o_=32,r9=33,i9=34,o9=35,a9=36,s9=37,l9=38,c9=39,u9=40,d9={[n9]:!0,[t9]:!0};var a_=e=>{d9[e.keyCode]&&e.preventDefault()};const Hp=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),s_=0,wC=5;function f9(e,t){return Math.abs(t.x-e.x)>=wC||Math.abs(t.y-e.y)>=wC}const SC={type:"IDLE"};function p9({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:l}=i;if(o!==s_)return;const u={x:s,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&ge();const f=d.point;if(!f9(f,u))return;i.preventDefault();const p=d.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const o=n();if(o.type!=="DRAGGING"){e();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===ib){i.preventDefault(),e();return}a_(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=n();if(o.type==="IDLE"&&ge(),o.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Hp,fn:e}]}function h9(e){const t=P.useRef(SC),n=P.useRef(_o),r=tt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==s_||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const m=e.findClosestDraggableId(p);if(!m)return;const g=e.tryGetLock(m,s,{sourceEvent:p});if(!g)return;p.preventDefault();const x={x:p.clientX,y:p.clientY};n.current(),d(g,x)}}),[e]),i=tt(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const p=e.findClosestDraggableId(f);if(!p)return;const m=e.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||e.canGetLock(p)&&f.preventDefault())}}),[e]),o=De(function(){const p={passive:!1,capture:!0};n.current=Nr(window,[i,r],p)},[i,r]),s=De(()=>{t.current.type!=="IDLE"&&(t.current=SC,n.current(),o())},[o]),l=De(()=>{const f=t.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),u=De(function(){const p={capture:!0,passive:!1},m=p9({cancel:l,completed:s,getPhase:()=>t.current,setPhase:g=>{t.current=g}});n.current=Nr(window,m,p)},[l,s]),d=De(function(p,m){t.current.type!=="IDLE"&&ge(),t.current={type:"PENDING",point:m,actions:p},u()},[u]);ur(function(){return o(),function(){n.current()}},[o])}function m9(){}const g9={[i9]:!0,[r9]:!0,[a9]:!0,[o9]:!0};function v9(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===ib){i.preventDefault(),n();return}if(i.keyCode===o_){i.preventDefault(),r();return}if(i.keyCode===u9){i.preventDefault(),e.moveDown();return}if(i.keyCode===l9){i.preventDefault(),e.moveUp();return}if(i.keyCode===c9){i.preventDefault(),e.moveRight();return}if(i.keyCode===s9){i.preventDefault(),e.moveLeft();return}if(g9[i.keyCode]){i.preventDefault();return}a_(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Hp,fn:n}]}function y9(e){const t=P.useRef(m9),n=tt(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==o_)return;const s=e.findClosestDraggableId(o);if(!s)return;const l=e.tryGetLock(s,f,{sourceEvent:o});if(!l)return;o.preventDefault();let u=!0;const d=l.snapLift();t.current();function f(){u||ge(),u=!1,t.current(),r()}t.current=Nr(window,v9(d,f),{capture:!0,passive:!1})}}),[e]),r=De(function(){const o={passive:!1,capture:!0};t.current=Nr(window,[n],o)},[n]);ur(function(){return r(),function(){t.current()}},[r])}const Vg={type:"IDLE"},x9=120,b9=.15;function w9({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===ib&&n.preventDefault(),e()}},{eventName:Hp,fn:e}]}function S9({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:o,clientY:s}=r.touches[0],l={x:o,y:s};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&ge();const o=r.touches[0];if(!o||!(o.force>=b9))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Hp,fn:e}]}function P9(e){const t=P.useRef(Vg),n=P.useRef(_o),r=De(function(){return t.current},[]),i=De(function(g){t.current=g},[]),o=tt(()=>({eventName:"touchstart",fn:function(g){if(g.defaultPrevented)return;const x=e.findClosestDraggableId(g);if(!x)return;const w=e.tryGetLock(x,l,{sourceEvent:g});if(!w)return;const b=g.touches[0],{clientX:C,clientY:k}=b,E={x:C,y:k};n.current(),p(w,E)}}),[e]),s=De(function(){const g={capture:!0,passive:!1};n.current=Nr(window,[o],g)},[o]),l=De(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),i(Vg),n.current(),s())},[s,i]),u=De(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=De(function(){const g={capture:!0,passive:!1},x={cancel:u,completed:l,getPhase:r},w=Nr(window,S9(x),g),b=Nr(window,w9(x),g);n.current=function(){w(),b()}},[u,r,l]),f=De(function(){const g=r();g.type!=="PENDING"&&ge();const x=g.actions.fluidLift(g.point);i({type:"DRAGGING",actions:x,hasMoved:!1})},[r,i]),p=De(function(g,x){r().type!=="IDLE"&&ge();const w=setTimeout(f,x9);i({type:"PENDING",point:x,actions:g,longPressTimerId:w}),d()},[d,r,i,f]);ur(function(){return s(),function(){n.current();const x=r();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),i(Vg))}},[r,s,i]),ur(function(){return Nr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const C9=["input","button","textarea","select","option","optgroup","video","audio"];function l_(e,t){if(t==null)return!1;if(C9.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:l_(e,t.parentElement)}function A9(e,t){const n=t.target;return Vp(n)?l_(e,n):!1}var k9=e=>qr(e.getBoundingClientRect()).center;function E9(e){return e instanceof r_(e).Element}const N9=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function c_(e,t){return e==null?null:e[N9](t)?e:c_(e.parentElement,t)}function O9(e,t){return e.closest?e.closest(t):c_(e,t)}function j9(e){return`[${$s.contextId}="${e}"]`}function T9(e,t){const n=t.target;if(!E9(n))return null;const r=j9(e),i=O9(n,r);return!i||!Vp(i)?null:i}function _9(e,t){const n=T9(e,t);return n?n.getAttribute($s.draggableId):null}function D9(e,t){const n=`[${Jy.contextId}="${e}"]`,i=n_(document,n).find(o=>o.getAttribute(Jy.id)===t);return!i||!Vp(i)?null:i}function M9(e){e.preventDefault()}function zd({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function u_({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!QT(t.getState(),r))}function I9({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!u_({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),d=D9(t,u.descriptor.id);if(!d||s&&!u.options.canDragInteractiveElements&&A9(d,s))return null;const f=e.claim(o||_o);let p="PRE_DRAG";function m(){return u.options.shouldRespectForcePress}function g(){return e.isActive(f)}function x(j,O){zd({expected:j,phase:p,isLockActive:g,shouldWarn:!0})&&n.dispatch(O())}const w=x.bind(null,"DRAGGING");function b(j){function O(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(O(),ge()),n.dispatch(OV(j.liftActionArgs)),p="DRAGGING";function _(D,z={shouldBlockNextClick:!1}){if(j.cleanup(),z.shouldBlockNextClick){const q=Nr(window,[{eventName:"click",fn:M9,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(q)}O(),n.dispatch(UT({reason:D}))}return{isActive:()=>zd({expected:"DRAGGING",phase:p,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:m,drop:D=>_("DROP",D),cancel:D=>_("CANCEL",D),...j.actions}}function C(j){const O=Ac(D=>{w(()=>VT({client:D}))});return{...b({liftActionArgs:{id:i,clientSelection:j,movementMode:"FLUID"},cleanup:()=>O.cancel(),actions:{move:O}}),move:O}}function k(){const j={moveUp:()=>w(FV),moveRight:()=>w(BV),moveDown:()=>w($V),moveLeft:()=>w(zV)};return b({liftActionArgs:{id:i,clientSelection:k9(d),movementMode:"SNAP"},cleanup:_o,actions:j})}function E(){zd({expected:"PRE_DRAG",phase:p,isLockActive:g,shouldWarn:!0})&&e.release()}return{isActive:()=>zd({expected:"PRE_DRAG",phase:p,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:C,snapLift:k,abort:E}}const R9=[h9,y9,P9];function L9({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const o=[...i?R9:[],...r||[]],s=P.useState(()=>e9())[0],l=De(function(b,C){Tc(b)&&!Tc(C)&&s.tryAbandon()},[s]);ur(function(){let b=t.getState();return t.subscribe(()=>{const k=t.getState();l(b,k),b=k})},[s,t,l]),ur(()=>s.tryAbandon,[s.tryAbandon]);const u=De(w=>u_({lockAPI:s,registry:n,store:t,draggableId:w}),[s,n,t]),d=De((w,b,C)=>I9({lockAPI:s,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:b||null,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null}),[e,s,n,t]),f=De(w=>_9(e,w),[e]),p=De(w=>{const b=n.draggable.findById(w);return b?b.options:null},[n.draggable]),m=De(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Yx()))},[s,t]),g=De(()=>s.isClaimed(),[s]),x=tt(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:g}),[u,d,f,p,m,g]);for(let w=0;w<o.length;w++)o[w](x)}const F9=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};eu.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),$9=e=>({...jc,...e.autoScrollerOptions,durationDampening:{...jc.durationDampening,...e.autoScrollerOptions}});function Yl(e){return e.current||ge(),e.current}function B9(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=e,s=P.useRef(null),l=i_(e),u=De(()=>F9(l.current),[l]),d=De(()=>$9(l.current),[l]),f=XU(t),p=JU({contextId:t,text:o}),m=VU(t,i),g=De(q=>{Yl(s).dispatch(q)},[]),x=tt(()=>q2({publishWhileDragging:TV,updateDroppableScroll:DV,updateDroppableIsEnabled:MV,updateDroppableIsCombineEnabled:IV,collectionStarting:_V},g),[g]),w=KU(),b=tt(()=>wU(w,x),[w,x]),C=tt(()=>FU({scrollWindow:SU,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:d,...q2({move:VT},g)}),[b.scrollDroppable,g,d]),k=HU(t),E=tt(()=>vU({announce:f,autoScroller:C,dimensionMarshal:b,focusMarshal:k,getResponders:u,styleMarshal:m}),[f,C,b,k,u,m]);s.current=E;const N=De(()=>{const q=Yl(s);q.getState().phase!=="IDLE"&&q.dispatch(Yx())},[]),j=De(()=>{const q=Yl(s).getState();return q.phase==="DROP_ANIMATING"?!0:q.phase==="IDLE"?!1:q.isDragging},[]),O=tt(()=>({isDragging:j,tryAbort:N}),[j,N]);n(O);const _=De(q=>QT(Yl(s).getState(),q),[]),D=De(()=>ca(Yl(s).getState()),[]),z=tt(()=>({marshal:b,focus:k,contextId:t,canLift:_,isMovementAllowed:D,dragHandleUsageInstructionsId:p,registry:w}),[t,b,p,k,_,D,w]);return L9({contextId:t,store:E,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),P.useEffect(()=>N,[N]),ft.createElement(Up.Provider,{value:z},ft.createElement(gT,{context:nb,store:E},e.children))}function z9(){return ft.useId()}function W9(e){const t=z9(),n=e.dragHandleUsageInstructions||ff.dragHandleUsageInstructions;return ft.createElement(yW,null,r=>ft.createElement(B9,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const PC={dragging:5e3,dropAnimating:4500},V9=(e,t)=>t?mc.drop(t.duration):e?mc.snap:mc.fluid,U9=(e,t)=>{if(e)return t?Oc.opacity.drop:Oc.opacity.combining},H9=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function G9(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:o}=e,s=!!i,l=H9(e),u=!!o,d=u?Zy.drop(r,s):Zy.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:V9(l,o),transform:d,opacity:U9(s,u),zIndex:u?PC.dropAnimating:PC.dragging,pointerEvents:"none"}}function K9(e){return{transform:Zy.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function q9(e){return e.type==="DRAGGING"?G9(e):K9(e)}function Y9(e,t,n=ln){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=vT(i,r),s=_f(o,n),l={client:o,tagName:t.tagName.toLowerCase(),display:r.display},u={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:o,page:s}}function X9(e){const t=rb("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:l}=e,u=tt(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:l}),[o,l,s]),d=De(g=>{const x=i();return x||ge(),Y9(n,x,g)},[n,i]),f=tt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),p=P.useRef(f),m=P.useRef(!0);ur(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),ur(()=>{if(m.current){m.current=!1;return}const g=p.current;p.current=f,r.draggable.update(f,g)},[f,r.draggable])}var ob=ft.createContext(null);function Ff(e){const t=P.useContext(e);return t||ge(),t}function Z9(e){e.preventDefault()}const Q9=e=>{const t=P.useRef(null),n=De((O=null)=>{t.current=O},[]),r=De(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=Ff(Up),{type:l,droppableId:u}=Ff(ob),d=tt(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:f,draggableId:p,isEnabled:m,shouldRespectForcePress:g,canDragInteractiveElements:x,isClone:w,mapped:b,dropAnimationFinished:C}=e;if(!w){const O=tt(()=>({descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:x,shouldRespectForcePress:g,isEnabled:m}),[d,s,r,x,g,m]);X9(O)}const k=tt(()=>m?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:Z9}:null,[i,o,p,m]),E=De(O=>{b.type==="DRAGGING"&&b.dropping&&O.propertyName==="transform"&&eu.flushSync(C)},[C,b]),N=tt(()=>{const O=q9(b),_=b.type==="DRAGGING"&&b.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:O,onTransitionEnd:_},dragHandleProps:k}},[i,k,p,b,E,n]),j=tt(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return ft.createElement(ft.Fragment,null,f(N,b.snapshot,j))};var d_=(e,t)=>e===t,f_=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const J9=e=>e.combine?e.combine.draggableId:null,e7=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function t7(){const e=sn((i,o)=>({x:i,y:o})),t=sn((i,o,s=null,l=null,u=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:s,combineWith:l,combineTargetFor:null})),n=sn((i,o,s,l,u=null,d=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:o,offset:i,dimension:s,forceShouldAnimate:f,snapshot:t(o,l,u,d,null)}}));return(i,o)=>{if(Tc(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,l=i.dimensions.draggables[o.draggableId],u=cr(i.impact),d=e7(i.impact),f=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,l,o.isClone,u,d,f)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const l=o.isClone,u=i.dimensions.draggables[o.draggableId],d=s.result,f=d.mode,p=f_(d),m=J9(d),x={duration:i.dropDuration,curve:Zx.drop,moveTo:i.newHomeClientOffset,opacity:m?Oc.opacity.drop:null,scale:m?Oc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:x,draggingOver:p,combineWith:m,mode:f,forceShouldAnimate:null,snapshot:t(f,l,p,m,x)}}}return null}}function p_(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const n7={mapped:{type:"SECONDARY",offset:ln,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:p_(null)}};function r7(){const e=sn((s,l)=>({x:s,y:l})),t=sn(p_),n=sn((s,l=null,u)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=s=>s?n(ln,s,!0):null,i=(s,l,u,d)=>{const f=u.displaced.visible[s],p=!!(d.inVirtualList&&d.effected[s]),m=Bp(u),g=m&&m.draggableId===s?l:null;if(!f){if(!p)return r(g);if(u.displaced.invisible[s])return null;const b=qs(d.displacedBy.point),C=e(b.x,b.y);return n(C,g,!0)}if(p)return r(g);const x=u.displacedBy.point,w=e(x.x,x.y);return n(w,g,f.shouldAnimate)};return(s,l)=>{if(Tc(s))return s.critical.draggable.id===l.draggableId?null:i(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const u=s.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const i7=()=>{const e=t7(),t=r7();return(r,i)=>e(r,i)||t(r,i)||n7},o7={dropAnimationFinished:HT},a7=mT(i7,o7,null,{context:nb,areStatePropsEqual:d_})(Q9);function h_(e){return Ff(ob).isUsingCloneFor===e.draggableId&&!e.isClone?null:ft.createElement(a7,e)}function s7(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return ft.createElement(h_,Df({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const m_=e=>t=>e===t,l7=m_("scroll"),c7=m_("auto"),CC=(e,t)=>t(e.overflowX)||t(e.overflowY),u7=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return CC(n,l7)||CC(n,c7)},d7=()=>!1,g_=e=>e==null?null:e===document.body?d7()?e:null:e===document.documentElement?null:u7(e)?e:g_(e.parentElement);var e0=e=>({x:e.scrollLeft,y:e.scrollTop});const v_=e=>e?window.getComputedStyle(e).position==="fixed"?!0:v_(e.parentElement):!1;var f7=e=>{const t=g_(e),n=v_(e);return{closestScrollable:t,isFixedOnPage:n}},p7=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:o,page:s,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:m,client:g}=l,x=YT({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:g,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:ln,displacement:ln}}}})(),d=i==="vertical"?Ux:NT,f=Ls({page:s,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:o,page:s,frame:u,subject:f}};const h7=(e,t)=>{const n=yT(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,s=i+t.scrollWidth,u=Bx({top:r,right:s,bottom:o,left:i},n.border);return zx({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var m7=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:l})=>{const u=n.closestScrollable,d=h7(e,u),f=_f(d,r),p=(()=>{if(!u)return null;const g=yT(u),x={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:g,page:_f(g,r),scroll:e0(u),scrollSize:x,shouldClipSubject:l}})();return p7({descriptor:t,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:f,closest:p})};const g7={passive:!1},v7={passive:!0};var AC=e=>e.shouldPublishImmediately?g7:v7;const Wd=e=>e&&e.env.closestScrollable||null;function y7(e){const t=P.useRef(null),n=Ff(Up),r=rb("droppable"),{registry:i,marshal:o}=n,s=i_(e),l=tt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=P.useRef(l),d=tt(()=>sn((N,j)=>{t.current||ge();const O={x:N,y:j};o.updateDroppableScroll(l.id,O)}),[l.id,o]),f=De(()=>{const N=t.current;return!N||!N.env.closestScrollable?ln:e0(N.env.closestScrollable)},[]),p=De(()=>{const N=f();d(N.x,N.y)},[f,d]),m=tt(()=>Ac(p),[p]),g=De(()=>{const N=t.current,j=Wd(N);if(N&&j||ge(),N.scrollOptions.shouldPublishImmediately){p();return}m()},[m,p]),x=De((N,j)=>{t.current&&ge();const O=s.current,_=O.getDroppableRef();_||ge();const D=f7(_),z={ref:_,descriptor:l,env:D,scrollOptions:j};t.current=z;const q=m7({ref:_,descriptor:l,env:D,windowScroll:N,direction:O.direction,isDropDisabled:O.isDropDisabled,isCombineEnabled:O.isCombineEnabled,shouldClipSubject:!O.ignoreContainerClipping}),G=D.closestScrollable;return G&&(G.setAttribute(xC.contextId,n.contextId),G.addEventListener("scroll",g,AC(z.scrollOptions))),q},[n.contextId,l,g,s]),w=De(()=>{const N=t.current,j=Wd(N);return N&&j||ge(),e0(j)},[]),b=De(()=>{const N=t.current;N||ge();const j=Wd(N);t.current=null,j&&(m.cancel(),j.removeAttribute(xC.contextId),j.removeEventListener("scroll",g,AC(N.scrollOptions)))},[g,m]),C=De(N=>{const j=t.current;j||ge();const O=Wd(j);O||ge(),O.scrollTop+=N.y,O.scrollLeft+=N.x},[]),k=tt(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:w,dragStopped:b,scroll:C}),[b,x,w,C]),E=tt(()=>({uniqueId:r,descriptor:l,callbacks:k}),[k,l,r]);ur(()=>(u.current=E.descriptor,i.droppable.register(E),()=>{t.current&&b(),i.droppable.unregister(E)}),[k,l,b,E,o,i.droppable]),ur(()=>{t.current&&o.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),ur(()=>{t.current&&o.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function Ug(){}const kC={width:0,height:0,margin:AW},x7=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?kC:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},b7=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=x7({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?mc.placeholder:null}},w7=e=>{const t=P.useRef(null),n=De(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=e,[l,u]=P.useState(e.animate==="open");P.useEffect(()=>l?r!=="open"?(n(),u(!1),Ug):t.current?Ug:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):Ug,[r,l,n]);const d=De(p=>{p.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),f=b7({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return ft.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})};var S7=ft.memo(w7);class P7 extends ft.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const C7=e=>{const t=P.useContext(Up);t||ge();const{contextId:n,isMovementAllowed:r}=t,i=P.useRef(null),o=P.useRef(null),{children:s,droppableId:l,type:u,mode:d,direction:f,ignoreContainerClipping:p,isDropDisabled:m,isCombineEnabled:g,snapshot:x,useClone:w,updateViewportMaxScroll:b,getContainerForClone:C}=e,k=De(()=>i.current,[]),E=De((G=null)=>{i.current=G},[]);De(()=>o.current,[]);const N=De((G=null)=>{o.current=G},[]),j=De(()=>{r()&&b({maxScroll:ZT()})},[r,b]);y7({droppableId:l,type:u,mode:d,direction:f,isDropDisabled:m,isCombineEnabled:g,ignoreContainerClipping:p,getDroppableRef:k});const O=tt(()=>ft.createElement(P7,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:G,data:F,animate:U})=>ft.createElement(S7,{placeholder:F,onClose:G,innerRef:N,animate:U,contextId:n,onTransitionEnd:j})),[n,j,e.placeholder,e.shouldAnimatePlaceholder,N]),_=tt(()=>({innerRef:E,placeholder:O,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,O,E]),D=w?w.dragging.draggableId:null,z=tt(()=>({droppableId:l,type:u,isUsingCloneFor:D}),[l,D,u]);function q(){if(!w)return null;const{dragging:G,render:F}=w,U=ft.createElement(h_,{draggableId:G.draggableId,index:G.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(fe,ue)=>F(fe,ue,G));return Rs.createPortal(U,C())}return ft.createElement(ob.Provider,{value:z},s(_,x),q())};function A7(){return document.body||ge(),document.body}const EC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:A7},y_=e=>{let t={...e},n;for(n in EC)e[n]===void 0&&(t={...t,[n]:EC[n]});return t},Hg=(e,t)=>e===t.droppable.type,NC=(e,t)=>t.draggables[e.draggable.id],k7=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=sn(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=sn((o,s,l,u,d,f)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===o){const x=f?{render:f,dragging:n(d.descriptor)}:null,w={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:x}}if(!s)return t;if(!u)return e;const g={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}});return(o,s)=>{const l=y_(s),u=l.droppableId,d=l.type,f=!l.isDropDisabled,p=l.renderClone;if(Tc(o)){const m=o.critical;if(!Hg(d,m))return t;const g=NC(m,o.dimensions),x=cr(o.impact)===u;return r(u,f,x,x,g,p)}if(o.phase==="DROP_ANIMATING"){const m=o.completed;if(!Hg(d,m.critical))return t;const g=NC(m.critical,o.dimensions);return r(u,f,f_(m.result)===u,cr(m.impact)===u,g,p)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const m=o.completed;if(!Hg(d,m.critical))return t;const g=cr(m.impact)===u,x=!!(m.impact.at&&m.impact.at.type==="COMBINE"),w=m.critical.droppable.id===u;return g?x?e:t:w?e:t}return t}},E7={updateViewportMaxScroll:LV},N7=mT(k7,E7,(e,t,n)=>({...y_(n),...e,...t}),{context:nb,areStatePropsEqual:d_})(C7),O7=Le.apiBaseUrl;function x_(e,t){const n=t.B,r=t.C;if(!n||!r||n.length<3||r.length<3){const l=t.n;return typeof l=="number"?l:1.5}const i=e*.001,o=i*i;let s=1;for(let l=0;l<3;l++)s+=n[l]*o/(o-r[l]);return Math.sqrt(Math.max(s,1))}async function j7(){const e=t=>t.map(r=>({name:r.name,n:x_(587.6,r.coefficients||{}),coefficients:r.coefficients}));try{const t=await fetch(`${O7}/api/materials`);if(t.ok){const n=await t.json();return e(n)}}catch{}try{const t=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=t.endsWith("/")?`${t}glass_library.json`:`${t}/glass_library.json`,r=typeof location<"u"?new URL(n,location.href).href:n,i=await fetch(r);if(i.ok){const s=(await i.json()).materials||[];return e(s)}}catch{}return[{name:"Air",n:1},{name:"N-BK7",n:1.5168},{name:"Fused Silica",n:1.458},{name:"N-SF11",n:1.78472},{name:"N-SF5",n:1.6727}]}const ru=Le.apiBaseUrl;function OC(e){return{Uncoated:{background:"#94a3b8"},None:{background:"#94a3b8"},MgF2:{background:"#7dd3fc"},BBAR:{background:"#93c5fd"},"V-Coat 532":{background:"#a5b4fc"},"V-Coat 1064":{background:"#67e8f9"},"Protected Silver":{background:"linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 50%, #94a3b8 100%)"},"Protected Gold":{background:"linear-gradient(135deg, #fcd34d 0%, #f59e0b 50%, #d97706 100%)"},"Protected Aluminum":{background:"linear-gradient(135deg, #9ca3af 0%, #6b7280 50%, #4b5563 100%)"},HR:{background:"linear-gradient(135deg, #374151 0%, #1f2937 100%)"}}[e]??{background:"#64748b"}}const ab=[{name:"Uncoated",description:"Uncoated (Fresnel ~4% R for glass)",is_hr:!1},{name:"None",description:"Uncoated (Fresnel ~4%)",is_hr:!1},{name:"MgF2",description:"Single-layer MgF AR coating",is_hr:!1},{name:"BBAR",description:"Broadband anti-reflection (400700 nm)",is_hr:!1},{name:"V-Coat 532",description:"V-coat optimized for 532 nm",is_hr:!1},{name:"V-Coat 1064",description:"V-coat optimized for 1064 nm",is_hr:!1},{name:"Protected Silver",description:"Protected silver mirror (~97.5% R)",is_hr:!1},{name:"Protected Gold",description:"Protected gold mirror (~98% R)",is_hr:!1},{name:"Protected Aluminum",description:"Protected aluminum mirror (~92% R)",is_hr:!1},{name:"HR",description:"High reflectivity mirror (>99.5%)  reflects instead of refracts",is_hr:!0}];async function T7(){const e=t=>t.map(n=>{const r=n;return{name:r.name??"",description:r.description??"",is_hr:r.is_hr??!1}});try{const t=await fetch(`${ru}/api/coatings`);if(t.ok){const n=await t.json();if(Array.isArray(n))return e(n)}}catch{}try{const t=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=t.endsWith("/")?`${t}coatings_library.json`:`${t}/coatings_library.json`,r=typeof location<"u"?new URL(n,location.href).href:n,i=await fetch(r);if(i.ok){const o=await i.json();if(Array.isArray(o))return e(o)}}catch{}return ab}const _7=ab.map(e=>({...e,category:e.is_hr?"HR":"AR",source:"builtin"}));async function D7(){const e=t=>t.map(n=>{const r=n;return{name:r.name??"",description:r.description??"",is_hr:r.is_hr??!1,category:r.category??(r.is_hr?"HR":"AR"),source:r.source==="custom"?"custom":"builtin"}});try{const t=await fetch(`${ru}/api/coatings/library`);if(t.ok){const n=await t.json();if(Array.isArray(n)){const r=e(n);if(r.length>0)return r}}}catch{}try{const t=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=t.endsWith("/")?`${t}coatings_library.json`:`${t}/coatings_library.json`,r=typeof location<"u"?new URL(n,location.href).href:n,i=await fetch(r);if(i.ok){const o=await i.json();if(Array.isArray(o))return e(o)}}catch{}return _7}async function b_(e){try{const t=await fetch(`${ru}/api/coatings/${encodeURIComponent(e)}/definition`);if(!t.ok)return null;const n=await t.json();return{name:n.name??e,data_type:n.data_type??"constant",constant_value:n.constant_value,data_points:n.data_points,is_hr:n.is_hr??!1}}catch{return null}}async function M7(e){const t=await fetch(`${ru}/api/coatings/custom`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.text();throw new Error(r||"Failed to create coating")}const n=await t.json();return{name:n.name??"",description:n.description??"",is_hr:n.type==="HR"}}async function w_(e,t,n,r=5){try{const i=new URLSearchParams({min_nm:String(t),max_nm:String(n),step_nm:String(r)}),o=await fetch(`${ru}/api/coatings/${encodeURIComponent(e)}/reflectivity?${i}`);if(!o.ok)throw new Error("Failed to fetch");const l=(await o.json())?.points;if(!Array.isArray(l))throw new Error("Invalid response");return l.map(u=>({wavelength:Number(u.wavelength)||0,reflectivity:Number(u.reflectivity)??0}))}catch{return I7(e,t,n,r)}}function I7(e,t,n,r){const i=[],o=s=>{switch(e){case"Uncoated":case"None":return .04;case"MgF2":return .013*(1+.1*(s/550-1)**2);case"BBAR":return s>=400&&s<=700?.004+.001*Math.abs(s-550)/150:.01;case"V-Coat 355":return .0025+.01*Math.min(Math.abs(s-355)/30,1);case"V-Coat 532":return .0025+.01*Math.min(Math.abs(s-532)/50,1);case"V-Coat 633":return .0025+.01*Math.min(Math.abs(s-633)/50,1);case"V-Coat 1064":return .0025+.01*Math.min(Math.abs(s-1064)/100,1);case"V-Coat 1550":return .0025+.01*Math.min(Math.abs(s-1550)/100,1);case"Protected Silver":return .975;case"Protected Gold":return .98;case"Protected Aluminum":return .92;case"Enhanced Silver":return .985;case"HR":case"HR 355":case"HR 532":case"HR 633":case"HR 1064":case"HR 355nm":case"HR 1064nm":case"HR Broadband":return .995;case"Dielectric MaxReflect":return .999;case"Beamsplitter 50/50":case"Cube 50/50":return .5;case"Beamsplitter 70/30":case"Cube 70/30":return .7;case"Beamsplitter 90/10":return .9;case"Beamsplitter 60/40":return .6;case"Beamsplitter 80/20":return .8;case"Beamsplitter 30/70":return .3;case"Beamsplitter 10/90":return .1;case"Pellicle 8%":return .08;case"Pellicle 45%":return .45;case"Neutral Density 50%":return .25;case"Neutral Density 10%":return .45;case"Neutral Density 1%":return .495;default:return .04}};for(let s=t;s<=n;s+=r)i.push({wavelength:s,reflectivity:o(s)});return i}const cs=180,Cr=80,mt={left:36,right:8,top:6,bottom:24};function R7({points:e,systemWavelengthNm:t,minNm:n,maxNm:r,coatingName:i,className:o=""}){if(!e.length)return null;const s=n,l=r,u=l-s||1,d=cs-mt.left-mt.right,f=Cr-mt.top-mt.bottom,p=E=>mt.left+(E-s)/u*d,m=Math.max(...e.map(E=>E.reflectivity),.01),g=Math.min(1,m*1.2),x=e.map((E,N)=>`${N===0?"M":"L"} ${p(E.wavelength)} ${mt.top+f-E.reflectivity/g*f}`).join(" "),w=p(t),b=t>=s&&t<=l,k=e.reduce((E,N)=>Math.abs(E.wavelength-t)<=Math.abs(N.wavelength-t)?E:N).reflectivity;return y.jsxs("div",{className:o,children:[i&&y.jsx("div",{className:"text-[10px] font-medium text-slate-300 mb-0.5 truncate",title:i,children:i}),y.jsxs("svg",{width:cs,height:Cr,className:"block",viewBox:`0 0 ${cs} ${Cr}`,children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"reflectivityGrad",x1:"0",y1:"1",x2:"0",y2:"0",children:[y.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:"0.3"}),y.jsx("stop",{offset:"100%",stopColor:"#22d3ee",stopOpacity:"0"})]})}),y.jsx("line",{x1:mt.left,y1:mt.top,x2:mt.left,y2:Cr-mt.bottom,stroke:"#334155",strokeWidth:"0.5"}),y.jsx("line",{x1:mt.left,y1:Cr-mt.bottom,x2:cs-mt.right,y2:Cr-mt.bottom,stroke:"#334155",strokeWidth:"0.5"}),y.jsx("text",{x:mt.left-4,y:mt.top+4,className:"fill-slate-500",fontSize:"8",textAnchor:"end",children:"R"}),y.jsx("text",{x:mt.left,y:Cr-4,className:"fill-slate-500",fontSize:"8",textAnchor:"middle",children:s}),y.jsx("text",{x:cs-mt.right,y:Cr-4,className:"fill-slate-500",fontSize:"8",textAnchor:"middle",children:l}),y.jsx("text",{x:(mt.left+cs-mt.right)/2,y:Cr-4,className:"fill-slate-500",fontSize:"8",textAnchor:"middle",children:" (nm)"}),b&&y.jsx("line",{x1:w,y1:mt.top,x2:w,y2:Cr-mt.bottom,stroke:"#22d3ee",strokeWidth:"1",strokeDasharray:"3 2",opacity:.8}),y.jsx("path",{d:`${x} L ${p(e[e.length-1].wavelength)} ${Cr-mt.bottom} L ${p(e[0].wavelength)} ${Cr-mt.bottom} Z`,fill:"url(#reflectivityGrad)"}),y.jsx("path",{d:x,fill:"none",stroke:"#22d3ee",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),b&&y.jsxs("g",{children:[y.jsx("circle",{cx:w,cy:mt.top+f-k/g*f,r:"2.5",fill:"#22d3ee"}),y.jsxs("text",{x:w,y:mt.top-2,className:"fill-cyan-electric",fontSize:"7",textAnchor:"middle",fontWeight:"600",children:[t," nm"]}),y.jsxs("text",{x:w+2,y:mt.top+f-k/g*f,className:"fill-slate-300",fontSize:"7",textAnchor:"start",children:["R=",(k*100).toFixed(2),"%"]})]})]})]})}function L7(e){const t=e.surfaceQuality?.trim()||"3/2",n=e.radiusTolerance??e.thicknessTolerance;return n!=null&&n>0?`${t}(${n.toFixed(2)})`:t}function F7(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(n),n+=e[r].thickness??0;return t}function Gg(e,t,n,r=24){const i=[];if(Math.abs(t)<.1)i.push([e,-n],[e,n]);else{const o=t;for(let s=0;s<=r;s++){const u=(s/r-.5)*2*n,d=Math.max(0,o*o-u*u),f=o-Math.sign(o)*Math.sqrt(d);i.push([e+f,u])}}return i}function $7(e,t){return e.length<=t?e:e.slice(0,t-1)+""}function pf(e,t){const{projectName:n,date:r,drawnBy:i="MacOptics",width:o=1400,height:s=1e3}=t,l=e.surfaces,u=e.entrancePupilDiameter??10,d=F7(l),f=d.length?d[d.length-1]+(l[l.length-1]?.thickness??0):0,m=(l.length?Math.max(u,...l.map(xe=>xe.diameter??u)):u)/2+8,g=50,x=50,w=(o-g*2-x)/2,b=s-g*2-120,C=Math.max(f+50,60),k=(w-80)/C,E=b/(2*m+30),N=Math.min(k,E,10),j=g+60,O=g+50+b/2,_=(xe,at)=>`${(j+xe*N).toFixed(2)},${(O-at*N).toFixed(2)}`,D=[];for(let xe=0;xe<l.length;xe++){const at=l[xe],lt=d[xe]??0,Ke=(at.diameter??u)/2,le=Gg(lt,at.radius,Ke);if(le.length>=2){D.push(`M ${_(le[0][0],le[0][1])}`);for(let Me=1;Me<le.length;Me++)D.push(`L ${_(le[Me][0],le[Me][1])}`)}}const z=D.join(" "),q=[];for(let xe=0;xe<l.length-1;xe++){const at=l[xe],lt=l[xe+1];if((at.refractiveIndex??1)<=1.01)continue;const Ke=d[xe]??0,le=d[xe+1]??Ke+at.thickness,Me=(at.diameter??u)/2,Ue=Gg(Ke,at.radius,Me),Qe=Gg(le,lt.radius,(lt.diameter??u)/2).reverse(),Ut=[...Ue,...Qe];if(Ut.length>=3){const Et="M "+Ut.map(([Xe,bt])=>_(Xe,bt)).join(" L ")+" Z";q.push(Et)}}const G=[],F=[],U=4,fe=6,ue=22,be=32,Q=O-m*N-35,Y=O+m*N+28,re=[];for(let xe=0;xe<l.length-1;xe++){const at=l[xe],lt=d[xe]??0,Ke=d[xe+1]??lt+at.thickness,le=j+lt*N,Me=j+Ke*N;re.push({i:xe,midX:(le+Me)/2,x1:le,x2:Me,ct:at.thickness??0})}const te=[];for(const xe of re){const at=xe.midX-be,lt=xe.midX+be;let Ke=0;for(;Ke<fe;Ke++){const Qe=te.find(Ut=>Ut.band===Ke);if(!Qe||Qe.maxRight<at){Qe?Qe.maxRight=lt:te.push({band:Ke,maxRight:lt});break}}if(Ke>=fe){Ke=0;const Qe=te.find(Ut=>Ut.band===0);Qe?Qe.maxRight=Math.max(Qe.maxRight,lt):te.push({band:0,maxRight:lt})}const le=Ke<fe/2,Me=le?Q+14+Ke%3*(ue/2):Y-14-Ke%3*(ue/2),Ue=le?Q+Ke%3*(ue/2)-2:Y+Ke%3*(ue/2)+14;G.push(`M ${xe.x1.toFixed(2)} ${O} L ${xe.x1.toFixed(2)} ${Me}`,`M ${xe.x2.toFixed(2)} ${O} L ${xe.x2.toFixed(2)} ${Me}`,`M ${xe.x1.toFixed(2)} ${Me} L ${xe.x2.toFixed(2)} ${Me}`,`M ${xe.x1.toFixed(2)} ${(Me-U).toFixed(2)} L ${xe.x1.toFixed(2)} ${(Me+U).toFixed(2)}`,`M ${xe.x2.toFixed(2)} ${(Me-U).toFixed(2)} L ${xe.x2.toFixed(2)} ${(Me+U).toFixed(2)}`),F.push({x:xe.midX,y:Ue,text:`CT ${xe.ct.toFixed(2)} mm`})}const R=O+m*N+68,W=j,ie=j+f*N;G.push(`M ${W.toFixed(2)} ${O} L ${W.toFixed(2)} ${R}`,`M ${ie.toFixed(2)} ${O} L ${ie.toFixed(2)} ${R}`,`M ${W.toFixed(2)} ${R} L ${ie.toFixed(2)} ${R}`,`M ${W.toFixed(2)} ${(R-U).toFixed(2)} L ${W.toFixed(2)} ${(R+U).toFixed(2)}`,`M ${ie.toFixed(2)} ${(R-U).toFixed(2)} L ${ie.toFixed(2)} ${(R+U).toFixed(2)}`),F.push({x:(W+ie)/2,y:R+14,text:`TOTAL ${f.toFixed(2)} mm`});const oe=g+w+x+10,de=g+36,X=26,B=[44,56,100,72],ee=B.reduce((xe,at)=>xe+at,0),L=["Surf","S/D 3/2","Material","CT (mm)"];let ne=`<text x="${oe}" y="${g+22}" font-size="9" fill="#64748b">Surface Quality (Scratch/Dig) per ISO 10110  see S/D column</text>`;for(let xe=0;xe<=l.length;xe++){const at=de+xe*X;let lt=oe;for(let Ke=0;Ke<B.length;Ke++){const le=B[Ke];ne+=`<rect x="${lt}" y="${at}" width="${le}" height="${X}" fill="${xe===0?"rgba(30,41,59,0.95)":"rgba(15,23,42,0.95)"}" stroke="#475569" stroke-width="0.8"/>`;const Me=lt+le/2,Ue=at+X/2+4;if(xe===0)ne+=`<text x="${Me}" y="${Ue}" font-size="11" font-weight="bold" fill="#94a3b8" text-anchor="middle">${Vd(L[Ke])}</text>`;else{const Qe=l[xe-1],Ut=xe>1?l[xe-2]?.thickness??0:null,Et=L7(Qe),Xe=$7(Qe.material||(Qe.type==="Air"?"Air":""),14),bt=Ke===0?String(xe):Ke===1?Et:Ke===2?Xe:Ut!=null?Ut.toFixed(2):"";ne+=`<text x="${Me}" y="${Ue}" font-size="10" fill="#e2e8f0" text-anchor="middle">${Vd(bt)}</text>`}lt+=le}}const pe=(l.length+1)*X,I=oe,Ce=de+pe+20,we=ee,Ye=98,ze=28,rt=12,vt=82,Kt=[{label:"Project Name:",value:n||""},{label:"Date:",value:r},{label:"Drawn By:",value:i}];let Dn=`<rect x="${I}" y="${Ce}" width="${we}" height="${Ye}" fill="rgba(30,41,59,0.95)" stroke="#475569" stroke-width="1" rx="4"/>`;return Kt.forEach((xe,at)=>{const lt=Ce+rt+at*ze,Ke=I+rt,le=I+vt+rt,Me=we-vt-rt*2;Dn+=`<text x="${Ke}" y="${lt+18}" font-size="10" fill="#94a3b8">${Vd(xe.label)}</text>`,Dn+=`<rect x="${le}" y="${lt+2}" width="${Me}" height="${ze-4}" fill="rgba(15,23,42,0.9)" stroke="#334155" stroke-width="0.5" rx="2"/>`,Dn+=`<text x="${le+8}" y="${lt+18}" font-size="10" fill="#e2e8f0">${Vd(xe.value)}</text>`}),`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${o} ${s}" width="${o}" height="${s}">
  <defs>
    <style>.dim-line { stroke: #64748b; stroke-width: 0.8; fill: none; }</style>
  </defs>
  <rect width="100%" height="100%" fill="#0f172a"/>
  <text x="${g}" y="${g+12}" font-size="14" font-weight="bold" fill="#22D3EE">ISO 10110 Optical Drawing</text>

  <!-- Cross-section (left) - data-type="optical-surface" for LENS-X SVG import -->
  <path d="${z}" fill="none" stroke="#22D3EE" stroke-width="1.5" data-type="optical-surface"/>
  ${q.map(xe=>`<path d="${xe}" fill="rgba(34,211,238,0.15)" stroke="#22D3EE" stroke-width="1" data-type="optical-surface"/>`).join(`
  `)}

  <!-- Dimension lines -->
  ${G.map(xe=>`<path d="${xe}" class="dim-line"/>`).join(`
  `)}
  ${F.map(xe=>`<text x="${xe.x}" y="${xe.y}" font-size="10" fill="#94a3b8" text-anchor="middle">${xe.text}</text>`).join(`
  `)}

  <!-- Data table (right)  Surface Quality note placed here to avoid overlap with dimension labels -->
  ${ne}

  <!-- Title block -->
  ${Dn}
</svg>`}function Vd(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const jC=["1.0"];function S_(e,t={}){const{projectName:n="Untitled",date:r=new Date().toISOString().slice(0,10),drawnBy:i="MacOptics",entrancePupilDiameter:o=10,referenceWavelengthNm:s=587.6,mcIterations:l=1e3,mcSeed:u=42,targetYield:d=.95,width:f=800,height:p=570,customCoatingData:m={}}=t,g=e.map(b=>{const C={};b.refractiveIndex!=null&&(C.refractive_index=b.refractiveIndex),b.sellmeierCoefficients&&(C.sellmeier=b.sellmeierCoefficients),b.coating&&(C.coating=b.coating);const k=b.coatingDataPoints!=null?"table":"constant",E=b.coatingDataPoints!=null||b.coatingConstantValue!=null?{data_type:k,data_points:b.coatingDataPoints,constant_value:b.coatingConstantValue,is_hr:b.coatingIsHr}:b.coating?m[b.coating]:void 0;E&&(E.data_type==="table"&&E.data_points?.length?C.coating_r_table=E.data_points:E.data_type==="constant"&&E.constant_value!=null&&(C.coating_constant_r=E.constant_value),E.is_hr!=null&&(C.coating_is_hr=E.is_hr));const N=b.radius??0,j=N===0||typeof N=="number"&&Math.abs(N)<.01,O=b.tiltTolerance??0;return{radius:j?"infinity":N,thickness:b.thickness??0,aperture:(b.diameter??25)/2,material:b.material??(b.type==="Air"?"Air":"N-BK7"),type:b.type??(b.refractiveIndex>1.01?"Glass":"Air"),description:b.description??"",...b.semanticName&&{semantic_name:b.semanticName},...b.aiContext&&{ai_context:b.aiContext},physics:Object.keys(C).length>0?C:void 0,manufacturing:{surface_quality:b.surfaceQuality??"3/2",radius_tolerance:b.radiusTolerance??0,thickness_tolerance:b.thicknessTolerance??0,tilt_tolerance:O},tolerances:{radius_tol:b.radiusTolerance??0,thickness_tol:b.thicknessTolerance??0,decenter_x:b.decenterX??0,decenter_y:b.decenterY??0,tilt_x:O,tilt_y:O,index_tol:0}}}),x=s??587.6,w=pf({surfaces:e,entrancePupilDiameter:o},{projectName:n,date:r,drawnBy:i,width:f,height:p});return{lens_x_version:"1.0",metadata:{project_name:n,date:r,drawn_by:i},system_settings:{mc_iterations:l,mc_seed:u,target_yield:d},optics:{surfaces:g,entrance_pupil_diameter:o,reference_wavelength_nm:x},geometry:{svg_path:w}}}function B7(e){if(!e||typeof e!="object")throw new Error("Invalid LENS-X: expected an object");const t=e,n=t.lens_x_version;if(typeof n!="string"||!jC.includes(n))throw new Error(`Invalid LENS-X: missing or unsupported lens_x_version. Expected one of: ${jC.join(", ")}`);const r=t.optics;if(!r||typeof r!="object")throw new Error("Invalid LENS-X: missing optics block");const i=r,o=i.surfaces;if(!Array.isArray(o))throw new Error("Invalid LENS-X: optics.surfaces must be an array");let s=!0;const l=o.map((g,x)=>{if(!g||typeof g!="object")throw new Error(`Invalid LENS-X: surface ${x+1} is not an object`);const w=g,b=w.radius,C=b==="infinity"||b==="inf"||b==="flat"||b===0?0:typeof b=="number"?b:0,k=typeof w.thickness=="number"?w.thickness:0,E=typeof w.aperture=="number"?w.aperture:12.5,N=Math.max(.1,2*E),j=String(w.material||(w.type==="Air"?"Air":"N-BK7")).trim(),_=String(w.type||"Glass").trim().toLowerCase()==="air"||j.toLowerCase()==="air",D=_?"Air":"Glass",z=w.physics||{},q=D==="Air"?1:typeof z.refractive_index=="number"?z.refractive_index:1.52,G=w.manufacturing||{},F={id:crypto.randomUUID(),type:D,radius:C,thickness:k,refractiveIndex:q,diameter:N,material:_?"Air":j,description:String(w.description||`Surface ${x+1}`),...typeof w.semantic_name=="string"&&w.semantic_name&&{semanticName:w.semantic_name},...typeof w.ai_context=="string"&&{aiContext:w.ai_context}};if(z.sellmeier&&typeof z.sellmeier=="object"){const ue=z.sellmeier;Array.isArray(ue.B)&&Array.isArray(ue.C)&&(F.sellmeierCoefficients={B:ue.B,C:ue.C})}z.coating&&typeof z.coating=="string"&&(F.coating=z.coating.trim()),Array.isArray(z.coating_r_table)&&z.coating_r_table.length>0&&(F.coatingDataPoints=z.coating_r_table.map(ue=>({wavelength:Number(ue?.wavelength)||0,reflectivity:Number(ue?.reflectivity)??0}))),typeof z.coating_constant_r=="number"&&(F.coatingConstantValue=z.coating_constant_r),typeof z.coating_is_hr=="boolean"&&(F.coatingIsHr=z.coating_is_hr),G.surface_quality&&(F.surfaceQuality=String(G.surface_quality)),typeof G.radius_tolerance=="number"&&(F.radiusTolerance=G.radius_tolerance),typeof G.thickness_tolerance=="number"&&(F.thicknessTolerance=G.thickness_tolerance),typeof G.tilt_tolerance=="number"&&(F.tiltTolerance=G.tilt_tolerance);const U=w.tolerances||{};return U&&typeof U=="object"&&Object.keys(U).length>0?(F.radiusTolerance=typeof U.radius_tol=="number"?U.radius_tol:F.radiusTolerance??0,F.thicknessTolerance=typeof U.thickness_tol=="number"?U.thickness_tol:F.thicknessTolerance??0,F.tiltTolerance=typeof U.tilt_x=="number"?U.tilt_x:typeof U.tilt_y=="number"?U.tilt_y:F.tiltTolerance??0,F.decenterX=typeof U.decenter_x=="number"?U.decenter_x:0,F.decenterY=typeof U.decenter_y=="number"?U.decenter_y:0):(s=!1,F.radiusTolerance=F.radiusTolerance??0,F.thicknessTolerance=F.thicknessTolerance??0,F.tiltTolerance=F.tiltTolerance??0,F.decenterX=0,F.decenterY=0),F}),u=typeof i.entrance_pupil_diameter=="number"?i.entrance_pupil_diameter:Le.defaults.entrancePupilDiameter,d=typeof i.reference_wavelength_nm=="number"?i.reference_wavelength_nm:Le.defaults.defaultWavelength,f=t.metadata||{},p=typeof f.project_name=="string"?f.project_name:void 0,m=t.system_settings||{};return{surfaces:l,entrancePupilDiameter:u,wavelengths:[d],projectName:p,mc_iterations:typeof m.mc_iterations=="number"?m.mc_iterations:void 0,mc_seed:typeof m.mc_seed=="number"?m.mc_seed:void 0,target_yield:typeof m.target_yield=="number"?m.target_yield:void 0,hasTolerancesData:s}}function t0(e){let t;try{t=JSON.parse(e)}catch(n){throw new Error(`Invalid JSON: ${n instanceof Error?n.message:String(n)}`)}return B7(t)}async function z7(e){const t=await e.text();try{return{surfaces:t0(t).surfaces}}catch(n){const r=n instanceof Error?n.message:String(n);throw new Error(`Invalid LENS-X file: ${r}`)}}async function W7(e){const t=(e.name||"").toLowerCase().split(".").pop()??"",n=e.name.toLowerCase().endsWith(".lensx"),r=t==="json",i=t==="svg";if(n||r)try{return await z7(e)}catch(o){throw o}throw i?new Error("SVG import requires the backend server. Use .lensx or .json for standalone mode."):t==="csv"?new Error("CSV import requires the backend server. Use .lensx or .json for standalone mode."):new Error(`Unsupported file type .${t}. Use .lensx, .json, or .svg.`)}function V7(e){if(e.radius===0)return null;const t=e.refractiveIndex??1;return Math.abs(t-1)<1e-9?null:e.radius/(t-1)}function U7(e){const t=e.refractiveIndex??1;if(t<=1)return null;const n=1/t;return n>1?null:Math.asin(n)*180/Math.PI}function P_(e){const t=V7(e),n=U7(e);return{...e,effective_focal_length:t??void 0,critical_angle:n??void 0}}function H7(e,t){return e<=1?0:(e-1)/e*t}function G7(e,t,n){if(e===0||t===0||Math.abs(n-1)<1e-9)return null;const r=e/(n-1);return t/(n-1)-r}function K7(e,t,n,r,i){const o=e.semanticName??`S${i+1}`,s=e.refractiveIndex??1;switch(t){case"thickness":{const l=Number(n)||0,d=(Number(r)||0)-l;if(Math.abs(d)<1e-6)return"";const f=d>0?"Increasing":"Decreasing",p=H7(s,d);if(e.type==="Glass"&&Math.abs(p)>.001){const m=p>=0?`+${p.toFixed(2)}`:p.toFixed(2);return`${f} thickness of ${o} by ${Math.abs(d).toFixed(2)}mm; likely shifting focus by ${m}mm`}return`${f} thickness of ${o} by ${Math.abs(d).toFixed(2)}mm`}case"radius":{const l=Number(n)??0,u=Number(r)??0,d=u-l;if(Math.abs(d)<1e-6)return"";const f=G7(l,u,s);if(f!=null&&Math.abs(f)>.1){const p=f>0?"longer":"shorter";return`Changing curvature of ${o}; effective focal length becomes ${p} by ~${Math.abs(f).toFixed(1)}mm`}return`Changing radius of ${o} from ${l.toFixed(1)} to ${u.toFixed(1)}mm`}case"refractiveIndex":case"material":{const d=(typeof r=="number"?r:s)-(typeof n=="number"?n:1);if(Math.abs(d)<1e-4)return"";const f=d>0?"increases power; shorter focal length":"decreases power; longer focal length";return`Material change on ${o}: n ${d>0?"+":""}${d.toFixed(3)}; ${f}`}case"diameter":{const l=Number(n)??0,d=(Number(r)??0)-l;return Math.abs(d)<1e-6?"":`${d>0?"Larger":"Smaller"} aperture on ${o} by ${Math.abs(d).toFixed(1)}mm; affects vignetting and edge rays`}case"coating":return`Coating change on ${o}; affects reflectivity and power loss`;default:return`Updated ${t} on ${o}`}}const q7=[{name:"Air",n:1},{name:"N-BK7",n:1.5168},{name:"Fused Silica",n:1.458},{name:"N-SF11",n:1.78472},{name:"N-SF5",n:1.6727}],ws="w-full bg-white/5 border border-white/10 rounded px-2 py-1 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50 focus:shadow-[0_0_8px_rgba(34,211,238,0.25)] transition-shadow",oi="w-full bg-white/5 border border-white/10 rounded px-2 py-1 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50 focus:shadow-[0_0_8px_rgba(34,211,238,0.25)] transition-shadow font-mono tabular-nums",TC=["N-BK7","Fused Silica"],_C=["Uncoated","MgF2","BBAR"];function Y7({value:e,onChange:t,onClick:n,materials:r,wavelengthNm:i,fallbackN:o}){const[s,l]=P.useState(!1),[u,d]=P.useState(""),f=P.useRef(null),p=P.useRef(null),[m,g]=P.useState({top:0,left:0,width:0}),x=P.useRef(()=>{if(f.current){const _=f.current.getBoundingClientRect();g({top:_.bottom,left:_.left,width:_.width})}}),w=u.trim()?r.filter(_=>_.name.toLowerCase().includes(u.toLowerCase())):r,b=w.filter(_=>TC.includes(_.name)),C=w.filter(_=>!TC.includes(_.name)),k=r.find(_=>_.name.toLowerCase()===e.toLowerCase()),E=k?.coefficients?x_(i,k.coefficients):o,N=P.useRef(t);N.current=t,P.useLayoutEffect(()=>{s&&f.current&&(x.current(),f.current.focus())},[s]),P.useEffect(()=>{if(!s)return;const _=()=>x.current();return window.addEventListener("scroll",_,!0),window.addEventListener("resize",_),()=>{window.removeEventListener("scroll",_,!0),window.removeEventListener("resize",_)}},[s]),P.useEffect(()=>{const _=D=>{const z=D.target;f.current?.contains(z)||p.current?.contains(z)||(u.trim()&&u!==e&&N.current(u.trim()),d(""),l(!1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[u,e,s]);const j=_=>{const D=_.coefficients,z=D&&Array.isArray(D.B)&&Array.isArray(D.C)&&D.B.length>=3&&D.C.length>=3?{B:D.B,C:D.C}:void 0;t(_.name,_.n,z),d(""),l(!1)},O=s&&Rs.createPortal(y.jsxs(Je.div,{ref:p,initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:"fixed z-[9999] min-w-[12rem] max-h-64 overflow-auto rounded-lg border border-slate-700 bg-slate-900/95 shadow-2xl backdrop-blur-xl",style:{top:m.top+4,left:m.left,width:Math.max(m.width,192)},children:[y.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-2 border-b border-slate-700 bg-slate-900/95 px-2 py-1.5",children:[y.jsx(Ts,{className:"w-4 h-4 shrink-0 text-slate-400",strokeWidth:2}),y.jsx("input",{type:"text",value:u,onChange:_=>d(_.target.value),placeholder:"Search materials...",className:"flex-1 bg-transparent text-sm text-slate-200 placeholder:text-slate-500 focus:outline-none",autoComplete:"off"})]}),y.jsxs("div",{className:"py-1",children:[b.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"Common"}),b.map(_=>y.jsxs("button",{type:"button",onClick:D=>{D.stopPropagation(),j(_)},className:"w-full text-left px-2 py-1.5 text-sm hover:bg-cyan-electric/20 text-slate-200 rounded",children:[_.name," ",y.jsxs("span",{className:"text-slate-500",children:["(n=",_.n,")"]})]},_.name))]}),C.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[b.length>0&&y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"All"}),C.map(_=>y.jsxs("button",{type:"button",onClick:D=>{D.stopPropagation(),j(_)},className:"w-full text-left px-2 py-1.5 text-sm hover:bg-cyan-electric/20 text-slate-200 rounded",children:[_.name," ",y.jsxs("span",{className:"text-slate-500",children:["(n=",_.n,")"]})]},_.name))]}),w.length===0&&y.jsx("div",{className:"px-2 py-3 text-sm text-slate-500",children:"No matches"})]})]}),document.body);return y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"flex gap-0.5 flex-1 min-w-0",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(Ts,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"}),y.jsx("input",{ref:f,type:"text",value:s?u:e,onChange:_=>{d(_.target.value),s||l(!0)},onFocus:()=>{d(e),l(!0)},onClick:n,placeholder:"Material...",className:`${ws} pl-8`})]}),y.jsx("button",{type:"button",onClick:_=>{_.stopPropagation(),s||(d(e),x.current(),setTimeout(()=>f.current?.focus(),0)),l(D=>!D)},className:"p-1 rounded bg-white/5 border border-white/10 text-slate-400 hover:text-cyan-electric shrink-0","aria-label":"Toggle material list",children:y.jsx(As,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,strokeWidth:2})})]}),y.jsxs("span",{className:"shrink-0 text-xs font-mono tabular-nums text-slate-500 min-w-[3.5rem]",title:`n at ${(i/1e3).toFixed(3)} m`,children:["n",E.toFixed(3)]}),O]})}function X7({value:e,onChange:t,onClick:n,coatings:r,wavelengthNm:i,wavelengths:o}){const[s,l]=P.useState(!1),[u,d]=P.useState(""),[f,p]=P.useState(null),[m,g]=P.useState({}),[x,w]=P.useState(!1),b=P.useRef(null),C=P.useRef(null),[k,E]=P.useState({top:0,left:0,width:0}),N=e==="None"||!e?"Uncoated":e,j=o.length?Math.max(350,Math.min(...o)-80):400,O=o.length?Math.min(1200,Math.max(...o)+80):700,_=P.useRef(()=>{if(b.current){const Q=b.current.getBoundingClientRect();E({top:Q.bottom,left:Q.left,width:Q.width})}}),D=u.trim()?r.filter(Q=>Q.name.toLowerCase().includes(u.toLowerCase())||Q.description&&Q.description.toLowerCase().includes(u.toLowerCase())):r,z=D.filter(Q=>_C.includes(Q.name)),q=D.filter(Q=>!_C.includes(Q.name)),G=P.useRef(t);G.current=t,P.useLayoutEffect(()=>{s&&b.current&&(_.current(),b.current.focus())},[s]),P.useEffect(()=>{if(!s)return;const Q=()=>_.current();return window.addEventListener("scroll",Q,!0),window.addEventListener("resize",Q),()=>{window.removeEventListener("scroll",Q,!0),window.removeEventListener("resize",Q)}},[s]),P.useEffect(()=>{const Q=Y=>{const re=Y.target;b.current?.contains(re)||C.current?.contains(re)||(d(""),l(!1),p(null))};return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[s]),P.useEffect(()=>{if(!f||m[f])return;let Q=!1;return w(!0),w_(f,j,O,5).then(Y=>{Q||g(re=>({...re,[f]:Y})),w(!1)}).catch(()=>w(!1)),()=>{Q=!0}},[f,j,O,m]);const F=Q=>{t(Q.name),d(""),l(!1)},U=Q=>y.jsx("div",{className:"relative",onMouseEnter:()=>p(Q.name),onMouseLeave:()=>p(null),children:y.jsxs("button",{type:"button","data-testid":`coating-option-${Q.name.replace(/\s+/g,"-")}`,onClick:Y=>{Y.stopPropagation(),F(Q)},className:"w-full text-left px-2 py-1.5 text-sm hover:bg-cyan-electric/20 text-slate-200 rounded flex items-center gap-2",children:[y.jsx("span",{className:"shrink-0 w-3 h-3 rounded-full border border-white/20",style:OC(Q.name),title:Q.description}),y.jsx("span",{children:Q.name})]})},Q.name),fe=Math.max(k.width,192),ue=s&&f&&Rs.createPortal(y.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.15},className:"fixed z-[10000] rounded-lg border border-slate-700 bg-slate-900/95 shadow-2xl backdrop-blur-xl p-2",style:{top:k.top+4,left:k.left+fe+8},children:x?y.jsx("div",{className:"w-[180px] h-[80px] flex items-center justify-center text-slate-500 text-xs",children:"Loading"}):m[f]?y.jsx(R7,{points:m[f],systemWavelengthNm:i,minNm:j,maxNm:O,coatingName:f}):null}),document.body),be=s&&Rs.createPortal(y.jsxs(Je.div,{ref:C,initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:"fixed z-[9999] min-w-[12rem] max-h-64 overflow-auto rounded-lg border border-slate-700 bg-slate-900/95 shadow-2xl backdrop-blur-xl",style:{top:k.top+4,left:k.left,width:fe},children:[y.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-2 border-b border-slate-700 bg-slate-900/95 px-2 py-1.5",children:[y.jsx(Ts,{className:"w-4 h-4 shrink-0 text-slate-400",strokeWidth:2}),y.jsx("input",{type:"text",value:u,onChange:Q=>d(Q.target.value),placeholder:"Search coatings...",className:"flex-1 bg-transparent text-sm text-slate-200 placeholder:text-slate-500 focus:outline-none",autoComplete:"off"})]}),y.jsxs("div",{className:"py-1",children:[z.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"Common"}),z.map(U)]}),q.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[z.length>0&&y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"All"}),q.map(U)]}),D.length===0&&y.jsx("div",{className:"px-2 py-3 text-sm text-slate-500",children:"No matches"})]})]}),document.body);return y.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[y.jsxs("div",{className:"flex gap-0.5 flex-1 min-w-0",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(Ts,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"}),y.jsx("input",{ref:b,type:"text",value:s?u:N,onChange:Q=>{d(Q.target.value),s||l(!0)},onFocus:()=>{d(N),l(!0)},onClick:n,placeholder:"Coating...",className:`${ws} pl-8`})]}),y.jsx("button",{type:"button",onClick:Q=>{Q.stopPropagation(),s||(d(N),_.current(),setTimeout(()=>b.current?.focus(),0)),l(Y=>!Y)},className:"p-1 rounded bg-white/5 border border-white/10 text-slate-400 hover:text-cyan-electric shrink-0","aria-label":"Toggle coating list",children:y.jsx(As,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,strokeWidth:2})})]}),y.jsx("span",{className:"shrink-0 w-3 h-3 rounded-full border border-white/20",style:OC(N),title:r.find(Q=>Q.name===N)?.description}),be,ue]})}function Z7(e){if(!e?.length)return new Set;const t=Math.max(...e);if(t<=0)return new Set;const n=new Set;return e.forEach((r,i)=>{r>=t*.9&&n.add(i)}),n}function Q7({systemState:e,onSystemStateChange:t,onLoadComplete:n,selectedSurfaceId:r,onSelectSurface:i,sensitivityBySurface:o,onSemanticDelta:s}){const l=e.surfaces,u=Z7(o),[d,f]=P.useState(q7),[p,m]=P.useState(ab),[g,x]=P.useState(null),[w,b]=P.useState(null),[C,k]=P.useState(new Set),[E,N]=P.useState(null),j=P.useRef(null),O=P.useRef(null);P.useEffect(()=>{j7().then(f)},[]),P.useEffect(()=>{T7().then(m)},[]),P.useEffect(()=>{if(d.length<=5||!l.some(L=>L.type==="Glass"&&L.material&&L.material!=="Air"&&!(L.sellmeierCoefficients?.B&&L.sellmeierCoefficients.B.length>=3)))return;const B=new Map(d.map(L=>[L.name.toLowerCase(),L])),ee=l.map(L=>{if(L.type!=="Glass"||!L.material||L.material==="Air"||L.sellmeierCoefficients?.B&&L.sellmeierCoefficients.B.length>=3)return L;const pe=B.get(L.material.toLowerCase())?.coefficients;return!pe?.B||!pe?.C||pe.B.length<3?L:{...L,sellmeierCoefficients:{B:pe.B,C:pe.C}}});ee.some((L,ne)=>L!==l[ne])&&t(L=>({...L,surfaces:ee}))},[d,l,t]),P.useEffect(()=>{if(!g)return;const X=setTimeout(()=>x(null),Le.toastDuration);return()=>clearTimeout(X)},[g]);const _=r!=null?l.findIndex(X=>X.id===r):l.length,D=_>=0?_:l.length,z=()=>{j.current?.click()},q=()=>{O.current?.click()},G=async X=>{const B=X.target.files?.[0];if(X.target.value="",!B)return;if(!(B.name.toLowerCase().endsWith(".lensx")||B.name.toLowerCase().endsWith(".json"))){x("Please select a .lensx or .json file.");return}try{const L=await B.text();t0(L),N({content:L,fileName:B.name})}catch(L){x(L instanceof Error?L.message:"Invalid LENS-X file")}},F=()=>{if(E)try{const{surfaces:X,entrancePupilDiameter:B,wavelengths:ee,projectName:L,mc_iterations:ne,mc_seed:pe,target_yield:I,hasTolerancesData:Ce}=t0(E.content);t(we=>({...we,surfaces:X,entrancePupilDiameter:B,wavelengths:ee,projectName:L,...ne!=null&&{mc_iterations:ne},...pe!=null&&{mc_seed:pe},...I!=null&&{target_yield:I},traceResult:null,traceError:null,pendingTrace:!0})),x(Ce?"Project loaded successfully.":"Project loaded without tolerance data."),N(null)}catch(X){x(X instanceof Error?X.message:"Failed to load project")}},U=()=>{N(null)},fe=async()=>{const X=new Date().toISOString().slice(0,10),B={},ee=[...new Set(l.map(Ce=>Ce.coating).filter(Boolean))];for(const Ce of ee){const we=l.find(ze=>ze.coating===Ce);if(we?.coatingDataPoints!=null||we?.coatingConstantValue!=null)continue;const Ye=await b_(Ce);Ye&&(B[Ce]={data_type:Ye.data_type,constant_value:Ye.constant_value,data_points:Ye.data_points,is_hr:Ye.is_hr})}const L=S_(l,{projectName:e.projectName??"Untitled",date:X,drawnBy:"MacOptics",entrancePupilDiameter:e.entrancePupilDiameter,referenceWavelengthNm:e.wavelengths[0]??587.6,mcIterations:e.mc_iterations??1e3,mcSeed:e.mc_seed??42,targetYield:e.target_yield??.95,customCoatingData:B}),ne=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),pe=URL.createObjectURL(ne),I=document.createElement("a");I.href=pe,I.download=`project_${X}.lensx`,I.click(),URL.revokeObjectURL(pe),x("Project saved successfully as Lens-X.")},ue=async X=>{const B=X.target.files?.[0];if(X.target.value="",!!B){console.log("File selected:",B.name),x("Processing Drawing...");try{console.log("Reading file content locally (no fetch)...");const{surfaces:ee}=await W7(B);if(x(null),ee.length===0){x("No surfaces found in file.");return}k(new Set),b({surfaces:ee,insertIndex:D})}catch(ee){x(ee instanceof Error?ee.message:"Import failed")}}},be=X=>{k(B=>{const ee=new Set(B);return ee.has(X)?ee.delete(X):ee.add(X),ee})},Q=X=>{const B=(X.description||"").toLowerCase();return!!(/arrow|text|dimension|label|annot|axis|tick|mark/.test(B)||X.diameter<2.5||X.radius===0&&X.thickness<.5)},Y=()=>{if(!w)return;const X=w.surfaces.filter(Q).map(B=>B.id);k(B=>{const ee=new Set(B);return X.forEach(L=>ee.add(L)),ee})},re=()=>{if(!w)return;const X=w.surfaces.filter(B=>!C.has(B.id));X.length>0&&(t(B=>{const ee=[...B.surfaces];return ee.splice(w.insertIndex,0,...X),{...B,surfaces:ee,traceResult:null,traceError:null}}),x(X.length>1?`Imported ${X.length} surfaces from ISO drawing.`:"Imported 1 surface from ISO drawing.")),b(null),k(new Set)},te=()=>{b(null),k(new Set)},R=()=>W(0),W=X=>{const B=Le.surfaceDefaults,ee={id:crypto.randomUUID(),semanticName:`S${X+1}`,aiContext:"",type:"Air",radius:0,thickness:B.thickness,refractiveIndex:1,diameter:B.diameter,material:"Air",description:"New surface",coating:"Uncoated"};t(L=>{const ne=[...L.surfaces];return ne.splice(X,0,ee),{...L,surfaces:ne,traceResult:null,traceError:null}})},ie=X=>{t(B=>({...B,surfaces:B.surfaces.filter(ee=>ee.id!==X),traceResult:null,traceError:null})),r===X&&i(null)},oe=(X,B,ee)=>{const L=l.find(pe=>pe.id===X),ne=L!=null?l.indexOf(L):-1;if(L!=null&&s&&ne>=0){const pe=new Set(["semanticName","aiContext"]),I=ee?[ee]:Object.keys(B);for(const Ce of I){if(pe.has(Ce))continue;const we=B[Ce];if(we!==void 0&&L[Ce]!==we){const Ye=K7(L,Ce,L[Ce],we,ne);Ye&&s({surfaceId:X,surfaceIndex:ne,semanticName:L.semanticName??`S${ne+1}`,field:Ce,oldValue:L[Ce],newValue:we,physicalImplication:Ye});break}}}t(pe=>({...pe,surfaces:pe.surfaces.map(I=>I.id===X?{...I,...B}:I),traceResult:null,traceError:null}))},de=X=>{if(!X.destination||X.source.index===X.destination.index)return;const B=X.source.index,ee=X.destination.index;t(L=>{const ne=[...L.surfaces],[pe]=ne.splice(B,1);return ne.splice(ee,0,pe),{...L,surfaces:ne,traceResult:null,traceError:null,pendingTrace:!0}})};return y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg",children:"System Editor"}),y.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-slate-800/50 backdrop-blur-sm border border-white/10 px-2 py-1.5",children:[y.jsx("input",{ref:O,type:"file",accept:".lensx,.json",onChange:G,className:"hidden","aria-hidden":!0,"data-testid":"load-project-input"}),y.jsx("input",{ref:j,type:"file",accept:".json,.svg,.csv",onChange:ue,className:"hidden","aria-hidden":!0}),y.jsxs("button",{type:"button","data-testid":"load-project",onClick:q,className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium text-slate-200 hover:text-cyan-electric hover:bg-white/5 transition-colors",children:[y.jsx(T3,{className:"w-4 h-4"}),"Load Project"]}),y.jsxs("button",{type:"button",onClick:fe,className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium text-slate-200 hover:text-cyan-electric hover:bg-white/5 transition-colors",children:[y.jsx(W3,{className:"w-4 h-4"}),"Save Project"]})]})]}),y.jsx("div",{className:"flex items-center gap-2 rounded-lg bg-slate-800/50 backdrop-blur-sm border border-white/10 px-2 py-1.5",children:y.jsxs("button",{type:"button",onClick:z,className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium text-slate-200 hover:text-cyan-electric hover:bg-white/5 transition-colors",children:[y.jsx(j3,{className:"w-4 h-4"}),"Add Surface from File"]})})]}),y.jsx("div",{className:"overflow-x-auto overflow-y-visible rounded-lg",children:y.jsx(W9,{onDragEnd:de,children:y.jsxs("table",{className:"w-full text-sm border-collapse overflow-visible",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-left text-slate-400 border-b border-white/10 bg-slate-900/40 backdrop-blur-[4px]",children:[y.jsx("th",{className:"w-8 py-2 pr-1","aria-label":"Drag handle"}),y.jsx("th",{className:"py-2 pr-4",children:"#"}),y.jsx("th",{className:"py-2 pr-3",title:"Semantic name for AI (e.g. Primary_Objective)",children:"Name"}),y.jsx("th",{className:"py-2 pr-3",title:"AI-Context: reason for this surface",children:"AI Context"}),y.jsx("th",{className:"py-2 pr-4",children:"Type"}),y.jsx("th",{className:"py-2 pr-4",children:"Radius (mm)"}),y.jsx("th",{className:"py-2 pr-4",children:"Thickness (mm)"}),y.jsx("th",{className:"py-2 pr-4",children:"n"}),y.jsx("th",{className:"py-2 pr-4",children:"Diameter (mm)"}),y.jsx("th",{className:"py-2 pr-4",children:"Material"}),y.jsx("th",{className:"py-2 pr-3",title:"Coating (affects power loss)",children:"Coating"}),y.jsx("th",{className:"py-2 pr-3",title:"Radius  (mm)",children:"R "}),y.jsx("th",{className:"py-2 pr-3",title:"Thickness  (mm)",children:"T "}),y.jsx("th",{className:"py-2 pr-3",title:"Tilt  (deg)",children:"Tilt "}),y.jsx("th",{className:"py-2 pr-3",title:"Decenter X (mm)",children:"Dec X"}),y.jsx("th",{className:"py-2 pr-3",title:"Decenter Y (mm)",children:"Dec Y"}),y.jsx("th",{className:"py-2 pr-3",title:"Absorption (1/cm) thermal",children:""}),y.jsx("th",{className:"py-2 pr-3",title:"ISO 10110 scratch/dig",children:"S/D"}),y.jsx("th",{className:"py-2 w-10"})]})}),y.jsx(N7,{droppableId:"surfaces",children:X=>y.jsxs("tbody",{ref:X.innerRef,...X.droppableProps,children:[y.jsx("tr",{"data-testid":"insert-surface-at-start",onClick:R,className:"border-b border-dashed border-white/20 cursor-pointer bg-slate-900/30 backdrop-blur-[4px] hover:bg-slate-900/50 text-slate-500 hover:text-cyan-electric transition-colors",children:y.jsx("td",{colSpan:19,className:"py-2",children:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(js,{className:"w-4 h-4"}),"Insert surface at start"]})})}),l.map((B,ee)=>{const L=u.has(ee);return y.jsx(s7,{draggableId:B.id,index:ee,children:(ne,pe)=>y.jsxs(Je.tr,{ref:ne.innerRef,...ne.draggableProps,layout:!0,initial:{opacity:0,y:-8},animate:L?{opacity:1,y:0,backgroundColor:["rgba(239, 68, 68, 0.08)","rgba(239, 68, 68, 0.18)","rgba(239, 68, 68, 0.08)"]}:{opacity:1,y:0},transition:L?{duration:2.5,repeat:1/0,repeatType:"reverse"}:{duration:.2},className:`border-b border-white/10 cursor-pointer transition-all backdrop-blur-[4px] ${pe.isDragging?"opacity-90 shadow-lg":""} ${r===B.id?"border-l-4 border-l-cyan-electric bg-slate-900/50":"border-l-4 border-l-transparent hover:bg-slate-900/50"} ${L?"bg-red-500/10":"bg-slate-900/30"}`,children:[y.jsx("td",{...ne.dragHandleProps,className:"py-2 pr-1 text-slate-500 hover:text-cyan-electric cursor-grab active:cursor-grabbing",onClick:I=>I.stopPropagation(),children:y.jsx(_3,{className:"w-4 h-4"})}),y.jsx("td",{className:"py-2 pr-4 text-slate-400",children:ee+1}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"text",value:B.semanticName??"",placeholder:`S${ee+1}`,onChange:I=>oe(B.id,{semanticName:I.target.value.trim()||void 0}),onClick:I=>I.stopPropagation(),className:`${ws} min-w-[7rem]`,title:"Semantic name for AI context"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"text",value:B.aiContext??"",onChange:I=>oe(B.id,{aiContext:I.target.value.trim()||void 0}),onClick:I=>I.stopPropagation(),placeholder:"e.g. Corrects coma from S1",className:`${ws} min-w-[8rem] text-xs`,title:"AI-Context: hidden context describing surface purpose (for AI)"})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsxs("select",{value:B.type,onChange:I=>oe(B.id,{type:I.target.value}),onClick:I=>I.stopPropagation(),className:ws,children:[y.jsx("option",{value:"Glass",children:"Glass"}),y.jsx("option",{value:"Air",children:"Air"})]})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number","data-testid":`surface-${ee}-radius`,value:B.radius,onChange:I=>oe(B.id,{radius:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:oi})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number",value:B.thickness,onChange:I=>oe(B.id,{thickness:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:oi})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number",value:B.refractiveIndex,onChange:I=>oe(B.id,{refractiveIndex:Number(I.target.value)||1}),onClick:I=>I.stopPropagation(),className:oi,step:.01})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number",value:B.diameter,onChange:I=>oe(B.id,{diameter:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:oi})}),y.jsx("td",{className:"py-2 pr-4 overflow-visible",children:y.jsx(Y7,{value:B.material,materials:d,wavelengthNm:e.wavelengths[0]??587.6,fallbackN:B.refractiveIndex,onChange:(I,Ce,we)=>{const Ye=d.find(vt=>vt.name.toLowerCase()===I.toLowerCase()),ze=we??Ye?.coefficients,rt=ze&&Array.isArray(ze.B)&&Array.isArray(ze.C)?{B:ze.B,C:ze.C}:void 0;oe(B.id,{material:I,...Ce!=null&&{refractiveIndex:Ce},sellmeierCoefficients:rt,type:I==="Air"?"Air":"Glass"},"material")},onClick:I=>I.stopPropagation()})}),y.jsx("td",{className:"py-2 pr-3 min-w-[8rem]","data-testid":`surface-${ee}-coating-cell`,children:y.jsx(X7,{value:B.coating??"",coatings:p,wavelengthNm:e.wavelengths[0]??587.6,wavelengths:e.wavelengths,onChange:I=>oe(B.id,{coating:I||void 0}),onClick:I=>I.stopPropagation()})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:B.radiusTolerance??"",placeholder:"0",min:0,step:.01,onChange:I=>oe(B.id,{radiusTolerance:I.target.value===""?void 0:Math.max(0,Number(I.target.value)||0)}),onClick:I=>I.stopPropagation(),className:`${oi} min-w-[3.5rem]`,title:"Radius tolerance  (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:B.thicknessTolerance??"",placeholder:"0",min:0,step:.01,onChange:I=>oe(B.id,{thicknessTolerance:I.target.value===""?void 0:Math.max(0,Number(I.target.value)||0)}),onClick:I=>I.stopPropagation(),className:`${oi} min-w-[3.5rem]`,title:"Thickness tolerance  (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number","data-testid":`surface-${ee}-tilt`,value:B.tiltTolerance??"",placeholder:"0",min:0,step:.01,onChange:I=>oe(B.id,{tiltTolerance:I.target.value===""?void 0:Math.max(0,Number(I.target.value)||0)}),onClick:I=>I.stopPropagation(),className:`${oi} min-w-[3.5rem]`,title:"Tilt tolerance  (deg)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:B.decenterX??"",placeholder:"0",step:.01,onChange:I=>oe(B.id,{decenterX:I.target.value===""?void 0:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:`${oi} min-w-[3.5rem]`,title:"Decenter X (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:B.decenterY??"",placeholder:"0",step:.01,onChange:I=>oe(B.id,{decenterY:I.target.value===""?void 0:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:`${oi} min-w-[3.5rem]`,title:"Decenter Y (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:B.type==="Glass"?y.jsx("input",{type:"number",value:B.absorptionCoefficient??"",placeholder:"0",min:0,step:.001,onChange:I=>oe(B.id,{absorptionCoefficient:I.target.value===""?void 0:Math.max(0,Number(I.target.value)||0)}),onClick:I=>I.stopPropagation(),className:`${oi} min-w-[3.5rem]`,title:"Absorption coefficient (1/cm) for thermal lensing"}):y.jsx("span",{className:"text-slate-600 text-xs",children:""})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"text",value:B.surfaceQuality??"",placeholder:"3/2",onChange:I=>oe(B.id,{surfaceQuality:I.target.value.trim()||void 0}),onClick:I=>I.stopPropagation(),className:`${ws} min-w-[3rem]`,title:"Surface quality (scratch/dig) per ISO 10110"})}),y.jsx("td",{className:"py-2",children:y.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),ie(B.id)},className:"p-1.5 rounded text-slate-500 hover:text-red-400 hover:bg-white/5","aria-label":"Remove surface",children:y.jsx(wf,{className:"w-4 h-4"})})})]})},B.id)}),X.placeholder,y.jsx("tr",{"data-testid":"insert-surface-at-end",onClick:()=>W(l.length),className:"border-b border-dashed border-white/20 cursor-pointer bg-slate-900/30 backdrop-blur-[4px] hover:bg-slate-900/50 text-slate-500 hover:text-cyan-electric transition-colors",children:y.jsx("td",{colSpan:19,className:"py-2",children:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(js,{className:"w-4 h-4"}),"Insert surface at end"]})})})]})})]})})}),g&&y.jsx(Je.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0},className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 px-4 py-2 rounded-lg bg-slate-800/95 border border-slate-600 text-slate-200 text-sm shadow-xl backdrop-blur-sm",role:"status","aria-live":"polite",children:g}),Rs.createPortal(y.jsx(Wi,{children:w&&y.jsx(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-xl p-4 sm:p-6",onClick:X=>X.target===X.currentTarget&&te(),role:"dialog","aria-modal":"true","aria-labelledby":"import-preview-title",children:y.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] rounded-xl border border-slate-600/80 bg-slate-900/80 shadow-2xl backdrop-blur-xl overflow-hidden flex flex-col",onClick:X=>X.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 px-4 py-3 shrink-0",children:[y.jsx("h3",{id:"import-preview-title",className:"text-lg font-semibold text-cyan-electric",children:"Import Preview"}),y.jsx("button",{type:"button",onClick:te,className:"p-1 rounded text-slate-400 hover:text-slate-200 hover:bg-white/5","aria-label":"Cancel import",children:y.jsx(_s,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"flex-1 overflow-auto p-4 min-h-0",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs("section",{className:"space-y-3",children:[y.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Surfaces to Import"}),y.jsxs("p",{className:"text-xs text-slate-500",children:[w.surfaces.length," surface",w.surfaces.length!==1?"s":""," found. Click a row to toggle. Green = included, gray = ignored."]}),y.jsx("button",{type:"button",onClick:Y,className:"px-3 py-1.5 rounded-lg text-xs font-medium text-slate-400 hover:text-slate-200 hover:bg-white/5 border border-slate-600",children:"Clear All Annotations"}),y.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-700",children:y.jsxs("table",{className:"w-full text-sm min-w-[280px]",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-slate-800/80 text-left text-slate-400",children:[y.jsx("th",{className:"py-2 px-3 w-12",children:"Import"}),y.jsx("th",{className:"py-2 px-3 w-10",children:"#"}),y.jsx("th",{className:"py-2 px-3",children:"Radius (mm)"}),y.jsx("th",{className:"py-2 px-3",children:"Material"}),y.jsx("th",{className:"py-2 px-3",children:"Thickness (mm)"})]})}),y.jsx("tbody",{children:w.surfaces.map((X,B)=>{const ee=C.has(X.id);return y.jsxs("tr",{onClick:()=>be(X.id),className:`border-t border-slate-700/80 cursor-pointer transition-colors ${ee?"opacity-50 bg-slate-800/40 hover:bg-slate-800/60":"bg-emerald-500/10 hover:bg-emerald-500/10 border-l-2 border-l-emerald-500"}`,role:"button",tabIndex:0,onKeyDown:L=>{(L.key==="Enter"||L.key===" ")&&(L.preventDefault(),be(X.id))},"aria-label":`Surface ${B+1}: ${ee?"ignored":"included"}, click to toggle`,children:[y.jsx("td",{className:"py-2 px-3",children:y.jsx("input",{type:"checkbox",checked:!ee,onChange:()=>be(X.id),onClick:L=>L.stopPropagation(),className:"rounded border-slate-600 bg-slate-800 text-cyan-electric focus:ring-cyan-electric/50","aria-label":`Include surface ${B+1}`})}),y.jsx("td",{className:"py-2 px-3 text-slate-400",children:B+1}),y.jsx("td",{className:"py-2 px-3 text-slate-200 font-mono",children:X.radius===0?"":X.radius.toFixed(2)}),y.jsx("td",{className:"py-2 px-3 text-slate-200",children:X.material}),y.jsx("td",{className:"py-2 px-3 text-slate-200 font-mono",children:X.thickness.toFixed(2)})]},X.id)})})]})})]}),y.jsxs("section",{className:"space-y-3",children:[y.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Target Location"}),y.jsx("p",{className:"text-xs text-slate-500",children:"Click a drop zone to choose where to insert the imported surfaces."}),y.jsx("div",{className:"rounded-lg border border-slate-700 overflow-hidden space-y-0",children:(()=>{const X=w.surfaces.length-C.size,B=ee=>b(L=>L?{...L,insertIndex:ee}:null);return y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",onClick:()=>B(0),className:`w-full py-3 px-4 text-left text-sm border-2 border-dashed transition-all hover:bg-cyan-500/20 hover:shadow-[0_0_12px_rgba(34,211,238,0.12)] ${w.insertIndex===0?"bg-cyan-500/20 border-cyan-electric/50":"border-slate-600/80 text-slate-400 hover:border-cyan-electric/30"}`,children:[y.jsx("span",{className:"font-medium text-slate-300",children:"Top of Stack"}),y.jsxs("span",{className:"block text-xs mt-0.5 text-slate-500",children:["Insert ",X," surface",X!==1?"s":""," here"]})]}),l.map((ee,L)=>y.jsxs("div",{children:[y.jsxs("div",{className:"py-2 px-4 bg-slate-800/50 border-b border-slate-700/80 text-sm text-slate-300",children:[L+1,". ",ee.material,"  R: ",ee.radius===0?"":ee.radius.toFixed(2)," mm"]}),y.jsx("button",{type:"button",onClick:()=>B(L+1),className:`w-full py-3 px-4 text-left text-sm border-2 border-dashed transition-all hover:bg-cyan-500/20 hover:shadow-[0_0_12px_rgba(34,211,238,0.12)] ${w.insertIndex===L+1?"bg-cyan-500/20 border-cyan-electric/50":"border-slate-600/80 text-slate-400 hover:border-cyan-electric/30"}`,children:y.jsxs("span",{className:"block text-xs text-slate-500",children:["Insert ",X," surface",X!==1?"s":""," here"]})})]},ee.id)),y.jsxs("button",{type:"button",onClick:()=>B(l.length),className:`w-full py-3 px-4 text-left text-sm border-2 border-dashed transition-all hover:bg-cyan-500/20 hover:shadow-[0_0_12px_rgba(34,211,238,0.12)] ${w.insertIndex===l.length?"bg-cyan-500/20 border-cyan-electric/50":"border-slate-600/80 text-slate-400 hover:border-cyan-electric/30"}`,children:[y.jsx("span",{className:"font-medium text-slate-300",children:"End of Stack"}),y.jsxs("span",{className:"block text-xs mt-0.5 text-slate-500",children:["Insert ",X," surface",X!==1?"s":""," here"]})]})]})})()})]})]})}),y.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 border-t border-slate-700 px-4 py-3 shrink-0",children:[y.jsx("button",{type:"button",onClick:te,className:"px-4 py-2 rounded-lg text-sm text-slate-400 hover:text-slate-200 hover:bg-white/5",children:"Cancel"}),y.jsx("button",{type:"button",onClick:re,disabled:w.surfaces.length-C.size===0,className:"px-4 py-2 rounded-lg text-sm font-medium text-slate-900 bg-cyan-electric hover:bg-cyan-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Import"})]})]})},"import-preview-modal")}),document.body),Rs.createPortal(y.jsx(Wi,{children:E&&y.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-xl p-4",onClick:X=>X.target===X.currentTarget&&U(),role:"dialog","aria-modal":"true","aria-labelledby":"load-confirm-title",children:y.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md rounded-xl border border-slate-600/80 bg-slate-900/80 shadow-2xl backdrop-blur-xl p-6",onClick:X=>X.stopPropagation(),children:[y.jsx("h3",{id:"load-confirm-title",className:"text-lg font-semibold text-cyan-electric mb-3",children:"Load Project"}),y.jsx("p",{className:"text-slate-300 text-sm mb-6",children:"Loading a project will overwrite your current surfaces. Do you want to proceed?"}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{type:"button",onClick:U,className:"px-4 py-2 rounded-lg text-sm text-slate-400 hover:text-slate-200 hover:bg-white/5",children:"Cancel"}),y.jsx("button",{type:"button","data-testid":"load-confirm-proceed",onClick:F,className:"px-4 py-2 rounded-lg text-sm font-medium text-slate-900 bg-cyan-electric hover:bg-cyan-400",children:"Proceed"})]})]})},"load-confirm-modal")}),document.body)]})}function $f(e){if(e.traceResult?.performance){const l=e.traceResult.performance;return{rmsSpotRadius:l.rmsSpotRadius,totalLength:l.totalLength,fNumber:l.fNumber}}const t=e.surfaces.reduce((l,u)=>l+u.thickness,0),n=e.surfaces[0],r=e.surfaces[1],i=n&&r&&n.radius!==0&&r.radius!==0?1/((n.refractiveIndex-1)*(1/n.radius-1/-r.radius)):100,o=e.entrancePupilDiameter>0?i/e.entrancePupilDiameter:0;return{rmsSpotRadius:e.fieldAngles.length>0?.01*Math.sqrt(e.fieldAngles.reduce((l,u)=>l+u*u,0)/e.fieldAngles.length):0,totalLength:t,fNumber:o}}const gc={entrancePupilDiameter:Le.defaults.entrancePupilDiameter,wavelengths:[...Le.defaults.wavelengths],fieldAngles:[...Le.defaults.fieldAngles],numRays:Le.defaults.numRays,focusMode:"On-Axis",m2Factor:1,pulseWidthFs:100,hasTraced:!1,surfaces:[{id:crypto.randomUUID(),semanticName:"Primary_Objective_Front",aiContext:"",type:"Glass",radius:100,thickness:5,refractiveIndex:1.5168,diameter:25,material:"N-BK7",description:"Front surface",coating:"Uncoated"},{id:crypto.randomUUID(),semanticName:"Primary_Objective_Back",aiContext:"",type:"Air",radius:-100,thickness:95,refractiveIndex:1,diameter:25,material:"Air",description:"Back surface",coating:"Uncoated"}],rmsSpotRadius:0,totalLength:100,fNumber:10,traceResult:null,traceError:null},oa="px-1.5 py-0.5 rounded bg-slate-800/90 text-slate-200 font-mono text-[10px] shadow-[0_1px_0_0_rgba(255,255,255,0.1),inset_0_-1px_0_0_rgba(0,0,0,0.3)]",J7=[{id:"nav",title:"Navigation Shortcuts",icon:F3},{id:"lensx",title:"Understanding Lens-X",icon:uO},{id:"laser",title:"Laser & Gaussian Optics",icon:V3},{id:"coatings",title:"Coatings & Reflectivity",icon:pO},{id:"ultrafast",title:"Ultrafast / Femtosecond Design",icon:q3},{id:"chromatic",title:"Chromatic Analysis & Optimization",icon:$3},{id:"montecarlo",title:"Manufacturing Reliability (Monte Carlo)",icon:dO},{id:"export",title:"Manufacturing Export",icon:fO}];function eH({id:e,title:t,icon:n,isOpen:r,onToggle:i,children:o}){return y.jsxs("div",{className:"border-b border-white/10 last:border-b-0",children:[y.jsxs("button",{type:"button",onClick:i,className:"w-full flex items-center justify-between gap-3 px-4 py-3.5 text-left hover:bg-white/5 transition-colors rounded-lg","aria-expanded":r,"aria-controls":`accordion-content-${e}`,id:`accordion-header-${e}`,children:[y.jsxs("div",{className:"flex items-center gap-2.5",children:[y.jsx(n,{className:"w-5 h-5 text-cyan-electric shrink-0",strokeWidth:2}),y.jsx("span",{className:"font-semibold text-slate-200",children:t})]}),y.jsx(Je.span,{animate:{rotate:r?180:0},transition:{duration:.2},className:"text-slate-400 shrink-0",children:y.jsx(As,{className:"w-5 h-5",strokeWidth:2})})]}),y.jsx(Wi,{initial:!1,children:r&&y.jsx(Je.div,{id:`accordion-content-${e}`,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:[.32,.72,0,1]},className:"overflow-hidden",role:"region","aria-labelledby":`accordion-header-${e}`,children:y.jsx("div",{className:"px-4 pb-4 pt-0 text-slate-400 text-sm leading-relaxed",children:o})},e)})]})}function tH({title:e,explanation:t,formula:n,isHighlighted:r,onMouseEnter:i,onMouseLeave:o}){return y.jsxs("div",{onMouseEnter:i,onMouseLeave:o,className:`p-3 rounded-lg border transition-all duration-200 ${r?"border-cyan-electric/60 bg-cyan-electric/5":"border-white/10 bg-white/5"}`,children:[y.jsx("h4",{className:"font-medium text-cyan-electric text-sm mb-1",children:e}),y.jsx("p",{className:"text-slate-400 text-xs leading-relaxed mb-2",children:t}),y.jsx("code",{className:"block font-mono text-xs text-slate-500 bg-black/20 rounded px-2 py-1 w-fit",children:n})]})}const nH=[{title:"Z-Position",metricId:"z",explanation:"Axial distance from the global coordinate origin along the optical axis.",formula:"z    (mm)"},{title:"RMS Radius",metricId:"rms",explanation:"Root mean square of ray distances from the centroideffective 'blur' size.",formula:"R_rms = ((1/n)  (y_i  ))"},{title:"Beam Width",metricId:"beamWidth",explanation:"Full aperture: total vertical spread of the ray bundle at the current Z-plane.",formula:"W = max(y)  min(y)"},{title:"Chief Ray Angle (CRA)",metricId:"cra",explanation:"Angle of the ray through the aperture stop center relative to the optical axis.",formula:"CRA = arctan(dy/dz)  []"},{title:"Spot Size (w) at focus",metricId:"spotSize",explanation:"Beam waist radius (1/e radius) at the best focus. Derived from the on-axis RMS of ray intercepts.",formula:"w = 2  R_rms  (1/e radius = 2)"},{title:"Rayleigh (z_R) at focus",metricId:"rayleigh",explanation:"Distance from the waist where the beam cross-section doubles. Uses M from System Properties.",formula:"z_R =   w / (  M)  [mm]"}];function rH(){const e={entrancePupilDiameter:10,wavelengths:[587.6,486.1,656.3],fieldAngles:[0,7,14],numRays:9,focusMode:"On-Axis",m2Factor:1,pulseWidthFs:100,hasTraced:!1,surfaces:[{id:crypto.randomUUID(),type:"Glass",radius:80,thickness:6,refractiveIndex:1.458,diameter:25,material:"Fused Silica",description:"Low-dispersion front"},{id:crypto.randomUUID(),type:"Air",radius:-80,thickness:94,refractiveIndex:1,diameter:25,material:"Air",description:"Back surface"}],rmsSpotRadius:0,totalLength:100,fNumber:10,traceResult:null,traceError:null};return{...e,...$f(e)}}function iH({highlightedMetric:e,onHighlightMetric:t,onSystemStateChange:n,onRunSampleAnalysis:r,onOpenOptimizer:i}){const[o,s]=P.useState("nav");return y.jsx("div",{className:"h-full overflow-y-auto",children:y.jsx("div",{className:"p-4 pb-8",children:y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-md rounded-xl border border-white/10 overflow-hidden shadow-xl",children:[y.jsxs("div",{className:"px-4 py-4 border-b border-white/10",children:[y.jsx("h2",{className:"text-lg font-bold text-cyan-electric",children:"User Guide"}),y.jsx("p",{className:"text-slate-400 text-xs mt-0.5",children:"Documentation for optical design workflows"})]}),y.jsx("div",{className:"p-2",children:J7.map(({id:l,title:u,icon:d})=>y.jsxs(eH,{id:l,title:u,icon:d,isOpen:o===l,onToggle:()=>s(f=>f===l?null:l),children:[l==="nav"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider mb-2",children:"Keyboard shortcuts"}),y.jsxs("ul",{className:"space-y-2 text-slate-400",children:[y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:oa,children:"Space"}),"+",y.jsx("kbd",{className:oa,children:"Drag"}),y.jsx("span",{className:"text-slate-500",children:" Pan viewport"})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:oa,children:"Scroll"}),y.jsx("span",{className:"text-slate-500",children:" Zoom in/out"})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:oa,children:"Double Click"}),y.jsx("span",{className:"text-slate-500",children:" Reset view"})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:oa,children:hO?" Option":"Alt"}),y.jsx("span",{className:"text-slate-500",children:" Override Snap-to-Focus"})]})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider mb-2",children:"Scan line"}),y.jsx("p",{children:"Drag the scan line in the viewport to sweep Z and inspect RMS, beam width, and CRA. Use Snap to Focus / Snap to Surface to jump to key positions."})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider mb-2",children:"HUD & metrics"}),y.jsx("p",{children:"Hover glossary cards in this guide to highlight the corresponding metric in the viewport HUD."})]})]}),l==="laser"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Laser systems typically use Gaussian or near-Gaussian beam profiles. The scan metrics help you locate the beam waist, minimize spot size, and control divergence."}),y.jsxs("p",{children:["The HUD now displays Beam Waist (w) and Rayleigh Range (z",y.jsx("sub",{children:"R"}),"). For laser design, ensure your M factor is set in System Properties to simulate real-world beam quality."]}),y.jsx("div",{className:"space-y-2",children:nH.map(f=>y.jsx(tH,{...f,isHighlighted:e===f.metricId,onMouseEnter:()=>t(f.metricId),onMouseLeave:()=>t(null)},f.title))}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"Tip:"})," Minimize RMS at the image plane to reduce blur; use the scan line to find where beam width is smallest."]}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-0.5",children:"Pro-Tip"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Note: The Gold Diamond indicates the point of minimum beam waist, which may shift based on lens dispersion."})]})]}),l==="lensx"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider",children:"Physics-Aware Interchange Format"}),y.jsxs("p",{children:["MacOptics uses a ",y.jsx("strong",{className:"text-cyan-electric",children:"Physics-Aware"})," format called ",y.jsx("strong",{className:"text-slate-300",children:"Lens-X"}),". Unlike a simple drawing file, Lens-X carries ",y.jsx("strong",{className:"text-slate-300",children:"glass chemistry"})," (Sellmeier coefficients for n()) and ",y.jsx("strong",{className:"text-slate-300",children:"coating data"})," within the file itself."]}),y.jsx("p",{children:"When you export a design, the JSON includes radius, thickness, material, coating, and manufacturing tolerances for every surface. When you import, the software restores the full optical modelno manual re-entry of refractive indices or coating choices."}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-0.5",children:"Why it matters"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"A Lens-X file is a Digital Twin: the same data drives ray tracing, chromatic analysis, and manufacturing export. Share a single JSON to hand off a complete, executable specification."})]})]}),l==="coatings"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider",children:"Reflectivity Curve R()"}),y.jsxs("p",{children:["When you ",y.jsx("strong",{className:"text-slate-300",children:"hover over a coating option"})," in the System Editor (e.g. BBAR, MgF, V-Coat 532), a small graph appears showing its reflectivity R() across the wavelength range."]}),y.jsxs("p",{children:["A ",y.jsx("strong",{className:"text-cyan-electric",children:"vertical dashed line"})," marks your system's current operating wavelength. Use it to verify that your chosen coating is effective at your design colorfor AR coatings, lower R at your wavelength means less power loss."]}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-0.5",children:"Tip"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"V-Coat 532 is optimized for 532 nm; BBAR is broadband (400700 nm). HR coatings reflect instead of refractthe ray follows the reflected path."})]})]}),l==="ultrafast"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Ultrafast and femtosecond optics introduce dispersion, group delay, and pulse broadening. This app models chromatic dispersion and thermal lensing to support pulsed-laser system design."}),y.jsxs("p",{children:["Designing for femtosecond pulses? Monitor the ",y.jsx("strong",{className:"text-slate-300",children:"GDD"})," (Group Delay Dispersion) value in the HUD. Most common glasses add positive GDD, which stretches your pulse. Aim for zero net GDD for transform-limited pulses."]}),y.jsxs("ul",{className:"space-y-1.5",children:[y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Dispersion"}),"  wavelength-dependent refractive index (Abbe V) affects pulse temporal shape"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Thermal lensing"}),"  absorption + dn/dT cause focal shift at high power (use Heat Map in System Properties)"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Ultrafast HUD"}),"  view GDD and pulse metrics when the scan line is active"]})]}),n&&y.jsx("button",{type:"button",onClick:()=>n(rH()),className:"mt-2 px-3 py-2 rounded-lg text-sm font-medium text-cyan-electric border border-cyan-electric/50 hover:bg-cyan-electric/10 transition-colors",children:"Load Low-Dispersion Presets"})]}),l==="chromatic"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider",children:"Chromatic Control & Color Correction"}),y.jsx("p",{className:"text-slate-500 text-xs italic",children:"Managing focal shift across the visible and IR spectrum."}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"Longitudinal Chromatic Aberration (LCA):"})," Different colors of light refract at different angles because the refractive index n is a function of wavelength . The LCA graph plots the focus shift (z) relative to your design wavelength."]}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"Reading the Graph:"}),' A steep vertical line indicates high dispersion (common in single-lens systems). A "folded" or flatter curve indicates an Achromatic design, where multiple wavelengths share a common focus.']}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"One-Click Optimization:"}),' The Optimize Colors tool uses a heuristic search through the Schott and Ohara glass catalogs. It identifies the ideal "Flint" glass to pair with your current "Crown" glass to neutralize dispersion without changing your effective focal length.']}),y.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-slate-400 mb-1.5",children:"Legend"}),y.jsxs("ul",{className:"space-y-1 text-slate-400 text-xs",children:[y.jsxs("li",{children:[y.jsx("kbd",{className:oa,children:"Y-Axis"})," = Wavelength ()"]}),y.jsxs("li",{children:[y.jsx("kbd",{className:oa,children:"X-Axis"})," = Focus Shift (z)"]})]}),y.jsx("p",{className:"text-slate-400 text-xs mt-2 leading-relaxed",children:"The zero-point on the X-axis represents the focus position of your primary system wavelength."})]}),y.jsxs("div",{className:"rounded-lg border border-slate-600 bg-slate-800/50 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-slate-400 mb-0.5",children:"Tech Note"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Note: Optimization requires a multi-surface system. For best results, use a doublet configuration (two lenses with different glass types)."})]}),i&&y.jsx("button",{type:"button",onClick:i,title:"Click the gradient button in the viewport HUD to run the glass-pairing algorithm.",className:"w-full mt-2 px-3 py-2 rounded-lg text-sm font-medium text-white bg-gradient-to-r from-cyan-500 to-indigo-500 hover:from-cyan-400 hover:to-indigo-400 transition-colors",children:"Open Optimizer"})]}),l==="montecarlo"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Monte Carlo sensitivity analysis simulates manufacturing variability by jittering surface parameters (radius, thickness) within their tolerances over many iterations. Each iteration produces a slightly different optical system; the combined spot positions at the image plane form a point cloud that shows how robust your design is to fabrication errors."}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-1",children:"RMS Spot Radius"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"The root-mean-square distance of all rays from the centroid at the image plane. Lower values indicate tighter manufacturing tolerance and a more robust design."})]}),y.jsx("p",{children:"Set R, T, and Tilt tolerances in the System Editor, then run the analysis to see the point cloud and RMS spread at focus."}),r&&y.jsx("button",{type:"button",onClick:r,className:"mt-2 px-3 py-2 rounded-lg text-sm font-medium text-cyan-electric border border-cyan-electric/50 hover:bg-cyan-electric/10 transition-colors",children:"Run Sample Analysis"})]}),l==="export"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Export your optical system as an ISO 10110style technical drawing for manufacturing and documentation."}),y.jsxs("ul",{className:"space-y-1.5",children:[y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Export tab"}),"  cross-section, dimensions (CT), data table (Surf, S/D, Material, CT), and title block"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"S/D (Scratch/Dig)"}),"  surface quality per ISO 10110; editable in System Editor"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"SVG / PDF"}),"  high-resolution export via Export Drawing and browser print"]})]})]})]},l))})]})})})}const Kg="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50";function oH({systemState:e,onSystemStateChange:t}){const[n,r]=P.useState(e.projectName??"My Optical Design"),[i,o]=P.useState(()=>new Date().toISOString().slice(0,10)),[s,l]=P.useState("MacOptics"),u=P.useCallback(()=>{const g=pf(e,{projectName:n||"Untitled",date:i,drawnBy:s,width:1400,height:1e3}),x=new Blob([g],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(x),b=document.createElement("a");b.href=w,b.download=`optical-drawing-${i}.svg`,b.click(),URL.revokeObjectURL(w)},[e,n,i,s]),d=P.useCallback(async()=>{const g=e.surfaces,x={},w=[...new Set(g.map(N=>N.coating).filter(Boolean))];for(const N of w){const j=g.find(_=>_.coating===N);if(j?.coatingDataPoints!=null||j?.coatingConstantValue!=null)continue;const O=await b_(N);O&&(x[N]={data_type:O.data_type,constant_value:O.constant_value,data_points:O.data_points,is_hr:O.is_hr})}const b=S_(g,{projectName:n||"Untitled",date:i,drawnBy:s,entrancePupilDiameter:e.entrancePupilDiameter??10,customCoatingData:x}),C=new Blob([JSON.stringify(b,null,2)],{type:"application/json;charset=utf-8"}),k=URL.createObjectURL(C),E=document.createElement("a");E.href=k,E.download=`lens-x-${n.replace(/\s+/g,"-")}-${i}.json`,E.click(),URL.revokeObjectURL(k)},[e,n,i,s]),f=P.useCallback(()=>{const g=pf(e,{projectName:n||"Untitled",date:i,drawnBy:s,width:1122,height:794}),x=new Blob([g],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(x),b=window.open(w,"_blank","width=1200,height=850");if(!b){URL.revokeObjectURL(w);return}b.addEventListener("load",()=>{setTimeout(()=>{b.print(),b.onbeforeunload=()=>URL.revokeObjectURL(w),b.onafterprint=()=>b.close()},300)})},[e,n,i,s]),p=pf(e,{projectName:n||"Untitled",date:i,drawnBy:s,width:800,height:570}),m=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(p)))}`;return y.jsxs("div",{className:"h-full flex flex-col p-4 gap-4",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg",children:"ISO 10110 Export"}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Drawing Details"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Project Name"}),y.jsx("input",{type:"text",value:n,onChange:g=>{r(g.target.value),t(x=>({...x,projectName:g.target.value}))},placeholder:"My Optical Design",className:Kg})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Date"}),y.jsx("input",{type:"date",value:i,onChange:g=>o(g.target.value),className:Kg})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Drawn By"}),y.jsx("input",{type:"text",value:s,onChange:g=>l(g.target.value),placeholder:"MacOptics",className:Kg})]})]})]}),y.jsxs("section",{className:"glass-card p-4 flex-1 min-h-0 flex flex-col",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Preview"}),y.jsx("div",{className:"flex-1 min-h-[300px] rounded-lg overflow-auto bg-slate-900/50 border border-white/10",children:y.jsx("img",{src:m,alt:"ISO 10110 blueprint preview",className:"w-full h-auto object-contain",style:{minHeight:300}})})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Export Drawing"}),y.jsx("p",{className:"text-xs text-slate-500 mb-4",children:'Technical blueprint with cross-section, dimensions, data table (S/D, Material, CT), and title block. LENS-X JSON includes radius, thickness, material, coating per surface; flat surfaces export radius as "infinity".'}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[y.jsxs("button",{type:"button","data-testid":"export-lensx-json",onClick:d,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all bg-cyan-electric/20 text-cyan-electric border border-cyan-electric/50 hover:bg-cyan-electric/30",children:[y.jsx(vP,{className:"w-4 h-4"}),"Download LENS-X JSON"]}),y.jsxs("button",{type:"button",onClick:u,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all bg-white/10 text-slate-200 border border-white/20 hover:bg-white/20",children:[y.jsx(vP,{className:"w-4 h-4"}),"Download SVG"]}),y.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all bg-white/10 text-slate-200 border border-white/20 hover:bg-white/20",children:[y.jsx(z3,{className:"w-4 h-4"}),"Print / Save as PDF"]})]})]})]})}function C_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=C_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function kt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=C_(e))&&(r&&(r+=" "),r+=t);return r}var aH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sb(e){if(typeof e!="string")return!1;var t=aH;return t.includes(e)}var sH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lH=new Set(sH);function A_(e){return typeof e!="string"?!1:lH.has(e)}function k_(e){return typeof e=="string"&&e.startsWith("data-")}function Xr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(A_(n)||k_(n))&&(t[n]=e[n]);return t}function Gp(e){if(e==null)return null;if(P.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Xr(t)}return typeof e=="object"&&!Array.isArray(e)?Xr(e):null}function _r(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(A_(n)||k_(n)||sb(n))&&(t[n]=e[n]);return t}function cH(e){return e==null?null:P.isValidElement(e)?_r(e.props):typeof e=="object"&&!Array.isArray(e)?_r(e):null}var uH=["children","width","height","viewBox","className","style","title","desc"];function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(null,arguments)}function dH(e,t){if(e==null)return{};var n,r,i=fH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var E_=P.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:l,title:u,desc:d}=e,f=dH(e,uH),p=o||{width:r,height:i,x:0,y:0},m=kt("recharts-surface",s);return P.createElement("svg",n0({},_r(f),{className:m,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),P.createElement("title",null,u),P.createElement("desc",null,d),n)}),pH=["children","className"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r0.apply(null,arguments)}function hH(e,t){if(e==null)return{};var n,r,i=mH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gi=P.forwardRef((e,t)=>{var{children:n,className:r}=e,i=hH(e,pH),o=kt("recharts-layer",r);return P.createElement("g",r0({className:o},_r(i),{ref:t}),n)}),gH=P.createContext(null);function Ft(e){return function(){return e}}const i0=Math.PI,o0=2*i0,ua=1e-6,vH=o0-ua;function N_(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function yH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return N_;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?N_:yH(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,u=r-t,d=i-n,f=s-t,p=l-n,m=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>ua)if(!(Math.abs(p*u-d*f)>ua)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-s,x=i-l,w=u*u+d*d,b=g*g+x*x,C=Math.sqrt(w),k=Math.sqrt(m),E=o*Math.tan((i0-Math.acos((w+m-b)/(2*C*k)))/2),N=E/k,j=E/C;Math.abs(N-1)>ua&&this._append`L${t+N*f},${n+N*p}`,this._append`A${o},${o},0,0,${+(p*g>f*x)},${this._x1=t+j*u},${this._y1=n+j*d}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=t+l,f=n+u,p=1^s,m=s?i-o:o-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>ua||Math.abs(this._y1-f)>ua)&&this._append`L${d},${f}`,r&&(m<0&&(m=m%o0+o0),m>vH?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:m>ua&&this._append`A${r},${r},0,${+(m>=i0)},${p},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function O_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new xH(t)}function lb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function j_(e){this._context=e}j_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Kp(e){return new j_(e)}function T_(e){return e[0]}function __(e){return e[1]}function D_(e,t){var n=Ft(!0),r=null,i=Kp,o=null,s=O_(l);e=typeof e=="function"?e:e===void 0?T_:Ft(e),t=typeof t=="function"?t:t===void 0?__:Ft(t);function l(u){var d,f=(u=lb(u)).length,p,m=!1,g;for(r==null&&(o=i(g=s())),d=0;d<=f;++d)!(d<f&&n(p=u[d],d,u))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+e(p,d,u),+t(p,d,u));if(g)return o=null,g+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ft(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ft(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ft(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),l):r},l}function Ud(e,t,n){var r=null,i=Ft(!0),o=null,s=Kp,l=null,u=O_(d);e=typeof e=="function"?e:e===void 0?T_:Ft(+e),t=typeof t=="function"?t:Ft(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?__:Ft(+n);function d(p){var m,g,x,w=(p=lb(p)).length,b,C=!1,k,E=new Array(w),N=new Array(w);for(o==null&&(l=s(k=u())),m=0;m<=w;++m){if(!(m<w&&i(b=p[m],m,p))===C)if(C=!C)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=g;--x)l.point(E[x],N[x]);l.lineEnd(),l.areaEnd()}C&&(E[m]=+e(b,m,p),N[m]=+t(b,m,p),l.point(r?+r(b,m,p):E[m],n?+n(b,m,p):N[m]))}if(k)return l=null,k+""||null}function f(){return D_().defined(i).curve(s).context(o)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ft(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ft(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ft(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:Ft(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Ft(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ft(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(n)},d.lineX1=function(){return f().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ft(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,o!=null&&(l=s(o)),d):s},d.context=function(p){return arguments.length?(p==null?o=l=null:l=s(o=p),d):o},d}class M_{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function bH(e){return new M_(e,!0)}function wH(e){return new M_(e,!1)}function Bf(){}function zf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function I_(e){this._context=e}I_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SH(e){return new I_(e)}function R_(e){this._context=e}R_.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PH(e){return new R_(e)}function L_(e){this._context=e}L_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CH(e){return new L_(e)}function F_(e){this._context=e}F_.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function AH(e){return new F_(e)}function DC(e){return e<0?-1:1}function MC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(DC(o)+DC(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function IC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,l=(o-r)/3;e._context.bezierCurveTo(r+l,i+l*t,o-l,s-l*n,o,s)}function Wf(e){this._context=e}Wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qg(this,this._t0,IC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qg(this,IC(this,n=MC(this,e,t)),n);break;default:qg(this,this._t0,n=MC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function $_(e){this._context=new B_(e)}($_.prototype=Object.create(Wf.prototype)).point=function(e,t){Wf.prototype.point.call(this,t,e)};function B_(e){this._context=e}B_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function kH(e){return new Wf(e)}function EH(e){return new $_(e)}function z_(e){this._context=e}z_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=RC(e),i=RC(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function RC(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function NH(e){return new z_(e)}function qp(e,t){this._context=e,this._t=t}qp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function OH(e){return new qp(e,.5)}function jH(e){return new qp(e,0)}function TH(e){return new qp(e,1)}function ka(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,l=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function a0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function _H(e,t){return e[t]}function DH(e){const t=[];return t.key=e,t}function MH(){var e=Ft([]),t=a0,n=ka,r=_H;function i(o){var s=Array.from(e.apply(this,arguments),DH),l,u=s.length,d=-1,f;for(const p of o)for(l=0,++d;l<u;++l)(s[l][d]=[0,+r(p,s[l].key,d,o)]).data=p;for(l=0,f=lb(t(s));l<u;++l)s[f[l]].index=l;return n(s,f),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ft(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ft(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?a0:typeof o=="function"?o:Ft(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??ka,i):n},i}function IH(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}ka(e,t)}}function RH(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,l=0;s<i;++s)l+=e[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}ka(e,t)}}function LH(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var l=0,u=0,d=0;l<s;++l){for(var f=e[t[l]],p=f[r][1]||0,m=f[r-1][1]||0,g=(p-m)/2,x=0;x<l;++x){var w=e[t[x]],b=w[r][1]||0,C=w[r-1][1]||0;g+=b-C}u+=p,d+=g*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,ka(e,t)}}var Yg={},Xg={},LC;function FH(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Xg)),Xg}var Zg={},FC;function W_(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Zg)),Zg}var Qg={},$C;function cb(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Qg)),Qg}var Jg={},ev={},BC;function $H(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(ev)),ev}var zC;function ub(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$H(),n=cb();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],s=i.length;if(s===0)return o;let l=0,u="",d="",f=!1;for(i.charCodeAt(0)===46&&(o.push(""),l++);l<s;){const p=i[l];d?p==="\\"&&l+1<s?(l++,u+=i[l]):p===d?d="":u+=p:f?p==='"'||p==="'"?d=p:p==="]"?(f=!1,o.push(u),u=""):u+=p:p==="["?(f=!0,u&&(o.push(u),u="")):p==="."?u&&(o.push(u),u=""):u+=p,l++}return u&&o.push(u),o}e.toPath=r})(Jg)),Jg}var WC;function db(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FH(),n=W_(),r=cb(),i=ub();function o(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?n.isDeepKey(u)?o(l,i.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return s(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function s(l,u,d){if(u.length===0)return d;let f=l;for(let p=0;p<u.length;p++){if(f==null||t.isUnsafeProperty(u[p]))return d;f=f[u[p]]}return f===void 0?d:f}e.get=o})(Yg)),Yg}var tv,VC;function BH(){return VC||(VC=1,tv=db().get),tv}var zH=BH();const Yp=Xi(zH);var WH=4;function jo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WH,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,s)=>{var l=n[s-1];return typeof l=="string"?i+l+o:l!==void 0?i+jo(l)+o:i+o},"")}var Or=e=>e===0?0:e>0?1:-1,vi=e=>typeof e=="number"&&e!=+e,Ea=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,_e=e=>(typeof e=="number"||e instanceof Number)&&!vi(e),yi=e=>_e(e)||typeof e=="string",VH=0,_c=e=>{var t=++VH;return"".concat(e||"").concat(t)},Bo=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&typeof t!="string")return r;var o;if(Ea(t)){if(n==null)return r;var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return vi(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},V_=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function ui(e,t,n){return _e(e)&&_e(t)?jo(e+n*(t-e)):t}function U_(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Yp(r,t))===n)}var _n=e=>e===null||typeof e>"u",fb=e=>_n(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Kn(e){return e!=null}function Zs(){}var H_=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,pb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{sb(i)&&(r[i]=(o=>n[i](n,o)))}),r},UH=(e,t,n)=>r=>(e(t,n,r),null),HH=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];sb(i)&&typeof o=="function"&&(r||(r={}),r[i]=UH(o,t,n))}),r};function UC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(n),!0).forEach(function(r){KH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KH(e,t,n){return(t=qH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hr(e,t){var n=GH({},e),r=t,i=Object.keys(t),o=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return o}var nv={},rv={},HC;function XH(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],l=r(s,o,n);i.has(l)||i.set(l,s)}return Array.from(i.values())}e.uniqBy=t})(rv)),rv}var iv={},GC;function ZH(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(iv)),iv}var ov={},KC;function G_(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(ov)),ov}var av={},sv={},lv={},qC;function QH(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(lv)),lv}var YC;function hb(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QH();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(sv)),sv}var cv={},XC;function JH(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(cv)),cv}var ZC;function eG(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hb(),n=JH();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(av)),av}var uv={},dv={},QC;function tG(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=db();function n(r){return function(i){return t.get(i,r)}}e.property=n})(dv)),dv}var fv={},pv={},hv={},mv={},JC;function K_(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(mv)),mv}var gv={},eA;function q_(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(gv)),gv}var vv={},tA;function Y_(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(vv)),vv}var nA;function nG(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K_(),n=q_(),r=Y_();function i(f,p,m){return typeof m!="function"?i(f,p,()=>{}):o(f,p,function g(x,w,b,C,k,E){const N=m(x,w,b,C,k,E);return N!==void 0?!!N:o(x,w,g,E)},new Map)}function o(f,p,m,g){if(p===f)return!0;switch(typeof p){case"object":return s(f,p,m,g);case"function":return Object.keys(p).length>0?o(f,{...p},m,g):r.isEqualsSameValueZero(f,p);default:return t.isObject(f)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(f,p)}}function s(f,p,m,g){if(p==null)return!0;if(Array.isArray(p))return u(f,p,m,g);if(p instanceof Map)return l(f,p,m,g);if(p instanceof Set)return d(f,p,m,g);const x=Object.keys(p);if(f==null||n.isPrimitive(f))return x.length===0;if(x.length===0)return!0;if(g?.has(p))return g.get(p)===f;g?.set(p,f);try{for(let w=0;w<x.length;w++){const b=x[w];if(!n.isPrimitive(f)&&!(b in f)||p[b]===void 0&&f[b]!==void 0||p[b]===null&&f[b]!==null||!m(f[b],p[b],b,f,p,g))return!1}return!0}finally{g?.delete(p)}}function l(f,p,m,g){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,w]of p.entries()){const b=f.get(x);if(m(b,w,x,f,p,g)===!1)return!1}return!0}function u(f,p,m,g){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let w=0;w<p.length;w++){const b=p[w];let C=!1;for(let k=0;k<f.length;k++){if(x.has(k))continue;const E=f[k];let N=!1;if(m(E,b,w,f,p,g)&&(N=!0),N){x.add(k),C=!0;break}}if(!C)return!1}return!0}function d(f,p,m,g){return p.size===0?!0:f instanceof Set?u([...f],[...p],m,g):!1}e.isMatchWith=i,e.isSetMatch=d})(hv)),hv}var rA;function X_(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nG();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(pv)),pv}var yv={},xv={},bv={},iA;function rG(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(bv)),bv}var wv={},oA;function mb(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(wv)),wv}var Sv={},aA;function Z_(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",m="[object ArrayBuffer]",g="[object Object]",x="[object Error]",w="[object DataView]",b="[object Uint8Array]",C="[object Uint8ClampedArray]",k="[object Uint16Array]",E="[object Uint32Array]",N="[object BigUint64Array]",j="[object Int8Array]",O="[object Int16Array]",_="[object Int32Array]",D="[object BigInt64Array]",z="[object Float32Array]",q="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=m,e.arrayTag=f,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=x,e.float32ArrayTag=z,e.float64ArrayTag=q,e.functionTag=p,e.int16ArrayTag=O,e.int32ArrayTag=_,e.int8ArrayTag=j,e.mapTag=u,e.numberTag=r,e.objectTag=g,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=k,e.uint32ArrayTag=E,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=C})(Sv)),Sv}var Pv={},sA;function iG(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Pv)),Pv}var lA;function Q_(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rG(),n=mb(),r=Z_(),i=q_(),o=iG();function s(f,p){return l(f,void 0,f,new Map,p)}function l(f,p,m,g=new Map,x=void 0){const w=x?.(f,p,m,g);if(w!==void 0)return w;if(i.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const b=new Array(f.length);g.set(f,b);for(let C=0;C<f.length;C++)b[C]=l(f[C],C,m,g,x);return Object.hasOwn(f,"index")&&(b.index=f.index),Object.hasOwn(f,"input")&&(b.input=f.input),b}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const b=new RegExp(f.source,f.flags);return b.lastIndex=f.lastIndex,b}if(f instanceof Map){const b=new Map;g.set(f,b);for(const[C,k]of f)b.set(C,l(k,C,m,g,x));return b}if(f instanceof Set){const b=new Set;g.set(f,b);for(const C of f)b.add(l(C,void 0,m,g,x));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const b=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,b);for(let C=0;C<f.length;C++)b[C]=l(f[C],C,m,g,x);return b}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const b=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,b),u(b,f,m,g,x),b}if(typeof File<"u"&&f instanceof File){const b=new File([f],f.name,{type:f.type});return g.set(f,b),u(b,f,m,g,x),b}if(typeof Blob<"u"&&f instanceof Blob){const b=new Blob([f],{type:f.type});return g.set(f,b),u(b,f,m,g,x),b}if(f instanceof Error){const b=new f.constructor;return g.set(f,b),b.message=f.message,b.name=f.name,b.stack=f.stack,b.cause=f.cause,u(b,f,m,g,x),b}if(f instanceof Boolean){const b=new Boolean(f.valueOf());return g.set(f,b),u(b,f,m,g,x),b}if(f instanceof Number){const b=new Number(f.valueOf());return g.set(f,b),u(b,f,m,g,x),b}if(f instanceof String){const b=new String(f.valueOf());return g.set(f,b),u(b,f,m,g,x),b}if(typeof f=="object"&&d(f)){const b=Object.create(Object.getPrototypeOf(f));return g.set(f,b),u(b,f,m,g,x),b}return f}function u(f,p,m=f,g,x){const w=[...Object.keys(p),...t.getSymbols(p)];for(let b=0;b<w.length;b++){const C=w[b],k=Object.getOwnPropertyDescriptor(f,C);(k==null||k.writable)&&(f[C]=l(p[C],C,m,g,x))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=u})(xv)),xv}var cA;function oG(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q_();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(yv)),yv}var uA;function aG(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X_(),n=oG();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(fv)),fv}var Cv={},Av={},kv={},dA;function sG(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q_(),n=mb(),r=Z_();function i(o,s){return t.cloneDeepWith(o,(l,u,d,f)=>{const p=s?.(l,u,d,f);if(p!==void 0)return p;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const m={};return f.set(o,m),t.copyProperties(m,o,d,f),m}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new o.constructor(o?.valueOf());return t.copyProperties(m,o),m}case r.argumentsTag:{const m={};return t.copyProperties(m,o),m.length=o.length,m[Symbol.iterator]=o[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=i})(kv)),kv}var fA;function lG(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sG();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Av)),Av}var Ev={},Nv={},pA;function J_(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Nv)),Nv}var Ov={},hA;function cG(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mb();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Ov)),Ov}var mA;function uG(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W_(),n=J_(),r=cG(),i=ub();function o(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&s?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=s;for(let f=0;f<u.length;f++){const p=u[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=o})(Ev)),Ev}var gA;function dG(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X_(),n=cb(),r=lG(),i=db(),o=uG();function s(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const f=i.get(d,l);return f===void 0?o.has(d,l):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=s})(Cv)),Cv}var vA;function fG(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G_(),n=tG(),r=aG(),i=dG();function o(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=o})(uv)),uv}var yA;function pG(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XH(),n=ZH(),r=G_(),i=eG(),o=fG();function s(l,u=r.identity){return i.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.ary(o.iteratee(u),1)):[]}e.uniqBy=s})(nv)),nv}var jv,xA;function hG(){return xA||(xA=1,jv=pG().uniqBy),jv}var mG=hG();const bA=Xi(mG);function gG(e,t,n){return t===!0?bA(e,n):typeof t=="function"?bA(e,t):e}var Tv={exports:{}},_v={},Dv={exports:{}},Mv={};var wA;function vG(){if(wA)return Mv;wA=1;var e=Hs();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function l(p,m){var g=m(),x=r({inst:{value:g,getSnapshot:m}}),w=x[0].inst,b=x[1];return o(function(){w.value=g,w.getSnapshot=m,u(w)&&b({inst:w})},[p,g,m]),i(function(){return u(w)&&b({inst:w}),p(function(){u(w)&&b({inst:w})})},[p]),s(g),g}function u(p){var m=p.getSnapshot;p=p.value;try{var g=m();return!n(p,g)}catch{return!0}}function d(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Mv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Mv}var SA;function yG(){return SA||(SA=1,Dv.exports=vG()),Dv.exports}var PA;function xG(){if(PA)return _v;PA=1;var e=Hs(),t=yG();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return _v.useSyncExternalStoreWithSelector=function(d,f,p,m,g){var x=o(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function C(O){if(!k){if(k=!0,E=O,O=m(O),g!==void 0&&w.hasValue){var _=w.value;if(g(_,O))return N=_}return N=O}if(_=N,r(E,O))return _;var D=m(O);return g!==void 0&&g(_,D)?(E=O,_):(E=O,N=D)}var k=!1,E,N,j=p===void 0?null:p;return[function(){return C(f())},j===null?void 0:function(){return C(j())}]},[f,p,m,g]);var b=i(d,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=b},[b]),u(b),b},_v}var CA;function bG(){return CA||(CA=1,Tv.exports=xG()),Tv.exports}var wG=bG(),gb=P.createContext(null),SG=e=>e,cn=()=>{var e=P.useContext(gb);return e?e.store.dispatch:SG},hf=()=>{},PG=()=>hf,CG=(e,t)=>e===t;function Fe(e){var t=P.useContext(gb),n=P.useMemo(()=>t?r=>{if(r!=null)return e(r)}:hf,[t,e]);return wG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:PG,t?t.store.getState:hf,t?t.store.getState:hf,n,CG)}function AG(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function kG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function EG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var AA=e=>Array.isArray(e)?e:[e];function NG(e){const t=Array.isArray(e[0])?e[0]:e;return EG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function OG(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var jG=class{constructor(e){this.value=e}deref(){return this.value}},TG=typeof WeakRef<"u"?WeakRef:jG,_G=0,kA=1;function Hd(){return{s:_G,v:void 0,o:null,p:null}}function eD(e,t={}){let n=Hd();const{resultEqualityCheck:r}=t;let i,o=0;function s(){let l=n;const{length:u}=arguments;for(let p=0,m=u;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(g);w===void 0?(l=Hd(),x.set(g,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(g);w===void 0?(l=Hd(),x.set(g,l)):l=w}}const d=l;let f;if(l.s===kA)f=l.v;else if(f=e.apply(null,arguments),o++,r){const p=i?.deref?.()??i;p!=null&&r(p,f)&&(f=p,o!==0&&o--),i=typeof f=="object"&&f!==null||typeof f=="function"?new TG(f):f}return d.s=kA,d.v=f,f}return s.clearCache=()=>{n=Hd(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function DG(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),AG(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...u},{memoize:p,memoizeOptions:m=[],argsMemoize:g=eD,argsMemoizeOptions:x=[]}=f,w=AA(m),b=AA(x),C=NG(i),k=p(function(){return o++,d.apply(null,arguments)},...w),E=g(function(){s++;const j=OG(C,arguments);return l=k.apply(null,j),l},...b);return Object.assign(E,{resultFunc:d,memoizedResultFunc:k,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var J=DG(eD),MG=Object.assign((e,t=J)=>{kG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,l,u)=>(s[n[u]]=l,s),{}))},{withTypes:()=>MG}),Iv={},Rv={},Lv={},EA;function IG(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=t(r),l=t(i);if(s===l&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?l-s:s-l}return 0};e.compareValues=n})(Lv)),Lv}var Fv={},$v={},NA;function tD(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})($v)),$v}var OA;function RG(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tD(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}e.isKey=i})(Fv)),Fv}var jA;function LG(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IG(),n=RG(),r=ub();function i(o,s,l,u){if(o==null)return[];l=u?void 0:l,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(g=>String(g));const d=(g,x)=>{let w=g;for(let b=0;b<x.length&&w!=null;++b)w=w[x[b]];return w},f=(g,x)=>x==null||g==null?x:typeof g=="object"&&"key"in g?Object.hasOwn(x,g.key)?x[g.key]:d(x,g.path):typeof g=="function"?g(x):Array.isArray(g)?d(x,g):typeof x=="object"?x[g]:x,p=s.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||n.isKey(g)?g:{key:g,path:r.toPath(g)}));return o.map(g=>({original:g,criteria:p.map(x=>f(x,g))})).slice().sort((g,x)=>{for(let w=0;w<p.length;w++){const b=t.compareValues(g.criteria[w],x.criteria[w],l[w]);if(b!==0)return b}return 0}).map(g=>g.original)}e.orderBy=i})(Rv)),Rv}var Bv={},TA;function FG(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),s=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<o?s(f,u+1):i.push(f)}};return s(n,0),i}e.flatten=t})(Bv)),Bv}var zv={},_A;function nD(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J_(),n=hb(),r=K_(),i=Y_();function o(s,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.isEqualsSameValueZero(u[l],s):!1}e.isIterateeCall=o})(zv)),zv}var DA;function $G(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LG(),n=FG(),r=nD();function i(o,...s){const l=s.length;return l>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(o,n.flatten(s),["asc"])}e.sortBy=i})(Iv)),Iv}var Wv,MA;function BG(){return MA||(MA=1,Wv=$G().sortBy),Wv}var zG=BG();const Xp=Xi(zG);var rD=e=>e.legend.settings,WG=e=>e.legend.size,VG=e=>e.legend.payload;J([VG,rD],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Xp(r,n):r});var Gd=1;function UG(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=P.useState({height:0,left:0,top:0,width:0}),r=P.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-t.height)>Gd||Math.abs(s.left-t.left)>Gd||Math.abs(s.top-t.top)>Gd||Math.abs(s.width-t.width)>Gd)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var iD=Symbol.for("immer-nothing"),IA=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function Hr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sr=Object,Bs=sr.getPrototypeOf,Vf="constructor",Zp="prototype",s0="configurable",Uf="enumerable",mf="writable",Dc="value",Ui=e=>!!e&&!!e[$n];function Zr(e){return e?oD(e)||Jp(e)||!!e[IA]||!!e[Vf]?.[IA]||eh(e)||th(e):!1}var HG=sr[Zp][Vf].toString(),RA=new WeakMap;function oD(e){if(!e||!vb(e))return!1;const t=Bs(e);if(t===null||t===sr[Zp])return!0;const n=sr.hasOwnProperty.call(t,Vf)&&t[Vf];if(n===Object)return!0;if(!ms(n))return!1;let r=RA.get(n);return r===void 0&&(r=Function.toString.call(n),RA.set(n,r)),r===HG}function Qp(e,t,n=!0){iu(e)===0?(n?Reflect.ownKeys(e):sr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function iu(e){const t=e[$n];return t?t.type_:Jp(e)?1:eh(e)?2:th(e)?3:0}var LA=(e,t,n=iu(e))=>n===2?e.has(t):sr[Zp].hasOwnProperty.call(e,t),l0=(e,t,n=iu(e))=>n===2?e.get(t):e[t],Hf=(e,t,n,r=iu(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function GG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Jp=Array.isArray,eh=e=>e instanceof Map,th=e=>e instanceof Set,vb=e=>typeof e=="object",ms=e=>typeof e=="function",Vv=e=>typeof e=="boolean";function KG(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Mi=e=>e.copy_||e.base_,yb=e=>e.modified_?e.copy_:e.base_;function c0(e,t){if(eh(e))return new Map(e);if(th(e))return new Set(e);if(Jp(e))return Array[Zp].slice.call(e);const n=oD(e);if(t===!0||t==="class_only"&&!n){const r=sr.getOwnPropertyDescriptors(e);delete r[$n];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],l=r[s];l[mf]===!1&&(l[mf]=!0,l[s0]=!0),(l.get||l.set)&&(r[s]={[s0]:!0,[mf]:!0,[Uf]:l[Uf],[Dc]:e[s]})}return sr.create(Bs(e),r)}else{const r=Bs(e);if(r!==null&&n)return{...e};const i=sr.create(r);return sr.assign(i,e)}}function xb(e,t=!1){return nh(e)||Ui(e)||!Zr(e)||(iu(e)>1&&sr.defineProperties(e,{set:Kd,add:Kd,clear:Kd,delete:Kd}),sr.freeze(e),t&&Qp(e,(n,r)=>{xb(r,!0)},!1)),e}function qG(){Hr(2)}var Kd={[Dc]:qG};function nh(e){return e===null||!vb(e)?!0:sr.isFrozen(e)}var Gf="MapSet",u0="Patches",FA="ArrayMethods",aD={};function Na(e){const t=aD[e];return t||Hr(0,e),t}var $A=e=>!!aD[e],Mc,sD=()=>Mc,YG=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:$A(Gf)?Na(Gf):void 0,arrayMethodsPlugin_:$A(FA)?Na(FA):void 0});function BA(e,t){t&&(e.patchPlugin_=Na(u0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function d0(e){f0(e),e.drafts_.forEach(XG),e.drafts_=null}function f0(e){e===Mc&&(Mc=e.parent_)}var zA=e=>Mc=YG(Mc,e);function XG(e){const t=e[$n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function WA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[$n].modified_&&(d0(t),Hr(4)),Zr(e)&&(e=VA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[$n].base_,e,t)}else e=VA(t,n);return ZG(t,e,!0),d0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==iD?e:void 0}function VA(e,t){if(nh(t))return t;const n=t[$n];if(!n)return Kf(t,e.handledSet_,e);if(!rh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);uD(n,e)}return n.copy_}function ZG(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xb(t,n)}function lD(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var rh=(e,t)=>e.scope_===t,QG=[];function cD(e,t,n,r){const i=Mi(e),o=e.type_;if(r!==void 0&&l0(i,r,o)===t){Hf(i,r,n,o);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Qp(i,(u,d)=>{if(Ui(d)){const f=l.get(d)||[];f.push(u),l.set(d,f)}})}const s=e.draftLocations_.get(t)??QG;for(const l of s)Hf(i,l,n,o)}function JG(e,t,n){e.callbacks_.push(function(i){const o=t;if(!o||!rh(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const s=yb(o);cD(e,o.draft_??o,s,n),uD(o,i)})}function uD(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}lD(e)}}function eK(e,t,n){const{scope_:r}=e;if(Ui(n)){const i=n[$n];rh(i,r)&&i.callbacks_.push(function(){gf(e);const s=yb(i);cD(e,n,s,t)})}else Zr(n)&&e.callbacks_.push(function(){const o=Mi(e);e.type_===3?o.has(n)&&Kf(n,r.handledSet_,r):l0(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Kf(l0(e.copy_,t,e.type_),r.handledSet_,r)})}function Kf(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ui(e)||t.has(e)||!Zr(e)||nh(e)||(t.add(e),Qp(e,(r,i)=>{if(Ui(i)){const o=i[$n];if(rh(o,n)){const s=yb(o);Hf(e,r,s,e.type_),lD(o)}}else Zr(i)&&Kf(i,t,n)})),e}function tK(e,t){const n=Jp(e),r={type_:n?1:0,scope_:t?t.scope_:sD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=qf;n&&(i=[r],o=Ic);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=s,[l,r]}var qf={get(e,t){if(t===$n)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Mi(e);if(!LA(i,t,e.type_))return nK(e,i,t);const o=i[t];if(e.finalized_||!Zr(o)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&KG(t))return o;if(o===Uv(e.base_,t)){gf(e);const s=e.type_===1?+t:t,l=h0(e.scope_,o,e,s);return e.copy_[s]=l}return o},has(e,t){return t in Mi(e)},ownKeys(e){return Reflect.ownKeys(Mi(e))},set(e,t,n){const r=dD(Mi(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Uv(Mi(e),t),o=i?.[$n];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(GG(n,i)&&(n!==void 0||LA(e.base_,t,e.type_)))return!0;gf(e),p0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),eK(e,t,n)),!0},deleteProperty(e,t){return gf(e),Uv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),p0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Mi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[mf]:!0,[s0]:e.type_!==1||t!=="length",[Uf]:r[Uf],[Dc]:n[t]}},defineProperty(){Hr(11)},getPrototypeOf(e){return Bs(e.base_)},setPrototypeOf(){Hr(12)}},Ic={};for(let e in qf){let t=qf[e];Ic[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Ic.deleteProperty=function(e,t){return Ic.set.call(this,e,t,void 0)};Ic.set=function(e,t,n){return qf.set.call(this,e[0],t,n,e[0])};function Uv(e,t){const n=e[$n];return(n?Mi(n):e)[t]}function nK(e,t,n){const r=dD(t,n);return r?Dc in r?r[Dc]:r.get?.call(e.draft_):void 0}function dD(e,t){if(!(t in e))return;let n=Bs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Bs(n)}}function p0(e){e.modified_||(e.modified_=!0,e.parent_&&p0(e.parent_))}function gf(e){e.copy_||(e.assigned_=new Map,e.copy_=c0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ms(n)&&!ms(r)){const s=r;r=n;const l=this;return function(d=s,...f){return l.produce(d,p=>r.call(this,p,...f))}}ms(r)||Hr(6),i!==void 0&&!ms(i)&&Hr(7);let o;if(Zr(n)){const s=zA(this),l=h0(s,n,void 0);let u=!0;try{o=r(l),u=!1}finally{u?d0(s):f0(s)}return BA(s,i),WA(o,s)}else if(!n||!vb(n)){if(o=r(n),o===void 0&&(o=n),o===iD&&(o=void 0),this.autoFreeze_&&xb(o,!0),i){const s=[],l=[];Na(u0).generateReplacementPatches_(n,o,{patches_:s,inversePatches_:l}),i(s,l)}return o}else Hr(1,n)},this.produceWithPatches=(n,r)=>{if(ms(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,o;return[this.produce(n,r,(l,u)=>{i=l,o=u}),i,o]},Vv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Vv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Vv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Zr(t)||Hr(8),Ui(t)&&(t=Yr(t));const n=zA(this),r=h0(n,t,void 0);return r[$n].isManual_=!0,f0(n),r}finishDraft(t,n){const r=t&&t[$n];(!r||!r.isManual_)&&Hr(9);const{scope_:i}=r;return BA(i,n),WA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Na(u0).applyPatches_;return Ui(t)?i(t,n):this.produce(t,o=>i(o,n))}};function h0(e,t,n,r){const[i,o]=eh(t)?Na(Gf).proxyMap_(t,n):th(t)?Na(Gf).proxySet_(t,n):tK(t,n);return(n?.scope_??sD()).drafts_.push(i),o.callbacks_=n?.callbacks_??[],o.key_=r,n&&r!==void 0?JG(n,o,r):o.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:d}=u;o.modified_&&d&&d.generatePatches_(o,[],u)}),i}function Yr(e){return Ui(e)||Hr(10,e),fD(e)}function fD(e){if(!Zr(e)||nh(e))return e;const t=e[$n];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=c0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=c0(e,!0);return Qp(n,(i,o)=>{Hf(n,i,fD(o))},r),t&&(t.finalized_=!1),n}var iK=new rK,pD=iK.produce;function hD(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var oK=hD(),aK=hD,sK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cc:Cc.apply(null,arguments)};function Dr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(dr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>cT(r)&&r.type===e,n}var mD=class sc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,sc.prototype)}static get[Symbol.species](){return sc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new sc(...t[0].concat(this)):new sc(...t.concat(this))}};function UA(e){return Zr(e)?pD(e,()=>{}):e}function qd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function lK(e){return typeof e=="boolean"}var cK=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new mD;return n&&(lK(n)?s.push(oK):s.push(aK(n.extraArgument))),s},gD="RTK_autoBatch",jt=()=>e=>({payload:e,meta:{[gD]:!0}}),HA=e=>t=>{setTimeout(t,e)},vD=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HA(10):e.type==="callback"?e.queueNotification:HA(e.timeout),d=()=>{s=!1,o&&(o=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),m=r.subscribe(p);return l.add(f),()=>{m(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[gD],o=!i,o&&(s||(s=!0,u(d))),r.dispatch(f)}finally{i=!0}}})},uK=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new mD(e);return r&&i.push(vD(typeof r=="object"?r:void 0)),i};function dK(e){const t=cK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Rx(n))l=sT(n);else throw new Error(dr(1));let u;typeof r=="function"?u=r(t):u=t();let d=Cc;i&&(d=sK({trace:!1,...typeof i=="object"&&i}));const f=lT(...u),p=uK(f);let m=typeof s=="function"?s(p):p();const g=d(...m);return Lx(l,o,g)}function yD(e){const t={},n=[];let r;const i={addCase(o,s){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(dr(28));if(l in t)throw new Error(dr(29));return t[l]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function fK(e){return typeof e=="function"}function pK(e,t){let[n,r,i]=yD(t),o;if(fK(e))o=()=>UA(e());else{const l=UA(e);o=()=>l}function s(l=o(),u){let d=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(Ui(f)){const g=p(f,u);return g===void 0?f:g}else{if(Zr(f))return pD(f,m=>p(m,u));{const m=p(f,u);if(m===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return f},l)}return s.getInitialState=o,s}var hK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mK=(e=21)=>{let t="",n=e;for(;n--;)t+=hK[Math.random()*64|0];return t},gK=Symbol.for("rtk-slice-createasyncthunk");function vK(e,t){return`${e}/${t}`}function yK({creators:e}={}){const t=e?.asyncThunk?.[gK];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(dr(11));const s=(typeof r.reducers=="function"?r.reducers(bK()):r.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,N){const j=typeof E=="string"?E:E.type;if(!j)throw new Error(dr(12));if(j in u.sliceCaseReducersByType)throw new Error(dr(13));return u.sliceCaseReducersByType[j]=N,d},addMatcher(E,N){return u.sliceMatchers.push({matcher:E,reducer:N}),d},exposeAction(E,N){return u.actionCreators[E]=N,d},exposeCaseReducer(E,N){return u.sliceCaseReducersByName[E]=N,d}};l.forEach(E=>{const N=s[E],j={reducerName:E,type:vK(i,E),createNotation:typeof r.reducers=="function"};SK(N)?CK(j,N,d,t):wK(j,N,d)});function f(){const[E={},N=[],j=void 0]=typeof r.extraReducers=="function"?yD(r.extraReducers):[r.extraReducers],O={...E,...u.sliceCaseReducersByType};return pK(r.initialState,_=>{for(let D in O)_.addCase(D,O[D]);for(let D of u.sliceMatchers)_.addMatcher(D.matcher,D.reducer);for(let D of N)_.addMatcher(D.matcher,D.reducer);j&&_.addDefaultCase(j)})}const p=E=>E,m=new Map,g=new WeakMap;let x;function w(E,N){return x||(x=f()),x(E,N)}function b(){return x||(x=f()),x.getInitialState()}function C(E,N=!1){function j(_){let D=_[E];return typeof D>"u"&&N&&(D=qd(g,j,b)),D}function O(_=p){const D=qd(m,N,()=>new WeakMap);return qd(D,_,()=>{const z={};for(const[q,G]of Object.entries(r.selectors??{}))z[q]=xK(G,_,()=>qd(g,_,b),N);return z})}return{reducerPath:E,getSelectors:O,get selectors(){return O(j)},selectSlice:j}}const k={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...C(o),injectInto(E,{reducerPath:N,...j}={}){const O=N??o;return E.inject({reducerPath:O,reducer:w},j),{...k,...C(O,!0)}}};return k}}function xK(e,t,n,r){function i(o,...s){let l=t(o);return typeof l>"u"&&r&&(l=n()),e(l,...s)}return i.unwrapped=e,i}var Yn=yK();function bK(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function wK({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!PK(r))throw new Error(dr(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?Dr(e,s):Dr(e))}function SK(e){return e._reducerDefinitionType==="asyncThunk"}function PK(e){return e._reducerDefinitionType==="reducerWithPrepare"}function CK({type:e,reducerName:t},n,r,i){if(!i)throw new Error(dr(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:u,settled:d,options:f}=n,p=i(e,o,f);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:s||Yd,pending:l||Yd,rejected:u||Yd,settled:d||Yd})}function Yd(){}var AK="task",xD="listener",bD="completed",bb="cancelled",kK=`task-${bb}`,EK=`task-${bD}`,m0=`${xD}-${bb}`,NK=`${xD}-${bD}`,ih=class{constructor(e){this.code=e,this.message=`${AK} ${bb} (reason: ${e})`}name="TaskAbortError";message},wb=(e,t)=>{if(typeof e!="function")throw new TypeError(dr(32))},Yf=()=>{},wD=(e,t=Yf)=>(e.catch(t),e),SD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),wa=e=>{if(e.aborted)throw new ih(e.reason)};function PD(e,t){let n=Yf;return new Promise((r,i)=>{const o=()=>i(new ih(e.reason));if(e.aborted){o();return}n=SD(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Yf})}var OK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof ih?"cancelled":"rejected",error:n}}finally{t?.()}},Xf=e=>t=>wD(PD(e,t).then(n=>(wa(e),n))),CD=e=>{const t=Xf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Es}=Object,GA={},oh="listenerMiddleware",jK=(e,t)=>{const n=r=>SD(e,()=>r.abort(e.reason));return(r,i)=>{wb(r);const o=new AbortController;n(o);const s=OK(async()=>{wa(e),wa(o.signal);const l=await r({pause:Xf(o.signal),delay:CD(o.signal),signal:o.signal});return wa(o.signal),l},()=>o.abort(EK));return i?.autoJoin&&t.push(s.catch(Yf)),{result:Xf(e)(s),cancel(){o.abort(kK)}}}},TK=(e,t)=>{const n=async(r,i)=>{wa(t);let o=()=>{};const l=[new Promise((u,d)=>{let f=e({predicate:r,effect:(p,m)=>{m.unsubscribe(),u([p,m.getState(),m.getOriginalState()])}});o=()=>{f(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await PD(t,Promise.race(l));return wa(t),u}finally{o()}};return(r,i)=>wD(n(r,i))},AD=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Dr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(dr(21));return wb(o),{predicate:i,type:t,effect:o}},kD=Es(e=>{const{type:t,predicate:n,effect:r}=AD(e);return{id:mK(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(dr(22))}}},{withTypes:()=>kD}),KA=(e,t)=>{const{type:n,effect:r,predicate:i}=AD(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},g0=e=>{e.pending.forEach(t=>{t.abort(m0)})},_K=(e,t)=>()=>{for(const n of t.keys())g0(n);e.clear()},qA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},ED=Es(Dr(`${oh}/add`),{withTypes:()=>ED}),DK=Dr(`${oh}/removeAll`),ND=Es(Dr(`${oh}/remove`),{withTypes:()=>ND}),MK=(...e)=>{console.error(`${oh}/error`,...e)},ou=(e={})=>{const t=new Map,n=new Map,r=g=>{const x=n.get(g)??0;n.set(g,x+1)},i=g=>{const x=n.get(g)??1;x===1?n.delete(g):n.set(g,x-1)},{extra:o,onError:s=MK}=e;wb(s);const l=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),x=>{g.unsubscribe(),x?.cancelActive&&g0(g)}),u=g=>{const x=KA(t,g)??kD(g);return l(x)};Es(u,{withTypes:()=>u});const d=g=>{const x=KA(t,g);return x&&(x.unsubscribe(),g.cancelActive&&g0(x)),!!x};Es(d,{withTypes:()=>d});const f=async(g,x,w,b)=>{const C=new AbortController,k=TK(u,C.signal),E=[];try{g.pending.add(C),r(g),await Promise.resolve(g.effect(x,Es({},w,{getOriginalState:b,condition:(N,j)=>k(N,j).then(Boolean),take:k,delay:CD(C.signal),pause:Xf(C.signal),extra:o,signal:C.signal,fork:jK(C.signal,E),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((N,j,O)=>{N!==C&&(N.abort(m0),O.delete(N))})},cancel:()=>{C.abort(m0),g.pending.delete(C)},throwIfCancelled:()=>{wa(C.signal)}})))}catch(N){N instanceof ih||qA(s,N,{raisedBy:"effect"})}finally{await Promise.all(E),C.abort(NK),i(g),g.pending.delete(C)}},p=_K(t,n);return{middleware:g=>x=>w=>{if(!cT(w))return x(w);if(ED.match(w))return u(w.payload);if(DK.match(w)){p();return}if(ND.match(w))return d(w.payload);let b=g.getState();const C=()=>{if(b===GA)throw new Error(dr(23));return b};let k;try{if(k=x(w),t.size>0){const E=g.getState(),N=Array.from(t.values());for(const j of N){let O=!1;try{O=j.predicate(w,E,b)}catch(_){O=!1,qA(s,_,{raisedBy:"predicate"})}O&&f(j,w,g,C)}}}finally{b=GA}return k},startListening:u,stopListening:d,clearListeners:p}};function dr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var IK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},OD=Yn({name:"chartLayout",initialState:IK,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:RK,setLayout:LK,setChartSize:FK,setScale:$K}=OD.actions,BK=OD.reducer;function jD(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function et(e){return Number.isFinite(e)}function xi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){zK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zK(e,t,n){return(t=WK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wn(e,t,n){return _n(e)||_n(t)?n:yi(t)?Yp(e,t,n):typeof t=="function"?t(e):n}var UK=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&o!=="center"&&_e(e[o]))return Ss(Ss({},e),{},{[o]:e[o]+(r||0)});if((l==="horizontal"||l==="vertical"&&o==="center")&&s!=="middle"&&_e(e[s]))return Ss(Ss({},e),{},{[s]:e[s]+(i||0)})}return e},wi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",TD=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,o,s=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate));return i||s.push(t),o||s.push(n),s},_D=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:m,axisType:g}=e;if(!s)return null;var x=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(w=g==="angleAxis"&&o&&o.length>=2?Or(o[0]-o[1])*2*w:w,p||m){var b=(p||m||[]).map((C,k)=>{var E=r?r.indexOf(C):C,N=s.map(E);return et(N)?{coordinate:N+w,value:C,offset:w,index:k}:null}).filter(Kn);return b}return u&&d?d.map((C,k)=>{var E=s.map(C);return et(E)?{coordinate:E+w,value:C,index:k,offset:w}:null}).filter(Kn):s.ticks&&f!=null?s.ticks(f).map((C,k)=>{var E=s.map(C);return et(E)?{coordinate:E+w,value:C,index:k,offset:w}:null}).filter(Kn):s.domain().map((C,k)=>{var E=s.map(C);return et(E)?{coordinate:E+w,value:r?r[C]:C,index:k,offset:w}:null}).filter(Kn)},HK=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0,l=0;l<n;++l){var u=e[l],d=u?.[i];if(d!=null){var f=d[1],p=d[0],m=vi(f)?p:f;m>=0?(d[0]=o,o+=m,d[1]=o):(d[0]=s,s+=m,d[1]=s)}}}},GK=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0;s<n;++s){var l=e[s],u=l?.[i];if(u!=null){var d=vi(u[1])?u[0]:u[1];d>=0?(u[0]=o,o+=d,u[1]=o):(u[0]=0,u[1]=0)}}}},KK={sign:HK,expand:IH,none:ka,silhouette:RH,wiggle:LH,positive:GK},qK=(e,t,n)=>{var r,i=(r=KK[n])!==null&&r!==void 0?r:ka,o=MH().keys(t).value((l,u)=>Number(wn(l,u,0))).order(a0).offset(i),s=o(e);return s.forEach((l,u)=>{l.forEach((d,f)=>{var p=wn(e[f],t[u],0);Array.isArray(p)&&p.length===2&&_e(p[0])&&_e(p[1])&&(d[0]=p[0],d[1]=p[1])})}),s};function YK(e){return e==null?void 0:String(e)}function XA(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!_n(i[t.dataKey])){var l=U_(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var u=wn(i,_n(s)?t.dataKey:s),d=t.scale.map(u);return _e(d)?d:null}var XK=e=>{var t=e.flat(2).filter(_e);return[Math.min(...t),Math.max(...t)]},ZK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],QK=(e,t,n)=>{if(e!=null)return ZK(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:s}=o,l=s.reduce((u,d)=>{var f=jD(d,t,n),p=XK(f);return!et(p[0])||!et(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},ZA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Xp(t,f=>f.coordinate),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];o=Math.min((u?.coordinate||0)-(d?.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function JA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return Ss(Ss({},t),{},{dataKey:n,payload:r,value:i,name:o})}function DD(e,t){if(e)return String(e);if(typeof t=="string")return t}var JK=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},eq=(e,t)=>t==="centric"?e.angle:e.radius,Zi=e=>e.layout.width,Qi=e=>e.layout.height,tq=e=>e.layout.scale,MD=e=>e.layout.margin,ah=J(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sh=J(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),nq="data-recharts-item-index",rq="data-recharts-item-id",au=60;function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(n),!0).forEach(function(r){iq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iq(e,t,n){return(t=oq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oq(e){var t=aq(e,"string");return typeof t=="symbol"?t:t+""}function aq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sq=e=>e.brush.height;function lq(e){var t=sh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:au;return n+i}return n},0)}function cq(e){var t=sh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:au;return n+i}return n},0)}function uq(e){var t=ah(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function dq(e){var t=ah(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Sn=J([Zi,Qi,MD,sq,lq,cq,uq,dq,rD,WG],(e,t,n,r,i,o,s,l,u,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+o},p={top:(n.top||0)+s,bottom:(n.bottom||0)+l},m=Xd(Xd({},p),f),g=m.bottom;m.bottom+=r,m=UK(m,u,d);var x=e-m.left-m.right,w=t-m.top-m.bottom;return Xd(Xd({brushBottom:g},m),{},{width:Math.max(x,0),height:Math.max(w,0)})}),fq=J(Sn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ID=J(Zi,Qi,(e,t)=>({x:0,y:0,width:e,height:t})),pq=P.createContext(null),Xn=()=>P.useContext(pq)!=null,lh=e=>e.brush,ch=J([lh,Sn,MD],(e,t,n)=>({height:e.height,x:_e(e.x)?e.x:t.left,y:_e(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:_e(e.width)?e.width:t.width})),Hv={},Gv={},Kv={},tk;function hq(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let s,l=null;const u=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),f=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},p=()=>{d&&f(),w()};let m=null;const g=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,p()},r)},x=()=>{m!==null&&(clearTimeout(m),m=null)},w=()=>{x(),s=void 0,l=null},b=()=>{f()},C=function(...k){if(i?.aborted)return;s=this,l=k;const E=m==null;g(),u&&E&&f()};return C.schedule=g,C.cancel=w,C.flush=b,i?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(Kv)),Kv}var nk;function mq(){return nk||(nk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hq();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:l=!0,maxWait:u}=o,d=Array(2);s&&(d[0]="leading"),l&&(d[1]="trailing");let f,p=null;const m=t.debounce(function(...w){f=r.apply(this,w),p=null},i,{edges:d}),g=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(f=r.apply(this,w),p=Date.now(),m.cancel(),m.schedule(),f):(m.apply(this,w),f)},x=()=>(m.flush(),f);return g.cancel=m.cancel,g.flush=x,g}e.debounce=n})(Gv)),Gv}var rk;function gq(){return rk||(rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mq();function n(r,i=0,o={}){const{leading:s=!0,trailing:l=!0}=o;return t.debounce(r,i,{leading:s,maxWait:i,trailing:l})}e.throttle=n})(Hv)),Hv}var qv,ik;function vq(){return ik||(ik=1,qv=gq().throttle),qv}var yq=vq();const xq=Xi(yq);var Qf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},di={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},RD=(e,t,n)=>{var{width:r=di.width,height:i=di.height,aspect:o,maxHeight:s}=n,l=Ea(r)?e:Number(r),u=Ea(i)?t:Number(i);return o&&o>0&&(l?u=l/o:u&&(l=u*o),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},bq={width:0,height:0,overflow:"visible"},wq={width:0,overflowX:"visible"},Sq={height:0,overflowY:"visible"},Pq={},Cq=e=>{var{width:t,height:n}=e,r=Ea(t),i=Ea(n);return r&&i?bq:r?wq:i?Sq:Pq};function Aq(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i=di.width,o=di.height):i===void 0?i=r&&r>0?void 0:di.width:o===void 0&&(o=r&&r>0?void 0:di.height),{width:i,height:o}}function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0.apply(null,arguments)}function ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ak(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(n),!0).forEach(function(r){kq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kq(e,t,n){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eq(e){var t=Nq(e,"string");return typeof t=="symbol"?t:t+""}function Nq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LD=P.createContext(di.initialDimension);function Oq(e){return xi(e.width)&&xi(e.height)}function FD(e){var{children:t,width:n,height:r}=e,i=P.useMemo(()=>({width:n,height:r}),[n,r]);return Oq(i)?P.createElement(LD.Provider,{value:i},t):null}var Sb=()=>P.useContext(LD),jq=P.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=di.initialDimension,width:i,height:o,minWidth:s=di.minWidth,minHeight:l,maxHeight:u,children:d,debounce:f=di.debounce,id:p,className:m,onResize:g,style:x={}}=e,w=P.useRef(null),b=P.useRef();b.current=g,P.useImperativeHandle(t,()=>w.current);var[C,k]=P.useState({containerWidth:r.width,containerHeight:r.height}),E=P.useCallback((D,z)=>{k(q=>{var G=Math.round(D),F=Math.round(z);return q.containerWidth===G&&q.containerHeight===F?q:{containerWidth:G,containerHeight:F}})},[]);P.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Zs;var D=F=>{var U,fe=F[0];if(fe!=null){var{width:ue,height:be}=fe.contentRect;E(ue,be),(U=b.current)===null||U===void 0||U.call(b,ue,be)}};f>0&&(D=xq(D,f,{trailing:!0,leading:!1}));var z=new ResizeObserver(D),{width:q,height:G}=w.current.getBoundingClientRect();return E(q,G),z.observe(w.current),()=>{z.disconnect()}},[E,f]);var{containerWidth:N,containerHeight:j}=C;Qf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:_}=RD(N,j,{width:i,height:o,aspect:n,maxHeight:u});return Qf(O!=null&&O>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,_,i,o,s,l,n),P.createElement("div",{id:p?"".concat(p):void 0,className:kt("recharts-responsive-container",m),style:ak(ak({},x),{},{width:i,height:o,minWidth:s,minHeight:l,maxHeight:u}),ref:w},P.createElement("div",{style:Cq({width:i,height:o})},P.createElement(FD,{width:O,height:_},d)))}),Tq=P.forwardRef((e,t)=>{var n=Sb();if(xi(n.width)&&xi(n.height))return e.children;var{width:r,height:i}=Aq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:s}=RD(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return _e(o)&&_e(s)?P.createElement(FD,{width:o,height:s},e.children):P.createElement(jq,v0({},e,{width:r,height:i,ref:t}))});function Pb(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var uh=()=>{var e,t=Xn(),n=Fe(fq),r=Fe(ch),i=(e=Fe(lh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},_q={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$D=()=>{var e;return(e=Fe(Sn))!==null&&e!==void 0?e:_q},BD=()=>Fe(Zi),zD=()=>Fe(Qi),_t=e=>e.layout.layoutType,Qs=()=>Fe(_t),Cb=()=>{var e=Qs();if(e==="horizontal"||e==="vertical")return e},WD=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Dq=()=>{var e=Qs();return e!==void 0},su=e=>{var t=cn(),n=Xn(),{width:r,height:i}=e,o=Sb(),s=r,l=i;return o&&(s=o.width>0?o.width:r,l=o.height>0?o.height:i),P.useEffect(()=>{!n&&xi(s)&&xi(l)&&t(FK({width:s,height:l}))},[t,n,s,l]),null},VD=Symbol.for("immer-nothing"),sk=Symbol.for("immer-draftable"),pr=Symbol.for("immer-state");function Gr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rc=Object.getPrototypeOf;function zs(e){return!!e&&!!e[pr]}function Oa(e){return e?UD(e)||Array.isArray(e)||!!e[sk]||!!e.constructor?.[sk]||lu(e)||fh(e):!1}var Mq=Object.prototype.constructor.toString(),lk=new WeakMap;function UD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=lk.get(n);return r===void 0&&(r=Function.toString.call(n),lk.set(n,r)),r===Mq}function Jf(e,t,n=!0){dh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function dh(e){const t=e[pr];return t?t.type_:Array.isArray(e)?1:lu(e)?2:fh(e)?3:0}function y0(e,t){return dh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function HD(e,t,n){const r=dh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Iq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function lu(e){return e instanceof Map}function fh(e){return e instanceof Set}function da(e){return e.copy_||e.base_}function x0(e,t){if(lu(e))return new Map(e);if(fh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=UD(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[pr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(Rc(e),r)}else{const r=Rc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Ab(e,t=!1){return ph(e)||zs(e)||!Oa(e)||(dh(e)>1&&Object.defineProperties(e,{set:Zd,add:Zd,clear:Zd,delete:Zd}),Object.freeze(e),t&&Object.values(e).forEach(n=>Ab(n,!0))),e}function Rq(){Gr(2)}var Zd={value:Rq};function ph(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Lq={};function ja(e){const t=Lq[e];return t||Gr(0,e),t}var Lc;function GD(){return Lc}function Fq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ck(e,t){t&&(ja("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function b0(e){w0(e),e.drafts_.forEach($q),e.drafts_=null}function w0(e){e===Lc&&(Lc=e.parent_)}function uk(e){return Lc=Fq(Lc,e)}function $q(e){const t=e[pr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function dk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[pr].modified_&&(b0(t),Gr(4)),Oa(e)&&(e=ep(t,e),t.parent_||tp(t,e)),t.patches_&&ja("Patches").generateReplacementPatches_(n[pr].base_,e,t.patches_,t.inversePatches_)):e=ep(t,n,[]),b0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VD?e:void 0}function ep(e,t,n){if(ph(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[pr];if(!i)return Jf(t,(o,s)=>fk(e,i,t,o,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return tp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,l=!1;i.type_===3&&(s=new Set(o),o.clear(),l=!0),Jf(s,(u,d)=>fk(e,i,o,u,d,n,l),r),tp(e,o,!1),n&&e.patches_&&ja("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function fk(e,t,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const l=ph(i);if(!(l&&!s)){if(zs(i)){const u=o&&t&&t.type_!==3&&!y0(t.assigned_,r)?o.concat(r):void 0,d=ep(e,i,u);if(HD(n,r,d),zs(d))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Oa(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;ep(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(lu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&tp(e,i)}}}function tp(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ab(t,n)}function Bq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:GD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=kb;n&&(i=[r],o=Fc);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=s,l}var kb={get(e,t){if(t===pr)return e;const n=da(e);if(!y0(n,t))return zq(e,n,t);const r=n[t];return e.finalized_||!Oa(r)?r:r===Yv(e.base_,t)?(Xv(e),e.copy_[t]=P0(r,e)):r},has(e,t){return t in da(e)},ownKeys(e){return Reflect.ownKeys(da(e))},set(e,t,n){const r=KD(da(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Yv(da(e),t),o=i?.[pr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Iq(n,i)&&(n!==void 0||y0(e.base_,t)))return!0;Xv(e),S0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Yv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xv(e),S0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=da(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Gr(11)},getPrototypeOf(e){return Rc(e.base_)},setPrototypeOf(){Gr(12)}},Fc={};Jf(kb,(e,t)=>{Fc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Fc.deleteProperty=function(e,t){return Fc.set.call(this,e,t,void 0)};Fc.set=function(e,t,n){return kb.set.call(this,e[0],t,n,e[0])};function Yv(e,t){const n=e[pr];return(n?da(n):e)[t]}function zq(e,t,n){const r=KD(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function KD(e,t){if(!(t in e))return;let n=Rc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Rc(n)}}function S0(e){e.modified_||(e.modified_=!0,e.parent_&&S0(e.parent_))}function Xv(e){e.copy_||(e.copy_=x0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Wq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(u=o,...d){return s.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&Gr(6),r!==void 0&&typeof r!="function"&&Gr(7);let i;if(Oa(t)){const o=uk(this),s=P0(t,void 0);let l=!0;try{i=n(s),l=!1}finally{l?b0(o):w0(o)}return ck(o,r),dk(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===VD&&(i=void 0),this.autoFreeze_&&Ab(i,!0),r){const o=[],s=[];ja("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Gr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,u=>t(u,...l));let r,i;return[this.produce(t,n,(s,l)=>{r=s,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Oa(e)||Gr(8),zs(e)&&(e=Vq(e));const t=uk(this),n=P0(e,void 0);return n[pr].isManual_=!0,w0(t),n}finishDraft(e,t){const n=e&&e[pr];(!n||!n.isManual_)&&Gr(9);const{scope_:r}=n;return ck(r,t),dk(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ja("Patches").applyPatches_;return zs(e)?r(e,t):this.produce(e,i=>r(i,t))}};function P0(e,t){const n=lu(e)?ja("MapSet").proxyMap_(e,t):fh(e)?ja("MapSet").proxySet_(e,t):Bq(e,t);return(t?t.scope_:GD()).drafts_.push(n),n}function Vq(e){return zs(e)||Gr(10,e),qD(e)}function qD(e){if(!Oa(e)||ph(e))return e;const t=e[pr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=x0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=x0(e,!0);return Jf(n,(i,o)=>{HD(n,i,qD(o))},r),t&&(t.finalized_=!1),n}var Uq=new Wq;Uq.produce;var Hq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YD=Yn({name:"legend",initialState:Hq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:jt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Yr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:jt()},removeLegendPayload:{reducer(e,t){var n=Yr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:jt()}}}),{setLegendSize:ble,setLegendSettings:wle,addLegendPayload:Gq,replaceLegendPayload:Kq,removeLegendPayload:qq}=YD.actions,Yq=YD.reducer;function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C0.apply(null,arguments)}function pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(n),!0).forEach(function(r){Xq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xq(e,t,n){return(t=Zq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zq(e){var t=Qq(e,"string");return typeof t=="symbol"?t:t+""}function Qq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jq(e){return Array.isArray(e)&&yi(e[0])&&yi(e[1])?e.join(" ~ "):e}var us={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},eY=e=>{var{separator:t=us.separator,contentStyle:n,itemStyle:r,labelStyle:i=us.labelStyle,payload:o,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:m=us.accessibilityLayer}=e,g=()=>{if(o&&o.length){var j={padding:0,margin:0},O=(l?Xp(o,l):o).map((_,D)=>{if(_.type==="none")return null;var z=_.formatter||s||Jq,{value:q,name:G}=_,F=q,U=G;if(z){var fe=z(q,G,_,D,o);if(Array.isArray(fe))[F,U]=fe;else if(fe!=null)F=fe;else return null}var ue=Xl(Xl({},us.itemStyle),{},{color:_.color||us.itemStyle.color},r);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ue},yi(U)?P.createElement("span",{className:"recharts-tooltip-item-name"},U):null,yi(U)?P.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,P.createElement("span",{className:"recharts-tooltip-item-value"},F),P.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:j},O)}return null},x=Xl(Xl({},us.contentStyle),n),w=Xl({margin:0},i),b=!_n(f),C=b?f:"",k=kt("recharts-default-tooltip",u),E=kt("recharts-tooltip-label",d);b&&p&&o!==void 0&&o!==null&&(C=p(f,o));var N=m?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",C0({className:k,style:x},N),P.createElement("p",{className:E,style:w},P.isValidElement(C)?C:"".concat(C)),g())},Zl="recharts-tooltip-wrapper",tY={visibility:"hidden"};function nY(e){var{coordinate:t,translateX:n,translateY:r}=e;return kt(Zl,{["".concat(Zl,"-right")]:_e(n)&&t&&_e(t.x)&&n>=t.x,["".concat(Zl,"-left")]:_e(n)&&t&&_e(t.x)&&n<t.x,["".concat(Zl,"-bottom")]:_e(r)&&t&&_e(t.y)&&r>=t.y,["".concat(Zl,"-top")]:_e(r)&&t&&_e(t.y)&&r<t.y})}function hk(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:o,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(o&&_e(o[r]))return o[r];var f=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return s[r]?f:p;var m=u[r];if(m==null)return 0;if(s[r]){var g=f,x=m;return g<x?Math.max(p,m):Math.max(f,m)}if(d==null)return 0;var w=p+l,b=m+d;return w>b?Math.max(f,m):Math.max(p,m)}function rY(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function iY(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,p,m;return l.height>0&&l.width>0&&n?(p=hk({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=hk({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=rY({translateX:p,translateY:m,useTranslate3d:u})):f=tY,{cssProperties:f,cssClasses:nY({translateX:p,translateY:m,coordinate:n})}}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(r){A0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A0(e,t,n){return(t=oY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class sY extends P.PureComponent{constructor(){super(...arguments),A0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),A0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:p,useTranslate3d:m,viewBox:g,wrapperStyle:x,lastBoundingBox:w,innerRef:b,hasPortalFromProps:C}=this.props,k=typeof d=="number"?d:d.x,E=typeof d=="number"?d:d.y,{cssClasses:N,cssProperties:j}=iY({allowEscapeViewBox:n,coordinate:s,offsetLeft:k,offsetTop:E,position:f,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:m,viewBox:g}),O=C?{}:Qd(Qd({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),_=Qd(Qd({},O),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},x);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:_,ref:b},o)}}var XD=()=>{var e;return(e=Fe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(r){lY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lY(e,t,n){return(t=cY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cY(e){var t=uY(e,"string");return typeof t=="symbol"?t:t+""}function uY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yk={curveBasisClosed:PH,curveBasisOpen:CH,curveBasis:SH,curveBumpX:bH,curveBumpY:wH,curveLinearClosed:AH,curveLinear:Kp,curveMonotoneX:kH,curveMonotoneY:EH,curveNatural:NH,curveStep:OH,curveStepAfter:TH,curveStepBefore:jH},np=e=>et(e.x)&&et(e.y),xk=e=>e.base!=null&&np(e.base)&&np(e),Ql=e=>e.x,Jl=e=>e.y,dY=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(fb(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=yk["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return yk[n]||Kp},bk={connectNulls:!1,type:"linear"},fY=e=>{var{type:t=bk.type,points:n=[],baseLine:r,layout:i,connectNulls:o=bk.connectNulls}=e,s=dY(t,i),l=o?n.filter(np):n;if(Array.isArray(r)){var u,d=n.map((x,w)=>vk(vk({},x),{},{base:r[w]}));i==="vertical"?u=Ud().y(Jl).x1(Ql).x0(x=>x.base.x):u=Ud().x(Ql).y1(Jl).y0(x=>x.base.y);var f=u.defined(xk).curve(s),p=o?d.filter(xk):d;return f(p)}var m;i==="vertical"&&_e(r)?m=Ud().y(Jl).x1(Ql).x0(r):_e(r)?m=Ud().x(Ql).y1(Jl).y0(r):m=D_().x(Ql).y(Jl);var g=m.defined(np).curve(s);return g(l)},vf=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=Qs();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},l=n&&n.length?fY(s):r;return P.createElement("path",k0({},Xr(e),pb(e),{className:kt("recharts-curve",t),d:l===null?void 0:l,ref:i}))},pY=["x","y","top","left","width","height","className"];function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E0.apply(null,arguments)}function wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(n),!0).forEach(function(r){mY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mY(e,t,n){return(t=gY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yY(e,t){if(e==null)return{};var n,r,i=xY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bY=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),wY=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:l}=e,u=yY(e,pY),d=hY({x:t,y:n,top:r,left:i,width:o,height:s},u);return!_e(t)||!_e(n)||!_e(o)||!_e(s)||!_e(r)||!_e(i)?null:P.createElement("path",E0({},_r(d),{className:kt("recharts-cross",l),d:bY(t,n,o,s,r,i)}))};function SY(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(n),!0).forEach(function(r){PY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PY(e,t,n){return(t=CY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function AY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),EY=(e,t,n)=>e.map(r=>"".concat(kY(r)," ").concat(t,"ms ").concat(n)).join(","),NY=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),$c=(e,t)=>Object.keys(t).reduce((n,r)=>Pk(Pk({},n),{},{[r]:e(r,t[r])}),{});function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(r){OY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OY(e,t,n){return(t=jY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jY(e){var t=TY(e,"string");return typeof t=="symbol"?t:t+""}function TY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rp=(e,t,n)=>e+(t-e)*n,N0=e=>{var{from:t,to:n}=e;return t!==n},ZD=(e,t,n)=>{var r=$c((i,o)=>{if(N0(o)){var[s,l]=e(o.from,o.to,o.velocity);return Xt(Xt({},o),{},{from:s,velocity:l})}return o},t);return n<1?$c((i,o)=>N0(o)&&r[i]!=null?Xt(Xt({},o),{},{velocity:rp(o.velocity,r[i].velocity,n),from:rp(o.from,r[i].from,n)}):o,t):ZD(e,r,n-1)};function _Y(e,t,n,r,i,o){var s,l=r.reduce((m,g)=>Xt(Xt({},m),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),u=()=>$c((m,g)=>g.from,l),d=()=>!Object.values(l).filter(N0).length,f=null,p=m=>{s||(s=m);var g=m-s,x=g/n.dt;l=ZD(n,l,x),i(Xt(Xt(Xt({},e),t),u())),s=m,d()||(f=o.setTimeout(p))};return()=>(f=o.setTimeout(p),()=>{var m;(m=f)===null||m===void 0||m()})}function DY(e,t,n,r,i,o,s){var l=null,u=i.reduce((p,m)=>{var g=e[m],x=t[m];return g==null||x==null?p:Xt(Xt({},p),{},{[m]:[g,x]})},{}),d,f=p=>{d||(d=p);var m=(p-d)/r,g=$c((w,b)=>rp(...b,n(m)),u);if(o(Xt(Xt(Xt({},e),t),g)),m<1)l=s.setTimeout(f);else{var x=$c((w,b)=>rp(...b,n(1)),u);o(Xt(Xt(Xt({},e),t),x))}};return()=>(l=s.setTimeout(f),()=>{var p;(p=l)===null||p===void 0||p()})}const MY=(e,t,n,r,i,o)=>{var s=NY(e,t);return n==null?()=>(i(Xt(Xt({},e),t)),()=>{}):n.isStepper===!0?_Y(e,t,n,s,i,o):DY(e,t,n,r,s,i,o)};var ip=1e-4,QD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],JD=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Ak=(e,t)=>n=>{var r=QD(e,t);return JD(r,n)},IY=(e,t)=>n=>{var r=QD(e,t),i=[...r.map((o,s)=>o*s).slice(1),0];return JD(i,n)},RY=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},LY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=RY(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},FY=(e,t,n,r)=>{var i=Ak(e,n),o=Ak(t,r),s=IY(e,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,p=f,m=0;m<8;++m){var g=i(p)-f,x=s(p);if(Math.abs(g-f)<ip||x<ip)return o(p);p=l(p-g/x)}return o(p)};return u.isStepper=!1,u},kk=function(){return FY(...LY(...arguments))},$Y=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(s,l,u)=>{var d=-(s-l)*n,f=u*r,p=u+(d-f)*i/1e3,m=u*i/1e3+s;return Math.abs(m-l)<ip&&Math.abs(p)<ip?[l,0]:[m,p]};return o.isStepper=!0,o.dt=i,o},BY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kk(e);case"spring":return $Y();default:if(e.split("(")[0]==="cubic-bezier")return kk(e)}return typeof e=="function"?e:null};function zY(e){var t,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(o.bind(null,d),u);return}o(u),i=e.setTimeout(o.bind(null,d));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class WY{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function VY(){return zY(new WY)}var UY=P.createContext(VY);function HY(e,t){var n=P.useContext(UY);return P.useMemo(()=>t??n(e),[e,t,n])}var GY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),cu={isSsr:GY()},KY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Ek={t:0},Zv={t:1};function eM(e){var t=hr(e,KY),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:u,children:d}=t,f=n==="auto"?!cu.isSsr:n,p=HY(t.animationId,t.animationManager),[m,g]=P.useState(f?Ek:Zv),x=P.useRef(null);return P.useEffect(()=>{f||g(Zv)},[f]),P.useEffect(()=>{if(!f||!r)return Zs;var w=MY(Ek,Zv,BY(o),i,g,p.getTimeoutController()),b=()=>{x.current=w()};return p.start([u,s,b,i,l]),()=>{p.stop(),x.current&&x.current(),l()}},[f,r,i,o,s,u,l,p]),d(m.t)}function tM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=P.useRef(_c(t)),r=P.useRef(e);return r.current!==e&&(n.current=_c(t),r.current=e),n.current}var qY=["radius"],YY=["radius"],Nk,Ok,jk,Tk,_k,Dk,Mk,Ik,Rk,Lk;function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(r){XY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XY(e,t,n){return(t=ZY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},op.apply(null,arguments)}function Bk(e,t){if(e==null)return{};var n,r,i=JY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ai(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zk=(e,t,n,r,i)=>{var o=jo(n),s=jo(r),l=Math.min(Math.abs(o)/2,Math.abs(s)/2),u=s>=0?1:-1,d=o>=0?1:-1,f=s>=0&&o>=0||s<0&&o<0?1:0,p;if(l>0&&Array.isArray(i)){for(var m=[0,0,0,0],g=0,x=4;g<x;g++){var w,b=(w=i[g])!==null&&w!==void 0?w:0;m[g]=b>l?l:b}p=vn(Nk||(Nk=ai(["M",",",""])),e,t+u*m[0]),m[0]>0&&(p+=vn(Ok||(Ok=ai(["A ",",",",0,0,",",",",",""])),m[0],m[0],f,e+d*m[0],t)),p+=vn(jk||(jk=ai(["L ",",",""])),e+n-d*m[1],t),m[1]>0&&(p+=vn(Tk||(Tk=ai(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],f,e+n,t+u*m[1])),p+=vn(_k||(_k=ai(["L ",",",""])),e+n,t+r-u*m[2]),m[2]>0&&(p+=vn(Dk||(Dk=ai(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],f,e+n-d*m[2],t+r)),p+=vn(Mk||(Mk=ai(["L ",",",""])),e+d*m[3],t+r),m[3]>0&&(p+=vn(Ik||(Ik=ai(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],f,e,t+r-u*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var C=Math.min(l,i);p=vn(Rk||(Rk=ai(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*C,C,C,f,e+d*C,t,e+n-d*C,t,C,C,f,e+n,t+u*C,e+n,t+r-u*C,C,C,f,e+n-d*C,t+r,e+d*C,t+r,C,C,f,e,t+r-u*C)}else p=vn(Lk||(Lk=ai(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return p},Wk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eX=e=>{var t=hr(e,Wk),n=P.useRef(null),[r,i]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:o,y:s,width:l,height:u,radius:d,className:f}=t,{animationEasing:p,animationDuration:m,animationBegin:g,isAnimationActive:x,isUpdateAnimationActive:w}=t,b=P.useRef(l),C=P.useRef(u),k=P.useRef(o),E=P.useRef(s),N=P.useMemo(()=>({x:o,y:s,width:l,height:u,radius:d}),[o,s,l,u,d]),j=tM(N,"rectangle-");if(o!==+o||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var O=kt("recharts-rectangle",f);if(!w){var _=_r(t),{radius:D}=_,z=Bk(_,qY);return P.createElement("path",op({},z,{x:jo(o),y:jo(s),width:jo(l),height:jo(u),radius:typeof d=="number"?d:void 0,className:O,d:zk(o,s,l,u,d)}))}var q=b.current,G=C.current,F=k.current,U=E.current,fe="0px ".concat(r===-1?1:r,"px"),ue="".concat(r,"px 0px"),be=EY(["strokeDasharray"],m,typeof p=="string"?p:Wk.animationEasing);return P.createElement(eM,{animationId:j,key:j,canBegin:r>0,duration:m,easing:p,isActive:w,begin:g},Q=>{var Y=ui(q,l,Q),re=ui(G,u,Q),te=ui(F,o,Q),R=ui(U,s,Q);n.current&&(b.current=Y,C.current=re,k.current=te,E.current=R);var W;x?Q>0?W={transition:be,strokeDasharray:ue}:W={strokeDasharray:fe}:W={strokeDasharray:ue};var ie=_r(t),{radius:oe}=ie,de=Bk(ie,YY);return P.createElement("path",op({},de,{radius:typeof d=="number"?d:void 0,className:O,d:zk(te,R,Y,re,d),ref:n,style:$k($k({},W),t.style)}))})};function Vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(n),!0).forEach(function(r){tX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tX(e,t,n){return(t=nX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nX(e){var t=rX(e,"string");return typeof t=="symbol"?t:t+""}function rX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ap=Math.PI/180,iX=e=>e*180/Math.PI,bn=(e,t,n,r)=>({x:e+Math.cos(-ap*r)*n,y:t+Math.sin(-ap*r)*n}),oX=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},aX=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},sX=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,s=aX({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,u=Math.acos(l);return r>o&&(u=2*Math.PI-u),{radius:s,angle:iX(u),angleInRadian:u}},lX=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},cX=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return e+s*360},uX=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=sX({x:n,y:r},t),{innerRadius:s,outerRadius:l}=t;if(i<s||i>l||i===0)return null;var{startAngle:u,endAngle:d}=lX(t),f=o,p;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;p=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=u}return p?Uk(Uk({},t),{},{radius:i,angle:cX(f,t)}):null};function nM(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,s=bn(t,n,r,i),l=bn(t,n,r,o);return{points:[s,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var Hk,Gk,Kk,qk,Yk,Xk,Zk;function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(null,arguments)}function ma(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var dX=(e,t)=>{var n=Or(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Jd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:l,cornerIsExternal:u}=e,d=l*(s?1:-1)+r,f=Math.asin(l/d)/ap,p=u?i:i+o*f,m=bn(t,n,d,p),g=bn(t,n,r,p),x=u?i-o*f:i,w=bn(t,n,d*Math.cos(f*ap),x);return{center:m,circleTangency:g,lineTangency:w,theta:f}},rM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=e,l=dX(o,s),u=o+l,d=bn(t,n,i,o),f=bn(t,n,i,u),p=vn(Hk||(Hk=ma(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(l)>180),+(o>u),f.x,f.y);if(r>0){var m=bn(t,n,r,o),g=bn(t,n,r,u);p+=vn(Gk||(Gk=ma(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,r,r,+(Math.abs(l)>180),+(o<=u),m.x,m.y)}else p+=vn(Kk||(Kk=ma(["L ",","," Z"])),t,n);return p},fX=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}=e,f=Or(d-u),{circleTangency:p,lineTangency:m,theta:g}=Jd({cx:t,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),{circleTangency:x,lineTangency:w,theta:b}=Jd({cx:t,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),C=l?Math.abs(u-d):Math.abs(u-d)-g-b;if(C<0)return s?vn(qk||(qk=ma(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,o,o,o*2,o,o,-o*2):rM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var k=vn(Yk||(Yk=ma(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,o,o,+(f<0),p.x,p.y,i,i,+(C>180),+(f<0),x.x,x.y,o,o,+(f<0),w.x,w.y);if(r>0){var{circleTangency:E,lineTangency:N,theta:j}=Jd({cx:t,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),{circleTangency:O,lineTangency:_,theta:D}=Jd({cx:t,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),z=l?Math.abs(u-d):Math.abs(u-d)-j-D;if(z<0&&o===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+=vn(Xk||(Xk=ma(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),_.x,_.y,o,o,+(f<0),O.x,O.y,r,r,+(z>180),+(f>0),E.x,E.y,o,o,+(f<0),N.x,N.y)}else k+=vn(Zk||(Zk=ma(["L",",","Z"])),t,n);return k},pX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hX=e=>{var t=hr(e,pX),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:p}=t;if(o<i||d===f)return null;var m=kt("recharts-sector",p),g=o-i,x=Bo(s,g,0,!0),w;return x>0&&Math.abs(d-f)<360?w=fX({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):w=rM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),P.createElement("path",O0({},_r(t),{className:m,d:w}))};function mX(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(H_(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:s,angle:l}=t,u=bn(r,i,o,l),d=bn(r,i,s,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return nM(t)}}var Qv={},Jv={},ey={},Qk;function gX(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tD();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(ey)),ey}var Jk;function vX(){return Jk||(Jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gX();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Jv)),Jv}var eE;function yX(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nD(),n=vX();function r(i,o,s){s&&typeof s!="number"&&t.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((o-i)/(s||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=s;return u}e.range=r})(Qv)),Qv}var ty,tE;function xX(){return tE||(tE=1,ty=yX().range),ty}var bX=xX();const iM=Xi(bX);function Mo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Eb(e){let t,n,r;e.length!==2?(t=Mo,n=(l,u)=>Mo(e(l),u),r=(l,u)=>e(l)-u):(t=e===Mo||e===wX?e:SX,n=e,r=e);function i(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<0?d=p+1:f=p}while(d<f)}return d}function o(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<=0?d=p+1:f=p}while(d<f)}return d}function s(l,u,d=0,f=l.length){const p=i(l,u,d,f-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:s,right:o}}function SX(){return 0}function oM(e){return e===null?NaN:+e}function*PX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const CX=Eb(Mo),uu=CX.right;Eb(oM).center;class nE extends Map{constructor(t,n=EX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(rE(this,t))}has(t){return super.has(rE(this,t))}set(t,n){return super.set(AX(this,t),n)}delete(t){return super.delete(kX(this,t))}}function rE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function AX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function kX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function EX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NX(e=Mo){if(e===Mo)return aM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function aM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const OX=Math.sqrt(50),jX=Math.sqrt(10),TX=Math.sqrt(2);function sp(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=OX?10:o>=jX?5:o>=TX?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*s,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?sp(e,t,n*2):[l,u,d]}function j0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?sp(t,e,n):sp(e,t,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(s<0)for(let d=0;d<l;++d)u[d]=(o-d)/-s;else for(let d=0;d<l;++d)u[d]=(o-d)*s;else if(s<0)for(let d=0;d<l;++d)u[d]=(i+d)/-s;else for(let d=0;d<l;++d)u[d]=(i+d)*s;return u}function T0(e,t,n){return t=+t,e=+e,n=+n,sp(e,t,n)[2]}function _0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?T0(t,e,n):T0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function iE(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function oE(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function sM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?aM:NX(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,f=Math.log(u),p=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*p*(u-p)/u)*(d-u/2<0?-1:1),g=Math.max(n,Math.floor(t-d*p/u+m)),x=Math.min(r,Math.floor(t+(u-d)*p/u+m));sM(e,t,g,x,i)}const o=e[t];let s=n,l=r;for(ec(e,n,t),i(e[r],o)>0&&ec(e,n,r);s<l;){for(ec(e,s,l),++s,--l;i(e[s],o)<0;)++s;for(;i(e[l],o)>0;)--l}i(e[n],o)===0?ec(e,n,l):(++l,ec(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function ec(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _X(e,t,n){if(e=Float64Array.from(PX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return oE(e);if(t>=1)return iE(e);var r,i=(r-1)*t,o=Math.floor(i),s=iE(sM(e,o).subarray(0,o+1)),l=oE(e.subarray(o+1));return s+(l-s)*(i-o)}}function DX(e,t,n=oM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),l=+n(e[o+1],o+1,e);return s+(l-s)*(i-o)}}function MX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const D0=Symbol("implicit");function Nb(){var e=new nE,t=[],n=[],r=D0;function i(o){let s=e.get(o);if(s===void 0){if(r!==D0)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new nE;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Nb(t,n).unknown(r)},Ir.apply(i,arguments),i}function Ob(){var e=Nb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,l=!1,u=0,d=0,f=.5;delete e.unknown;function p(){var m=t().length,g=i<r,x=g?i:r,w=g?r:i;o=(w-x)/Math.max(1,m-u+d*2),l&&(o=Math.floor(o)),x+=(w-x-o*(m-u))*f,s=o*(1-u),l&&(x=Math.round(x),s=Math.round(s));var b=MX(m).map(function(C){return x+o*C});return n(g?b.reverse():b)}return e.domain=function(m){return arguments.length?(t(m),p()):t()},e.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(m){return arguments.length?(l=!!m,p()):l},e.padding=function(m){return arguments.length?(u=Math.min(1,d=+m),p()):u},e.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),p()):u},e.paddingOuter=function(m){return arguments.length?(d=+m,p()):d},e.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),p()):f},e.copy=function(){return Ob(t(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(f)},Ir.apply(p(),arguments)}function lM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lM(t())},e}function IX(){return lM(Ob.apply(null,arguments).paddingInner(1))}function jb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function cM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function du(){}var Bc=.7,lp=1/Bc,Ns="\\s*([+-]?\\d+)\\s*",zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RX=/^#([0-9a-f]{3,8})$/,LX=new RegExp(`^rgb\\(${Ns},${Ns},${Ns}\\)$`),FX=new RegExp(`^rgb\\(${mi},${mi},${mi}\\)$`),$X=new RegExp(`^rgba\\(${Ns},${Ns},${Ns},${zc}\\)$`),BX=new RegExp(`^rgba\\(${mi},${mi},${mi},${zc}\\)$`),zX=new RegExp(`^hsl\\(${zc},${mi},${mi}\\)$`),WX=new RegExp(`^hsla\\(${zc},${mi},${mi},${zc}\\)$`),aE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jb(du,Wc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sE,formatHex:sE,formatHex8:VX,formatHsl:UX,formatRgb:lE,toString:lE});function sE(){return this.rgb().formatHex()}function VX(){return this.rgb().formatHex8()}function UX(){return uM(this).formatHsl()}function lE(){return this.rgb().formatRgb()}function Wc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=RX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?cE(t):n===3?new qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ef(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ef(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=LX.exec(e))?new qn(t[1],t[2],t[3],1):(t=FX.exec(e))?new qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$X.exec(e))?ef(t[1],t[2],t[3],t[4]):(t=BX.exec(e))?ef(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zX.exec(e))?fE(t[1],t[2]/100,t[3]/100,1):(t=WX.exec(e))?fE(t[1],t[2]/100,t[3]/100,t[4]):aE.hasOwnProperty(e)?cE(aE[e]):e==="transparent"?new qn(NaN,NaN,NaN,0):null}function cE(e){return new qn(e>>16&255,e>>8&255,e&255,1)}function ef(e,t,n,r){return r<=0&&(e=t=n=NaN),new qn(e,t,n,r)}function HX(e){return e instanceof du||(e=Wc(e)),e?(e=e.rgb(),new qn(e.r,e.g,e.b,e.opacity)):new qn}function M0(e,t,n,r){return arguments.length===1?HX(e):new qn(e,t,n,r??1)}function qn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}jb(qn,M0,cM(du,{brighter(e){return e=e==null?lp:Math.pow(lp,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bc:Math.pow(Bc,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qn(Sa(this.r),Sa(this.g),Sa(this.b),cp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uE,formatHex:uE,formatHex8:GX,formatRgb:dE,toString:dE}));function uE(){return`#${ga(this.r)}${ga(this.g)}${ga(this.b)}`}function GX(){return`#${ga(this.r)}${ga(this.g)}${ga(this.b)}${ga((isNaN(this.opacity)?1:this.opacity)*255)}`}function dE(){const e=cp(this.opacity);return`${e===1?"rgb(":"rgba("}${Sa(this.r)}, ${Sa(this.g)}, ${Sa(this.b)}${e===1?")":`, ${e})`}`}function cp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ga(e){return e=Sa(e),(e<16?"0":"")+e.toString(16)}function fE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,n,r)}function uM(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof du||(e=Wc(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new Kr(s,l,u,e.opacity)}function KX(e,t,n,r){return arguments.length===1?uM(e):new Kr(e,t,n,r??1)}function Kr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}jb(Kr,KX,cM(du,{brighter(e){return e=e==null?lp:Math.pow(lp,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bc:Math.pow(Bc,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new qn(ny(e>=240?e-240:e+120,i,r),ny(e,i,r),ny(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Kr(pE(this.h),tf(this.s),tf(this.l),cp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cp(this.opacity);return`${e===1?"hsl(":"hsla("}${pE(this.h)}, ${tf(this.s)*100}%, ${tf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pE(e){return e=(e||0)%360,e<0?e+360:e}function tf(e){return Math.max(0,Math.min(1,e||0))}function ny(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Tb=e=>()=>e;function qX(e,t){return function(n){return e+n*t}}function YX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function XX(e){return(e=+e)==1?dM:function(t,n){return n-t?YX(t,n,e):Tb(isNaN(t)?n:t)}}function dM(e,t){var n=t-e;return n?qX(e,n):Tb(isNaN(e)?t:e)}const hE=(function e(t){var n=XX(t);function r(i,o){var s=n((i=M0(i)).r,(o=M0(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),d=dM(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=u(f),i.opacity=d(f),i+""}}return r.gamma=e,r})(1);function ZX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function QX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function JX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Js(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function eZ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function up(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function tZ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Js(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var I0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ry=new RegExp(I0.source,"g");function nZ(e){return function(){return e}}function rZ(e){return function(t){return e(t)+""}}function iZ(e,t){var n=I0.lastIndex=ry.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(e=e+"",t=t+"";(r=I0.exec(e))&&(i=ry.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:up(r,i)})),n=ry.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?rZ(u[0].x):nZ(t):(t=u.length,function(d){for(var f=0,p;f<t;++f)l[(p=u[f]).i]=p.x(d);return l.join("")})}function Js(e,t){var n=typeof t,r;return t==null||n==="boolean"?Tb(t):(n==="number"?up:n==="string"?(r=Wc(t))?(t=r,hE):iZ:t instanceof Wc?hE:t instanceof Date?eZ:QX(t)?ZX:Array.isArray(t)?JX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tZ:up)(e,t)}function _b(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function oZ(e,t){t===void 0&&(t=e,e=Js);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[l](s-l)}}function aZ(e){return function(){return e}}function dp(e){return+e}var mE=[0,1];function Ln(e){return e}function R0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:aZ(isNaN(t)?NaN:.5)}function sZ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function lZ(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=R0(i,r),o=n(s,o)):(r=R0(r,i),o=n(o,s)),function(l){return o(r(l))}}function cZ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=R0(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(l){var u=uu(e,l,1,r)-1;return o[u](i[u](l))}}function fu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hh(){var e=mE,t=mE,n=Js,r,i,o,s=Ln,l,u,d;function f(){var m=Math.min(e.length,t.length);return s!==Ln&&(s=sZ(e[0],e[m-1])),l=m>2?cZ:lZ,u=d=null,p}function p(m){return m==null||isNaN(m=+m)?o:(u||(u=l(e.map(r),t,n)))(r(s(m)))}return p.invert=function(m){return s(i((d||(d=l(t,e.map(r),up)))(m)))},p.domain=function(m){return arguments.length?(e=Array.from(m,dp),f()):e.slice()},p.range=function(m){return arguments.length?(t=Array.from(m),f()):t.slice()},p.rangeRound=function(m){return t=Array.from(m),n=_b,f()},p.clamp=function(m){return arguments.length?(s=m?!0:Ln,f()):s!==Ln},p.interpolate=function(m){return arguments.length?(n=m,f()):n},p.unknown=function(m){return arguments.length?(o=m,p):o},function(m,g){return r=m,i=g,f()}}function Db(){return hh()(Ln,Ln)}function uZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fp(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ws(e){return e=fp(Math.abs(e)),e?e[1]:NaN}function dZ(e,t){return function(n,r){for(var i=n.length,o=[],s=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[s=(s+1)%e.length];return o.reverse().join(t)}}function fZ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var pZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vc(e){if(!(t=pZ.exec(e)))throw new Error("invalid format: "+e);var t;return new Mb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vc.prototype=Mb.prototype;function Mb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hZ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var pp;function mZ(e,t){var n=fp(e,t);if(!n)return pp=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(pp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fp(e,Math.max(0,t+o-1))[0]}function gE(e,t){var n=fp(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:uZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gE(e*100,t),r:gE,s:mZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yE(e){return e}var xE=Array.prototype.map,bE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gZ(e){var t=e.grouping===void 0||e.thousands===void 0?yE:dZ(xE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?yE:fZ(xE.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(p,m){p=Vc(p);var g=p.fill,x=p.align,w=p.sign,b=p.symbol,C=p.zero,k=p.width,E=p.comma,N=p.precision,j=p.trim,O=p.type;O==="n"?(E=!0,O="g"):vE[O]||(N===void 0&&(N=12),j=!0,O="g"),(C||g==="0"&&x==="=")&&(C=!0,g="0",x="=");var _=(m&&m.prefix!==void 0?m.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),D=(b==="$"?r:/[%p]/.test(O)?s:"")+(m&&m.suffix!==void 0?m.suffix:""),z=vE[O],q=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function G(F){var U=_,fe=D,ue,be,Q;if(O==="c")fe=z(F)+fe,F="";else{F=+F;var Y=F<0||1/F<0;if(F=isNaN(F)?u:z(Math.abs(F),N),j&&(F=hZ(F)),Y&&+F==0&&w!=="+"&&(Y=!1),U=(Y?w==="("?w:l:w==="-"||w==="("?"":w)+U,fe=(O==="s"&&!isNaN(F)&&pp!==void 0?bE[8+pp/3]:"")+fe+(Y&&w==="("?")":""),q){for(ue=-1,be=F.length;++ue<be;)if(Q=F.charCodeAt(ue),48>Q||Q>57){fe=(Q===46?i+F.slice(ue+1):F.slice(ue))+fe,F=F.slice(0,ue);break}}}E&&!C&&(F=t(F,1/0));var re=U.length+F.length+fe.length,te=re<k?new Array(k-re+1).join(g):"";switch(E&&C&&(F=t(te+F,te.length?k-fe.length:1/0),te=""),x){case"<":F=U+F+fe+te;break;case"=":F=U+te+F+fe;break;case"^":F=te.slice(0,re=te.length>>1)+U+F+fe+te.slice(re);break;default:F=te+U+F+fe;break}return o(F)}return G.toString=function(){return p+""},G}function f(p,m){var g=Math.max(-8,Math.min(8,Math.floor(Ws(m)/3)))*3,x=Math.pow(10,-g),w=d((p=Vc(p),p.type="f",p),{suffix:bE[8+g/3]});return function(b){return w(x*b)}}return{format:d,formatPrefix:f}}var nf,Ib,fM;vZ({thousands:",",grouping:[3],currency:["$",""]});function vZ(e){return nf=gZ(e),Ib=nf.format,fM=nf.formatPrefix,nf}function yZ(e){return Math.max(0,-Ws(Math.abs(e)))}function xZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ws(t)/3)))*3-Ws(Math.abs(e)))}function bZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ws(t)-Ws(e))+1}function pM(e,t,n,r){var i=_0(e,t,n),o;switch(r=Vc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=xZ(i,s))&&(r.precision=o),fM(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=bZ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=yZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ib(r)}function Vo(e){var t=e.domain;return e.ticks=function(n){var r=t();return j0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return pM(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],l=r[o],u,d,f=10;for(l<s&&(d=s,s=l,l=d,d=i,i=o,o=d);f-- >0;){if(d=T0(s,l,n),d===u)return r[i]=s,r[o]=l,t(r);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function hM(){var e=Db();return e.copy=function(){return fu(e,hM())},Ir.apply(e,arguments),Vo(e)}function mM(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,dp),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return mM(e).unknown(t)},e=arguments.length?Array.from(e,dp):[0,1],Vo(n)}function gM(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function wE(e){return Math.log(e)}function SE(e){return Math.exp(e)}function wZ(e){return-Math.log(-e)}function SZ(e){return-Math.exp(-e)}function PZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function CZ(e){return e===10?PZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function AZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PE(e){return(t,n)=>-e(-t,n)}function Rb(e){const t=e(wE,SE),n=t.domain;let r=10,i,o;function s(){return i=AZ(r),o=CZ(r),n()[0]<0?(i=PE(i),o=PE(o),e(wZ,SZ)):e(wE,SE),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(n(l),s()):n()},t.ticks=l=>{const u=n();let d=u[0],f=u[u.length-1];const p=f<d;p&&([d,f]=[f,d]);let m=i(d),g=i(f),x,w;const b=l==null?10:+l;let C=[];if(!(r%1)&&g-m<b){if(m=Math.floor(m),g=Math.ceil(g),d>0){for(;m<=g;++m)for(x=1;x<r;++x)if(w=m<0?x/o(-m):x*o(m),!(w<d)){if(w>f)break;C.push(w)}}else for(;m<=g;++m)for(x=r-1;x>=1;--x)if(w=m>0?x/o(-m):x*o(m),!(w<d)){if(w>f)break;C.push(w)}C.length*2<b&&(C=j0(d,f,b))}else C=j0(m,g,Math.min(g-m,b)).map(o);return p?C.reverse():C},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Vc(u)).precision==null&&(u.trim=!0),u=Ib(u)),l===1/0)return u;const d=Math.max(1,r*l/t.ticks().length);return f=>{let p=f/o(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=d?u(f):""}},t.nice=()=>n(gM(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function vM(){const e=Rb(hh()).domain([1,10]);return e.copy=()=>fu(e,vM()).base(e.base()),Ir.apply(e,arguments),e}function CE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lb(e){var t=1,n=e(CE(t),AE(t));return n.constant=function(r){return arguments.length?e(CE(t=+r),AE(t)):t},Vo(n)}function yM(){var e=Lb(hh());return e.copy=function(){return fu(e,yM()).constant(e.constant())},Ir.apply(e,arguments)}function kE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EZ(e){return e<0?-e*e:e*e}function Fb(e){var t=e(Ln,Ln),n=1;function r(){return n===1?e(Ln,Ln):n===.5?e(kZ,EZ):e(kE(n),kE(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Vo(t)}function $b(){var e=Fb(hh());return e.copy=function(){return fu(e,$b()).exponent(e.exponent())},Ir.apply(e,arguments),e}function NZ(){return $b.apply(null,arguments).exponent(.5)}function EE(e){return Math.sign(e)*e*e}function OZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xM(){var e=Db(),t=[0,1],n=!1,r;function i(o){var s=OZ(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(EE(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,dp)).map(EE)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return xM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ir.apply(i,arguments),Vo(i)}function bM(){var e=[],t=[],n=[],r;function i(){var s=0,l=Math.max(1,t.length);for(n=new Array(l-1);++s<l;)n[s-1]=DX(e,s/l);return o}function o(s){return s==null||isNaN(s=+s)?r:t[uu(n,s)]}return o.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Mo),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return bM().domain(e).range(t).unknown(r)},Ir.apply(o,arguments)}function wM(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(u){return u!=null&&u<=u?i[uu(r,u,0,n)]:o}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return wM().domain([e,t]).range(i).unknown(o)},Ir.apply(Vo(s),arguments)}function SM(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[uu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return SM().domain(e).range(t).unknown(n)},Ir.apply(i,arguments)}const iy=new Date,oy=new Date;function Zt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const u=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return u;let d;do u.push(d=new Date(+o)),t(o,l),e(o);while(d<o&&o<s);return u},i.filter=o=>Zt(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!o(s););else for(;--l>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(iy.setTime(+o),oy.setTime(+s),e(iy),e(oy),Math.floor(n(iy,oy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const hp=Zt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);hp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):hp);hp.range;const Ri=1e3,jr=Ri*60,Li=jr*60,Hi=Li*24,Bb=Hi*7,NE=Hi*30,ay=Hi*365,va=Zt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCSeconds());va.range;const zb=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ri)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getMinutes());zb.range;const Wb=Zt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getUTCMinutes());Wb.range;const Vb=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ri-e.getMinutes()*jr)},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getHours());Vb.range;const Ub=Zt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getUTCHours());Ub.range;const pu=Zt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*jr)/Hi,e=>e.getDate()-1);pu.range;const mh=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hi,e=>e.getUTCDate()-1);mh.range;const PM=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hi,e=>Math.floor(e/Hi));PM.range;function Ma(e){return Zt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*jr)/Bb)}const gh=Ma(0),mp=Ma(1),jZ=Ma(2),TZ=Ma(3),Vs=Ma(4),_Z=Ma(5),DZ=Ma(6);gh.range;mp.range;jZ.range;TZ.range;Vs.range;_Z.range;DZ.range;function Ia(e){return Zt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Bb)}const vh=Ia(0),gp=Ia(1),MZ=Ia(2),IZ=Ia(3),Us=Ia(4),RZ=Ia(5),LZ=Ia(6);vh.range;gp.range;MZ.range;IZ.range;Us.range;RZ.range;LZ.range;const Hb=Zt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Hb.range;const Gb=Zt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Gb.range;const Gi=Zt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Gi.range;const Ki=Zt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ki.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ki.range;function CM(e,t,n,r,i,o){const s=[[va,1,Ri],[va,5,5*Ri],[va,15,15*Ri],[va,30,30*Ri],[o,1,jr],[o,5,5*jr],[o,15,15*jr],[o,30,30*jr],[i,1,Li],[i,3,3*Li],[i,6,6*Li],[i,12,12*Li],[r,1,Hi],[r,2,2*Hi],[n,1,Bb],[t,1,NE],[t,3,3*NE],[e,1,ay]];function l(d,f,p){const m=f<d;m&&([d,f]=[f,d]);const g=p&&typeof p.range=="function"?p:u(d,f,p),x=g?g.range(d,+f+1):[];return m?x.reverse():x}function u(d,f,p){const m=Math.abs(f-d)/p,g=Eb(([,,b])=>b).right(s,m);if(g===s.length)return e.every(_0(d/ay,f/ay,p));if(g===0)return hp.every(Math.max(_0(d,f,p),1));const[x,w]=s[m/s[g-1][2]<s[g][2]/m?g-1:g];return x.every(w)}return[l,u]}const[FZ,$Z]=CM(Ki,Gb,vh,PM,Ub,Wb),[BZ,zZ]=CM(Gi,Hb,gh,pu,Vb,zb);function sy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ly(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function WZ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,d=nc(i),f=rc(i),p=nc(o),m=rc(o),g=nc(s),x=rc(s),w=nc(l),b=rc(l),C=nc(u),k=rc(u),E={a:Q,A:Y,b:re,B:te,c:null,d:ME,e:ME,f:dQ,g:wQ,G:PQ,H:lQ,I:cQ,j:uQ,L:AM,m:fQ,M:pQ,p:R,q:W,Q:LE,s:FE,S:hQ,u:mQ,U:gQ,V:vQ,w:yQ,W:xQ,x:null,X:null,y:bQ,Y:SQ,Z:CQ,"%":RE},N={a:ie,A:oe,b:de,B:X,c:null,d:IE,e:IE,f:NQ,g:FQ,G:BQ,H:AQ,I:kQ,j:EQ,L:EM,m:OQ,M:jQ,p:B,q:ee,Q:LE,s:FE,S:TQ,u:_Q,U:DQ,V:MQ,w:IQ,W:RQ,x:null,X:null,y:LQ,Y:$Q,Z:zQ,"%":RE},j={a:q,A:G,b:F,B:U,c:fe,d:_E,e:_E,f:iQ,g:TE,G:jE,H:DE,I:DE,j:eQ,L:rQ,m:JZ,M:tQ,p:z,q:QZ,Q:aQ,s:sQ,S:nQ,u:KZ,U:qZ,V:YZ,w:GZ,W:XZ,x:ue,X:be,y:TE,Y:jE,Z:ZZ,"%":oQ};E.x=O(n,E),E.X=O(r,E),E.c=O(t,E),N.x=O(n,N),N.X=O(r,N),N.c=O(t,N);function O(L,ne){return function(pe){var I=[],Ce=-1,we=0,Ye=L.length,ze,rt,vt;for(pe instanceof Date||(pe=new Date(+pe));++Ce<Ye;)L.charCodeAt(Ce)===37&&(I.push(L.slice(we,Ce)),(rt=OE[ze=L.charAt(++Ce)])!=null?ze=L.charAt(++Ce):rt=ze==="e"?" ":"0",(vt=ne[ze])&&(ze=vt(pe,rt)),I.push(ze),we=Ce+1);return I.push(L.slice(we,Ce)),I.join("")}}function _(L,ne){return function(pe){var I=tc(1900,void 0,1),Ce=D(I,L,pe+="",0),we,Ye;if(Ce!=pe.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(ne&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(we=ly(tc(I.y,0,1)),Ye=we.getUTCDay(),we=Ye>4||Ye===0?gp.ceil(we):gp(we),we=mh.offset(we,(I.V-1)*7),I.y=we.getUTCFullYear(),I.m=we.getUTCMonth(),I.d=we.getUTCDate()+(I.w+6)%7):(we=sy(tc(I.y,0,1)),Ye=we.getDay(),we=Ye>4||Ye===0?mp.ceil(we):mp(we),we=pu.offset(we,(I.V-1)*7),I.y=we.getFullYear(),I.m=we.getMonth(),I.d=we.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),Ye="Z"in I?ly(tc(I.y,0,1)).getUTCDay():sy(tc(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(Ye+5)%7:I.w+I.U*7-(Ye+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,ly(I)):sy(I)}}function D(L,ne,pe,I){for(var Ce=0,we=ne.length,Ye=pe.length,ze,rt;Ce<we;){if(I>=Ye)return-1;if(ze=ne.charCodeAt(Ce++),ze===37){if(ze=ne.charAt(Ce++),rt=j[ze in OE?ne.charAt(Ce++):ze],!rt||(I=rt(L,pe,I))<0)return-1}else if(ze!=pe.charCodeAt(I++))return-1}return I}function z(L,ne,pe){var I=d.exec(ne.slice(pe));return I?(L.p=f.get(I[0].toLowerCase()),pe+I[0].length):-1}function q(L,ne,pe){var I=g.exec(ne.slice(pe));return I?(L.w=x.get(I[0].toLowerCase()),pe+I[0].length):-1}function G(L,ne,pe){var I=p.exec(ne.slice(pe));return I?(L.w=m.get(I[0].toLowerCase()),pe+I[0].length):-1}function F(L,ne,pe){var I=C.exec(ne.slice(pe));return I?(L.m=k.get(I[0].toLowerCase()),pe+I[0].length):-1}function U(L,ne,pe){var I=w.exec(ne.slice(pe));return I?(L.m=b.get(I[0].toLowerCase()),pe+I[0].length):-1}function fe(L,ne,pe){return D(L,t,ne,pe)}function ue(L,ne,pe){return D(L,n,ne,pe)}function be(L,ne,pe){return D(L,r,ne,pe)}function Q(L){return s[L.getDay()]}function Y(L){return o[L.getDay()]}function re(L){return u[L.getMonth()]}function te(L){return l[L.getMonth()]}function R(L){return i[+(L.getHours()>=12)]}function W(L){return 1+~~(L.getMonth()/3)}function ie(L){return s[L.getUTCDay()]}function oe(L){return o[L.getUTCDay()]}function de(L){return u[L.getUTCMonth()]}function X(L){return l[L.getUTCMonth()]}function B(L){return i[+(L.getUTCHours()>=12)]}function ee(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var ne=O(L+="",E);return ne.toString=function(){return L},ne},parse:function(L){var ne=_(L+="",!1);return ne.toString=function(){return L},ne},utcFormat:function(L){var ne=O(L+="",N);return ne.toString=function(){return L},ne},utcParse:function(L){var ne=_(L+="",!0);return ne.toString=function(){return L},ne}}}var OE={"-":"",_:" ",0:"0"},un=/^\s*\d+/,VZ=/^%/,UZ=/[\\^$*+?|[\]().{}]/g;function ot(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function HZ(e){return e.replace(UZ,"\\$&")}function nc(e){return new RegExp("^(?:"+e.map(HZ).join("|")+")","i")}function rc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function GZ(e,t,n){var r=un.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function KZ(e,t,n){var r=un.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function qZ(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function YZ(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function XZ(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function jE(e,t,n){var r=un.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function TE(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ZZ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function QZ(e,t,n){var r=un.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function JZ(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function _E(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function eQ(e,t,n){var r=un.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function DE(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tQ(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function nQ(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function rQ(e,t,n){var r=un.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function iQ(e,t,n){var r=un.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function oQ(e,t,n){var r=VZ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function aQ(e,t,n){var r=un.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function sQ(e,t,n){var r=un.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ME(e,t){return ot(e.getDate(),t,2)}function lQ(e,t){return ot(e.getHours(),t,2)}function cQ(e,t){return ot(e.getHours()%12||12,t,2)}function uQ(e,t){return ot(1+pu.count(Gi(e),e),t,3)}function AM(e,t){return ot(e.getMilliseconds(),t,3)}function dQ(e,t){return AM(e,t)+"000"}function fQ(e,t){return ot(e.getMonth()+1,t,2)}function pQ(e,t){return ot(e.getMinutes(),t,2)}function hQ(e,t){return ot(e.getSeconds(),t,2)}function mQ(e){var t=e.getDay();return t===0?7:t}function gQ(e,t){return ot(gh.count(Gi(e)-1,e),t,2)}function kM(e){var t=e.getDay();return t>=4||t===0?Vs(e):Vs.ceil(e)}function vQ(e,t){return e=kM(e),ot(Vs.count(Gi(e),e)+(Gi(e).getDay()===4),t,2)}function yQ(e){return e.getDay()}function xQ(e,t){return ot(mp.count(Gi(e)-1,e),t,2)}function bQ(e,t){return ot(e.getFullYear()%100,t,2)}function wQ(e,t){return e=kM(e),ot(e.getFullYear()%100,t,2)}function SQ(e,t){return ot(e.getFullYear()%1e4,t,4)}function PQ(e,t){var n=e.getDay();return e=n>=4||n===0?Vs(e):Vs.ceil(e),ot(e.getFullYear()%1e4,t,4)}function CQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ot(t/60|0,"0",2)+ot(t%60,"0",2)}function IE(e,t){return ot(e.getUTCDate(),t,2)}function AQ(e,t){return ot(e.getUTCHours(),t,2)}function kQ(e,t){return ot(e.getUTCHours()%12||12,t,2)}function EQ(e,t){return ot(1+mh.count(Ki(e),e),t,3)}function EM(e,t){return ot(e.getUTCMilliseconds(),t,3)}function NQ(e,t){return EM(e,t)+"000"}function OQ(e,t){return ot(e.getUTCMonth()+1,t,2)}function jQ(e,t){return ot(e.getUTCMinutes(),t,2)}function TQ(e,t){return ot(e.getUTCSeconds(),t,2)}function _Q(e){var t=e.getUTCDay();return t===0?7:t}function DQ(e,t){return ot(vh.count(Ki(e)-1,e),t,2)}function NM(e){var t=e.getUTCDay();return t>=4||t===0?Us(e):Us.ceil(e)}function MQ(e,t){return e=NM(e),ot(Us.count(Ki(e),e)+(Ki(e).getUTCDay()===4),t,2)}function IQ(e){return e.getUTCDay()}function RQ(e,t){return ot(gp.count(Ki(e)-1,e),t,2)}function LQ(e,t){return ot(e.getUTCFullYear()%100,t,2)}function FQ(e,t){return e=NM(e),ot(e.getUTCFullYear()%100,t,2)}function $Q(e,t){return ot(e.getUTCFullYear()%1e4,t,4)}function BQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Us(e):Us.ceil(e),ot(e.getUTCFullYear()%1e4,t,4)}function zQ(){return"+0000"}function RE(){return"%"}function LE(e){return+e}function FE(e){return Math.floor(+e/1e3)}var ds,OM,jM;WQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WQ(e){return ds=WZ(e),OM=ds.format,ds.parse,jM=ds.utcFormat,ds.utcParse,ds}function VQ(e){return new Date(e)}function UQ(e){return e instanceof Date?+e:+new Date(+e)}function Kb(e,t,n,r,i,o,s,l,u,d){var f=Db(),p=f.invert,m=f.domain,g=d(".%L"),x=d(":%S"),w=d("%I:%M"),b=d("%I %p"),C=d("%a %d"),k=d("%b %d"),E=d("%B"),N=d("%Y");function j(O){return(u(O)<O?g:l(O)<O?x:s(O)<O?w:o(O)<O?b:r(O)<O?i(O)<O?C:k:n(O)<O?E:N)(O)}return f.invert=function(O){return new Date(p(O))},f.domain=function(O){return arguments.length?m(Array.from(O,UQ)):m().map(VQ)},f.ticks=function(O){var _=m();return e(_[0],_[_.length-1],O??10)},f.tickFormat=function(O,_){return _==null?j:d(_)},f.nice=function(O){var _=m();return(!O||typeof O.range!="function")&&(O=t(_[0],_[_.length-1],O??10)),O?m(gM(_,O)):f},f.copy=function(){return fu(f,Kb(e,t,n,r,i,o,s,l,u,d))},f}function HQ(){return Ir.apply(Kb(BZ,zZ,Gi,Hb,gh,pu,Vb,zb,va,OM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GQ(){return Ir.apply(Kb(FZ,$Z,Ki,Gb,vh,mh,Ub,Wb,va,jM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yh(){var e=0,t=1,n,r,i,o,s=Ln,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:s(i===0?.5:(p=(o(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(s=p,d):s};function f(p){return function(m){var g,x;return arguments.length?([g,x]=m,s=p(g,x),d):[s(0),s(1)]}}return d.range=f(Js),d.rangeRound=f(_b),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return o=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),d}}function Uo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function TM(){var e=Vo(yh()(Ln));return e.copy=function(){return Uo(e,TM())},Ji.apply(e,arguments)}function _M(){var e=Rb(yh()).domain([1,10]);return e.copy=function(){return Uo(e,_M()).base(e.base())},Ji.apply(e,arguments)}function DM(){var e=Lb(yh());return e.copy=function(){return Uo(e,DM()).constant(e.constant())},Ji.apply(e,arguments)}function qb(){var e=Fb(yh());return e.copy=function(){return Uo(e,qb()).exponent(e.exponent())},Ji.apply(e,arguments)}function KQ(){return qb.apply(null,arguments).exponent(.5)}function MM(){var e=[],t=Ln;function n(r){if(r!=null&&!isNaN(r=+r))return t((uu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Mo),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>_X(e,o/r))},n.copy=function(){return MM(t).domain(e)},Ji.apply(n,arguments)}function xh(){var e=0,t=.5,n=1,r=1,i,o,s,l,u,d=Ln,f,p=!1,m;function g(w){return isNaN(w=+w)?m:(w=.5+((w=+f(w))-o)*(r*w<r*o?l:u),d(p?Math.max(0,Math.min(1,w)):w))}g.domain=function(w){return arguments.length?([e,t,n]=w,i=f(e=+e),o=f(t=+t),s=f(n=+n),l=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,g):[e,t,n]},g.clamp=function(w){return arguments.length?(p=!!w,g):p},g.interpolator=function(w){return arguments.length?(d=w,g):d};function x(w){return function(b){var C,k,E;return arguments.length?([C,k,E]=b,d=oZ(w,[C,k,E]),g):[d(0),d(.5),d(1)]}}return g.range=x(Js),g.rangeRound=x(_b),g.unknown=function(w){return arguments.length?(m=w,g):m},function(w){return f=w,i=w(e),o=w(t),s=w(n),l=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,g}}function IM(){var e=Vo(xh()(Ln));return e.copy=function(){return Uo(e,IM())},Ji.apply(e,arguments)}function RM(){var e=Rb(xh()).domain([.1,1,10]);return e.copy=function(){return Uo(e,RM()).base(e.base())},Ji.apply(e,arguments)}function LM(){var e=Lb(xh());return e.copy=function(){return Uo(e,LM()).constant(e.constant())},Ji.apply(e,arguments)}function Yb(){var e=Fb(xh());return e.copy=function(){return Uo(e,Yb()).exponent(e.exponent())},Ji.apply(e,arguments)}function qQ(){return Yb.apply(null,arguments).exponent(.5)}const lc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ob,scaleDiverging:IM,scaleDivergingLog:RM,scaleDivergingPow:Yb,scaleDivergingSqrt:qQ,scaleDivergingSymlog:LM,scaleIdentity:mM,scaleImplicit:D0,scaleLinear:hM,scaleLog:vM,scaleOrdinal:Nb,scalePoint:IX,scalePow:$b,scaleQuantile:bM,scaleQuantize:wM,scaleRadial:xM,scaleSequential:TM,scaleSequentialLog:_M,scaleSequentialPow:qb,scaleSequentialQuantile:MM,scaleSequentialSqrt:KQ,scaleSequentialSymlog:DM,scaleSqrt:NZ,scaleSymlog:yM,scaleThreshold:SM,scaleTime:HQ,scaleUtc:GQ,tickFormat:pM},Symbol.toStringTag,{value:"Module"}));var eo=e=>e.chartData,FM=J([eo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$M=(e,t,n,r)=>r?FM(e):eo(e),YQ=(e,t,n)=>n?FM(e):eo(e);function qi(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(et(t)&&et(n))return!0}return!1}function $E(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function BM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(et(n))i=n;else if(typeof n=="function")return;if(et(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(qi(s))return s}}function XQ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(qi(r))return $E(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,s,l;if(i==="auto")t!=null&&(s=Math.min(...t));else if(_e(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&ZA.test(i)){var u=ZA.exec(i);if(u==null||u[1]==null||t==null)s=void 0;else{var d=+u[1];s=t[0]-d}}else s=t?.[0];if(o==="auto")t!=null&&(l=Math.max(...t));else if(_e(o))l=o;else if(typeof o=="function")try{t!=null&&(l=o(t?.[1]))}catch{}else if(typeof o=="string"&&QA.test(o)){var f=QA.exec(o);if(f==null||f[1]==null||t==null)l=void 0;else{var p=+f[1];l=t[1]+p}}else l=t?.[1];var m=[s,l];if(qi(m))return t==null?m:$E(m,t,n)}}}var el=1e9,ZQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zb,Tt=!0,Mr="[DecimalError] ",Pa=Mr+"Invalid argument: ",Xb=Mr+"Exponent out of range: ",tl=Math.floor,fa=Math.pow,QQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,or,an=1e7,Ct=7,zM=9007199254740991,vp=tl(zM/Ct),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ct;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(e){return Bi(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,n=t.constructor;return gt(Bi(t,new n(e),0,1),n.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return Gt(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(or))throw Error(Mr+"NaN");if(n.s<1)throw Error(Mr+(n.s?"NaN":"-Infinity"));return n.eq(or)?new r(0):(Tt=!1,t=Bi(Uc(n,o),Uc(e,o),o),Tt=!0,gt(t,i))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UM(t,e):WM(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Mr+"NaN");return n.s?(Tt=!1,t=Bi(n,e,0,1).times(e),Tt=!0,n.minus(t)):gt(new r(n),i)};ke.naturalExponential=ke.exp=function(){return VM(this)};ke.naturalLogarithm=ke.ln=function(){return Uc(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WM(t,e):UM(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Pa+e);if(t=Gt(i)+1,r=i.d.length-1,n=r*Ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ke.squareRoot=ke.sqrt=function(){var e,t,n,r,i,o,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Mr+"NaN")}for(e=Gt(l),Tt=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=fi(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=tl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(o=r,r=o.plus(Bi(l,o,s+2)).times(.5),fi(o.d).slice(0,s)===(t=fi(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(gt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(t!="9999")break;s+=4}return Tt=!0,gt(r,n)};ke.times=ke.mul=function(e){var t,n,r,i,o,s,l,u,d,f=this,p=f.constructor,m=f.d,g=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,n=f.e+e.e,u=m.length,d=g.length,u<d&&(o=m,m=g,g=o,s=u,u=d,d=s),o=[],s=u+d,r=s;r--;)o.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)l=o[i]+g[r]*m[i-r-1]+t,o[i--]=l%an|0,t=l/an|0;o[i]=(o[i]+t)%an|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Tt?gt(e,p.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(bi(e,0,el),t===void 0?t=r.rounding:bi(t,0,8),gt(n,e+Gt(n)+1,t))};ke.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ta(r,!0):(bi(e,0,el),t===void 0?t=i.rounding:bi(t,0,8),r=gt(new i(r),e+1,t),n=Ta(r,!0,e+1)),n};ke.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Ta(i):(bi(e,0,el),t===void 0?t=o.rounding:bi(t,0,8),r=gt(new o(i),e+Gt(i)+1,t),n=Ta(r.abs(),!1,e+Gt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return gt(new t(e),Gt(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,n,r,i,o,s,l=this,u=l.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(or);if(l=new u(l),!l.s){if(e.s<1)throw Error(Mr+"Infinity");return l}if(l.eq(or))return l;if(r=u.precision,e.eq(or))return gt(l,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=l.s,s){if((n=f<0?-f:f)<=zM){for(i=new u(or),t=Math.ceil(r/Ct+4),Tt=!1;n%2&&(i=i.times(l),zE(i.d,t)),n=tl(n/2),n!==0;)l=l.times(l),zE(l.d,t);return Tt=!0,e.s<0?new u(or).div(i):gt(i,r)}}else if(o<0)throw Error(Mr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Tt=!1,i=e.times(Uc(l,r+d)),Tt=!0,i=VM(i),i.s=o,i};ke.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Gt(i),r=Ta(i,n<=o.toExpNeg||n>=o.toExpPos)):(bi(e,1,el),t===void 0?t=o.rounding:bi(t,0,8),i=gt(new o(i),e,t),n=Gt(i),r=Ta(i,e<=n||n<=o.toExpNeg,e)),r};ke.toSignificantDigits=ke.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(bi(e,1,el),t===void 0?t=r.rounding:bi(t,0,8)),gt(new r(n),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Gt(e),n=e.constructor;return Ta(e,t<=n.toExpNeg||t>=n.toExpPos)};function WM(e,t){var n,r,i,o,s,l,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Tt?gt(t,p):t;if(u=e.d,d=t.d,s=e.e,i=t.e,u=u.slice(),o=s-i,o){for(o<0?(r=u,o=-o,l=d.length):(r=d,i=s,l=u.length),s=Math.ceil(p/Ct),l=s>l?s+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=u.length,o=d.length,l-o<0&&(o=l,r=d,d=u,u=r),n=0;o;)n=(u[--o]=u[o]+d[o]+n)/an|0,u[o]%=an;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,Tt?gt(t,p):t}function bi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Pa+e)}function fi(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=Ct-r.length,n&&(o+=Eo(n)),o+=r;s=e[t],r=s+"",n=Ct-r.length,n&&(o+=Eo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Bi=(function(){function e(r,i){var o,s=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+s,r[l]=o%an|0,s=o/an|0;return s&&r.unshift(s),r}function t(r,i,o,s){var l,u;if(o!=s)u=o>s?1:-1;else for(l=u=0;l<o;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*an+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var l,u,d,f,p,m,g,x,w,b,C,k,E,N,j,O,_,D,z=r.constructor,q=r.s==i.s?1:-1,G=r.d,F=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Mr+"Division by zero");for(u=r.e-i.e,_=F.length,j=G.length,g=new z(q),x=g.d=[],d=0;F[d]==(G[d]||0);)++d;if(F[d]>(G[d]||0)&&--u,o==null?k=o=z.precision:s?k=o+(Gt(r)-Gt(i))+1:k=o,k<0)return new z(0);if(k=k/Ct+2|0,d=0,_==1)for(f=0,F=F[0],k++;(d<j||f)&&k--;d++)E=f*an+(G[d]||0),x[d]=E/F|0,f=E%F|0;else{for(f=an/(F[0]+1)|0,f>1&&(F=e(F,f),G=e(G,f),_=F.length,j=G.length),N=_,w=G.slice(0,_),b=w.length;b<_;)w[b++]=0;D=F.slice(),D.unshift(0),O=F[0],F[1]>=an/2&&++O;do f=0,l=t(F,w,_,b),l<0?(C=w[0],_!=b&&(C=C*an+(w[1]||0)),f=C/O|0,f>1?(f>=an&&(f=an-1),p=e(F,f),m=p.length,b=w.length,l=t(p,w,m,b),l==1&&(f--,n(p,_<m?D:F,m))):(f==0&&(l=f=1),p=F.slice()),m=p.length,m<b&&p.unshift(0),n(w,p,b),l==-1&&(b=w.length,l=t(F,w,_,b),l<1&&(f++,n(w,_<b?D:F,b))),b=w.length):l===0&&(f++,w=[0]),x[d++]=f,l&&w[0]?w[b++]=G[N]||0:(w=[G[N]],b=1);while((N++<j||w[0]!==void 0)&&k--)}return x[0]||x.shift(),g.e=u,gt(g,s?o+Gt(g)+1:o)}})();function VM(e,t){var n,r,i,o,s,l,u=0,d=0,f=e.constructor,p=f.precision;if(Gt(e)>16)throw Error(Xb+Gt(e));if(!e.s)return new f(or);for(Tt=!1,l=p,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(r=Math.log(fa(2,d))/Math.LN10*2+5|0,l+=r,n=i=o=new f(or),f.precision=l;;){if(i=gt(i.times(e),l),n=n.times(++u),s=o.plus(Bi(i,n,l)),fi(s.d).slice(0,l)===fi(o.d).slice(0,l)){for(;d--;)o=gt(o.times(o),l);return f.precision=p,t==null?(Tt=!0,gt(o,p)):o}o=s}}function Gt(e){for(var t=e.e*Ct,n=e.d[0];n>=10;n/=10)t++;return t}function cy(e,t,n){if(t>e.LN10.sd())throw Tt=!0,n&&(e.precision=n),Error(Mr+"LN10 precision limit exceeded");return gt(new e(e.LN10),t)}function Eo(e){for(var t="";e--;)t+="0";return t}function Uc(e,t){var n,r,i,o,s,l,u,d,f,p=1,m=10,g=e,x=g.d,w=g.constructor,b=w.precision;if(g.s<1)throw Error(Mr+(g.s?"NaN":"-Infinity"));if(g.eq(or))return new w(0);if(t==null?(Tt=!1,d=b):d=t,g.eq(10))return t==null&&(Tt=!0),cy(w,d);if(d+=m,w.precision=d,n=fi(x),r=n.charAt(0),o=Gt(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=fi(g.d),r=n.charAt(0),p++;o=Gt(g),r>1?(g=new w("0."+n),o++):g=new w(r+"."+n.slice(1))}else return u=cy(w,d+2,b).times(o+""),g=Uc(new w(r+"."+n.slice(1)),d-m).plus(u),w.precision=b,t==null?(Tt=!0,gt(g,b)):g;for(l=s=g=Bi(g.minus(or),g.plus(or),d),f=gt(g.times(g),d),i=3;;){if(s=gt(s.times(f),d),u=l.plus(Bi(s,new w(i),d)),fi(u.d).slice(0,d)===fi(l.d).slice(0,d))return l=l.times(2),o!==0&&(l=l.plus(cy(w,d+2,b).times(o+""))),l=Bi(l,new w(p),d),w.precision=b,t==null?(Tt=!0,gt(l,b)):l;l=u,i+=2}}function BE(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=tl(n/Ct),e.d=[],r=(n+1)%Ct,n<0&&(r+=Ct),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ct;r<i;)e.d.push(+t.slice(r,r+=Ct));t=t.slice(r),r=Ct-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Tt&&(e.e>vp||e.e<-vp))throw Error(Xb+n)}else e.s=0,e.e=0,e.d=[0];return e}function gt(e,t,n){var r,i,o,s,l,u,d,f,p=e.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=Ct,i=t,d=p[f=0];else{if(f=Math.ceil((r+1)/Ct),o=p.length,f>=o)return e;for(d=o=p[f],s=1;o>=10;o/=10)s++;r%=Ct,i=r-Ct+s}if(n!==void 0&&(o=fa(10,s-i-1),l=d/o%10|0,u=t<0||p[f+1]!==void 0||d%o,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/fa(10,s-i):0:p[f-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(o=Gt(e),p.length=1,t=t-o-1,p[0]=fa(10,(Ct-t%Ct)%Ct),e.e=tl(-t/Ct)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=f,o=1,f--):(p.length=f+1,o=fa(10,Ct-r),p[f]=i>0?(d/fa(10,s-i)%fa(10,i)|0)*o:0),u)for(;;)if(f==0){(p[0]+=o)==an&&(p[0]=1,++e.e);break}else{if(p[f]+=o,p[f]!=an)break;p[f--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Tt&&(e.e>vp||e.e<-vp))throw Error(Xb+Gt(e));return e}function UM(e,t){var n,r,i,o,s,l,u,d,f,p,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Tt?gt(t,g):t;if(u=e.d,p=t.d,r=t.e,d=e.e,u=u.slice(),s=d-r,s){for(f=s<0,f?(n=u,s=-s,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(g/Ct),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){f=u[i]<p[i];break}s=0}for(f&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>s;){if(u[--i]<p[i]){for(o=i;o&&u[--o]===0;)u[o]=an-1;--u[o],u[i]+=an}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,Tt?gt(t,g):t):new m(0)}function Ta(e,t,n){var r,i=Gt(e),o=fi(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Eo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Eo(-i-1)+o,n&&(r=n-s)>0&&(o+=Eo(r))):i>=s?(o+=Eo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Eo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Eo(r))),e.s<0?"-"+o:o}function zE(e,t){if(e.length>t)return e.length=t,!0}function HM(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Pa+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return BE(s,o.toString())}else if(typeof o!="string")throw Error(Pa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,QQ.test(o))BE(s,o);else throw Error(Pa+o)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=HM,i.config=i.set=JQ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function JQ(e){if(!e||typeof e!="object")throw Error(Mr+"Object expected");var t,n,r,i=["precision",1,el,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(tl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Pa+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Pa+n+": "+r);return this}var Zb=HM(ZQ);or=new Zb(1);const dt=Zb;function GM(e){var t;return e===0?t=1:t=Math.floor(new dt(e).abs().log(10).toNumber())+1,t}function KM(e,t,n){for(var r=new dt(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var qM=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},YM=(e,t,n)=>{if(e.lte(0))return new dt(0);var r=GM(e.toNumber()),i=new dt(10).pow(r),o=e.div(i),s=r!==1?.05:.1,l=new dt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),u=l.mul(i);return t?new dt(u.toNumber()):new dt(Math.ceil(u.toNumber()))},eJ=(e,t,n)=>{var r=new dt(1),i=new dt(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new dt(10).pow(GM(e)-1),i=new dt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new dt(Math.floor(e)))}else e===0?i=new dt(Math.floor((t-1)/2)):n||(i=new dt(Math.floor(e)));for(var s=Math.floor((t-1)/2),l=[],u=0;u<t;u++)l.push(i.add(new dt(u-s).mul(r)).toNumber());return l},XM=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var s=YM(new dt(n).sub(t).div(r-1),i,o),l;t<=0&&n>=0?l=new dt(0):(l=new dt(t).add(n).div(2),l=l.sub(new dt(l).mod(s)));var u=Math.ceil(l.sub(t).div(s).toNumber()),d=Math.ceil(new dt(n).sub(l).div(s).toNumber()),f=u+d+1;return f>r?XM(t,n,r,i,o+1):(f<r&&(d=n>0?d+(r-f):d,u=n>0?u:u+(r-f)),{step:s,tickMin:l.sub(new dt(u).mul(s)),tickMax:l.add(new dt(d).mul(s))})},tJ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[l,u]=qM([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return n>r?d.reverse():d}if(l===u)return eJ(l,i,o);var{step:f,tickMin:p,tickMax:m}=XM(l,u,s,o,0),g=KM(p,m.add(new dt(.1).mul(f)),f);return n>r?g.reverse():g},nJ=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=qM([r,i]);if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var u=Math.max(n,2),d=YM(new dt(l).sub(s).div(u-1),o,0),f=[...KM(new dt(s),new dt(l),d),l];return o===!1&&(f=f.map(p=>Math.round(p))),r>i?f.reverse():f},rJ=e=>e.rootProps.barCategoryGap,bh=e=>e.rootProps.stackOffset,ZM=e=>e.rootProps.reverseStackOrder,Qb=e=>e.options.chartName,Jb=e=>e.rootProps.syncId,QM=e=>e.rootProps.syncMethod,e1=e=>e.options.eventEmitter,iJ=e=>e.rootProps.baseValue,Fn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},aa={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},si={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},wh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Sh(e,t,n){if(n!=="auto")return n;if(e!=null)return wi(e,t)?"category":"number"}function WE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(n),!0).forEach(function(r){oJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oJ(e,t,n){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aJ(e){var t=sJ(e,"string");return typeof t=="symbol"?t:t+""}function sJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VE={allowDataOverflow:aa.allowDataOverflow,allowDecimals:aa.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:aa.angleAxisId,includeHidden:!1,name:void 0,reversed:aa.reversed,scale:aa.scale,tick:aa.tick,tickCount:void 0,ticks:void 0,type:aa.type,unit:void 0},UE={allowDataOverflow:si.allowDataOverflow,allowDecimals:si.allowDecimals,allowDuplicatedCategory:si.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:si.radiusAxisId,includeHidden:si.includeHidden,name:void 0,reversed:si.reversed,scale:si.scale,tick:si.tick,tickCount:si.tickCount,ticks:void 0,type:si.type,unit:void 0},lJ=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},t1=J([lJ,WD],(e,t)=>{var n;if(e!=null)return e;var r=(n=Sh(t,"angleAxis",VE.type))!==null&&n!==void 0?n:"category";return yp(yp({},VE),{},{type:r})}),cJ=(e,t)=>e.polarAxis.radiusAxis[t],n1=J([cJ,WD],(e,t)=>{var n;if(e!=null)return e;var r=(n=Sh(t,"radiusAxis",UE.type))!==null&&n!==void 0?n:"category";return yp(yp({},UE),{},{type:r})}),Ph=e=>e.polarOptions,r1=J([Zi,Qi,Sn],oX),JM=J([Ph,r1],(e,t)=>{if(e!=null)return Bo(e.innerRadius,t,0)}),eI=J([Ph,r1],(e,t)=>{if(e!=null)return Bo(e.outerRadius,t,t*.8)}),uJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},tI=J([Ph],uJ);J([t1,tI],wh);var nI=J([r1,JM,eI],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});J([n1,nI],wh);var rI=J([_t,Ph,JM,eI,Zi,Qi],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:l,startAngle:u,endAngle:d}=t;return{cx:Bo(s,i,i/2),cy:Bo(l,o,o/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),dn=(e,t)=>t,Ch=(e,t,n)=>n;function i1(e){return e?.id}function iI(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var f=i1(l);d.forEach((p,m)=>{var g=o==null||i?m:String(wn(p,o,null)),x=wn(p,l.dataKey,0),w;s.has(g)?w=s.get(g):w={},Object.assign(w,{[f]:x}),s.set(g,w)})}}),Array.from(s.values())}function o1(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ah=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function kh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function dJ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var fn=e=>{var t=_t(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},nl=e=>e.tooltip.settings.axisId;function fJ(e){if(e in lc)return lc[e]();var t="scale".concat(fb(e));if(t in lc)return lc[t]()}function HE(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(o){function s(){return o.apply(this,arguments)}return s.toString=function(){return o.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var s=i[0],l=i[1];return s<=l?o>=s&&o<=l:o>=l&&o<=s},bandwidth:n?()=>n.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,s)=>{var l=e(o);if(l!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var u=e.bandwidth();switch(s.position){case"middle":l+=u/2;break;case"end":l+=u;break}}return l}}}}function GE(e,t,n){if(typeof e=="function")return HE(e.copy().domain(t).range(n));if(e!=null){var r=fJ(e);if(r!=null)return r.domain(t).range(n),HE(r)}}var pJ=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!qi(t)){for(var n,r,i=0;i<t.length;i++){var o=t[i];et(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(r){hJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hJ(e,t,n){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e){var t=gJ(e,"string");return typeof t=="symbol"?t:t+""}function gJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L0=[0,"auto"],nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},oI=(e,t)=>e.cartesianAxis.xAxis[t],to=(e,t)=>{var n=oI(e,t);return n??nn},rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:L0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:au},aI=(e,t)=>e.cartesianAxis.yAxis[t],no=(e,t)=>{var n=aI(e,t);return n??rn},vJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},a1=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??vJ},Bn=(e,t,n)=>{switch(t){case"xAxis":return to(e,n);case"yAxis":return no(e,n);case"zAxis":return a1(e,n);case"angleAxis":return t1(e,n);case"radiusAxis":return n1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},yJ=(e,t,n)=>{switch(t){case"xAxis":return to(e,n);case"yAxis":return no(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},hu=(e,t,n)=>{switch(t){case"xAxis":return to(e,n);case"yAxis":return no(e,n);case"angleAxis":return t1(e,n);case"radiusAxis":return n1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},sI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function lI(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var cI=e=>e.graphicalItems.cartesianItems,xJ=J([dn,Ch],lI),uI=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),mu=J([cI,Bn,xJ],uI,{memoizeOptions:{resultEqualityCheck:kh}}),dI=J([mu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(o1)),fI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),bJ=J([mu],fI),pI=e=>e.map(t=>t.data).filter(Boolean).flat(1),wJ=J([mu],pI,{memoizeOptions:{resultEqualityCheck:kh}}),hI=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},s1=J([wJ,$M],hI),mI=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:wn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:wn(i,r)}))):e.map(r=>({value:r})),Eh=J([s1,Bn,mu],mI);function gI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function yf(e){if(yi(e)||e instanceof Date){var t=Number(e);if(et(t))return t}}function qE(e){if(Array.isArray(e)){var t=[yf(e[0]),yf(e[1])];return qi(t)?t:void 0}var n=yf(e);if(n!=null)return[n,n]}function Yi(e){return e.map(yf).filter(Kn)}function SJ(e,t,n){return!n||typeof t!="number"||vi(t)?[]:n.length?Yi(n.flatMap(r=>{var i=wn(e,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!et(o)||!et(s)))return[t-o,t+s]})):[]}var Qt=e=>{var t=fn(e),n=nl(e);return hu(e,t,n)},gu=J([Qt],e=>e?.dataKey),PJ=J([dI,$M,Qt],iI),vI=(e,t,n,r)=>{var i={},o=t.reduce((s,l)=>{if(l.stackId==null)return s;var u=s[l.stackId];return u==null&&(u=[]),u.push(l),s[l.stackId]=u,s},i);return Object.fromEntries(Object.entries(o).map(s=>{var[l,u]=s,d=r?[...u].reverse():u,f=d.map(i1);return[l,{stackedData:qK(e,f,n),graphicalItems:d}]}))},yI=J([PJ,dI,bh,ZM],vI),xI=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var s=QK(e,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},CJ=J([Bn],e=>e.allowDataOverflow),l1=e=>{var t;if(e==null||!("domain"in e))return L0;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Yi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:L0},bI=J([Bn],l1),wI=J([bI,CJ],BM),AJ=J([yI,eo,dn,wI],xI,{memoizeOptions:{resultEqualityCheck:Ah}}),c1=e=>e.errorBars,kJ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>gI(n,r)),bp=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),l=Math.max(...o);return[s,l]}},SI=(e,t,n,r,i)=>{var o,s;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var d,f,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(C=>gI(i,C)),m=wn(l,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),g=SJ(l,m,p);if(g.length>=2){var x=Math.min(...g),w=Math.max(...g);(o==null||x<o)&&(o=x),(s==null||w>s)&&(s=w)}var b=qE(m);b!=null&&(o=o==null?b[0]:Math.min(o,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=qE(wn(l,t.dataKey));u!=null&&(o=o==null?u[0]:Math.min(o,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),et(o)&&et(s))return[o,s]},EJ=J([s1,Bn,bJ,c1,dn],SI,{memoizeOptions:{resultEqualityCheck:Ah}});function NJ(e){var{value:t}=e;if(yi(t)||t instanceof Date)return t}var OJ=(e,t,n)=>{var r=e.map(NJ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&V_(r))?iM(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},PI=e=>e.referenceElements.dots,rl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),jJ=J([PI,dn,Ch],rl),CI=e=>e.referenceElements.areas,TJ=J([CI,dn,Ch],rl),AI=e=>e.referenceElements.lines,_J=J([AI,dn,Ch],rl),kI=(e,t)=>{if(e!=null){var n=Yi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},DJ=J(jJ,dn,kI),EI=(e,t)=>{if(e!=null){var n=Yi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},MJ=J([TJ,dn],EI);function IJ(e){var t;if(e.x!=null)return Yi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Yi(n)}function RJ(e){var t;if(e.y!=null)return Yi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Yi(n)}var NI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?IJ(r):RJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},LJ=J([_J,dn],NI),FJ=J(DJ,LJ,MJ,(e,t,n)=>bp(e,n,t)),OI=(e,t,n,r,i,o,s,l)=>{if(n!=null)return n;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",d=u?bp(r,o,i):bp(o,i);return XQ(t,d,e.allowDataOverflow)},$J=J([Bn,bI,wI,AJ,EJ,FJ,_t,dn],OI,{memoizeOptions:{resultEqualityCheck:Ah}}),BJ=[0,1],jI=(e,t,n,r,i,o,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:u}=e,d=wi(t,o);if(d&&l==null){var f;return iM(0,(f=n?.length)!==null&&f!==void 0?f:0)}return u==="category"?OJ(r,e,d):i==="expand"?BJ:s}},u1=J([Bn,_t,s1,Eh,bh,dn,$J],jI);function zJ(e){return e in lc}var TI=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(fb(r));return zJ(o)?o:"point"}}},il=J([Bn,sI,Qb],TI);function d1(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?GE(e.scale,n,r):GE(t,n,r)}var _I=(e,t,n)=>{var r=l1(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&qi(e))return tJ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&qi(e))return nJ(e,t.tickCount,t.allowDecimals)}},f1=J([u1,hu,il],_I),DI=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&qi(t)&&Array.isArray(n)&&n.length>0){var i,o,s=t[0],l=(i=n[0])!==null&&i!==void 0?i:0,u=t[1],d=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(s,l),Math.max(u,d)]}return t},WJ=J([Bn,u1,f1,dn],DI),VJ=J(Eh,Bn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Yi(e.map(p=>p.value))).sort((p,m)=>p-m),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var s=o-i;if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var u=r[l],d=r[l+1];if(!(u==null||d==null)){var f=d-u;n=Math.min(n,f)}}return n/s}}),MI=J(VJ,_t,rJ,Sn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!et(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var s=Bo(n,e*o),l=e*o/2;return l-s-(l-s)/o*s}return 0}),UJ=(e,t,n)=>{var r=to(e,t);return r==null||typeof r.padding!="string"?0:MI(e,"xAxis",t,n,r.padding)},HJ=(e,t,n)=>{var r=no(e,t);return r==null||typeof r.padding!="string"?0:MI(e,"yAxis",t,n,r.padding)},GJ=J(to,UJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),KJ=J(no,HJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),qJ=J([Sn,GJ,ch,lh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),YJ=J([Sn,_t,KJ,ch,lh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),vu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return qJ(e,n,r);case"yAxis":return YJ(e,n,r);case"zAxis":return(i=a1(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return tI(e);case"radiusAxis":return nI(e,n);default:return}},II=J([Bn,vu],wh),XJ=J([il,WJ],pJ),Nh=J([Bn,il,XJ,II],d1);J([mu,c1,dn],kJ);function RI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Oh=(e,t)=>t,jh=(e,t,n)=>n,ZJ=J(ah,Oh,jh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(RI)),QJ=J(sh,Oh,jh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(RI)),LI=(e,t)=>({width:e.width,height:t.height}),JJ=(e,t)=>{var n=typeof t.width=="number"?t.width:au;return{width:n,height:e.height}},eee=J(Sn,to,LI),tee=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},nee=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},ree=J(Qi,Sn,ZJ,Oh,jh,(e,t,n,r,i)=>{var o={},s;return n.forEach(l=>{var u=LI(t,l);s==null&&(s=tee(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;o[l.id]=s-Number(d)*u.height,s+=(d?-1:1)*u.height}),o}),iee=J(Zi,Sn,QJ,Oh,jh,(e,t,n,r,i)=>{var o={},s;return n.forEach(l=>{var u=JJ(t,l);s==null&&(s=nee(t,r,e));var d=r==="left"&&!i||r==="right"&&i;o[l.id]=s-Number(d)*u.width,s+=(d?-1:1)*u.width}),o}),oee=(e,t)=>{var n=to(e,t);if(n!=null)return ree(e,n.orientation,n.mirror)},aee=J([Sn,to,oee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),see=(e,t)=>{var n=no(e,t);if(n!=null)return iee(e,n.orientation,n.mirror)},lee=J([Sn,no,see,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),cee=J(Sn,no,(e,t)=>{var n=typeof t.width=="number"?t.width:au;return{width:n,height:e.height}}),FI=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,l=wi(e,r),u=t.map(d=>d.value);if(s&&l&&o==="category"&&i&&V_(u))return u}},p1=J([_t,Eh,Bn,dn],FI),$I=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=wi(e,r);if(s&&(i==="number"||o!=="auto"))return t.map(l=>l.value)}},h1=J([_t,Eh,hu,dn],$I),YE=J([_t,yJ,il,Nh,p1,h1,vu,f1,dn],(e,t,n,r,i,o,s,l,u)=>{if(t!=null){var d=wi(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:l,range:s,realScaleType:n,scale:r}}}),uee=(e,t,n,r,i,o,s,l,u)=>{if(!(t==null||r==null)){var d=wi(e,u),{type:f,ticks:p,tickCount:m}=t,g=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/g:0;x=u==="angleAxis"&&o!=null&&o.length>=2?Or(o[0]-o[1])*2*x:x;var w=p||i;return w?w.map((b,C)=>{var k=s?s.indexOf(b):b,E=r.map(k);return et(E)?{index:C,coordinate:E+x,value:b,offset:x}:null}).filter(Kn):d&&l?l.map((b,C)=>{var k=r.map(b);return et(k)?{coordinate:k+x,value:b,index:C,offset:x}:null}).filter(Kn):r.ticks?r.ticks(m).map((b,C)=>{var k=r.map(b);return et(k)?{coordinate:k+x,value:b,index:C,offset:x}:null}).filter(Kn):r.domain().map((b,C)=>{var k=r.map(b);return et(k)?{coordinate:k+x,value:s?s[b]:b,index:C,offset:x}:null}).filter(Kn)}},BI=J([_t,hu,il,Nh,f1,vu,p1,h1,dn],uee),dee=(e,t,n,r,i,o,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=wi(e,s),{tickCount:u}=t,d=0;return d=s==="angleAxis"&&r?.length>=2?Or(r[0]-r[1])*2*d:d,l&&o?o.map((f,p)=>{var m=n.map(f);return et(m)?{coordinate:m+d,value:f,index:p,offset:d}:null}).filter(Kn):n.ticks?n.ticks(u).map((f,p)=>{var m=n.map(f);return et(m)?{coordinate:m+d,value:f,index:p,offset:d}:null}).filter(Kn):n.domain().map((f,p)=>{var m=n.map(f);return et(m)?{coordinate:m+d,value:i?i[f]:f,index:p,offset:d}:null}).filter(Kn)}},zI=J([_t,hu,Nh,vu,p1,h1,dn],dee),WI=J(Bn,Nh,(e,t)=>{if(!(e==null||t==null))return xp(xp({},e),{},{scale:t})}),fee=J([Bn,il,u1,II],d1);J((e,t,n)=>a1(e,n),fee,(e,t)=>{if(!(e==null||t==null))return xp(xp({},e),{},{scale:t})});var pee=J([_t,ah,sh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),VI=e=>e.options.defaultTooltipEventType,UI=e=>e.options.validateTooltipEventTypes;function HI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function m1(e,t){var n=VI(e),r=UI(e);return HI(t,n,r)}function hee(e){return Fe(t=>m1(t,e))}var GI=(e,t)=>{var n,r=Number(t);if(!(vi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},mee=e=>e.tooltip.settings,Oo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},gee={itemInteraction:{click:Oo,hover:Oo},axisInteraction:{click:Oo,hover:Oo},keyboardInteraction:Oo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},KI=Yn({name:"tooltip",initialState:gee,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:jt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Yr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:jt()},removeTooltipEntrySettings:{reducer(e,t){var n=Yr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:jt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:vee,replaceTooltipEntrySettings:yee,removeTooltipEntrySettings:xee,setTooltipSettingsState:bee,setActiveMouseOverItemIndex:wee,mouseLeaveItem:Sle,mouseLeaveChart:qI,setActiveClickItemIndex:Ple,setMouseOverAxisIndex:YI,setMouseClickAxisIndex:See,setSyncInteraction:F0,setKeyboardInteraction:$0}=KI.actions,Pee=KI.reducer;function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(r){Cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cee(e,t,n){return(t=Aee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aee(e){var t=kee(e,"string");return typeof t=="symbol"?t:t+""}function kee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eee(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Nee(e){return e.index!=null}var XI=(e,t,n,r)=>{if(t==null)return Oo;var i=Eee(e,t,n);if(i==null)return Oo;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Nee(i)){if(o)return rf(rf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return rf(rf({},Oo),{},{coordinate:i.coordinate})};function Oee(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function jee(e,t){var n=Oee(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),s=Math.max(r,i);return n>=o&&n<=s}function Tee(e,t,n){if(n==null||t==null)return!0;var r=wn(e,t);return r==null||!qi(n)?!0:jee(r,n)}var g1=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var o=Number(i);if(!et(o))return i;var s=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(s,Math.min(o,l)),d=t[u];return d==null||Tee(d,n,r)?String(u):null},ZI=(e,t,n,r,i,o,s)=>{if(o!=null){var l=s[0],u=l?.getPosition(o);if(u!=null)return u;var d=i?.[Number(o)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:d.coordinate}}},QI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},JI=e=>e.options.tooltipPayloadSearcher,ol=e=>e.tooltip;function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(n),!0).forEach(function(r){_ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ee(e,t,n){return(t=Dee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dee(e){var t=Mee(e,"string");return typeof t=="symbol"?t:t+""}function Mee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iee(e,t){return e??t}var eR=(e,t,n,r,i,o,s)=>{if(!(t==null||o==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=n,p=[];return e.reduce((m,g)=>{var x,{dataDefinedOnItem:w,settings:b}=g,C=Iee(w,l),k=Array.isArray(C)?jD(C,d,f):C,E=(x=b?.dataKey)!==null&&x!==void 0?x:r,N=b?.nameKey,j;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&s==="axis"?j=U_(k,r,i):j=o(k,t,u,N),Array.isArray(j))j.forEach(_=>{var D=QE(QE({},b),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});m.push(JA({tooltipEntrySettings:D,dataKey:_.dataKey,payload:_.payload,value:wn(_.payload,_.dataKey),name:_.name}))});else{var O;m.push(JA({tooltipEntrySettings:b,dataKey:E,payload:j,value:wn(j,E),name:(O=wn(j,N))!==null&&O!==void 0?O:b?.name}))}return m},p)}},v1=J([Qt,sI,Qb],TI),Ree=J([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Lee=J([fn,nl],lI),al=J([Ree,Qt,Lee],uI,{memoizeOptions:{resultEqualityCheck:kh}}),Fee=J([al],e=>e.filter(o1)),$ee=J([al],pI,{memoizeOptions:{resultEqualityCheck:kh}}),sl=J([$ee,eo],hI),Bee=J([Fee,eo,Qt],iI),y1=J([sl,Qt,al],mI),tR=J([Qt],l1),zee=J([Qt],e=>e.allowDataOverflow),nR=J([tR,zee],BM),Wee=J([al],e=>e.filter(o1)),Vee=J([Bee,Wee,bh,ZM],vI),Uee=J([Vee,eo,fn,nR],xI),Hee=J([al],fI),Gee=J([sl,Qt,Hee,c1,fn],SI,{memoizeOptions:{resultEqualityCheck:Ah}}),Kee=J([PI,fn,nl],rl),qee=J([Kee,fn],kI),Yee=J([CI,fn,nl],rl),Xee=J([Yee,fn],EI),Zee=J([AI,fn,nl],rl),Qee=J([Zee,fn],NI),Jee=J([qee,Qee,Xee],bp),ete=J([Qt,tR,nR,Uee,Gee,Jee,_t,fn],OI),yu=J([Qt,_t,sl,y1,bh,fn,ete],jI),tte=J([yu,Qt,v1],_I),nte=J([Qt,yu,tte,fn],DI),rR=e=>{var t=fn(e),n=nl(e),r=!1;return vu(e,t,n,r)},iR=J([Qt,rR],wh),oR=J([Qt,v1,nte,iR],d1),rte=J([_t,y1,Qt,fn],FI),ite=J([_t,y1,Qt,fn],$I),ote=(e,t,n,r,i,o,s,l)=>{if(t){var{type:u}=t,d=wi(e,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?Or(i[0]-i[1])*2*p:p,d&&s?s.map((m,g)=>{var x=r.map(m);return et(x)?{coordinate:x+p,value:m,index:g,offset:p}:null}).filter(Kn):r.domain().map((m,g)=>{var x=r.map(m);return et(x)?{coordinate:x+p,value:o?o[m]:m,index:g,offset:p}:null}).filter(Kn)}}},ro=J([_t,Qt,v1,oR,rR,rte,ite,fn],ote),x1=J([VI,UI,mee],(e,t,n)=>HI(n.shared,e,t)),aR=e=>e.tooltip.settings.trigger,b1=e=>e.tooltip.settings.defaultIndex,xu=J([ol,x1,aR,b1],XI),Hc=J([xu,sl,gu,yu],g1),sR=J([ro,Hc],GI),ate=J([xu],e=>{if(e)return e.dataKey});J([xu],e=>{if(e)return e.graphicalItemId});var lR=J([ol,x1,aR,b1],QI),ste=J([Zi,Qi,_t,Sn,ro,b1,lR],ZI),lte=J([xu,ste],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),cte=J([xu],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),ute=J([lR,Hc,eo,gu,sR,JI,x1],eR),dte=J([ute],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function JE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(n),!0).forEach(function(r){fte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fte(e,t,n){return(t=pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mte=()=>Fe(Qt),gte=()=>{var e=mte(),t=Fe(ro),n=Fe(oR);return Zf(!e||!n?void 0:eN(eN({},e),{},{scale:n}),t)};function tN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(n),!0).forEach(function(r){vte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vte(e,t,n){return(t=yte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yte(e){var t=xte(e,"string");return typeof t=="symbol"?t:t+""}function xte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bte=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},wte=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:s}=r;return fs(fs(fs({},r),bn(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,{angle:u}=r;return fs(fs(fs({},r),bn(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ste(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var cR=(e,t,n,r,i)=>{var o,s=(o=t?.length)!==null&&o!==void 0?o:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u,d,f,p,m,g=l>0?(u=n[l-1])===null||u===void 0?void 0:u.coordinate:(d=n[s-1])===null||d===void 0?void 0:d.coordinate,x=(f=n[l])===null||f===void 0?void 0:f.coordinate,w=l>=s-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(m=n[l+1])===null||m===void 0?void 0:m.coordinate,b=void 0;if(!(g==null||x==null||w==null))if(Or(x-g)!==Or(w-x)){var C=[];if(Or(w-x)===Or(i[1]-i[0])){b=w;var k=x+i[1]-i[0];C[0]=Math.min(k,(k+g)/2),C[1]=Math.max(k,(k+g)/2)}else{b=g;var E=w+i[1]-i[0];C[0]=Math.min(x,(E+x)/2),C[1]=Math.max(x,(E+x)/2)}var N=[Math.min(x,(b+x)/2),Math.max(x,(b+x)/2)];if(e>N[0]&&e<=N[1]||e>=C[0]&&e<=C[1]){var j;return(j=n[l])===null||j===void 0?void 0:j.index}}else{var O=Math.min(g,w),_=Math.max(g,w);if(e>(O+x)/2&&e<=(_+x)/2){var D;return(D=n[l])===null||D===void 0?void 0:D.index}}}else if(t)for(var z=0;z<s;z++){var q=t[z];if(q!=null){var G=t[z+1],F=t[z-1];if(z===0&&G!=null&&e<=(q.coordinate+G.coordinate)/2||z===s-1&&F!=null&&e>(q.coordinate+F.coordinate)/2||z>0&&z<s-1&&F!=null&&G!=null&&e>(q.coordinate+F.coordinate)/2&&e<=(q.coordinate+G.coordinate)/2)return q.index}}return-1},uR=()=>Fe(Qb),w1=(e,t)=>t,dR=(e,t,n)=>n,S1=(e,t,n,r)=>r,Pte=J(ro,e=>Xp(e,t=>t.coordinate)),P1=J([ol,w1,dR,S1],XI),C1=J([P1,sl,gu,yu],g1),Cte=(e,t,n)=>{if(t!=null){var r=ol(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},fR=J([ol,w1,dR,S1],QI),wp=J([Zi,Qi,_t,Sn,ro,S1,fR],ZI),Ate=J([P1,wp],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),pR=J([ro,C1],GI),kte=J([fR,C1,eo,gu,pR,JI,w1],eR),Ete=J([P1,C1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Nte=(e,t,n,r,i,o,s)=>{if(!(!e||!n||!r||!i)&&Ste(e,s)){var l=JK(e,t),u=cR(l,o,i,n,r),d=bte(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},Ote=(e,t,n,r,i,o,s)=>{if(!(!e||!r||!i||!o||!n)){var l=uX(e,n);if(l){var u=eq(l,t),d=cR(u,s,o,r,i),f=wte(t,o,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},jte=(e,t,n,r,i,o,s,l)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?Nte(e,t,r,i,o,s,l):Ote(e,t,n,r,i,o,s)},Tte=J(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),_te=J(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Fn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:dJ}});function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){Dte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dte(e,t,n){return(t=Mte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mte(e){var t=Ite(e,"string");return typeof t=="symbol"?t:t+""}function Ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rte={},Lte={zIndexMap:Object.values(Fn).reduce((e,t)=>rN(rN({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Rte)},Fte=new Set(Object.values(Fn));function $te(e){return Fte.has(e)}var hR=Yn({name:"zIndex",initialState:Lte,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:jt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!$te(n)&&delete e.zIndexMap[n])},prepare:jt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:jt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:jt()}}}),{registerZIndexPortal:Bte,unregisterZIndexPortal:zte,registerZIndexPortalElement:Wte,unregisterZIndexPortalElement:Vte}=hR.actions,Ute=hR.reducer;function io(e){var{zIndex:t,children:n}=e,r=Dq(),i=r&&t!==void 0&&t!==0,o=Xn(),s=cn();P.useLayoutEffect(()=>i?(s(Bte({zIndex:t})),()=>{s(zte({zIndex:t}))}):Zs,[s,t,i]);var l=Fe(u=>Tte(u,t,o));return i?l?eu.createPortal(n,l):null:n}function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0.apply(null,arguments)}function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function of(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(n),!0).forEach(function(r){Hte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hte(e,t,n){return(t=Gte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gte(e){var t=Kte(e,"string");return typeof t=="symbol"?t:t+""}function Kte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qte(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return P.isValidElement(t)?P.cloneElement(t,r):P.createElement(n,r)}function Yte(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:d,chartName:f}=e,p=n,m=r,g=i;if(!u||!p||f!=="ScatterChart"&&d!=="axis")return null;var x,w,b;if(f==="ScatterChart")x=p,w=wY,b=Fn.cursorLine;else if(f==="BarChart")x=SY(l,p,o,s),w=eX,b=Fn.cursorRectangle;else if(l==="radial"&&H_(p)){var{cx:C,cy:k,radius:E,startAngle:N,endAngle:j}=nM(p);x={cx:C,cy:k,startAngle:N,endAngle:j,innerRadius:E,outerRadius:E},w=hX,b=Fn.cursorLine}else x={points:mX(l,p,o)},w=vf,b=Fn.cursorLine;var O=typeof u=="object"&&"className"in u?u.className:void 0,_=of(of(of(of({stroke:"#ccc",pointerEvents:"none"},o),x),Gp(u)),{},{payload:m,payloadIndex:g,className:kt("recharts-tooltip-cursor",O)});return P.createElement(io,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},P.createElement(qte,{cursor:u,cursorComp:w,cursorProps:_}))}function Xte(e){var t=gte(),n=$D(),r=Qs(),i=uR();return t==null||n==null||r==null||i==null?null:P.createElement(Yte,B0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var mR=P.createContext(null),Zte=()=>P.useContext(mR),uy={exports:{}},oN;function Qte(){return oN||(oN=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function o(u,d,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,p||u,m),x=n?n+d:d;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],g]:u._events[x].push(g):(u._events[x]=g,u._eventsCount++),u}function s(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)t.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,g=p.length,x=new Array(g);m<g;m++)x[m]=p[m].fn;return x},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,m,g,x){var w=n?n+d:d;if(!this._events[w])return!1;var b=this._events[w],C=arguments.length,k,E;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),C){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,m),!0;case 5:return b.fn.call(b.context,f,p,m,g),!0;case 6:return b.fn.call(b.context,f,p,m,g,x),!0}for(E=1,k=new Array(C-1);E<C;E++)k[E-1]=arguments[E];b.fn.apply(b.context,k)}else{var N=b.length,j;for(E=0;E<N;E++)switch(b[E].once&&this.removeListener(d,b[E].fn,void 0,!0),C){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,f);break;case 3:b[E].fn.call(b[E].context,f,p);break;case 4:b[E].fn.call(b[E].context,f,p,m);break;default:if(!k)for(j=1,k=new Array(C-1);j<C;j++)k[j-1]=arguments[j];b[E].fn.apply(b[E].context,k)}}return!0},l.prototype.on=function(d,f,p){return o(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return o(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,m){var g=n?n+d:d;if(!this._events[g])return this;if(!f)return s(this,g),this;var x=this._events[g];if(x.fn)x.fn===f&&(!m||x.once)&&(!p||x.context===p)&&s(this,g);else{for(var w=0,b=[],C=x.length;w<C;w++)(x[w].fn!==f||m&&!x[w].once||p&&x[w].context!==p)&&b.push(x[w]);b.length?this._events[g]=b.length===1?b[0]:b:s(this,g)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(uy)),uy.exports}var Jte=Qte();const ene=Xi(Jte);var Gc=new ene,z0="recharts.syncEvent.tooltip",aN="recharts.syncEvent.brush",tne=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!vi(n))return e[n]}},nne={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},gR=Yn({name:"options",initialState:nne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),rne=gR.reducer,{createEventEmitter:ine}=gR.actions;function one(e){return e.tooltip.syncInteraction}var ane={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vR=Yn({name:"chartData",initialState:ane,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:sN,setDataStartEndIndexes:sne,setComputedData:Cle}=vR.actions,lne=vR.reducer,cne=["x","y"];function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(n),!0).forEach(function(r){une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function une(e,t,n){return(t=dne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dne(e){var t=fne(e,"string");return typeof t=="symbol"?t:t+""}function fne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pne(e,t){if(e==null)return{};var n,r,i=hne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mne(){var e=Fe(Jb),t=Fe(e1),n=cn(),r=Fe(QM),i=Fe(ro),o=Qs(),s=uh(),l=Fe(u=>u.rootProps.className);P.useEffect(()=>{if(e==null)return Zs;var u=(d,f,p)=>{if(t!==p&&e===d){if(r==="index"){var m;if(s&&f!==null&&f!==void 0&&(m=f.payload)!==null&&m!==void 0&&m.coordinate&&f.payload.sourceViewBox){var g=f.payload.coordinate,{x,y:w}=g,b=pne(g,cne),{x:C,y:k,width:E,height:N}=f.payload.sourceViewBox,j=ps(ps({},b),{},{x:s.x+(E?(x-C)/E:0)*s.width,y:s.y+(N?(w-k)/N:0)*s.height});n(ps(ps({},f),{},{payload:ps(ps({},f.payload),{},{coordinate:j})}))}else n(f);return}if(i!=null){var O;if(typeof r=="function"){var _={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},D=r(i,_);O=i[D]}else r==="value"&&(O=i.find(be=>String(be.value)===f.payload.label));var{coordinate:z}=f.payload;if(O==null||f.payload.active===!1||z==null||s==null){n(F0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:G}=z,F=Math.min(q,s.x+s.width),U=Math.min(G,s.y+s.height),fe={x:o==="horizontal"?O.coordinate:F,y:o==="horizontal"?U:O.coordinate},ue=F0({active:f.payload.active,coordinate:fe,dataKey:f.payload.dataKey,index:String(O.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(ue)}}};return Gc.on(z0,u),()=>{Gc.off(z0,u)}},[l,n,t,e,r,i,o,s])}function gne(){var e=Fe(Jb),t=Fe(e1),n=cn();P.useEffect(()=>{if(e==null)return Zs;var r=(i,o,s)=>{t!==s&&e===i&&n(sne(o))};return Gc.on(aN,r),()=>{Gc.off(aN,r)}},[n,t,e])}function vne(){var e=cn();P.useEffect(()=>{e(ine())},[e]),mne(),gne()}function yne(e,t,n,r,i,o){var s=Fe(g=>Cte(g,e,t)),l=Fe(e1),u=Fe(Jb),d=Fe(QM),f=Fe(one),p=f?.active,m=uh();P.useEffect(()=>{if(!p&&u!=null&&l!=null){var g=F0({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});Gc.emit(z0,u,g,l)}},[p,n,s,i,r,l,u,d,o,m])}function cN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(n),!0).forEach(function(r){xne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xne(e,t,n){return(t=bne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sne(e){return e.dataKey}function Pne(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(eY,t)}var dN=[],Cne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ane(e){var t,n,r=hr(e,Cne),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:l,content:u,filterNull:d,isAnimationActive:f,offset:p,payloadUniqBy:m,position:g,reverseDirection:x,useTranslate3d:w,wrapperStyle:b,cursor:C,shared:k,trigger:E,defaultIndex:N,portal:j,axisId:O}=r,_=cn(),D=typeof N=="number"?String(N):N;P.useEffect(()=>{_(bee({shared:k,trigger:E,axisId:O,active:i,defaultIndex:D}))},[_,k,E,O,i,D]);var z=uh(),q=XD(),G=hee(k),{activeIndex:F,isActive:U}=(t=Fe(B=>Ete(B,G,E,D)))!==null&&t!==void 0?t:{},fe=Fe(B=>kte(B,G,E,D)),ue=Fe(B=>pR(B,G,E,D)),be=Fe(B=>Ate(B,G,E,D)),Q=fe,Y=Zte(),re=(n=i??U)!==null&&n!==void 0?n:!1,[te,R]=UG([Q,re]),W=G==="axis"?ue:void 0;yne(G,E,be,W,F,re);var ie=j??Y;if(ie==null||z==null||G==null)return null;var oe=Q??dN;re||(oe=dN),d&&oe.length&&(oe=gG(oe.filter(B=>B.value!=null&&(B.hide!==!0||r.includeHidden)),m,Sne));var de=oe.length>0,X=P.createElement(sY,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:f,active:re,coordinate:be,hasPayload:de,offset:p,position:g,reverseDirection:x,useTranslate3d:w,viewBox:z,wrapperStyle:b,lastBoundingBox:te,innerRef:R,hasPortalFromProps:!!j},Pne(u,uN(uN({},r),{},{payload:oe,label:W,active:re,activeIndex:F,coordinate:be,accessibilityLayer:q})));return P.createElement(P.Fragment,null,eu.createPortal(X,ie),re&&P.createElement(Xte,{cursor:C,tooltipEventType:G,coordinate:be,payload:oe,index:F}))}function kne(e,t,n){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ene(e){var t=Nne(e,"string");return typeof t=="symbol"?t:t+""}function Nne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class One{constructor(t){kne(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function fN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(n),!0).forEach(function(r){Tne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tne(e,t,n){return(t=_ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ne(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mne={cacheSize:2e3,enableCache:!0},yR=jne({},Mne),pN=new One(yR.cacheSize),Ine={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hN="recharts_measurement_span";function Rne(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(l)}var mN=(e,t)=>{try{var n=document.getElementById(hN);n||(n=document.createElement("span"),n.setAttribute("id",hN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Ine,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},vc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||cu.isSsr)return{width:0,height:0};if(!yR.enableCache)return mN(t,n);var r=Rne(t,n),i=pN.get(r);if(i)return i;var o=mN(t,n);return pN.set(r,o),o},xR;function Lne(e,t,n){return(t=Fne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fne(e){var t=$ne(e,"string");return typeof t=="symbol"?t:t+""}function $ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Wne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vne=["cm","mm","pt","pc","in","Q","px"];function Une(e){return Vne.includes(e)}var Ps="NaN";function Hne(e,t){return e*Wne[t]}class yn{static parse(t){var n,[,r,i]=(n=zne.exec(t))!==null&&n!==void 0?n:[];return r==null?yn.NaN:new yn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,vi(t)&&(this.unit=""),n!==""&&!Bne.test(n)&&(this.num=NaN,this.unit=""),Une(n)&&(this.num=Hne(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new yn(NaN,""):new yn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new yn(NaN,""):new yn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yn(NaN,""):new yn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yn(NaN,""):new yn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return vi(this.num)}}xR=yn;Lne(yn,"NaN",new xR(NaN,""));function bR(e){if(e==null||e.includes(Ps))return Ps;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=gN.exec(t))!==null&&n!==void 0?n:[],s=yn.parse(r??""),l=yn.parse(o??""),u=i==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return Ps;t=t.replace(gN,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,p,m]=(d=vN.exec(t))!==null&&d!==void 0?d:[],g=yn.parse(f??""),x=yn.parse(m??""),w=p==="+"?g.add(x):g.subtract(x);if(w.isNaN())return Ps;t=t.replace(vN,w.toString())}return t}var yN=/\(([^()]*)\)/;function Gne(e){for(var t=e,n;(n=yN.exec(t))!=null;){var[,r]=n;t=t.replace(yN,bR(r))}return t}function Kne(e){var t=e.replace(/\s+/g,"");return t=Gne(t),t=bR(t),t}function qne(e){try{return Kne(e)}catch{return Ps}}function dy(e){var t=qne(e.slice(5,-1));return t===Ps?"":t}var Yne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Xne=["dx","dy","angle","className","breakAll"];function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W0.apply(null,arguments)}function xN(e,t){if(e==null)return{};var n,r,i=Zne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wR=/[ \f\n\r\t\v\u2028\u2029]+/,SR=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];_n(t)||(n?i=t.toString().split(""):i=t.toString().split(wR));var o=i.map(l=>({word:l,width:vc(l,r).width})),s=n?0:vc("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}};function Qne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var PR=(e,t,n,r)=>e.reduce((i,o)=>{var{word:s,width:l}=o,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(s),u.width+=l+n;else{var d={words:[s],width:l};i.push(d)}return i},[]),CR=e=>e.reduce((t,n)=>t.width>n.width?t:n),Jne="",bN=(e,t,n,r,i,o,s,l)=>{var u=e.slice(0,t),d=SR({breakAll:n,style:r,children:u+Jne});if(!d)return[!1,[]];var f=PR(d.wordsWithComputedWidth,o,s,l),p=f.length>i||CR(f).width>Number(o);return[p,f]},ere=(e,t,n,r,i)=>{var{maxLines:o,children:s,style:l,breakAll:u}=e,d=_e(o),f=String(s),p=PR(t,r,n,i);if(!d||i)return p;var m=p.length>o||CR(p).width>Number(r);if(!m)return p;for(var g=0,x=f.length-1,w=0,b;g<=x&&w<=f.length-1;){var C=Math.floor((g+x)/2),k=C-1,[E,N]=bN(f,k,u,l,o,r,n,i),[j]=bN(f,C,u,l,o,r,n,i);if(!E&&!j&&(g=C+1),E&&j&&(x=C-1),!E&&j){b=N;break}w++}return b||p},wN=e=>{var t=_n(e)?[]:e.toString().split(wR);return[{words:t,width:void 0}]},tre=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=e;if((t||n)&&!cu.isSsr){var l,u,d=SR({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;l=f,u=p}else return wN(r);return ere({breakAll:o,children:r,maxLines:s,style:i},l,u,t,!!n)}return wN(r)},AR="#808080",nre={angle:0,breakAll:!1,capHeight:"0.71em",fill:AR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},A1=P.forwardRef((e,t)=>{var n=hr(e,nre),{x:r,y:i,lineHeight:o,capHeight:s,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:f}=n,p=xN(n,Yne),m=P.useMemo(()=>tre({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:g,dy:x,angle:w,className:b,breakAll:C}=p,k=xN(p,Xne);if(!yi(r)||!yi(i)||m.length===0)return null;var E=Number(r)+(_e(g)?g:0),N=Number(i)+(_e(x)?x:0);if(!et(E)||!et(N))return null;var j;switch(f){case"start":j=dy("calc(".concat(s,")"));break;case"middle":j=dy("calc(".concat((m.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:j=dy("calc(".concat(m.length-1," * -").concat(o,")"));break}var O=[],_=m[0];if(u&&_!=null){var D=_.width,{width:z}=p;O.push("scale(".concat(_e(z)&&_e(D)?z/D:1,")"))}return w&&O.push("rotate(".concat(w,", ").concat(E,", ").concat(N,")")),O.length&&(k.transform=O.join(" ")),P.createElement("text",W0({},_r(k),{ref:t,x:E,y:N,className:kt("recharts-text",b),textAnchor:d,fill:l.includes("url")?AR:l}),m.map((q,G)=>{var F=q.words.join(C?"":" ");return P.createElement("tspan",{x:E,dy:G===0?j:o,key:"".concat(F,"-").concat(G)},F)}))});A1.displayName="Text";function SN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(n),!0).forEach(function(r){rre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rre(e,t,n){return(t=ire(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ire(e){var t=ore(e,"string");return typeof t=="symbol"?t:t+""}function ore(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var are=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:o,y:s,height:l,upperWidth:u,lowerWidth:d}=Pb(t),f=o,p=o+(u-d)/2,m=(f+p)/2,g=(u+d)/2,x=f+u/2,w=l>=0?1:-1,b=w*r,C=w>0?"end":"start",k=w>0?"start":"end",E=u>=0?1:-1,N=E*r,j=E>0?"end":"start",O=E>0?"start":"end",_=i;if(n==="top"){var D={x:f+u/2,y:s-b,horizontalAnchor:"middle",verticalAnchor:C};return _&&(D.height=Math.max(s-_.y,0),D.width=u),D}if(n==="bottom"){var z={x:p+d/2,y:s+l+b,horizontalAnchor:"middle",verticalAnchor:k};return _&&(z.height=Math.max(_.y+_.height-(s+l),0),z.width=d),z}if(n==="left"){var q={x:m-N,y:s+l/2,horizontalAnchor:j,verticalAnchor:"middle"};return _&&(q.width=Math.max(q.x-_.x,0),q.height=l),q}if(n==="right"){var G={x:m+g+N,y:s+l/2,horizontalAnchor:O,verticalAnchor:"middle"};return _&&(G.width=Math.max(_.x+_.width-G.x,0),G.height=l),G}var F=_?{width:g,height:l}:{};return n==="insideLeft"?li({x:m+N,y:s+l/2,horizontalAnchor:O,verticalAnchor:"middle"},F):n==="insideRight"?li({x:m+g-N,y:s+l/2,horizontalAnchor:j,verticalAnchor:"middle"},F):n==="insideTop"?li({x:f+u/2,y:s+b,horizontalAnchor:"middle",verticalAnchor:k},F):n==="insideBottom"?li({x:p+d/2,y:s+l-b,horizontalAnchor:"middle",verticalAnchor:C},F):n==="insideTopLeft"?li({x:f+N,y:s+b,horizontalAnchor:O,verticalAnchor:k},F):n==="insideTopRight"?li({x:f+u-N,y:s+b,horizontalAnchor:j,verticalAnchor:k},F):n==="insideBottomLeft"?li({x:p+N,y:s+l-b,horizontalAnchor:O,verticalAnchor:C},F):n==="insideBottomRight"?li({x:p+d-N,y:s+l-b,horizontalAnchor:j,verticalAnchor:C},F):n&&typeof n=="object"&&(_e(n.x)||Ea(n.x))&&(_e(n.y)||Ea(n.y))?li({x:o+Bo(n.x,g),y:s+Bo(n.y,l),horizontalAnchor:"end",verticalAnchor:"end"},F):li({x,y:s+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},F)},sre=["labelRef"],lre=["content"];function PN(e,t){if(e==null)return{};var n,r,i=cre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(n),!0).forEach(function(r){ure(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ure(e,t,n){return(t=dre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dre(e){var t=fre(e,"string");return typeof t=="symbol"?t:t+""}function fre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ii.apply(null,arguments)}var kR=P.createContext(null),pre=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s,children:l}=e,u=P.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s}),[t,n,r,i,o,s]);return P.createElement(kR.Provider,{value:u},l)},ER=()=>{var e=P.useContext(kR),t=uh();return e||(t?Pb(t):void 0)},hre=P.createContext(null),mre=()=>{var e=P.useContext(hre),t=Fe(rI);return e||t},gre=e=>{var{value:t,formatter:n}=e,r=_n(e.children)?t:e.children;return typeof n=="function"?n(r):r},k1=e=>e!=null&&typeof e=="function",vre=(e,t)=>{var n=Or(t-e),r=Math.min(Math.abs(t-e),360);return n*r},yre=(e,t,n,r,i)=>{var{offset:o,className:s}=e,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=i,x=(d+f)/2,w=vre(p,m),b=w>=0?1:-1,C,k;switch(t){case"insideStart":C=p+b*o,k=g;break;case"insideEnd":C=m-b*o,k=!g;break;case"end":C=m+b*o,k=g;break;default:throw new Error("Unsupported position ".concat(t))}k=w<=0?k:!k;var E=bn(l,u,x,C),N=bn(l,u,x,C+(k?1:-1)*359),j="M".concat(E.x,",").concat(E.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(N.x,",").concat(N.y),O=_n(e.id)?_c("recharts-radial-line-"):e.id;return P.createElement("text",Ii({},r,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",s)}),P.createElement("defs",null,P.createElement("path",{id:O,d:j})),P.createElement("textPath",{xlinkHref:"#".concat(O)},n))},xre=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(n==="outside"){var{x:f,y:p}=bn(r,i,s+t,d);return{x:f,y:p,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(o+s)/2,{x:g,y:x}=bn(r,i,m,d);return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},xf=e=>e!=null&&"cx"in e&&_e(e.cx),bre={angle:0,offset:5,zIndex:Fn.label,position:"middle",textBreakAll:!1};function wre(e){if(!xf(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function No(e){var t=hr(e,bre),{viewBox:n,parentViewBox:r,position:i,value:o,children:s,content:l,className:u="",textBreakAll:d,labelRef:f}=t,p=mre(),m=ER(),g=i==="center"?m:p??m,x,w,b;n==null?x=g:xf(n)?x=n:x=Pb(n);var C=wre(x);if(!x||_n(o)&&_n(s)&&!P.isValidElement(l)&&typeof l!="function")return null;var k=cc(cc({},t),{},{viewBox:x});if(P.isValidElement(l)){var{labelRef:E}=k,N=PN(k,sre);return P.cloneElement(l,N)}if(typeof l=="function"){var{content:j}=k,O=PN(k,lre);if(w=P.createElement(l,O),P.isValidElement(w))return w}else w=gre(t);var _=_r(t);if(xf(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return yre(t,i,w,_,x);b=xre(x,t.offset,t.position)}else{if(!C)return null;var D=are({viewBox:C,position:i,offset:t.offset,parentViewBox:xf(r)?void 0:r});b=cc(cc({x:D.x,y:D.y,textAnchor:D.horizontalAnchor,verticalAnchor:D.verticalAnchor},D.width!==void 0?{width:D.width}:{}),D.height!==void 0?{height:D.height}:{})}return P.createElement(io,{zIndex:t.zIndex},P.createElement(A1,Ii({ref:f,className:kt("recharts-label",u)},_,b,{textAnchor:Qne(_.textAnchor)?_.textAnchor:b.textAnchor,breakAll:d}),w))}No.displayName="Label";var Sre=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?P.createElement(No,Ii({key:"label-implicit"},r)):yi(e)?P.createElement(No,Ii({key:"label-implicit",value:e},r)):P.isValidElement(e)?e.type===No?P.cloneElement(e,cc({key:"label-implicit"},r)):P.createElement(No,Ii({key:"label-implicit",content:e},r)):k1(e)?P.createElement(No,Ii({key:"label-implicit",content:e},r)):e&&typeof e=="object"?P.createElement(No,Ii({},e,{key:"label-implicit"},r)):null};function Pre(e){var{label:t,labelRef:n}=e,r=ER();return Sre(t,r,n)||null}var fy={},py={},AN;function Cre(){return AN||(AN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(py)),py}var hy={},kN;function Are(){return kN||(kN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(hy)),hy}var EN;function kre(){return EN||(EN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cre(),n=Are(),r=hb();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(fy)),fy}var my,NN;function Ere(){return NN||(NN=1,my=kre().last),my}var Nre=Ere();const Ore=Xi(Nre);var jre=["valueAccessor"],Tre=["dataKey","clockWise","id","textBreakAll","zIndex"];function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sp.apply(null,arguments)}function ON(e,t){if(e==null)return{};var n,r,i=_re(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _re(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Dre=e=>Array.isArray(e.value)?Ore(e.value):e.value,NR=P.createContext(void 0),Mre=NR.Provider,OR=P.createContext(void 0);OR.Provider;function Ire(){return P.useContext(NR)}function Rre(){return P.useContext(OR)}function bf(e){var{valueAccessor:t=Dre}=e,n=ON(e,jre),{dataKey:r,clockWise:i,id:o,textBreakAll:s,zIndex:l}=n,u=ON(n,Tre),d=Ire(),f=Rre(),p=d||f;return!p||!p.length?null:P.createElement(io,{zIndex:l??Fn.label},P.createElement(gi,{className:"recharts-label-list"},p.map((m,g)=>{var x,w=_n(r)?t(m,g):wn(m.payload,r),b=_n(o)?{}:{id:"".concat(o,"-").concat(g)};return P.createElement(No,Sp({key:"label-".concat(g)},_r(m),u,b,{fill:(x=n.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:w,textBreakAll:s,viewBox:m.viewBox,index:g,zIndex:0}))})))}bf.displayName="LabelList";function Lre(e){var{label:t}=e;return t?t===!0?P.createElement(bf,{key:"labelList-implicit"}):P.isValidElement(t)||k1(t)?P.createElement(bf,{key:"labelList-implicit",content:t}):typeof t=="object"?P.createElement(bf,Sp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V0.apply(null,arguments)}var jR=e=>{var{cx:t,cy:n,r,className:i}=e,o=kt("recharts-dot",i);return _e(t)&&_e(n)&&_e(r)?P.createElement("circle",V0({},Xr(e),pb(e),{className:o,cx:t,cy:n,r})):null},Fre={radiusAxis:{},angleAxis:{}},TR=Yn({name:"polarAxis",initialState:Fre,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Ale,removeRadiusAxis:kle,addAngleAxis:Ele,removeAngleAxis:Nle}=TR.actions,$re=TR.reducer;function Bre(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var gy={exports:{}},ht={};var jN;function zre(){if(jN)return ht;jN=1;var e=60103,t=60106,n=60107,r=60108,i=60114,o=60109,s=60110,l=60112,u=60113,d=60120,f=60115,p=60116,m=60121,g=60122,x=60117,w=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;e=C("react.element"),t=C("react.portal"),n=C("react.fragment"),r=C("react.strict_mode"),i=C("react.profiler"),o=C("react.provider"),s=C("react.context"),l=C("react.forward_ref"),u=C("react.suspense"),d=C("react.suspense_list"),f=C("react.memo"),p=C("react.lazy"),m=C("react.block"),g=C("react.server.block"),x=C("react.fundamental"),w=C("react.debug_trace_mode"),b=C("react.legacy_hidden")}function k(U){if(typeof U=="object"&&U!==null){var fe=U.$$typeof;switch(fe){case e:switch(U=U.type,U){case n:case i:case r:case u:case d:return U;default:switch(U=U&&U.$$typeof,U){case s:case l:case p:case f:case o:return U;default:return fe}}case t:return fe}}}var E=o,N=e,j=l,O=n,_=p,D=f,z=t,q=i,G=r,F=u;return ht.ContextConsumer=s,ht.ContextProvider=E,ht.Element=N,ht.ForwardRef=j,ht.Fragment=O,ht.Lazy=_,ht.Memo=D,ht.Portal=z,ht.Profiler=q,ht.StrictMode=G,ht.Suspense=F,ht.isAsyncMode=function(){return!1},ht.isConcurrentMode=function(){return!1},ht.isContextConsumer=function(U){return k(U)===s},ht.isContextProvider=function(U){return k(U)===o},ht.isElement=function(U){return typeof U=="object"&&U!==null&&U.$$typeof===e},ht.isForwardRef=function(U){return k(U)===l},ht.isFragment=function(U){return k(U)===n},ht.isLazy=function(U){return k(U)===p},ht.isMemo=function(U){return k(U)===f},ht.isPortal=function(U){return k(U)===t},ht.isProfiler=function(U){return k(U)===i},ht.isStrictMode=function(U){return k(U)===r},ht.isSuspense=function(U){return k(U)===u},ht.isValidElementType=function(U){return typeof U=="string"||typeof U=="function"||U===n||U===i||U===w||U===r||U===u||U===d||U===b||typeof U=="object"&&U!==null&&(U.$$typeof===p||U.$$typeof===f||U.$$typeof===o||U.$$typeof===s||U.$$typeof===l||U.$$typeof===x||U.$$typeof===m||U[0]===g)},ht.typeOf=k,ht}var TN;function Wre(){return TN||(TN=1,gy.exports=zre()),gy.exports}Wre();var _R=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function Vre(e){var{tooltipEntrySettings:t}=e,n=cn(),r=Xn(),i=P.useRef(null);return P.useLayoutEffect(()=>{r||(i.current===null?n(vee(t)):i.current!==t&&n(yee({prev:i.current,next:t})),i.current=t)},[t,n,r]),P.useLayoutEffect(()=>()=>{i.current&&(n(xee(i.current)),i.current=null)},[n]),null}function Ure(e){var{legendPayload:t}=e,n=cn(),r=Xn(),i=P.useRef(null);return P.useLayoutEffect(()=>{r||(i.current===null?n(Gq(t)):i.current!==t&&n(Kq({prev:i.current,next:t})),i.current=t)},[n,r,t]),P.useLayoutEffect(()=>()=>{i.current&&(n(qq(i.current)),i.current=null)},[n]),null}var vy,Hre=()=>{var[e]=P.useState(()=>_c("uid-"));return e},Gre=(vy=f3.useId)!==null&&vy!==void 0?vy:Hre;function Kre(e,t){var n=Gre();return t||(e?"".concat(e,"-").concat(n):n)}var qre=P.createContext(void 0),Yre=e=>{var{id:t,type:n,children:r}=e,i=Kre("recharts-".concat(n),t);return P.createElement(qre.Provider,{value:i},r(i))},Xre={cartesianItems:[],polarItems:[]},DR=Yn({name:"graphicalItems",initialState:Xre,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:jt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Yr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:jt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Yr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:jt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:jt()},removePolarGraphicalItem:{reducer(e,t){var n=Yr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:jt()}}}),{addCartesianGraphicalItem:Zre,replaceCartesianGraphicalItem:Qre,removeCartesianGraphicalItem:Jre,addPolarGraphicalItem:Ole,removePolarGraphicalItem:jle}=DR.actions,eie=DR.reducer,tie=e=>{var t=cn(),n=P.useRef(null);return P.useLayoutEffect(()=>{n.current===null?t(Zre(e)):n.current!==e&&t(Qre({prev:n.current,next:e})),n.current=e},[t,e]),P.useLayoutEffect(()=>()=>{n.current&&(t(Jre(n.current)),n.current=null)},[t]),null},nie=P.memo(tie),rie=["points"];function _N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(n),!0).forEach(function(r){iie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iie(e,t,n){return(t=oie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oie(e){var t=aie(e,"string");return typeof t=="symbol"?t:t+""}function aie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pp.apply(null,arguments)}function sie(e,t){if(e==null)return{};var n,r,i=lie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cie(e){var{option:t,dotProps:n,className:r}=e;if(P.isValidElement(t))return P.cloneElement(t,n);if(typeof t=="function")return t(n);var i=kt(r,typeof t!="boolean"?t.className:""),o=n??{},{points:s}=o,l=sie(o,rie);return P.createElement(jR,Pp({},l,{className:i}))}function uie(e,t){return e==null?!1:t?!0:e.length===1}function die(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:s,needClip:l,clipPathId:u,zIndex:d=Fn.scatter}=e;if(!uie(t,n))return null;var f=_R(n),p=cH(n),m=t.map((x,w)=>{var b,C,k=yy(yy(yy({r:3},s),p),{},{index:w,cx:(b=x.x)!==null&&b!==void 0?b:void 0,cy:(C=x.y)!==null&&C!==void 0?C:void 0,dataKey:o,value:x.value,payload:x.payload,points:t});return P.createElement(cie,{key:"dot-".concat(w),option:n,dotProps:k,className:i})}),g={};return l&&u!=null&&(g.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),P.createElement(io,{zIndex:d},P.createElement(gi,Pp({className:r},g),m))}function DN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(n),!0).forEach(function(r){fie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fie(e,t,n){return(t=pie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pie(e){var t=hie(e,"string");return typeof t=="symbol"?t:t+""}function hie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MR=0,mie={xAxis:{},yAxis:{},zAxis:{}},IR=Yn({name:"cartesianAxis",initialState:mie,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:jt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:jt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:jt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:jt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:jt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:jt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:jt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:jt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:jt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((o=s[0])!==null&&o!==void 0?o:0))<=1)return;var l=[...s,r].slice(-3);e.yAxis[n]=MN(MN({},i),{},{width:r,widthHistory:l})}}}}),{addXAxis:gie,replaceXAxis:vie,removeXAxis:yie,addYAxis:xie,replaceYAxis:bie,removeYAxis:wie,addZAxis:Tle,replaceZAxis:_le,removeZAxis:Dle,updateYAxisWidth:Sie}=IR.actions,Pie=IR.reducer,Cie=J([Sn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Aie=J([Cie,Zi,Qi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),E1=()=>Fe(Aie),kie=()=>Fe(dte);function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(r){Eie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eie(e,t,n){return(t=Nie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nie(e){var t=Oie(e,"string");return typeof t=="symbol"?t:t+""}function Oie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jie=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=xy(xy(xy({},l),Gp(i)),pb(i)),d;return P.isValidElement(i)?d=P.cloneElement(i,u):typeof i=="function"?d=i(u):d=P.createElement(jR,u),P.createElement(gi,{className:"recharts-active-dot",clipPath:s},d)};function RN(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:s=Fn.activeDot}=e,l=Fe(Hc),u=kie();if(t==null||u==null)return null;var d=t.find(f=>u.includes(f.payload));return _n(d)?null:P.createElement(io,{zIndex:s},P.createElement(jie,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var Tie=e=>{var{chartData:t}=e,n=cn(),r=Xn();return P.useEffect(()=>r?()=>{}:(n(sN(t)),()=>{n(sN(void 0))}),[t,n,r]),null},LN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RR=Yn({name:"brush",initialState:LN,reducers:{setBrushSettings(e,t){return t.payload==null?LN:t.payload}}}),{setBrushSettings:Mle}=RR.actions,_ie=RR.reducer;function Die(e){return(e%180+180)%180}var Mie=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Die(i),s=o*Math.PI/180,l=Math.atan(r/n),u=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},Iie={dots:[],areas:[],lines:[]},LR=Yn({name:"referenceElements",initialState:Iie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Yr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Yr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Yr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Ile,removeDot:Rle,addArea:Lle,removeArea:Fle,addLine:$le,removeLine:Ble}=LR.actions,Rie=LR.reducer,Lie=P.createContext(void 0),Fie=e=>{var{children:t}=e,[n]=P.useState("".concat(_c("recharts"),"-clip")),r=E1();if(r==null)return null;var{x:i,y:o,width:s,height:l}=r;return P.createElement(Lie.Provider,{value:n},P.createElement("defs",null,P.createElement("clipPath",{id:n},P.createElement("rect",{x:i,y:o,height:l,width:s}))),t)};function FR(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function $ie(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Mie(r,n)}function Bie(e,t,n){var r=n==="width",{x:i,y:o,width:s,height:l}=e;return t===1?{start:r?i:o,end:r?i+s:o+l}:{start:r?i+s:o+l,end:r?i:o}}function Kc(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function zie(e,t){return FR(e,t+1)}function Wie(e,t,n,r,i){for(var o=(r||[]).slice(),{start:s,end:l}=t,u=0,d=1,f=s,p=function(){var x=r?.[u];if(x===void 0)return{v:FR(r,d)};var w=u,b,C=()=>(b===void 0&&(b=n(x,w)),b),k=x.coordinate,E=u===0||Kc(e,k,C,f,l);E||(u=0,f=s,d+=1),E&&(f=k+e*(C()/2+i),u+=d)},m;d<=o.length;)if(m=p(),m)return m.v;return[]}function Vie(e,t,n,r,i){var o=(r||[]).slice(),s=o.length;if(s===0)return[];for(var{start:l,end:u}=t,d=1;d<=s;d++){for(var f=(s-1)%d,p=l,m=!0,g=function(){var N=r[w];if(N==null)return 0;var j=w,O,_=()=>(O===void 0&&(O=n(N,j)),O),D=N.coordinate,z=w===f||Kc(e,D,_,p,u);if(!z)return m=!1,1;z&&(p=D+e*(_()/2+i))},x,w=f;w<s&&(x=g(),!(x!==0&&x===1));w+=d);if(m){for(var b=[],C=f;C<s;C+=d){var k=r[C];k!=null&&b.push(k)}return b}}return[]}function FN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(n),!0).forEach(function(r){Uie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uie(e,t,n){return(t=Hie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hie(e){var t=Gie(e,"string");return typeof t=="symbol"?t:t+""}function Gie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kie(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:l}=t,{end:u}=t,d=function(m){var g=o[m];if(g==null)return 1;var x=g,w,b=()=>(w===void 0&&(w=n(g,m)),w);if(m===s-1){var C=e*(x.coordinate+e*b()/2-u);o[m]=x=On(On({},x),{},{tickCoord:C>0?x.coordinate-C*e:x.coordinate})}else o[m]=x=On(On({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var k=Kc(e,x.tickCoord,b,l,u);k&&(u=x.tickCoord-e*(b()/2+i),o[m]=On(On({},x),{},{isShow:!0}))}},f=s-1;f>=0;f--)d(f);return o}function qie(e,t,n,r,i,o){var s=(r||[]).slice(),l=s.length,{start:u,end:d}=t;if(o){var f=r[l-1];if(f!=null){var p=n(f,l-1),m=e*(f.coordinate+e*p/2-d);if(s[l-1]=f=On(On({},f),{},{tickCoord:m>0?f.coordinate-m*e:f.coordinate}),f.tickCoord!=null){var g=Kc(e,f.tickCoord,()=>p,u,d);g&&(d=f.tickCoord-e*(p/2+i),s[l-1]=On(On({},f),{},{isShow:!0}))}}}for(var x=o?l-1:l,w=function(k){var E=s[k];if(E==null)return 1;var N=E,j,O=()=>(j===void 0&&(j=n(E,k)),j);if(k===0){var _=e*(N.coordinate-e*O()/2-u);s[k]=N=On(On({},N),{},{tickCoord:_<0?N.coordinate-_*e:N.coordinate})}else s[k]=N=On(On({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var D=Kc(e,N.tickCoord,O,u,d);D&&(u=N.tickCoord+e*(O()/2+i),s[k]=On(On({},N),{},{isShow:!0}))}},b=0;b<x;b++)w(b);return s}function N1(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:l,interval:u,tickFormatter:d,unit:f,angle:p}=e;if(!i||!i.length||!r)return[];if(_e(u)||cu.isSsr){var m;return(m=zie(i,_e(u)?u:0))!==null&&m!==void 0?m:[]}var g=[],x=l==="top"||l==="bottom"?"width":"height",w=f&&x==="width"?vc(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(j,O)=>{var _=typeof d=="function"?d(j.value,O):j.value;return x==="width"?$ie(vc(_,{fontSize:t,letterSpacing:n}),w,p):vc(_,{fontSize:t,letterSpacing:n})[x]},C=i[0],k=i[1],E=i.length>=2&&C!=null&&k!=null?Or(k.coordinate-C.coordinate):1,N=Bie(o,E,x);return u==="equidistantPreserveStart"?Wie(E,N,b,i,s):u==="equidistantPreserveEnd"?Vie(E,N,b,i,s):(u==="preserveStart"||u==="preserveStartEnd"?g=qie(E,N,b,i,s,u==="preserveStartEnd"):g=Kie(E,N,b,i,s),g.filter(j=>j.isShow))}var Yie=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,s=0;if(t){Array.from(t).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>s&&(s=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+o,d=s+u+l+(n?r:0);return Math.round(d)}return 0},Xie=["axisLine","width","height","className","hide","ticks","axisType"];function Zie(e,t){if(e==null)return{};var n,r,i=Qie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(null,arguments)}function $N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(n),!0).forEach(function(r){Jie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jie(e,t,n){return(t=eoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eoe(e){var t=toe(e,"string");return typeof t=="symbol"?t:t+""}function toe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Fn.axis};function noe(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=$t($t($t({},u),Xr(l)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!s||o==="bottom"&&s);d=$t($t({},d),{},{x1:t,y1:n+f*i,x2:t+r,y2:n+f*i})}else{var p=+(o==="left"&&!s||o==="right"&&s);d=$t($t({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return P.createElement("line",_a({},d,{className:kt("recharts-cartesian-axis-line",Yp(l,"className"))}))}function roe(e,t,n,r,i,o,s,l,u){var d,f,p,m,g,x,w=l?-1:1,b=e.tickSize||s,C=_e(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":d=f=e.coordinate,m=n+ +!l*i,p=m-w*b,x=p-w*u,g=C;break;case"left":p=m=e.coordinate,f=t+ +!l*r,d=f-w*b,g=d-w*u,x=C;break;case"right":p=m=e.coordinate,f=t+ +l*r,d=f+w*b,g=d+w*u,x=C;break;default:d=f=e.coordinate,m=n+ +l*i,p=m+w*b,x=p+w*u,g=C;break}return{line:{x1:d,y1:p,x2:f,y2:m},tick:{x:g,y:x}}}function ioe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ooe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function aoe(e){var{option:t,tickProps:n,value:r}=e,i,o=kt(n.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(t))i=P.cloneElement(t,$t($t({},n),{},{className:o}));else if(typeof t=="function")i=t($t($t({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=kt(s,Bre(t))),i=P.createElement(A1,_a({},n,{className:s}),r)}return i}var soe=P.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:s,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:p,x:m,y:g,width:x,height:w,tickSize:b,tickMargin:C,fontSize:k,letterSpacing:E,getTicksConfig:N,events:j,axisType:O}=e,_=N1($t($t({},N),{},{ticks:n}),k,E),D=ioe(f,p),z=ooe(f,p),q=Xr(N),G=Gp(r),F={};typeof i=="object"&&(F=i);var U=$t($t({},q),{},{fill:"none"},F),fe=_.map(Q=>$t({entry:Q},roe(Q,m,g,x,w,f,b,p,C))),ue=fe.map(Q=>{var{entry:Y,line:re}=Q;return P.createElement(gi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},i&&P.createElement("line",_a({},U,re,{className:kt("recharts-cartesian-axis-tick-line",Yp(i,"className"))})))}),be=fe.map((Q,Y)=>{var re,te,{entry:R,tick:W}=Q,ie=$t($t($t($t({verticalAnchor:z},q),{},{textAnchor:D,stroke:"none",fill:o},W),{},{index:Y,payload:R,visibleTicksCount:_.length,tickFormatter:s,padding:u},d),{},{angle:(re=(te=d?.angle)!==null&&te!==void 0?te:q.angle)!==null&&re!==void 0?re:0}),oe=$t($t({},ie),G);return P.createElement(gi,_a({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},HH(j,R,Y)),r&&P.createElement(aoe,{option:r,tickProps:oe,value:"".concat(typeof s=="function"?s(R.value,Y):R.value).concat(l||"")}))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},be.length>0&&P.createElement(io,{zIndex:Fn.label},P.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},be)),ue.length>0&&P.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},ue))}),loe=P.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:s,ticks:l,axisType:u}=e,d=Zie(e,Xie),[f,p]=P.useState(""),[m,g]=P.useState(""),x=P.useRef(null);P.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return Yie({ticks:x.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=P.useCallback(b=>{if(b){var C=b.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=C;var k=C[0];if(k){var E=window.getComputedStyle(k),N=E.fontSize,j=E.letterSpacing;(N!==f||j!==m)&&(p(N),g(j))}}},[f,m]);return s||r!=null&&r<=0||i!=null&&i<=0?null:P.createElement(io,{zIndex:e.zIndex},P.createElement(gi,{className:kt("recharts-cartesian-axis",o)},P.createElement(noe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Xr(e)}),P.createElement(soe,{ref:w,axisType:u,events:d,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),P.createElement(pre,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},P.createElement(Pre,{label:e.label,labelRef:e.labelRef}),e.children)))}),O1=P.forwardRef((e,t)=>{var n=hr(e,zi);return P.createElement(loe,_a({},n,{ref:t}))});O1.displayName="CartesianAxis";var coe=["x1","y1","x2","y2","key"],uoe=["offset"],doe=["xAxisId","yAxisId"],foe=["xAxisId","yAxisId"];function BN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(n),!0).forEach(function(r){poe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function poe(e,t,n){return(t=hoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hoe(e){var t=moe(e,"string");return typeof t=="symbol"?t:t+""}function moe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ya.apply(null,arguments)}function Cp(e,t){if(e==null)return{};var n,r,i=goe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function goe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var voe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:l}=e;return P.createElement("rect",{x:r,y:i,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $R(e){var{option:t,lineItemProps:n}=e,r;if(P.isValidElement(t))r=P.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:s,x2:l,y2:u,key:d}=n,f=Cp(n,coe),p=(i=Xr(f))!==null&&i!==void 0?i:{},{offset:m}=p,g=Cp(p,uoe);r=P.createElement("line",ya({},g,{x1:o,y1:s,x2:l,y2:u,fill:"none",key:d}))}return r}function yoe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=Cp(e,doe),u=i.map((d,f)=>{var p=jn(jn({},l),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(f),index:f});return P.createElement($R,{key:"line-".concat(f),option:r,lineItemProps:p})});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function xoe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=Cp(e,foe),u=i.map((d,f)=>{var p=jn(jn({},l),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(f),index:f});return P.createElement($R,{option:r,lineItemProps:p,key:"line-".concat(f)})});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function boe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==d[0]&&d.unshift(0);var f=d.map((p,m)=>{var g=d[m+1],x=g==null,w=x?i+s-p:g-p;if(w<=0)return null;var b=m%t.length;return P.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:w,width:o,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function woe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==d[0]&&d.unshift(0);var f=d.map((p,m)=>{var g=d[m+1],x=g==null,w=x?i+s-p:g-p;if(w<=0)return null;var b=m%n.length;return P.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:w,height:l,stroke:"none",fill:n[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Soe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return TD(N1(jn(jn(jn({},zi),n),{},{ticks:_D(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},Poe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return TD(N1(jn(jn(jn({},zi),n),{},{ticks:_D(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},Coe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Fn.grid};function BR(e){var t=BD(),n=zD(),r=$D(),i=jn(jn({},hr(e,Coe)),{},{x:_e(e.x)?e.x:r.left,y:_e(e.y)?e.y:r.top,width:_e(e.width)?e.width:r.width,height:_e(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:s,x:l,y:u,width:d,height:f,syncWithTicks:p,horizontalValues:m,verticalValues:g}=i,x=Xn(),w=Fe(z=>YE(z,"xAxis",o,x)),b=Fe(z=>YE(z,"yAxis",s,x));if(!xi(d)||!xi(f)||!_e(l)||!_e(u))return null;var C=i.verticalCoordinatesGenerator||Soe,k=i.horizontalCoordinatesGenerator||Poe,{horizontalPoints:E,verticalPoints:N}=i;if((!E||!E.length)&&typeof k=="function"){var j=m&&m.length,O=k({yAxis:b?jn(jn({},b),{},{ticks:j?m:b.ticks}):void 0,width:t??d,height:n??f,offset:r},j?!0:p);Qf(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(E=O)}if((!N||!N.length)&&typeof C=="function"){var _=g&&g.length,D=C({xAxis:w?jn(jn({},w),{},{ticks:_?g:w.ticks}):void 0,width:t??d,height:n??f,offset:r},_?!0:p);Qf(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(N=D)}return P.createElement(io,{zIndex:i.zIndex},P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(voe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),P.createElement(boe,ya({},i,{horizontalPoints:E})),P.createElement(woe,ya({},i,{verticalPoints:N})),P.createElement(yoe,ya({},i,{offset:r,horizontalPoints:E,xAxis:w,yAxis:b})),P.createElement(xoe,ya({},i,{offset:r,verticalPoints:N,xAxis:w,yAxis:b}))))}BR.displayName="CartesianGrid";var Aoe={},zR=Yn({name:"errorBars",initialState:Aoe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:zle,replaceErrorBar:Wle,removeErrorBar:Vle}=zR.actions,koe=zR.reducer;function WR(e,t){var n,r,i=Fe(d=>to(d,e)),o=Fe(d=>no(d,t)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:nn.allowDataOverflow,l=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:rn.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function Eoe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=E1(),{needClipX:o,needClipY:s,needClip:l}=WR(t,n);if(!l||!i)return null;var{x:u,y:d,width:f,height:p}=i;return P.createElement("clipPath",{id:"clipPath-".concat(r)},P.createElement("rect",{x:o?u:u-f/2,y:s?d:d-p/2,width:o?f:f*2,height:s?p:p*2}))}function Noe(e){var t=Gp(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,s=Number(i),l=Number(o);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(l)||l<0)&&(l=r),{r:s,strokeWidth:l}}return{r:n,strokeWidth:r}}var Ooe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function joe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function j1(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Ooe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!df(e[r],t[r]))return!1}else if(!joe(e[r],t[r]))return!1;return!0}function T1(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:MR}function _1(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:MR}var VR=(e,t,n)=>WI(e,"xAxis",T1(e,t),n),UR=(e,t,n)=>zI(e,"xAxis",T1(e,t),n),HR=(e,t,n)=>WI(e,"yAxis",_1(e,t),n),GR=(e,t,n)=>zI(e,"yAxis",_1(e,t),n),Toe=J([_t,VR,HR,UR,GR],(e,t,n,r,i)=>wi(e,"xAxis")?Zf(t,r,!1):Zf(n,i,!1)),_oe=(e,t)=>t,KR=J([cI,_oe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),qR=e=>{var t=_t(e),n=wi(t,"xAxis");return n?"yAxis":"xAxis"},Doe=(e,t)=>{var n=qR(e);return n==="yAxis"?_1(e,t):T1(e,t)},Moe=(e,t,n)=>yI(e,qR(e),Doe(e,t),n),Ioe=J([KR,Moe],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=i1(e);if(!(r==null||i==null)){var o=(n=t[r])===null||n===void 0?void 0:n.stackedData,s=o?.find(l=>l.key===i);if(s!=null)return s.map(l=>[l[0],l[1]])}}}),Roe=J([_t,VR,HR,UR,GR,Ioe,YQ,Toe,KR,iJ],(e,t,n,r,i,o,s,l,u,d)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=s;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:g}=u,x;if(g&&g.length>0?x=g:x=f?.slice(p,m+1),x!=null)return tae({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:o,displayedData:x,chartBaseValue:d,bandSize:l})}}),Loe=["id"],Foe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ca.apply(null,arguments)}function YR(e,t){if(e==null)return{};var n,r,i=$oe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $oe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(n),!0).forEach(function(r){Boe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Boe(e,t,n){return(t=zoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zoe(e){var t=Woe(e,"string");return typeof t=="symbol"?t:t+""}function Woe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ap(e,t){return e&&e!=="none"?e:t}var Voe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:o,hide:s}=e;return[{inactive:s,dataKey:t,type:o,color:Ap(r,i),value:DD(n,t),payload:e}]},Uoe=P.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:l,unit:u,tooltipType:d,id:f}=e,p={dataDefinedOnItem:n,getPosition:Zs,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:DD(s,t),hide:l,type:d,color:Ap(r,o),unit:u,graphicalItemId:f}};return P.createElement(Vre,{tooltipEntrySettings:p})});function Hoe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:o,dataKey:s}=r,l=Xr(r);return P.createElement(die,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:i,clipPathId:t})}function Goe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(o=>{var s,l,u={x:(s=o.x)!==null&&s!==void 0?s:0,y:(l=o.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Cs(Cs({},u),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return P.createElement(Mre,{value:t?i:void 0},n)}function WN(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:o}=e,{layout:s,type:l,stroke:u,connectNulls:d,isRange:f}=o,{id:p}=o,m=YR(o,Loe),g=Xr(m),x=_r(m);return P.createElement(P.Fragment,null,t?.length>1&&P.createElement(gi,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},P.createElement(vf,Ca({},x,{id:p,points:t,connectNulls:d,type:l,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&P.createElement(vf,Ca({},g,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&f&&P.createElement(vf,Ca({},g,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:n}))),P.createElement(Hoe,{points:t,props:m,clipPathId:i}))}function Koe(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=e,l=(t=o[0])===null||t===void 0?void 0:t.y,u=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!et(l)||!et(u))return null;var d=r*Math.abs(l-u),f=Math.max(...o.map(p=>p.x||0));return _e(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(p=>p.x||0),f)),_e(f)?P.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function qoe(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=e,l=(t=o[0])===null||t===void 0?void 0:t.x,u=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!et(l)||!et(u))return null;var d=r*Math.abs(l-u),f=Math.max(...o.map(p=>p.y||0));return _e(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(p=>p.y||0),f)),_e(f)?P.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}function Yoe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:o}=e;return n==="vertical"?P.createElement(Koe,{alpha:t,points:r,baseLine:i,strokeWidth:o}):P.createElement(qoe,{alpha:t,points:r,baseLine:i,strokeWidth:o})}function Xoe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=e,{points:s,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:p,onAnimationStart:m,onAnimationEnd:g}=r,x=P.useMemo(()=>({points:s,baseLine:l}),[s,l]),w=tM(x,"recharts-area-"),b=Cb(),[C,k]=P.useState(!1),E=!C,N=P.useCallback(()=>{typeof g=="function"&&g(),k(!1)},[g]),j=P.useCallback(()=>{typeof m=="function"&&m(),k(!0)},[m]);if(b==null)return null;var O=i.current,_=o.current;return P.createElement(Goe,{showLabels:E,points:s},r.children,P.createElement(eM,{animationId:w,begin:d,duration:f,isActive:u,easing:p,onAnimationEnd:N,onAnimationStart:j,key:w},D=>{if(O){var z=O.length/s.length,q=D===1?s:s.map((F,U)=>{var fe=Math.floor(U*z);if(O[fe]){var ue=O[fe];return Cs(Cs({},F),{},{x:ui(ue.x,F.x,D),y:ui(ue.y,F.y,D)})}return F}),G;return _e(l)?G=ui(_,l,D):_n(l)||vi(l)?G=ui(_,0,D):G=l.map((F,U)=>{var fe=Math.floor(U*z);if(Array.isArray(_)&&_[fe]){var ue=_[fe];return Cs(Cs({},F),{},{x:ui(ue.x,F.x,D),y:ui(ue.y,F.y,D)})}return F}),D>0&&(i.current=q,o.current=G),P.createElement(WN,{points:q,baseLine:G,needClip:t,clipPathId:n,props:r})}return D>0&&(i.current=s,o.current=l),P.createElement(gi,null,u&&P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(n)},P.createElement(Yoe,{alpha:D,points:s,baseLine:l,layout:b,strokeWidth:r.strokeWidth}))),P.createElement(gi,{clipPath:"url(#animationClipPath-".concat(n,")")},P.createElement(WN,{points:s,baseLine:l,needClip:t,clipPathId:n,props:r})))}),P.createElement(Lre,{label:r.label}))}function Zoe(e){var{needClip:t,clipPathId:n,props:r}=e,i=P.useRef(null),o=P.useRef();return P.createElement(Xoe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class Qoe extends P.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:o,left:s,needClip:l,xAxisId:u,yAxisId:d,width:f,height:p,id:m,baseLine:g,zIndex:x}=this.props;if(t)return null;var w=kt("recharts-area",i),b=m,{r:C,strokeWidth:k}=Noe(n),E=_R(n),N=C*2+k,j=l?"url(#clipPath-".concat(E?"":"dots-").concat(b,")"):void 0;return P.createElement(io,{zIndex:x},P.createElement(gi,{className:w},l&&P.createElement("defs",null,P.createElement(Eoe,{clipPathId:b,xAxisId:u,yAxisId:d}),!E&&P.createElement("clipPath",{id:"clipPath-dots-".concat(b)},P.createElement("rect",{x:s-N/2,y:o-N/2,width:f+N,height:p+N}))),P.createElement(Zoe,{needClip:l,clipPathId:b,props:this.props})),P.createElement(RN,{points:r,mainColor:Ap(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}),this.props.isRange&&Array.isArray(g)&&P.createElement(RN,{points:g,mainColor:Ap(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}))}}var XR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Fn.area};function Joe(e){var t,n=hr(e,XR),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:l,dot:u,fill:d,fillOpacity:f,hide:p,isAnimationActive:m,legendType:g,stroke:x,xAxisId:w,yAxisId:b}=n,C=YR(n,Foe),k=Qs(),E=uR(),{needClip:N}=WR(w,b),j=Xn(),{points:O,isRange:_,baseLine:D}=(t=Fe(fe=>Roe(fe,e.id,j)))!==null&&t!==void 0?t:{},z=E1();if(k!=="horizontal"&&k!=="vertical"||z==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:q,width:G,x:F,y:U}=z;return!O||!O.length?null:P.createElement(Qoe,Ca({},C,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,baseLine:D,connectNulls:l,dot:u,fill:d,fillOpacity:f,height:q,hide:p,layout:k,isAnimationActive:m==="auto"?!cu.isSsr:m,isRange:_,legendType:g,needClip:N,points:O,stroke:x,width:G,left:F,top:U,xAxisId:w,yAxisId:b}))}var eae=(e,t,n,r,i)=>{var o=n??t;if(_e(o))return o;var s=e==="horizontal"?i:r,l=s.scale.domain();if(s.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return o==="dataMin"?l[0]:o==="dataMax"?l[1]:l[0]};function tae(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:s,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:f,xAxisTicks:p,yAxisTicks:m,bandSize:g}=e,x=i&&i.length,w=eae(o,s,n,l,u),b=o==="horizontal",C=!1,k=d.map((N,j)=>{var O,_,D,z;if(x)z=i[f+j];else{var q=wn(N,r);Array.isArray(q)?(z=q,C=!0):z=[w,q]}var G=(O=(_=z)===null||_===void 0?void 0:_[1])!==null&&O!==void 0?O:null,F=G==null||x&&!t&&wn(N,r)==null;if(b){var U;return{x:XA({axis:l,ticks:p,bandSize:g,entry:N,index:j}),y:F?null:(U=u.scale.map(G))!==null&&U!==void 0?U:null,value:z,payload:N}}return{x:F?null:(D=l.scale.map(G))!==null&&D!==void 0?D:null,y:XA({axis:u,ticks:m,bandSize:g,entry:N,index:j}),value:z,payload:N}}),E;return x||C?E=k.map(N=>{var j,O=Array.isArray(N.value)?N.value[0]:null;if(b){var _;return{x:N.x,y:O!=null&&N.y!=null&&(_=u.scale.map(O))!==null&&_!==void 0?_:null,payload:N.payload}}return{x:O!=null&&(j=l.scale.map(O))!==null&&j!==void 0?j:null,y:N.y,payload:N.payload}}):E=b?u.scale.map(w):l.scale.map(w),{points:k,baseLine:E??0,isRange:C}}function nae(e){var t=hr(e,XR),n=Xn();return P.createElement(Yre,{id:t.id,type:"area"},r=>P.createElement(P.Fragment,null,P.createElement(Ure,{legendPayload:Voe(t)}),P.createElement(Uoe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),P.createElement(nie,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:YK(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),P.createElement(Joe,Ca({},t,{id:r}))))}var ZR=P.memo(nae,j1);ZR.displayName="Area";var rae=["domain","range"],iae=["domain","range"];function VN(e,t){if(e==null)return{};var n,r,i=oae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function UN(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function QR(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=VN(e,rae),{domain:o,range:s}=t,l=VN(t,iae);return!UN(n,o)||!UN(r,s)?!1:j1(i,l)}var aae=["type"],sae=["dangerouslySetInnerHTML","ticks","scale"],lae=["id","scale"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(null,arguments)}function HN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(n),!0).forEach(function(r){cae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cae(e,t,n){return(t=uae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uae(e){var t=dae(e,"string");return typeof t=="symbol"?t:t+""}function dae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H0(e,t){if(e==null)return{};var n,r,i=fae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pae(e){var t=cn(),n=P.useRef(null),r=Cb(),{type:i}=e,o=H0(e,aae),s=Sh(r,"xAxis",i),l=P.useMemo(()=>{if(s!=null)return GN(GN({},o),{},{type:s})},[o,s]);return P.useLayoutEffect(()=>{l!=null&&(n.current===null?t(gie(l)):n.current!==l&&t(vie({prev:n.current,next:l})),n.current=l)},[l,t]),P.useLayoutEffect(()=>()=>{n.current&&(t(yie(n.current)),n.current=null)},[t]),null}var hae=e=>{var{xAxisId:t,className:n}=e,r=Fe(ID),i=Xn(),o="xAxis",s=Fe(C=>BI(C,o,t,i)),l=Fe(C=>eee(C,t)),u=Fe(C=>aee(C,t)),d=Fe(C=>oI(C,t));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p,scale:m}=e,g=H0(e,sae),{id:x,scale:w}=d,b=H0(d,lae);return P.createElement(O1,U0({},g,b,{x:u.x,y:u.y,width:l.width,height:l.height,className:kt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s,axisType:o}))},mae={allowDataOverflow:nn.allowDataOverflow,allowDecimals:nn.allowDecimals,allowDuplicatedCategory:nn.allowDuplicatedCategory,angle:nn.angle,axisLine:zi.axisLine,height:nn.height,hide:!1,includeHidden:nn.includeHidden,interval:nn.interval,label:!1,minTickGap:nn.minTickGap,mirror:nn.mirror,orientation:nn.orientation,padding:nn.padding,reversed:nn.reversed,scale:nn.scale,tick:nn.tick,tickCount:nn.tickCount,tickLine:zi.tickLine,tickSize:zi.tickSize,type:nn.type,xAxisId:0},gae=e=>{var t=hr(e,mae);return P.createElement(P.Fragment,null,P.createElement(pae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),P.createElement(hae,t))},JR=P.memo(gae,QR);JR.displayName="XAxis";var vae=["type"],yae=["dangerouslySetInnerHTML","ticks","scale"],xae=["id","scale"];function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G0.apply(null,arguments)}function KN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(n),!0).forEach(function(r){bae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bae(e,t,n){return(t=wae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wae(e){var t=Sae(e,"string");return typeof t=="symbol"?t:t+""}function Sae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K0(e,t){if(e==null)return{};var n,r,i=Pae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cae(e){var t=cn(),n=P.useRef(null),r=Cb(),{type:i}=e,o=K0(e,vae),s=Sh(r,"yAxis",i),l=P.useMemo(()=>{if(s!=null)return qN(qN({},o),{},{type:s})},[s,o]);return P.useLayoutEffect(()=>{l!=null&&(n.current===null?t(xie(l)):n.current!==l&&t(bie({prev:n.current,next:l})),n.current=l)},[l,t]),P.useLayoutEffect(()=>()=>{n.current&&(t(wie(n.current)),n.current=null)},[t]),null}function Aae(e){var{yAxisId:t,className:n,width:r,label:i}=e,o=P.useRef(null),s=P.useRef(null),l=Fe(ID),u=Xn(),d=cn(),f="yAxis",p=Fe(O=>cee(O,t)),m=Fe(O=>lee(O,t)),g=Fe(O=>BI(O,f,t,u)),x=Fe(O=>aI(O,t));if(P.useLayoutEffect(()=>{if(!(r!=="auto"||!p||k1(i)||P.isValidElement(i)||x==null)){var O=o.current;if(O){var _=O.getCalculatedWidth();Math.round(p.width)!==Math.round(_)&&d(Sie({id:t,width:_}))}}},[g,p,d,i,t,r,x]),p==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:w,ticks:b,scale:C}=e,k=K0(e,yae),{id:E,scale:N}=x,j=K0(x,xae);return P.createElement(O1,G0({},k,j,{ref:o,labelRef:s,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:kt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:g,axisType:f}))}var kae={allowDataOverflow:rn.allowDataOverflow,allowDecimals:rn.allowDecimals,allowDuplicatedCategory:rn.allowDuplicatedCategory,angle:rn.angle,axisLine:zi.axisLine,hide:!1,includeHidden:rn.includeHidden,interval:rn.interval,label:!1,minTickGap:rn.minTickGap,mirror:rn.mirror,orientation:rn.orientation,padding:rn.padding,reversed:rn.reversed,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,tickLine:zi.tickLine,tickSize:zi.tickSize,type:rn.type,width:rn.width,yAxisId:0},Eae=e=>{var t=hr(e,kae);return P.createElement(P.Fragment,null,P.createElement(Cae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),P.createElement(Aae,t))},eL=P.memo(Eae,QR);eL.displayName="YAxis";var Nae=(e,t)=>t,D1=J([Nae,_t,rI,fn,iR,ro,Pte,Sn],jte),M1=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},tL=Dr("mouseClick"),nL=ou();nL.startListening({actionCreator:tL,effect:(e,t)=>{var n=e.payload,r=D1(t.getState(),M1(n));r?.activeIndex!=null&&t.dispatch(See({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var q0=Dr("mouseMove"),rL=ou(),af=null;rL.startListening({actionCreator:q0,effect:(e,t)=>{var n=e.payload;af!==null&&cancelAnimationFrame(af);var r=M1(n);af=requestAnimationFrame(()=>{var i=t.getState(),o=m1(i,i.tooltip.settings.shared);if(o==="axis"){var s=D1(i,r);s?.activeIndex!=null?t.dispatch(YI({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(qI())}af=null})}});function Oae(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var YN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},iL=Yn({name:"rootProps",initialState:YN,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:YN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),jae=iL.reducer,{updateOptions:Tae}=iL.actions,_ae=null,Dae={updatePolarOptions:(e,t)=>t.payload},oL=Yn({name:"polarOptions",initialState:_ae,reducers:Dae}),{updatePolarOptions:Ule}=oL.actions,Mae=oL.reducer,aL=Dr("keyDown"),sL=Dr("focus"),I1=ou();I1.startListening({actionCreator:aL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=g1(i,sl(n),gu(n),yu(n)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var u=ro(n);if(o==="Enter"){var d=wp(n,"axis","hover",String(i.index));t.dispatch($0({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=pee(n),p=f==="left-to-right"?1:-1,m=o==="ArrowRight"?1:-1,g=l+m*p;if(!(u==null||g>=u.length||g<0)){var x=wp(n,"axis","hover",String(g));t.dispatch($0({active:!0,activeIndex:g.toString(),activeCoordinate:x}))}}}}}});I1.startListening({actionCreator:sL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=wp(n,"axis","hover",String(o));t.dispatch($0({active:!0,activeIndex:o,activeCoordinate:s}))}}}});var Ar=Dr("externalEvent"),lL=ou(),by=new Map;lL.startListening({actionCreator:Ar,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=by.get(i);o!==void 0&&cancelAnimationFrame(o);var s=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:lte(l),activeDataKey:ate(l),activeIndex:Hc(l),activeLabel:sR(l),activeTooltipIndex:Hc(l),isTooltipActive:cte(l)};n(u,r)}finally{by.delete(i)}});by.set(i,s)}}});var Iae=J([ol],e=>e.tooltipItemPayloads),Rae=J([Iae,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),cL=Dr("touchMove"),uL=ou();uL.startListening({actionCreator:cL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=m1(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var s=D1(r,M1({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&t.dispatch(YI({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(nq),p=(l=d.getAttribute(rq))!==null&&l!==void 0?l:void 0,m=al(r).find(w=>w.id===p);if(f==null||m==null||p==null)return;var{dataKey:g}=m,x=Rae(r,f,p);t.dispatch(wee({activeDataKey:g,activeIndex:f,activeCoordinate:x,activeGraphicalItemId:p}))}}}});var Lae=sT({brush:_ie,cartesianAxis:Pie,chartData:lne,errorBars:koe,graphicalItems:eie,layout:BK,legend:Yq,options:rne,polarAxis:$re,polarOptions:Mae,referenceElements:Rie,rootProps:jae,tooltip:Pee,zIndex:Ute}),Fae=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return dK({reducer:Lae,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([nL.middleware,rL.middleware,I1.middleware,lL.middleware,uL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(vD({type:"raf"}))},devTools:{serialize:{replacer:Oae},name:"recharts-".concat(n)}})};function $ae(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Xn(),o=P.useRef(null);if(i)return n;o.current==null&&(o.current=Fae(t,r));var s=gb;return P.createElement(gT,{context:s,store:o.current},n)}function Bae(e){var{layout:t,margin:n}=e,r=cn(),i=Xn();return P.useEffect(()=>{i||(r(LK(t)),r(RK(n)))},[r,i,t,n]),null}var zae=P.memo(Bae,j1);function Wae(e){var t=cn();return P.useEffect(()=>{t(Tae(e))},[t,e]),null}function XN(e){var{zIndex:t,isPanorama:n}=e,r=P.useRef(null),i=cn();return P.useLayoutEffect(()=>(r.current&&i(Wte({zIndex:t,element:r.current,isPanorama:n})),()=>{i(Vte({zIndex:t,isPanorama:n}))}),[i,t,n]),P.createElement("g",{tabIndex:-1,ref:r})}function ZN(e){var{children:t,isPanorama:n}=e,r=Fe(_te);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),o=r.filter(s=>s>0);return P.createElement(P.Fragment,null,i.map(s=>P.createElement(XN,{key:s,zIndex:s,isPanorama:n})),t,o.map(s=>P.createElement(XN,{key:s,zIndex:s,isPanorama:n})))}var Vae=["children"];function Uae(e,t){if(e==null)return{};var n,r,i=Hae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kp.apply(null,arguments)}var Gae={width:"100%",height:"100%",display:"block"},Kae=P.forwardRef((e,t)=>{var n=BD(),r=zD(),i=XD();if(!xi(n)||!xi(r))return null;var{children:o,otherAttributes:s,title:l,desc:u}=e,d,f;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),P.createElement(E_,kp({},s,{title:l,desc:u,role:f,tabIndex:d,width:n,height:r,style:Gae,ref:t}),o)}),qae=e=>{var{children:t}=e,n=Fe(ch);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return P.createElement(E_,{width:r,height:i,x:s,y:o},t)},QN=P.forwardRef((e,t)=>{var{children:n}=e,r=Uae(e,Vae),i=Xn();return i?P.createElement(qae,null,P.createElement(ZN,{isPanorama:!0},n)):P.createElement(Kae,kp({ref:t},r),P.createElement(ZN,{isPanorama:!1},n))});function Yae(){var e=cn(),[t,n]=P.useState(null),r=Fe(tq);return P.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;et(o)&&o!==r&&e($K(o))}},[t,e,r]),n}function JN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(n),!0).forEach(function(r){Zae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zae(e,t,n){return(t=Qae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qae(e){var t=Jae(e,"string");return typeof t=="symbol"?t:t+""}function Jae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Io.apply(null,arguments)}var ese=()=>(vne(),null);function Ep(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var tse=P.forwardRef((e,t)=>{var n,r,i=P.useRef(null),[o,s]=P.useState({containerWidth:Ep((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Ep((r=e.style)===null||r===void 0?void 0:r.height)}),l=P.useCallback((d,f)=>{s(p=>{var m=Math.round(d),g=Math.round(f);return p.containerWidth===m&&p.containerHeight===g?p:{containerWidth:m,containerHeight:g}})},[]),u=P.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=d.getBoundingClientRect();l(f,p);var m=x=>{var w=x[0];if(w!=null){var{width:b,height:C}=w.contentRect;l(b,C)}},g=new ResizeObserver(m);g.observe(d),i.current=g}},[t,l]);return P.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),P.createElement(P.Fragment,null,P.createElement(su,{width:o.containerWidth,height:o.containerHeight}),P.createElement("div",Io({ref:u},e)))}),nse=P.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=P.useState({containerWidth:Ep(n),containerHeight:Ep(r)}),s=P.useCallback((u,d)=>{o(f=>{var p=Math.round(u),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=P.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();s(d,f)}},[t,s]);return P.createElement(P.Fragment,null,P.createElement(su,{width:i.containerWidth,height:i.containerHeight}),P.createElement("div",Io({ref:l},e)))}),rse=P.forwardRef((e,t)=>{var{width:n,height:r}=e;return P.createElement(P.Fragment,null,P.createElement(su,{width:n,height:r}),P.createElement("div",Io({ref:t},e)))}),ise=P.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?P.createElement(nse,Io({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?P.createElement(rse,Io({},e,{width:n,height:r,ref:t})):P.createElement(P.Fragment,null,P.createElement(su,{width:n,height:r}),P.createElement("div",Io({ref:t},e)))});function ose(e){return e?tse:ise}var ase=P.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:m,onTouchEnd:g,onTouchMove:x,onTouchStart:w,style:b,width:C,responsive:k,dispatchTouchEvents:E=!0}=e,N=P.useRef(null),j=cn(),[O,_]=P.useState(null),[D,z]=P.useState(null),q=Yae(),G=Sb(),F=G?.width>0?G.width:C,U=G?.height>0?G.height:i,fe=P.useCallback(L=>{q(L),typeof t=="function"&&t(L),_(L),z(L),L!=null&&(N.current=L)},[q,t,_,z]),ue=P.useCallback(L=>{j(tL(L)),j(Ar({handler:o,reactEvent:L}))},[j,o]),be=P.useCallback(L=>{j(q0(L)),j(Ar({handler:d,reactEvent:L}))},[j,d]),Q=P.useCallback(L=>{j(qI()),j(Ar({handler:f,reactEvent:L}))},[j,f]),Y=P.useCallback(L=>{j(q0(L)),j(Ar({handler:p,reactEvent:L}))},[j,p]),re=P.useCallback(()=>{j(sL())},[j]),te=P.useCallback(L=>{j(aL(L.key))},[j]),R=P.useCallback(L=>{j(Ar({handler:s,reactEvent:L}))},[j,s]),W=P.useCallback(L=>{j(Ar({handler:l,reactEvent:L}))},[j,l]),ie=P.useCallback(L=>{j(Ar({handler:u,reactEvent:L}))},[j,u]),oe=P.useCallback(L=>{j(Ar({handler:m,reactEvent:L}))},[j,m]),de=P.useCallback(L=>{j(Ar({handler:w,reactEvent:L}))},[j,w]),X=P.useCallback(L=>{E&&j(cL(L)),j(Ar({handler:x,reactEvent:L}))},[j,E,x]),B=P.useCallback(L=>{j(Ar({handler:g,reactEvent:L}))},[j,g]),ee=ose(k);return P.createElement(mR.Provider,{value:O},P.createElement(gH.Provider,{value:D},P.createElement(ee,{width:F??b?.width,height:U??b?.height,className:kt("recharts-wrapper",r),style:Xae({position:"relative",cursor:"default",width:F,height:U},b),onClick:ue,onContextMenu:R,onDoubleClick:W,onFocus:re,onKeyDown:te,onMouseDown:ie,onMouseEnter:be,onMouseLeave:Q,onMouseMove:Y,onMouseUp:oe,onTouchEnd:B,onTouchMove:X,onTouchStart:de,ref:fe},P.createElement(ese,null),n)))}),sse=["width","height","responsive","children","className","style","compact","title","desc"];function lse(e,t){if(e==null)return{};var n,r,i=cse(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var use=P.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:s,style:l,compact:u,title:d,desc:f}=e,p=lse(e,sse),m=Xr(p);return u?P.createElement(P.Fragment,null,P.createElement(su,{width:n,height:r}),P.createElement(QN,{otherAttributes:m,title:d,desc:f},o)):P.createElement(ase,{className:s,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},P.createElement(QN,{otherAttributes:m,title:d,desc:f,ref:t},P.createElement(Fie,null,o)))});function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y0.apply(null,arguments)}var dse={top:5,right:5,bottom:5,left:5},fse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:dse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},pse=P.forwardRef(function(t,n){var r,i=hr(t.categoricalChartProps,fse),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,f={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return P.createElement($ae,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},P.createElement(Tie,{chartData:d.data}),P.createElement(zae,{layout:i.layout,margin:i.margin}),P.createElement(Wae,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),P.createElement(use,Y0({},i,{ref:n})))}),hse=["axis"],mse=P.forwardRef((e,t)=>P.createElement(pse,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hse,tooltipPayloadSearcher:tne,categoricalChartProps:e,ref:t}));const gse=["AR","HR","Metallic","Beamsplitter","Specialty","Base","Custom"],vse=["Gold","Silver","Aluminum","Enhanced Silver","Protected Gold","Protected Silver","Protected Aluminum"];function yse(e){return e.category==="HR"&&vse.some(t=>e.name.includes(t))?"Metallic":e.category}function xse(e){const t=new Map;for(const n of e){const r=yse(n);t.has(r)||t.set(r,[]),t.get(r).push(n)}for(const n of t.values())n.sort((r,i)=>r.name.localeCompare(i.name));return t}function bse(e){const t=e.trim().split(/\r?\n/).filter(u=>u.trim());if(t.length<1)return[];const n=t[0].includes("	")?"	":",",r=t[0].split(n).map(u=>u.toLowerCase().trim()),i=r.findIndex(u=>u.includes("wavelength")||u==="wl"||u==="lambda"||u==="nm"),o=r.findIndex(u=>u.includes("reflectivity")||u==="r"||u==="ref"),s=i>=0||o>=0?1:0,l=[];for(let u=s;u<t.length;u++){const d=t[u].split(n),f=parseFloat(d[i>=0?i:0]?.trim()??""),p=parseFloat(d[o>=0?o:1]?.trim()??"");!Number.isNaN(f)&&!Number.isNaN(p)&&l.push({wavelength:f,reflectivity:Math.max(0,Math.min(1,p))})}return l.sort((u,d)=>u.wavelength-d.wavelength)}function wse(){const[e,t]=P.useState([]),[n,r]=P.useState(""),[i,o]=P.useState(null),[s,l]=P.useState([]),[u,d]=P.useState(!1),[f,p]=P.useState(!1),[m,g]=P.useState("type"),[x,w]=P.useState("constant"),[b,C]=P.useState(.005),[k,E]=P.useState(""),[N,j]=P.useState([]),[O,_]=P.useState(""),[D,z]=P.useState(""),[q,G]=P.useState(null),[F,U]=P.useState(!1),fe=P.useCallback(async()=>{const W=await D7();t(W)},[]);P.useEffect(()=>{fe()},[fe]);const ue=P.useCallback(async W=>{const ie=W.data_points,oe=W.constant_value;if(Array.isArray(ie)&&ie.length>0){const X=Math.min(...ie.map(ne=>ne.wavelength)),B=Math.max(...ie.map(ne=>ne.wavelength)),ee=Math.max(1,(B-X)/100),L=[];for(let ne=X;ne<=B;ne+=ee){const pe=ie.filter(we=>we.wavelength<=ne).pop(),I=ie.find(we=>we.wavelength>=ne);let Ce=pe?.reflectivity??I?.reflectivity??0;if(pe&&I&&pe.wavelength!==I.wavelength){const we=(ne-pe.wavelength)/(I.wavelength-pe.wavelength);Ce=pe.reflectivity+we*(I.reflectivity-pe.reflectivity)}L.push({wavelength:Math.round(ne*10)/10,reflectivity:Ce})}l(L);return}if(typeof oe=="number"){const X=[];for(let B=350;B<=1100;B+=5)X.push({wavelength:B,reflectivity:oe});l(X);return}const de=await w_(W.name,350,1100,5);l(de)},[]);P.useEffect(()=>{i?ue(i):l([])},[i,ue]);const be=n.trim()?e.filter(W=>W.name.toLowerCase().includes(n.toLowerCase())||W.description.toLowerCase().includes(n.toLowerCase())||W.category.toLowerCase().includes(n.toLowerCase())):e,Q=xse(be),Y=()=>{w("constant"),g("constant"),C(.005)},re=()=>{w("table"),g("table"),E(""),j([])},te=W=>{E(W);const ie=bse(W);j(ie)},R=async()=>{if(G(null),!O.trim()){G("Name is required");return}U(!0);try{const W={name:O.trim(),category:"Custom",description:D.trim(),is_hr:!1,data_type:x==="constant"?"constant":"table"};if(x==="constant")W.constant_value=Math.max(0,Math.min(1,b));else{if(N.length<2){G("At least 2 data points required for table");return}W.data_points=N}await M7(W),await fe();const ie={name:O.trim(),description:D.trim(),is_hr:!1,category:"Custom",source:"custom"};o(ie),ue(x==="constant"?{name:O,constant_value:W.constant_value}:{name:O,data_points:N}),p(!1),g("type"),_(""),z("")}catch(W){G(W instanceof Error?W.message:"Failed to create coating")}finally{U(!1)}};return y.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h2",{className:"text-2xl font-semibold text-cyan-400 flex items-center gap-2",children:[y.jsx(cO,{className:"w-7 h-7"}),"Coating Lab"]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{type:"button","data-testid":"coating-browse-catalog",onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800/80 backdrop-blur-md border border-white/10 text-slate-200 hover:border-cyan-400/40 hover:bg-slate-800 transition-colors",children:[y.jsx(Ts,{className:"w-4 h-4"}),"Browse Catalog"]}),y.jsxs("button",{type:"button",onClick:()=>{p(!0),g("type")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 backdrop-blur-md border border-cyan-400/50 text-cyan-400 hover:bg-cyan-500/30 transition-colors shadow-[0_0_12px_rgba(34,211,238,0.15)]",children:[y.jsx(js,{className:"w-4 h-4"}),"New Custom Coating"]})]})]}),y.jsxs("div",{"data-testid":"spectral-performance-graph",className:"rounded-xl border border-white/10 bg-slate-900/80 backdrop-blur-md p-6 shadow-xl",children:[y.jsxs("h3",{className:"text-lg font-medium text-slate-200 mb-4 flex items-center gap-2",children:[y.jsx(G3,{className:"w-5 h-5 text-cyan-400"}),"Spectral Performance R()"]}),s.length>0?y.jsx("div",{className:"h-72",children:y.jsx(Tq,{width:"100%",height:"100%",children:y.jsxs(mse,{data:s,margin:{top:10,right:20,left:0,bottom:0},children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"spectralGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:.4}),y.jsx("stop",{offset:"100%",stopColor:"#22d3ee",stopOpacity:0})]})}),y.jsx(BR,{strokeDasharray:"3 3",stroke:"#334155"}),y.jsx(JR,{dataKey:"wavelength",type:"number",domain:[350,1100],tick:{fill:"#94a3b8",fontSize:11},stroke:"#64748b"}),y.jsx(eL,{domain:[0,1],tickFormatter:W=>`${(W*100).toFixed(0)}%`,tick:{fill:"#94a3b8",fontSize:11},stroke:"#64748b"}),y.jsx(Ane,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid #334155",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"},formatter:W=>[`${((W??0)*100).toFixed(2)}%`,"R"],labelFormatter:W=>` = ${W} nm`}),y.jsx(ZR,{type:"monotone",dataKey:"reflectivity",stroke:"#22d3ee",strokeWidth:2,fill:"url(#spectralGrad)"})]})})}):y.jsx("div",{className:"h-72 flex items-center justify-center text-slate-500 border border-dashed border-slate-600 rounded-lg",children:"Select a coating from the catalog or create a custom one to view R()"}),i&&y.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-slate-400",children:"Showing:"}),y.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-medium ${i.source==="custom"?"bg-cyan-500/20 border border-cyan-400/50 text-cyan-400 shadow-[0_0_8px_rgba(34,211,238,0.2)]":"bg-slate-800 border border-white/10 text-slate-200"}`,children:i.name}),y.jsx("button",{type:"button",onClick:()=>o(null),className:"text-slate-500 hover:text-slate-300 text-sm",children:"Clear"})]})]}),y.jsx(Wi,{children:u&&y.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-md p-4",onClick:()=>d(!1),children:y.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl max-h-[85vh] rounded-xl border border-white/10 bg-slate-900/95 backdrop-blur-xl shadow-2xl overflow-hidden flex flex-col",onClick:W=>W.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 px-6 py-4",children:[y.jsx("h3",{className:"text-xl font-semibold text-cyan-400",children:"Coating Catalog"}),y.jsx("button",{type:"button",onClick:()=>d(!1),className:"p-2 rounded-lg text-slate-400 hover:text-slate-200 hover:bg-white/5",children:y.jsx(_s,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"p-4 border-b border-slate-700",children:y.jsxs("div",{className:"relative",children:[y.jsx(Ts,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),y.jsx("input",{type:"text",placeholder:"Search coatings...",value:n,onChange:W=>r(W.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-slate-800/80 border border-white/10 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-400/50 focus:ring-1 focus:ring-cyan-400/30"})]})}),y.jsx("div",{className:"flex-1 overflow-auto p-4 space-y-6",children:gse.filter(W=>Q.has(W)).map(W=>y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-2 uppercase tracking-wider",children:W}),y.jsx("div",{className:"flex flex-wrap gap-2",children:Q.get(W).map(ie=>y.jsxs("button",{type:"button","data-testid":`coating-catalog-${ie.name.replace(/\s+/g,"-")}`,onClick:()=>{o(ie),d(!1)},className:`px-4 py-2.5 rounded-lg text-left transition-all flex items-center gap-2 ${i?.name===ie.name?"bg-cyan-500/20 border-2 border-cyan-400/60 text-cyan-400 shadow-[0_0_12px_rgba(34,211,238,0.25)]":"bg-slate-800/80 border border-white/10 text-slate-200 hover:border-cyan-400/30 hover:bg-slate-800"}`,children:[y.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold uppercase ${ie.is_hr?"bg-amber-500/30 text-amber-400":"bg-cyan-500/20 text-cyan-400"}`,children:ie.is_hr?"HR":"AR"}),y.jsx("span",{className:"font-medium",children:ie.name}),ie.source==="custom"&&y.jsx("span",{className:"text-[10px] text-slate-500",children:"custom"})]},ie.name))})]},W))})]})})}),y.jsx(Wi,{children:f&&y.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-md p-4",onClick:()=>!F&&p(!1),children:y.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-lg rounded-xl border border-white/10 bg-slate-900/95 backdrop-blur-xl shadow-2xl overflow-hidden",onClick:W=>W.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 px-6 py-4",children:[y.jsx("h3",{className:"text-xl font-semibold text-cyan-400",children:"New Custom Coating"}),y.jsx("button",{type:"button",onClick:()=>!F&&p(!1),className:"p-2 rounded-lg text-slate-400 hover:text-slate-200",children:y.jsx(_s,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[m==="type"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-400 text-sm",children:"Choose how to define reflectivity:"}),y.jsxs("button",{type:"button",onClick:Y,className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-800/80 border border-white/10 hover:border-cyan-400/40 transition-colors text-left",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:y.jsx(fO,{className:"w-5 h-5 text-cyan-400"})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-slate-200",children:"Constant Reflectivity"}),y.jsx("div",{className:"text-sm text-slate-500",children:"Same R at all wavelengths (e.g. 0.5%)"})]})]}),y.jsx(Cy,{className:"w-5 h-5 text-slate-500"})]}),y.jsxs("button",{type:"button",onClick:re,className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-800/80 border border-white/10 hover:border-cyan-400/40 transition-colors text-left",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:y.jsx(xP,{className:"w-5 h-5 text-cyan-400"})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-slate-200",children:"Table Upload"}),y.jsx("div",{className:"text-sm text-slate-500",children:"Paste or upload CSV: wavelength_nm, reflectivity"})]})]}),y.jsx(Cy,{className:"w-5 h-5 text-slate-500"})]})]}),m==="constant"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Reflectivity (0100%)"}),y.jsx("input",{type:"number",min:0,max:100,step:.01,value:b*100,onChange:W=>C(Math.max(0,Math.min(100,Number(W.target.value)||0))/100),className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 focus:border-cyan-400/50"}),y.jsxs("p",{className:"text-slate-500 text-sm",children:["R = ",(b*100).toFixed(2),"% at all wavelengths"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>g("type"),className:"px-4 py-2 rounded-lg text-slate-400 hover:bg-white/5",children:"Back"}),y.jsx("button",{type:"button",onClick:()=>{g("name"),_(""),z("")},className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/50 hover:bg-cyan-500/30",children:"Next"})]})]}),m==="table"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Paste CSV (wavelength_nm, reflectivity)"}),y.jsx("textarea",{value:k,onChange:W=>te(W.target.value),placeholder:`wavelength_nm,reflectivity
400,0.02
550,0.01
700,0.03`,rows:8,className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 font-mono text-sm placeholder-slate-500 focus:border-cyan-400/50 resize-none"}),y.jsx("input",{type:"file",accept:".csv,.txt",onChange:W=>{const ie=W.target.files?.[0];if(ie){const oe=new FileReader;oe.onload=()=>te(String(oe.result)),oe.readAsText(ie)}W.target.value=""},className:"hidden",id:"csv-upload"}),y.jsxs("label",{htmlFor:"csv-upload",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800 border border-white/10 text-slate-300 hover:bg-slate-700 cursor-pointer text-sm",children:[y.jsx(xP,{className:"w-4 h-4"}),"Upload CSV"]}),N.length>0&&y.jsxs("p",{className:"text-cyan-400 text-sm",children:[N.length," points loaded"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>g("type"),className:"px-4 py-2 rounded-lg text-slate-400 hover:bg-white/5",children:"Back"}),y.jsx("button",{type:"button",onClick:()=>{g("name"),_(""),z("")},disabled:N.length<2,className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/50 hover:bg-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),m==="name"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Name"}),y.jsx("input",{type:"text",value:O,onChange:W=>_(W.target.value),placeholder:"My Custom Coating",className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 placeholder-slate-500 focus:border-cyan-400/50"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description (optional)"}),y.jsx("input",{type:"text",value:D,onChange:W=>z(W.target.value),placeholder:"e.g. Optimized for 532 nm",className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 placeholder-slate-500 focus:border-cyan-400/50"})]}),q&&y.jsx("p",{className:"text-red-400 text-sm",children:q}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>g(x),className:"px-4 py-2 rounded-lg text-slate-400 hover:bg-white/5",children:"Back"}),y.jsx("button",{type:"button",onClick:R,disabled:F||!O.trim(),className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/50 hover:bg-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:F?"Creating":"Create Coating"})]})]})]})]})})})]})}const Sse=28e-7,Pse=1.05;function Cse(e,t){const n=e.laserPowerW??0,r=e.entrancePupilDiameter??10,i=e.surfaces.find(N=>N.type==="Glass");if(!i||n<=0)return{eflCold:t,fThermal:1/0,eflEffective:t,deltaEfl:0,pAbsorbed:0,hasSignificantHeating:!1};const o=i.absorptionCoefficient??0,l=(i.thickness??0)/10,u=o>0&&l>0?n*(1-Math.exp(-o*l)):0;if(u<=0)return{eflCold:t,fThermal:1/0,eflEffective:t,deltaEfl:0,pAbsorbed:0,hasSignificantHeating:!1};const d=r/2/1e3,f=d*d,p=Math.PI*Pse*f/(u*Sse),m=p*1e3,x=1/(t/1e3),w=1/p,k=1/(x+w)*1e3,E=k-t;return{eflCold:t,fThermal:m,eflEffective:k,deltaEfl:E,pAbsorbed:u,hasSignificantHeating:!0}}const hs="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50";function Ase({systemState:e,onSystemStateChange:t,selectedSurfaceId:n,onSelectSurface:r,showBestFocus:i,onShowBestFocusChange:o,snapToFocus:s,onSnapToFocusChange:l,snapToSurface:u,onSnapToSurfaceChange:d}){const f=C=>{t(k=>({...k,...C}))},p=()=>{t(C=>({...C,wavelengths:[...C.wavelengths,Le.defaults.defaultWavelength]}))},m=C=>{t(k=>({...k,wavelengths:k.wavelengths.filter((E,N)=>N!==C)}))},g=(C,k)=>{t(E=>({...E,wavelengths:E.wavelengths.map((N,j)=>j===C?k:N)}))},x=()=>{t(C=>C.fieldAngles.length>=Le.maxFieldAngles?C:{...C,fieldAngles:[...C.fieldAngles,Le.defaults.defaultFieldAngle]})},w=C=>{t(k=>({...k,fieldAngles:k.fieldAngles.filter((E,N)=>N!==C)}))},b=(C,k)=>{t(E=>({...E,fieldAngles:E.fieldAngles.map((N,j)=>j===C?k:N)}))};return y.jsxs("div",{className:"h-full glass-card rounded-none border-l border-white/10 p-4 overflow-y-auto",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg mb-4",children:"System Properties"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Entrance Pupil Diameter"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:e.entrancePupilDiameter,onChange:C=>f({entrancePupilDiameter:Number(C.target.value)||0}),min:.1,step:.5,className:hs}),y.jsx("span",{className:"text-slate-500 text-sm",children:"mm"})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Wavelengths"}),y.jsx("div",{className:"space-y-2",children:e.wavelengths.map((C,k)=>y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:C,onChange:E=>g(k,Number(E.target.value)||0),min:300,max:2e3,step:1,className:hs}),y.jsx("span",{className:"text-slate-500 text-sm w-8",children:"nm"}),e.wavelengths.length>1&&y.jsx("button",{onClick:()=>m(k),className:"p-1.5 rounded text-slate-500 hover:text-red-400 hover:bg-white/5 transition-colors","aria-label":"Remove wavelength",children:y.jsx(wf,{className:"w-4 h-4"})})]},k))}),y.jsxs("button",{onClick:p,className:"mt-2 w-full flex items-center justify-center gap-1 py-2 rounded-lg border border-dashed border-white/20 text-slate-400 hover:text-cyan-electric hover:border-cyan-electric/50 transition-colors text-sm",children:[y.jsx(js,{className:"w-4 h-4"}),"Add wavelength"]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Field Angles"}),y.jsx("div",{className:"space-y-2",children:e.fieldAngles.map((C,k)=>y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:C,onChange:E=>b(k,Number(E.target.value)||0),min:0,max:90,step:.5,className:hs}),y.jsx("span",{className:"text-slate-500 text-sm w-8",children:""}),e.fieldAngles.length>1&&y.jsx("button",{onClick:()=>w(k),className:"p-1.5 rounded text-slate-500 hover:text-red-400 hover:bg-white/5 transition-colors","aria-label":"Remove field angle",children:y.jsx(wf,{className:"w-4 h-4"})})]},k))}),y.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Maximum of ",Le.maxFieldAngles," field angles allowed for this simulation."]}),y.jsxs("button",{onClick:x,disabled:e.fieldAngles.length>=Le.maxFieldAngles,title:e.fieldAngles.length>=Le.maxFieldAngles?"Maximum of 3 field angles allowed for this simulation.":"Add field angle",className:"mt-2 w-full flex items-center justify-center gap-1 py-2 rounded-lg border border-dashed border-white/20 text-slate-400 hover:text-cyan-electric hover:border-cyan-electric/50 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:text-slate-400 disabled:hover:border-white/20",children:[y.jsx(js,{className:"w-4 h-4"}),"Add field angle"]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Ray Count"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("input",{type:"range",min:Le.rayCount.min,max:Le.rayCount.max,value:e.numRays,onChange:C=>f({numRays:Number(C.target.value)}),className:"flex-1 accent-cyan-electric"}),y.jsx("span",{className:"text-cyan-electric text-sm font-mono w-6",children:e.numRays})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Focus Configuration"}),y.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-white/10 bg-white/5",children:[y.jsx("button",{type:"button",onClick:()=>f({focusMode:"On-Axis"}),className:`flex-1 px-3 py-2.5 text-sm font-medium transition-colors ${(e.focusMode??"On-Axis")==="On-Axis"?"bg-cyan-electric/20 text-cyan-electric border-r border-white/10":"text-slate-400 hover:text-slate-200 hover:bg-white/5"}`,children:"Paraxial (On-Axis)"}),y.jsx("button",{type:"button",onClick:()=>f({focusMode:"Balanced"}),className:`flex-1 px-3 py-2.5 text-sm font-medium transition-colors ${(e.focusMode??"On-Axis")==="Balanced"?"bg-amber-500/20 text-amber-400 border-l border-white/10":"text-slate-400 hover:text-slate-200 hover:bg-white/5"}`,children:"Best Composite"})]}),y.jsx("p",{className:"mt-2 text-xs text-slate-500",children:(e.focusMode??"On-Axis")==="Balanced"?"Circle of Least Confusion across the entire field of view.":"Ignores off-axis aberrations when placing the focus diamond."})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-3 flex items-center gap-2",children:[y.jsx(I3,{className:"w-4 h-4 text-cyan-electric",strokeWidth:2}),"Snapping & Precision"]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("label",{className:"flex items-center justify-between gap-3 cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:"Snap to Focus"}),y.jsx("span",{role:"switch","aria-checked":s,tabIndex:0,onClick:()=>l(!s),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),l(!s))},className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full transition-colors duration-200 ease-in-out hover:opacity-90 ${s?"bg-cyan-electric/40":"bg-white/10"}`,children:y.jsx("span",{className:`pointer-events-none absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-lg transition-all duration-200 ease-in-out ${s?"left-5 bg-cyan-electric":"left-0.5"}`})})]}),y.jsxs("label",{className:"flex items-center justify-between gap-3 cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:"Snap to Surface"}),y.jsx("span",{role:"switch","aria-checked":u,tabIndex:0,onClick:()=>d(!u),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),d(!u))},className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full transition-colors duration-200 ease-in-out hover:opacity-90 ${u?"bg-cyan-electric/40":"bg-white/10"}`,children:y.jsx("span",{className:`pointer-events-none absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-lg transition-all duration-200 ease-in-out ${u?"left-5 bg-cyan-electric":"left-0.5"}`})})]})]}),y.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Snap to Focus: Gold Diamond. Snap to Surface: lens vertices. Hold"," ",y.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-slate-800/90 text-slate-200 font-mono text-[10px] shadow-[0_1px_0_0_rgba(255,255,255,0.1),inset_0_-1px_0_0_rgba(0,0,0,0.3)]",children:hO?" Option":"Alt"})," ","to disable snapping."]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Visualization Settings"}),y.jsxs("label",{className:"flex items-center justify-between gap-3 cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:"Show Best Focus Diamond"}),y.jsx("span",{role:"switch","aria-checked":i,tabIndex:0,onClick:()=>o(!i),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),o(!i))},className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full transition-colors duration-200 ease-in-out hover:opacity-90 ${i?"bg-cyan-electric/40":"bg-white/10"}`,children:y.jsx("span",{className:`pointer-events-none absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-lg transition-all duration-200 ease-in-out ${i?"left-5 bg-cyan-electric":"left-0.5"}`})})]})]}),y.jsxs("section",{className:"glass-card p-4 border-orange-500/20",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Thermal Lensing"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Laser Power (W)"}),y.jsx("input",{type:"number",min:0,max:1e4,step:1,value:e.laserPowerW??"",onChange:C=>t(k=>({...k,laserPowerW:C.target.value===""?void 0:Math.max(0,Number(C.target.value)||0)})),placeholder:"0",className:hs}),y.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"CW power for thermo-optic (dn/dT) analysis. Absorption  set per lens in System Editor."})]}),(()=>{const C=e.traceResult?.performance?.fNumber!=null&&e.entrancePupilDiameter>0?e.traceResult.performance.fNumber*e.entrancePupilDiameter:(()=>{const E=e.surfaces[0],N=e.surfaces[1];return E&&N&&E.radius!==0&&N.radius!==0?1/((E.refractiveIndex-1)*(1/E.radius-1/-N.radius)):100})(),k=Cse(e,C);return k.hasSignificantHeating?y.jsxs("div",{className:"text-xs space-y-1 pt-1 border-t border-white/10",children:[y.jsxs("div",{className:"flex justify-between text-slate-400",children:[y.jsx("span",{children:"Cold EFL"}),y.jsxs("span",{className:"tabular-nums text-slate-300",children:[k.eflCold.toFixed(2)," mm"]})]}),y.jsxs("div",{className:"flex justify-between text-slate-400",children:[y.jsx("span",{children:"Effective EFL (heated)"}),y.jsxs("span",{className:"tabular-nums text-orange-400",children:[k.eflEffective.toFixed(2)," mm"]})]}),y.jsxs("div",{className:"flex justify-between text-orange-400 font-medium",children:[y.jsx("span",{children:"f (thermo-optic)"}),y.jsxs("span",{className:"tabular-nums",children:[k.deltaEfl.toFixed(3)," mm"]})]}),y.jsxs("div",{className:"flex justify-between text-slate-500",children:[y.jsx("span",{children:"P absorbed"}),y.jsxs("span",{className:"tabular-nums",children:[(k.pAbsorbed*1e3).toFixed(2)," mW"]})]})]}):null})()]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Physical Optics"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm text-slate-400",children:"Laser M Factor"}),y.jsx("input",{type:"number",min:.1,max:10,step:.1,value:e.m2Factor??1,onChange:C=>t(k=>({...k,m2Factor:Math.max(.1,Math.min(10,Number(C.target.value)||1))})),className:hs}),y.jsx("p",{className:"text-xs text-slate-500",children:"M = 1.0 for perfect Gaussian. Higher values show how beam quality affects focus."})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Ultrafast Pulse"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm text-slate-400",children:"Pulse Width (fs)"}),y.jsx("input",{type:"number",min:5,max:1e4,step:10,value:e.pulseWidthFs??100,onChange:C=>t(k=>({...k,pulseWidthFs:Math.max(5,Math.min(1e4,Number(C.target.value)||100))})),className:hs,placeholder:"100"}),y.jsx("p",{className:"text-xs text-slate-500",children:"Input pulse width for dispersion analysis. Sellmeier equation used for glass."})]})]}),y.jsxs("section",{className:"glass-card p-4 border-cyan-electric/20",children:[y.jsx("h3",{className:"text-sm font-medium text-cyan-electric mb-3",children:"Performance"}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-slate-400",children:"RMS Spot Radius"}),y.jsxs("span",{className:"text-slate-200 font-mono",children:[e.rmsSpotRadius.toFixed(4)," mm"]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-slate-400",children:"Total Length"}),y.jsxs("span",{className:"text-slate-200 font-mono",children:[e.totalLength.toFixed(2)," mm"]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-slate-400",children:"F-Number"}),y.jsxs("span",{className:"text-slate-200 font-mono",children:["f/",e.fNumber.toFixed(2)]})]})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Surfaces"}),y.jsx("div",{className:"space-y-2",children:e.surfaces.map(C=>y.jsxs(Je.div,{layout:!0,transition:{type:"spring",stiffness:400,damping:30},onClick:()=>r(C.id),className:`flex cursor-pointer items-center justify-between rounded-lg px-3 py-2 border transition-colors ${n===C.id?"bg-cyan-electric/20 border-cyan-electric/50 ring-1 ring-cyan-electric/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[y.jsxs("span",{className:"text-sm",children:[C.material??C.type," R=",C.radius]}),y.jsxs("span",{className:"text-cyan-electric text-xs",children:["t=",C.thickness]})]},C.id))})]})]})]})}function kse(){return{handshakeSent:!1,lastSurfaces:[],lastValidStack:[],lastRmsUm:null,episodic:{currentGoal:"",constraintsMet:[],failedIterations:[]}}}const Ese="RMS  1000 m; |radius|  diameter; thickness > 0; radius  0 for Glass",Nse=["radius","thickness","refractiveIndex","diameter","material","description","coating","type"];function Ose(e,t,n,r){const i=n?.performance?.rmsSpotRadius!=null?n.performance.rmsSpotRadius*1e3:null;if(!e.handshakeSent)return{isHandshake:!0,delta:{optical_stack:{surfaces:t.map((f,p)=>{const m=P_(f);return{id:m.id,semanticName:m.semanticName??`S${p+1}`,aiContext:m.aiContext??"",type:m.type,radius:m.radius,thickness:m.thickness,refractiveIndex:m.refractiveIndex,diameter:m.diameter,material:m.material,description:m.description,coating:m.coating,effective_focal_length:m.effective_focal_length??null,critical_angle:m.critical_angle??null}}),entrancePupilDiameter:r.entrancePupilDiameter,wavelengths:r.wavelengths,fieldAngles:r.fieldAngles,numRays:r.numRays,focusMode:r.focusMode,m2Factor:r.m2Factor},traceResult:n?{focusZ:n.focusZ,bestFocusZ:n.bestFocusZ,performance:n.performance,gaussianBeam:n.gaussianBeam}:null}};const s=new Map(e.lastSurfaces.map(f=>[f.id,f])),l=[];for(const f of t){const p=s.get(f.id);if(!p)continue;const m={id:f.id};let g=!1;for(const x of Nse){const w=f[x],b=p[x];w!==b&&(m[x]=w,g=!0)}g&&l.push(m)}const u=i!=null?{rmsUm:i,totalLength:n?.performance?.totalLength,fNumber:n?.performance?.fNumber}:null;return{isHandshake:!1,delta:{surfaces:t.map(f=>({id:f.id,type:f.type,radius:f.radius,thickness:f.thickness,material:f.material,diameter:f.diameter})),changesSinceLast:l.length>0?l:void 0,perf:u,episodic:e.episodic}}}function eO(e,t,n){e.handshakeSent=!0,e.lastSurfaces=t.map(r=>({...r})),e.lastValidStack=t.map(r=>({...r})),e.lastRmsUm=n?.performance?.rmsSpotRadius!=null?n.performance.rmsSpotRadius*1e3:null}function sf(e,t){t.currentGoal&&(e.episodic.currentGoal=t.currentGoal),t.constraintsMet?.length&&(e.episodic.constraintsMet=[...e.episodic.constraintsMet,...t.constraintsMet].slice(-5)),t.failedIterations?.length&&(e.episodic.failedIterations=[...e.episodic.failedIterations,...t.failedIterations].slice(-3))}function jse(e,t){e.episodic.currentGoal=t}const Tse=[/^\s*(hi|hello|hey|yo)\s*[!.]?\s*$/i,/^\s*(thanks|thank you|thx|ty)\s*[!.]?\s*$/i,/^\s*(ok|okay|k)\s*[!.]?\s*$/i,/^\s*(yes|no)\s*[!.]?\s*$/i,/^\s*(cool|nice|great|awesome)\s*[!.]?\s*$/i,/^\s*(\?|\.\.\.)\s*$/];function _se(e){const t=e.trim();return t.length<3?!0:Tse.some(n=>n.test(t))}function Dse(e){const t=e.trim();return!t||_se(t)?null:t}const Mse=["optimize","optimization","minimize","maximize","zero coma","zero spherical","aberration","seidel","strehl","rms","best focus","optimise","design a","design an","create a","create an","suggest","recommend","improve","fix","correct","troubleshoot","analyze","analyse","why","explain","how does","what if","compare"],Ise=["thicker","thinner","make lens","change","set","update","radius","thickness","diameter","material","glass","lens 1","lens 2","surface 1","surface 2","first lens","second lens","mm","millimeter"];function Rse(e,t){const n=e.toLowerCase().trim(),r=Mse.some(o=>n.includes(o)),i=Ise.some(o=>n.includes(o));return r&&!i?"deepseek-reasoner":i&&!r?"deepseek-chat":i&&r?"deepseek-reasoner":t}function Lse(e){try{const t=JSON.parse(e);if(Array.isArray(t)){const n=t.filter(r=>r&&typeof r=="object"&&typeof r.op=="string"&&typeof r.path=="string");return n.length>0?n:null}if(t&&typeof t=="object"&&"patch"in t){const n=t.patch;return Array.isArray(n)?n:null}return null}catch{return null}}function Fse(e,t){const n=new Map;for(const r of e){const i=r.path.match(/^\/(?:surfaces|optical_stack\/surfaces)\/([^/]+)\/(.+)$/);if(!i)continue;const o=i[1],s=i[2].replace(/^\//,"");if(!t.find(d=>d.id===o))continue;let u=n.get(o);if(u||(u={id:o},n.set(o,u)),r.op==="replace"||r.op==="add"){const d=s;if(d==="id")continue;u[d]=r.value}}return Array.from(n.values())}const yc=[],$se=100;function tO(e,t,n){n.trim()&&(yc.push({timestamp:new Date().toISOString(),model:e,promptPreview:t.slice(0,80),rawThought:n}),yc.length>$se&&yc.shift())}function Bse(){return yc.map(e=>`[${e.timestamp}] ${e.model}
Prompt: ${e.promptPreview}
---
${e.rawThought}
---
`).join(`
`)}function zse(){yc.length=0}typeof window<"u"&&(window.__thoughtTrace={get:Bse,clear:zse});function Wse(e){const t=e.toLowerCase();return/does not support (image|vision)/.test(t)||/do not support (image|vision)/.test(t)||/don't support (image|vision)/.test(t)||/image message content type/.test(t)||/model does not support image/.test(t)}function Vse(e){try{const t=e.indexOf("{");if(t>=0){const r=JSON.parse(e.slice(t))?.error?.message;if(r)return`The model does not support images. ${r}`}}catch{}return`The model does not support images. ${e.slice(0,200)}`}function Use(e){const t=[/(?:i |i'm |i am )(?:cannot|can't|can not|do not|don't) (?:process|see|analyze|handle) (?:images?|pictures?|visual)/i,/(?:i |i'm |i am )(?:only work|limited to) (?:text|written)/i,/(?:as an? (?:ai|language model|llm),? )?(?:i )?(?:can only work|cannot process) (?:with )?text/i,/(?:this )?model (?:does not|doesn't) support (?:images?|vision)/i,/(?:there is )?no image/i,/(?:i )?(?:cannot|can't) (?:process|analyze|see) (?:the )?(?:attached )?image/i];for(const n of t){const r=e.match(n);if(r)return r[0].slice(0,120)}return null}function Hse(e,t){return t?e.startsWith("claude")?!!t.anthropic?.trim():e.startsWith("gpt")||e.startsWith("o1")?!!t.openai?.trim():e.startsWith("deepseek")?!!t.deepseek?.trim():!1:!1}const Gse=`Role: You are the PhotonLeap Lead Physicist, an expert in classical ray optics, wave propagation, and quantum information science. Your goal is to design, optimize, and troubleshoot physical systems within the PhotonLeap environment.

## Core Competencies
- Geometric Optics: Expert in Snell's Law, the Lensmaker's Equation, and Seidel aberrations (Spherical, Coma, Astigmatism, Field Curvature, Distortion).
- Physical Optics: Mastery of Gaussian beam propagation (M factors, beam waist, Rayleigh range) and diffraction limits.
- Quantum States: Expertise in polarization (Jones Calculus), photon entanglement, and Bloch sphere mapping.

## Operational Protocol
- Zero-Error Physics: Every design must respect the Law of Conservation of Energy and the Second Law of Thermodynamics. You cannot "create" light without a defined source.
- Metric-Driven Design: When asked to optimize, minimize the Root Mean Square (RMS) spot size or maximize the Strehl Ratio.
- Manufacturing Awareness: Favor "buildable" designs. Avoid center thicknesses <1mm or curvatures that create "knife-edges" on lens peripheries. |radius| must be >= diameter to avoid impossible curves.

## Optical Stack Schema (Dual-Purpose Semantic Lattice)
Each surface has:
- id (string, required): unique identifier  MUST match existing surface ids exactly
- semanticName (string): e.g. "Primary_Objective", "Field_Flattener"
- aiContext (string): reason for surface, e.g. "Corrects coma from S1"
- type: "Glass" | "Air"
- radius (mm): curvature radius; positive = convex toward +z, negative = concave; 0 = flat
- thickness (mm): distance to next surface
- refractiveIndex: n at primary wavelength
- diameter (mm): clear aperture
- material (string): must be from glass library
- description, coating
- effective_focal_length (mm): computed R/(n-1) for curved surfaces; null for plano
- critical_angle (deg): TIR angle for glassair; null for air

## Glass Library (exact names)
N-BK7, N-SF11, N-SF5, N-SF6, N-SF10, N-SF14, N-F2, N-SK2, Fused Silica, N-BAF10, N-LAK9, H-LAF7, Calcium Fluoride, Magnesium Fluoride, Sapphire, N-K5, N-SK16, N-BAF4, N-SF6HT, N-LAK14, N-BK10, N-SF57, N-SF66, N-SF15

## Output Format
Your response must be a valid JSON object. Do not include any text outside of the JSON structure.
Return ONLY valid JSON. No conversational filler unless requested.

Preferred (token-efficient): JSON Patch RFC 6902  e.g. [{"op":"replace","path":"/surfaces/<id>/thickness","value":8}]
Full format: {"surfaceDeltas":[{"id":"surf-uuid","radius":50,"thickness":5,"material":"N-BK7",...}],"reasoning":"brief physics explanation"}

Optional: If design is physically impossible (e.g. TIR preventing beam exit), include:
{"physicsViolation":true,"reason":"description","suggestedAlternative":"geometry hint","surfaceDeltas":[],"reasoning":"..."}

## Constraints
- radius must be non-zero for Glass surfaces
- thickness > 0, diameter > 0
- |radius| >= diameter to avoid knife-edges (impossible curves)
- If design fails (RMS too high), you will receive error context; propose a new transaction.`,Kse=`
## Physics Constants (immutable)
- Snell: nsin()=nsin(). TIR when   arcsin(n/n).
- Lensmaker (thin): 1/f = (n-1)(1/R - 1/R).
- RMS threshold: ${Le.agentRmsThresholdUm} m. |radius|  diameter. thickness > 0.
- Glass library: N-BK7, N-SF11, Fused Silica, N-SF5, N-SF6, N-SF10, N-SF14, N-F2, N-SK2, N-BAF10, N-LAK9, H-LAF7, Calcium Fluoride, Magnesium Fluoride, Sapphire, N-K5, N-SK16, N-BAF4, N-SF6HT, N-LAK14, N-BK10, N-SF57, N-SF66, N-SF15.
`,Np=Gse+Kse;function dL(e,t){const n={optical_stack:{surfaces:e.surfaces.map(r=>{const i=P_(r);return{id:i.id,semanticName:i.semanticName??`S${e.surfaces.indexOf(r)+1}`,aiContext:i.aiContext??"",type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,coating:i.coating,effective_focal_length:i.effective_focal_length??null,critical_angle:i.critical_angle??null}}),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays},traceResult:t?{focusZ:t.focusZ,bestFocusZ:t.bestFocusZ,performance:t.performance,gaussianBeam:t.gaussianBeam}:null};return`${Np}

## Current System State (JSON)
\`\`\`json
${JSON.stringify(n,null,2)}
\`\`\``}function qse(e,t,n){const r=n.currentGoal||n.constraintsMet.length||n.failedIterations.length?`
## Context Summary
- Current Goal: ${n.currentGoal||"None"}
- Constraints Met: ${n.constraintsMet.join("; ")||"None"}
- Failed Iterations: ${n.failedIterations.join("; ")||"None"}
- Physics Constraints: ${Ese}`:"";return`${Np}${r}

## ${t?"Full Handshake (JSON)":"State Delta (compact)"}
\`\`\`json
${JSON.stringify(e)}
\`\`\``}function fL(e,t){const n="(?:<think>|<<think>>)",r="(?:</think>|<<\\/think>>)",i=new RegExp(n,"gi");if(t?.saveThoughts&&t.model&&t.promptPreview){const s=e.matchAll(new RegExp(n+"([\\s\\S]*?)"+r,"gi"));for(const u of s)u[1]&&tO(t.model,t.promptPreview,u[1]);const l=e.match(new RegExp(n+"[\\s\\S]*$","i"));if(l){const u=l[0].replace(i,"").trim();u&&tO(t.model,t.promptPreview,u)}}let o=e;return o=o.replace(new RegExp(n+"[\\s\\S]*?"+r,"gi"),""),o=o.replace(new RegExp(n+"[\\s\\S]*$","gi"),""),o.trim()}function nO(e,t){const r=fL(e,t).trim(),i=r.match(/```(?:json)?\s*([\s\S]*?)```/);if(i){const s=i[1].trim();if(s)return s}const o=r.match(/\{[\s\S]*\}/);return o?o[0]:r.startsWith("{")?r:null}function Yse(e,t,n){const r=n?.saveThoughts&&n.model&&n.promptPreview?{model:n.model,promptPreview:n.promptPreview,saveThoughts:!0}:void 0,i=fL(e,r),o=[()=>nO(e,r),()=>nO(i,r),()=>{const s=i.matchAll(/```(?:json)?\s*([\s\S]*?)```/g);for(const l of s){const u=l[1]?.trim();if(u?.startsWith("{")||u?.startsWith("["))return u}return null}];for(const s of o){const l=s();if(l)try{const u=JSON.parse(l);if(Array.isArray(u)){const f=Lse(l);if(f&&f.length>0){const p=Fse(f,t);if(p.length>0)return{surfaceDeltas:p,reasoning:"Applied via JSON Patch"}}}const d=u.surfaceDeltas??u.surface_deltas;if(u&&typeof u=="object"&&Array.isArray(d)){const f=u;return{surfaceDeltas:d.filter(p=>p!=null&&typeof p=="object"&&typeof p.id=="string"),reasoning:f.reasoning,physicsViolation:f.physicsViolation,reason:f.reason,suggestedAlternative:f.suggestedAlternative}}}catch{continue}}return null}function pL(e,t){const n=new Map(e.map(r=>[r.id,{...r}]));for(const r of t.surfaceDeltas){const i=n.get(r.id);i&&(r.semanticName!==void 0&&(i.semanticName=r.semanticName),r.aiContext!==void 0&&(i.aiContext=r.aiContext),r.radius!==void 0&&(i.radius=r.radius),r.thickness!==void 0&&(i.thickness=r.thickness),r.refractiveIndex!==void 0&&(i.refractiveIndex=r.refractiveIndex),r.diameter!==void 0&&(i.diameter=r.diameter),r.material!==void 0&&(i.material=r.material),r.description!==void 0&&(i.description=r.description),r.type!==void 0&&(i.type=r.type),r.coating!==void 0&&(i.coating=r.coating),r.sellmeierCoefficients!==void 0&&(i.sellmeierCoefficients=r.sellmeierCoefficients))}return Array.from(n.values())}function Xse(e,t){const n=pL(e,t);for(const r of n){if(r.type==="Glass"&&r.radius===0)return{valid:!1,error:`Surface ${r.id} (Glass) cannot have radius 0`};if(r.thickness<0)return{valid:!1,error:`Surface ${r.id} has negative thickness`};if(r.diameter<=0)return{valid:!1,error:`Surface ${r.id} has invalid diameter`};if(r.radius!==0&&Math.abs(r.radius)<r.diameter)return{valid:!1,error:`Surface ${r.id} impossible curve: |radius| ${Math.abs(r.radius)}mm < diameter ${r.diameter}mm  would create knife-edge`}}return{valid:!0}}function Zse(e){const n=(e instanceof Error?e.message:String(e)).toLowerCase();return n.includes("failed to fetch")||n.includes("network")||n.includes("connection refused")||n.includes("net::err_")||n.includes("load failed")||n.includes("could not connect")}function Qse(){return`${Le.localAgent.apiBase.replace(/\/v1\/?$/,"")}/api/v1`}function R1(e){return e?.trim()||Le.localAgent.modelId}async function Jse(e){try{const t=Le.localAgent.apiBase.replace(/\/v1\/?$/,""),n=await fetch(`${t}/api/v1/models`,{headers:{Authorization:`Bearer ${Le.localAgent.apiKey}`}});if(!n.ok)return null;const i=(await n.json()).models??[],o=e.toLowerCase();for(const s of i){const l=s.key?.toLowerCase()===o,u=s.loaded_instances?.some(d=>d.id?.toLowerCase()===o);if(l||u)return s.capabilities?.vision===!0}return null}catch{return null}}function hL(e,t){if(!t?.length)return e;const n={type:"text",text:e};return[...t.map(i=>({type:"image",source:{type:"base64",media_type:i.mediaType,data:i.data}})),n]}function Os(e,t){if(!t?.length)return e;const n={type:"text",text:e};return[...t.map(i=>({type:"image_url",image_url:{url:`data:${i.mediaType};base64,${i.data}`}})),n]}function mL(e){const t=e.slice(Np.length);return[{type:"text",text:Np,cache_control:{type:"ephemeral"}},{type:"text",text:t}]}async function ele(e,t,n,r,i,o,s,l){const u=hL(r,l),d={model:t,max_tokens:2048,stream:!0,system:mL(n),messages:[{role:"user",content:u}]};s&&(d.thinking={type:"enabled",budget_tokens:4e3});const f=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",signal:o,headers:{"Content-Type":"application/json","x-api-key":e,"anthropic-version":"2023-06-01"},body:JSON.stringify(d)});if(!f.ok){const w=await f.text();throw new Error(`Anthropic API error: ${f.status} ${w}`)}const p=f.body?.getReader();if(!p)throw new Error("No response body");const m=new TextDecoder;let g="",x="";for(;;){const{done:w,value:b}=await p.read();if(w)break;g+=m.decode(b,{stream:!0});const C=g.split(`
`);g=C.pop()??"";for(const k of C)if(k.startsWith("data: ")){const E=k.slice(6).trim();if(!E||E==="[DONE]")continue;try{const N=JSON.parse(E);N.type==="content_block_delta"&&N.delta&&(N.delta.type==="thinking_delta"&&typeof N.delta.thinking=="string"?i(N.delta.thinking):N.delta.type==="text_delta"&&typeof N.delta.text=="string"&&(i(N.delta.text),x+=N.delta.text))}catch{}}}for(const w of g.split(`
`))if(w.startsWith("data: ")){const b=w.slice(6).trim();if(!b||b==="[DONE]")continue;try{const C=JSON.parse(b);C.type==="content_block_delta"&&C.delta?.type==="text_delta"&&typeof C.delta.text=="string"&&(x+=C.delta.text)}catch{}}return x}async function tle(e,t,n,r,i,o,s){const l=Os(r,s),u={model:t,max_tokens:2048,stream:!0,messages:[{role:"system",content:n},{role:"user",content:l}]};t.startsWith("o1")&&(u.reasoning_effort="medium");const d=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",signal:o,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(u)});if(!d.ok){const x=await d.text();throw new Error(`OpenAI API error: ${d.status} ${x}`)}const f=d.body?.getReader();if(!f)throw new Error("No response body");const p=new TextDecoder;let m="",g="";for(;;){const{done:x,value:w}=await f.read();if(x)break;m+=p.decode(w,{stream:!0});const b=m.split(`
`);m=b.pop()??"";for(const C of b)if(C.startsWith("data: ")){const k=C.slice(6).trim();if(!k||k==="[DONE]")continue;try{const N=JSON.parse(k).choices?.[0]?.delta;N&&(typeof N.reasoning_content=="string"&&i(N.reasoning_content),typeof N.content=="string"&&(i(N.content),g+=N.content))}catch{}}}for(const x of m.split(`
`))if(x.startsWith("data: ")){const w=x.slice(6).trim();if(!w||w==="[DONE]")continue;try{const b=JSON.parse(w).choices?.[0]?.delta;b?.content&&(g+=b.content)}catch{}}return g}async function nle(e,t,n,r,i,o,s=0,l){const u=Math.min(16384*(1<<Math.min(s,2)),65536),d=Os(r,l),f=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",signal:o,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({model:t,max_tokens:u,stream:!0,messages:[{role:"system",content:n},{role:"user",content:d}]})});if(!f.ok){const w=await f.text();throw new Error(`DeepSeek API error: ${f.status} ${w}`)}const p=f.body?.getReader();if(!p)throw new Error("No response body");const m=new TextDecoder;let g="",x="";for(;;){const{done:w,value:b}=await p.read();if(w)break;g+=m.decode(b,{stream:!0});const C=g.split(`
`);g=C.pop()??"";for(const k of C)if(k.startsWith("data: ")){const E=k.slice(6).trim();if(!E||E==="[DONE]")continue;try{const j=JSON.parse(E).choices?.[0]?.delta;j&&(typeof j.reasoning_content=="string"&&i(j.reasoning_content),typeof j.content=="string"&&(i(j.content),x+=j.content))}catch{}}}for(const w of g.split(`
`))if(w.startsWith("data: ")){const b=w.slice(6).trim();if(!b||b==="[DONE]")continue;try{const C=JSON.parse(b).choices?.[0]?.delta;C?.content&&(x+=C.content)}catch{}}return x}function X0(e,t,n){const r=t.pending+e;t.pending="";let i="";if(t.inThink){const u=r.indexOf("</think>");return u>=0?(n(r.slice(0,u)),i=r.slice(u+8),t.inThink=!1,X0(i,t,n)):(n(r),"")}const o=r.indexOf("<think>");if(o>=0){i=r.slice(0,o);const u=r.slice(o+8),d=u.indexOf("</think>");return d>=0?(n(u.slice(0,d)),i+X0(u.slice(d+8),t,n)):(t.inThink=!0,n(u),i)}const s=r.lastIndexOf("<think>");if(s>=0&&s>r.length-8)return t.pending=r.slice(s),r.slice(0,s);const l=r.lastIndexOf("</think>");return l>=0&&l>r.length-8?(t.pending=r.slice(l),r.slice(0,l)):r}async function rle(e,t,n,r,i,o){const{apiBase:s,apiKey:l}=Le.localAgent,u=R1(e);if(o?.length){const C=Os(n,o),k=await fetch(`${s}/chat/completions`,{method:"POST",signal:i,headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({model:u,max_tokens:2048,stream:!0,messages:[{role:"system",content:t},{role:"user",content:C}]})});if(!k.ok){const _=await k.text();throw new Error(`Local API error: ${k.status} ${_}`)}const E=k.body?.getReader();if(!E)throw new Error("No response body");const N=new TextDecoder;let j="",O="";for(;;){const{done:_,value:D}=await E.read();if(_)break;j+=N.decode(D,{stream:!0});const z=j.split(`
`);j=z.pop()??"";for(const q of z)if(q.startsWith("data: ")){const G=q.slice(6).trim();if(!G||G==="[DONE]")continue;try{const U=JSON.parse(G).choices?.[0]?.delta;U&&(typeof U.reasoning_content=="string"&&r(U.reasoning_content),typeof U.content=="string"&&(r(U.content),O+=U.content))}catch{}}}for(const _ of j.split(`
`))if(_.startsWith("data: ")){const D=_.slice(6).trim();if(!D||D==="[DONE]")continue;try{const z=JSON.parse(D).choices?.[0]?.delta;z?.content&&(O+=z.content)}catch{}}return O}const d=`${Qse()}/chat`,f=await fetch(d,{method:"POST",signal:i,headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({model:u,input:n,system_prompt:t,stream:!0,max_output_tokens:2048})});if(!f.ok){const C=await f.text();throw new Error(`Local API error: ${f.status} ${C}`)}const p=f.body?.getReader();if(!p)throw new Error("No response body");const m=new TextDecoder;let g="",x="";const w={inThink:!1,pending:""};let b=!1;for(;;){const{done:C,value:k}=await p.read();if(C)break;g+=m.decode(k,{stream:!0});const E=g.split(`
`);g=E.pop()??"";for(const N of E)if(N.startsWith("data: ")){const j=N.slice(6).trim();if(!j||j==="[DONE]")continue;try{const O=JSON.parse(j);if(O.type==="reasoning.delta"&&typeof O.content=="string")b=!0,r(O.content);else if(O.type==="message.delta"&&typeof O.content=="string")b?x+=O.content:x+=X0(O.content,w,r);else if(O.type==="chat.end"&&O.result?.output){x="";for(const _ of O.result.output)(_.type==="reasoning"||_.type==="message")&&_.content&&(x+=_.content)}}catch{}}}if(!x&&g)try{for(const C of g.split(`
`))if(C.startsWith("data: ")){const k=C.slice(6).trim(),E=JSON.parse(k);if(E.type==="chat.end"&&E.result?.output)for(const N of E.result.output)(N.type==="reasoning"||N.type==="message")&&N.content&&(x+=N.content)}}catch{}return x}async function ile(e,t,n,r,i,o,s,l,u){if(i&&o)return rle(e,t,n,o,s,u);if(i){const{apiBase:m,apiKey:g}=Le.localAgent,x=`${m}/chat/completions`,w=await fetch(x,{method:"POST",signal:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({model:R1(e),max_tokens:2048,messages:[{role:"system",content:t},{role:"user",content:Os(n,u)}]})});if(!w.ok){const C=await w.text();throw new Error(`Local API error: ${w.status} ${C}`)}return(await w.json()).choices?.[0]?.message?.content??""}const d=r?.anthropic?.trim()||"",f=r?.openai?.trim()||"",p=r?.deepseek?.trim()||"";if(e.startsWith("claude")){if(!d)throw new Error("API key required for Anthropic. Add your key in Agent Uplink.");const m=/claude-(opus-4|sonnet-4|haiku-4|3-7-sonnet)/.test(e);if(o)return ele(d,e,t,n,o,s,m,u);const g=hL(n,u),x=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",signal:s,headers:{"Content-Type":"application/json","x-api-key":d,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:e,max_tokens:2048,system:mL(t),messages:[{role:"user",content:g}]})});if(!x.ok){const C=await x.text();throw new Error(`Anthropic API error: ${x.status} ${C}`)}return(await x.json()).content?.find(C=>C.type==="text")?.text??""}if(e.startsWith("gpt")||e.startsWith("o1")){if(!f)throw new Error("API key required for OpenAI. Add your key in Agent Uplink.");if(o)return tle(f,e,t,n,o,s,u);const m=Os(n,u),g={model:e,max_tokens:2048,messages:[{role:"system",content:t},{role:"user",content:m}]};e.startsWith("o1")&&(g.reasoning_effort="medium");const x=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",signal:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(g)});if(!x.ok){const C=await x.text();throw new Error(`OpenAI API error: ${x.status} ${C}`)}return(await x.json()).choices?.[0]?.message?.content??""}if(e.startsWith("deepseek")){if(!p)throw new Error("API key required for DeepSeek. Add your key in Agent Uplink.");if(o)return nle(p,e,t,n,o,s,l??0,u);const g=Math.min(16384*(1<<Math.min(l??0,2)),65536),x=Os(n,u),w=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",signal:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({model:e,max_tokens:g,messages:[{role:"system",content:t},{role:"user",content:x}]})});if(!w.ok){const E=await w.text();throw new Error(`DeepSeek API error: ${w.status} ${E}`)}return(await w.json()).choices?.[0]?.message?.content??""}throw new Error(`Unknown model: ${e}`)}async function wy(e){return iT(e)}async function ole(e,t,n){const{model:r,maxRetries:i=3,onProgress:o,onProposal:s,apiKeys:l,localMode:u,onThinking:d,onThinkingClear:f,signal:p,images:m,session:g,useRouter:x=!0}=n,w=Le.agentRmsThresholdUm,b=Dse(t);if(b===null){const z=e.traceResult??await wy({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays});return{success:!0,surfaces:e.surfaces,transaction:{surfaceDeltas:[]},traceResult:z}}const C=b;let k=x?Rse(C,r):r;k!==r&&!u&&l&&!Hse(k,l)&&(k=r),g&&jse(g,C.slice(0,120));const E={surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays,focusMode:e.focusMode,m2Factor:e.m2Factor};let N=[...e.surfaces],j=null,O=null,_="";if(m?.length&&u){const z=R1(k);if(await Jse(z)===!1)return{success:!1,error:`The selected model (${z}) does not support images. Load a vision model (e.g. Qwen2-VL) in LM Studio or switch to Cloud API (GPT-4o, Claude).`}}const D=e.traceResult?.performance?.rmsSpotRadius!=null?e.traceResult.performance.rmsSpotRadius*1e3:null;for(let z=0;z<i;z++){f?.(),o?.(z===0?"Thinking...":`Retrying (${z+1}/${i})...`);const q=j?{...e.traceResult,...j}:e.traceResult,G={entrancePupilDiameter:E.entrancePupilDiameter,wavelengths:E.wavelengths,fieldAngles:E.fieldAngles,numRays:E.numRays,focusMode:E.focusMode,m2Factor:E.m2Factor};let F;if(g){const{delta:R,isHandshake:W}=Ose(g,N,q,G);F=qse(R,W,g.episodic)}else F=dL({...E,surfaces:N},q);const U=_==="Could not parse valid transaction from LLM response",fe=z>0&&_?U?'\n\nYour previous response was not valid JSON. Return ONLY a raw JSON object with "surfaceDeltas" (array) and optional "reasoning". No markdown, no ```json``` blocks, no text before or after. Example: {"surfaceDeltas":[{"id":"...","radius":50}],"reasoning":"..."}':`

Previous attempt failed: ${_}. Propose a different transaction to fix this.`:"",ue=m?.length?`

[CRITICAL: Image(s) are attached. Analyze them and propose optical changes. Your response MUST be ONLY a valid JSON object with "surfaceDeltas" (array) and optional "reasoning". No conversational text, no markdown, no explanation before or after the JSON.]`:"";g&&z>0&&sf(g,{failedIterations:[U?"Parse error (invalid JSON)":_]});let be;try{be=await ile(k,F,C+ue+fe,l,u,d,p,z,m)}catch(R){const W=R instanceof Error&&R.name==="AbortError";let ie=R instanceof Error?R.message:String(R);!W&&m?.length&&Wse(ie)&&(ie=Vse(ie));const oe=!W&&u&&Zse(R);return{success:!1,error:W?"Stopped by user":ie,lastTransaction:O??void 0,localUnreachable:oe,aborted:W}}const Y=Yse(be,N,u?{model:k,promptPreview:C,saveThoughts:!0}:void 0);if(!Y){const R=m?.length?Use(be):null;_=R?`The model does not support images. It responded: "${R}" Try GPT-4o or Claude for image analysis.`:m?.length?"Could not parse valid transaction from LLM response. The model may not support images  try GPT-4o or Claude for image analysis.":"Could not parse valid transaction from LLM response";continue}if(Y.physicsViolation){_=[Y.reason,Y.suggestedAlternative].filter(Boolean).join(". ")||"Agent flagged PHYSICS_VIOLATION",O=Y;continue}if(Y.surfaceDeltas.length===0){const R=j??await wy({...E,surfaces:N});return g&&(eO(g,N,R),sf(g,{constraintsMet:["No changes needed"]})),{success:!0,surfaces:N,transaction:Y,traceResult:R}}O=Y;const re=Xse(N,Y);if(!re.valid){_=re.error??"Validation failed";continue}o?.("Applying changes..."),N=pL(N,Y),s?.(N),o?.("Validating with ray trace...");try{j=await wy({...E,surfaces:N})}catch(R){_=R instanceof Error?R.message:String(R);continue}const te=j?.performance?.rmsSpotRadius!=null?j.performance.rmsSpotRadius*1e3:0;if(D!=null&&te>D){_=`Design rejected: RMS increased from ${D.toFixed(1)} to ${te.toFixed(1)} m. Please refine.`,g&&sf(g,{failedIterations:[_]});continue}if(te<=w)return g&&(eO(g,N,j),sf(g,{constraintsMet:[`RMS ${te.toFixed(1)} m within threshold`]})),{success:!0,surfaces:N,transaction:Y,traceResult:j};_=`Design failed: RMS spot radius ${te.toFixed(1)} m exceeds threshold ${w} m. Try aspheric on Surface 2, different glass, or adjust curvature.`}return{success:!1,error:_||"Agent did not converge",lastTransaction:O??void 0}}const Z0="photonleap_agent_keys",gL="photonleap_agent_local_mode",vL="photonleap_agent_local_models",Op={openai:"",anthropic:"",deepseek:""};function rO(){try{const e=localStorage.getItem(Z0);if(!e)return Op;const t=JSON.parse(e);return{openai:t.openai??"",anthropic:t.anthropic??"",deepseek:t.deepseek??""}}catch{return Op}}function iO(){try{return localStorage.getItem(gL)==="true"}catch{return!1}}function oO(){try{const e=localStorage.getItem(vL);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.filter(n=>typeof n=="string"&&n.trim().length>0):[]}catch{return[]}}const yL=P.createContext(null);function ale({children:e}){const[t,n]=P.useState(rO),[r,i]=P.useState(iO),[o,s]=P.useState(oO);P.useEffect(()=>{n(rO()),i(iO()),s(oO())},[]);const l=P.useCallback(g=>{n(g);try{localStorage.setItem(Z0,JSON.stringify(g))}catch{}},[]),u=P.useCallback(()=>{try{localStorage.removeItem(Z0)}catch{}n({openai:"",anthropic:"",deepseek:""})},[]),d=P.useCallback(g=>t[g]||"",[t]),f=P.useCallback(g=>{i(g);try{localStorage.setItem(gL,String(g))}catch{}},[]),p=P.useCallback(g=>{const x=g.map(w=>w.trim()).filter(Boolean);s(x);try{localStorage.setItem(vL,JSON.stringify(x))}catch{}},[]),m=P.useMemo(()=>({keys:t,setKeys:l,clearAllKeys:u,getKey:d,localMode:r,setLocalMode:f,localModels:o,setLocalModels:p}),[t,l,u,d,r,f,o,p]);return y.jsx(yL.Provider,{value:m,children:e})}function aO(e){return{openai:!!e.openai?.trim(),anthropic:!!e.anthropic?.trim(),deepseek:!!e.deepseek?.trim()}}function sle(){const e=P.useContext(yL);if(!e)return{keys:Op,hasKeys:aO(Op),setKeys:()=>{},clearAllKeys:()=>{},getKey:n=>"",localMode:!1,setLocalMode:()=>{},localModels:[],setLocalModels:()=>{}};const t=P.useMemo(()=>aO(e.keys),[e.keys]);return{keys:e.keys,hasKeys:t,setKeys:e.setKeys,clearAllKeys:e.clearAllKeys,getKey:e.getKey,localMode:e.localMode,setLocalMode:e.setLocalMode,localModels:e.localModels,setLocalModels:e.setLocalModels}}const lle=[{id:"openai",label:"OpenAI (GPT-4o / o1)",placeholder:"sk-...",dashboardUrl:"https://platform.openai.com/api-keys"},{id:"anthropic",label:"Anthropic (Claude 3.5 / Opus)",placeholder:"sk-ant-...",dashboardUrl:"https://console.anthropic.com/settings/keys"},{id:"deepseek",label:"DeepSeek",placeholder:"sk-...",dashboardUrl:"https://platform.deepseek.com/api_keys"}];function cle({open:e,onClose:t,initialKeys:n={},onSyncKeys:r,onClearAllKeys:i,requiredMessage:o,localMode:s=!1,onLocalModeChange:l,localModels:u=[],onLocalModelsChange:d}){const[f,p]=P.useState({openai:n.openai??"",anthropic:n.anthropic??"",deepseek:n.deepseek??""}),[m,g]=P.useState(""),[x,w]=P.useState({openai:!0,anthropic:!0,deepseek:!0}),[b,C]=P.useState(!1);P.useEffect(()=>{e&&p({openai:n.openai??"",anthropic:n.anthropic??"",deepseek:n.deepseek??""})},[e,n.openai,n.anthropic,n.deepseek]);const k=P.useCallback((O,_)=>{p(D=>({...D,[O]:_}))},[]),E=P.useCallback(O=>{w(_=>({..._,[O]:!_[O]}))},[]),N=P.useCallback(async()=>{C(!0),await new Promise(O=>setTimeout(O,600)),r?.(f),C(!1),t()},[f,r,t]),j=P.useCallback(()=>{p({openai:"",anthropic:"",deepseek:""}),i?.(),t()},[i,t]);return e?y.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t,"aria-hidden":!0}),y.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-white/20 bg-white/5 shadow-2xl",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 50%, rgba(34,211,238,0.03) 100%)",boxShadow:"0 0 40px rgba(34, 211, 238, 0.08), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[y.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl overflow-hidden opacity-[0.03]",style:{background:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.3) 2px, rgba(0,0,0,0.3) 4px)"}}),y.jsxs("div",{className:"relative p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h2",{className:"text-xl font-bold tracking-widest uppercase text-cyan-electric",style:{fontFamily:"'Orbitron', 'Rajdhani', monospace"},children:"Agent Uplink"}),y.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-colors","aria-label":"Close",children:y.jsx(_s,{className:"w-5 h-5"})})]}),o&&y.jsx("p",{className:"text-amber-400/90 text-sm mb-4 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/30",children:o}),l&&y.jsxs("div",{className:"flex items-center justify-between mb-6 p-3 rounded-xl border border-white/10 bg-black/20",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(k3,{className:"w-4 h-4 text-cyan-electric"}),y.jsx("span",{className:"text-sm font-medium text-slate-200",children:"Local Mode"}),y.jsx("span",{className:"text-xs text-slate-500",children:"(LM Studio @ localhost:1234)"})]}),y.jsx("button",{type:"button",role:"switch","aria-checked":s,onClick:()=>l(!s),className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-electric/50 focus:ring-offset-2 focus:ring-offset-slate-900 ${s?"bg-cyan-electric":"bg-slate-600"}`,children:y.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition ${s?"translate-x-5":"translate-x-0.5"}`})})]}),s&&d&&y.jsxs("div",{className:"mb-6 p-4 rounded-xl border border-cyan-electric/30 bg-black/20",children:[y.jsx("p",{className:"text-cyan-electric/90 text-sm font-medium mb-2",children:"Local Models"}),y.jsx("p",{className:"text-slate-400 text-xs mb-3",children:"Enter the exact model name(s) from LM Studio (e.g. deepseek-r1-distill-qwen-32b-mlx). These are sent to localhost only."}),y.jsxs("div",{className:"flex gap-2 mb-3",children:[y.jsx("input",{type:"text",value:m,onChange:O=>g(O.target.value),onKeyDown:O=>{if(O.key==="Enter"){O.preventDefault();const _=m.trim();_&&!u.includes(_)&&(d([...u,_]),g(""))}},placeholder:"e.g. deepseek-r1-distill-qwen-32b-mlx",className:"flex-1 px-3 py-2 rounded-lg bg-black/30 border border-white/10 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-electric/50 font-mono text-sm"}),y.jsxs("button",{type:"button",onClick:()=>{const O=m.trim();O&&!u.includes(O)&&(d([...u,O]),g(""))},className:"px-3 py-2 rounded-lg bg-cyan-electric/20 text-cyan-electric border border-cyan-electric/40 hover:bg-cyan-electric/30 transition-colors flex items-center gap-1",children:[y.jsx(js,{className:"w-4 h-4"}),"Add"]})]}),u.length>0?y.jsx("ul",{className:"space-y-2",children:u.map(O=>y.jsxs("li",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-black/30 border border-white/10",children:[y.jsx("span",{className:"text-slate-200 font-mono text-sm truncate",children:O}),y.jsx("button",{type:"button",onClick:()=>d(u.filter(_=>_!==O)),className:"p-1.5 rounded text-slate-400 hover:text-amber-400 hover:bg-amber-500/10 transition-colors","aria-label":`Remove ${O}`,children:y.jsx(L3,{className:"w-4 h-4"})})]},O))}):y.jsx("p",{className:"text-slate-500 text-xs italic",children:"No models added yet. Add at least one to use Local Mode."})]}),y.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Configure API keys for LeapOS agents. Keys are stored locally and never sent except to the respective provider."}),y.jsx("div",{className:"space-y-4",children:lle.map(({id:O,label:_,placeholder:D,dashboardUrl:z})=>y.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 bg-black/20",children:[y.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${f[O]?.trim()?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.8)]":"bg-slate-500"}`}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:_}),y.jsxs("div",{className:"relative flex items-center gap-2",children:[y.jsx("input",{type:x[O]?"password":"text",value:f[O],onChange:q=>k(O,q.target.value),placeholder:D,className:"w-full px-3 py-2 rounded-lg bg-black/30 border border-white/10 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-electric/50 focus:ring-1 focus:ring-cyan-electric/30 font-mono text-sm"}),y.jsx("button",{type:"button",onClick:()=>E(O),className:"p-2 rounded-lg text-slate-400 hover:text-cyan-electric transition-colors shrink-0","aria-label":x[O]?"Show key":"Hide key",children:x[O]?y.jsx(N3,{className:"w-4 h-4"}):y.jsx(E3,{className:"w-4 h-4"})}),y.jsx("a",{href:z,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg text-slate-400 hover:text-cyan-electric transition-colors shrink-0","aria-label":`Open ${_} dashboard`,children:y.jsx(M3,{className:"w-4 h-4"})})]})]})]},O))}),y.jsxs("button",{type:"button",onClick:N,disabled:b,className:"mt-6 w-full py-3 rounded-xl font-semibold tracking-wider uppercase text-cyan-electric border border-cyan-electric/50 bg-cyan-electric/10 hover:bg-cyan-electric/20 disabled:opacity-50 transition-all relative overflow-hidden uplink-sync-btn",style:{fontFamily:"'Orbitron', 'Rajdhani', monospace"},children:[y.jsx("div",{className:"absolute inset-0 pointer-events-none uplink-scanline","aria-hidden":!0}),y.jsx("span",{className:"relative",children:b?"Syncing...":"Sync Keys"})]}),i&&y.jsxs("button",{type:"button",onClick:j,className:"mt-3 w-full py-2 rounded-xl font-medium text-sm text-slate-400 hover:text-amber-400 hover:bg-amber-500/10 border border-transparent hover:border-amber-500/30 transition-all flex items-center justify-center gap-2",style:{fontFamily:"'Orbitron', 'Rajdhani', monospace"},children:[y.jsx(wf,{className:"w-4 h-4"}),"Clear All Keys"]})]})]}),y.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap');
        .uplink-scanline {
          background: repeating-linear-gradient(
            0deg,
            transparent 0px,
            transparent 3px,
            rgba(34, 211, 238, 0.08) 3px,
            rgba(34, 211, 238, 0.08) 4px
          );
          animation: uplink-scanline 2s linear infinite;
          opacity: 0.8;
        }
        .uplink-sync-btn:hover .uplink-scanline,
        .uplink-sync-btn:focus .uplink-scanline {
          animation-duration: 1s;
          opacity: 1;
        }
        @keyframes uplink-scanline {
          0% { transform: translateY(-100%); }
          100% { transform: translateY(100%); }
        }
      `})]}):null}const Sy=[{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",provider:"anthropic",role:"physicist",description:"Master Consultant  highest reasoning ceiling"},{id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",provider:"anthropic",role:"physicist",description:"The Physicist  Goldilocks for coding/math"},{id:"gpt-4o",name:"GPT-4o",provider:"openai",role:"visionary",description:"The Visionary  multimodal, vision-to-physics"},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"openai",description:"Lightweight"},{id:"o1-2024-12-17",name:"OpenAI o1",provider:"openai",role:"optimizer",description:"The Optimizer  chain-of-thought reasoning"},{id:"deepseek-chat",name:"DeepSeek Chat",provider:"deepseek",description:"DeepSeek"},{id:"deepseek-reasoner",name:"DeepSeek Reasoner",provider:"deepseek",role:"optimizer",description:"Reasoning-heavy for quantum"}];function ule(e,t){if(e.startsWith("claude"))return t.anthropic?.trim()||void 0;if(e.startsWith("gpt")||e.startsWith("o1"))return t.openai?.trim()||void 0;if(e.startsWith("deepseek"))return t.deepseek?.trim()||void 0}function dle({systemState:e,onSystemStateChange:t,recentSemanticDeltas:n=[],onClearSemanticDeltas:r}){const{keys:i,setKeys:o,clearAllKeys:s,localMode:l,setLocalMode:u,localModels:d,setLocalModels:f}=sle(),[p,m]=P.useState(!1),[g,x]=P.useState(null),[w,b]=P.useState(""),[C,k]=P.useState("claude-3-5-sonnet-20241022"),[E,N]=P.useState(""),[j,O]=P.useState(!1),[_,D]=P.useState(null),[z,q]=P.useState(null),[G,F]=P.useState(null),[U,fe]=P.useState(null),[ue,be]=P.useState(""),[Q,Y]=P.useState(!1),[re,te]=P.useState(!1),[R,W]=P.useState([]),[ie,oe]=P.useState(-1),[de,X]=P.useState([]),[B,ee]=P.useState(null),L=P.useRef(""),ne=P.useRef(null),pe=P.useRef(null),I=P.useRef(null),Ce=P.useRef(kse()),we=50,Ye=["image/png","image/jpeg","image/jpg","image/gif","image/webp"],ze=5;function rt(le){return new Promise((Me,Ue)=>{if(!Ye.includes(le.type)){Ue(new Error(`Unsupported format: ${le.type}. Use PNG, JPEG, GIF, or WebP.`));return}if(le.size>ze*1024*1024){Ue(new Error(`Image too large (max ${ze} MB).`));return}const Qe=new FileReader;Qe.onload=()=>{const Et=Qe.result.match(/^data:([^;]+);base64,(.+)$/);if(!Et){Ue(new Error("Failed to read image."));return}Me({mediaType:Et[1],data:Et[2]})},Qe.onerror=()=>Ue(new Error("Failed to read file.")),Qe.readAsDataURL(le)})}P.useEffect(()=>{const le=Me=>{ne.current&&!ne.current.contains(Me.target)&&Y(!1)};return Q&&document.addEventListener("click",le),()=>document.removeEventListener("click",le)},[Q]),P.useEffect(()=>{pe.current?.scrollTo({top:pe.current.scrollHeight,behavior:"smooth"})},[ue]),P.useEffect(()=>{l&&N(le=>d.length===0?"":!le||!d.includes(le)?d[0]:le)},[l,d]);const vt={surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays,focusMode:e.focusMode,m2Factor:e.m2Factor},Kt=dL(vt,e.traceResult),Dn=ule(C,i),xe=l?d.length>0:!!Dn,at=l?E:C,lt=P.useCallback(async()=>{const le=w.trim();if(!le&&!de.length)return;if(!xe){if(l)x("Local Mode: Add at least one model name in Agent Uplink (Manage keys) to proceed.");else{const Xe=Sy.find(bt=>bt.id===C)?.name??C;x(`Neural Link Required: Please provide an API key for ${Xe} to proceed.`)}m(!0);return}if(l&&!E){x("Local Mode: Select a model from the dropdown, or add models in Agent Uplink."),m(!0);return}D("Thinking..."),q(null),F(null),fe(null),be(""),te(!1),ee(null);const Me=[...de];X([]),b(""),L.current="",oe(-1);const Ue=le||(Me.length?`[${Me.length} image(s) attached]`:"");W(Xe=>Ue?[Ue,...Xe.filter(mr=>mr!==Ue)].slice(0,we):Xe);const Qe=new AbortController;I.current=Qe;const Ut=n.length>0?`[Recent edits: ${n.map(Xe=>Xe.physicalImplication).join("; ")}]

${le}`:le||"(Please analyze the attached image(s).)",Et=await ole(e,Ut,{model:at,maxRetries:3,onProgress:D,apiKeys:i.openai||i.anthropic||i.deepseek?i:void 0,onProposal:Xe=>{t(bt=>({...bt,ghostSurfaces:Xe}))},localMode:l,onThinking:Xe=>be(bt=>bt+Xe),onThinkingClear:()=>be(""),signal:Qe.signal,session:Ce.current,useRouter:!l,images:Me.length?Me:void 0});if(I.current=null,D(null),Et.success){r?.(),q("success"),F(Et.transaction.reasoning??null);const Xe=Et.traceResult;t(bt=>({...bt,surfaces:Et.surfaces,ghostSurfaces:null,traceResult:Xe?{rays:Xe.rays??bt.traceResult?.rays??[],surfaces:Xe.surfaces??bt.traceResult?.surfaces??[],focusZ:Xe.focusZ??bt.traceResult?.focusZ??0,bestFocusZ:Xe.bestFocusZ??bt.traceResult?.bestFocusZ,zOrigin:Xe.zOrigin??bt.traceResult?.zOrigin,performance:Xe.performance??bt.traceResult?.performance,metricsSweep:Xe.metricsSweep??bt.traceResult?.metricsSweep,gaussianBeam:Xe.gaussianBeam??bt.traceResult?.gaussianBeam}:bt.traceResult,hasTraced:!0,traceError:null,...Xe?.performance?{rmsSpotRadius:Xe.performance.rmsSpotRadius,totalLength:Xe.performance.totalLength,fNumber:Xe.performance.fNumber}:{}}))}else q("error"),fe(Et.aborted?"Stopped by user":Et.error),Et.localUnreachable&&te(!0),t(Xe=>({...Xe,ghostSurfaces:null}))},[w,de,C,E,at,xe,e,t,i,l,n,r]),Ke=P.useCallback(()=>{I.current?.abort()},[]);return y.jsxs("div",{className:"h-full flex flex-col bg-slate-900/50 rounded-lg border border-white/10 overflow-hidden",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg",children:"LeapOS Command Deck"}),y.jsx("p",{className:"text-slate-400 text-sm mt-0.5",children:"Describe your optical design intent. The agent will propose surface changes and validate via ray trace."})]}),y.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-slate-400 text-xs font-medium mb-1.5",children:"Model"}),y.jsx("div",{className:"relative",ref:ne,children:l?y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",onClick:()=>d.length>0&&Y(le=>!le),disabled:d.length===0,className:"w-full flex items-center justify-between gap-2 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-slate-200 text-sm hover:border-cyan-electric/30 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:[y.jsx("span",{className:"font-mono truncate",children:E||(d.length===0?"Add models in Uplink":"Select local model")}),y.jsx(As,{className:`w-4 h-4 shrink-0 transition-transform ${Q?"rotate-180":""}`})]}),Q&&d.length>0&&y.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 py-1 bg-slate-800 border border-white/10 rounded-lg shadow-xl z-10 max-h-48 overflow-y-auto",children:d.map(le=>y.jsx("button",{type:"button",onClick:()=>{N(le),Y(!1)},className:`w-full px-3 py-2 text-left text-sm font-mono hover:bg-white/5 transition-colors ${E===le?"text-cyan-electric bg-white/5":"text-slate-300"}`,children:le},le))})]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",onClick:()=>Y(le=>!le),className:"w-full flex items-center justify-between gap-2 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-slate-200 text-sm hover:border-cyan-electric/30 transition-colors",children:[y.jsx("span",{children:Sy.find(le=>le.id===C)?.name??C}),y.jsx(As,{className:`w-4 h-4 transition-transform ${Q?"rotate-180":""}`})]}),Q&&y.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 py-1 bg-slate-800 border border-white/10 rounded-lg shadow-xl z-10",children:Sy.map(le=>y.jsxs("button",{type:"button",onClick:()=>{k(le.id),Y(!1)},className:`w-full px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors ${C===le.id?"text-cyan-electric bg-white/5":"text-slate-300"}`,children:[y.jsx("span",{className:"font-medium",children:le.name}),le.role&&y.jsxs("span",{className:"text-cyan-electric/70 text-xs ml-2",children:["[",le.role,"]"]}),y.jsx("span",{className:"text-slate-500 text-xs ml-2 block mt-0.5",children:le.description})]},le.id))})]})}),l&&y.jsx("p",{className:"text-cyan-electric/80 text-xs mt-1.5",children:"Local Mode  LM Studio @ localhost:1234"}),!xe&&!l&&y.jsxs("p",{className:"text-amber-500/90 text-xs mt-1.5 flex items-center gap-2",children:[y.jsxs("button",{type:"button",onClick:()=>{x(null),m(!0)},className:"inline-flex items-center gap-1 text-cyan-electric hover:underline",children:[y.jsx(yP,{className:"w-3.5 h-3.5"}),"Configure Uplink"]}),"to add an API key"]}),(xe||l)&&y.jsxs("button",{type:"button",onClick:()=>{x(null),m(!0)},className:"text-slate-500 hover:text-cyan-electric text-xs mt-1 flex items-center gap-1",children:[y.jsx(yP,{className:"w-3 h-3"}),l?"Manage keys & models":"Manage keys"]})]}),y.jsx(cle,{open:p,onClose:()=>{m(!1),x(null)},initialKeys:i,onSyncKeys:le=>o(le),onClearAllKeys:s,requiredMessage:g??void 0,localMode:l,onLocalModeChange:u,localModels:d,onLocalModelsChange:f}),re&&l&&y.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30 flex flex-col gap-2",children:[y.jsx("p",{className:"text-amber-400/90 text-sm font-medium",children:"Local Node Offline"}),y.jsx("p",{className:"text-slate-400 text-xs",children:"Unable to reach LM Studio at localhost:1234. If LM Studio is running, enable CORS in its Developer tab (Server Settings  Enable CORS). Otherwise switch back to Cloud API?"}),y.jsx("button",{type:"button",onClick:()=>{u(!1),te(!1),fe(null)},className:"self-start px-3 py-1.5 text-sm font-medium text-cyan-electric hover:bg-cyan-electric/10 rounded-lg transition-colors",children:"Switch to Cloud API"})]}),R.length>0&&y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-slate-500/80 text-[10px] font-medium uppercase tracking-wider",children:"Recent commands"}),y.jsx("div",{className:"space-y-0.5 max-h-20 overflow-y-auto",children:R.slice(0,5).map((le,Me)=>y.jsxs("div",{className:"px-2.5 py-1.5 rounded-md bg-slate-800/40 border border-white/[0.04] text-slate-500 text-[11px] font-mono leading-relaxed truncate",title:le,children:[y.jsx("span",{className:"text-slate-600 mr-1.5",children:""}),le.length>80?`${le.slice(0,80)}`:le]},`${Me}-${le.slice(0,20)}`))})]}),y.jsxs("div",{onDragOver:le=>{le.preventDefault(),le.stopPropagation()},onDrop:le=>{le.preventDefault(),le.stopPropagation(),ee(null);const Me=Array.from(le.dataTransfer.files).filter(Ue=>Ye.includes(Ue.type));if(Me.length===0&&le.dataTransfer.files.length>0){ee("Only PNG, JPEG, GIF, or WebP images are supported.");return}Promise.all(Me.map(Ue=>rt(Ue))).then(Ue=>{X(Qe=>[...Qe,...Ue].slice(0,4))}).catch(Ue=>ee(Ue instanceof Error?Ue.message:"Failed to add images."))},onPaste:le=>{const Me=Array.from(le.clipboardData?.files??[]).filter(Ue=>Ye.includes(Ue.type));Me.length!==0&&(le.preventDefault(),ee(null),Promise.all(Me.map(Ue=>rt(Ue))).then(Ue=>{X(Qe=>[...Qe,...Ue].slice(0,4))}).catch(Ue=>ee(Ue instanceof Error?Ue.message:"Failed to add images.")))},children:[y.jsx("label",{className:"block text-slate-400 text-xs font-medium mb-1.5",children:"Command"}),de.length>0&&y.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:de.map((le,Me)=>y.jsxs("div",{className:"relative group",children:[y.jsx("img",{src:`data:${le.mediaType};base64,${le.data}`,alt:"",className:"w-14 h-14 object-cover rounded-lg border border-white/10"}),y.jsx("button",{type:"button",onClick:()=>X(Ue=>Ue.filter((Qe,Ut)=>Ut!==Me)),className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center rounded-full bg-slate-800 border border-white/20 text-slate-400 hover:bg-amber-500/20 hover:text-amber-400 hover:border-amber-500/40 transition-colors","aria-label":"Remove image",children:y.jsx(_s,{className:"w-3 h-3"})})]},Me))}),B&&y.jsx("p",{className:"text-amber-500/90 text-xs mb-1.5",children:B}),y.jsx("textarea",{value:w,onChange:le=>{b(le.target.value),ie>=0&&oe(-1)},onKeyDown:le=>{if(le.key==="Enter"&&!le.shiftKey){le.preventDefault(),(w.trim()||de.length)&&lt();return}if(le.key==="ArrowUp"){if(le.preventDefault(),R.length===0)return;ie===-1&&(L.current=w);const Me=Math.min(ie+1,R.length-1);oe(Me),b(R[Me]);return}if(le.key==="ArrowDown"){if(le.preventDefault(),ie<=-1)return;const Me=ie-1;oe(Me),b(Me>=0?R[Me]:L.current)}},placeholder:"e.g. Design a beam expander for 532nm laser, 50mm tube length  or drop/paste images",rows:4,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-slate-200 text-sm font-mono placeholder-slate-500 focus:outline-none focus:border-cyan-electric/50 focus:shadow-[0_0_8px_rgba(34,211,238,0.25)] resize-none"}),R.length>0&&y.jsx("p",{className:"text-slate-600/80 text-[10px] mt-1",children:" browse history"}),de.length>0&&y.jsxs("p",{className:"text-slate-600/80 text-[10px] mt-1 flex items-center gap-1",children:[y.jsx(D3,{className:"w-3 h-3"}),"Drop or paste images (max ",ze," MB each)"]})]}),y.jsxs("div",{children:[y.jsxs("button",{type:"button",onClick:()=>O(le=>!le),className:"flex items-center gap-2 text-slate-400 text-xs font-medium hover:text-cyan-electric/80 transition-colors",children:[j?y.jsx(As,{className:"w-3.5 h-3.5"}):y.jsx(Cy,{className:"w-3.5 h-3.5"}),"System context (optical_stack + traceResult)"]}),j&&y.jsx("pre",{className:"mt-2 p-3 bg-black/30 border border-white/10 rounded-lg text-xs text-slate-400 font-mono overflow-auto max-h-48",children:Kt})]}),ue&&y.jsxs("div",{className:"p-2.5 rounded-lg bg-slate-800/50 border border-white/[0.06]",children:[y.jsx("p",{className:"text-slate-500/90 text-[10px] font-medium uppercase tracking-wider mb-1",children:"Thinking"}),y.jsx("div",{ref:pe,className:"text-slate-500/90 text-[11px] leading-relaxed whitespace-pre-wrap font-mono max-h-36 overflow-y-auto",children:ue})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{type:"button",onClick:lt,disabled:!w.trim()&&!de.length||!!_,className:"flex items-center gap-2 px-4 py-2 bg-cyan-electric/20 text-cyan-electric rounded-lg font-medium text-sm hover:bg-cyan-electric/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:_?y.jsxs(y.Fragment,{children:[y.jsx(ks,{className:"w-4 h-4 animate-spin"}),_]}):y.jsxs(y.Fragment,{children:[y.jsx(U3,{className:"w-4 h-4"}),"Send"]})}),_&&y.jsxs("button",{type:"button",onClick:Ke,className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 text-amber-400 rounded-lg font-medium text-sm hover:bg-amber-500/30 transition-colors",children:[y.jsx(K3,{className:"w-4 h-4 fill-current"}),"Stop"]}),z==="success"&&y.jsxs("span",{className:"flex items-center gap-1.5 text-emerald-400 text-sm",children:[y.jsx(P3,{className:"w-4 h-4"}),"Design applied"]}),z==="error"&&y.jsxs("span",{className:"flex items-center gap-1.5 text-amber-500 text-sm",children:[y.jsx(C3,{className:"w-4 h-4"}),"Failed"]})]}),z==="success"&&G&&y.jsxs("div",{className:"p-3 rounded-lg bg-emerald-500/5 border border-emerald-500/20",children:[y.jsx("p",{className:"text-emerald-400/90 text-xs font-medium mb-1.5",children:"Agent explanation"}),y.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:G})]}),U&&y.jsxs("div",{className:"p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg space-y-2",children:[y.jsx("p",{className:"text-amber-500/90 text-sm font-mono",children:U}),U==="Could not parse valid transaction from LLM response"&&l&&y.jsx("p",{className:"text-slate-400 text-xs",children:"Many local models don't support vision. For image analysis, try a cloud model like GPT-4o or Claude."})]})]})]})}const xL="last_design";function fle(e,t){const n=Number(e.refractiveIndex??e.n??1)||1,r=Le.surfaceDefaults;return{id:typeof e.id=="string"&&e.id?e.id:crypto.randomUUID(),semanticName:typeof e.semanticName=="string"?e.semanticName:void 0,aiContext:typeof e.aiContext=="string"?e.aiContext:void 0,type:e.type==="Glass"||e.type==="Air"?e.type:n>1.01?"Glass":"Air",radius:Number(e.radius)||0,thickness:Number(e.thickness)||r.thickness,refractiveIndex:n,diameter:Number(e.diameter)||r.diameter,material:String(e.material??"Air"),description:String(e.description??""),radiusTolerance:e.radiusTolerance!=null?Number(e.radiusTolerance):void 0,thicknessTolerance:e.thicknessTolerance!=null?Number(e.thicknessTolerance):void 0,tiltTolerance:e.tiltTolerance!=null?Number(e.tiltTolerance):void 0,absorptionCoefficient:e.absorptionCoefficient!=null?Number(e.absorptionCoefficient):void 0,surfaceQuality:e.surfaceQuality!=null?String(e.surfaceQuality):void 0,coating:e.coating!=null?String(e.coating):void 0}}function ple(){try{const e=localStorage.getItem(xL);if(!e)return null;const t=JSON.parse(e);if(!t||!Array.isArray(t.surfaces))return null;const r=t.surfaces.filter(o=>typeof o=="object"&&o!==null).map((o,s)=>fle(o,s)),i={...gc,surfaces:r,entrancePupilDiameter:Number(t.entrancePupilDiameter)||Le.defaults.entrancePupilDiameter,wavelengths:Array.isArray(t.wavelengths)?t.wavelengths.map(Number):gc.wavelengths,fieldAngles:Array.isArray(t.fieldAngles)?t.fieldAngles.map(Number).slice(0,Le.maxFieldAngles):gc.fieldAngles,numRays:Number(t.numRays)||9,focusMode:t.focusMode==="Balanced"?"Balanced":"On-Axis",m2Factor:Math.max(.1,Math.min(10,Number(t.m2Factor)||1)),pulseWidthFs:Math.max(5,Math.min(1e4,Number(t.pulseWidthFs)||100)),laserPowerW:t.laserPowerW!=null?Number(t.laserPowerW):void 0,projectName:typeof t.projectName=="string"?t.projectName:void 0,hasTraced:!1,traceResult:null,traceError:null};return{...i,...$f(i)}}catch{return null}}const Py=["[ SYSTEM ] Initializing WebAssembly Runtime...","[ CORE ] Downloading Optical Physics Libraries (NumPy)...","[ NEURAL ] Establishing Local Memory Bridge...","[ READY ] Photon Leap V3.0 Active."];function hle({onReady:e}){const[t,n]=P.useState(0),[r,i]=P.useState(0),[o,s]=P.useState(!1),l=P.useRef();return P.useEffect(()=>{let u=!1,d;return i4().then(()=>{u||(n(Py.length-1),i(100),s(!0),d=setTimeout(e,800))}),()=>{u=!0,clearTimeout(d)}},[e]),P.useEffect(()=>{if(o)return;const u=setInterval(()=>{n(d=>Math.min(d+1,Py.length-2))},2200);return()=>clearInterval(u)},[o]),P.useEffect(()=>{if(o)return;const u=performance.now(),d=()=>{const f=performance.now()-u,p=Math.min(92,f/12e3*92);i(p),p<92&&(l.current=requestAnimationFrame(d))};return l.current=requestAnimationFrame(d),()=>{l.current&&cancelAnimationFrame(l.current)}},[o]),y.jsx("div",{className:"fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center",children:y.jsxs("div",{className:"w-full max-w-md px-8",children:[y.jsx("p",{className:"font-mono text-sm text-cyan-400 mb-6 tracking-widest min-h-[2.5rem]",style:{textShadow:"0 0 12px rgba(34, 211, 238, 0.6)"},children:Py[t]}),y.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full rounded-full transition-all duration-300 ease-out",style:{width:`${r}%`,background:"linear-gradient(90deg, #0891b2 0%, #22d3ee 50%, #67e8f9 100%)",boxShadow:"0 0 20px rgba(34, 211, 238, 0.8), 0 0 40px rgba(34, 211, 238, 0.4)"}})})]})})}function mle(){const[e,t]=P.useState("agent"),[n,r]=P.useState(null),[i,o]=P.useState(null),[s,l]=P.useState(null),[u,d]=P.useState(!0),[f,p]=P.useState(!0),[m,g]=P.useState(!0),x=P.useRef(null),w=P.useRef(null),[b,C]=P.useState(null),[k,E]=P.useState([]),[N,j]=P.useState(()=>ple()??{...gc,...$f(gc)}),[O,_]=P.useState(()=>r4());P.useEffect(()=>{C(null)},[N.surfaces]),P.useEffect(()=>{const z={surfaces:N.surfaces,entrancePupilDiameter:N.entrancePupilDiameter,wavelengths:N.wavelengths,fieldAngles:N.fieldAngles,numRays:N.numRays,focusMode:N.focusMode??"On-Axis",m2Factor:N.m2Factor??1,pulseWidthFs:N.pulseWidthFs??100,laserPowerW:N.laserPowerW,projectName:N.projectName,totalLength:N.totalLength,fNumber:N.fNumber,rmsSpotRadius:N.rmsSpotRadius};localStorage.setItem(xL,JSON.stringify(z))},[N]);const D=P.useCallback(z=>{j(q=>{const G=typeof z=="function"?z(q):{...q,...z},F={...G,fieldAngles:(G.fieldAngles??[0]).slice(0,Le.maxFieldAngles)},U=$f(F);return{...F,...U}})},[]);return y.jsx(ale,{children:y.jsxs("div",{className:"min-h-screen bg-midnight flex flex-col",children:[O&&y.jsx(hle,{onReady:()=>_(!1)}),y.jsx(Q3,{activeTab:e,onTabChange:t,loadedFileName:n}),y.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[y.jsxs("main",{className:"flex-1 overflow-auto p-4",children:[e==="lens"&&y.jsx(Dg,{systemState:N,onSystemStateChange:D,selectedSurfaceId:i,onSelectSurface:o,highlightedMetric:null,showBestFocus:u,snapToFocus:f,snapToSurface:m,onMonteCarloSensitivity:C}),e==="coating"&&y.jsx(wse,{}),y.jsxs("div",{className:"flex flex-1 min-h-0 gap-4",style:{display:e==="agent"?"flex":"none"},children:[y.jsx("div",{className:"w-96 shrink-0 overflow-y-auto",children:y.jsx(dle,{systemState:N,onSystemStateChange:D,recentSemanticDeltas:k,onClearSemanticDeltas:()=>E([])})}),y.jsx("div",{className:"flex-1 min-w-0 min-h-[400px]",children:y.jsx(Dg,{systemState:N,onSystemStateChange:D,selectedSurfaceId:i,onSelectSurface:o,highlightedMetric:null,showBestFocus:u,snapToFocus:f,snapToSurface:m,onMonteCarloSensitivity:C})})]}),e==="system"&&y.jsx(Q7,{systemState:N,onSystemStateChange:D,onLoadComplete:r,selectedSurfaceId:i,onSelectSurface:o,sensitivityBySurface:b,onSemanticDelta:z=>E(q=>[...q.slice(-4),z])}),e==="info"&&y.jsxs("div",{className:"flex flex-1 min-h-0 gap-4",children:[y.jsx("div",{className:"w-96 shrink-0 overflow-y-auto",children:y.jsx(iH,{highlightedMetric:s,onHighlightMetric:l,onSystemStateChange:D,onRunSampleAnalysis:()=>x.current?.(),onOpenOptimizer:()=>w.current?.()})}),y.jsx("div",{className:"flex-1 min-w-0 min-h-[400px]",children:y.jsx(Dg,{systemState:N,onSystemStateChange:D,selectedSurfaceId:i,onSelectSurface:o,highlightedMetric:s,showPersistentHud:!0,showBestFocus:u,snapToFocus:f,snapToSurface:m,runSampleAnalysisRef:x,pulseOptimizeRef:w,onMonteCarloSensitivity:C})})]}),e==="properties"&&y.jsx("div",{className:"h-full flex items-center justify-center text-slate-400",children:"Properties view  use the right sidebar"}),e==="export"&&y.jsx(oH,{systemState:N,onSystemStateChange:D})]}),y.jsx("aside",{className:"w-80 shrink-0 overflow-auto",children:y.jsx(Ase,{systemState:N,onSystemStateChange:D,selectedSurfaceId:i,onSelectSurface:o,showBestFocus:u,onShowBestFocusChange:d,snapToFocus:f,onSnapToFocusChange:p,snapToSurface:m,onSnapToSurfaceChange:g})})]})]})})}class gle extends P.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("App error:",t,n.componentStack)}render(){return this.state.hasError&&this.state.error?y.jsxs("div",{className:"min-h-screen bg-[#0B1120] text-slate-200 p-8 font-mono",children:[y.jsx("h1",{className:"text-xl font-bold text-red-400 mb-4",children:"Something went wrong"}),y.jsx("pre",{className:"text-sm overflow-auto bg-black/30 p-4 rounded-lg",children:this.state.error.toString()}),y.jsx("p",{className:"mt-4 text-slate-400 text-sm",children:"Check the browser console for more details."})]}):this.props.children}}v3.createRoot(document.getElementById("root")).render(y.jsx(P.StrictMode,{children:y.jsx(gle,{children:y.jsx(mle,{})})}));
