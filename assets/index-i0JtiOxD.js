function d3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function to(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dg={exports:{}},Kl={},fg={exports:{}},Xe={};var lP;function f3(){if(lP)return Xe;lP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(R){return R===null||typeof R!="object"?null:(R=p&&R[p]||R["@@iterator"],typeof R=="function"?R:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function b(R,$,oe){this.props=R,this.context=$,this.refs=w,this.updater=oe||g}b.prototype.isReactComponent={},b.prototype.setState=function(R,$){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,$,"setState")},b.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function C(){}C.prototype=b.prototype;function k(R,$,oe){this.props=R,this.context=$,this.refs=w,this.updater=oe||g}var E=k.prototype=new C;E.constructor=k,x(E,b.prototype),E.isPureReactComponent=!0;var N=Array.isArray,j=Object.prototype.hasOwnProperty,O={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function D(R,$,oe){var fe,ue={},ve=null,re=null;if($!=null)for(fe in $.ref!==void 0&&(re=$.ref),$.key!==void 0&&(ve=""+$.key),$)j.call($,fe)&&!T.hasOwnProperty(fe)&&(ue[fe]=$[fe]);var U=arguments.length-2;if(U===1)ue.children=oe;else if(1<U){for(var M=Array(U),Y=0;Y<U;Y++)M[Y]=arguments[Y+2];ue.children=M}if(R&&R.defaultProps)for(fe in U=R.defaultProps,U)ue[fe]===void 0&&(ue[fe]=U[fe]);return{$$typeof:e,type:R,key:ve,ref:re,props:ue,_owner:O.current}}function B(R,$){return{$$typeof:e,type:R.type,key:$,ref:R.ref,props:R.props,_owner:R._owner}}function X(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function G(R){var $={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(oe){return $[oe]})}var F=/\/+/g;function W(R,$){return typeof R=="object"&&R!==null&&R.key!=null?G(""+R.key):$.toString(36)}function de(R,$,oe,fe,ue){var ve=typeof R;(ve==="undefined"||ve==="boolean")&&(R=null);var re=!1;if(R===null)re=!0;else switch(ve){case"string":case"number":re=!0;break;case"object":switch(R.$$typeof){case e:case t:re=!0}}if(re)return re=R,ue=ue(re),R=fe===""?"."+W(re,0):fe,N(ue)?(oe="",R!=null&&(oe=R.replace(F,"$&/")+"/"),de(ue,$,oe,"",function(Y){return Y})):ue!=null&&(X(ue)&&(ue=B(ue,oe+(!ue.key||re&&re.key===ue.key?"":(""+ue.key).replace(F,"$&/")+"/")+R)),$.push(ue)),1;if(re=0,fe=fe===""?".":fe+":",N(R))for(var U=0;U<R.length;U++){ve=R[U];var M=fe+W(ve,U);re+=de(ve,$,oe,M,ue)}else if(M=m(R),typeof M=="function")for(R=M.call(R),U=0;!(ve=R.next()).done;)ve=ve.value,M=fe+W(ve,U++),re+=de(ve,$,oe,M,ue);else if(ve==="object")throw $=String(R),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return re}function ce(R,$,oe){if(R==null)return R;var fe=[],ue=0;return de(R,fe,"","",function(ve){return $.call(oe,ve,ue++)}),fe}function Se(R){if(R._status===-1){var $=R._result;$=$(),$.then(function(oe){(R._status===0||R._status===-1)&&(R._status=1,R._result=oe)},function(oe){(R._status===0||R._status===-1)&&(R._status=2,R._result=oe)}),R._status===-1&&(R._status=0,R._result=$)}if(R._status===1)return R._result.default;throw R._result}var ee={current:null},K={transition:null},ie={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:K,ReactCurrentOwner:O};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:ce,forEach:function(R,$,oe){ce(R,function(){$.apply(this,arguments)},oe)},count:function(R){var $=0;return ce(R,function(){$++}),$},toArray:function(R){return ce(R,function($){return $})||[]},only:function(R){if(!X(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Xe.Component=b,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=k,Xe.StrictMode=r,Xe.Suspense=u,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Xe.act=ne,Xe.cloneElement=function(R,$,oe){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var fe=x({},R.props),ue=R.key,ve=R.ref,re=R._owner;if($!=null){if($.ref!==void 0&&(ve=$.ref,re=O.current),$.key!==void 0&&(ue=""+$.key),R.type&&R.type.defaultProps)var U=R.type.defaultProps;for(M in $)j.call($,M)&&!T.hasOwnProperty(M)&&(fe[M]=$[M]===void 0&&U!==void 0?U[M]:$[M])}var M=arguments.length-2;if(M===1)fe.children=oe;else if(1<M){U=Array(M);for(var Y=0;Y<M;Y++)U[Y]=arguments[Y+2];fe.children=U}return{$$typeof:e,type:R.type,key:ue,ref:ve,props:fe,_owner:re}},Xe.createContext=function(R){return R={$$typeof:s,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:o,_context:R},R.Consumer=R},Xe.createElement=D,Xe.createFactory=function(R){var $=D.bind(null,R);return $.type=R,$},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(R){return{$$typeof:l,render:R}},Xe.isValidElement=X,Xe.lazy=function(R){return{$$typeof:f,_payload:{_status:-1,_result:R},_init:Se}},Xe.memo=function(R,$){return{$$typeof:d,type:R,compare:$===void 0?null:$}},Xe.startTransition=function(R){var $=K.transition;K.transition={};try{R()}finally{K.transition=$}},Xe.unstable_act=ne,Xe.useCallback=function(R,$){return ee.current.useCallback(R,$)},Xe.useContext=function(R){return ee.current.useContext(R)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(R){return ee.current.useDeferredValue(R)},Xe.useEffect=function(R,$){return ee.current.useEffect(R,$)},Xe.useId=function(){return ee.current.useId()},Xe.useImperativeHandle=function(R,$,oe){return ee.current.useImperativeHandle(R,$,oe)},Xe.useInsertionEffect=function(R,$){return ee.current.useInsertionEffect(R,$)},Xe.useLayoutEffect=function(R,$){return ee.current.useLayoutEffect(R,$)},Xe.useMemo=function(R,$){return ee.current.useMemo(R,$)},Xe.useReducer=function(R,$,oe){return ee.current.useReducer(R,$,oe)},Xe.useRef=function(R){return ee.current.useRef(R)},Xe.useState=function(R){return ee.current.useState(R)},Xe.useSyncExternalStore=function(R,$,oe){return ee.current.useSyncExternalStore(R,$,oe)},Xe.useTransition=function(){return ee.current.useTransition()},Xe.version="18.3.1",Xe}var cP;function Ys(){return cP||(cP=1,fg.exports=f3()),fg.exports}var uP;function p3(){if(uP)return Kl;uP=1;var e=Ys(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,u,d){var f,p={},m=null,g=null;d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(g=u.ref);for(f in u)r.call(u,f)&&!o.hasOwnProperty(f)&&(p[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:t,type:l,key:m,ref:g,props:p,_owner:i.current}}return Kl.Fragment=n,Kl.jsx=s,Kl.jsxs=s,Kl}var dP;function h3(){return dP||(dP=1,dg.exports=p3()),dg.exports}var y=h3(),S=Ys();const pt=to(S),m3=d3({__proto__:null,default:pt},[S]);var jd={},pg={exports:{}},Jn={},hg={exports:{}},mg={};var fP;function g3(){return fP||(fP=1,(function(e){function t(K,ie){var ne=K.length;K.push(ie);e:for(;0<ne;){var R=ne-1>>>1,$=K[R];if(0<i($,ie))K[R]=ie,K[ne]=$,ne=R;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],ne=K.pop();if(ne!==ie){K[0]=ne;e:for(var R=0,$=K.length,oe=$>>>1;R<oe;){var fe=2*(R+1)-1,ue=K[fe],ve=fe+1,re=K[ve];if(0>i(ue,ne))ve<$&&0>i(re,ue)?(K[R]=re,K[ve]=ne,R=ve):(K[R]=ue,K[fe]=ne,R=fe);else if(ve<$&&0>i(re,ne))K[R]=re,K[ve]=ne,R=ve;else break e}}return ie}function i(K,ie){var ne=K.sortIndex-ie.sortIndex;return ne!==0?ne:K.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],d=[],f=1,p=null,m=3,g=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(K){for(var ie=n(d);ie!==null;){if(ie.callback===null)r(d);else if(ie.startTime<=K)r(d),ie.sortIndex=ie.expirationTime,t(u,ie);else break;ie=n(d)}}function N(K){if(w=!1,E(K),!x)if(n(u)!==null)x=!0,Se(j);else{var ie=n(d);ie!==null&&ee(N,ie.startTime-K)}}function j(K,ie){x=!1,w&&(w=!1,C(D),D=-1),g=!0;var ne=m;try{for(E(ie),p=n(u);p!==null&&(!(p.expirationTime>ie)||K&&!G());){var R=p.callback;if(typeof R=="function"){p.callback=null,m=p.priorityLevel;var $=R(p.expirationTime<=ie);ie=e.unstable_now(),typeof $=="function"?p.callback=$:p===n(u)&&r(u),E(ie)}else r(u);p=n(u)}if(p!==null)var oe=!0;else{var fe=n(d);fe!==null&&ee(N,fe.startTime-ie),oe=!1}return oe}finally{p=null,m=ne,g=!1}}var O=!1,T=null,D=-1,B=5,X=-1;function G(){return!(e.unstable_now()-X<B)}function F(){if(T!==null){var K=e.unstable_now();X=K;var ie=!0;try{ie=T(!0,K)}finally{ie?W():(O=!1,T=null)}}else O=!1}var W;if(typeof k=="function")W=function(){k(F)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,ce=de.port2;de.port1.onmessage=F,W=function(){ce.postMessage(null)}}else W=function(){b(F,0)};function Se(K){T=K,O||(O=!0,W())}function ee(K,ie){D=b(function(){K(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,Se(j))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(K){switch(m){case 1:case 2:case 3:var ie=3;break;default:ie=m}var ne=m;m=ie;try{return K()}finally{m=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ne=m;m=K;try{return ie()}finally{m=ne}},e.unstable_scheduleCallback=function(K,ie,ne){var R=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?R+ne:R):ne=R,K){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ne+$,K={id:f++,callback:ie,priorityLevel:K,startTime:ne,expirationTime:$,sortIndex:-1},ne>R?(K.sortIndex=ne,t(d,K),n(u)===null&&K===n(d)&&(w?(C(D),D=-1):w=!0,ee(N,ne-R))):(K.sortIndex=$,t(u,K),x||g||(x=!0,Se(j))),K},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(K){var ie=m;return function(){var ne=m;m=ie;try{return K.apply(this,arguments)}finally{m=ne}}}})(mg)),mg}var pP;function v3(){return pP||(pP=1,hg.exports=g3()),hg.exports}var hP;function y3(){if(hP)return Jn;hP=1;var e=Ys(),t=v3();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,c){s(a,c),s(a+"Capture",c)}function s(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(a){return u.call(p,a)?!0:u.call(f,a)?!1:d.test(a)?p[a]=!0:(f[a]=!0,!1)}function g(a,c,h,v){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function x(a,c,h,v){if(c===null||typeof c>"u"||g(a,c,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(a,c,h,v,P,A,_){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=v,this.attributeNamespace=P,this.mustUseProperty=h,this.propertyName=a,this.type=c,this.sanitizeURL=A,this.removeEmptyString=_}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];b[c]=new w(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(C,k);b[c]=new w(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(C,k);b[c]=new w(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(C,k);b[c]=new w(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,c,h,v){var P=b.hasOwnProperty(c)?b[c]:null;(P!==null?P.type!==0:v||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(x(c,h,P,v)&&(h=null),v||P===null?m(c)&&(h===null?a.removeAttribute(c):a.setAttribute(c,""+h)):P.mustUseProperty?a[P.propertyName]=h===null?P.type===3?!1:"":h:(c=P.attributeName,v=P.attributeNamespace,h===null?a.removeAttribute(c):(P=P.type,h=P===3||P===4&&h===!0?"":""+h,v?a.setAttributeNS(v,c,h):a.setAttribute(c,h))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),O=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),G=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),K=Symbol.iterator;function ie(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var ne=Object.assign,R;function $(a){if(R===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);R=c&&c[1]||""}return`
`+R+a}var oe=!1;function fe(a,c){if(!a||oe)return"";oe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Q){var v=Q}Reflect.construct(a,[],c)}else{try{c.call()}catch(Q){v=Q}a.call(c.prototype)}else{try{throw Error()}catch(Q){v=Q}a()}}catch(Q){if(Q&&v&&typeof Q.stack=="string"){for(var P=Q.stack.split(`
`),A=v.stack.split(`
`),_=P.length-1,I=A.length-1;1<=_&&0<=I&&P[_]!==A[I];)I--;for(;1<=_&&0<=I;_--,I--)if(P[_]!==A[I]){if(_!==1||I!==1)do if(_--,I--,0>I||P[_]!==A[I]){var L=`
`+P[_].replace(" at new "," at ");return a.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",a.displayName)),L}while(1<=_&&0<=I);break}}}finally{oe=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?$(a):""}function ue(a){switch(a.tag){case 5:return $(a.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return a=fe(a.type,!1),a;case 11:return a=fe(a.type.render,!1),a;case 1:return a=fe(a.type,!0),a;default:return""}}function ve(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case O:return"Portal";case B:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case de:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case G:return(a.displayName||"Context")+".Consumer";case X:return(a._context.displayName||"Context")+".Provider";case F:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ce:return c=a.displayName||null,c!==null?c:ve(a.type)||"Memo";case Se:c=a._payload,a=a._init;try{return ve(a(c))}catch{}}return null}function re(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(c);case 8:return c===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function U(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function M(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Y(a){var c=M(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),v=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var P=h.get,A=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return P.call(this)},set:function(_){v=""+_,A.call(this,_)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(_){v=""+_},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function J(a){a._valueTracker||(a._valueTracker=Y(a))}function V(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),v="";return a&&(v=M(a)?a.checked?"true":"false":a.value),a=v,a!==h?(c.setValue(a),!0):!1}function we(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Z(a,c){var h=c.checked;return ne({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Ie(a,c){var h=c.defaultValue==null?"":c.defaultValue,v=c.checked!=null?c.checked:c.defaultChecked;h=U(c.value!=null?c.value:h),a._wrapperState={initialChecked:v,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function $e(a,c){c=c.checked,c!=null&&E(a,"checked",c,!1)}function Ke(a,c){$e(a,c);var h=U(c.value),v=c.type;if(h!=null)v==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(v==="submit"||v==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?Nt(a,c.type,h):c.hasOwnProperty("defaultValue")&&Nt(a,c.type,U(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function ct(a,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var v=c.type;if(!(v!=="submit"&&v!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,h||c===a.value||(a.value=c),a.defaultValue=c}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Nt(a,c,h){(c!=="number"||we(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var Mt=Array.isArray;function xe(a,c,h,v){if(a=a.options,c){c={};for(var P=0;P<h.length;P++)c["$"+h[P]]=!0;for(h=0;h<a.length;h++)P=c.hasOwnProperty("$"+a[h].value),a[h].selected!==P&&(a[h].selected=P),P&&v&&(a[h].defaultSelected=!0)}else{for(h=""+U(h),c=null,P=0;P<a.length;P++){if(a[P].value===h){a[P].selected=!0,v&&(a[P].defaultSelected=!0);return}c!==null||a[P].disabled||(c=a[P])}c!==null&&(c.selected=!0)}}function rt(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ht(a,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(Mt(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}a._wrapperState={initialValue:U(h)}}function Ge(a,c){var h=U(c.value),v=U(c.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),c.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),v!=null&&(a.defaultValue=""+v)}function lt(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function ot(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xt(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?ot(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var wt,vn=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,v,P){MSApp.execUnsafeLocalFunction(function(){return a(c,h,v,P)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(wt=wt||document.createElement("div"),wt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=wt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function yn(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var On={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oi=["Webkit","ms","Moz","O"];Object.keys(On).forEach(function(a){oi.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),On[c]=On[a]})});function wr(a,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||On.hasOwnProperty(a)&&On[a]?(""+c).trim():c+"px"}function Bn(a,c){a=a.style;for(var h in c)if(c.hasOwnProperty(h)){var v=h.indexOf("--")===0,P=wr(h,c[h],v);h==="float"&&(h="cssFloat"),v?a.setProperty(h,P):a[h]=P}}var Wa=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function he(a,c){if(c){if(Wa[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function et(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Je=null;function Zt(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var tt=null,Ut=null,Ze=null;function Ft(a){if(a=Tl(a)){if(typeof tt!="function")throw Error(n(280));var c=a.stateNode;c&&(c=Hu(c),tt(a.stateNode,a.type,c))}}function Va(a){Ut?Ze?Ze.push(a):Ze=[a]:Ut=a}function Pu(){if(Ut){var a=Ut,c=Ze;if(Ze=Ut=null,Ft(a),c)for(a=0;a<c.length;a++)Ft(c[a])}}function dl(a,c){return a(c)}function Cu(){}var fl=!1;function ir(a,c,h){if(fl)return a(c,h);fl=!0;try{return dl(a,c,h)}finally{fl=!1,(Ut!==null||Ze!==null)&&(Cu(),Pu())}}function ai(a,c){var h=a.stateNode;if(h===null)return null;var v=Hu(h);if(v===null)return null;h=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var uo=!1;if(l)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){uo=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{uo=!1}function me(a,c,h,v,P,A,_,I,L){var Q=Array.prototype.slice.call(arguments,3);try{c.apply(h,Q)}catch(se){this.onError(se)}}var Ce=!1,be=null,je=!1,He=null,ye={onError:function(a){Ce=!0,be=a}};function Ne(a,c,h,v,P,A,_,I,L){Ce=!1,be=null,me.apply(ye,arguments)}function Ve(a,c,h,v,P,A,_,I,L){if(Ne.apply(this,arguments),Ce){if(Ce){var Q=be;Ce=!1,be=null}else throw Error(n(198));je||(je=!0,He=Q)}}function Ye(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function ze(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function mt(a){if(Ye(a)!==a)throw Error(n(188))}function $t(a){var c=a.alternate;if(!c){if(c=Ye(a),c===null)throw Error(n(188));return c!==a?null:a}for(var h=a,v=c;;){var P=h.return;if(P===null)break;var A=P.alternate;if(A===null){if(v=P.return,v!==null){h=v;continue}break}if(P.child===A.child){for(A=P.child;A;){if(A===h)return mt(P),a;if(A===v)return mt(P),c;A=A.sibling}throw Error(n(188))}if(h.return!==v.return)h=P,v=A;else{for(var _=!1,I=P.child;I;){if(I===h){_=!0,h=P,v=A;break}if(I===v){_=!0,v=P,h=A;break}I=I.sibling}if(!_){for(I=A.child;I;){if(I===h){_=!0,h=A,v=P;break}if(I===v){_=!0,v=A,h=P;break}I=I.sibling}if(!_)throw Error(n(189))}}if(h.alternate!==v)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:c}function St(a){return a=$t(a),a!==null?xn(a):null}function xn(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=xn(a);if(c!==null)return c;a=a.sibling}return null}var jn=t.unstable_scheduleCallback,si=t.unstable_cancelCallback,pl=t.unstable_shouldYield,P5=t.unstable_requestPaint,Ht=t.unstable_now,C5=t.unstable_getCurrentPriorityLevel,_h=t.unstable_ImmediatePriority,L1=t.unstable_UserBlockingPriority,Au=t.unstable_NormalPriority,A5=t.unstable_LowPriority,F1=t.unstable_IdlePriority,ku=null,li=null;function k5(a){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(ku,a,void 0,(a.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:O5,E5=Math.log,N5=Math.LN2;function O5(a){return a>>>=0,a===0?32:31-(E5(a)/N5|0)|0}var Eu=64,Nu=4194304;function hl(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Ou(a,c){var h=a.pendingLanes;if(h===0)return 0;var v=0,P=a.suspendedLanes,A=a.pingedLanes,_=h&268435455;if(_!==0){var I=_&~P;I!==0?v=hl(I):(A&=_,A!==0&&(v=hl(A)))}else _=h&~P,_!==0?v=hl(_):A!==0&&(v=hl(A));if(v===0)return 0;if(c!==0&&c!==v&&(c&P)===0&&(P=v&-v,A=c&-c,P>=A||P===16&&(A&4194240)!==0))return c;if((v&4)!==0&&(v|=h&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=v;0<c;)h=31-Wr(c),P=1<<h,v|=a[h],c&=~P;return v}function j5(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _5(a,c){for(var h=a.suspendedLanes,v=a.pingedLanes,P=a.expirationTimes,A=a.pendingLanes;0<A;){var _=31-Wr(A),I=1<<_,L=P[_];L===-1?((I&h)===0||(I&v)!==0)&&(P[_]=j5(I,c)):L<=c&&(a.expiredLanes|=I),A&=~I}}function Th(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function $1(){var a=Eu;return Eu<<=1,(Eu&4194240)===0&&(Eu=64),a}function Dh(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function ml(a,c,h){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Wr(c),a[c]=h}function T5(a,c){var h=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var v=a.eventTimes;for(a=a.expirationTimes;0<h;){var P=31-Wr(h),A=1<<P;c[P]=0,v[P]=-1,a[P]=-1,h&=~A}}function Mh(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var v=31-Wr(h),P=1<<v;P&c|a[v]&c&&(a[v]|=c),h&=~P}}var dt=0;function B1(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var z1,Ih,W1,V1,U1,Rh=!1,ju=[],fo=null,po=null,ho=null,gl=new Map,vl=new Map,mo=[],D5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H1(a,c){switch(a){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":gl.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(c.pointerId)}}function yl(a,c,h,v,P,A){return a===null||a.nativeEvent!==A?(a={blockedOn:c,domEventName:h,eventSystemFlags:v,nativeEvent:A,targetContainers:[P]},c!==null&&(c=Tl(c),c!==null&&Ih(c)),a):(a.eventSystemFlags|=v,c=a.targetContainers,P!==null&&c.indexOf(P)===-1&&c.push(P),a)}function M5(a,c,h,v,P){switch(c){case"focusin":return fo=yl(fo,a,c,h,v,P),!0;case"dragenter":return po=yl(po,a,c,h,v,P),!0;case"mouseover":return ho=yl(ho,a,c,h,v,P),!0;case"pointerover":var A=P.pointerId;return gl.set(A,yl(gl.get(A)||null,a,c,h,v,P)),!0;case"gotpointercapture":return A=P.pointerId,vl.set(A,yl(vl.get(A)||null,a,c,h,v,P)),!0}return!1}function G1(a){var c=Zo(a.target);if(c!==null){var h=Ye(c);if(h!==null){if(c=h.tag,c===13){if(c=ze(h),c!==null){a.blockedOn=c,U1(a.priority,function(){W1(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _u(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=Fh(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var v=new h.constructor(h.type,h);Je=v,h.target.dispatchEvent(v),Je=null}else return c=Tl(h),c!==null&&Ih(c),a.blockedOn=h,!1;c.shift()}return!0}function K1(a,c,h){_u(a)&&h.delete(c)}function I5(){Rh=!1,fo!==null&&_u(fo)&&(fo=null),po!==null&&_u(po)&&(po=null),ho!==null&&_u(ho)&&(ho=null),gl.forEach(K1),vl.forEach(K1)}function xl(a,c){a.blockedOn===c&&(a.blockedOn=null,Rh||(Rh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,I5)))}function bl(a){function c(P){return xl(P,a)}if(0<ju.length){xl(ju[0],a);for(var h=1;h<ju.length;h++){var v=ju[h];v.blockedOn===a&&(v.blockedOn=null)}}for(fo!==null&&xl(fo,a),po!==null&&xl(po,a),ho!==null&&xl(ho,a),gl.forEach(c),vl.forEach(c),h=0;h<mo.length;h++)v=mo[h],v.blockedOn===a&&(v.blockedOn=null);for(;0<mo.length&&(h=mo[0],h.blockedOn===null);)G1(h),h.blockedOn===null&&mo.shift()}var Ua=N.ReactCurrentBatchConfig,Tu=!0;function R5(a,c,h,v){var P=dt,A=Ua.transition;Ua.transition=null;try{dt=1,Lh(a,c,h,v)}finally{dt=P,Ua.transition=A}}function L5(a,c,h,v){var P=dt,A=Ua.transition;Ua.transition=null;try{dt=4,Lh(a,c,h,v)}finally{dt=P,Ua.transition=A}}function Lh(a,c,h,v){if(Tu){var P=Fh(a,c,h,v);if(P===null)tm(a,c,v,Du,h),H1(a,v);else if(M5(P,a,c,h,v))v.stopPropagation();else if(H1(a,v),c&4&&-1<D5.indexOf(a)){for(;P!==null;){var A=Tl(P);if(A!==null&&z1(A),A=Fh(a,c,h,v),A===null&&tm(a,c,v,Du,h),A===P)break;P=A}P!==null&&v.stopPropagation()}else tm(a,c,v,null,h)}}var Du=null;function Fh(a,c,h,v){if(Du=null,a=Zt(v),a=Zo(a),a!==null)if(c=Ye(a),c===null)a=null;else if(h=c.tag,h===13){if(a=ze(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Du=a,null}function Y1(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C5()){case _h:return 1;case L1:return 4;case Au:case A5:return 16;case F1:return 536870912;default:return 16}default:return 16}}var go=null,$h=null,Mu=null;function q1(){if(Mu)return Mu;var a,c=$h,h=c.length,v,P="value"in go?go.value:go.textContent,A=P.length;for(a=0;a<h&&c[a]===P[a];a++);var _=h-a;for(v=1;v<=_&&c[h-v]===P[A-v];v++);return Mu=P.slice(a,1<v?1-v:void 0)}function Iu(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Ru(){return!0}function X1(){return!1}function or(a){function c(h,v,P,A,_){this._reactName=h,this._targetInst=P,this.type=v,this.nativeEvent=A,this.target=_,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(h=a[I],this[I]=h?h(A):A[I]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ru:X1,this.isPropagationStopped=X1,this}return ne(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),c}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bh=or(Ha),wl=ne({},Ha,{view:0,detail:0}),F5=or(wl),zh,Wh,Sl,Lu=ne({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Sl&&(Sl&&a.type==="mousemove"?(zh=a.screenX-Sl.screenX,Wh=a.screenY-Sl.screenY):Wh=zh=0,Sl=a),zh)},movementY:function(a){return"movementY"in a?a.movementY:Wh}}),Z1=or(Lu),$5=ne({},Lu,{dataTransfer:0}),B5=or($5),z5=ne({},wl,{relatedTarget:0}),Vh=or(z5),W5=ne({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),V5=or(W5),U5=ne({},Ha,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),H5=or(U5),G5=ne({},Ha,{data:0}),Q1=or(G5),K5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X5(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=q5[a])?!!c[a]:!1}function Uh(){return X5}var Z5=ne({},wl,{key:function(a){if(a.key){var c=K5[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Iu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Y5[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uh,charCode:function(a){return a.type==="keypress"?Iu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Iu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Q5=or(Z5),J5=ne({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J1=or(J5),eL=ne({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uh}),tL=or(eL),nL=ne({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),rL=or(nL),iL=ne({},Lu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),oL=or(iL),aL=[9,13,27,32],Hh=l&&"CompositionEvent"in window,Pl=null;l&&"documentMode"in document&&(Pl=document.documentMode);var sL=l&&"TextEvent"in window&&!Pl,ew=l&&(!Hh||Pl&&8<Pl&&11>=Pl),tw=" ",nw=!1;function rw(a,c){switch(a){case"keyup":return aL.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ga=!1;function lL(a,c){switch(a){case"compositionend":return iw(c);case"keypress":return c.which!==32?null:(nw=!0,tw);case"textInput":return a=c.data,a===tw&&nw?null:a;default:return null}}function cL(a,c){if(Ga)return a==="compositionend"||!Hh&&rw(a,c)?(a=q1(),Mu=$h=go=null,Ga=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ew&&c.locale!=="ko"?null:c.data;default:return null}}var uL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ow(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!uL[a.type]:c==="textarea"}function aw(a,c,h,v){Va(v),c=Wu(c,"onChange"),0<c.length&&(h=new Bh("onChange","change",null,h,v),a.push({event:h,listeners:c}))}var Cl=null,Al=null;function dL(a){Cw(a,0)}function Fu(a){var c=Za(a);if(V(c))return a}function fL(a,c){if(a==="change")return c}var sw=!1;if(l){var Gh;if(l){var Kh="oninput"in document;if(!Kh){var lw=document.createElement("div");lw.setAttribute("oninput","return;"),Kh=typeof lw.oninput=="function"}Gh=Kh}else Gh=!1;sw=Gh&&(!document.documentMode||9<document.documentMode)}function cw(){Cl&&(Cl.detachEvent("onpropertychange",uw),Al=Cl=null)}function uw(a){if(a.propertyName==="value"&&Fu(Al)){var c=[];aw(c,Al,a,Zt(a)),ir(dL,c)}}function pL(a,c,h){a==="focusin"?(cw(),Cl=c,Al=h,Cl.attachEvent("onpropertychange",uw)):a==="focusout"&&cw()}function hL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Fu(Al)}function mL(a,c){if(a==="click")return Fu(c)}function gL(a,c){if(a==="input"||a==="change")return Fu(c)}function vL(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Vr=typeof Object.is=="function"?Object.is:vL;function kl(a,c){if(Vr(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),v=Object.keys(c);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var P=h[v];if(!u.call(c,P)||!Vr(a[P],c[P]))return!1}return!0}function dw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function fw(a,c){var h=dw(a);a=0;for(var v;h;){if(h.nodeType===3){if(v=a+h.textContent.length,a<=c&&v>=c)return{node:h,offset:c-a};a=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=dw(h)}}function pw(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?pw(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function hw(){for(var a=window,c=we();c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=we(a.document)}return c}function Yh(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function yL(a){var c=hw(),h=a.focusedElem,v=a.selectionRange;if(c!==h&&h&&h.ownerDocument&&pw(h.ownerDocument.documentElement,h)){if(v!==null&&Yh(h)){if(c=v.start,a=v.end,a===void 0&&(a=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(a,h.value.length);else if(a=(c=h.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var P=h.textContent.length,A=Math.min(v.start,P);v=v.end===void 0?A:Math.min(v.end,P),!a.extend&&A>v&&(P=v,v=A,A=P),P=fw(h,A);var _=fw(h,v);P&&_&&(a.rangeCount!==1||a.anchorNode!==P.node||a.anchorOffset!==P.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(c=c.createRange(),c.setStart(P.node,P.offset),a.removeAllRanges(),A>v?(a.addRange(c),a.extend(_.node,_.offset)):(c.setEnd(_.node,_.offset),a.addRange(c)))}}for(c=[],a=h;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)a=c[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var xL=l&&"documentMode"in document&&11>=document.documentMode,Ka=null,qh=null,El=null,Xh=!1;function mw(a,c,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Xh||Ka==null||Ka!==we(v)||(v=Ka,"selectionStart"in v&&Yh(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),El&&kl(El,v)||(El=v,v=Wu(qh,"onSelect"),0<v.length&&(c=new Bh("onSelect","select",null,c,h),a.push({event:c,listeners:v}),c.target=Ka)))}function $u(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var Ya={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},Zh={},gw={};l&&(gw=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Bu(a){if(Zh[a])return Zh[a];if(!Ya[a])return a;var c=Ya[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in gw)return Zh[a]=c[h];return a}var vw=Bu("animationend"),yw=Bu("animationiteration"),xw=Bu("animationstart"),bw=Bu("transitionend"),ww=new Map,Sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(a,c){ww.set(a,c),o(c,[a])}for(var Qh=0;Qh<Sw.length;Qh++){var Jh=Sw[Qh],bL=Jh.toLowerCase(),wL=Jh[0].toUpperCase()+Jh.slice(1);vo(bL,"on"+wL)}vo(vw,"onAnimationEnd"),vo(yw,"onAnimationIteration"),vo(xw,"onAnimationStart"),vo("dblclick","onDoubleClick"),vo("focusin","onFocus"),vo("focusout","onBlur"),vo(bw,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function Pw(a,c,h){var v=a.type||"unknown-event";a.currentTarget=h,Ve(v,c,void 0,a),a.currentTarget=null}function Cw(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var v=a[h],P=v.event;v=v.listeners;e:{var A=void 0;if(c)for(var _=v.length-1;0<=_;_--){var I=v[_],L=I.instance,Q=I.currentTarget;if(I=I.listener,L!==A&&P.isPropagationStopped())break e;Pw(P,I,Q),A=L}else for(_=0;_<v.length;_++){if(I=v[_],L=I.instance,Q=I.currentTarget,I=I.listener,L!==A&&P.isPropagationStopped())break e;Pw(P,I,Q),A=L}}}if(je)throw a=He,je=!1,He=null,a}function Pt(a,c){var h=c[sm];h===void 0&&(h=c[sm]=new Set);var v=a+"__bubble";h.has(v)||(Aw(c,a,2,!1),h.add(v))}function em(a,c,h){var v=0;c&&(v|=4),Aw(h,a,v,c)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Ol(a){if(!a[zu]){a[zu]=!0,r.forEach(function(h){h!=="selectionchange"&&(SL.has(h)||em(h,!1,a),em(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[zu]||(c[zu]=!0,em("selectionchange",!1,c))}}function Aw(a,c,h,v){switch(Y1(c)){case 1:var P=R5;break;case 4:P=L5;break;default:P=Lh}h=P.bind(null,c,h,a),P=void 0,!uo||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(P=!0),v?P!==void 0?a.addEventListener(c,h,{capture:!0,passive:P}):a.addEventListener(c,h,!0):P!==void 0?a.addEventListener(c,h,{passive:P}):a.addEventListener(c,h,!1)}function tm(a,c,h,v,P){var A=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var _=v.tag;if(_===3||_===4){var I=v.stateNode.containerInfo;if(I===P||I.nodeType===8&&I.parentNode===P)break;if(_===4)for(_=v.return;_!==null;){var L=_.tag;if((L===3||L===4)&&(L=_.stateNode.containerInfo,L===P||L.nodeType===8&&L.parentNode===P))return;_=_.return}for(;I!==null;){if(_=Zo(I),_===null)return;if(L=_.tag,L===5||L===6){v=A=_;continue e}I=I.parentNode}}v=v.return}ir(function(){var Q=A,se=Zt(h),le=[];e:{var ae=ww.get(a);if(ae!==void 0){var Pe=Bh,Ee=a;switch(a){case"keypress":if(Iu(h)===0)break e;case"keydown":case"keyup":Pe=Q5;break;case"focusin":Ee="focus",Pe=Vh;break;case"focusout":Ee="blur",Pe=Vh;break;case"beforeblur":case"afterblur":Pe=Vh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Z1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=B5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=tL;break;case vw:case yw:case xw:Pe=V5;break;case bw:Pe=rL;break;case"scroll":Pe=F5;break;case"wheel":Pe=oL;break;case"copy":case"cut":case"paste":Pe=H5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=J1}var Oe=(c&4)!==0,Gt=!Oe&&a==="scroll",H=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var z=Q,q;z!==null;){q=z;var pe=q.stateNode;if(q.tag===5&&pe!==null&&(q=pe,H!==null&&(pe=ai(z,H),pe!=null&&Oe.push(jl(z,pe,q)))),Gt)break;z=z.return}0<Oe.length&&(ae=new Pe(ae,Ee,null,h,se),le.push({event:ae,listeners:Oe}))}}if((c&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",Pe=a==="mouseout"||a==="pointerout",ae&&h!==Je&&(Ee=h.relatedTarget||h.fromElement)&&(Zo(Ee)||Ee[_i]))break e;if((Pe||ae)&&(ae=se.window===se?se:(ae=se.ownerDocument)?ae.defaultView||ae.parentWindow:window,Pe?(Ee=h.relatedTarget||h.toElement,Pe=Q,Ee=Ee?Zo(Ee):null,Ee!==null&&(Gt=Ye(Ee),Ee!==Gt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(Pe=null,Ee=Q),Pe!==Ee)){if(Oe=Z1,pe="onMouseLeave",H="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Oe=J1,pe="onPointerLeave",H="onPointerEnter",z="pointer"),Gt=Pe==null?ae:Za(Pe),q=Ee==null?ae:Za(Ee),ae=new Oe(pe,z+"leave",Pe,h,se),ae.target=Gt,ae.relatedTarget=q,pe=null,Zo(se)===Q&&(Oe=new Oe(H,z+"enter",Ee,h,se),Oe.target=q,Oe.relatedTarget=Gt,pe=Oe),Gt=pe,Pe&&Ee)t:{for(Oe=Pe,H=Ee,z=0,q=Oe;q;q=qa(q))z++;for(q=0,pe=H;pe;pe=qa(pe))q++;for(;0<z-q;)Oe=qa(Oe),z--;for(;0<q-z;)H=qa(H),q--;for(;z--;){if(Oe===H||H!==null&&Oe===H.alternate)break t;Oe=qa(Oe),H=qa(H)}Oe=null}else Oe=null;Pe!==null&&kw(le,ae,Pe,Oe,!1),Ee!==null&&Gt!==null&&kw(le,Gt,Ee,Oe,!0)}}e:{if(ae=Q?Za(Q):window,Pe=ae.nodeName&&ae.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ae.type==="file")var _e=fL;else if(ow(ae))if(sw)_e=gL;else{_e=hL;var Re=pL}else(Pe=ae.nodeName)&&Pe.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(_e=mL);if(_e&&(_e=_e(a,Q))){aw(le,_e,h,se);break e}Re&&Re(a,ae,Q),a==="focusout"&&(Re=ae._wrapperState)&&Re.controlled&&ae.type==="number"&&Nt(ae,"number",ae.value)}switch(Re=Q?Za(Q):window,a){case"focusin":(ow(Re)||Re.contentEditable==="true")&&(Ka=Re,qh=Q,El=null);break;case"focusout":El=qh=Ka=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,mw(le,h,se);break;case"selectionchange":if(xL)break;case"keydown":case"keyup":mw(le,h,se)}var Le;if(Hh)e:{switch(a){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ga?rw(a,h)&&(Ue="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ue="onCompositionStart");Ue&&(ew&&h.locale!=="ko"&&(Ga||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ga&&(Le=q1()):(go=se,$h="value"in go?go.value:go.textContent,Ga=!0)),Re=Wu(Q,Ue),0<Re.length&&(Ue=new Q1(Ue,a,null,h,se),le.push({event:Ue,listeners:Re}),Le?Ue.data=Le:(Le=iw(h),Le!==null&&(Ue.data=Le)))),(Le=sL?lL(a,h):cL(a,h))&&(Q=Wu(Q,"onBeforeInput"),0<Q.length&&(se=new Q1("onBeforeInput","beforeinput",null,h,se),le.push({event:se,listeners:Q}),se.data=Le))}Cw(le,c)})}function jl(a,c,h){return{instance:a,listener:c,currentTarget:h}}function Wu(a,c){for(var h=c+"Capture",v=[];a!==null;){var P=a,A=P.stateNode;P.tag===5&&A!==null&&(P=A,A=ai(a,h),A!=null&&v.unshift(jl(a,A,P)),A=ai(a,c),A!=null&&v.push(jl(a,A,P))),a=a.return}return v}function qa(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function kw(a,c,h,v,P){for(var A=c._reactName,_=[];h!==null&&h!==v;){var I=h,L=I.alternate,Q=I.stateNode;if(L!==null&&L===v)break;I.tag===5&&Q!==null&&(I=Q,P?(L=ai(h,A),L!=null&&_.unshift(jl(h,L,I))):P||(L=ai(h,A),L!=null&&_.push(jl(h,L,I)))),h=h.return}_.length!==0&&a.push({event:c,listeners:_})}var PL=/\r\n?/g,CL=/\u0000|\uFFFD/g;function Ew(a){return(typeof a=="string"?a:""+a).replace(PL,`
`).replace(CL,"")}function Vu(a,c,h){if(c=Ew(c),Ew(a)!==c&&h)throw Error(n(425))}function Uu(){}var nm=null,rm=null;function im(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var om=typeof setTimeout=="function"?setTimeout:void 0,AL=typeof clearTimeout=="function"?clearTimeout:void 0,Nw=typeof Promise=="function"?Promise:void 0,kL=typeof queueMicrotask=="function"?queueMicrotask:typeof Nw<"u"?function(a){return Nw.resolve(null).then(a).catch(EL)}:om;function EL(a){setTimeout(function(){throw a})}function am(a,c){var h=c,v=0;do{var P=h.nextSibling;if(a.removeChild(h),P&&P.nodeType===8)if(h=P.data,h==="/$"){if(v===0){a.removeChild(P),bl(c);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=P}while(h);bl(c)}function yo(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function Ow(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),ci="__reactFiber$"+Xa,_l="__reactProps$"+Xa,_i="__reactContainer$"+Xa,sm="__reactEvents$"+Xa,NL="__reactListeners$"+Xa,OL="__reactHandles$"+Xa;function Zo(a){var c=a[ci];if(c)return c;for(var h=a.parentNode;h;){if(c=h[_i]||h[ci]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=Ow(a);a!==null;){if(h=a[ci])return h;a=Ow(a)}return c}a=h,h=a.parentNode}return null}function Tl(a){return a=a[ci]||a[_i],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Za(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Hu(a){return a[_l]||null}var lm=[],Qa=-1;function xo(a){return{current:a}}function Ct(a){0>Qa||(a.current=lm[Qa],lm[Qa]=null,Qa--)}function xt(a,c){Qa++,lm[Qa]=a.current,a.current=c}var bo={},_n=xo(bo),Yn=xo(!1),Qo=bo;function Ja(a,c){var h=a.type.contextTypes;if(!h)return bo;var v=a.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===c)return v.__reactInternalMemoizedMaskedChildContext;var P={},A;for(A in h)P[A]=c[A];return v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=P),P}function qn(a){return a=a.childContextTypes,a!=null}function Gu(){Ct(Yn),Ct(_n)}function jw(a,c,h){if(_n.current!==bo)throw Error(n(168));xt(_n,c),xt(Yn,h)}function _w(a,c,h){var v=a.stateNode;if(c=c.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var P in v)if(!(P in c))throw Error(n(108,re(a)||"Unknown",P));return ne({},h,v)}function Ku(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||bo,Qo=_n.current,xt(_n,a),xt(Yn,Yn.current),!0}function Tw(a,c,h){var v=a.stateNode;if(!v)throw Error(n(169));h?(a=_w(a,c,Qo),v.__reactInternalMemoizedMergedChildContext=a,Ct(Yn),Ct(_n),xt(_n,a)):Ct(Yn),xt(Yn,h)}var Ti=null,Yu=!1,cm=!1;function Dw(a){Ti===null?Ti=[a]:Ti.push(a)}function jL(a){Yu=!0,Dw(a)}function wo(){if(!cm&&Ti!==null){cm=!0;var a=0,c=dt;try{var h=Ti;for(dt=1;a<h.length;a++){var v=h[a];do v=v(!0);while(v!==null)}Ti=null,Yu=!1}catch(P){throw Ti!==null&&(Ti=Ti.slice(a+1)),jn(_h,wo),P}finally{dt=c,cm=!1}}return null}var es=[],ts=0,qu=null,Xu=0,Sr=[],Pr=0,Jo=null,Di=1,Mi="";function ea(a,c){es[ts++]=Xu,es[ts++]=qu,qu=a,Xu=c}function Mw(a,c,h){Sr[Pr++]=Di,Sr[Pr++]=Mi,Sr[Pr++]=Jo,Jo=a;var v=Di;a=Mi;var P=32-Wr(v)-1;v&=~(1<<P),h+=1;var A=32-Wr(c)+P;if(30<A){var _=P-P%5;A=(v&(1<<_)-1).toString(32),v>>=_,P-=_,Di=1<<32-Wr(c)+P|h<<P|v,Mi=A+a}else Di=1<<A|h<<P|v,Mi=a}function um(a){a.return!==null&&(ea(a,1),Mw(a,1,0))}function dm(a){for(;a===qu;)qu=es[--ts],es[ts]=null,Xu=es[--ts],es[ts]=null;for(;a===Jo;)Jo=Sr[--Pr],Sr[Pr]=null,Mi=Sr[--Pr],Sr[Pr]=null,Di=Sr[--Pr],Sr[Pr]=null}var ar=null,sr=null,Ot=!1,Ur=null;function Iw(a,c){var h=Er(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=a,c=a.deletions,c===null?(a.deletions=[h],a.flags|=16):c.push(h)}function Rw(a,c){switch(a.tag){case 5:var h=a.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,ar=a,sr=yo(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,ar=a,sr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Jo!==null?{id:Di,overflow:Mi}:null,a.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Er(18,null,null,0),h.stateNode=c,h.return=a,a.child=h,ar=a,sr=null,!0):!1;default:return!1}}function fm(a){return(a.mode&1)!==0&&(a.flags&128)===0}function pm(a){if(Ot){var c=sr;if(c){var h=c;if(!Rw(a,c)){if(fm(a))throw Error(n(418));c=yo(h.nextSibling);var v=ar;c&&Rw(a,c)?Iw(v,h):(a.flags=a.flags&-4097|2,Ot=!1,ar=a)}}else{if(fm(a))throw Error(n(418));a.flags=a.flags&-4097|2,Ot=!1,ar=a}}}function Lw(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;ar=a}function Zu(a){if(a!==ar)return!1;if(!Ot)return Lw(a),Ot=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!im(a.type,a.memoizedProps)),c&&(c=sr)){if(fm(a))throw Fw(),Error(n(418));for(;c;)Iw(a,c),c=yo(c.nextSibling)}if(Lw(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(c===0){sr=yo(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}a=a.nextSibling}sr=null}}else sr=ar?yo(a.stateNode.nextSibling):null;return!0}function Fw(){for(var a=sr;a;)a=yo(a.nextSibling)}function ns(){sr=ar=null,Ot=!1}function hm(a){Ur===null?Ur=[a]:Ur.push(a)}var _L=N.ReactCurrentBatchConfig;function Dl(a,c,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var v=h.stateNode}if(!v)throw Error(n(147,a));var P=v,A=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(_){var I=P.refs;_===null?delete I[A]:I[A]=_},c._stringRef=A,c)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function Qu(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function $w(a){var c=a._init;return c(a._payload)}function Bw(a){function c(H,z){if(a){var q=H.deletions;q===null?(H.deletions=[z],H.flags|=16):q.push(z)}}function h(H,z){if(!a)return null;for(;z!==null;)c(H,z),z=z.sibling;return null}function v(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function P(H,z){return H=Oo(H,z),H.index=0,H.sibling=null,H}function A(H,z,q){return H.index=q,a?(q=H.alternate,q!==null?(q=q.index,q<z?(H.flags|=2,z):q):(H.flags|=2,z)):(H.flags|=1048576,z)}function _(H){return a&&H.alternate===null&&(H.flags|=2),H}function I(H,z,q,pe){return z===null||z.tag!==6?(z=og(q,H.mode,pe),z.return=H,z):(z=P(z,q),z.return=H,z)}function L(H,z,q,pe){var _e=q.type;return _e===T?se(H,z,q.props.children,pe,q.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Se&&$w(_e)===z.type)?(pe=P(z,q.props),pe.ref=Dl(H,z,q),pe.return=H,pe):(pe=Sd(q.type,q.key,q.props,null,H.mode,pe),pe.ref=Dl(H,z,q),pe.return=H,pe)}function Q(H,z,q,pe){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=ag(q,H.mode,pe),z.return=H,z):(z=P(z,q.children||[]),z.return=H,z)}function se(H,z,q,pe,_e){return z===null||z.tag!==7?(z=la(q,H.mode,pe,_e),z.return=H,z):(z=P(z,q),z.return=H,z)}function le(H,z,q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=og(""+z,H.mode,q),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return q=Sd(z.type,z.key,z.props,null,H.mode,q),q.ref=Dl(H,null,z),q.return=H,q;case O:return z=ag(z,H.mode,q),z.return=H,z;case Se:var pe=z._init;return le(H,pe(z._payload),q)}if(Mt(z)||ie(z))return z=la(z,H.mode,q,null),z.return=H,z;Qu(H,z)}return null}function ae(H,z,q,pe){var _e=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return _e!==null?null:I(H,z,""+q,pe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case j:return q.key===_e?L(H,z,q,pe):null;case O:return q.key===_e?Q(H,z,q,pe):null;case Se:return _e=q._init,ae(H,z,_e(q._payload),pe)}if(Mt(q)||ie(q))return _e!==null?null:se(H,z,q,pe,null);Qu(H,q)}return null}function Pe(H,z,q,pe,_e){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return H=H.get(q)||null,I(z,H,""+pe,_e);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case j:return H=H.get(pe.key===null?q:pe.key)||null,L(z,H,pe,_e);case O:return H=H.get(pe.key===null?q:pe.key)||null,Q(z,H,pe,_e);case Se:var Re=pe._init;return Pe(H,z,q,Re(pe._payload),_e)}if(Mt(pe)||ie(pe))return H=H.get(q)||null,se(z,H,pe,_e,null);Qu(z,pe)}return null}function Ee(H,z,q,pe){for(var _e=null,Re=null,Le=z,Ue=z=0,an=null;Le!==null&&Ue<q.length;Ue++){Le.index>Ue?(an=Le,Le=null):an=Le.sibling;var at=ae(H,Le,q[Ue],pe);if(at===null){Le===null&&(Le=an);break}a&&Le&&at.alternate===null&&c(H,Le),z=A(at,z,Ue),Re===null?_e=at:Re.sibling=at,Re=at,Le=an}if(Ue===q.length)return h(H,Le),Ot&&ea(H,Ue),_e;if(Le===null){for(;Ue<q.length;Ue++)Le=le(H,q[Ue],pe),Le!==null&&(z=A(Le,z,Ue),Re===null?_e=Le:Re.sibling=Le,Re=Le);return Ot&&ea(H,Ue),_e}for(Le=v(H,Le);Ue<q.length;Ue++)an=Pe(Le,H,Ue,q[Ue],pe),an!==null&&(a&&an.alternate!==null&&Le.delete(an.key===null?Ue:an.key),z=A(an,z,Ue),Re===null?_e=an:Re.sibling=an,Re=an);return a&&Le.forEach(function(jo){return c(H,jo)}),Ot&&ea(H,Ue),_e}function Oe(H,z,q,pe){var _e=ie(q);if(typeof _e!="function")throw Error(n(150));if(q=_e.call(q),q==null)throw Error(n(151));for(var Re=_e=null,Le=z,Ue=z=0,an=null,at=q.next();Le!==null&&!at.done;Ue++,at=q.next()){Le.index>Ue?(an=Le,Le=null):an=Le.sibling;var jo=ae(H,Le,at.value,pe);if(jo===null){Le===null&&(Le=an);break}a&&Le&&jo.alternate===null&&c(H,Le),z=A(jo,z,Ue),Re===null?_e=jo:Re.sibling=jo,Re=jo,Le=an}if(at.done)return h(H,Le),Ot&&ea(H,Ue),_e;if(Le===null){for(;!at.done;Ue++,at=q.next())at=le(H,at.value,pe),at!==null&&(z=A(at,z,Ue),Re===null?_e=at:Re.sibling=at,Re=at);return Ot&&ea(H,Ue),_e}for(Le=v(H,Le);!at.done;Ue++,at=q.next())at=Pe(Le,H,Ue,at.value,pe),at!==null&&(a&&at.alternate!==null&&Le.delete(at.key===null?Ue:at.key),z=A(at,z,Ue),Re===null?_e=at:Re.sibling=at,Re=at);return a&&Le.forEach(function(u3){return c(H,u3)}),Ot&&ea(H,Ue),_e}function Gt(H,z,q,pe){if(typeof q=="object"&&q!==null&&q.type===T&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case j:e:{for(var _e=q.key,Re=z;Re!==null;){if(Re.key===_e){if(_e=q.type,_e===T){if(Re.tag===7){h(H,Re.sibling),z=P(Re,q.props.children),z.return=H,H=z;break e}}else if(Re.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Se&&$w(_e)===Re.type){h(H,Re.sibling),z=P(Re,q.props),z.ref=Dl(H,Re,q),z.return=H,H=z;break e}h(H,Re);break}else c(H,Re);Re=Re.sibling}q.type===T?(z=la(q.props.children,H.mode,pe,q.key),z.return=H,H=z):(pe=Sd(q.type,q.key,q.props,null,H.mode,pe),pe.ref=Dl(H,z,q),pe.return=H,H=pe)}return _(H);case O:e:{for(Re=q.key;z!==null;){if(z.key===Re)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){h(H,z.sibling),z=P(z,q.children||[]),z.return=H,H=z;break e}else{h(H,z);break}else c(H,z);z=z.sibling}z=ag(q,H.mode,pe),z.return=H,H=z}return _(H);case Se:return Re=q._init,Gt(H,z,Re(q._payload),pe)}if(Mt(q))return Ee(H,z,q,pe);if(ie(q))return Oe(H,z,q,pe);Qu(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,z!==null&&z.tag===6?(h(H,z.sibling),z=P(z,q),z.return=H,H=z):(h(H,z),z=og(q,H.mode,pe),z.return=H,H=z),_(H)):h(H,z)}return Gt}var rs=Bw(!0),zw=Bw(!1),Ju=xo(null),ed=null,is=null,mm=null;function gm(){mm=is=ed=null}function vm(a){var c=Ju.current;Ct(Ju),a._currentValue=c}function ym(a,c,h){for(;a!==null;){var v=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),a===h)break;a=a.return}}function os(a,c){ed=a,mm=is=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Xn=!0),a.firstContext=null)}function Cr(a){var c=a._currentValue;if(mm!==a)if(a={context:a,memoizedValue:c,next:null},is===null){if(ed===null)throw Error(n(308));is=a,ed.dependencies={lanes:0,firstContext:a}}else is=is.next=a;return c}var ta=null;function xm(a){ta===null?ta=[a]:ta.push(a)}function Ww(a,c,h,v){var P=c.interleaved;return P===null?(h.next=h,xm(c)):(h.next=P.next,P.next=h),c.interleaved=h,Ii(a,v)}function Ii(a,c){a.lanes|=c;var h=a.alternate;for(h!==null&&(h.lanes|=c),h=a,a=a.return;a!==null;)a.childLanes|=c,h=a.alternate,h!==null&&(h.childLanes|=c),h=a,a=a.return;return h.tag===3?h.stateNode:null}var So=!1;function bm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vw(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ri(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function Po(a,c,h){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(it&2)!==0){var P=v.pending;return P===null?c.next=c:(c.next=P.next,P.next=c),v.pending=c,Ii(a,h)}return P=v.interleaved,P===null?(c.next=c,xm(v)):(c.next=P.next,P.next=c),v.interleaved=c,Ii(a,h)}function td(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var v=c.lanes;v&=a.pendingLanes,h|=v,c.lanes=h,Mh(a,h)}}function Uw(a,c){var h=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var P=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var _={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};A===null?P=A=_:A=A.next=_,h=h.next}while(h!==null);A===null?P=A=c:A=A.next=c}else P=A=c;h={baseState:v.baseState,firstBaseUpdate:P,lastBaseUpdate:A,shared:v.shared,effects:v.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}function nd(a,c,h,v){var P=a.updateQueue;So=!1;var A=P.firstBaseUpdate,_=P.lastBaseUpdate,I=P.shared.pending;if(I!==null){P.shared.pending=null;var L=I,Q=L.next;L.next=null,_===null?A=Q:_.next=Q,_=L;var se=a.alternate;se!==null&&(se=se.updateQueue,I=se.lastBaseUpdate,I!==_&&(I===null?se.firstBaseUpdate=Q:I.next=Q,se.lastBaseUpdate=L))}if(A!==null){var le=P.baseState;_=0,se=Q=L=null,I=A;do{var ae=I.lane,Pe=I.eventTime;if((v&ae)===ae){se!==null&&(se=se.next={eventTime:Pe,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var Ee=a,Oe=I;switch(ae=c,Pe=h,Oe.tag){case 1:if(Ee=Oe.payload,typeof Ee=="function"){le=Ee.call(Pe,le,ae);break e}le=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Oe.payload,ae=typeof Ee=="function"?Ee.call(Pe,le,ae):Ee,ae==null)break e;le=ne({},le,ae);break e;case 2:So=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,ae=P.effects,ae===null?P.effects=[I]:ae.push(I))}else Pe={eventTime:Pe,lane:ae,tag:I.tag,payload:I.payload,callback:I.callback,next:null},se===null?(Q=se=Pe,L=le):se=se.next=Pe,_|=ae;if(I=I.next,I===null){if(I=P.shared.pending,I===null)break;ae=I,I=ae.next,ae.next=null,P.lastBaseUpdate=ae,P.shared.pending=null}}while(!0);if(se===null&&(L=le),P.baseState=L,P.firstBaseUpdate=Q,P.lastBaseUpdate=se,c=P.shared.interleaved,c!==null){P=c;do _|=P.lane,P=P.next;while(P!==c)}else A===null&&(P.shared.lanes=0);ia|=_,a.lanes=_,a.memoizedState=le}}function Hw(a,c,h){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var v=a[c],P=v.callback;if(P!==null){if(v.callback=null,v=h,typeof P!="function")throw Error(n(191,P));P.call(v)}}}var Ml={},ui=xo(Ml),Il=xo(Ml),Rl=xo(Ml);function na(a){if(a===Ml)throw Error(n(174));return a}function wm(a,c){switch(xt(Rl,c),xt(Il,a),xt(ui,Ml),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Xt(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Xt(c,a)}Ct(ui),xt(ui,c)}function as(){Ct(ui),Ct(Il),Ct(Rl)}function Gw(a){na(Rl.current);var c=na(ui.current),h=Xt(c,a.type);c!==h&&(xt(Il,a),xt(ui,h))}function Sm(a){Il.current===a&&(Ct(ui),Ct(Il))}var It=xo(0);function rd(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Pm=[];function Cm(){for(var a=0;a<Pm.length;a++)Pm[a]._workInProgressVersionPrimary=null;Pm.length=0}var id=N.ReactCurrentDispatcher,Am=N.ReactCurrentBatchConfig,ra=0,Rt=null,Qt=null,rn=null,od=!1,Ll=!1,Fl=0,TL=0;function Tn(){throw Error(n(321))}function km(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!Vr(a[h],c[h]))return!1;return!0}function Em(a,c,h,v,P,A){if(ra=A,Rt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,id.current=a===null||a.memoizedState===null?RL:LL,a=h(v,P),Ll){A=0;do{if(Ll=!1,Fl=0,25<=A)throw Error(n(301));A+=1,rn=Qt=null,c.updateQueue=null,id.current=FL,a=h(v,P)}while(Ll)}if(id.current=ld,c=Qt!==null&&Qt.next!==null,ra=0,rn=Qt=Rt=null,od=!1,c)throw Error(n(300));return a}function Nm(){var a=Fl!==0;return Fl=0,a}function di(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Rt.memoizedState=rn=a:rn=rn.next=a,rn}function Ar(){if(Qt===null){var a=Rt.alternate;a=a!==null?a.memoizedState:null}else a=Qt.next;var c=rn===null?Rt.memoizedState:rn.next;if(c!==null)rn=c,Qt=a;else{if(a===null)throw Error(n(310));Qt=a,a={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},rn===null?Rt.memoizedState=rn=a:rn=rn.next=a}return rn}function $l(a,c){return typeof c=="function"?c(a):c}function Om(a){var c=Ar(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var v=Qt,P=v.baseQueue,A=h.pending;if(A!==null){if(P!==null){var _=P.next;P.next=A.next,A.next=_}v.baseQueue=P=A,h.pending=null}if(P!==null){A=P.next,v=v.baseState;var I=_=null,L=null,Q=A;do{var se=Q.lane;if((ra&se)===se)L!==null&&(L=L.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),v=Q.hasEagerState?Q.eagerState:a(v,Q.action);else{var le={lane:se,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};L===null?(I=L=le,_=v):L=L.next=le,Rt.lanes|=se,ia|=se}Q=Q.next}while(Q!==null&&Q!==A);L===null?_=v:L.next=I,Vr(v,c.memoizedState)||(Xn=!0),c.memoizedState=v,c.baseState=_,c.baseQueue=L,h.lastRenderedState=v}if(a=h.interleaved,a!==null){P=a;do A=P.lane,Rt.lanes|=A,ia|=A,P=P.next;while(P!==a)}else P===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function jm(a){var c=Ar(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var v=h.dispatch,P=h.pending,A=c.memoizedState;if(P!==null){h.pending=null;var _=P=P.next;do A=a(A,_.action),_=_.next;while(_!==P);Vr(A,c.memoizedState)||(Xn=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),h.lastRenderedState=A}return[A,v]}function Kw(){}function Yw(a,c){var h=Rt,v=Ar(),P=c(),A=!Vr(v.memoizedState,P);if(A&&(v.memoizedState=P,Xn=!0),v=v.queue,_m(Zw.bind(null,h,v,a),[a]),v.getSnapshot!==c||A||rn!==null&&rn.memoizedState.tag&1){if(h.flags|=2048,Bl(9,Xw.bind(null,h,v,P,c),void 0,null),on===null)throw Error(n(349));(ra&30)!==0||qw(h,c,P)}return P}function qw(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=Rt.updateQueue,c===null?(c={lastEffect:null,stores:null},Rt.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function Xw(a,c,h,v){c.value=h,c.getSnapshot=v,Qw(c)&&Jw(a)}function Zw(a,c,h){return h(function(){Qw(c)&&Jw(a)})}function Qw(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!Vr(a,h)}catch{return!0}}function Jw(a){var c=Ii(a,1);c!==null&&Yr(c,a,1,-1)}function eS(a){var c=di();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:a},c.queue=a,a=a.dispatch=IL.bind(null,Rt,a),[c.memoizedState,a]}function Bl(a,c,h,v){return a={tag:a,create:c,destroy:h,deps:v,next:null},c=Rt.updateQueue,c===null?(c={lastEffect:null,stores:null},Rt.updateQueue=c,c.lastEffect=a.next=a):(h=c.lastEffect,h===null?c.lastEffect=a.next=a:(v=h.next,h.next=a,a.next=v,c.lastEffect=a)),a}function tS(){return Ar().memoizedState}function ad(a,c,h,v){var P=di();Rt.flags|=a,P.memoizedState=Bl(1|c,h,void 0,v===void 0?null:v)}function sd(a,c,h,v){var P=Ar();v=v===void 0?null:v;var A=void 0;if(Qt!==null){var _=Qt.memoizedState;if(A=_.destroy,v!==null&&km(v,_.deps)){P.memoizedState=Bl(c,h,A,v);return}}Rt.flags|=a,P.memoizedState=Bl(1|c,h,A,v)}function nS(a,c){return ad(8390656,8,a,c)}function _m(a,c){return sd(2048,8,a,c)}function rS(a,c){return sd(4,2,a,c)}function iS(a,c){return sd(4,4,a,c)}function oS(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function aS(a,c,h){return h=h!=null?h.concat([a]):null,sd(4,4,oS.bind(null,c,a),h)}function Tm(){}function sS(a,c){var h=Ar();c=c===void 0?null:c;var v=h.memoizedState;return v!==null&&c!==null&&km(c,v[1])?v[0]:(h.memoizedState=[a,c],a)}function lS(a,c){var h=Ar();c=c===void 0?null:c;var v=h.memoizedState;return v!==null&&c!==null&&km(c,v[1])?v[0]:(a=a(),h.memoizedState=[a,c],a)}function cS(a,c,h){return(ra&21)===0?(a.baseState&&(a.baseState=!1,Xn=!0),a.memoizedState=h):(Vr(h,c)||(h=$1(),Rt.lanes|=h,ia|=h,a.baseState=!0),c)}function DL(a,c){var h=dt;dt=h!==0&&4>h?h:4,a(!0);var v=Am.transition;Am.transition={};try{a(!1),c()}finally{dt=h,Am.transition=v}}function uS(){return Ar().memoizedState}function ML(a,c,h){var v=Eo(a);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},dS(a))fS(c,h);else if(h=Ww(a,c,h,v),h!==null){var P=Wn();Yr(h,a,v,P),pS(h,c,v)}}function IL(a,c,h){var v=Eo(a),P={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(dS(a))fS(c,P);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var _=c.lastRenderedState,I=A(_,h);if(P.hasEagerState=!0,P.eagerState=I,Vr(I,_)){var L=c.interleaved;L===null?(P.next=P,xm(c)):(P.next=L.next,L.next=P),c.interleaved=P;return}}catch{}h=Ww(a,c,P,v),h!==null&&(P=Wn(),Yr(h,a,v,P),pS(h,c,v))}}function dS(a){var c=a.alternate;return a===Rt||c!==null&&c===Rt}function fS(a,c){Ll=od=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function pS(a,c,h){if((h&4194240)!==0){var v=c.lanes;v&=a.pendingLanes,h|=v,c.lanes=h,Mh(a,h)}}var ld={readContext:Cr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},RL={readContext:Cr,useCallback:function(a,c){return di().memoizedState=[a,c===void 0?null:c],a},useContext:Cr,useEffect:nS,useImperativeHandle:function(a,c,h){return h=h!=null?h.concat([a]):null,ad(4194308,4,oS.bind(null,c,a),h)},useLayoutEffect:function(a,c){return ad(4194308,4,a,c)},useInsertionEffect:function(a,c){return ad(4,2,a,c)},useMemo:function(a,c){var h=di();return c=c===void 0?null:c,a=a(),h.memoizedState=[a,c],a},useReducer:function(a,c,h){var v=di();return c=h!==void 0?h(c):c,v.memoizedState=v.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},v.queue=a,a=a.dispatch=ML.bind(null,Rt,a),[v.memoizedState,a]},useRef:function(a){var c=di();return a={current:a},c.memoizedState=a},useState:eS,useDebugValue:Tm,useDeferredValue:function(a){return di().memoizedState=a},useTransition:function(){var a=eS(!1),c=a[0];return a=DL.bind(null,a[1]),di().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,h){var v=Rt,P=di();if(Ot){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),on===null)throw Error(n(349));(ra&30)!==0||qw(v,c,h)}P.memoizedState=h;var A={value:h,getSnapshot:c};return P.queue=A,nS(Zw.bind(null,v,A,a),[a]),v.flags|=2048,Bl(9,Xw.bind(null,v,A,h,c),void 0,null),h},useId:function(){var a=di(),c=on.identifierPrefix;if(Ot){var h=Mi,v=Di;h=(v&~(1<<32-Wr(v)-1)).toString(32)+h,c=":"+c+"R"+h,h=Fl++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=TL++,c=":"+c+"r"+h.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},LL={readContext:Cr,useCallback:sS,useContext:Cr,useEffect:_m,useImperativeHandle:aS,useInsertionEffect:rS,useLayoutEffect:iS,useMemo:lS,useReducer:Om,useRef:tS,useState:function(){return Om($l)},useDebugValue:Tm,useDeferredValue:function(a){var c=Ar();return cS(c,Qt.memoizedState,a)},useTransition:function(){var a=Om($l)[0],c=Ar().memoizedState;return[a,c]},useMutableSource:Kw,useSyncExternalStore:Yw,useId:uS,unstable_isNewReconciler:!1},FL={readContext:Cr,useCallback:sS,useContext:Cr,useEffect:_m,useImperativeHandle:aS,useInsertionEffect:rS,useLayoutEffect:iS,useMemo:lS,useReducer:jm,useRef:tS,useState:function(){return jm($l)},useDebugValue:Tm,useDeferredValue:function(a){var c=Ar();return Qt===null?c.memoizedState=a:cS(c,Qt.memoizedState,a)},useTransition:function(){var a=jm($l)[0],c=Ar().memoizedState;return[a,c]},useMutableSource:Kw,useSyncExternalStore:Yw,useId:uS,unstable_isNewReconciler:!1};function Hr(a,c){if(a&&a.defaultProps){c=ne({},c),a=a.defaultProps;for(var h in a)c[h]===void 0&&(c[h]=a[h]);return c}return c}function Dm(a,c,h,v){c=a.memoizedState,h=h(v,c),h=h==null?c:ne({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var cd={isMounted:function(a){return(a=a._reactInternals)?Ye(a)===a:!1},enqueueSetState:function(a,c,h){a=a._reactInternals;var v=Wn(),P=Eo(a),A=Ri(v,P);A.payload=c,h!=null&&(A.callback=h),c=Po(a,A,P),c!==null&&(Yr(c,a,P,v),td(c,a,P))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var v=Wn(),P=Eo(a),A=Ri(v,P);A.tag=1,A.payload=c,h!=null&&(A.callback=h),c=Po(a,A,P),c!==null&&(Yr(c,a,P,v),td(c,a,P))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=Wn(),v=Eo(a),P=Ri(h,v);P.tag=2,c!=null&&(P.callback=c),c=Po(a,P,v),c!==null&&(Yr(c,a,v,h),td(c,a,v))}};function hS(a,c,h,v,P,A,_){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,A,_):c.prototype&&c.prototype.isPureReactComponent?!kl(h,v)||!kl(P,A):!0}function mS(a,c,h){var v=!1,P=bo,A=c.contextType;return typeof A=="object"&&A!==null?A=Cr(A):(P=qn(c)?Qo:_n.current,v=c.contextTypes,A=(v=v!=null)?Ja(a,P):bo),c=new c(h,A),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=cd,a.stateNode=c,c._reactInternals=a,v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=P,a.__reactInternalMemoizedMaskedChildContext=A),c}function gS(a,c,h,v){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,v),c.state!==a&&cd.enqueueReplaceState(c,c.state,null)}function Mm(a,c,h,v){var P=a.stateNode;P.props=h,P.state=a.memoizedState,P.refs={},bm(a);var A=c.contextType;typeof A=="object"&&A!==null?P.context=Cr(A):(A=qn(c)?Qo:_n.current,P.context=Ja(a,A)),P.state=a.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Dm(a,c,A,h),P.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(c=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),c!==P.state&&cd.enqueueReplaceState(P,P.state,null),nd(a,h,P,v),P.state=a.memoizedState),typeof P.componentDidMount=="function"&&(a.flags|=4194308)}function ss(a,c){try{var h="",v=c;do h+=ue(v),v=v.return;while(v);var P=h}catch(A){P=`
Error generating stack: `+A.message+`
`+A.stack}return{value:a,source:c,stack:P,digest:null}}function Im(a,c,h){return{value:a,source:null,stack:h??null,digest:c??null}}function Rm(a,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var $L=typeof WeakMap=="function"?WeakMap:Map;function vS(a,c,h){h=Ri(-1,h),h.tag=3,h.payload={element:null};var v=c.value;return h.callback=function(){gd||(gd=!0,Zm=v),Rm(a,c)},h}function yS(a,c,h){h=Ri(-1,h),h.tag=3;var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var P=c.value;h.payload=function(){return v(P)},h.callback=function(){Rm(a,c)}}var A=a.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(h.callback=function(){Rm(a,c),typeof v!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var _=c.stack;this.componentDidCatch(c.value,{componentStack:_!==null?_:""})}),h}function xS(a,c,h){var v=a.pingCache;if(v===null){v=a.pingCache=new $L;var P=new Set;v.set(c,P)}else P=v.get(c),P===void 0&&(P=new Set,v.set(c,P));P.has(h)||(P.add(h),a=JL.bind(null,a,c,h),c.then(a,a))}function bS(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function wS(a,c,h,v,P){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=Ri(-1,1),c.tag=2,Po(h,c,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=P,a)}var BL=N.ReactCurrentOwner,Xn=!1;function zn(a,c,h,v){c.child=a===null?zw(c,null,h,v):rs(c,a.child,h,v)}function SS(a,c,h,v,P){h=h.render;var A=c.ref;return os(c,P),v=Em(a,c,h,v,A,P),h=Nm(),a!==null&&!Xn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~P,Li(a,c,P)):(Ot&&h&&um(c),c.flags|=1,zn(a,c,v,P),c.child)}function PS(a,c,h,v,P){if(a===null){var A=h.type;return typeof A=="function"&&!ig(A)&&A.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=A,CS(a,c,A,v,P)):(a=Sd(h.type,null,v,c,c.mode,P),a.ref=c.ref,a.return=c,c.child=a)}if(A=a.child,(a.lanes&P)===0){var _=A.memoizedProps;if(h=h.compare,h=h!==null?h:kl,h(_,v)&&a.ref===c.ref)return Li(a,c,P)}return c.flags|=1,a=Oo(A,v),a.ref=c.ref,a.return=c,c.child=a}function CS(a,c,h,v,P){if(a!==null){var A=a.memoizedProps;if(kl(A,v)&&a.ref===c.ref)if(Xn=!1,c.pendingProps=v=A,(a.lanes&P)!==0)(a.flags&131072)!==0&&(Xn=!0);else return c.lanes=a.lanes,Li(a,c,P)}return Lm(a,c,h,v,P)}function AS(a,c,h){var v=c.pendingProps,P=v.children,A=a!==null?a.memoizedState:null;if(v.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(cs,lr),lr|=h;else{if((h&1073741824)===0)return a=A!==null?A.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,xt(cs,lr),lr|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=A!==null?A.baseLanes:h,xt(cs,lr),lr|=v}else A!==null?(v=A.baseLanes|h,c.memoizedState=null):v=h,xt(cs,lr),lr|=v;return zn(a,c,P,h),c.child}function kS(a,c){var h=c.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Lm(a,c,h,v,P){var A=qn(h)?Qo:_n.current;return A=Ja(c,A),os(c,P),h=Em(a,c,h,v,A,P),v=Nm(),a!==null&&!Xn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~P,Li(a,c,P)):(Ot&&v&&um(c),c.flags|=1,zn(a,c,h,P),c.child)}function ES(a,c,h,v,P){if(qn(h)){var A=!0;Ku(c)}else A=!1;if(os(c,P),c.stateNode===null)dd(a,c),mS(c,h,v),Mm(c,h,v,P),v=!0;else if(a===null){var _=c.stateNode,I=c.memoizedProps;_.props=I;var L=_.context,Q=h.contextType;typeof Q=="object"&&Q!==null?Q=Cr(Q):(Q=qn(h)?Qo:_n.current,Q=Ja(c,Q));var se=h.getDerivedStateFromProps,le=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function";le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==v||L!==Q)&&gS(c,_,v,Q),So=!1;var ae=c.memoizedState;_.state=ae,nd(c,v,_,P),L=c.memoizedState,I!==v||ae!==L||Yn.current||So?(typeof se=="function"&&(Dm(c,h,se,v),L=c.memoizedState),(I=So||hS(c,h,I,v,ae,L,Q))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(c.flags|=4194308)):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=L),_.props=v,_.state=L,_.context=Q,v=I):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{_=c.stateNode,Vw(a,c),I=c.memoizedProps,Q=c.type===c.elementType?I:Hr(c.type,I),_.props=Q,le=c.pendingProps,ae=_.context,L=h.contextType,typeof L=="object"&&L!==null?L=Cr(L):(L=qn(h)?Qo:_n.current,L=Ja(c,L));var Pe=h.getDerivedStateFromProps;(se=typeof Pe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==le||ae!==L)&&gS(c,_,v,L),So=!1,ae=c.memoizedState,_.state=ae,nd(c,v,_,P);var Ee=c.memoizedState;I!==le||ae!==Ee||Yn.current||So?(typeof Pe=="function"&&(Dm(c,h,Pe,v),Ee=c.memoizedState),(Q=So||hS(c,h,Q,v,ae,Ee,L)||!1)?(se||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(v,Ee,L),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(v,Ee,L)),typeof _.componentDidUpdate=="function"&&(c.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===a.memoizedProps&&ae===a.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ae===a.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Ee),_.props=v,_.state=Ee,_.context=L,v=Q):(typeof _.componentDidUpdate!="function"||I===a.memoizedProps&&ae===a.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ae===a.memoizedState||(c.flags|=1024),v=!1)}return Fm(a,c,h,v,A,P)}function Fm(a,c,h,v,P,A){kS(a,c);var _=(c.flags&128)!==0;if(!v&&!_)return P&&Tw(c,h,!1),Li(a,c,A);v=c.stateNode,BL.current=c;var I=_&&typeof h.getDerivedStateFromError!="function"?null:v.render();return c.flags|=1,a!==null&&_?(c.child=rs(c,a.child,null,A),c.child=rs(c,null,I,A)):zn(a,c,I,A),c.memoizedState=v.state,P&&Tw(c,h,!0),c.child}function NS(a){var c=a.stateNode;c.pendingContext?jw(a,c.pendingContext,c.pendingContext!==c.context):c.context&&jw(a,c.context,!1),wm(a,c.containerInfo)}function OS(a,c,h,v,P){return ns(),hm(P),c.flags|=256,zn(a,c,h,v),c.child}var $m={dehydrated:null,treeContext:null,retryLane:0};function Bm(a){return{baseLanes:a,cachePool:null,transitions:null}}function jS(a,c,h){var v=c.pendingProps,P=It.current,A=!1,_=(c.flags&128)!==0,I;if((I=_)||(I=a!==null&&a.memoizedState===null?!1:(P&2)!==0),I?(A=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(P|=1),xt(It,P&1),a===null)return pm(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(_=v.children,a=v.fallback,A?(v=c.mode,A=c.child,_={mode:"hidden",children:_},(v&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=_):A=Pd(_,v,0,null),a=la(a,v,h,null),A.return=c,a.return=c,A.sibling=a,c.child=A,c.child.memoizedState=Bm(h),c.memoizedState=$m,a):zm(c,_));if(P=a.memoizedState,P!==null&&(I=P.dehydrated,I!==null))return zL(a,c,_,v,I,P,h);if(A){A=v.fallback,_=c.mode,P=a.child,I=P.sibling;var L={mode:"hidden",children:v.children};return(_&1)===0&&c.child!==P?(v=c.child,v.childLanes=0,v.pendingProps=L,c.deletions=null):(v=Oo(P,L),v.subtreeFlags=P.subtreeFlags&14680064),I!==null?A=Oo(I,A):(A=la(A,_,h,null),A.flags|=2),A.return=c,v.return=c,v.sibling=A,c.child=v,v=A,A=c.child,_=a.child.memoizedState,_=_===null?Bm(h):{baseLanes:_.baseLanes|h,cachePool:null,transitions:_.transitions},A.memoizedState=_,A.childLanes=a.childLanes&~h,c.memoizedState=$m,v}return A=a.child,a=A.sibling,v=Oo(A,{mode:"visible",children:v.children}),(c.mode&1)===0&&(v.lanes=h),v.return=c,v.sibling=null,a!==null&&(h=c.deletions,h===null?(c.deletions=[a],c.flags|=16):h.push(a)),c.child=v,c.memoizedState=null,v}function zm(a,c){return c=Pd({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function ud(a,c,h,v){return v!==null&&hm(v),rs(c,a.child,null,h),a=zm(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function zL(a,c,h,v,P,A,_){if(h)return c.flags&256?(c.flags&=-257,v=Im(Error(n(422))),ud(a,c,_,v)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(A=v.fallback,P=c.mode,v=Pd({mode:"visible",children:v.children},P,0,null),A=la(A,P,_,null),A.flags|=2,v.return=c,A.return=c,v.sibling=A,c.child=v,(c.mode&1)!==0&&rs(c,a.child,null,_),c.child.memoizedState=Bm(_),c.memoizedState=$m,A);if((c.mode&1)===0)return ud(a,c,_,null);if(P.data==="$!"){if(v=P.nextSibling&&P.nextSibling.dataset,v)var I=v.dgst;return v=I,A=Error(n(419)),v=Im(A,v,void 0),ud(a,c,_,v)}if(I=(_&a.childLanes)!==0,Xn||I){if(v=on,v!==null){switch(_&-_){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(v.suspendedLanes|_))!==0?0:P,P!==0&&P!==A.retryLane&&(A.retryLane=P,Ii(a,P),Yr(v,a,P,-1))}return rg(),v=Im(Error(n(421))),ud(a,c,_,v)}return P.data==="$?"?(c.flags|=128,c.child=a.child,c=e3.bind(null,a),P._reactRetry=c,null):(a=A.treeContext,sr=yo(P.nextSibling),ar=c,Ot=!0,Ur=null,a!==null&&(Sr[Pr++]=Di,Sr[Pr++]=Mi,Sr[Pr++]=Jo,Di=a.id,Mi=a.overflow,Jo=c),c=zm(c,v.children),c.flags|=4096,c)}function _S(a,c,h){a.lanes|=c;var v=a.alternate;v!==null&&(v.lanes|=c),ym(a.return,c,h)}function Wm(a,c,h,v,P){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:P}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=v,A.tail=h,A.tailMode=P)}function TS(a,c,h){var v=c.pendingProps,P=v.revealOrder,A=v.tail;if(zn(a,c,v.children,h),v=It.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&_S(a,h,c);else if(a.tag===19)_S(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}if(xt(It,v),(c.mode&1)===0)c.memoizedState=null;else switch(P){case"forwards":for(h=c.child,P=null;h!==null;)a=h.alternate,a!==null&&rd(a)===null&&(P=h),h=h.sibling;h=P,h===null?(P=c.child,c.child=null):(P=h.sibling,h.sibling=null),Wm(c,!1,P,h,A);break;case"backwards":for(h=null,P=c.child,c.child=null;P!==null;){if(a=P.alternate,a!==null&&rd(a)===null){c.child=P;break}a=P.sibling,P.sibling=h,h=P,P=a}Wm(c,!0,h,null,A);break;case"together":Wm(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function dd(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Li(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),ia|=c.lanes,(h&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,h=Oo(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=Oo(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function WL(a,c,h){switch(c.tag){case 3:NS(c),ns();break;case 5:Gw(c);break;case 1:qn(c.type)&&Ku(c);break;case 4:wm(c,c.stateNode.containerInfo);break;case 10:var v=c.type._context,P=c.memoizedProps.value;xt(Ju,v._currentValue),v._currentValue=P;break;case 13:if(v=c.memoizedState,v!==null)return v.dehydrated!==null?(xt(It,It.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?jS(a,c,h):(xt(It,It.current&1),a=Li(a,c,h),a!==null?a.sibling:null);xt(It,It.current&1);break;case 19:if(v=(h&c.childLanes)!==0,(a.flags&128)!==0){if(v)return TS(a,c,h);c.flags|=128}if(P=c.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),xt(It,It.current),v)break;return null;case 22:case 23:return c.lanes=0,AS(a,c,h)}return Li(a,c,h)}var DS,Vm,MS,IS;DS=function(a,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Vm=function(){},MS=function(a,c,h,v){var P=a.memoizedProps;if(P!==v){a=c.stateNode,na(ui.current);var A=null;switch(h){case"input":P=Z(a,P),v=Z(a,v),A=[];break;case"select":P=ne({},P,{value:void 0}),v=ne({},v,{value:void 0}),A=[];break;case"textarea":P=rt(a,P),v=rt(a,v),A=[];break;default:typeof P.onClick!="function"&&typeof v.onClick=="function"&&(a.onclick=Uu)}he(h,v);var _;h=null;for(Q in P)if(!v.hasOwnProperty(Q)&&P.hasOwnProperty(Q)&&P[Q]!=null)if(Q==="style"){var I=P[Q];for(_ in I)I.hasOwnProperty(_)&&(h||(h={}),h[_]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?A||(A=[]):(A=A||[]).push(Q,null));for(Q in v){var L=v[Q];if(I=P?.[Q],v.hasOwnProperty(Q)&&L!==I&&(L!=null||I!=null))if(Q==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||L&&L.hasOwnProperty(_)||(h||(h={}),h[_]="");for(_ in L)L.hasOwnProperty(_)&&I[_]!==L[_]&&(h||(h={}),h[_]=L[_])}else h||(A||(A=[]),A.push(Q,h)),h=L;else Q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,I=I?I.__html:void 0,L!=null&&I!==L&&(A=A||[]).push(Q,L)):Q==="children"?typeof L!="string"&&typeof L!="number"||(A=A||[]).push(Q,""+L):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(L!=null&&Q==="onScroll"&&Pt("scroll",a),A||I===L||(A=[])):(A=A||[]).push(Q,L))}h&&(A=A||[]).push("style",h);var Q=A;(c.updateQueue=Q)&&(c.flags|=4)}},IS=function(a,c,h,v){h!==v&&(c.flags|=4)};function zl(a,c){if(!Ot)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Dn(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,v=0;if(c)for(var P=a.child;P!==null;)h|=P.lanes|P.childLanes,v|=P.subtreeFlags&14680064,v|=P.flags&14680064,P.return=a,P=P.sibling;else for(P=a.child;P!==null;)h|=P.lanes|P.childLanes,v|=P.subtreeFlags,v|=P.flags,P.return=a,P=P.sibling;return a.subtreeFlags|=v,a.childLanes=h,c}function VL(a,c,h){var v=c.pendingProps;switch(dm(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(c),null;case 1:return qn(c.type)&&Gu(),Dn(c),null;case 3:return v=c.stateNode,as(),Ct(Yn),Ct(_n),Cm(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(a===null||a.child===null)&&(Zu(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ur!==null&&(eg(Ur),Ur=null))),Vm(a,c),Dn(c),null;case 5:Sm(c);var P=na(Rl.current);if(h=c.type,a!==null&&c.stateNode!=null)MS(a,c,h,v,P),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!v){if(c.stateNode===null)throw Error(n(166));return Dn(c),null}if(a=na(ui.current),Zu(c)){v=c.stateNode,h=c.type;var A=c.memoizedProps;switch(v[ci]=c,v[_l]=A,a=(c.mode&1)!==0,h){case"dialog":Pt("cancel",v),Pt("close",v);break;case"iframe":case"object":case"embed":Pt("load",v);break;case"video":case"audio":for(P=0;P<Nl.length;P++)Pt(Nl[P],v);break;case"source":Pt("error",v);break;case"img":case"image":case"link":Pt("error",v),Pt("load",v);break;case"details":Pt("toggle",v);break;case"input":Ie(v,A),Pt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!A.multiple},Pt("invalid",v);break;case"textarea":ht(v,A),Pt("invalid",v)}he(h,A),P=null;for(var _ in A)if(A.hasOwnProperty(_)){var I=A[_];_==="children"?typeof I=="string"?v.textContent!==I&&(A.suppressHydrationWarning!==!0&&Vu(v.textContent,I,a),P=["children",I]):typeof I=="number"&&v.textContent!==""+I&&(A.suppressHydrationWarning!==!0&&Vu(v.textContent,I,a),P=["children",""+I]):i.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&Pt("scroll",v)}switch(h){case"input":J(v),ct(v,A,!0);break;case"textarea":J(v),lt(v);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(v.onclick=Uu)}v=P,c.updateQueue=v,v!==null&&(c.flags|=4)}else{_=P.nodeType===9?P:P.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ot(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=_.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof v.is=="string"?a=_.createElement(h,{is:v.is}):(a=_.createElement(h),h==="select"&&(_=a,v.multiple?_.multiple=!0:v.size&&(_.size=v.size))):a=_.createElementNS(a,h),a[ci]=c,a[_l]=v,DS(a,c,!1,!1),c.stateNode=a;e:{switch(_=et(h,v),h){case"dialog":Pt("cancel",a),Pt("close",a),P=v;break;case"iframe":case"object":case"embed":Pt("load",a),P=v;break;case"video":case"audio":for(P=0;P<Nl.length;P++)Pt(Nl[P],a);P=v;break;case"source":Pt("error",a),P=v;break;case"img":case"image":case"link":Pt("error",a),Pt("load",a),P=v;break;case"details":Pt("toggle",a),P=v;break;case"input":Ie(a,v),P=Z(a,v),Pt("invalid",a);break;case"option":P=v;break;case"select":a._wrapperState={wasMultiple:!!v.multiple},P=ne({},v,{value:void 0}),Pt("invalid",a);break;case"textarea":ht(a,v),P=rt(a,v),Pt("invalid",a);break;default:P=v}he(h,P),I=P;for(A in I)if(I.hasOwnProperty(A)){var L=I[A];A==="style"?Bn(a,L):A==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&vn(a,L)):A==="children"?typeof L=="string"?(h!=="textarea"||L!=="")&&yn(a,L):typeof L=="number"&&yn(a,""+L):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?L!=null&&A==="onScroll"&&Pt("scroll",a):L!=null&&E(a,A,L,_))}switch(h){case"input":J(a),ct(a,v,!1);break;case"textarea":J(a),lt(a);break;case"option":v.value!=null&&a.setAttribute("value",""+U(v.value));break;case"select":a.multiple=!!v.multiple,A=v.value,A!=null?xe(a,!!v.multiple,A,!1):v.defaultValue!=null&&xe(a,!!v.multiple,v.defaultValue,!0);break;default:typeof P.onClick=="function"&&(a.onclick=Uu)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Dn(c),null;case 6:if(a&&c.stateNode!=null)IS(a,c,a.memoizedProps,v);else{if(typeof v!="string"&&c.stateNode===null)throw Error(n(166));if(h=na(Rl.current),na(ui.current),Zu(c)){if(v=c.stateNode,h=c.memoizedProps,v[ci]=c,(A=v.nodeValue!==h)&&(a=ar,a!==null))switch(a.tag){case 3:Vu(v.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Vu(v.nodeValue,h,(a.mode&1)!==0)}A&&(c.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[ci]=c,c.stateNode=v}return Dn(c),null;case 13:if(Ct(It),v=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ot&&sr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Fw(),ns(),c.flags|=98560,A=!1;else if(A=Zu(c),v!==null&&v.dehydrated!==null){if(a===null){if(!A)throw Error(n(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[ci]=c}else ns(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Dn(c),A=!1}else Ur!==null&&(eg(Ur),Ur=null),A=!0;if(!A)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(v=v!==null,v!==(a!==null&&a.memoizedState!==null)&&v&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(It.current&1)!==0?Jt===0&&(Jt=3):rg())),c.updateQueue!==null&&(c.flags|=4),Dn(c),null);case 4:return as(),Vm(a,c),a===null&&Ol(c.stateNode.containerInfo),Dn(c),null;case 10:return vm(c.type._context),Dn(c),null;case 17:return qn(c.type)&&Gu(),Dn(c),null;case 19:if(Ct(It),A=c.memoizedState,A===null)return Dn(c),null;if(v=(c.flags&128)!==0,_=A.rendering,_===null)if(v)zl(A,!1);else{if(Jt!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(_=rd(a),_!==null){for(c.flags|=128,zl(A,!1),v=_.updateQueue,v!==null&&(c.updateQueue=v,c.flags|=4),c.subtreeFlags=0,v=h,h=c.child;h!==null;)A=h,a=v,A.flags&=14680066,_=A.alternate,_===null?(A.childLanes=0,A.lanes=a,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=_.childLanes,A.lanes=_.lanes,A.child=_.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=_.memoizedProps,A.memoizedState=_.memoizedState,A.updateQueue=_.updateQueue,A.type=_.type,a=_.dependencies,A.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return xt(It,It.current&1|2),c.child}a=a.sibling}A.tail!==null&&Ht()>us&&(c.flags|=128,v=!0,zl(A,!1),c.lanes=4194304)}else{if(!v)if(a=rd(_),a!==null){if(c.flags|=128,v=!0,h=a.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),zl(A,!0),A.tail===null&&A.tailMode==="hidden"&&!_.alternate&&!Ot)return Dn(c),null}else 2*Ht()-A.renderingStartTime>us&&h!==1073741824&&(c.flags|=128,v=!0,zl(A,!1),c.lanes=4194304);A.isBackwards?(_.sibling=c.child,c.child=_):(h=A.last,h!==null?h.sibling=_:c.child=_,A.last=_)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=Ht(),c.sibling=null,h=It.current,xt(It,v?h&1|2:h&1),c):(Dn(c),null);case 22:case 23:return ng(),v=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==v&&(c.flags|=8192),v&&(c.mode&1)!==0?(lr&1073741824)!==0&&(Dn(c),c.subtreeFlags&6&&(c.flags|=8192)):Dn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function UL(a,c){switch(dm(c),c.tag){case 1:return qn(c.type)&&Gu(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return as(),Ct(Yn),Ct(_n),Cm(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return Sm(c),null;case 13:if(Ct(It),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));ns()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Ct(It),null;case 4:return as(),null;case 10:return vm(c.type._context),null;case 22:case 23:return ng(),null;case 24:return null;default:return null}}var fd=!1,Mn=!1,HL=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function ls(a,c){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){Bt(a,c,v)}else h.current=null}function Um(a,c,h){try{h()}catch(v){Bt(a,c,v)}}var RS=!1;function GL(a,c){if(nm=Tu,a=hw(),Yh(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var P=v.anchorOffset,A=v.focusNode;v=v.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var _=0,I=-1,L=-1,Q=0,se=0,le=a,ae=null;t:for(;;){for(var Pe;le!==h||P!==0&&le.nodeType!==3||(I=_+P),le!==A||v!==0&&le.nodeType!==3||(L=_+v),le.nodeType===3&&(_+=le.nodeValue.length),(Pe=le.firstChild)!==null;)ae=le,le=Pe;for(;;){if(le===a)break t;if(ae===h&&++Q===P&&(I=_),ae===A&&++se===v&&(L=_),(Pe=le.nextSibling)!==null)break;le=ae,ae=le.parentNode}le=Pe}h=I===-1||L===-1?null:{start:I,end:L}}else h=null}h=h||{start:0,end:0}}else h=null;for(rm={focusedElem:a,selectionRange:h},Tu=!1,Ae=c;Ae!==null;)if(c=Ae,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Ae=a;else for(;Ae!==null;){c=Ae;try{var Ee=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Oe=Ee.memoizedProps,Gt=Ee.memoizedState,H=c.stateNode,z=H.getSnapshotBeforeUpdate(c.elementType===c.type?Oe:Hr(c.type,Oe),Gt);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var q=c.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){Bt(c,c.return,pe)}if(a=c.sibling,a!==null){a.return=c.return,Ae=a;break}Ae=c.return}return Ee=RS,RS=!1,Ee}function Wl(a,c,h){var v=c.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var P=v=v.next;do{if((P.tag&a)===a){var A=P.destroy;P.destroy=void 0,A!==void 0&&Um(c,h,A)}P=P.next}while(P!==v)}}function pd(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&a)===a){var v=h.create;h.destroy=v()}h=h.next}while(h!==c)}}function Hm(a){var c=a.ref;if(c!==null){var h=a.stateNode;a.tag,a=h,typeof c=="function"?c(a):c.current=a}}function LS(a){var c=a.alternate;c!==null&&(a.alternate=null,LS(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[ci],delete c[_l],delete c[sm],delete c[NL],delete c[OL])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function FS(a){return a.tag===5||a.tag===3||a.tag===4}function $S(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||FS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Gm(a,c,h){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(a,c):h.insertBefore(a,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(a,h)):(c=h,c.appendChild(a)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Uu));else if(v!==4&&(a=a.child,a!==null))for(Gm(a,c,h),a=a.sibling;a!==null;)Gm(a,c,h),a=a.sibling}function Km(a,c,h){var v=a.tag;if(v===5||v===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(v!==4&&(a=a.child,a!==null))for(Km(a,c,h),a=a.sibling;a!==null;)Km(a,c,h),a=a.sibling}var bn=null,Gr=!1;function Co(a,c,h){for(h=h.child;h!==null;)BS(a,c,h),h=h.sibling}function BS(a,c,h){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(ku,h)}catch{}switch(h.tag){case 5:Mn||ls(h,c);case 6:var v=bn,P=Gr;bn=null,Co(a,c,h),bn=v,Gr=P,bn!==null&&(Gr?(a=bn,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):bn.removeChild(h.stateNode));break;case 18:bn!==null&&(Gr?(a=bn,h=h.stateNode,a.nodeType===8?am(a.parentNode,h):a.nodeType===1&&am(a,h),bl(a)):am(bn,h.stateNode));break;case 4:v=bn,P=Gr,bn=h.stateNode.containerInfo,Gr=!0,Co(a,c,h),bn=v,Gr=P;break;case 0:case 11:case 14:case 15:if(!Mn&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){P=v=v.next;do{var A=P,_=A.destroy;A=A.tag,_!==void 0&&((A&2)!==0||(A&4)!==0)&&Um(h,c,_),P=P.next}while(P!==v)}Co(a,c,h);break;case 1:if(!Mn&&(ls(h,c),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(I){Bt(h,c,I)}Co(a,c,h);break;case 21:Co(a,c,h);break;case 22:h.mode&1?(Mn=(v=Mn)||h.memoizedState!==null,Co(a,c,h),Mn=v):Co(a,c,h);break;default:Co(a,c,h)}}function zS(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new HL),c.forEach(function(v){var P=t3.bind(null,a,v);h.has(v)||(h.add(v),v.then(P,P))})}}function Kr(a,c){var h=c.deletions;if(h!==null)for(var v=0;v<h.length;v++){var P=h[v];try{var A=a,_=c,I=_;e:for(;I!==null;){switch(I.tag){case 5:bn=I.stateNode,Gr=!1;break e;case 3:bn=I.stateNode.containerInfo,Gr=!0;break e;case 4:bn=I.stateNode.containerInfo,Gr=!0;break e}I=I.return}if(bn===null)throw Error(n(160));BS(A,_,P),bn=null,Gr=!1;var L=P.alternate;L!==null&&(L.return=null),P.return=null}catch(Q){Bt(P,c,Q)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)WS(c,a),c=c.sibling}function WS(a,c){var h=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Kr(c,a),fi(a),v&4){try{Wl(3,a,a.return),pd(3,a)}catch(Oe){Bt(a,a.return,Oe)}try{Wl(5,a,a.return)}catch(Oe){Bt(a,a.return,Oe)}}break;case 1:Kr(c,a),fi(a),v&512&&h!==null&&ls(h,h.return);break;case 5:if(Kr(c,a),fi(a),v&512&&h!==null&&ls(h,h.return),a.flags&32){var P=a.stateNode;try{yn(P,"")}catch(Oe){Bt(a,a.return,Oe)}}if(v&4&&(P=a.stateNode,P!=null)){var A=a.memoizedProps,_=h!==null?h.memoizedProps:A,I=a.type,L=a.updateQueue;if(a.updateQueue=null,L!==null)try{I==="input"&&A.type==="radio"&&A.name!=null&&$e(P,A),et(I,_);var Q=et(I,A);for(_=0;_<L.length;_+=2){var se=L[_],le=L[_+1];se==="style"?Bn(P,le):se==="dangerouslySetInnerHTML"?vn(P,le):se==="children"?yn(P,le):E(P,se,le,Q)}switch(I){case"input":Ke(P,A);break;case"textarea":Ge(P,A);break;case"select":var ae=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!A.multiple;var Pe=A.value;Pe!=null?xe(P,!!A.multiple,Pe,!1):ae!==!!A.multiple&&(A.defaultValue!=null?xe(P,!!A.multiple,A.defaultValue,!0):xe(P,!!A.multiple,A.multiple?[]:"",!1))}P[_l]=A}catch(Oe){Bt(a,a.return,Oe)}}break;case 6:if(Kr(c,a),fi(a),v&4){if(a.stateNode===null)throw Error(n(162));P=a.stateNode,A=a.memoizedProps;try{P.nodeValue=A}catch(Oe){Bt(a,a.return,Oe)}}break;case 3:if(Kr(c,a),fi(a),v&4&&h!==null&&h.memoizedState.isDehydrated)try{bl(c.containerInfo)}catch(Oe){Bt(a,a.return,Oe)}break;case 4:Kr(c,a),fi(a);break;case 13:Kr(c,a),fi(a),P=a.child,P.flags&8192&&(A=P.memoizedState!==null,P.stateNode.isHidden=A,!A||P.alternate!==null&&P.alternate.memoizedState!==null||(Xm=Ht())),v&4&&zS(a);break;case 22:if(se=h!==null&&h.memoizedState!==null,a.mode&1?(Mn=(Q=Mn)||se,Kr(c,a),Mn=Q):Kr(c,a),fi(a),v&8192){if(Q=a.memoizedState!==null,(a.stateNode.isHidden=Q)&&!se&&(a.mode&1)!==0)for(Ae=a,se=a.child;se!==null;){for(le=Ae=se;Ae!==null;){switch(ae=Ae,Pe=ae.child,ae.tag){case 0:case 11:case 14:case 15:Wl(4,ae,ae.return);break;case 1:ls(ae,ae.return);var Ee=ae.stateNode;if(typeof Ee.componentWillUnmount=="function"){v=ae,h=ae.return;try{c=v,Ee.props=c.memoizedProps,Ee.state=c.memoizedState,Ee.componentWillUnmount()}catch(Oe){Bt(v,h,Oe)}}break;case 5:ls(ae,ae.return);break;case 22:if(ae.memoizedState!==null){HS(le);continue}}Pe!==null?(Pe.return=ae,Ae=Pe):HS(le)}se=se.sibling}e:for(se=null,le=a;;){if(le.tag===5){if(se===null){se=le;try{P=le.stateNode,Q?(A=P.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(I=le.stateNode,L=le.memoizedProps.style,_=L!=null&&L.hasOwnProperty("display")?L.display:null,I.style.display=wr("display",_))}catch(Oe){Bt(a,a.return,Oe)}}}else if(le.tag===6){if(se===null)try{le.stateNode.nodeValue=Q?"":le.memoizedProps}catch(Oe){Bt(a,a.return,Oe)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===a)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===a)break e;for(;le.sibling===null;){if(le.return===null||le.return===a)break e;se===le&&(se=null),le=le.return}se===le&&(se=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Kr(c,a),fi(a),v&4&&zS(a);break;case 21:break;default:Kr(c,a),fi(a)}}function fi(a){var c=a.flags;if(c&2){try{e:{for(var h=a.return;h!==null;){if(FS(h)){var v=h;break e}h=h.return}throw Error(n(160))}switch(v.tag){case 5:var P=v.stateNode;v.flags&32&&(yn(P,""),v.flags&=-33);var A=$S(a);Km(a,A,P);break;case 3:case 4:var _=v.stateNode.containerInfo,I=$S(a);Gm(a,I,_);break;default:throw Error(n(161))}}catch(L){Bt(a,a.return,L)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function KL(a,c,h){Ae=a,VS(a)}function VS(a,c,h){for(var v=(a.mode&1)!==0;Ae!==null;){var P=Ae,A=P.child;if(P.tag===22&&v){var _=P.memoizedState!==null||fd;if(!_){var I=P.alternate,L=I!==null&&I.memoizedState!==null||Mn;I=fd;var Q=Mn;if(fd=_,(Mn=L)&&!Q)for(Ae=P;Ae!==null;)_=Ae,L=_.child,_.tag===22&&_.memoizedState!==null?GS(P):L!==null?(L.return=_,Ae=L):GS(P);for(;A!==null;)Ae=A,VS(A),A=A.sibling;Ae=P,fd=I,Mn=Q}US(a)}else(P.subtreeFlags&8772)!==0&&A!==null?(A.return=P,Ae=A):US(a)}}function US(a){for(;Ae!==null;){var c=Ae;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Mn||pd(5,c);break;case 1:var v=c.stateNode;if(c.flags&4&&!Mn)if(h===null)v.componentDidMount();else{var P=c.elementType===c.type?h.memoizedProps:Hr(c.type,h.memoizedProps);v.componentDidUpdate(P,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&Hw(c,A,v);break;case 3:var _=c.updateQueue;if(_!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}Hw(c,_,h)}break;case 5:var I=c.stateNode;if(h===null&&c.flags&4){h=I;var L=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&h.focus();break;case"img":L.src&&(h.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Q=c.alternate;if(Q!==null){var se=Q.memoizedState;if(se!==null){var le=se.dehydrated;le!==null&&bl(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mn||c.flags&512&&Hm(c)}catch(ae){Bt(c,c.return,ae)}}if(c===a){Ae=null;break}if(h=c.sibling,h!==null){h.return=c.return,Ae=h;break}Ae=c.return}}function HS(a){for(;Ae!==null;){var c=Ae;if(c===a){Ae=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Ae=h;break}Ae=c.return}}function GS(a){for(;Ae!==null;){var c=Ae;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{pd(4,c)}catch(L){Bt(c,h,L)}break;case 1:var v=c.stateNode;if(typeof v.componentDidMount=="function"){var P=c.return;try{v.componentDidMount()}catch(L){Bt(c,P,L)}}var A=c.return;try{Hm(c)}catch(L){Bt(c,A,L)}break;case 5:var _=c.return;try{Hm(c)}catch(L){Bt(c,_,L)}}}catch(L){Bt(c,c.return,L)}if(c===a){Ae=null;break}var I=c.sibling;if(I!==null){I.return=c.return,Ae=I;break}Ae=c.return}}var YL=Math.ceil,hd=N.ReactCurrentDispatcher,Ym=N.ReactCurrentOwner,kr=N.ReactCurrentBatchConfig,it=0,on=null,Yt=null,wn=0,lr=0,cs=xo(0),Jt=0,Vl=null,ia=0,md=0,qm=0,Ul=null,Zn=null,Xm=0,us=1/0,Fi=null,gd=!1,Zm=null,Ao=null,vd=!1,ko=null,yd=0,Hl=0,Qm=null,xd=-1,bd=0;function Wn(){return(it&6)!==0?Ht():xd!==-1?xd:xd=Ht()}function Eo(a){return(a.mode&1)===0?1:(it&2)!==0&&wn!==0?wn&-wn:_L.transition!==null?(bd===0&&(bd=$1()),bd):(a=dt,a!==0||(a=window.event,a=a===void 0?16:Y1(a.type)),a)}function Yr(a,c,h,v){if(50<Hl)throw Hl=0,Qm=null,Error(n(185));ml(a,h,v),((it&2)===0||a!==on)&&(a===on&&((it&2)===0&&(md|=h),Jt===4&&No(a,wn)),Qn(a,v),h===1&&it===0&&(c.mode&1)===0&&(us=Ht()+500,Yu&&wo()))}function Qn(a,c){var h=a.callbackNode;_5(a,c);var v=Ou(a,a===on?wn:0);if(v===0)h!==null&&si(h),a.callbackNode=null,a.callbackPriority=0;else if(c=v&-v,a.callbackPriority!==c){if(h!=null&&si(h),c===1)a.tag===0?jL(YS.bind(null,a)):Dw(YS.bind(null,a)),kL(function(){(it&6)===0&&wo()}),h=null;else{switch(B1(v)){case 1:h=_h;break;case 4:h=L1;break;case 16:h=Au;break;case 536870912:h=F1;break;default:h=Au}h=nP(h,KS.bind(null,a))}a.callbackPriority=c,a.callbackNode=h}}function KS(a,c){if(xd=-1,bd=0,(it&6)!==0)throw Error(n(327));var h=a.callbackNode;if(ds()&&a.callbackNode!==h)return null;var v=Ou(a,a===on?wn:0);if(v===0)return null;if((v&30)!==0||(v&a.expiredLanes)!==0||c)c=wd(a,v);else{c=v;var P=it;it|=2;var A=XS();(on!==a||wn!==c)&&(Fi=null,us=Ht()+500,aa(a,c));do try{ZL();break}catch(I){qS(a,I)}while(!0);gm(),hd.current=A,it=P,Yt!==null?c=0:(on=null,wn=0,c=Jt)}if(c!==0){if(c===2&&(P=Th(a),P!==0&&(v=P,c=Jm(a,P))),c===1)throw h=Vl,aa(a,0),No(a,v),Qn(a,Ht()),h;if(c===6)No(a,v);else{if(P=a.current.alternate,(v&30)===0&&!qL(P)&&(c=wd(a,v),c===2&&(A=Th(a),A!==0&&(v=A,c=Jm(a,A))),c===1))throw h=Vl,aa(a,0),No(a,v),Qn(a,Ht()),h;switch(a.finishedWork=P,a.finishedLanes=v,c){case 0:case 1:throw Error(n(345));case 2:sa(a,Zn,Fi);break;case 3:if(No(a,v),(v&130023424)===v&&(c=Xm+500-Ht(),10<c)){if(Ou(a,0)!==0)break;if(P=a.suspendedLanes,(P&v)!==v){Wn(),a.pingedLanes|=a.suspendedLanes&P;break}a.timeoutHandle=om(sa.bind(null,a,Zn,Fi),c);break}sa(a,Zn,Fi);break;case 4:if(No(a,v),(v&4194240)===v)break;for(c=a.eventTimes,P=-1;0<v;){var _=31-Wr(v);A=1<<_,_=c[_],_>P&&(P=_),v&=~A}if(v=P,v=Ht()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*YL(v/1960))-v,10<v){a.timeoutHandle=om(sa.bind(null,a,Zn,Fi),v);break}sa(a,Zn,Fi);break;case 5:sa(a,Zn,Fi);break;default:throw Error(n(329))}}}return Qn(a,Ht()),a.callbackNode===h?KS.bind(null,a):null}function Jm(a,c){var h=Ul;return a.current.memoizedState.isDehydrated&&(aa(a,c).flags|=256),a=wd(a,c),a!==2&&(c=Zn,Zn=h,c!==null&&eg(c)),a}function eg(a){Zn===null?Zn=a:Zn.push.apply(Zn,a)}function qL(a){for(var c=a;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var P=h[v],A=P.getSnapshot;P=P.value;try{if(!Vr(A(),P))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function No(a,c){for(c&=~qm,c&=~md,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var h=31-Wr(c),v=1<<h;a[h]=-1,c&=~v}}function YS(a){if((it&6)!==0)throw Error(n(327));ds();var c=Ou(a,0);if((c&1)===0)return Qn(a,Ht()),null;var h=wd(a,c);if(a.tag!==0&&h===2){var v=Th(a);v!==0&&(c=v,h=Jm(a,v))}if(h===1)throw h=Vl,aa(a,0),No(a,c),Qn(a,Ht()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,sa(a,Zn,Fi),Qn(a,Ht()),null}function tg(a,c){var h=it;it|=1;try{return a(c)}finally{it=h,it===0&&(us=Ht()+500,Yu&&wo())}}function oa(a){ko!==null&&ko.tag===0&&(it&6)===0&&ds();var c=it;it|=1;var h=kr.transition,v=dt;try{if(kr.transition=null,dt=1,a)return a()}finally{dt=v,kr.transition=h,it=c,(it&6)===0&&wo()}}function ng(){lr=cs.current,Ct(cs)}function aa(a,c){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,AL(h)),Yt!==null)for(h=Yt.return;h!==null;){var v=h;switch(dm(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Gu();break;case 3:as(),Ct(Yn),Ct(_n),Cm();break;case 5:Sm(v);break;case 4:as();break;case 13:Ct(It);break;case 19:Ct(It);break;case 10:vm(v.type._context);break;case 22:case 23:ng()}h=h.return}if(on=a,Yt=a=Oo(a.current,null),wn=lr=c,Jt=0,Vl=null,qm=md=ia=0,Zn=Ul=null,ta!==null){for(c=0;c<ta.length;c++)if(h=ta[c],v=h.interleaved,v!==null){h.interleaved=null;var P=v.next,A=h.pending;if(A!==null){var _=A.next;A.next=P,v.next=_}h.pending=v}ta=null}return a}function qS(a,c){do{var h=Yt;try{if(gm(),id.current=ld,od){for(var v=Rt.memoizedState;v!==null;){var P=v.queue;P!==null&&(P.pending=null),v=v.next}od=!1}if(ra=0,rn=Qt=Rt=null,Ll=!1,Fl=0,Ym.current=null,h===null||h.return===null){Jt=1,Vl=c,Yt=null;break}e:{var A=a,_=h.return,I=h,L=c;if(c=wn,I.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Q=L,se=I,le=se.tag;if((se.mode&1)===0&&(le===0||le===11||le===15)){var ae=se.alternate;ae?(se.updateQueue=ae.updateQueue,se.memoizedState=ae.memoizedState,se.lanes=ae.lanes):(se.updateQueue=null,se.memoizedState=null)}var Pe=bS(_);if(Pe!==null){Pe.flags&=-257,wS(Pe,_,I,A,c),Pe.mode&1&&xS(A,Q,c),c=Pe,L=Q;var Ee=c.updateQueue;if(Ee===null){var Oe=new Set;Oe.add(L),c.updateQueue=Oe}else Ee.add(L);break e}else{if((c&1)===0){xS(A,Q,c),rg();break e}L=Error(n(426))}}else if(Ot&&I.mode&1){var Gt=bS(_);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),wS(Gt,_,I,A,c),hm(ss(L,I));break e}}A=L=ss(L,I),Jt!==4&&(Jt=2),Ul===null?Ul=[A]:Ul.push(A),A=_;do{switch(A.tag){case 3:A.flags|=65536,c&=-c,A.lanes|=c;var H=vS(A,L,c);Uw(A,H);break e;case 1:I=L;var z=A.type,q=A.stateNode;if((A.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ao===null||!Ao.has(q)))){A.flags|=65536,c&=-c,A.lanes|=c;var pe=yS(A,I,c);Uw(A,pe);break e}}A=A.return}while(A!==null)}QS(h)}catch(_e){c=_e,Yt===h&&h!==null&&(Yt=h=h.return);continue}break}while(!0)}function XS(){var a=hd.current;return hd.current=ld,a===null?ld:a}function rg(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),on===null||(ia&268435455)===0&&(md&268435455)===0||No(on,wn)}function wd(a,c){var h=it;it|=2;var v=XS();(on!==a||wn!==c)&&(Fi=null,aa(a,c));do try{XL();break}catch(P){qS(a,P)}while(!0);if(gm(),it=h,hd.current=v,Yt!==null)throw Error(n(261));return on=null,wn=0,Jt}function XL(){for(;Yt!==null;)ZS(Yt)}function ZL(){for(;Yt!==null&&!pl();)ZS(Yt)}function ZS(a){var c=tP(a.alternate,a,lr);a.memoizedProps=a.pendingProps,c===null?QS(a):Yt=c,Ym.current=null}function QS(a){var c=a;do{var h=c.alternate;if(a=c.return,(c.flags&32768)===0){if(h=VL(h,c,lr),h!==null){Yt=h;return}}else{if(h=UL(h,c),h!==null){h.flags&=32767,Yt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Jt=6,Yt=null;return}}if(c=c.sibling,c!==null){Yt=c;return}Yt=c=a}while(c!==null);Jt===0&&(Jt=5)}function sa(a,c,h){var v=dt,P=kr.transition;try{kr.transition=null,dt=1,QL(a,c,h,v)}finally{kr.transition=P,dt=v}return null}function QL(a,c,h,v){do ds();while(ko!==null);if((it&6)!==0)throw Error(n(327));h=a.finishedWork;var P=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var A=h.lanes|h.childLanes;if(T5(a,A),a===on&&(Yt=on=null,wn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||vd||(vd=!0,nP(Au,function(){return ds(),null})),A=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||A){A=kr.transition,kr.transition=null;var _=dt;dt=1;var I=it;it|=4,Ym.current=null,GL(a,h),WS(h,a),yL(rm),Tu=!!nm,rm=nm=null,a.current=h,KL(h),P5(),it=I,dt=_,kr.transition=A}else a.current=h;if(vd&&(vd=!1,ko=a,yd=P),A=a.pendingLanes,A===0&&(Ao=null),k5(h.stateNode),Qn(a,Ht()),c!==null)for(v=a.onRecoverableError,h=0;h<c.length;h++)P=c[h],v(P.value,{componentStack:P.stack,digest:P.digest});if(gd)throw gd=!1,a=Zm,Zm=null,a;return(yd&1)!==0&&a.tag!==0&&ds(),A=a.pendingLanes,(A&1)!==0?a===Qm?Hl++:(Hl=0,Qm=a):Hl=0,wo(),null}function ds(){if(ko!==null){var a=B1(yd),c=kr.transition,h=dt;try{if(kr.transition=null,dt=16>a?16:a,ko===null)var v=!1;else{if(a=ko,ko=null,yd=0,(it&6)!==0)throw Error(n(331));var P=it;for(it|=4,Ae=a.current;Ae!==null;){var A=Ae,_=A.child;if((Ae.flags&16)!==0){var I=A.deletions;if(I!==null){for(var L=0;L<I.length;L++){var Q=I[L];for(Ae=Q;Ae!==null;){var se=Ae;switch(se.tag){case 0:case 11:case 15:Wl(8,se,A)}var le=se.child;if(le!==null)le.return=se,Ae=le;else for(;Ae!==null;){se=Ae;var ae=se.sibling,Pe=se.return;if(LS(se),se===Q){Ae=null;break}if(ae!==null){ae.return=Pe,Ae=ae;break}Ae=Pe}}}var Ee=A.alternate;if(Ee!==null){var Oe=Ee.child;if(Oe!==null){Ee.child=null;do{var Gt=Oe.sibling;Oe.sibling=null,Oe=Gt}while(Oe!==null)}}Ae=A}}if((A.subtreeFlags&2064)!==0&&_!==null)_.return=A,Ae=_;else e:for(;Ae!==null;){if(A=Ae,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Wl(9,A,A.return)}var H=A.sibling;if(H!==null){H.return=A.return,Ae=H;break e}Ae=A.return}}var z=a.current;for(Ae=z;Ae!==null;){_=Ae;var q=_.child;if((_.subtreeFlags&2064)!==0&&q!==null)q.return=_,Ae=q;else e:for(_=z;Ae!==null;){if(I=Ae,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:pd(9,I)}}catch(_e){Bt(I,I.return,_e)}if(I===_){Ae=null;break e}var pe=I.sibling;if(pe!==null){pe.return=I.return,Ae=pe;break e}Ae=I.return}}if(it=P,wo(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(ku,a)}catch{}v=!0}return v}finally{dt=h,kr.transition=c}}return!1}function JS(a,c,h){c=ss(h,c),c=vS(a,c,1),a=Po(a,c,1),c=Wn(),a!==null&&(ml(a,1,c),Qn(a,c))}function Bt(a,c,h){if(a.tag===3)JS(a,a,h);else for(;c!==null;){if(c.tag===3){JS(c,a,h);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ao===null||!Ao.has(v))){a=ss(h,a),a=yS(c,a,1),c=Po(c,a,1),a=Wn(),c!==null&&(ml(c,1,a),Qn(c,a));break}}c=c.return}}function JL(a,c,h){var v=a.pingCache;v!==null&&v.delete(c),c=Wn(),a.pingedLanes|=a.suspendedLanes&h,on===a&&(wn&h)===h&&(Jt===4||Jt===3&&(wn&130023424)===wn&&500>Ht()-Xm?aa(a,0):qm|=h),Qn(a,c)}function eP(a,c){c===0&&((a.mode&1)===0?c=1:(c=Nu,Nu<<=1,(Nu&130023424)===0&&(Nu=4194304)));var h=Wn();a=Ii(a,c),a!==null&&(ml(a,c,h),Qn(a,h))}function e3(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),eP(a,h)}function t3(a,c){var h=0;switch(a.tag){case 13:var v=a.stateNode,P=a.memoizedState;P!==null&&(h=P.retryLane);break;case 19:v=a.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(c),eP(a,h)}var tP;tP=function(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps||Yn.current)Xn=!0;else{if((a.lanes&h)===0&&(c.flags&128)===0)return Xn=!1,WL(a,c,h);Xn=(a.flags&131072)!==0}else Xn=!1,Ot&&(c.flags&1048576)!==0&&Mw(c,Xu,c.index);switch(c.lanes=0,c.tag){case 2:var v=c.type;dd(a,c),a=c.pendingProps;var P=Ja(c,_n.current);os(c,h),P=Em(null,c,v,a,P,h);var A=Nm();return c.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,qn(v)?(A=!0,Ku(c)):A=!1,c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,bm(c),P.updater=cd,c.stateNode=P,P._reactInternals=c,Mm(c,v,a,h),c=Fm(null,c,v,!0,A,h)):(c.tag=0,Ot&&A&&um(c),zn(null,c,P,h),c=c.child),c;case 16:v=c.elementType;e:{switch(dd(a,c),a=c.pendingProps,P=v._init,v=P(v._payload),c.type=v,P=c.tag=r3(v),a=Hr(v,a),P){case 0:c=Lm(null,c,v,a,h);break e;case 1:c=ES(null,c,v,a,h);break e;case 11:c=SS(null,c,v,a,h);break e;case 14:c=PS(null,c,v,Hr(v.type,a),h);break e}throw Error(n(306,v,""))}return c;case 0:return v=c.type,P=c.pendingProps,P=c.elementType===v?P:Hr(v,P),Lm(a,c,v,P,h);case 1:return v=c.type,P=c.pendingProps,P=c.elementType===v?P:Hr(v,P),ES(a,c,v,P,h);case 3:e:{if(NS(c),a===null)throw Error(n(387));v=c.pendingProps,A=c.memoizedState,P=A.element,Vw(a,c),nd(c,v,null,h);var _=c.memoizedState;if(v=_.element,A.isDehydrated)if(A={element:v,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){P=ss(Error(n(423)),c),c=OS(a,c,v,h,P);break e}else if(v!==P){P=ss(Error(n(424)),c),c=OS(a,c,v,h,P);break e}else for(sr=yo(c.stateNode.containerInfo.firstChild),ar=c,Ot=!0,Ur=null,h=zw(c,null,v,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(ns(),v===P){c=Li(a,c,h);break e}zn(a,c,v,h)}c=c.child}return c;case 5:return Gw(c),a===null&&pm(c),v=c.type,P=c.pendingProps,A=a!==null?a.memoizedProps:null,_=P.children,im(v,P)?_=null:A!==null&&im(v,A)&&(c.flags|=32),kS(a,c),zn(a,c,_,h),c.child;case 6:return a===null&&pm(c),null;case 13:return jS(a,c,h);case 4:return wm(c,c.stateNode.containerInfo),v=c.pendingProps,a===null?c.child=rs(c,null,v,h):zn(a,c,v,h),c.child;case 11:return v=c.type,P=c.pendingProps,P=c.elementType===v?P:Hr(v,P),SS(a,c,v,P,h);case 7:return zn(a,c,c.pendingProps,h),c.child;case 8:return zn(a,c,c.pendingProps.children,h),c.child;case 12:return zn(a,c,c.pendingProps.children,h),c.child;case 10:e:{if(v=c.type._context,P=c.pendingProps,A=c.memoizedProps,_=P.value,xt(Ju,v._currentValue),v._currentValue=_,A!==null)if(Vr(A.value,_)){if(A.children===P.children&&!Yn.current){c=Li(a,c,h);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var I=A.dependencies;if(I!==null){_=A.child;for(var L=I.firstContext;L!==null;){if(L.context===v){if(A.tag===1){L=Ri(-1,h&-h),L.tag=2;var Q=A.updateQueue;if(Q!==null){Q=Q.shared;var se=Q.pending;se===null?L.next=L:(L.next=se.next,se.next=L),Q.pending=L}}A.lanes|=h,L=A.alternate,L!==null&&(L.lanes|=h),ym(A.return,h,c),I.lanes|=h;break}L=L.next}}else if(A.tag===10)_=A.type===c.type?null:A.child;else if(A.tag===18){if(_=A.return,_===null)throw Error(n(341));_.lanes|=h,I=_.alternate,I!==null&&(I.lanes|=h),ym(_,h,c),_=A.sibling}else _=A.child;if(_!==null)_.return=A;else for(_=A;_!==null;){if(_===c){_=null;break}if(A=_.sibling,A!==null){A.return=_.return,_=A;break}_=_.return}A=_}zn(a,c,P.children,h),c=c.child}return c;case 9:return P=c.type,v=c.pendingProps.children,os(c,h),P=Cr(P),v=v(P),c.flags|=1,zn(a,c,v,h),c.child;case 14:return v=c.type,P=Hr(v,c.pendingProps),P=Hr(v.type,P),PS(a,c,v,P,h);case 15:return CS(a,c,c.type,c.pendingProps,h);case 17:return v=c.type,P=c.pendingProps,P=c.elementType===v?P:Hr(v,P),dd(a,c),c.tag=1,qn(v)?(a=!0,Ku(c)):a=!1,os(c,h),mS(c,v,P),Mm(c,v,P,h),Fm(null,c,v,!0,a,h);case 19:return TS(a,c,h);case 22:return AS(a,c,h)}throw Error(n(156,c.tag))};function nP(a,c){return jn(a,c)}function n3(a,c,h,v){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(a,c,h,v){return new n3(a,c,h,v)}function ig(a){return a=a.prototype,!(!a||!a.isReactComponent)}function r3(a){if(typeof a=="function")return ig(a)?1:0;if(a!=null){if(a=a.$$typeof,a===F)return 11;if(a===ce)return 14}return 2}function Oo(a,c){var h=a.alternate;return h===null?(h=Er(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Sd(a,c,h,v,P,A){var _=2;if(v=a,typeof a=="function")ig(a)&&(_=1);else if(typeof a=="string")_=5;else e:switch(a){case T:return la(h.children,P,A,c);case D:_=8,P|=8;break;case B:return a=Er(12,h,c,P|2),a.elementType=B,a.lanes=A,a;case W:return a=Er(13,h,c,P),a.elementType=W,a.lanes=A,a;case de:return a=Er(19,h,c,P),a.elementType=de,a.lanes=A,a;case ee:return Pd(h,P,A,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case X:_=10;break e;case G:_=9;break e;case F:_=11;break e;case ce:_=14;break e;case Se:_=16,v=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=Er(_,h,c,P),c.elementType=a,c.type=v,c.lanes=A,c}function la(a,c,h,v){return a=Er(7,a,v,c),a.lanes=h,a}function Pd(a,c,h,v){return a=Er(22,a,v,c),a.elementType=ee,a.lanes=h,a.stateNode={isHidden:!1},a}function og(a,c,h){return a=Er(6,a,null,c),a.lanes=h,a}function ag(a,c,h){return c=Er(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function i3(a,c,h,v,P){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dh(0),this.expirationTimes=Dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.identifierPrefix=v,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function sg(a,c,h,v,P,A,_,I,L){return a=new i3(a,c,h,I,L),c===1?(c=1,A===!0&&(c|=8)):c=0,A=Er(3,null,null,c),a.current=A,A.stateNode=a,A.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},bm(A),a}function o3(a,c,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:v==null?null:""+v,children:a,containerInfo:c,implementation:h}}function rP(a){if(!a)return bo;a=a._reactInternals;e:{if(Ye(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(qn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(qn(h))return _w(a,h,c)}return c}function iP(a,c,h,v,P,A,_,I,L){return a=sg(h,v,!0,a,P,A,_,I,L),a.context=rP(null),h=a.current,v=Wn(),P=Eo(h),A=Ri(v,P),A.callback=c??null,Po(h,A,P),a.current.lanes=P,ml(a,P,v),Qn(a,v),a}function Cd(a,c,h,v){var P=c.current,A=Wn(),_=Eo(P);return h=rP(h),c.context===null?c.context=h:c.pendingContext=h,c=Ri(A,_),c.payload={element:a},v=v===void 0?null:v,v!==null&&(c.callback=v),a=Po(P,c,_),a!==null&&(Yr(a,P,_,A),td(a,P,_)),_}function Ad(a){return a=a.current,a.child?(a.child.tag===5,a.child.stateNode):null}function oP(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function lg(a,c){oP(a,c),(a=a.alternate)&&oP(a,c)}function a3(){return null}var aP=typeof reportError=="function"?reportError:function(a){console.error(a)};function cg(a){this._internalRoot=a}kd.prototype.render=cg.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));Cd(a,c,null,null)},kd.prototype.unmount=cg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;oa(function(){Cd(null,a,null,null)}),c[_i]=null}};function kd(a){this._internalRoot=a}kd.prototype.unstable_scheduleHydration=function(a){if(a){var c=V1();a={blockedOn:null,target:a,priority:c};for(var h=0;h<mo.length&&c!==0&&c<mo[h].priority;h++);mo.splice(h,0,a),h===0&&G1(a)}};function ug(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Ed(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function sP(){}function s3(a,c,h,v,P){if(P){if(typeof v=="function"){var A=v;v=function(){var Q=Ad(_);A.call(Q)}}var _=iP(c,v,a,0,null,!1,!1,"",sP);return a._reactRootContainer=_,a[_i]=_.current,Ol(a.nodeType===8?a.parentNode:a),oa(),_}for(;P=a.lastChild;)a.removeChild(P);if(typeof v=="function"){var I=v;v=function(){var Q=Ad(L);I.call(Q)}}var L=sg(a,0,!1,null,null,!1,!1,"",sP);return a._reactRootContainer=L,a[_i]=L.current,Ol(a.nodeType===8?a.parentNode:a),oa(function(){Cd(c,L,h,v)}),L}function Nd(a,c,h,v,P){var A=h._reactRootContainer;if(A){var _=A;if(typeof P=="function"){var I=P;P=function(){var L=Ad(_);I.call(L)}}Cd(c,_,a,P)}else _=s3(h,c,a,P,v);return Ad(_)}z1=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var h=hl(c.pendingLanes);h!==0&&(Mh(c,h|1),Qn(c,Ht()),(it&6)===0&&(us=Ht()+500,wo()))}break;case 13:oa(function(){var v=Ii(a,1);if(v!==null){var P=Wn();Yr(v,a,1,P)}}),lg(a,1)}},Ih=function(a){if(a.tag===13){var c=Ii(a,134217728);if(c!==null){var h=Wn();Yr(c,a,134217728,h)}lg(a,134217728)}},W1=function(a){if(a.tag===13){var c=Eo(a),h=Ii(a,c);if(h!==null){var v=Wn();Yr(h,a,c,v)}lg(a,c)}},V1=function(){return dt},U1=function(a,c){var h=dt;try{return dt=a,c()}finally{dt=h}},tt=function(a,c,h){switch(c){case"input":if(Ke(a,h),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var v=h[c];if(v!==a&&v.form===a.form){var P=Hu(v);if(!P)throw Error(n(90));V(v),Ke(v,P)}}}break;case"textarea":Ge(a,h);break;case"select":c=h.value,c!=null&&xe(a,!!h.multiple,c,!1)}},dl=tg,Cu=oa;var l3={usingClientEntryPoint:!1,Events:[Tl,Za,Hu,Va,Pu,tg]},Gl={findFiberByHostInstance:Zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c3={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=St(a),a===null?null:a.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||a3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{ku=Od.inject(c3),li=Od}catch{}}return Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l3,Jn.createPortal=function(a,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ug(c))throw Error(n(200));return o3(a,c,null,h)},Jn.createRoot=function(a,c){if(!ug(a))throw Error(n(299));var h=!1,v="",P=aP;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=sg(a,1,!1,null,null,h,!1,v,P),a[_i]=c.current,Ol(a.nodeType===8?a.parentNode:a),new cg(c)},Jn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=St(c),a=a===null?null:a.stateNode,a},Jn.flushSync=function(a){return oa(a)},Jn.hydrate=function(a,c,h){if(!Ed(c))throw Error(n(200));return Nd(null,a,c,!0,h)},Jn.hydrateRoot=function(a,c,h){if(!ug(a))throw Error(n(405));var v=h!=null&&h.hydratedSources||null,P=!1,A="",_=aP;if(h!=null&&(h.unstable_strictMode===!0&&(P=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&(_=h.onRecoverableError)),c=iP(c,null,a,1,h??null,P,!1,A,_),a[_i]=c.current,Ol(a),v)for(a=0;a<v.length;a++)h=v[a],P=h._getVersion,P=P(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,P]:c.mutableSourceEagerHydrationData.push(h,P);return new kd(c)},Jn.render=function(a,c,h){if(!Ed(c))throw Error(n(200));return Nd(null,a,c,!1,h)},Jn.unmountComponentAtNode=function(a){if(!Ed(a))throw Error(n(40));return a._reactRootContainer?(oa(function(){Nd(null,null,a,!1,function(){a._reactRootContainer=null,a[_i]=null})}),!0):!1},Jn.unstable_batchedUpdates=tg,Jn.unstable_renderSubtreeIntoContainer=function(a,c,h,v){if(!Ed(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Nd(a,c,h,!1,v)},Jn.version="18.3.1-next-f1338f8080-20240426",Jn}var mP;function cO(){if(mP)return pg.exports;mP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pg.exports=y3(),pg.exports}var gP;function x3(){if(gP)return jd;gP=1;var e=cO();return jd.createRoot=e.createRoot,jd.hydrateRoot=e.hydrateRoot,jd}var b3=x3();const w3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uO=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var S3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const P3=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...l},u)=>S.createElement("svg",{ref:u,...S3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:uO("lucide",i),...l},[...s.map(([d,f])=>S.createElement(d,f)),...Array.isArray(o)?o:[o]]));const We=(e,t)=>{const n=S.forwardRef(({className:r,...i},o)=>S.createElement(P3,{ref:o,iconNode:t,className:uO(`lucide-${w3(e)}`,r),...i}));return n.displayName=`${e}`,n};const dO=We("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);const fO=We("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const C3=We("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const A3=We("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);const Os=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Cy=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const k3=We("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const E3=We("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const N3=We("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const O3=We("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const pO=We("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);const j3=We("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const _3=We("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const T3=We("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);const vP=We("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const hO=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const D3=We("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);const M3=We("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const I3=We("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const R3=We("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);const yP=We("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const mO=We("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const L3=We("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const js=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const F3=We("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);const $3=We("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const B3=We("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const z3=We("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);const W3=We("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const V3=We("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const Ms=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const U3=We("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);const xP=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const H3=We("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const G3=We("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);const Is=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const K3=We("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Y3=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const q3=We("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const X3=We("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Z3=We("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Q3=We("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const wf=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const bP=We("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Rs=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const J3=We("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);const e4=We("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const t4=We("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),n4=[{id:"agent",label:"LeapOS",icon:C3},{id:"lens",label:"Lens Designer",icon:N3},{id:"system",label:"System Editor",icon:mO},{id:"coating",label:"Coating Lab",icon:dO},{id:"info",label:"User Guide",icon:fO},{id:"properties",label:"Properties",icon:Y3},{id:"export",label:"Export",icon:T3}];function r4({activeTab:e,onTabChange:t,loadedFileName:n}){return y.jsx("div",{className:"glass-card border-b border-white/10 rounded-none",children:y.jsxs("nav",{className:"flex items-center gap-1 px-6 py-3",children:[y.jsxs("div",{className:"flex items-center gap-4 mr-8",children:[y.jsx("span",{className:"text-cyan-electric font-semibold text-lg",children:"Photon Leap"}),n&&y.jsxs("span",{className:"text-slate-400 text-sm font-medium",children:["File: ",n]})]}),n4.map(r=>{const i=r.icon,o=e===r.id;return y.jsxs("button",{"data-testid":`nav-${r.id}`,onClick:()=>t(r.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${o?"text-cyan-electric bg-white/10":"text-slate-300 hover:text-cyan-electric hover:bg-white/5"}`,children:[y.jsx(i,{className:"w-4 h-4",strokeWidth:2}),y.jsx("span",{className:"text-sm font-medium",children:r.label})]},r.id)})]})})}const gO=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0,Me={apiBaseUrl:"http://localhost:8000",viewport:{width:640,height:320},rayCount:{min:3,max:21},defaults:{entrancePupilDiameter:10,wavelengths:[587.6,486.1,656.3],fieldAngles:[0,7,14],numRays:9,defaultWavelength:587.6,defaultFieldAngle:7},surfaceDefaults:{thickness:10,diameter:25,refractiveIndex:1},view:{padding:40,scaleFactor:.9,minZExtent:30,extendZFactor:.2,extendZMin:50},maxFieldAngles:3,rayColors:["#22D3EE","#22C55E","#F97316"],paraxial:{focusYFactor:.15,lensToFocusFactor:.3},toastDuration:2500,thermalPowerThresholdW:1,llm:{anthropicApiKey:"",openaiApiKey:"",deepseekApiKey:""},agentRmsThresholdUm:1e3,agentMaxBenchSizeMm:500,agentMaxAspectRatio:20,localAgent:{apiBase:"http://localhost:1234/v1",apiKey:"lm-studio",modelId:"deepseek-r1-distill-qwen-32b-mlx"}};let cr=null,_d=null;function i4(){const e=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=`${e.endsWith("/")?e:`${e}/`}pyodide/worker.js`;return typeof location<"u"?new URL(n,location.href).href:n.startsWith("http")?n:typeof document<"u"?new URL(n,document.baseURI).href:n}async function jp(){return cr||(_d?(await _d,cr):(_d=(async()=>{cr=new Worker(i4(),{type:"classic"}),cr.addEventListener("message",e=>{e.data?.type==="log"&&(e.data.lines||[]).forEach(t=>console.log("%c[Python]","color: #4CAF50",t))}),await new Promise((e,t)=>{const n=i=>{i.data?.type==="ready"&&(cr.removeEventListener("message",n),cr.removeEventListener("error",r),i.data.error?t(new Error(i.data.error)):e())},r=i=>{cr.removeEventListener("message",n),cr.removeEventListener("error",r),t(i)};cr.addEventListener("message",n),cr.addEventListener("error",r),cr.postMessage({type:"init"})})})(),await _d,cr))}async function o4(e){const t=await jp(),n={surfaces:e.surfaces.map(i=>({id:i.id,type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,coating:i.coating,sellmeierCoefficients:i.sellmeierCoefficients,coatingDataPoints:i.coatingDataPoints,coatingConstantValue:i.coatingConstantValue,coatingIsHr:i.coatingIsHr})),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:(e.fieldAngles??[0]).slice(0,Me.maxFieldAngles),numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1},r=`trace-${Date.now()}-${Math.random().toString(36).slice(2)}`;return new Promise((i,o)=>{const s=l=>{l.data?.type==="trace"&&l.data.id===r&&(t.removeEventListener("message",s),l.data.error?o(new Error(l.data.error)):i(l.data.result))};t.addEventListener("message",s),t.postMessage({type:"trace",id:r,payload:n})})}async function a4(e){const t=await jp(),n={surfaces:e.surfaces.map(i=>({id:i.id,type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,sellmeierCoefficients:i.sellmeierCoefficients})),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:(e.fieldAngles??[0]).slice(0,Me.maxFieldAngles),numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1,wavelength_min_nm:e.wavelength_min_nm??400,wavelength_max_nm:e.wavelength_max_nm??1100,wavelength_step_nm:e.wavelength_step_nm??10},r=`chromatic-${Date.now()}-${Math.random().toString(36).slice(2)}`;return new Promise((i,o)=>{const s=l=>{l.data?.type==="chromatic-shift"&&l.data.id===r&&(t.removeEventListener("message",s),l.data.error?o(new Error(l.data.error)):i(l.data.result??[]))};t.addEventListener("message",s),t.postMessage({type:"chromatic-shift",id:r,payload:n})})}async function s4(e){const t=await jp(),n={surfaces:e.surfaces.map(i=>({id:i.id,type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,sellmeierCoefficients:i.sellmeierCoefficients})),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:(e.fieldAngles??[0]).slice(0,Me.maxFieldAngles),numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1},r=`optimize-${Date.now()}-${Math.random().toString(36).slice(2)}`;return new Promise((i,o)=>{const s=l=>{l.data?.type==="optimize-colors"&&l.data.id===r&&(t.removeEventListener("message",s),l.data.error?o(new Error(l.data.error)):i(l.data.result??{recommended_glass:"",estimated_lca_reduction:0}))};t.addEventListener("message",s),t.postMessage({type:"optimize-colors",id:r,payload:n})})}function l4(){return!0}function c4(){return jp().then(()=>{})}const Q0=S.createContext({});function J0(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const _p=S.createContext(null),ex=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class u4 extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d4({children:e,isPresent:t}){const n=S.useId(),r=S.useRef(null),i=S.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=S.useContext(ex);return S.useInsertionEffect(()=>{const{width:s,height:l,top:u,left:d}=i.current;if(t||!r.current||!s||!l)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return o&&(f.nonce=o),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),y.jsx(u4,{isPresent:t,childRef:r,sizeRef:i,children:S.cloneElement(e,{ref:r})})}const f4=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const l=J0(p4),u=S.useId(),d=S.useCallback(p=>{l.set(p,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),f=S.useMemo(()=>({id:u,initial:t,isPresent:n,custom:i,onExitComplete:d,register:p=>(l.set(p,!1),()=>l.delete(p))}),o?[Math.random(),d]:[n,d]);return S.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),S.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),s==="popLayout"&&(e=y.jsx(d4,{isPresent:n,children:e})),y.jsx(_p.Provider,{value:f,children:e})};function p4(){return new Map}function vO(e=!0){const t=S.useContext(_p);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=S.useId();S.useEffect(()=>{e&&i(o)},[e]);const s=S.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}const Td=e=>e.key||"";function wP(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const tx=typeof window<"u",yO=tx?S.useLayoutEffect:S.useEffect,ni=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1})=>{const[l,u]=vO(s),d=S.useMemo(()=>wP(e),[e]),f=s&&!l?[]:d.map(Td),p=S.useRef(!0),m=S.useRef(d),g=J0(()=>new Map),[x,w]=S.useState(d),[b,C]=S.useState(d);yO(()=>{p.current=!1,m.current=d;for(let N=0;N<b.length;N++){const j=Td(b[N]);f.includes(j)?g.delete(j):g.get(j)!==!0&&g.set(j,!1)}},[b,f.length,f.join("-")]);const k=[];if(d!==x){let N=[...d];for(let j=0;j<b.length;j++){const O=b[j],T=Td(O);f.includes(T)||(N.splice(j,0,O),k.push(O))}o==="wait"&&k.length&&(N=k),C(wP(N)),w(d);return}const{forceRender:E}=S.useContext(Q0);return y.jsx(y.Fragment,{children:b.map(N=>{const j=Td(N),O=s&&!l?!1:d===b||f.includes(j),T=()=>{if(g.has(j))g.set(j,!0);else return;let D=!0;g.forEach(B=>{B||(D=!1)}),D&&(E?.(),C(m.current),s&&u?.(),r&&r())};return y.jsx(f4,{isPresent:O,initial:!p.current||n?void 0:!1,custom:O?void 0:t,presenceAffectsLayout:i,mode:o,onExitComplete:O?void 0:T,children:N},j)})})},hr=e=>e;let xO=hr;function nx(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ls=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ui=e=>e*1e3,Hi=e=>e/1e3,h4={useManualTiming:!1};function m4(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(u.schedule(d),e()),d(s)}const u={schedule:(d,f=!1,p=!1)=>{const g=p&&r?t:n;return f&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(s=d,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,i&&(i=!1,u.process(d))}};return u}const Dd=["read","resolveKeyframes","update","preRender","render","postRender"],g4=40;function bO(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Dd.reduce((C,k)=>(C[k]=m4(o),C),{}),{read:l,resolveKeyframes:u,update:d,preRender:f,render:p,postRender:m}=s,g=()=>{const C=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(C-i.timestamp,g4),1),i.timestamp=C,i.isProcessing=!0,l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},x=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:Dd.reduce((C,k)=>{const E=s[k];return C[k]=(N,j=!1,O=!1)=>(n||x(),E.schedule(N,j,O)),C},{}),cancel:C=>{for(let k=0;k<Dd.length;k++)s[Dd[k]].cancel(C)},state:i,steps:s}}const{schedule:kt,cancel:zo,state:Sn,steps:gg}=bO(typeof requestAnimationFrame<"u"?requestAnimationFrame:hr,!0),wO=S.createContext({strict:!1}),SP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fs={};for(const e in SP)Fs[e]={isEnabled:t=>SP[e].some(n=>!!t[n])};function v4(e){for(const t in e)Fs[t]={...Fs[t],...e[t]}}const y4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||y4.has(e)}let SO=e=>!Sf(e);function x4(e){e&&(SO=t=>t.startsWith("on")?!Sf(t):e(t))}try{x4(require("@emotion/is-prop-valid").default)}catch{}function b4(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(SO(i)||n===!0&&Sf(i)||!t&&!Sf(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function w4(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Tp=S.createContext({});function Sc(e){return typeof e=="string"||Array.isArray(e)}function Dp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const rx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ix=["initial",...rx];function Mp(e){return Dp(e.animate)||ix.some(t=>Sc(e[t]))}function PO(e){return!!(Mp(e)||e.variants)}function S4(e,t){if(Mp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Sc(n)?n:void 0,animate:Sc(r)?r:void 0}}return e.inherit!==!1?t:{}}function P4(e){const{initial:t,animate:n}=S4(e,S.useContext(Tp));return S.useMemo(()=>({initial:t,animate:n}),[PP(t),PP(n)])}function PP(e){return Array.isArray(e)?e.join(" "):e}const C4=Symbol.for("motionComponentSymbol");function bs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function A4(e,t,n){return S.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):bs(n)&&(n.current=r))},[t])}const ox=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),k4="framerAppearId",CO="data-"+ox(k4),{schedule:ax}=bO(queueMicrotask,!1),AO=S.createContext({});function E4(e,t,n,r,i){var o,s;const{visualElement:l}=S.useContext(Tp),u=S.useContext(wO),d=S.useContext(_p),f=S.useContext(ex).reducedMotion,p=S.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,g=S.useContext(AO);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&N4(p.current,n,i,g);const x=S.useRef(!1);S.useInsertionEffect(()=>{m&&x.current&&m.update(n,d)});const w=n[CO],b=S.useRef(!!w&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,w))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,w)));return yO(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),ax.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),S.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,w)}),b.current=!1))}),m}function N4(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:l,layoutScroll:u,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:kO(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||l&&bs(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:d})}function kO(e){if(e)return e.options.allowProjection!==!1?e.projection:kO(e.parent)}function O4({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var o,s;e&&v4(e);function l(d,f){let p;const m={...S.useContext(ex),...d,layoutId:j4(d)},{isStatic:g}=m,x=P4(d),w=r(d,g);if(!g&&tx){_4();const b=T4(m);p=b.MeasureLayout,x.visualElement=E4(i,w,m,t,b.ProjectionNode)}return y.jsxs(Tp.Provider,{value:x,children:[p&&x.visualElement?y.jsx(p,{visualElement:x.visualElement,...m}):null,n(i,d,A4(w,x.visualElement,f),w,g,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(s=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&s!==void 0?s:""})`}`;const u=S.forwardRef(l);return u[C4]=i,u}function j4({layoutId:e}){const t=S.useContext(Q0).id;return t&&e!==void 0?t+"-"+e:e}function _4(e,t){S.useContext(wO).strict}function T4(e){const{drag:t,layout:n}=Fs;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const D4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sx(e){return typeof e!="string"||e.includes("-")?!1:!!(D4.indexOf(e)>-1||/[A-Z]/u.test(e))}function CP(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function lx(e,t,n,r){if(typeof t=="function"){const[i,o]=CP(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=CP(r);t=t(n!==void 0?n:e.custom,i,o)}return t}const Ay=e=>Array.isArray(e),M4=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),I4=e=>Ay(e)?e[e.length-1]||0:e,Fn=e=>!!(e&&e.getVelocity);function lf(e){const t=Fn(e)?e.get():e;return M4(t)?t.toValue():t}function R4({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,o){const s={latestValues:L4(r,i,o,e),renderState:t()};return n&&(s.onMount=l=>n({props:r,current:l,...s}),s.onUpdate=l=>n(l)),s}const EO=e=>(t,n)=>{const r=S.useContext(Tp),i=S.useContext(_p),o=()=>R4(e,t,r,i);return n?o():J0(o)};function L4(e,t,n,r){const i={},o=r(e,{});for(const m in o)i[m]=lf(o[m]);let{initial:s,animate:l}=e;const u=Mp(e),d=PO(e);t&&d&&!u&&e.inherit!==!1&&(s===void 0&&(s=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||s===!1;const p=f?l:s;if(p&&typeof p!="boolean"&&!Dp(p)){const m=Array.isArray(p)?p:[p];for(let g=0;g<m.length;g++){const x=lx(e,m[g]);if(x){const{transitionEnd:w,transition:b,...C}=x;for(const k in C){let E=C[k];if(Array.isArray(E)){const N=f?E.length-1:0;E=E[N]}E!==null&&(i[k]=E)}for(const k in w)i[k]=w[k]}}}return i}const qs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$a=new Set(qs),NO=e=>t=>typeof t=="string"&&t.startsWith(e),OO=NO("--"),F4=NO("var(--"),cx=e=>F4(e)?$4.test(e.split("/*")[0].trim()):!1,$4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jO=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Yi=(e,t,n)=>n>t?t:n<e?e:n,Xs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pc={...Xs,transform:e=>Yi(0,1,e)},Md={...Xs,default:1},Zc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_o=Zc("deg"),wi=Zc("%"),Be=Zc("px"),B4=Zc("vh"),z4=Zc("vw"),AP={...wi,parse:e=>wi.parse(e)/100,transform:e=>wi.transform(e*100)},W4={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,backgroundPositionX:Be,backgroundPositionY:Be},V4={rotate:_o,rotateX:_o,rotateY:_o,rotateZ:_o,scale:Md,scaleX:Md,scaleY:Md,scaleZ:Md,skew:_o,skewX:_o,skewY:_o,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:Pc,originX:AP,originY:AP,originZ:Be},kP={...Xs,transform:Math.round},ux={...W4,...V4,zIndex:kP,size:Be,fillOpacity:Pc,strokeOpacity:Pc,numOctaves:kP},U4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H4=qs.length;function G4(e,t,n){let r="",i=!0;for(let o=0;o<H4;o++){const s=qs[o],l=e[s];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(s.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=jO(l,ux[s]);if(!u){i=!1;const f=U4[s]||s;r+=`${f}(${d}) `}n&&(t[s]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function dx(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,l=!1;for(const u in t){const d=t[u];if($a.has(u)){s=!0;continue}else if(OO(u)){i[u]=d;continue}else{const f=jO(d,ux[u]);u.startsWith("origin")?(l=!0,o[u]=f):r[u]=f}}if(t.transform||(s||n?r.transform=G4(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=o;r.transformOrigin=`${u} ${d} ${f}`}}const K4={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y4={offset:"strokeDashoffset",array:"strokeDasharray"};function q4(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?K4:Y4;e[o.offset]=Be.transform(-r);const s=Be.transform(t),l=Be.transform(n);e[o.array]=`${s} ${l}`}function EP(e,t,n){return typeof e=="string"?e:Be.transform(t+n*e)}function X4(e,t,n){const r=EP(t,e.x,e.width),i=EP(n,e.y,e.height);return`${r} ${i}`}function fx(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:l=1,pathOffset:u=0,...d},f,p){if(dx(e,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:x}=e;m.transform&&(x&&(g.transform=m.transform),delete m.transform),x&&(i!==void 0||o!==void 0||g.transform)&&(g.transformOrigin=X4(x,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&q4(m,s,l,u,!1)}const px=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),_O=()=>({...px(),attrs:{}}),hx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function TO(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const DO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MO(e,t,n,r){TO(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(DO.has(i)?i:ox(i),t.attrs[i])}const Pf={};function Z4(e){Object.assign(Pf,e)}function IO(e,{layout:t,layoutId:n}){return $a.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Pf[e]||e==="opacity")}function mx(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(Fn(i[s])||t.style&&Fn(t.style[s])||IO(s,e)||((r=n?.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function RO(e,t,n){const r=mx(e,t,n);for(const i in e)if(Fn(e[i])||Fn(t[i])){const o=qs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}function Q4(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const NP=["x","y","width","height","cx","cy","r"],J4={useVisualState:EO({scrapeMotionValuesFromProps:RO,createRenderState:_O,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!e.drag;if(!o){for(const l in i)if($a.has(l)){o=!0;break}}if(!o)return;let s=!t;if(t)for(let l=0;l<NP.length;l++){const u=NP[l];e[u]!==t[u]&&(s=!0)}s&&kt.read(()=>{Q4(n,r),kt.render(()=>{fx(r,i,hx(n.tagName),e.transformTemplate),MO(n,r)})})}})},eF={useVisualState:EO({scrapeMotionValuesFromProps:mx,createRenderState:px})};function LO(e,t,n){for(const r in t)!Fn(t[r])&&!IO(r,n)&&(e[r]=t[r])}function tF({transformTemplate:e},t){return S.useMemo(()=>{const n=px();return dx(n,t,e),Object.assign({},n.vars,n.style)},[t])}function nF(e,t){const n=e.style||{},r={};return LO(r,n,e),Object.assign(r,tF(e,t)),r}function rF(e,t){const n={},r=nF(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function iF(e,t,n,r){const i=S.useMemo(()=>{const o=_O();return fx(o,t,hx(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};LO(o,e.style,e),i.style={...o,...i.style}}return i}function oF(e=!1){return(n,r,i,{latestValues:o},s)=>{const u=(sx(n)?iF:rF)(r,o,s,n),d=b4(r,typeof n=="string",e),f=n!==S.Fragment?{...d,...u,ref:i}:{},{children:p}=r,m=S.useMemo(()=>Fn(p)?p.get():p,[p]);return S.createElement(n,{...f,children:m})}}function aF(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...sx(r)?J4:eF,preloadedFeatures:e,useRender:oF(i),createVisualElement:t,Component:r};return O4(s)}}function FO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ip(e,t,n){const r=e.getProps();return lx(r,t,n!==void 0?n:r.custom,e)}const sF=nx(()=>window.ScrollTimeline!==void 0);class lF{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(sF()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class cF extends lF{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function gx(e,t){return e?e[t]||e.default||e:void 0}const ky=2e4;function $O(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ky;)t+=n,r=e.next(t);return t>=ky?1/0:t}function vx(e){return typeof e=="function"}function OP(e,t){e.timeline=t,e.onfinish=null}const yx=e=>Array.isArray(e)&&typeof e[0]=="number",uF={linearEasing:void 0};function dF(e,t){const n=nx(e);return()=>{var r;return(r=uF[t])!==null&&r!==void 0?r:n()}}const Cf=dF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),BO=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(Ls(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function zO(e){return!!(typeof e=="function"&&Cf()||!e||typeof e=="string"&&(e in Ey||Cf())||yx(e)||Array.isArray(e)&&e.every(zO))}const sc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ey={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sc([0,.65,.55,1]),circOut:sc([.55,0,1,.45]),backIn:sc([.31,.01,.66,-.59]),backOut:sc([.33,1.53,.69,.99])};function WO(e,t){if(e)return typeof e=="function"&&Cf()?BO(e,t):yx(e)?sc(e):Array.isArray(e)?e.map(n=>WO(n,t)||Ey.easeOut):Ey[e]}const qr={x:!1,y:!1};function VO(){return qr.x||qr.y}function fF(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function UO(e,t){const n=fF(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function jP(e){return t=>{t.pointerType==="touch"||VO()||e(t)}}function pF(e,t,n={}){const[r,i,o]=UO(e,n),s=jP(l=>{const{target:u}=l,d=t(l);if(typeof d!="function"||!u)return;const f=jP(p=>{d(p),u.removeEventListener("pointerleave",f)});u.addEventListener("pointerleave",f,i)});return r.forEach(l=>{l.addEventListener("pointerenter",s,i)}),o}const HO=(e,t)=>t?e===t?!0:HO(e,t.parentElement):!1,xx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,hF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mF(e){return hF.has(e.tagName)||e.tabIndex!==-1}const lc=new WeakSet;function _P(e){return t=>{t.key==="Enter"&&e(t)}}function vg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const gF=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=_P(()=>{if(lc.has(n))return;vg(n,"down");const i=_P(()=>{vg(n,"up")}),o=()=>vg(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function TP(e){return xx(e)&&!VO()}function vF(e,t,n={}){const[r,i,o]=UO(e,n),s=l=>{const u=l.currentTarget;if(!TP(l)||lc.has(u))return;lc.add(u);const d=t(l),f=(g,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),!(!TP(g)||!lc.has(u))&&(lc.delete(u),typeof d=="function"&&d(g,{success:x}))},p=g=>{f(g,n.useGlobalTarget||HO(u,g.target))},m=g=>{f(g,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(l=>{!mF(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",s,i),l.addEventListener("focus",d=>gF(d,i),i)}),o}function yF(e){return e==="x"||e==="y"?qr[e]?null:(qr[e]=!0,()=>{qr[e]=!1}):qr.x||qr.y?null:(qr.x=qr.y=!0,()=>{qr.x=qr.y=!1})}const GO=new Set(["width","height","top","left","right","bottom",...qs]);let cf;function xF(){cf=void 0}const Si={now:()=>(cf===void 0&&Si.set(Sn.isProcessing||h4.useManualTiming?Sn.timestamp:performance.now()),cf),set:e=>{cf=e,queueMicrotask(xF)}};function bx(e,t){e.indexOf(t)===-1&&e.push(t)}function wx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Sx{constructor(){this.subscriptions=[]}add(t){return bx(this.subscriptions,t),()=>wx(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function KO(e,t){return t?e*(1e3/t):0}const DP=30,bF=e=>!isNaN(parseFloat(e));class wF{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Si.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Si.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=bF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Sx);const r=this.events[t].add(n);return t==="change"?()=>{r(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Si.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>DP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,DP);return KO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cc(e,t){return new wF(e,t)}function SF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Cc(n))}function PF(e,t){const n=Ip(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const l=I4(o[s]);SF(e,s,l)}}function CF(e){return!!(Fn(e)&&e.add)}function Ny(e,t){const n=e.getValue("willChange");if(CF(n))return n.add(t)}function YO(e){return e.props[CO]}const qO=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,AF=1e-7,kF=12;function EF(e,t,n,r,i){let o,s,l=0;do s=t+(n-t)/2,o=qO(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>AF&&++l<kF);return s}function Qc(e,t,n,r){if(e===t&&n===r)return hr;const i=o=>EF(o,0,1,e,n);return o=>o===0||o===1?o:qO(i(o),t,r)}const XO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ZO=e=>t=>1-e(1-t),QO=Qc(.33,1.53,.69,.99),Px=ZO(QO),JO=XO(Px),ej=e=>(e*=2)<1?.5*Px(e):.5*(2-Math.pow(2,-10*(e-1))),Cx=e=>1-Math.sin(Math.acos(e)),tj=ZO(Cx),nj=XO(Cx),rj=e=>/^0[^.\s]+$/u.test(e);function NF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||rj(e):!0}const pc=e=>Math.round(e*1e5)/1e5,Ax=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OF(e){return e==null}const jF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kx=(e,t)=>n=>!!(typeof n=="string"&&jF.test(n)&&n.startsWith(e)||t&&!OF(n)&&Object.prototype.hasOwnProperty.call(n,t)),ij=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,l]=r.match(Ax);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},_F=e=>Yi(0,255,e),yg={...Xs,transform:e=>Math.round(_F(e))},xa={test:kx("rgb","red"),parse:ij("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+yg.transform(e)+", "+yg.transform(t)+", "+yg.transform(n)+", "+pc(Pc.transform(r))+")"};function TF(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Oy={test:kx("#"),parse:TF,transform:xa.transform},ws={test:kx("hsl","hue"),parse:ij("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+wi.transform(pc(t))+", "+wi.transform(pc(n))+", "+pc(Pc.transform(r))+")"},In={test:e=>xa.test(e)||Oy.test(e)||ws.test(e),parse:e=>xa.test(e)?xa.parse(e):ws.test(e)?ws.parse(e):Oy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xa.transform(e):ws.transform(e)},DF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MF(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ax))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(DF))===null||n===void 0?void 0:n.length)||0)>0}const oj="number",aj="color",IF="var",RF="var(",MP="${}",LF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ac(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const l=t.replace(LF,u=>(In.test(u)?(r.color.push(o),i.push(aj),n.push(In.parse(u))):u.startsWith(RF)?(r.var.push(o),i.push(IF),n.push(u)):(r.number.push(o),i.push(oj),n.push(parseFloat(u))),++o,MP)).split(MP);return{values:n,split:l,indexes:r,types:i}}function sj(e){return Ac(e).values}function lj(e){const{split:t,types:n}=Ac(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const l=n[s];l===oj?o+=pc(i[s]):l===aj?o+=In.transform(i[s]):o+=i[s]}return o}}const FF=e=>typeof e=="number"?0:e;function $F(e){const t=sj(e);return lj(e)(t.map(FF))}const Wo={test:MF,parse:sj,createTransformer:lj,getAnimatableNone:$F},BF=new Set(["brightness","contrast","saturate","opacity"]);function zF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ax)||[];if(!r)return e;const i=n.replace(r,"");let o=BF.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const WF=/\b([a-z-]*)\(.*?\)/gu,jy={...Wo,getAnimatableNone:e=>{const t=e.match(WF);return t?t.map(zF).join(" "):e}},VF={...ux,color:In,backgroundColor:In,outlineColor:In,fill:In,stroke:In,borderColor:In,borderTopColor:In,borderRightColor:In,borderBottomColor:In,borderLeftColor:In,filter:jy,WebkitFilter:jy},Ex=e=>VF[e];function cj(e,t){let n=Ex(e);return n!==jy&&(n=Wo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const UF=new Set(["auto","none","0"]);function HF(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!UF.has(o)&&Ac(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=cj(n,i)}const IP=e=>e===Xs||e===Be,RP=(e,t)=>parseFloat(e.split(", ")[t]),LP=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return RP(i[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?RP(o[1],e):0}},GF=new Set(["x","y","z"]),KF=qs.filter(e=>!GF.has(e));function YF(e){const t=[];return KF.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const $s={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:LP(4,13),y:LP(5,14)};$s.translateX=$s.x;$s.translateY=$s.y;const Aa=new Set;let _y=!1,Ty=!1;function uj(){if(Ty){const e=Array.from(Aa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=YF(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var l;(l=r.getValue(o))===null||l===void 0||l.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ty=!1,_y=!1,Aa.forEach(e=>e.complete()),Aa.clear()}function dj(){Aa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ty=!0)})}function qF(){dj(),uj()}class Nx{constructor(t,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Aa.add(this),_y||(_y=!0,kt.read(dj),kt.resolveKeyframes(uj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const s=i?.get(),l=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const u=r.readValue(n,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),i&&s===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Aa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Aa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fj=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),XF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZF(e){const t=XF.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function pj(e,t,n=1){const[r,i]=ZF(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return fj(s)?parseFloat(s):s}return cx(i)?pj(i,t,n+1):i}const hj=e=>t=>t.test(e),QF={test:e=>e==="auto",parse:e=>e},mj=[Xs,Be,wi,_o,z4,B4,QF],FP=e=>mj.find(hj(e));class gj extends Nx{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),cx(d))){const f=pj(d,n.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!GO.has(r)||t.length!==2)return;const[i,o]=t,s=FP(i),l=FP(o);if(s!==l)if(IP(s)&&IP(l))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)NF(t[i])&&r.push(i);r.length&&HF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$s[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,l=i[s];i[s]=$s[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,d])=>{n.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const $P=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Wo.test(e)||e==="0")&&!e.startsWith("url("));function JF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function e$(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=$P(i,t),l=$P(o,t);return!s||!l?!1:JF(e)||(n==="spring"||vx(n))&&r}const t$=e=>e!==null;function Rp(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(t$),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const n$=40;class vj{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Si.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>n$?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&qF(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Si.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:l,onUpdate:u,isGenerator:d}=this.options;if(!d&&!e$(t,r,i,o))if(s)this.options.duration=0;else{u&&u(Rp(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Lt=(e,t,n)=>e+(t-e)*n;function xg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function r$({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;i=xg(u,l,e+1/3),o=xg(u,l,e),s=xg(u,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function Af(e,t){return n=>n>0?t:e}const bg=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},i$=[Oy,xa,ws],o$=e=>i$.find(t=>t.test(e));function BP(e){const t=o$(e);if(!t)return!1;let n=t.parse(e);return t===ws&&(n=r$(n)),n}const zP=(e,t)=>{const n=BP(e),r=BP(t);if(!n||!r)return Af(e,t);const i={...n};return o=>(i.red=bg(n.red,r.red,o),i.green=bg(n.green,r.green,o),i.blue=bg(n.blue,r.blue,o),i.alpha=Lt(n.alpha,r.alpha,o),xa.transform(i))},a$=(e,t)=>n=>t(e(n)),Jc=(...e)=>e.reduce(a$),Dy=new Set(["none","hidden"]);function s$(e,t){return Dy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function l$(e,t){return n=>Lt(e,t,n)}function Ox(e){return typeof e=="number"?l$:typeof e=="string"?cx(e)?Af:In.test(e)?zP:d$:Array.isArray(e)?yj:typeof e=="object"?In.test(e)?zP:c$:Af}function yj(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>Ox(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function c$(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Ox(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function u$(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],l=e.indexes[s][i[s]],u=(n=e.values[l])!==null&&n!==void 0?n:0;r[o]=u,i[s]++}return r}const d$=(e,t)=>{const n=Wo.createTransformer(t),r=Ac(e),i=Ac(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Dy.has(e)&&!i.values.length||Dy.has(t)&&!r.values.length?s$(e,t):Jc(yj(u$(r,i),i.values),n):Af(e,t)};function xj(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Lt(e,t,n):Ox(e)(e,t)}const f$=5;function bj(e,t,n){const r=Math.max(t-f$,0);return KO(n-e(r),t-r)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wg=.001;function p$({duration:e=Vt.duration,bounce:t=Vt.bounce,velocity:n=Vt.velocity,mass:r=Vt.mass}){let i,o,s=1-t;s=Yi(Vt.minDamping,Vt.maxDamping,s),e=Yi(Vt.minDuration,Vt.maxDuration,Hi(e)),s<1?(i=d=>{const f=d*s,p=f*e,m=f-n,g=My(d,s),x=Math.exp(-p);return wg-m/g*x},o=d=>{const p=d*s*e,m=p*n+n,g=Math.pow(s,2)*Math.pow(d,2)*e,x=Math.exp(-p),w=My(Math.pow(d,2),s);return(-i(d)+wg>0?-1:1)*((m-g)*x)/w}):(i=d=>{const f=Math.exp(-d*e),p=(d-n)*e+1;return-wg+f*p},o=d=>{const f=Math.exp(-d*e),p=(n-d)*(e*e);return f*p});const l=5/e,u=m$(i,o,l);if(e=Ui(e),isNaN(u))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:e};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:s*2*Math.sqrt(r*d),duration:e}}}const h$=12;function m$(e,t,n){let r=n;for(let i=1;i<h$;i++)r=r-e(r)/t(r);return r}function My(e,t){return e*Math.sqrt(1-t*t)}const g$=["duration","bounce"],v$=["stiffness","damping","mass"];function WP(e,t){return t.some(n=>e[n]!==void 0)}function y$(e){let t={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...e};if(!WP(e,v$)&&WP(e,g$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Yi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Vt.mass,stiffness:i,damping:o}}else{const n=p$(e);t={...t,...n,mass:Vt.mass},t.isResolvedFromDuration=!0}return t}function wj(e=Vt.visualDuration,t=Vt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:u,damping:d,mass:f,duration:p,velocity:m,isResolvedFromDuration:g}=y$({...n,velocity:-Hi(n.velocity||0)}),x=m||0,w=d/(2*Math.sqrt(u*f)),b=s-o,C=Hi(Math.sqrt(u/f)),k=Math.abs(b)<5;r||(r=k?Vt.restSpeed.granular:Vt.restSpeed.default),i||(i=k?Vt.restDelta.granular:Vt.restDelta.default);let E;if(w<1){const j=My(C,w);E=O=>{const T=Math.exp(-w*C*O);return s-T*((x+w*C*b)/j*Math.sin(j*O)+b*Math.cos(j*O))}}else if(w===1)E=j=>s-Math.exp(-C*j)*(b+(x+C*b)*j);else{const j=C*Math.sqrt(w*w-1);E=O=>{const T=Math.exp(-w*C*O),D=Math.min(j*O,300);return s-T*((x+w*C*b)*Math.sinh(D)+j*b*Math.cosh(D))/j}}const N={calculatedDuration:g&&p||null,next:j=>{const O=E(j);if(g)l.done=j>=p;else{let T=0;w<1&&(T=j===0?Ui(x):bj(E,j,O));const D=Math.abs(T)<=r,B=Math.abs(s-O)<=i;l.done=D&&B}return l.value=l.done?s:O,l},toString:()=>{const j=Math.min($O(N),ky),O=BO(T=>N.next(j*T).value,j,30);return j+"ms "+O}};return N}function VP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:u,restDelta:d=.5,restSpeed:f}){const p=e[0],m={done:!1,value:p},g=D=>l!==void 0&&D<l||u!==void 0&&D>u,x=D=>l===void 0?u:u===void 0||Math.abs(l-D)<Math.abs(u-D)?l:u;let w=n*t;const b=p+w,C=s===void 0?b:s(b);C!==b&&(w=C-p);const k=D=>-w*Math.exp(-D/r),E=D=>C+k(D),N=D=>{const B=k(D),X=E(D);m.done=Math.abs(B)<=d,m.value=m.done?C:X};let j,O;const T=D=>{g(m.value)&&(j=D,O=wj({keyframes:[m.value,x(m.value)],velocity:bj(E,D,m.value),damping:i,stiffness:o,restDelta:d,restSpeed:f}))};return T(0),{calculatedDuration:null,next:D=>{let B=!1;return!O&&j===void 0&&(B=!0,N(D),T(D)),j!==void 0&&D>=j?O.next(D-j):(!B&&N(D),m)}}}const x$=Qc(.42,0,1,1),b$=Qc(0,0,.58,1),Sj=Qc(.42,0,.58,1),w$=e=>Array.isArray(e)&&typeof e[0]!="number",S$={linear:hr,easeIn:x$,easeInOut:Sj,easeOut:b$,circIn:Cx,circInOut:nj,circOut:tj,backIn:Px,backInOut:JO,backOut:QO,anticipate:ej},UP=e=>{if(yx(e)){xO(e.length===4);const[t,n,r,i]=e;return Qc(t,n,r,i)}else if(typeof e=="string")return S$[e];return e};function P$(e,t,n){const r=[],i=n||xj,o=e.length-1;for(let s=0;s<o;s++){let l=i(e[s],e[s+1]);if(t){const u=Array.isArray(t)?t[s]||hr:t;l=Jc(u,l)}r.push(l)}return r}function C$(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(xO(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=P$(t,r,i),u=l.length,d=f=>{if(s&&f<e[0])return t[0];let p=0;if(u>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const m=Ls(e[p],e[p+1],f);return l[p](m)};return n?f=>d(Yi(e[0],e[o-1],f)):d}function A$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ls(0,t,r);e.push(Lt(n,1,i))}}function k$(e){const t=[0];return A$(t,e.length-1),t}function E$(e,t){return e.map(n=>n*t)}function N$(e,t){return e.map(()=>t||Sj).splice(0,e.length-1)}function kf({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=w$(r)?r.map(UP):UP(r),o={done:!1,value:t[0]},s=E$(n&&n.length===t.length?n:k$(t),e),l=C$(s,t,{ease:Array.isArray(i)?i:N$(t,i)});return{calculatedDuration:e,next:u=>(o.value=l(u),o.done=u>=e,o)}}const O$=e=>{const t=({timestamp:n})=>e(n);return{start:()=>kt.update(t,!0),stop:()=>zo(t),now:()=>Sn.isProcessing?Sn.timestamp:Si.now()}},j$={decay:VP,inertia:VP,tween:kf,keyframes:kf,spring:wj},_$=e=>e/100;class jx extends vj{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=i?.KeyframeResolver||Nx,l=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new s(o,l,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,l=vx(n)?n:j$[n]||kf;let u,d;l!==kf&&typeof t[0]!="number"&&(u=Jc(_$,xj(t[0],t[1])),t=[0,100]);const f=l({...this.options,keyframes:t});o==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=$O(f));const{calculatedDuration:p}=f,m=p+i,g=m*(r+1)-i;return{generator:f,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:p,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:d,totalDuration:f,resolvedDuration:p}=r;if(this.startTime===null)return o.next(0);const{delay:m,repeat:g,repeatType:x,repeatDelay:w,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-m*(this.speed>=0?1:-1),k=this.speed>=0?C<0:C>f;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let E=this.currentTime,N=o;if(g){const D=Math.min(this.currentTime,f)/p;let B=Math.floor(D),X=D%1;!X&&D>=1&&(X=1),X===1&&B--,B=Math.min(B,g+1),B%2&&(x==="reverse"?(X=1-X,w&&(X-=w/p)):x==="mirror"&&(N=s)),E=Yi(0,1,X)*p}const j=k?{done:!1,value:u[0]}:N.next(E);l&&(j.value=l(j.value));let{done:O}=j;!k&&d!==null&&(O=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return T&&i!==void 0&&(j.value=Rp(u,this.options,i)),b&&b(j.value),T&&this.finish(),j}get duration(){const{resolved:t}=this;return t?Hi(t.calculatedDuration):0}get time(){return Hi(this.currentTime)}set time(t){t=Ui(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Hi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=O$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const T$=new Set(["opacity","clipPath","filter","transform"]);function D$(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:l="easeInOut",times:u}={}){const d={[t]:n};u&&(d.offset=u);const f=WO(l,i);return Array.isArray(f)&&(d.easing=f),e.animate(d,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const M$=nx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ef=10,I$=2e4;function R$(e){return vx(e.type)||e.type==="spring"||!zO(e.ease)}function L$(e,t){const n=new jx({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<I$;)r=n.sample(o),i.push(r.value),o+=Ef;return{times:void 0,keyframes:i,duration:o-Ef,ease:"linear"}}const Pj={anticipate:ej,backInOut:JO,circInOut:nj};function F$(e){return e in Pj}class HP extends vj{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new gj(o,(s,l)=>this.onKeyframesResolved(s,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:l,name:u,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof o=="string"&&Cf()&&F$(o)&&(o=Pj[o]),R$(this.options)){const{onComplete:p,onUpdate:m,motionValue:g,element:x,...w}=this.options,b=L$(t,w);t=b.keyframes,t.length===1&&(t[1]=t[0]),r=b.duration,i=b.times,o=b.ease,s="keyframes"}const f=D$(l.owner.current,u,t,{...this.options,duration:r,times:i,ease:o});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(OP(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(Rp(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:s,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Hi(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Hi(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ui(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return hr;const{animation:r}=n;OP(r,t)}return hr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:f,onComplete:p,element:m,...g}=this.options,x=new jx({...g,keyframes:r,duration:i,type:o,ease:s,times:l,isGenerator:!0}),w=Ui(this.time);d.setWithVelocity(x.sample(w-Ef).value,x.sample(w).value,Ef)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=n.owner.getProps();return M$()&&r&&T$.has(r)&&!u&&!d&&!i&&o!=="mirror"&&s!==0&&l!=="inertia"}}const $$={type:"spring",stiffness:500,damping:25,restSpeed:10},B$=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),z$={type:"keyframes",duration:.8},W$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},V$=(e,{keyframes:t})=>t.length>2?z$:$a.has(e)?e.startsWith("scale")?B$(t[1]):$$:W$;function U$({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const _x=(e,t,n,r={},i,o)=>s=>{const l=gx(r,e)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ui(u);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:i};U$(l)||(f={...f,...V$(e,f)}),f.duration&&(f.duration=Ui(f.duration)),f.repeatDelay&&(f.repeatDelay=Ui(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!o&&t.get()!==void 0){const m=Rp(f.keyframes,l);if(m!==void 0)return kt.update(()=>{f.onUpdate(m),f.onComplete()}),new cF([])}return!o&&HP.supports(f)?new HP(f):new jx(f)};function H$({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Cj(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=e.getDefaultTransition(),transitionEnd:l,...u}=t;r&&(s=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in u){const m=e.getValue(p,(o=e.latestValues[p])!==null&&o!==void 0?o:null),g=u[p];if(g===void 0||f&&H$(f,p))continue;const x={delay:n,...gx(s||{},p)};let w=!1;if(window.MotionHandoffAnimation){const C=YO(e);if(C){const k=window.MotionHandoffAnimation(C,p,kt);k!==null&&(x.startTime=k,w=!0)}}Ny(e,p),m.start(_x(p,m,g,e.shouldReduceMotion&&GO.has(p)?{type:!1}:x,e,w));const b=m.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{kt.update(()=>{l&&PF(e,l)})}),d}function Iy(e,t,n={}){var r;const i=Ip(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(Cj(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=o;return G$(e,t,f+d,p,m,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[d,f]=u==="beforeChildren"?[s,l]:[l,s];return d().then(()=>f())}else return Promise.all([s(),l(n.delay)])}function G$(e,t,n=0,r=0,i=1,o){const s=[],l=(e.variantChildren.size-1)*r,u=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(K$).forEach((d,f)=>{d.notify("AnimationStart",t),s.push(Iy(d,t,{...o,delay:n+u(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(s)}function K$(e,t){return e.sortNodePosition(t)}function Y$(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>Iy(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=Iy(e,t,n);else{const i=typeof t=="function"?Ip(e,t,n.custom):t;r=Promise.all(Cj(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const q$=ix.length;function Aj(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Aj(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<q$;n++){const r=ix[n],i=e.props[r];(Sc(i)||i===!1)&&(t[r]=i)}return t}const X$=[...rx].reverse(),Z$=rx.length;function Q$(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Y$(e,n,r)))}function J$(e){let t=Q$(e),n=GP(),r=!0;const i=u=>(d,f)=>{var p;const m=Ip(e,f,u==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(m){const{transition:g,transitionEnd:x,...w}=m;d={...d,...w,...x}}return d};function o(u){t=u(e)}function s(u){const{props:d}=e,f=Aj(e.parent)||{},p=[],m=new Set;let g={},x=1/0;for(let b=0;b<Z$;b++){const C=X$[b],k=n[C],E=d[C]!==void 0?d[C]:f[C],N=Sc(E),j=C===u?k.isActive:null;j===!1&&(x=b);let O=E===f[C]&&E!==d[C]&&N;if(O&&r&&e.manuallyAnimateOnMount&&(O=!1),k.protectedKeys={...g},!k.isActive&&j===null||!E&&!k.prevProp||Dp(E)||typeof E=="boolean")continue;const T=eB(k.prevProp,E);let D=T||C===u&&k.isActive&&!O&&N||b>x&&N,B=!1;const X=Array.isArray(E)?E:[E];let G=X.reduce(i(C),{});j===!1&&(G={});const{prevResolvedValues:F={}}=k,W={...F,...G},de=ee=>{D=!0,m.has(ee)&&(B=!0,m.delete(ee)),k.needsAnimating[ee]=!0;const K=e.getValue(ee);K&&(K.liveStyle=!1)};for(const ee in W){const K=G[ee],ie=F[ee];if(g.hasOwnProperty(ee))continue;let ne=!1;Ay(K)&&Ay(ie)?ne=!FO(K,ie):ne=K!==ie,ne?K!=null?de(ee):m.add(ee):K!==void 0&&m.has(ee)?de(ee):k.protectedKeys[ee]=!0}k.prevProp=E,k.prevResolvedValues=G,k.isActive&&(g={...g,...G}),r&&e.blockInitialAnimation&&(D=!1),D&&(!(O&&T)||B)&&p.push(...X.map(ee=>({animation:ee,options:{type:C}})))}if(m.size){const b={};m.forEach(C=>{const k=e.getBaseTarget(C),E=e.getValue(C);E&&(E.liveStyle=!0),b[C]=k??null}),p.push({animation:b})}let w=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(p):Promise.resolve()}function l(u,d){var f;if(n[u].isActive===d)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(u,d)}),n[u].isActive=d;const p=s(u);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=GP(),r=!0}}}function eB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!FO(t,e):!1}function ca(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GP(){return{animate:ca(!0),whileInView:ca(),whileHover:ca(),whileTap:ca(),whileDrag:ca(),whileFocus:ca(),exit:ca()}}class Ko{constructor(t){this.isMounted=!1,this.node=t}update(){}}class tB extends Ko{constructor(t){super(t),t.animationState||(t.animationState=J$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Dp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let nB=0;class rB extends Ko{constructor(){super(...arguments),this.id=nB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const iB={animation:{Feature:tB},exit:{Feature:rB}};function kc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function eu(e){return{point:{x:e.pageX,y:e.pageY}}}const oB=e=>t=>xx(t)&&e(t,eu(t));function hc(e,t,n,r){return kc(e,t,oB(n),r)}const KP=(e,t)=>Math.abs(e-t);function aB(e,t){const n=KP(e.x,t.x),r=KP(e.y,t.y);return Math.sqrt(n**2+r**2)}class kj{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Pg(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=aB(p.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:x}=p,{timestamp:w}=Sn;this.history.push({...x,timestamp:w});const{onStart:b,onMove:C}=this.handlers;m||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Sg(m,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Pg(p.type==="pointercancel"?this.lastMoveEventInfo:Sg(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(p,b),x&&x(p,b)},!xx(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=eu(t),l=Sg(s,this.transformPagePoint),{point:u}=l,{timestamp:d}=Sn;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Pg(l,this.history)),this.removeListeners=Jc(hc(this.contextWindow,"pointermove",this.handlePointerMove),hc(this.contextWindow,"pointerup",this.handlePointerUp),hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zo(this.updatePoint)}}function Sg(e,t){return t?{point:t(e.point)}:e}function YP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Pg({point:e},t){return{point:e,delta:YP(e,Ej(t)),offset:YP(e,sB(t)),velocity:lB(t,.1)}}function sB(e){return e[0]}function Ej(e){return e[e.length-1]}function lB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Ej(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ui(t)));)n--;if(!r)return{x:0,y:0};const o=Hi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const Nj=1e-4,cB=1-Nj,uB=1+Nj,Oj=.01,dB=0-Oj,fB=0+Oj;function yr(e){return e.max-e.min}function pB(e,t,n){return Math.abs(e-t)<=n}function qP(e,t,n,r=.5){e.origin=r,e.originPoint=Lt(t.min,t.max,e.origin),e.scale=yr(n)/yr(t),e.translate=Lt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=cB&&e.scale<=uB||isNaN(e.scale))&&(e.scale=1),(e.translate>=dB&&e.translate<=fB||isNaN(e.translate))&&(e.translate=0)}function mc(e,t,n,r){qP(e.x,t.x,n.x,r?r.originX:void 0),qP(e.y,t.y,n.y,r?r.originY:void 0)}function XP(e,t,n){e.min=n.min+t.min,e.max=e.min+yr(t)}function hB(e,t,n){XP(e.x,t.x,n.x),XP(e.y,t.y,n.y)}function ZP(e,t,n){e.min=t.min-n.min,e.max=e.min+yr(t)}function gc(e,t,n){ZP(e.x,t.x,n.x),ZP(e.y,t.y,n.y)}function mB(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Lt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Lt(n,e,r.max):Math.min(e,n)),e}function QP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function gB(e,{top:t,left:n,bottom:r,right:i}){return{x:QP(e.x,n,i),y:QP(e.y,t,r)}}function JP(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function vB(e,t){return{x:JP(e.x,t.x),y:JP(e.y,t.y)}}function yB(e,t){let n=.5;const r=yr(e),i=yr(t);return i>r?n=Ls(t.min,t.max-r,e.min):r>i&&(n=Ls(e.min,e.max-i,t.min)),Yi(0,1,n)}function xB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ry=.35;function bB(e=Ry){return e===!1?e=0:e===!0&&(e=Ry),{x:e2(e,"left","right"),y:e2(e,"top","bottom")}}function e2(e,t,n){return{min:t2(e,t),max:t2(e,n)}}function t2(e,t){return typeof e=="number"?e:e[t]||0}const n2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ss=()=>({x:n2(),y:n2()}),r2=()=>({min:0,max:0}),Kt=()=>({x:r2(),y:r2()});function Tr(e){return[e("x"),e("y")]}function jj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function wB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function SB(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Cg(e){return e===void 0||e===1}function Ly({scale:e,scaleX:t,scaleY:n}){return!Cg(e)||!Cg(t)||!Cg(n)}function pa(e){return Ly(e)||_j(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _j(e){return i2(e.x)||i2(e.y)}function i2(e){return e&&e!=="0%"}function Nf(e,t,n){const r=e-n,i=t*r;return n+i}function o2(e,t,n,r,i){return i!==void 0&&(e=Nf(e,i,r)),Nf(e,n,r)+t}function Fy(e,t=0,n=1,r,i){e.min=o2(e.min,t,n,r,i),e.max=o2(e.max,t,n,r,i)}function Tj(e,{x:t,y:n}){Fy(e.x,t.translate,t.scale,t.originPoint),Fy(e.y,n.translate,n.scale,n.originPoint)}const a2=.999999999999,s2=1.0000000000001;function PB(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let l=0;l<i;l++){o=n[l],s=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Cs(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Tj(e,s)),r&&pa(o.latestValues)&&Cs(e,o.latestValues))}t.x<s2&&t.x>a2&&(t.x=1),t.y<s2&&t.y>a2&&(t.y=1)}function Ps(e,t){e.min=e.min+t,e.max=e.max+t}function l2(e,t,n,r,i=.5){const o=Lt(e.min,e.max,i);Fy(e,t,n,o,r)}function Cs(e,t){l2(e.x,t.x,t.scaleX,t.scale,t.originX),l2(e.y,t.y,t.scaleY,t.scale,t.originY)}function Dj(e,t){return jj(SB(e.getBoundingClientRect(),t))}function CB(e,t,n){const r=Dj(e,n),{scroll:i}=t;return i&&(Ps(r.x,i.offset.x),Ps(r.y,i.offset.y)),r}const Mj=({current:e})=>e?e.ownerDocument.defaultView:null,AB=new WeakMap;class kB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(eu(f).point)},o=(f,p)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yF(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tr(b=>{let C=this.getAxisMotionValue(b).get()||0;if(wi.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const E=k.layout.layoutBox[b];E&&(C=yr(E)*(parseFloat(C)/100))}}this.originPoint[b]=C}),x&&kt.postRender(()=>x(f,p)),Ny(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},s=(f,p)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=p;if(g&&this.currentDirection===null){this.currentDirection=EB(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,b),this.updateAxis("y",p.point,b),this.visualElement.render(),w&&w(f,p)},l=(f,p)=>this.stop(f,p),u=()=>Tr(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new kj(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Mj(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&kt.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Id(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=mB(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&bs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=gB(i.layoutBox,n):this.constraints=!1,this.elastic=bB(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Tr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=xB(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!bs(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=CB(r,i.root,this.visualElement.getTransformPagePoint());let s=vB(i.layout.layoutBox,o);if(n){const l=n(wB(s));this.hasMutatedConstraints=!!l,l&&(s=jj(l))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Tr(f=>{if(!Id(f,n,this.currentDirection))return;let p=u&&u[f]||{};s&&(p={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:r?t[f]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(f,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Ny(this.visualElement,t),r.start(_x(t,r,0,n,this.visualElement,!1))}stopAnimation(){Tr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Tr(n=>{const{drag:r}=this.getProps();if(!Id(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[n];o.set(t[n]-Lt(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!bs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Tr(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const u=l.get();i[s]=yB({min:u,max:u},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tr(s=>{if(!Id(s,t,null))return;const l=this.getAxisMotionValue(s),{min:u,max:d}=this.constraints[s];l.set(Lt(u,d,i[s]))})}addListeners(){if(!this.visualElement.current)return;AB.set(this.visualElement,this);const t=this.visualElement.current,n=hc(t,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();bs(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),kt.read(r);const s=kc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Tr(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())}));return()=>{s(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Ry,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:l}}}function Id(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function EB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class NB extends Ko{constructor(t){super(t),this.removeGroupControls=hr,this.removeListeners=hr,this.controls=new kB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const c2=e=>(t,n)=>{e&&kt.postRender(()=>e(t,n))};class OB extends Ko{constructor(){super(...arguments),this.removePointerDownListener=hr}onPointerDown(t){this.session=new kj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:c2(t),onStart:c2(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&kt.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=hc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Be.test(e))e=parseFloat(e);else return e;const n=u2(e,t.target.x),r=u2(e,t.target.y);return`${n}% ${r}%`}},jB={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Wo.parse(e);if(i.length>5)return r;const o=Wo.createTransformer(e),s=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,u=n.y.scale*t.y;i[0+s]/=l,i[1+s]/=u;const d=Lt(l,u,.5);return typeof i[2+s]=="number"&&(i[2+s]/=d),typeof i[3+s]=="number"&&(i[3+s]/=d),o(i)}};class _B extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;Z4(TB),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),uf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||kt.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ax.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ij(e){const[t,n]=vO(),r=S.useContext(Q0);return y.jsx(_B,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(AO),isPresent:t,safeToRemove:n})}const TB={borderRadius:{...Yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yl,borderTopRightRadius:Yl,borderBottomLeftRadius:Yl,borderBottomRightRadius:Yl,boxShadow:jB};function DB(e,t,n){const r=Fn(e)?e:Cc(e);return r.start(_x("",r,t,n)),r.animation}function MB(e){return e instanceof SVGElement&&e.tagName!=="svg"}const IB=(e,t)=>e.depth-t.depth;class RB{constructor(){this.children=[],this.isDirty=!1}add(t){bx(this.children,t),this.isDirty=!0}remove(t){wx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(IB),this.isDirty=!1,this.children.forEach(t)}}function LB(e,t){const n=Si.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(zo(r),e(o-t))};return kt.read(r,!0),()=>zo(r)}const Rj=["TopLeft","TopRight","BottomLeft","BottomRight"],FB=Rj.length,d2=e=>typeof e=="string"?parseFloat(e):e,f2=e=>typeof e=="number"||Be.test(e);function $B(e,t,n,r,i,o){i?(e.opacity=Lt(0,n.opacity!==void 0?n.opacity:1,BB(r)),e.opacityExit=Lt(t.opacity!==void 0?t.opacity:1,0,zB(r))):o&&(e.opacity=Lt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<FB;s++){const l=`border${Rj[s]}Radius`;let u=p2(t,l),d=p2(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||f2(u)===f2(d)?(e[l]=Math.max(Lt(d2(u),d2(d),r),0),(wi.test(d)||wi.test(u))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Lt(t.rotate||0,n.rotate||0,r))}function p2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const BB=Lj(0,.5,tj),zB=Lj(.5,.95,hr);function Lj(e,t,n){return r=>r<e?0:r>t?1:n(Ls(e,t,r))}function h2(e,t){e.min=t.min,e.max=t.max}function Nr(e,t){h2(e.x,t.x),h2(e.y,t.y)}function m2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function g2(e,t,n,r,i){return e-=t,e=Nf(e,1/n,r),i!==void 0&&(e=Nf(e,1/i,r)),e}function WB(e,t=0,n=1,r=.5,i,o=e,s=e){if(wi.test(t)&&(t=parseFloat(t),t=Lt(s.min,s.max,t/100)-s.min),typeof t!="number")return;let l=Lt(o.min,o.max,r);e===o&&(l-=t),e.min=g2(e.min,t,n,l,i),e.max=g2(e.max,t,n,l,i)}function v2(e,t,[n,r,i],o,s){WB(e,t[n],t[r],t[i],t.scale,o,s)}const VB=["x","scaleX","originX"],UB=["y","scaleY","originY"];function y2(e,t,n,r){v2(e.x,t,VB,n?n.x:void 0,r?r.x:void 0),v2(e.y,t,UB,n?n.y:void 0,r?r.y:void 0)}function x2(e){return e.translate===0&&e.scale===1}function Fj(e){return x2(e.x)&&x2(e.y)}function b2(e,t){return e.min===t.min&&e.max===t.max}function HB(e,t){return b2(e.x,t.x)&&b2(e.y,t.y)}function w2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $j(e,t){return w2(e.x,t.x)&&w2(e.y,t.y)}function S2(e){return yr(e.x)/yr(e.y)}function P2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class GB{constructor(){this.members=[]}add(t){bx(this.members,t),t.scheduleRender()}remove(t){if(wx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KB(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=n?.z||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:m,skewX:g,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const ha={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cc=typeof window<"u"&&window.MotionDebug!==void 0,Ag=["","X","Y","Z"],YB={visibility:"hidden"},C2=1e3;let qB=0;function kg(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Bj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=YO(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",kt,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Bj(r)}function zj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},l=t?.()){this.id=qB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cc&&(ha.totalNodes=ha.resolvedTargetDeltas=ha.recalculatedProjection=0),this.nodes.forEach(QB),this.nodes.forEach(rz),this.nodes.forEach(iz),this.nodes.forEach(JB),cc&&window.MotionDebug.record(ha)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new RB)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Sx),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const u=this.eventHandlers.get(s);u&&u.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=MB(s),this.instance=s;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),e){let p;const m=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=LB(m,250),uf.hasAnimatedSinceResize&&(uf.hasAnimatedSinceResize=!1,this.nodes.forEach(k2))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||cz,{onLayoutAnimationStart:b,onLayoutAnimationComplete:C}=f.getProps(),k=!this.targetLayout||!$j(this.targetLayout,x)||g,E=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||m&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,E);const N={...gx(w,"layout"),onPlay:b,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||k2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oz),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(A2);return}this.isUpdating||this.nodes.forEach(tz),this.isUpdating=!1,this.nodes.forEach(nz),this.nodes.forEach(XB),this.nodes.forEach(ZB),this.clearAllSnapshots();const l=Si.now();Sn.delta=Yi(0,1e3/60,l-Sn.timestamp),Sn.timestamp=l,Sn.isProcessing=!0,gg.update.process(Sn),gg.preRender.process(Sn),gg.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ax.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ez),this.sharedNodes.forEach(az)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Fj(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;s&&(l||pa(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return s&&(u=this.removeTransform(u)),uz(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:l}=this.options;if(!l)return Kt();const u=l.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(dz))){const{scroll:f}=this.root;f&&(Ps(u.x,f.offset.x),Ps(u.y,f.offset.y))}return u}removeElementScroll(s){var l;const u=Kt();if(Nr(u,s),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Nr(u,s),Ps(u.x,p.offset.x),Ps(u.y,p.offset.y))}return u}applyTransform(s,l=!1){const u=Kt();Nr(u,s);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Cs(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),pa(f.latestValues)&&Cs(u,f.latestValues)}return pa(this.latestValues)&&Cs(u,this.latestValues),u}removeTransform(s){const l=Kt();Nr(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!pa(d.latestValues))continue;Ly(d.latestValues)&&d.updateSnapshot();const f=Kt(),p=d.measurePageBox();Nr(f,p),y2(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return pa(this.latestValues)&&y2(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(s||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=Sn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),gc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nr(this.target,this.layout.layoutBox),Tj(this.target,this.targetDelta)):Nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),gc(this.relativeTargetOrigin,this.target,g.target),Nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cc&&ha.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ly(this.parent.latestValues)||_j(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Nr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;PB(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Kt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m2(this.prevProjectionDelta.x,this.projectionDelta.x),m2(this.prevProjectionDelta.y,this.projectionDelta.y)),mc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!P2(this.projectionDelta.x,this.prevProjectionDelta.x)||!P2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),cc&&ha.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),s){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ss(),this.projectionDelta=Ss(),this.projectionDeltaWithTransform=Ss()}setAnimationOrigin(s,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},p=Ss();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Kt(),g=u?u.source:void 0,x=this.layout?this.layout.source:void 0,w=g!==x,b=this.getStack(),C=!b||b.members.length<=1,k=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(lz));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const j=N/1e3;E2(p.x,s.x,j),E2(p.y,s.y,j),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sz(this.relativeTarget,this.relativeTargetOrigin,m,j),E&&HB(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Kt()),Nr(E,this.relativeTarget)),w&&(this.animationValues=f,$B(f,d,this.latestValues,j,k,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{uf.hasAnimatedSinceResize=!0,this.currentAnimation=DB(0,C2,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=s;if(!(!l||!u||!d)){if(this!==s&&this.layout&&d&&Wj(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Kt();const p=yr(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+p;const m=yr(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+m}Nr(l,u),Cs(l,f),mc(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new GB),this.sharedNodes.get(s).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:l}=this.options;return l?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:l}=this.options;return l?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&kg("z",s,d,this.animationValues);for(let f=0;f<Ag.length;f++)kg(`rotate${Ag[f]}`,s,d,this.animationValues),kg(`skew${Ag[f]}`,s,d,this.animationValues);s.render();for(const f in d)s.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);s.scheduleRender()}getProjectionStyles(s){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YB;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=lf(s?.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=lf(s?.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(w.transform=f?f({},""):"none",this.hasProjected=!1),w}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=KB(this.projectionDeltaWithTransform,this.treeScale,m),f&&(d.transform=f(m,d.transform));const{x:g,y:x}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,p.animationValues?d.opacity=p===this?(u=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in Pf){if(m[w]===void 0)continue;const{correct:b,applyTo:C}=Pf[w],k=d.transform==="none"?m[w]:b(m[w],p);if(C){const E=C.length;for(let N=0;N<E;N++)d[C[N]]=k}else d[w]=k}return this.options.layoutId&&(d.pointerEvents=p===this?lf(s?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(A2),this.root.sharedNodes.clear()}}}function XB(e){e.updateLayout()}function ZB(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?Tr(p=>{const m=s?n.measuredBox[p]:n.layoutBox[p],g=yr(m);m.min=r[p].min,m.max=m.min+g}):Wj(o,n.layoutBox,r)&&Tr(p=>{const m=s?n.measuredBox[p]:n.layoutBox[p],g=yr(r[p]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+g)});const l=Ss();mc(l,r,n.layoutBox);const u=Ss();s?mc(u,e.applyTransform(i,!0),n.measuredBox):mc(u,r,n.layoutBox);const d=!Fj(l);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:g}=p;if(m&&g){const x=Kt();gc(x,n.layoutBox,m.layoutBox);const w=Kt();gc(w,r,g.layoutBox),$j(x,w)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=x,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function QB(e){cc&&ha.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function JB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ez(e){e.clearSnapshot()}function A2(e){e.clearMeasurements()}function tz(e){e.isLayoutDirty=!1}function nz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function k2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rz(e){e.resolveTargetDelta()}function iz(e){e.calcProjection()}function oz(e){e.resetSkewAndRotation()}function az(e){e.removeLeadSnapshot()}function E2(e,t,n){e.translate=Lt(t.translate,0,n),e.scale=Lt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function N2(e,t,n,r){e.min=Lt(t.min,n.min,r),e.max=Lt(t.max,n.max,r)}function sz(e,t,n,r){N2(e.x,t.x,n.x,r),N2(e.y,t.y,n.y,r)}function lz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cz={duration:.45,ease:[.4,0,.1,1]},O2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),j2=O2("applewebkit/")&&!O2("chrome/")?Math.round:hr;function _2(e){e.min=j2(e.min),e.max=j2(e.max)}function uz(e){_2(e.x),_2(e.y)}function Wj(e,t,n){return e==="position"||e==="preserve-aspect"&&!pB(S2(t),S2(n),.2)}function dz(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const fz=zj({attachResizeListener:(e,t)=>kc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Eg={current:void 0},Vj=zj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Eg.current){const e=new fz({});e.mount(window),e.setOptions({layoutScroll:!0}),Eg.current=e}return Eg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),pz={pan:{Feature:OB},drag:{Feature:NB,ProjectionNode:Vj,MeasureLayout:Ij}};function T2(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&kt.postRender(()=>o(t,eu(t)))}class hz extends Ko{mount(){const{current:t}=this.node;t&&(this.unmount=pF(t,n=>(T2(this.node,n,"Start"),r=>T2(this.node,r,"End"))))}unmount(){}}class mz extends Ko{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jc(kc(this.node.current,"focus",()=>this.onFocus()),kc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function D2(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&kt.postRender(()=>o(t,eu(t)))}class gz extends Ko{mount(){const{current:t}=this.node;t&&(this.unmount=vF(t,n=>(D2(this.node,n,"Start"),(r,{success:i})=>D2(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $y=new WeakMap,Ng=new WeakMap,vz=e=>{const t=$y.get(e.target);t&&t(e)},yz=e=>{e.forEach(vz)};function xz({root:e,...t}){const n=e||document;Ng.has(n)||Ng.set(n,{});const r=Ng.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(yz,{root:e,...t})),r[i]}function bz(e,t,n){const r=xz(t);return $y.set(e,n),r.observe(e),()=>{$y.delete(e),r.unobserve(e)}}const wz={some:0,all:1};class Sz extends Ko{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:wz[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),m=d?f:p;m&&m(u)};return bz(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Pz(t,n))&&this.startObserver()}unmount(){}}function Pz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Cz={inView:{Feature:Sz},tap:{Feature:gz},focus:{Feature:mz},hover:{Feature:hz}},Az={layout:{ProjectionNode:Vj,MeasureLayout:Ij}},By={current:null},Uj={current:!1};function kz(){if(Uj.current=!0,!!tx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>By.current=e.matches;e.addListener(t),t()}else By.current=!1}const Ez=[...mj,In,Wo],Nz=e=>Ez.find(hj(e)),M2=new WeakMap;function Oz(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Fn(i))e.addValue(r,i);else if(Fn(o))e.addValue(r,Cc(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,Cc(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const I2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jz{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Si.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,kt.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:f}=s;this.onUpdate=f,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Mp(n),this.isVariantNode=PO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const x=m[g];u[g]!==void 0&&Fn(x)&&x.set(u[g],!1)}}mount(t){this.current=t,M2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Uj.current||kz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:By.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){M2.delete(this.current),this.projection&&this.projection.unmount(),zo(this.notifyUpdate),zo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=$a.has(t),i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fs){const n=Fs[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<I2.length;r++){const i=I2[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Oz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Cc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(fj(i)||rj(i))?i=parseFloat(i):!Nz(i)&&Wo.test(n)&&(i=cj(t,n)),this.setBaseTarget(t,Fn(i)?i.get():i)),Fn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=lx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Fn(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Sx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Hj extends jz{constructor(){super(...arguments),this.KeyframeResolver=gj}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Fn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _z(e){return window.getComputedStyle(e)}class Tz extends Hj{constructor(){super(...arguments),this.type="html",this.renderInstance=TO}readValueFromInstance(t,n){if($a.has(n)){const r=Ex(n);return r&&r.default||0}else{const r=_z(t),i=(OO(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Dj(t,n)}build(t,n,r){dx(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return mx(t,n,r)}}class Dz extends Hj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if($a.has(n)){const r=Ex(n);return r&&r.default||0}return n=DO.has(n)?n:ox(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return RO(t,n,r)}build(t,n,r){fx(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){MO(t,n,r,i)}mount(t){this.isSVGTag=hx(t.tagName),super.mount(t)}}const Mz=(e,t)=>sx(e)?new Dz(t):new Tz(t,{allowProjection:e!==S.Fragment}),Iz=aF({...iB,...Cz,...pz,...Az},Mz),qe=w4(Iz);var Dr=function(e,t){return Number(e.toFixed(t))},Rz=function(e,t){return t},jt=function(e,t,n){n&&typeof n=="function"&&n(e,t)},Lz=function(e){return-Math.cos(e*Math.PI)/2+.5},Fz=function(e){return e},$z=function(e){return e*e},Bz=function(e){return e*(2-e)},zz=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},Wz=function(e){return e*e*e},Vz=function(e){return--e*e*e+1},Uz=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},Hz=function(e){return e*e*e*e},Gz=function(e){return 1- --e*e*e*e},Kz=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},Yz=function(e){return e*e*e*e*e},qz=function(e){return 1+--e*e*e*e*e},Xz=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},Gj={easeOut:Lz,linear:Fz,easeInQuad:$z,easeOutQuad:Bz,easeInOutQuad:zz,easeInCubic:Wz,easeOutCubic:Vz,easeInOutCubic:Uz,easeInQuart:Hz,easeOutQuart:Gz,easeInOutQuart:Kz,easeInQuint:Yz,easeOutQuint:qz,easeInOutQuint:Xz},Kj=function(e){typeof e=="number"&&cancelAnimationFrame(e)},Xr=function(e){e.mounted&&(Kj(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function Yj(e,t,n,r){if(e.mounted){var i=new Date().getTime(),o=1;Xr(e),e.animation=function(){if(!e.mounted)return Kj(e.animation);var s=new Date().getTime()-i,l=s/n,u=Gj[t],d=u(l);s>=n?(r(o),e.animation=null):e.animation&&(r(d),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function Zz(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}function Yo(e,t,n,r){var i=Zz(t);if(!(!e.mounted||!i)){var o=e.setTransformState,s=e.transformState,l=s.scale,u=s.positionX,d=s.positionY,f=t.scale-l,p=t.positionX-u,m=t.positionY-d;n===0?o(t.scale,t.positionX,t.positionY):Yj(e,r,n,function(g){var x=l+f*g,w=u+p*g,b=d+m*g;o(x,w,b)})}}function Qz(e,t,n){var r=e.offsetWidth,i=e.offsetHeight,o=t.offsetWidth,s=t.offsetHeight,l=o*n,u=s*n,d=r-l,f=i-u;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:l,newDiffWidth:d,newContentHeight:u,newDiffHeight:f}}var Jz=function(e,t,n,r,i,o,s){var l=e>t?n*(s?1:.5):0,u=r>i?o*(s?1:.5):0,d=e-t-l,f=l,p=r-i-u,m=u;return{minPositionX:d,maxPositionX:f,minPositionY:p,maxPositionY:m}},Tx=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,i=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var o=Qz(n,r,t),s=o.wrapperWidth,l=o.wrapperHeight,u=o.newContentWidth,d=o.newDiffWidth,f=o.newContentHeight,p=o.newDiffHeight,m=Jz(s,u,d,l,f,p,!!i);return m},zy=function(e,t,n,r){return r?e<t?Dr(t,2):e>n?Dr(n,2):Dr(e,2):Dr(e,2)},ka=function(e,t){var n=Tx(e,t);return e.bounds=n,n};function tu(e,t,n,r,i,o,s){var l=n.minPositionX,u=n.minPositionY,d=n.maxPositionX,f=n.maxPositionY,p=0,m=0;s&&(p=i,m=o);var g=zy(e,l-p,d+p,r),x=zy(t,u-m,f+m,r);return{x:g,y:x}}function Lp(e,t,n,r,i,o){var s=e.transformState,l=s.scale,u=s.positionX,d=s.positionY,f=r-l;if(typeof t!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:u,y:d};var p=u-t*f,m=d-n*f,g=tu(p,m,i,o,0,0,null);return g}function nu(e,t,n,r,i){var o=i?r:0,s=t-o;return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=s?s:e}var R2=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,i=e.wrapperComponent,o=t.target,s="shadowRoot"in o&&"composedPath"in t,l=s?t.composedPath().some(function(f){return f instanceof Element?i?.contains(f):!1}):i?.contains(o),u=r&&o&&l;if(!u)return!1;var d=Fp(o,n);return!d},L2=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup,i=r.panning.disabled,o=t&&n&&!i;return!!o},e6=function(e,t){var n=e.transformState,r=n.positionX,i=n.positionY;e.isPanning=!0;var o=t.clientX,s=t.clientY;e.startCoords={x:o-r,y:s-i}},t6=function(e,t){var n=t.touches,r=e.transformState,i=r.positionX,o=r.positionY;e.isPanning=!0;var s=n.length===1;if(s){var l=n[0].clientX,u=n[0].clientY;e.startCoords={x:l-i,y:u-o}}};function n6(e){var t=e.transformState,n=t.positionX,r=t.positionY,i=t.scale,o=e.setup,s=o.disabled,l=o.limitToBounds,u=o.centerZoomedOut,d=e.wrapperComponent;if(!(s||!d||!e.bounds)){var f=e.bounds,p=f.maxPositionX,m=f.minPositionX,g=f.maxPositionY,x=f.minPositionY,w=n>p||n<m,b=r>g||r<x,C=n>p?d.offsetWidth:e.setup.minPositionX||0,k=r>g?d.offsetHeight:e.setup.minPositionY||0,E=Lp(e,C,k,i,e.bounds,l||u),N=E.x,j=E.y;return{scale:i,positionX:w?N:n,positionY:b?j:r}}}function qj(e,t,n,r,i){var o=e.setup.limitToBounds,s=e.wrapperComponent,l=e.bounds,u=e.transformState,d=u.scale,f=u.positionX,p=u.positionY;if(!(s===null||l===null||t===f&&n===p)){var m=tu(t,n,l,o,r,i,s),g=m.x,x=m.y;e.setTransformState(d,g,x)}}var r6=function(e,t,n){var r=e.startCoords,i=e.transformState,o=e.setup.panning,s=o.lockAxisX,l=o.lockAxisY,u=i.positionX,d=i.positionY;if(!r)return{x:u,y:d};var f=t-r.x,p=n-r.y,m=s?u:f,g=l?d:p;return{x:m,y:g}},Vo=function(e,t){var n=e.setup,r=e.transformState,i=r.scale,o=n.minScale,s=n.disablePadding;return t>0&&i>=o&&!s?t:0},i6=function(e){var t=e.mounted,n=e.setup,r=n.disabled,i=n.velocityAnimation,o=e.transformState.scale,s=i.disabled,l=!s||o>1||!r||t;return!!l},o6=function(e){var t=e.mounted,n=e.velocity,r=e.bounds,i=e.setup,o=i.disabled,s=i.velocityAnimation,l=e.transformState.scale,u=s.disabled,d=!u||l>1||!o||t;return!(!d||!n||!r)};function a6(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,i=n.animationTime,o=n.sensitivity;return r?i*t*o:i}function F2(e,t,n,r,i,o,s,l,u,d){if(i){if(t>s&&n>s){var f=s+(e-s)*d;return f>u?u:f<s?s:f}if(t<o&&n<o){var f=o+(e-o)*d;return f<l?l:f>o?o:f}}return r?t:zy(e,o,s,i)}function s6(e,t){var n=1;return t?Math.min(n,e.offsetWidth/window.innerWidth):n}function l6(e,t){var n=i6(e);if(n){var r=e.lastMousePosition,i=e.velocityTime,o=e.setup,s=e.wrapperComponent,l=o.velocityAnimation.equalToMove,u=Date.now();if(r&&i&&s){var d=s6(s,l),f=t.x-r.x,p=t.y-r.y,m=f/d,g=p/d,x=u-i,w=f*f+p*p,b=Math.sqrt(w)/x;e.velocity={velocityX:m,velocityY:g,total:b}}e.lastMousePosition=t,e.velocityTime=u}}function c6(e){var t=e.velocity,n=e.bounds,r=e.setup,i=e.wrapperComponent,o=o6(e);if(!(!o||!t||!n||!i)){var s=t.velocityX,l=t.velocityY,u=t.total,d=n.maxPositionX,f=n.minPositionX,p=n.maxPositionY,m=n.minPositionY,g=r.limitToBounds,x=r.alignmentAnimation,w=r.zoomAnimation,b=r.panning,C=b.lockAxisY,k=b.lockAxisX,E=w.animationType,N=x.sizeX,j=x.sizeY,O=x.velocityAlignmentTime,T=O,D=a6(e,u),B=Math.max(D,T),X=Vo(e,N),G=Vo(e,j),F=X*i.offsetWidth/100,W=G*i.offsetHeight/100,de=d+F,ce=f-F,Se=p+W,ee=m-W,K=e.transformState,ie=new Date().getTime();Yj(e,E,B,function(ne){var R=e.transformState,$=R.scale,oe=R.positionX,fe=R.positionY,ue=new Date().getTime()-ie,ve=ue/T,re=Gj[x.animationType],U=1-re(Math.min(1,ve)),M=1-ne,Y=oe+s*M,J=fe+l*M,V=F2(Y,K.positionX,oe,k,g,f,d,ce,de,U),we=F2(J,K.positionY,fe,C,g,m,p,ee,Se,U);(oe!==Y||fe!==J)&&e.setTransformState($,V,we)})}}function $2(e,t){var n=e.transformState.scale;Xr(e),ka(e,n),window.TouchEvent!==void 0&&t instanceof TouchEvent?t6(e,t):e6(e,t)}function Dx(e,t){var n=e.transformState.scale,r=e.setup,i=r.minScale,o=r.alignmentAnimation,s=o.disabled,l=o.sizeX,u=o.sizeY,d=o.animationTime,f=o.animationType,p=s||n<i||!l&&!u;if(!p){var m=n6(e);m&&Yo(e,m,t??d,f)}}function B2(e,t,n){var r=e.startCoords,i=e.setup,o=i.alignmentAnimation,s=o.sizeX,l=o.sizeY;if(r){var u=r6(e,t,n),d=u.x,f=u.y,p=Vo(e,s),m=Vo(e,l);l6(e,{x:d,y:f}),qj(e,d,f,p,m)}}function u6(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var o=r?.getBoundingClientRect(),s=i?.getBoundingClientRect(),l=o?.width||0,u=o?.height||0,d=s?.width||0,f=s?.height||0,p=l<d||u<f,m=!t&&n&&n?.total>.1&&p;m?c6(e):Dx(e)}}function Mx(e,t,n,r){var i=e.setup,o=i.minScale,s=i.maxScale,l=i.limitToBounds,u=nu(Dr(t,2),o,s,0,!1),d=ka(e,u),f=Lp(e,n,r,u,d,l),p=f.x,m=f.y;return{scale:u,positionX:p,positionY:m}}function Xj(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,s=o.minScale,l=o.limitToBounds,u=o.zoomAnimation,d=u.disabled,f=u.animationTime,p=u.animationType,m=d||r>=s;if((r>=1||l)&&Dx(e),!(m||!i||!e.mounted)){var g=t||i.offsetWidth/2,x=n||i.offsetHeight/2,w=Mx(e,s,g,x);w&&Yo(e,w,f,p)}}var Ro=function(){return Ro=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ro.apply(this,arguments)};function z2(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Rd={scale:1,positionX:0,positionY:0},ql={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Wy={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},Zj=function(e){var t,n,r,i;return{previousScale:(t=e.initialScale)!==null&&t!==void 0?t:Rd.scale,scale:(n=e.initialScale)!==null&&n!==void 0?n:Rd.scale,positionX:(r=e.initialPositionX)!==null&&r!==void 0?r:Rd.positionX,positionY:(i=e.initialPositionY)!==null&&i!==void 0?i:Rd.positionY}},W2=function(e){var t=Ro({},ql);return Object.keys(e).forEach(function(n){var r=typeof e[n]<"u",i=typeof ql[n]<"u";if(i&&r){var o=Object.prototype.toString.call(ql[n]),s=o==="[object Object]",l=o==="[object Array]";s?t[n]=Ro(Ro({},ql[n]),e[n]):l?t[n]=z2(z2([],ql[n],!0),e[n]):t[n]=e[n]}}),t},Qj=function(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,s=o.maxScale,l=o.minScale,u=o.zoomAnimation,d=o.smooth,f=u.size;if(!i)throw new Error("Wrapper is not mounted");var p=d?r*Math.exp(t*n):r+t*n,m=nu(Dr(p,3),l,s,f,!1);return m};function Jj(e,t,n,r,i){var o=e.wrapperComponent,s=e.transformState,l=s.scale,u=s.positionX,d=s.positionY;if(!o)return console.error("No WrapperComponent found");var f=o.offsetWidth,p=o.offsetHeight,m=(f/2-u)/l,g=(p/2-d)/l,x=Qj(e,t,n),w=Mx(e,x,m,g);if(!w)return console.error("Error during zoom event. New transformation state was not calculated.");Yo(e,w,r,i)}function e_(e,t,n,r){var i=e.setup,o=e.wrapperComponent,s=i.limitToBounds,l=Zj(e.props),u=e.transformState,d=u.scale,f=u.positionX,p=u.positionY;if(o){var m=Tx(e,l.scale),g=tu(l.positionX,l.positionY,m,s,0,0,o),x={scale:l.scale,positionX:g.x,positionY:g.y};d===l.scale&&f===l.positionX&&p===l.positionY||(r?.(),Yo(e,x,t,n))}}function d6(e,t,n,r){var i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),s=n.getBoundingClientRect(),l=o.x*r.scale,u=o.y*r.scale;return{x:(i.x-s.x+l)/r.scale,y:(i.y-s.y+u)/r.scale}}function f6(e,t,n){var r=e.wrapperComponent,i=e.contentComponent,o=e.transformState,s=e.setup,l=s.limitToBounds,u=s.minScale,d=s.maxScale;if(!r||!i)return o;var f=r.getBoundingClientRect(),p=t.getBoundingClientRect(),m=d6(t,r,i,o),g=m.x,x=m.y,w=p.width/o.scale,b=p.height/o.scale,C=r.offsetWidth/w,k=r.offsetHeight/b,E=nu(n||Math.min(C,k),u,d,0,!1),N=(f.width-w*E)/2,j=(f.height-b*E)/2,O=(f.left-g)*E+N,T=(f.top-x)*E+j,D=Tx(e,E),B=tu(O,T,D,l,0,0,r),X=B.x,G=B.y;return{positionX:X,positionY:G,scale:E}}var p6=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),Jj(e,1,t,n,r)}},h6=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),Jj(e,-1,t,n,r)}},m6=function(e){return function(t,n,r,i,o){i===void 0&&(i=300),o===void 0&&(o="easeOut");var s=e.transformState,l=s.positionX,u=s.positionY,d=s.scale,f=e.wrapperComponent,p=e.contentComponent,m=e.setup.disabled;if(!(m||!f||!p)){var g={positionX:Number.isNaN(t)?l:t,positionY:Number.isNaN(n)?u:n,scale:Number.isNaN(r)?d:r};Yo(e,g,i,o)}}},g6=function(e){return function(t,n){t===void 0&&(t=200),n===void 0&&(n="easeOut"),e_(e,t,n)}},v6=function(e){return function(t,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var i=e.transformState,o=e.wrapperComponent,s=e.contentComponent;if(o&&s){var l=t_(t||i.scale,o,s);Yo(e,l,n,r)}}},y6=function(e){return function(t,n,r,i){r===void 0&&(r=600),i===void 0&&(i="easeOut"),Xr(e);var o=e.wrapperComponent,s=typeof t=="string"?document.getElementById(t):t;if(o&&s&&o.contains(s)){var l=f6(e,s,n);Yo(e,l,r,i)}}},Vy=function(e){return{instance:e,zoomIn:p6(e),zoomOut:h6(e),setTransform:m6(e),resetTransform:g6(e),centerView:v6(e),zoomToElement:y6(e)}},x6=function(e){return{instance:e,state:e.transformState}},bt=function(e){var t={};return Object.assign(t,x6(e)),Object.assign(t,Vy(e)),t},Og=!1;function jg(){try{var e={get passive(){return Og=!0,!1}};return e}catch{return Og=!1,Og}}var Ld=".".concat(Wy.wrapperClass),Fp=function(e,t){return t.some(function(n){return e.matches("".concat(Ld," ").concat(n,", ").concat(Ld," .").concat(n,", ").concat(Ld," ").concat(n," *, ").concat(Ld," .").concat(n," *"))})},Uy=function(e){e&&clearTimeout(e)},b6=function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")},t_=function(e,t,n){var r=n.offsetWidth*e,i=n.offsetHeight*e,o=(t.offsetWidth-r)/2,s=(t.offsetHeight-i)/2;return{scale:e,positionX:o,positionY:s}};function w6(e){return function(t){e.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var S6=function(e,t){var n=e.setup.wheel,r=n.disabled,i=n.wheelDisabled,o=n.touchPadDisabled,s=n.excluded,l=e.isInitialized,u=e.isPanning,d=t.target,f=l&&!u&&!r&&d;if(!f||i&&!t.ctrlKey||o&&t.ctrlKey)return!1;var p=Fp(d,s);return!p},P6=function(e){return e?e.deltaY<0?1:-1:0};function C6(e,t){var n=P6(e),r=Rz(t,n);return r}function n_(e,t,n){var r=t.getBoundingClientRect(),i=0,o=0;if("clientX"in e)i=(e.clientX-r.left)/n,o=(e.clientY-r.top)/n;else{var s=e.touches[0];i=(s.clientX-r.left)/n,o=(s.clientY-r.top)/n}return(Number.isNaN(i)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:i,y:o}}var A6=function(e,t,n,r,i){var o=e.transformState.scale,s=e.wrapperComponent,l=e.setup,u=l.maxScale,d=l.minScale,f=l.zoomAnimation,p=l.disablePadding,m=f.size,g=f.disabled;if(!s)throw new Error("Wrapper is not mounted");var x=o+t*n,w=r?!1:!g,b=nu(Dr(x,3),d,u,m,w&&!p);return b},k6=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,i=e.setup,o=i.maxScale,s=i.minScale;return n?r<o||r>s||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY):!1},E6=function(e,t){var n=e.setup.pinch,r=n.disabled,i=n.excluded,o=e.isInitialized,s=t.target,l=o&&!r&&s;if(!l)return!1;var u=Fp(s,i);return!u},N6=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance,i=n&&!t&&r;return!!i},O6=function(e,t,n){var r=n.getBoundingClientRect(),i=e.touches,o=Dr(i[0].clientX-r.left,5),s=Dr(i[0].clientY-r.top,5),l=Dr(i[1].clientX-r.left,5),u=Dr(i[1].clientY-r.top,5);return{x:(o+l)/2/t,y:(s+u)/2/t}},r_=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},j6=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,i=e.setup,o=i.maxScale,s=i.minScale,l=i.zoomAnimation,u=i.disablePadding,d=l.size,f=l.disabled;if(!n||r===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return e.transformState.scale;var p=t/r,m=p*n;return nu(Dr(m,2),s,o,d,!f&&!u)},_6=160,T6=100,D6=function(e,t){var n=e.props,r=n.onWheelStart,i=n.onZoomStart;e.wheelStopEventTimer||(Xr(e),jt(bt(e),t,r),jt(bt(e),t,i))},M6=function(e,t){var n=e.props,r=n.onWheel,i=n.onZoom,o=e.contentComponent,s=e.setup,l=e.transformState,u=l.scale,d=s.limitToBounds,f=s.centerZoomedOut,p=s.zoomAnimation,m=s.wheel,g=s.disablePadding,x=s.smooth,w=p.size,b=p.disabled,C=m.step,k=m.smoothStep;if(!o)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var E=C6(t,null),N=x?k*Math.abs(t.deltaY):C,j=A6(e,E,N,!t.ctrlKey);if(u!==j){var O=ka(e,j),T=n_(t,o,u),D=b||w===0||f||g,B=d&&D,X=Lp(e,T.x,T.y,j,O,B),G=X.x,F=X.y;e.previousWheelEvent=t,e.setTransformState(j,G,F),jt(bt(e),t,r),jt(bt(e),t,i)}},I6=function(e,t){var n=e.props,r=n.onWheelStop,i=n.onZoomStop;Uy(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(Xj(e,t.x,t.y),e.wheelAnimationTimer=null)},T6);var o=k6(e,t);o&&(Uy(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,jt(bt(e),t,r),jt(bt(e),t,i))},_6))},i_=function(e){for(var t=0,n=0,r=0;r<2;r+=1)t+=e.touches[r].clientX,n+=e.touches[r].clientY;var i=t/2,o=n/2;return{x:i,y:o}},R6=function(e,t){var n=r_(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var r=i_(t);e.pinchLastCenterX=r.x,e.pinchLastCenterY=r.y,Xr(e)},L6=function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,i=e.wrapperComponent,o=e.transformState.scale,s=e.setup,l=s.limitToBounds,u=s.centerZoomedOut,d=s.zoomAnimation,f=s.alignmentAnimation,p=d.disabled,m=d.size;if(!(r===null||!n)){var g=O6(t,o,n);if(!(!Number.isFinite(g.x)||!Number.isFinite(g.y))){var x=r_(t),w=j6(e,x),b=i_(t),C=b.x-(e.pinchLastCenterX||0),k=b.y-(e.pinchLastCenterY||0);if(!(w===o&&C===0&&k===0)){e.pinchLastCenterX=b.x,e.pinchLastCenterY=b.y;var E=ka(e,w),N=p||m===0||u,j=l&&N,O=Lp(e,g.x,g.y,w,E,j),T=O.x,D=O.y;e.pinchMidpoint=g,e.lastDistance=x;var B=f.sizeX,X=f.sizeY,G=Vo(e,B),F=Vo(e,X),W=T+C,de=D+k,ce=tu(W,de,E,l,G,F,i),Se=ce.x,ee=ce.y;e.setTransformState(w,Se,ee)}}}},F6=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,Xj(e,t?.x,t?.y)},o_=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;Uy(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,jt(bt(e),t,n)},r)},$6=function(e,t){var n=e.props,r=n.onZoomStart,i=n.onZoom,o=e.setup.doubleClick,s=o.animationTime,l=o.animationType;jt(bt(e),t,r),e_(e,s,l,function(){return jt(bt(e),t,i)}),o_(e,t)};function B6(e,t){return e==="toggle"?t===1?1:-1:e==="zoomOut"?-1:1}function z6(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,i=e.transformState,o=e.contentComponent,s=i.scale,l=e.props,u=l.onZoomStart,d=l.onZoom,f=n.doubleClick,p=f.disabled,m=f.mode,g=f.step,x=f.animationTime,w=f.animationType;if(!p&&!r){if(m==="reset")return $6(e,t);if(!o)return console.error("No ContentComponent found");var b=B6(m,e.transformState.scale),C=Qj(e,b,g);if(s!==C){jt(bt(e),t,u);var k=n_(t,o,s),E=Mx(e,C,k.x,k.y);if(!E)return console.error("Error during zoom event. New transformation state was not calculated.");jt(bt(e),t,d),Yo(e,E,x,w),o_(e,t)}}}var W6=function(e,t){var n=e.isInitialized,r=e.setup,i=e.wrapperComponent,o=r.doubleClick,s=o.disabled,l=o.excluded,u=t.target,d=i?.contains(u),f=n&&u&&d&&!s;if(!f)return!1;var p=Fp(u,l);return!p},V6=(function(){function e(t){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){n.props=r,ka(n,n.transformState.scale),n.setup=W2(r)},this.initializeWindowEvents=function(){var r,i,o=jg(),s=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=s?.defaultView;(i=n.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",n.onWheelPanning,o),l?.addEventListener("mousedown",n.onPanningStart,o),l?.addEventListener("mousemove",n.onPanning,o),l?.addEventListener("mouseup",n.onPanningStop,o),s?.addEventListener("mouseleave",n.clearPanning,o),l?.addEventListener("keyup",n.setKeyUnPressed,o),l?.addEventListener("keydown",n.setKeyPressed,o)},this.cleanupWindowEvents=function(){var r,i,o=jg(),s=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=s?.defaultView;l?.removeEventListener("mousedown",n.onPanningStart,o),l?.removeEventListener("mousemove",n.onPanning,o),l?.removeEventListener("mouseup",n.onPanningStop,o),s?.removeEventListener("mouseleave",n.clearPanning,o),l?.removeEventListener("keyup",n.setKeyUnPressed,o),l?.removeEventListener("keydown",n.setKeyPressed,o),document.removeEventListener("mouseleave",n.clearPanning,o),Xr(n),(i=n.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(r){var i=jg();r.addEventListener("wheel",n.onWheelZoom,i),r.addEventListener("dblclick",n.onDoubleClick,i),r.addEventListener("touchstart",n.onTouchPanningStart,i),r.addEventListener("touchmove",n.onTouchPanning,i),r.addEventListener("touchend",n.onTouchPanningStop,i)},this.handleInitialize=function(r,i){var o=!1,s=n.setup.centerOnInit,l=function(u,d){for(var f=0,p=u;f<p.length;f++){var m=p[f];if(m.target===d)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(u){u(bt(n))}),n.observer=new ResizeObserver(function(u){if(l(u,r)||l(u,i))if(s&&!o){var d=i.offsetWidth,f=i.offsetHeight;(d>0||f>0)&&(o=!0,n.setCenter())}else Xr(n),ka(n,n.transformState.scale),Dx(n,0)}),n.observer.observe(r),n.observer.observe(i)},this.onWheelZoom=function(r){var i=n.setup.disabled;if(!i){var o=S6(n,r);if(o){var s=n.isPressingKeys(n.setup.wheel.activationKeys);s&&(D6(n,r),M6(n,r),I6(n,r))}}},this.onWheelPanning=function(r){var i=n.setup,o=i.disabled,s=i.wheel,l=i.panning;if(!(!n.wrapperComponent||!n.contentComponent||o||!s.wheelDisabled||l.disabled||!l.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var u=n.transformState,d=u.positionX,f=u.positionY,p=d-r.deltaX,m=f-r.deltaY,g=l.lockAxisX?d:p,x=l.lockAxisY?f:m,w=n.setup.alignmentAnimation,b=w.sizeX,C=w.sizeY,k=Vo(n,b),E=Vo(n,C);g===d&&x===f||qj(n,g,x,k,E)}},this.onPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var s=R2(n,r);if(s){var l=n.isPressingKeys(n.setup.panning.activationKeys);l&&(r.button===0&&!n.setup.panning.allowLeftClickPan||r.button===1&&!n.setup.panning.allowMiddleClickPan||r.button===2&&!n.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),Xr(n),$2(n,r),jt(bt(n),r,o)))}}},this.onPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(!i){var s=L2(n);if(s){var l=n.isPressingKeys(n.setup.panning.activationKeys);l&&(r.preventDefault(),r.stopPropagation(),B2(n,r.clientX,r.clientY),jt(bt(n),r,o))}}},this.onPanningStop=function(r){var i=n.props.onPanningStop;n.isPanning&&(u6(n),jt(bt(n),r,i))},this.onPinchStart=function(r){var i=n.setup.disabled,o=n.props,s=o.onPinchingStart,l=o.onZoomStart;if(!i){var u=E6(n,r);u&&(R6(n,r),Xr(n),jt(bt(n),r,s),jt(bt(n),r,l))}},this.onPinch=function(r){var i=n.setup.disabled,o=n.props,s=o.onPinching,l=o.onZoom;if(!i){var u=N6(n);u&&(r.preventDefault(),r.stopPropagation(),L6(n,r),jt(bt(n),r,s),jt(bt(n),r,l))}},this.onPinchStop=function(r){var i=n.props,o=i.onPinchingStop,s=i.onZoomStop;n.pinchStartScale&&(F6(n),jt(bt(n),r,o),jt(bt(n),r,s))},this.onTouchPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var s=R2(n,r);if(s){var l=n.lastTouch&&+new Date-n.lastTouch<200&&r.touches.length===1;if(!l){n.lastTouch=+new Date,Xr(n);var u=r.touches,d=u.length===1,f=u.length===2;d&&(Xr(n),$2(n,r),jt(bt(n),r,o)),f&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(i)return;var s=L2(n);if(!s)return;r.preventDefault(),r.stopPropagation();var l=r.touches[0];B2(n,l.clientX,l.clientY),jt(bt(n),r,o)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var i=n.setup.disabled;if(!i){var o=W6(n,r);o&&z6(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(i){return n.pressedKeys[i]}):!0},this.setTransformState=function(r,i,o){var s=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=i,n.transformState.positionY=o,n.applyTransformation();var l=bt(n);n.onChangeCallbacks.forEach(function(u){return u(l)}),jt(l,{scale:r,positionX:i,positionY:o},s)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=t_(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,i,o){return n.props.customTransform?n.props.customTransform(r,i,o):b6(r,i,o)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,i=r.scale,o=r.positionX,s=r.positionY,l=n.handleTransformStyles(o,s,i);n.contentComponent.style.transform=l}},this.getContext=function(){return bt(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,i){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=i,ka(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(r,i),n.initializeWindowEvents(),n.isInitialized=!0;var o=bt(n);jt(o,void 0,n.props.onInit)},this.props=t,this.setup=W2(this.props),this.transformState=Zj(this.props)}return e})(),Ix=pt.createContext(null),U6=function(e,t){return typeof e=="function"?e(t):e},H6=pt.forwardRef(function(e,t){var n=S.useRef(new V6(e)).current,r=U6(e.children,Vy(n));return S.useImperativeHandle(t,function(){return Vy(n)},[n]),S.useEffect(function(){n.update(e)},[n,e]),pt.createElement(Ix.Provider,{value:n},r)});pt.forwardRef(function(e,t){var n=S.useRef(null),r=S.useContext(Ix);return S.useEffect(function(){return r.onChange(function(i){if(n.current){var o=0,s=0;n.current.style.transform=r.handleTransformStyles(o,s,1/i.instance.transformState.scale)}})},[r]),pt.createElement("div",Ro({},e,{ref:w6([n,t])}))});function G6(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var K6=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,V2={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};G6(K6);var Y6=function(e){var t=e.children,n=e.wrapperClass,r=n===void 0?"":n,i=e.contentClass,o=i===void 0?"":i,s=e.wrapperStyle,l=e.contentStyle,u=e.wrapperProps,d=u===void 0?{}:u,f=e.contentProps,p=f===void 0?{}:f,m=S.useContext(Ix),g=m.init,x=m.cleanupWindowEvents,w=S.useRef(null),b=S.useRef(null);return S.useEffect(function(){var C=w.current,k=b.current;return C!==null&&k!==null&&g&&g?.(C,k),function(){x?.()}},[]),pt.createElement("div",Ro({},d,{ref:w,className:"".concat(Wy.wrapperClass," ").concat(V2.wrapper," ").concat(r),style:s}),pt.createElement("div",Ro({},p,{ref:b,className:"".concat(Wy.contentClass," ").concat(V2.content," ").concat(o),style:l}),t))};const q6=Me.apiBaseUrl;async function a_(e){return o4(e)}async function X6(e){const t={...e,focusMode:e.focusMode??"On-Axis",iterations:e.iterations,surfaces:e.surfaces.map(r=>({id:r.id,type:r.type,radius:r.radius,thickness:r.thickness,refractiveIndex:r.refractiveIndex,diameter:r.diameter,material:r.material,description:r.description,radiusTolerance:r.radiusTolerance??0,thicknessTolerance:r.thicknessTolerance??0,tiltTolerance:r.tiltTolerance??0,decenterX:r.decenterX??0,decenterY:r.decenterY??0,coating:r.coating,coating_r_table:r.coatingDataPoints??void 0,coating_constant_r:r.coatingConstantValue??void 0,coating_is_hr:r.coatingIsHr??void 0}))},n=await fetch(`${q6}/api/monte-carlo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const r=await n.text();throw new Error(r||`Monte Carlo failed: ${n.status}`)}return n.json()}async function Z6(e,t){return a4({...e,wavelength_min_nm:t?.wavelengthMinNm,wavelength_max_nm:t?.wavelengthMaxNm,wavelength_step_nm:t?.wavelengthStepNm})}async function Q6(e){return s4({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1})}const s_=220,Hy=150,ur={left:36,right:12,top:8,bottom:24},_g=s_-ur.left-ur.right,fs=Hy-ur.top-ur.bottom,vi=[[400,"#8B5CF6"],[450,"#3B82F6"],[500,"#22C55E"],[550,"#84CC16"],[600,"#EAB308"],[650,"#F97316"],[700,"#EF4444"],[800,"#DC2626"],[1100,"#991B1B"]];function J6(e){if(e<=vi[0][0])return vi[0][1];if(e>=vi[vi.length-1][0])return vi[vi.length-1][1];for(let t=0;t<vi.length-1;t++){const[n,r]=vi[t],[i]=vi[t+1];if(e>=n&&e<=i)return r}return"#94A3B8"}function e8({systemState:e,onSystemStateChange:t,pulseOptimizeTrigger:n=0}){const[r,i]=S.useState([]),[o,s]=S.useState(!1),[l,u]=S.useState(null),[d,f]=S.useState(!1),[p,m]=S.useState(null),g=S.useRef(null),x=S.useCallback(()=>{s(!0),u(null),Z6({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter??10,wavelengths:e.wavelengths??[587.6],fieldAngles:e.fieldAngles??[0],numRays:e.numRays??9,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1},{wavelengthMinNm:400,wavelengthMaxNm:1100,wavelengthStepNm:10}).then(re=>{const U=(re||[]).map(M=>({wavelength:Number(M.wavelength)||0,focus_shift:Number(M.focus_shift)??NaN}));i(U)}).catch(re=>{u(re instanceof Error?re.message:"Failed to fetch"),i([])}).finally(()=>s(!1))},[e.surfaces,e.entrancePupilDiameter,e.wavelengths,e.fieldAngles,e.numRays,e.focusMode,e.m2Factor]),w=S.useRef(e.surfaces);S.useEffect(()=>{const re=w.current.length!==e.surfaces.length||w.current.some((U,M)=>{const Y=e.surfaces[M];return Y?.material!==U.material||!!Y?.sellmeierCoefficients?.B!=!!U.sellmeierCoefficients?.B});return w.current=e.surfaces,re?(g.current&&clearTimeout(g.current),g.current=null,x()):(g.current&&clearTimeout(g.current),g.current=setTimeout(x,300)),()=>{g.current&&clearTimeout(g.current)}},[x,e.surfaces]);const b=r.filter(re=>Number.isFinite(re.focus_shift)&&Number.isFinite(re.wavelength)).sort((re,U)=>re.wavelength-U.wavelength),C=e.wavelengths?.[0]??587.6,k=C>=400&&C<=1100?C:587.6,N=b.reduce((re,U)=>!re||Math.abs(U.wavelength-k)<Math.abs(re.wavelength-k)?U:re,null)?.focus_shift??(b.length?b[Math.floor(b.length/2)].focus_shift:0),j=Math.min(...b.map(re=>re.focus_shift-N),0),O=Math.max(...b.map(re=>re.focus_shift-N),0),T=Math.max(O-j,.5),D=j-T*.1,B=O+T*.1,X=400,G=1100,F=re=>ur.left+_g*(re-D)/(B-D),W=re=>ur.top+fs-fs*(re-X)/(G-X),de=b.map(re=>`${F(re.focus_shift-N)},${W(re.wavelength)}`).join(" "),ce=F(0),[Se,ee]=S.useState(null),K=S.useRef(null),ie=re=>D+(re-ur.left)/_g*(B-D),ne=re=>X+(ur.top+fs-re)/fs*(G-X),R=S.useCallback(re=>{if(!K.current||b.length<2)return;const U=K.current.getBoundingClientRect(),M=re.clientX-U.left,Y=re.clientY-U.top,J=ne(Y),V=ie(M),we=b.reduce((Z,Ie)=>{const $e=Math.abs(Ie.wavelength-J)+Math.abs(Ie.focus_shift-N-V)*.1;return $e<Z.dist?{p:Ie,dist:$e}:Z},{p:b[0],dist:1/0});ee({wavelength:we.p.wavelength,shiftMm:we.p.focus_shift-N,x:re.clientX,y:re.clientY})},[b,N,ie,ne]),$=S.useCallback(()=>ee(null),[]),oe=b.length>=2?(()=>{const re=b.find(M=>Math.abs(M.wavelength-486)<20),U=b.find(M=>Math.abs(M.wavelength-656)<20);return!re||!U?null:Math.abs(re.focus_shift-U.focus_shift)})():null,fe=p&&oe!=null&&oe>0?Math.round(p.estimated_lca_reduction/oe*100):null,ue=S.useCallback(()=>{f(!0),m(null),Q6({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter??10,wavelengths:e.wavelengths??[587.6],fieldAngles:e.fieldAngles??[0],numRays:e.numRays??9,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1}).then(re=>m(re)).catch(()=>m({recommended_glass:"",estimated_lca_reduction:0})).finally(()=>f(!1))},[e]),ve=S.useCallback(()=>{if(!p?.recommended_glass||e.surfaces.length!==2)return;const re=e.surfaces[0],U=e.surfaces[1];if(re.type!=="Glass"||U.type!=="Air")return;const M={id:crypto.randomUUID(),type:"Glass",radius:U.radius,thickness:re.thickness/2,refractiveIndex:1.6,diameter:re.diameter,material:p.recommended_glass,description:p.recommended_glass,coating:"Uncoated"};t(Y=>{const J=Y.surfaces.map((V,we)=>we===1?{...V,radius:-V.radius}:{...V});return J.splice(1,0,M),{...Y,surfaces:J,traceResult:null,traceError:null}}),m(null)},[p,e.surfaces,t]);return y.jsxs(qe.div,{className:"absolute z-[40] flex flex-col gap-2",style:{bottom:16,left:16,width:240,maxWidth:240,pointerEvents:"auto"},initial:{opacity:0,y:12,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:300,damping:24},children:[y.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-900/80 backdrop-blur-md shadow-2xl px-2 py-2 overflow-hidden",children:[y.jsx("div",{className:"text-[10px] font-medium text-slate-400 mb-1 px-1",children:"Chromatic Aberration"}),y.jsx(ni,{mode:"wait",children:o?y.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center gap-2 py-8 text-slate-400",children:[y.jsx(js,{className:"w-4 h-4 animate-spin",strokeWidth:2}),y.jsx("span",{className:"text-xs",children:"Calculating"})]},"loading"):l?y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-4 px-2 text-xs text-red-400/90",children:l},"error"):b.length<2?y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-6 text-center text-xs text-slate-500",children:"No data"},"empty"):y.jsxs(qe.svg,{ref:K,width:s_,height:Hy,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"block cursor-crosshair",onMouseMove:R,onMouseLeave:$,children:[y.jsx("defs",{children:y.jsx("linearGradient",{id:"chromatic-spectrum-y",x1:"0",y1:"1",x2:"0",y2:"0",children:vi.map(([re,U],M)=>y.jsx("stop",{offset:(re-400)/700,stopColor:U},M))})}),y.jsx("rect",{x:4,y:ur.top,width:8,height:fs,fill:"url(#chromatic-spectrum-y)",rx:2,opacity:.9}),[400,550,700,1100].map(re=>y.jsx("text",{x:ur.left-8,y:W(re)+3,textAnchor:"end",className:"fill-slate-500 text-[9px] font-mono",children:re},re)),y.jsx("text",{x:ur.left+_g/2,y:Hy-4,textAnchor:"middle",className:"fill-slate-500 text-[9px] font-mono",children:" focus (mm)"}),y.jsx("line",{x1:ce,y1:ur.top,x2:ce,y2:ur.top+fs,stroke:"rgba(34, 211, 238, 0.8)",strokeWidth:"1.5",strokeDasharray:"4 3"}),y.jsx("polyline",{points:de,fill:"none",stroke:"#22D3EE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),b.map((re,U)=>y.jsx("circle",{cx:F(re.focus_shift-N),cy:W(re.wavelength),r:2,fill:J6(re.wavelength),stroke:"rgba(255,255,255,0.6)",strokeWidth:"0.5"},U))]},"chart")}),Se&&y.jsxs("div",{className:"fixed z-[50] px-2 py-1.5 rounded text-xs font-mono bg-slate-900/80 backdrop-blur-md border border-slate-700 text-slate-200 pointer-events-none",style:{left:Se.x+12,top:Se.y+8},children:[Se.wavelength," nm  ",(Se.shiftMm*1e3).toFixed(2)," m"]})]}),y.jsx(qe.button,{type:"button",onClick:ue,disabled:d||e.surfaces.length!==2,className:"w-full py-2 px-3 rounded-lg text-sm font-medium text-white bg-gradient-to-r from-cyan-500 to-indigo-500 hover:from-cyan-400 hover:to-indigo-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg",animate:n>0?{scale:[1,1.05,1],boxShadow:["0 10px 15px -3px rgb(0 0 0 / 0.1)","0 0 24px 4px rgba(34, 211, 238, 0.6)","0 10px 15px -3px rgb(0 0 0 / 0.1)"]}:void 0,transition:n>0?{duration:1.2,repeat:2,ease:"easeInOut"}:void 0,children:d?y.jsxs("span",{className:"flex items-center justify-center gap-2",children:[y.jsx(js,{className:"w-4 h-4 animate-spin",strokeWidth:2}),"Optimizing"]}):"Optimize Colors"}),y.jsx(ni,{children:p?.recommended_glass&&y.jsxs(qe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},className:"rounded-lg border border-slate-700 bg-slate-900/80 backdrop-blur-md shadow-2xl p-3",children:[y.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[y.jsxs("p",{className:"text-xs text-slate-300",children:["Pair with ",y.jsx("span",{className:"font-semibold text-cyan-400",children:p.recommended_glass}),fe!=null?` to reduce shift by ${fe}%`:` (${p.estimated_lca_reduction.toFixed(2)} mm)`]}),y.jsx("button",{type:"button",onClick:()=>m(null),className:"p-0.5 rounded text-slate-500 hover:text-slate-300","aria-label":"Close",children:y.jsx(Rs,{className:"w-3.5 h-3.5",strokeWidth:2})})]}),y.jsx("button",{type:"button",onClick:ve,className:"w-full py-1.5 px-3 rounded text-xs font-medium bg-gradient-to-r from-cyan-500 to-indigo-500 text-white hover:from-cyan-400 hover:to-indigo-400 transition-all",children:"Apply"})]})})]})}const t8={"N-BK7":{B:[1.03961212,.231792344,1.01046945],C:[.00600069867,.0200179144,103.560653]},BK7:{B:[1.03961212,.231792344,1.01046945],C:[.00600069867,.0200179144,103.560653]},"N-SF11":{B:[1.73848403,.31116824,1.17490871],C:[.0133711172,.0619001176,121.419942]},SF11:{B:[1.73848403,.31116824,1.17490871],C:[.0133711172,.0619001176,121.419942]},"Fused Silica":{B:[.6961663,.4079426,.8974794],C:[.004679148,.01351206,97.93432]},Silica:{B:[.6961663,.4079426,.8974794],C:[.004679148,.01351206,97.93432]},F2:{B:[1.31038764,.196681836,.966129764],C:[.00958633072,.0457627625,99.2753302]},"N-SF5":{B:[1.31038764,.196681836,.966129764],C:[.00958633072,.0457627625,99.2753302]},"N-SF10":{B:[1.61625974,.259229334,.96887106],C:[.0106200162,.0473625942,119.248795]},"N-BAF10":{B:[1.5851495,.143571385,1.08521269],C:[.00909730952,.0424520636,105.613573]},"N-LAK9":{B:[1.41673927,.126605356,1.28217827],C:[.00906333117,.0493226978,95.6403971]}},n8={"n-bk7":"N-BK7",bk7:"N-BK7",nbk7:"N-BK7","n-sf11":"N-SF11",sf11:"N-SF11","fused silica":"Fused Silica","fused-silica":"Fused Silica",silica:"Fused Silica",f2:"F2","n-sf5":"N-SF5","n-sf10":"N-SF10","n-baf10":"N-BAF10",baf10:"N-BAF10","n-lak9":"N-LAK9",lak9:"N-LAK9"};function r8(e){const t=n8[e.toLowerCase().trim()];return t?t8[t]??null:null}function Tg(e,t){const n=e*.001,r=n*n;let i=1;for(let o=0;o<3;o++)i+=t.B[o]*r/(r-t.C[o]);return Math.sqrt(Math.max(i,1))}const ba=.5;function Gy(e,t){const n=Tg(e,t),r=Tg(e+ba,t),i=Tg(e-ba,t);return(r-2*n+i)/(ba*ba)}function i8(e,t){const n=Gy(e+ba,t),r=Gy(e-ba,t);return(n-r)/(2*ba)}const l_=299792458;function o8(e,t,n){const r=e*1e-9,i=t*1e18,o=l_;return n*.001*Math.pow(r,3)*i/(2*Math.PI*Math.PI*o*o)*1e30}function a8(e,t,n,r){const i=e*1e-9,o=t*1e18,s=n*1e27,l=l_,u=r*.001,d=i*s-2*o;return u*Math.pow(i,4)*d/(4*Math.pow(Math.PI,3)*Math.pow(l,3))*1e45}function s8(e,t,n){const r=4*Math.LN2,i=e*e,o=r*r*t*t/i,s=r*r*r*n*n/(i*i);return Math.sqrt(Math.max(0,i+o+s))}function l8(e,t,n){let r=0,i=0;for(const s of e){if(s.type==="Air"||s.refractiveIndex<=1.01)continue;const l=r8(s.material);if(!l)continue;const u=s.thickness,d=Gy(t,l),f=i8(t,l);r+=o8(t,d,u),i+=a8(t,d,f,u)}const o=s8(n,r,i);return{gddFs2:r,todFs3:i,predictedExitPulseWidthFs:o}}function c8(e,t){const{centerX:n,centerY:r,scale:i,dotRadius:o=1.2,inSpecOpacity:s=.5,outlierOpacity:l=.6}=t;if(!e.length)return{dots:null,inSpecCount:0,outlierCount:0};const u=e.reduce((C,[k])=>C+k,0)/e.length,d=e.reduce((C,[,k])=>C+k,0)/e.length,f=e.map(([C,k])=>Math.sqrt((C-u)**2+(k-d)**2)),p=f.reduce((C,k)=>C+k,0)/f.length,m=f.reduce((C,k)=>C+(k-p)**2,0)/f.length,g=Math.sqrt(m)||.001;let x=0,w=0;return{dots:e.map(([C,k],E)=>{const j=f[E]>g;j?w++:x++;const O=n+C*i,T=r-k*i;return y.jsx("circle",{cx:O,cy:T,r:o,fill:j?"rgba(239, 68, 68, 0.85)":"rgba(34, 211, 238, 0.85)",opacity:j?l:s},E)}),inSpecCount:x,outlierCount:w}}function u8({sweep:e,cursorZ:t,diamondZ:n,width:r=140,height:i=44}){if(!e.length)return null;const o=5,s=t-o,l=t+o,u=l-s||1,d=e.filter(E=>E.z>=s-.01&&E.z<=l+.01);if(d.length<2)return null;const f=d.map(E=>{const N=E.rmsPerField?.length?(()=>{const j=E.rmsPerField.filter(O=>O!=null);return j.length>0?Math.sqrt(j.reduce((O,T)=>O+T*T,0)/j.length):null})():E.rmsRadius;return{z:E.z,rms:N}}).filter(({rms:E})=>E!=null);if(f.length<2)return null;const p=Math.max(...f.map(E=>E.rms),1e-6),m=4,g=r-2*m,x=i-2*m,b=`M ${f.map(({z:E,rms:N})=>{const j=m+g*(E-s)/u,O=m+x-x*(N/p);return`${j},${O}`}).join(" L ")}`,C=m+g*Math.max(0,Math.min(1,(t-s)/u)),k=n!=null&&n>=s&&n<=l?m+g*(n-s)/u:null;return y.jsxs("svg",{width:r,height:i,className:"block",children:[y.jsx("path",{d:b,fill:"none",stroke:"rgba(34, 211, 238, 0.9)",strokeWidth:"1.5",vectorEffect:"non-scaling-stroke"}),y.jsx("line",{x1:C,y1:m,x2:C,y2:i-m,stroke:"#f97316",strokeWidth:"1",strokeDasharray:"2 2"}),k!=null&&y.jsx("line",{x1:k,y1:m,x2:k,y2:i-m,stroke:"#F59E0B",strokeWidth:"1.5",strokeDasharray:"3 2",opacity:.95})]})}function d8({sweep:e,currentZ:t,width:n=100,height:r=36}){if(!e.length)return null;const i=e[0].z,s=e[e.length-1].z-i||1,l=e.map(w=>{if(w.rmsPerField?.length){const b=w.rmsPerField.filter(C=>C!=null);return b.length>0?Math.sqrt(b.reduce((C,k)=>C+k*k,0)/b.length):null}return w.rmsRadius}).filter(w=>w!=null),u=Math.max(...l,1e-6),d=2,f=n-2*d,p=r-2*d,m=e.map(w=>{const b=w.rmsPerField?.length?(()=>{const C=w.rmsPerField.filter(k=>k!=null);return C.length>0?Math.sqrt(C.reduce((k,E)=>k+E*E,0)/C.length):null})():w.rmsRadius;return{z:w.z,rms:b}}).filter(({rms:w})=>w!=null).map(({z:w,rms:b})=>{const C=d+f*(w-i)/s,k=d+p-p*(b/u);return`${C},${k}`}),g=m.length>=2?`M ${m.join(" L ")}`:"",x=d+f*Math.max(0,Math.min(1,(t-i)/s));return y.jsxs("svg",{width:n,height:r,className:"block",children:[g&&y.jsx("path",{d:g,fill:"none",stroke:"rgba(34, 211, 238, 0.8)",strokeWidth:"1",vectorEffect:"non-scaling-stroke"}),y.jsx("line",{x1:x,y1:d,x2:x,y2:r-d,stroke:"#f97316",strokeWidth:"1",strokeDasharray:"2 2"})]})}function $i({label:e,value:t,metricId:n,highlightedMetric:r,labelColor:i}){const o=r===n;return y.jsxs(y.Fragment,{children:[y.jsx("span",{className:o?"text-cyan-electric":"text-slate-400",style:i&&!o?{color:i}:void 0,children:e}),y.jsx("span",{className:"tabular-nums",style:{color:i??"var(--electric-cyan, #22D3EE)",...o?{boxShadow:"0 0 12px rgba(34, 211, 238, 0.6)",borderRadius:4,padding:"0 4px"}:{}},children:t})]})}const Fd=64,$d=1e4,U2=10;function f8(e,t,n,r,i){const o=[];for(let s=0;s<e;s++){const l=e===1?.5:s/(e-1),u=(l-.5)*2*i*.9,d=Math.abs(l-.5),f=Me.rayColors,p=d<.15?f[0]:d<.4?f[1]:f[2],m=u*Me.paraxial.focusYFactor,g=[{x:0,y:u},{x:t,y:u},{x:n,y:u+(m-u)*Me.paraxial.lensToFocusFactor},{x:r,y:m}];o.push({points:g,color:p})}return o}function H2(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(n),n+=e[r].thickness??0;return t}function p8(e,t,n,r,i){const{padding:o,scaleFactor:s,minZExtent:l,extendZFactor:u,extendZMin:d}=Me.view,f=i/2,p=t.reduce((O,T)=>O+(T.thickness??0),0),m=t.length?Math.max(n,...t.map(O=>O.diameter??n)):n,g=Math.max(m/2,5);let x=0,w=Math.max(p,d);t.length&&(x=-Math.max(l,p*u),w=p+Math.max(d,p*u));let b=g;if(e?.rays?.length||e?.surfaces?.length){const O=(T,D)=>{x=Math.min(x,T),w=Math.max(w,T),b=Math.max(b,Math.abs(D))};for(const T of e.rays??[])for(const[D,B]of T)O(D,B);for(const T of e.surfaces??[])for(const[D,B]of T)O(D,B);e.focusZ!=null&&O(e.focusZ,0)}const C=w-x,k=2*b+10,E=Math.min((r-2*o)/C,(i-2*o)/k)*s,N=(x+w)/2,j=r/2-N*E;return{scale:E,xOffset:j,cy:f}}function h8(e,t,n){const{minZExtent:r,extendZFactor:i,extendZMin:o}=Me.view,s=t.reduce((p,m)=>p+(m.thickness??0),0),l=t.length?Math.max(n,...t.map(p=>p.diameter??n)):n;let u=Math.max(l/2,5),d=0,f=Math.max(s,o);if(t.length&&(d=-Math.max(r,s*i),f=s+Math.max(o,s*i)),e?.rays?.length||e?.surfaces?.length){const p=(m,g)=>{d=Math.min(d,m),f=Math.max(f,m),u=Math.max(u,Math.abs(g))};for(const m of e.rays??[])for(const[g,x]of m)p(g,x);for(const m of e.surfaces??[])for(const[g,x]of m)p(g,x);e.focusZ!=null&&p(e.focusZ,0)}return{zRange:f-d,yExtent:u}}function m8(e,t){if(!e?.length||e.length<2)return null;const n=e.map(s=>s[0]),r=e.map(s=>s[1]),i=Math.min(...n),o=Math.max(...n);if(t<=i){const s=n[1]-n[0],l=r[1]-r[0],u=Math.abs(s)>1e-12?l/s:0;return r[0]+u*(t-n[0])}if(t>=o){const s=n[n.length-1]-n[n.length-2],l=r[r.length-1]-r[r.length-2],u=Math.abs(s)>1e-12?l/s:0;return r[r.length-1]+u*(t-n[n.length-1])}for(let s=0;s<e.length-1;s++){const l=n[s],u=n[s+1];if(l<=t&&t<=u){const d=u-l,f=Math.abs(d)>1e-12?(t-l)/d:0;return r[s]+f*(r[s+1]-r[s])}}return null}function g8(e,t,n=80){if(!e?.length)return null;const r=[];for(const p of e)for(const m of p)r.push(m[0]);const i=Math.min(...r),o=Math.max(...r);if(o<=i)return null;const s=[];for(let p=0;p<=n;p++)s.push(i+p/n*(o-i));const l=[],u=[];for(const p of s){const m=[];for(const g of e){const x=m8(g,p);x!=null&&m.push(x)}if(m.length>0){const g=Math.max(...m),x=Math.min(...m);l.push(t(p,g)),u.push(t(p,x))}}if(l.length<2)return null;const d=`M ${l.join(" L ")}`,f=`L ${[...u].reverse().join(" L ")} Z`;return`${d} ${f}`}function G2(e,t){if(!e?.length)return null;if(t<=e[0].z)return e[0];if(t>=e[e.length-1].z)return e[e.length-1];let n=0;for(;n<e.length-1&&e[n+1].z<t;)n++;const r=e[n],i=e[n+1],o=(t-r.z)/(i.z-r.z),s=(u,d)=>u!=null&&d!=null?u+o*(d-u):u??d??null,l=r.rmsPerField&&i.rmsPerField&&r.rmsPerField.length===i.rmsPerField.length?r.rmsPerField.map((u,d)=>s(u,i.rmsPerField[d])):r.rmsPerField;return{z:t,rmsRadius:s(r.rmsRadius,i.rmsRadius),beamWidth:s(r.beamWidth,i.beamWidth),chiefRayAngle:s(r.chiefRayAngle,i.chiefRayAngle),yCentroid:s(r.yCentroid,i.yCentroid),numRays:r.numRays,rmsPerField:l}}function v8({className:e="",systemState:t,onSystemStateChange:n,selectedSurfaceId:r,onSelectSurface:i,highlightedMetric:o=null,showPersistentHud:s=!1,showBestFocus:l=!0,snapToFocus:u=!0,snapToSurface:d=!0,runSampleAnalysisRef:f,pulseOptimizeRef:p,onMonteCarloSensitivity:m}){const[g,x]=S.useState(!1),[w,b]=S.useState(!1),[C,k]=S.useState(null),[E,N]=S.useState(!1),[j,O]=S.useState(!1),[T,D]=S.useState(!1),[B,X]=S.useState(!1),[G,F]=S.useState(0),[W,de]=S.useState(null),[ce,Se]=S.useState("geometry"),[ee,K]=S.useState(!1),ie=S.useRef(null),ne=(t.fieldAngles||[0]).length;S.useEffect(()=>{W!=null&&W>=ne&&de(null)},[ne,W]),S.useEffect(()=>{E&&(K(!1),ie.current&&(clearTimeout(ie.current),ie.current=null))},[E]),S.useEffect(()=>()=>{ie.current&&clearTimeout(ie.current)},[]),S.useEffect(()=>{if(p)return p.current=()=>{X(!0),F(me=>me+1)},()=>{p.current=null}},[p]);const R=S.useCallback(()=>{ie.current&&(clearTimeout(ie.current),ie.current=null),K(!0)},[]),$=S.useCallback(()=>{ie.current=setTimeout(()=>{ie.current=null,K(!1)},2e3)},[]);S.useEffect(()=>{const me=be=>{be.code==="Space"&&!(be.target instanceof HTMLInputElement||be.target instanceof HTMLTextAreaElement)&&(be.preventDefault(),O(!0))},Ce=be=>{be.code==="Space"&&(be.preventDefault(),O(!1))};return window.addEventListener("keydown",me),window.addEventListener("keyup",Ce),()=>{window.removeEventListener("keydown",me),window.removeEventListener("keyup",Ce)}},[]);const oe=t.numRays,fe=t.hasTraced,ue=t.traceResult,ve=t.traceError,re=me=>n(Ce=>({...Ce,numRays:me})),U=S.useCallback(async()=>{x(!0),n(me=>({...me,traceError:null}));try{const me=await a_({surfaces:t.surfaces,entrancePupilDiameter:t.entrancePupilDiameter,wavelengths:t.wavelengths,fieldAngles:t.fieldAngles,numRays:t.numRays,focusMode:t.focusMode??"On-Axis",m2Factor:t.m2Factor??1});if(me.error)n(Ce=>({...Ce,hasTraced:!0,traceResult:null,traceError:me.error??null}));else{me.terminationLog?.length&&console.warn("[Trace termination log]",me.terminationLog),me.refractionLog?.length&&(me.refractionLog.forEach(je=>{const He=je.mat_name??"?",ye=je.n2??0;He.toLowerCase()==="air"&&Math.abs(ye-1)>1e-6&&console.warn("[Trace] Air with n_after1:",je)}),console.log("[Trace refraction audit] MATCH AUDIT per surface:",me.refractionLog));const be=(me.rays??[]).map(je=>[...je].sort((He,ye)=>He[0]-ye[0]));n(je=>({...je,hasTraced:!0,traceResult:{rays:be,rayFieldIndices:me.rayFieldIndices,rayPower:me.rayPower,surfaces:me.surfaces??[],focusZ:me.focusZ??0,bestFocusZ:me.bestFocusZ,zOrigin:me.zOrigin,performance:me.performance,metricsSweep:me.metricsSweep??[],gaussianBeam:me.gaussianBeam},traceError:null}))}}catch(me){const Ce=me instanceof Error?me.message:"Trace failed",je=/fetch|network|connection|cors|failed to fetch/i.test(Ce)||Ce==="Trace failed"?"Pyodide worker failed to load. Ensure you're serving from the dist folder: cd dist && npx serve . (or use start-mac.command)":Ce;n(He=>({...He,hasTraced:!0,traceResult:null,traceError:je}))}finally{x(!1)}},[t,n]),M=S.useCallback(async(me=100)=>{if(!t.surfaces.some(be=>(be.radiusTolerance??0)>0||(be.thicknessTolerance??0)>0||(be.tiltTolerance??0)>0)){n(be=>({...be,traceError:"Set tolerances (R, T, Tilt) in System Editor first"}));return}b(!0),k(null),n(be=>({...be,traceError:null}));try{const be=await X6({surfaces:t.surfaces,entrancePupilDiameter:t.entrancePupilDiameter,wavelengths:t.wavelengths,fieldAngles:t.fieldAngles,numRays:t.numRays,focusMode:t.focusMode??"On-Axis",iterations:me});be.error?(n(je=>({...je,traceError:be.error??null})),m?.(null)):(k(be),m?.(be.sensitivityBySurface??null))}catch(be){const je=be instanceof Error?be.message:"Monte Carlo failed";n(He=>({...He,traceError:je}))}finally{b(!1)}},[t,n]);S.useEffect(()=>{if(f)return f.current=()=>M(10),()=>{f.current=null}},[f,M]),S.useEffect(()=>{k(null),m?.(null)},[t.surfaces,t.entrancePupilDiameter,t.numRays,m]),S.useEffect(()=>{t.pendingTrace&&(n(me=>({...me,pendingTrace:!1})),U())},[t.pendingTrace,n,U]);const Y=Me.viewport.width,J=Me.viewport.height,V=t.surfaces,we=t.ghostSurfaces??null,Z=t.entrancePupilDiameter??10,Ie=Z/2,{scale:$e,xOffset:Ke,cy:ct}=S.useMemo(()=>p8(ue,V,Z,Y,J),[ue,V,Z,Y,J]),Nt=S.useMemo(()=>H2(V),[V]),Mt=Nt.length?Nt[Nt.length-1]+(V[V.length-1]?.thickness??0):0,xe=Mt*.7,rt=Nt[0]??0,ht=V[0]?(Nt[0]??0)+(V[0].thickness??0):0,Ge=(me,Ce)=>`${me*$e+Ke},${ct-Ce*$e}`,lt=S.useMemo(()=>!T||!ue?.rays?.length?null:g8(ue.rays,Ge,80),[T,ue?.rays,$e,Ke,ct]),ot=S.useMemo(()=>{const me=ue?.gaussianBeam;if(!me?.beamEnvelope?.length)return null;const Ce=me.beamEnvelope,be=Ce.map(([He,ye])=>Ge(He,-ye)).join(" L "),je=[...Ce].reverse().map(([He,ye])=>Ge(He,ye)).join(" L ");return`M ${be} L ${je} Z`},[ue?.gaussianBeam,$e,Ke,ct]);function Xt(me,Ce,be,je=24){const He=be/2,ye=[];if(Math.abs(Ce)<.1)ye.push(Ge(me,-He)),ye.push(Ge(me,He));else{const Ne=Ce;for(let Ve=0;Ve<=je;Ve++){const ze=(Ve/je-.5)*2*He,mt=Math.max(0,Ne*Ne-ze*ze),$t=Ne-Math.sign(Ne)*Math.sqrt(mt),St=me+$t;ye.push(Ge(St,ze))}}return ye.length>=2?`M ${ye[0]} L ${ye.slice(1).join(" L ")}`:""}const wt=S.useMemo(()=>{const me=[];for(let Ce=0;Ce<V.length;Ce++){const be=V[Ce],je=Nt[Ce]??0,He=be.refractiveIndex??1,ye=Xt(je,be.radius,be.diameter??Z);if(ye&&me.push({type:"surface",path:ye,key:`surf-${Ce}`,refractiveIndex:He,surfaceId:be.id}),Ce<V.length-1){const Ne=V[Ce+1],Ve=Nt[Ce+1]??je+be.thickness,Ye=Xt(je,be.radius,be.diameter??Z),ze=Xt(Ve,Ne.radius,Ne.diameter??Z);if(Ye&&ze){const mt=Ye.split(" L ").map(jn=>jn.replace("M ","")),$t=ze.split(" L ").map(jn=>jn.replace("M ","")).reverse(),St=`M ${mt.join(" L ")} L ${$t.join(" L ")} Z`,xn=He>1.01?"glass":"air";me.push({type:xn,path:St,key:`gap-${Ce}`,refractiveIndex:He,surfaceId:be.id})}}}return me},[V,Nt,Z,$e,Ke,ct]),vn=S.useMemo(()=>{if(!we?.length)return[];const me=H2(we),Ce=[];for(let be=0;be<we.length;be++){const je=we[be],He=me[be]??0,ye=je.refractiveIndex??1,Ne=Xt(He,je.radius,je.diameter??Z);if(Ne&&Ce.push({type:"surface",path:Ne,key:`ghost-surf-${be}`}),be<we.length-1){const Ve=we[be+1],Ye=me[be+1]??He+je.thickness,ze=Xt(He,je.radius,je.diameter??Z),mt=Xt(Ye,Ve.radius,Ve.diameter??Z);if(ze&&mt){const $t=ze.split(" L ").map(si=>si.replace("M ","")),St=mt.split(" L ").map(si=>si.replace("M ","")).reverse(),xn=`M ${$t.join(" L ")} L ${St.join(" L ")} Z`,jn=ye>1.01?"glass":"air";Ce.push({type:jn,path:xn,key:`ghost-gap-${be}`})}}}return Ce},[we,Z,$e,Ke,ct]),yn=S.useMemo(()=>{const me=Me.thermalPowerThresholdW,Ce=t.laserPowerW??0,je=V.find(He=>He.type==="Glass")?.absorptionCoefficient??0;return Ce<=me||je<=0?null:wt.find(He=>He.type==="glass"&&He.key==="gap-0")??null},[t.laserPowerW,V,wt]),On=S.useMemo(()=>{if(!fe)return[];if(ue?.rays?.length){const Ce=t.fieldAngles||[0],be=Math.max(1,Ce.length),je=ue.rayFieldIndices,He=Me.rayColors,ye=Math.max(1,Math.min(He.length,je?.length?Math.max(...je)+1:be)),Ne=new Map;return ue.rays.forEach((Ve,Ye)=>{const ze=je&&je[Ye]!=null?Math.min(je[Ye],ye-1):Math.min(Math.floor(Ye/Math.ceil(ue.rays.length/ye)),ye-1),mt=He[Math.min(ze,He.length-1)],$t={points:Ve.map(([St,xn])=>({x:St,y:xn})),color:mt};Ne.has(ze)||Ne.set(ze,[]),Ne.get(ze).push($t)}),Array.from(Ne.entries()).sort(([Ve],[Ye])=>Ve-Ye).map(([Ve,Ye])=>({color:He[Math.min(Ve,He.length-1)],rays:Ye}))}const me=f8(oe,rt,ht,xe,Ie);return[{color:Me.rayColors[0],rays:me}]},[fe,ue,oe,rt,ht,xe,Ie,t.fieldAngles]),oi=On.reduce((me,Ce)=>me+Ce.rays.length,0),wr=ue?.bestFocusZ,Bn=wr!=null?wr*$e+Ke:null,Wa=S.useMemo(()=>h8(ue,V,Z),[ue,V,Z]),he=S.useRef(null);S.useRef({last:0});const et=S.useRef(null),[Je,Zt]=S.useState(!1),[tt,Ut]=S.useState({isHovering:!1,mouseX:0,mouseY:0,cursorSvgX:0,cursorSvgY:0,scanSvgX:0,cursorZ:0,snappedSurfaceIndex:null});S.useEffect(()=>{const me=be=>{be.altKey&&Zt(!0)},Ce=be=>{be.altKey||Zt(!1)};return window.addEventListener("keydown",me),window.addEventListener("keyup",Ce),()=>{window.removeEventListener("keydown",me),window.removeEventListener("keyup",Ce)}},[]);const Ze=S.useCallback(me=>{const Ce=he.current,be=et.current;if(!Ce)return;let je,He;if(be?.contentComponent){const ze=be.contentComponent.getBoundingClientRect(),mt=Y,$t=J,St=Math.min(ze.width/mt,ze.height/$t),xn=mt*St,jn=$t*St,si=(ze.width-xn)/2,pl=(ze.height-jn)/2;je=(me.clientX-ze.left-si)/St,He=(me.clientY-ze.top-pl)/St}else{const ze=Ce.getBoundingClientRect(),mt=Y,$t=J,St=Math.min(ze.width/mt,ze.height/$t),xn=mt*St,jn=$t*St,si=(ze.width-xn)/2,pl=(ze.height-jn)/2;je=(me.clientX-ze.left-si)/St,He=(me.clientY-ze.top-pl)/St}let ye=je,Ne=null,Ve="None";if(!Je){if(d){let ze=U2;for(let mt=0;mt<Nt.length;mt++){const $t=Nt[mt]*$e+Ke,St=Math.abs(je-$t);St<ze&&(ze=St,ye=$t,Ne=mt,Ve="Surface")}}if(Ve!=="Surface"&&u&&ue?.bestFocusZ!=null){const ze=ue.bestFocusZ*$e+Ke;Math.abs(je-ze)<U2&&(ye=ze,Ve="Focus")}}const Ye=(ye-Ke)/$e;Ut({isHovering:!0,mouseX:me.clientX,mouseY:me.clientY,cursorSvgX:je,cursorSvgY:He,scanSvgX:ye,cursorZ:Ye,snappedSurfaceIndex:Ne})},[$e,Ke,Y,J,Nt,ue?.bestFocusZ,u,d,Je]),Ft=S.useCallback(()=>{Ut(me=>({...me,isHovering:!1}))},[]),Va=S.useCallback(()=>{const me=ue?.bestFocusZ;if(me==null||V.length<2)return;const Ce=V.reduce((ye,Ne)=>ye+(Ne.thickness??0),0),be=V[V.length-1],je=Ce-(be?.thickness??0),He=Math.max(.1,me-je);n(ye=>({...ye,surfaces:ye.surfaces.map((Ne,Ve)=>Ve===ye.surfaces.length-1?{...Ne,thickness:He}:Ne),traceResult:null,traceError:null}))},[ue?.bestFocusZ,V,n]),Pu=tt.isHovering?G2(ue?.metricsSweep??[],tt.cursorZ):null,dl=wr??ue?.focusZ??Mt*.8,Cu=s?G2(ue?.metricsSweep??[],dl):null,fl=tt.isHovering||s,ir=tt.isHovering?Pu:Cu,ai=tt.isHovering?tt.cursorZ:dl,uo=s&&!tt.isHovering,ji=S.useMemo(()=>{const me=t.wavelengths?.[0]??587.6,Ce=t.pulseWidthFs??100;return l8(V.map(be=>({thickness:be.thickness,material:be.material,type:be.type,refractiveIndex:be.refractiveIndex})),me,Ce)},[V,t.wavelengths,t.pulseWidthFs]);return y.jsxs("div",{className:`relative ${e}`,children:[y.jsxs("div",{className:"absolute top-4 left-4 z-10 flex flex-wrap items-center gap-4 glass-card px-4 py-2 rounded-lg",children:[y.jsxs(qe.button,{"data-testid":"trace-button",whileHover:{scale:1.05},whileTap:{scale:.98},onClick:U,disabled:g,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all disabled:opacity-70",style:{background:"linear-gradient(135deg, #22D3EE 0%, #0891b2 100%)",color:"#0B1120",boxShadow:"0 0 24px rgba(34, 211, 238, 0.5)"},children:[g?y.jsx(js,{className:"w-5 h-5 animate-spin",strokeWidth:2}):y.jsx(V3,{className:"w-5 h-5",fill:"currentColor",strokeWidth:0}),g?"Tracing":"Trace"]}),y.jsxs(qe.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>M(),disabled:w,title:"Run Monte Carlo (100 iterations with tolerance jitter)  set R, T, Tilt in System Editor",className:"flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-cyan-electric/50 hover:bg-cyan-electric/15 text-cyan-electric",children:[w?y.jsx(js,{className:"w-4 h-4 animate-spin",strokeWidth:2}):y.jsx(pO,{className:"w-4 h-4",strokeWidth:2}),w?"Monte Carlo":"Monte Carlo"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-slate-400 text-sm whitespace-nowrap",children:"Rays"}),y.jsx("input",{type:"range",min:Me.rayCount.min,max:Me.rayCount.max,value:oe,onChange:me=>re(Number(me.target.value)),className:"w-28 h-2 rounded-full accent-cyan-electric bg-white/10 cursor-pointer"}),y.jsx("span",{className:"text-cyan-electric text-sm font-mono w-6",children:oe})]}),fe&&y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-slate-300",children:[y.jsx("input",{type:"checkbox",checked:T,onChange:me=>D(me.target.checked),className:"rounded accent-cyan-electric"}),"Caustic Envelope"]}),y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-slate-300",children:[y.jsx("input",{type:"checkbox",checked:B,onChange:me=>X(me.target.checked),className:"rounded accent-cyan-electric"}),y.jsx(A3,{className:"w-4 h-4 text-slate-400",strokeWidth:2}),"Show LCA Map"]}),fe&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-400 text-sm whitespace-nowrap",children:"Field"}),y.jsx("div",{className:"flex items-center gap-1.5",children:(t.fieldAngles||[0]).slice(0,Me.maxFieldAngles).map((me,Ce)=>{const be=Me.rayColors[Math.min(Ce,Me.rayColors.length-1)],je=W===Ce;return y.jsx("button",{type:"button",onClick:()=>de(W===Ce?null:Ce),title:W===Ce?"Show all fields":`Show only field ${Ce}${(t.fieldAngles||[])[Ce]!=null?` (${(t.fieldAngles||[])[Ce]})`:""}`,className:`w-3 h-3 rounded-full transition-all ring-offset-2 ring-offset-slate-900 ${je?"ring-2 ring-white scale-125":"ring-0 hover:scale-110 opacity-80 hover:opacity-100"}`,style:{backgroundColor:be,boxShadow:je?`0 0 6px ${be}`:void 0},"aria-label":`Filter to field ${Ce}`,"aria-pressed":je},Ce)})})]})]}),ve&&y.jsxs("div",{className:"absolute top-4 right-4 z-20 glass-card px-4 py-3 rounded-lg text-red-400 text-sm max-w-sm border border-red-500/30 bg-slate-900/95",children:[y.jsx("p",{className:"font-medium text-red-300 mb-1",children:"Trace error"}),y.jsx("p",{className:"text-red-200/90",children:ve}),y.jsx("button",{type:"button",onClick:()=>n(me=>({...me,traceError:null})),className:"mt-2 text-xs text-slate-400 hover:text-slate-200 underline",children:"Dismiss"})]}),y.jsx(ni,{children:g&&y.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center pointer-events-none","aria-live":"polite",children:y.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"glass-card px-4 py-2 rounded-lg flex items-center gap-2 text-cyan-electric/90 text-sm",children:[y.jsx(js,{className:"w-4 h-4 animate-spin",strokeWidth:2}),y.jsx("span",{children:"Calculating"})]},"calculating")})}),y.jsxs("div",{className:"relative overflow-hidden rounded-xl",style:{backgroundColor:"#0B1120",border:"1px solid rgba(34, 211, 238, 0.2)"},onMouseEnter:R,onMouseLeave:$,children:[B&&y.jsx(e8,{systemState:t,onSystemStateChange:n,pulseOptimizeTrigger:G}),y.jsx(H6,{initialScale:1,minScale:.1,maxScale:20,centerOnInit:!0,limitToBounds:!1,smooth:!0,wheel:{step:.15,smoothStep:.002,wheelDisabled:!1,touchPadDisabled:!1},panning:{disabled:!1,velocityDisabled:!0,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!1,activationKeys:[" "],excluded:[]},onPanningStart:()=>N(!0),onPanningStop:()=>N(!1),zoomAnimation:{animationTime:200,animationType:"easeOut"},doubleClick:{disabled:!0},children:({zoomIn:me,zoomOut:Ce,centerView:be,instance:je})=>{et.current=je?{transformState:je.transformState,contentComponent:je.contentComponent}:null;const He=()=>{const ye=je?.wrapperComponent;if(!ye)return;const Ne=ye.offsetWidth,Ve=ye.offsetHeight,Ye=.1,ze=Wa.zRange*$e,mt=2*Wa.yExtent*$e,$t=Math.min(Ne*(1-2*Ye)/ze,Ve*(1-2*Ye)/mt);be($t,450,"easeOutCubic")};return y.jsxs(y.Fragment,{children:[y.jsx(Y6,{wrapperStyle:{width:"100%",height:"100%",minHeight:"320px",cursor:E?"grabbing":j?"grab":"default"},contentStyle:{width:"100%",height:"100%",minHeight:"320px"},children:y.jsxs("svg",{ref:he,viewBox:`0 0 ${Y} ${J}`,className:"w-full h-full min-h-[320px] block",preserveAspectRatio:"xMidYMid meet",onMouseEnter:Ze,onMouseMove:Ze,onMouseLeave:Ft,onDoubleClick:Va,children:[y.jsxs("defs",{children:[y.jsx("pattern",{id:"infinite-grid",width:Fd,height:Fd,patternUnits:"userSpaceOnUse",children:y.jsx("path",{d:`M ${Fd} 0 L 0 0 0 ${Fd}`,fill:"none",stroke:"#22D3EE",strokeWidth:"0.5",opacity:"0.12"})}),y.jsxs("filter",{id:"lens-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[y.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"blur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("filter",{id:"glow-strong",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[y.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"blur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("filter",{id:"diamond-glow",x:"-100%",y:"-100%",width:"300%",height:"300%",children:[y.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"blur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("linearGradient",{id:"lens-fill",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[y.jsx("stop",{offset:"0%",stopColor:"#22D3EE",stopOpacity:"0.15"}),y.jsx("stop",{offset:"50%",stopColor:"#22D3EE",stopOpacity:"0.25"}),y.jsx("stop",{offset:"100%",stopColor:"#22D3EE",stopOpacity:"0.15"})]}),y.jsxs("linearGradient",{id:"caustic-envelope-fill",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[y.jsx("stop",{offset:"0%",stopColor:"#22D3EE",stopOpacity:"0.08"}),y.jsx("stop",{offset:"50%",stopColor:"#22D3EE",stopOpacity:"0.18"}),y.jsx("stop",{offset:"100%",stopColor:"#22D3EE",stopOpacity:"0.08"})]}),y.jsxs("radialGradient",{id:"thermal-heat-map",cx:"50%",cy:"50%",r:"50%",gradientUnits:"objectBoundingBox",children:[y.jsx("stop",{offset:"0%",stopColor:"#f97316",stopOpacity:"0.9"}),y.jsx("stop",{offset:"40%",stopColor:"#ea580c",stopOpacity:"0.5"}),y.jsx("stop",{offset:"70%",stopColor:"#dc2626",stopOpacity:"0.2"}),y.jsx("stop",{offset:"100%",stopColor:"#7f1d1d",stopOpacity:"0"})]})]}),y.jsx("rect",{x:-$d,y:-$d,width:$d*2,height:$d*2,fill:"url(#infinite-grid)"}),lt&&y.jsx("path",{d:lt,fill:"url(#caustic-envelope-fill)",stroke:"rgba(34, 211, 238, 0.4)",strokeWidth:"0.5",opacity:"0.6",pointerEvents:"none"}),ot&&y.jsx("path",{d:ot,fill:"rgba(34, 211, 238, 0.15)",stroke:"rgba(34, 211, 238, 0.5)",strokeWidth:"1",opacity:"0.9",pointerEvents:"none"}),y.jsx("g",{filter:"url(#lens-glow)",children:wt.map(ye=>{const Ne=r===ye.surfaceId,Ve=Ye=>{Ye.stopPropagation(),i(ye.surfaceId)};return ye.type==="glass"?y.jsx("path",{d:ye.path,fill:Ne?"rgba(34, 211, 238, 0.3)":"rgba(34, 211, 238, 0.2)",stroke:"#22D3EE",strokeWidth:Ne?2:1.5,strokeOpacity:Ne?1:.8,strokeDasharray:Ne?"4 2":void 0,style:{filter:Ne?"drop-shadow(0 0 12px rgba(34, 211, 238, 0.8))":"drop-shadow(0 0 6px rgba(34, 211, 238, 0.4))",cursor:"pointer"},onClick:Ve},ye.key):ye.type==="air"?y.jsx("path",{d:ye.path,fill:Ne?"rgba(255, 255, 255, 0.08)":"rgba(255, 255, 255, 0.03)",stroke:Ne?"#22D3EE":"rgba(148, 163, 184, 0.4)",strokeWidth:Ne?1.5:1,strokeOpacity:Ne?.9:.6,strokeDasharray:Ne?"4 2":void 0,style:{cursor:"pointer"},onClick:Ve},ye.key):y.jsx("path",{d:ye.path,fill:"none",stroke:"#22D3EE",strokeWidth:Ne?2:1.5,strokeOpacity:Ne?1:.8,strokeDasharray:Ne?"4 2":void 0,style:{filter:Ne?"drop-shadow(0 0 10px rgba(34, 211, 238, 0.9))":void 0,cursor:"pointer"},onClick:Ve},ye.key)})}),vn.length>0&&y.jsx("g",{opacity:.4,pointerEvents:"none",children:vn.map(ye=>y.jsx("path",{d:ye.path,fill:ye.type==="glass"?"rgba(34, 211, 238, 0.25)":ye.type==="air"?"rgba(255,255,255,0.05)":"none",stroke:"#22D3EE",strokeWidth:1,strokeOpacity:.7},ye.key))}),yn&&y.jsx("path",{d:yn.path,fill:"url(#thermal-heat-map)",stroke:"none",opacity:.6,pointerEvents:"none"}),On.map((ye,Ne)=>({group:ye,origIdx:Ne})).filter(({origIdx:ye})=>W===null||ye===W).map(({group:ye,origIdx:Ne})=>y.jsx("g",{stroke:ye.color,strokeWidth:"0.5",strokeOpacity:"0.8",fill:"none",style:{filter:`drop-shadow(0 0 1px ${ye.color}40)`},children:ye.rays.map((Ve,Ye)=>{const ze=Ve.points,$t=(ze[0]?.x<=ze[ze.length-1]?.x?ze:[...ze].reverse()).map((xn,jn)=>`${jn===0?"M":"L"} ${Ge(xn.x,xn.y)}`).join(" "),St=On.slice(0,Ne).reduce((xn,jn)=>xn+jn.rays.length,0)+Ye;return y.jsx(qe.path,{d:$t,fill:"none",initial:{pathLength:0,opacity:0},animate:g?{pathLength:1,opacity:[.5,1,.5]}:{pathLength:1,opacity:.8},transition:g?{opacity:{duration:.8,repeat:1/0,ease:"easeInOut"}}:{duration:.35,delay:St*.012,ease:"easeOut"}},`field-${Ne}-ray-${Ye}-${ze[0]?.x??0}-${ze[0]?.y??0}`)})},Ne)),C?.spots?.length&&Bn!=null&&(()=>{const Ne=Bn+56,Ve=ct,{dots:Ye}=c8(C.spots,{centerX:Ne,centerY:Ve,scale:60,dotRadius:1.2,inSpecOpacity:.5,outlierOpacity:.6});return y.jsxs("g",{children:[y.jsx("defs",{children:y.jsx("clipPath",{id:"spot-diagram-clip",children:y.jsx("rect",{x:Bn+12,y:ct-44,width:88,height:88,rx:4})})}),y.jsx("rect",{x:Bn+12,y:ct-44,width:88,height:88,rx:4,fill:"rgba(15, 23, 42, 0.85)",stroke:"rgba(34, 211, 238, 0.5)",strokeWidth:"1"}),y.jsx("g",{clipPath:"url(#spot-diagram-clip)",children:Ye}),y.jsx("text",{x:Bn+56,y:ct-32,textAnchor:"middle",fill:"#94a3b8",fontSize:9,children:`Spot (n=${C.numValid??0})`}),y.jsx("text",{x:Bn+56,y:ct+38,textAnchor:"middle",fill:"#22D3EE",fontSize:9,children:`RMS ${((C.rmsSpread??0)*1e3).toFixed(2)} m`})]},"monte-carlo-spot")})(),y.jsx(ni,{children:l&&Bn!=null&&fe&&oi>0&&y.jsx(qe.g,{initial:{x:Bn,y:ct,opacity:0,scale:0},animate:{x:Bn,y:ct,opacity:1,scale:1},transition:{duration:.25,ease:"easeOut"},exit:{x:Bn,y:ct,opacity:0,scale:0,transition:{duration:.2}},style:{transformBox:"fill-box",transformOrigin:"center"},children:y.jsx("polygon",{points:"0,-6 6,0 0,6 -6,0",fill:t.focusMode==="Balanced"?"#F59E0B":"white",stroke:t.focusMode==="Balanced"?"rgba(245,158,11,0.95)":"rgba(255,255,255,0.9)",strokeWidth:"1",filter:"url(#diamond-glow)"})},"focus-diamond")}),tt.isHovering&&y.jsxs(y.Fragment,{children:[y.jsx(qe.g,{x:tt.scanSvgX,initial:!1,animate:tt.snappedSurfaceIndex!=null?{x:[tt.scanSvgX,tt.scanSvgX+1,tt.scanSvgX-1,tt.scanSvgX],transition:{duration:.15}}:{x:tt.scanSvgX},children:y.jsx("line",{x1:0,y1:0,x2:0,y2:J,stroke:tt.snappedSurfaceIndex!=null?"#ffffff":"#22D3EE",strokeWidth:"1",strokeDasharray:"4 4",strokeOpacity:"0.8",pointerEvents:"none"})},tt.snappedSurfaceIndex!=null?`snapped-${tt.snappedSurfaceIndex}`:"free"),y.jsx("circle",{cx:tt.cursorSvgX,cy:tt.cursorSvgY,r:"8",fill:"none",stroke:"#f97316",strokeWidth:"2",opacity:"0.9",pointerEvents:"none"})]})]})}),y.jsxs(qe.div,{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 flex items-center gap-2 glass-card px-3 py-2 rounded-lg",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:400,damping:25},children:[y.jsx(qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>me(),className:"flex items-center justify-center w-9 h-9 rounded-lg transition-colors hover:bg-white/10","aria-label":"Zoom In",children:y.jsx(e4,{className:"w-5 h-5 text-cyan-electric",strokeWidth:2})}),y.jsx(qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ce(),className:"flex items-center justify-center w-9 h-9 rounded-lg transition-colors hover:bg-white/10","aria-label":"Zoom Out",children:y.jsx(t4,{className:"w-5 h-5 text-cyan-electric",strokeWidth:2})}),y.jsxs(qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:He,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-cyan-electric transition-colors hover:bg-white/10","aria-label":"Reset View",children:[y.jsx($3,{className:"w-4 h-4",strokeWidth:2}),"Reset View"]})]}),C?.spots?.length&&y.jsxs(qe.div,{className:"absolute bottom-4 right-4 z-[5] px-3 py-2 rounded-lg text-xs pointer-events-none bg-slate-900/70 backdrop-blur-md border border-cyan-electric/30",initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.2},children:[y.jsx("div",{className:"font-medium text-cyan-electric/90 mb-1.5",children:"Monte Carlo Yield Map"}),y.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-electric/60"}),"Within 1"]}),y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500/80"}),"Outliers"]})]})]}),fe&&(t.fieldAngles?.length??0)>0&&y.jsx(qe.div,{className:"absolute top-3 right-3 z-[5] px-3 py-2 rounded-lg pointer-events-none bg-slate-900/40 backdrop-blur-md border border-white/10 shadow-lg",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:y.jsx("div",{className:"flex flex-col gap-1.5",children:(t.fieldAngles||[0]).slice(0,Me.maxFieldAngles).map((ye,Ne)=>{const Ve=Me.rayColors[Math.min(Ne,Me.rayColors.length-1)];return y.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-300",children:[y.jsx("span",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:Ve,boxShadow:`0 0 6px ${Ve}60`}}),y.jsxs("span",{children:[Number(ye).toFixed(1)," Field"]})]},Ne)})})}),y.jsxs(qe.div,{className:"absolute bottom-0 left-0 z-[5] ml-5 mb-5 px-4 py-2 rounded-full text-xs text-slate-300 pointer-events-none bg-slate-900/50 backdrop-blur-[8px] border border-white/10",initial:{opacity:0,x:-20},animate:{opacity:ee?1:0,x:ee?0:-20},transition:{duration:.25,ease:"easeOut"},children:["Hold ",y.jsx("kbd",{className:`px-1.5 py-0.5 rounded font-mono text-[10px] transition-all duration-150 ${j?"bg-cyan-500/30 text-cyan-200 shadow-[0_0_8px_rgba(34,211,238,0.5),0_1px_0_0_rgba(255,255,255,0.15)]":"bg-slate-800/90 text-slate-200 shadow-[0_1px_0_0_rgba(255,255,255,0.1),inset_0_-1px_0_0_rgba(0,0,0,0.3)]"}`,children:"Space"})," + Drag to Pan"]}),fl&&y.jsxs(qe.div,{className:`z-50 rounded-lg px-3 py-2 backdrop-blur-[12px] bg-slate-900/70 border ${tt.snappedSurfaceIndex!=null?"border-white/60":"border-cyan-electric/50"} ${uo?"absolute bottom-20 left-4":"fixed"}`,style:{fontFamily:"'JetBrains Mono', 'SF Mono', monospace",...uo?{}:{left:tt.mouseX+16,top:tt.mouseY+16}},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:200,damping:20},exit:{opacity:0,scale:.95},children:[y.jsxs("div",{className:"flex gap-1 mb-2 border-b border-white/10 pb-2",style:{pointerEvents:uo?"auto":"none"},children:[y.jsx("button",{type:"button",onClick:()=>Se("geometry"),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${ce==="geometry"?"bg-cyan-electric/40 text-cyan-electric":"text-slate-500 hover:text-slate-300"}`,children:"Geometry"}),y.jsx("button",{type:"button",onClick:()=>Se("ultrafast"),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${ce==="ultrafast"?"bg-cyan-electric/40 text-cyan-electric":"text-slate-500 hover:text-slate-300"}`,children:"Ultrafast"})]}),ce==="ultrafast"?y.jsxs("div",{className:"grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-xs pointer-events-none",children:[y.jsx($i,{label:"GDD:",value:`${ji.gddFs2.toFixed(2)} fs`,metricId:"gdd",highlightedMetric:o,labelColor:"#22D3EE"}),y.jsx($i,{label:"TOD:",value:`${ji.todFs3.toFixed(2)} fs`,metricId:"tod",highlightedMetric:o,labelColor:"#22D3EE"}),y.jsxs("div",{className:"col-span-2 flex justify-between gap-2 border-t border-white/10 mt-1 pt-1",children:[y.jsx("span",{className:"text-slate-400",children:"Input Pulse:"}),y.jsxs("span",{className:"text-slate-300 tabular-nums",children:[t.pulseWidthFs??100," fs"]})]}),y.jsxs("div",{className:"col-span-2 flex justify-between gap-2",children:[y.jsx("span",{className:"text-slate-400 font-medium",children:"Predicted Exit Pulse:"}),y.jsxs("span",{className:"text-cyan-electric tabular-nums font-medium",children:[ji.predictedExitPulseWidthFs.toFixed(2)," fs"]})]})]}):y.jsxs(y.Fragment,{children:[tt.snappedSurfaceIndex!=null&&!uo&&(()=>{const ye=tt.snappedSurfaceIndex,Ne=ye+1,Ve=V[ye],Ye=Ve?Ve.description||Ve.material||(Ve.type==="Glass"?"Lens":"Air"):`Surface ${Ne}`;return y.jsxs("div",{className:"text-[10px] font-medium text-white/90 mb-1.5 -mt-0.5",children:["Surface ",Ne,": ",Ye]})})(),y.jsxs("div",{className:"grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-xs",children:[y.jsx($i,{label:"Z:",value:`${ai.toFixed(2)} mm`,metricId:"z",highlightedMetric:o}),ir?.rmsPerField&&ir.rmsPerField.length>0?y.jsxs(y.Fragment,{children:[ir.rmsPerField.map((ye,Ne)=>{const Ve=["Cyan RMS","Orange RMS","Green RMS"],Ye=["#22D3EE","#F97316","#22C55E"],ze=Ve[Math.min(Ne,Ve.length-1)],mt=Ye[Math.min(Ne,Ye.length-1)];return y.jsx($i,{label:`${ze}:`,value:ye!=null?`${(ye*1e3).toFixed(2)} m`:"",metricId:"rms",highlightedMetric:o,labelColor:mt},Ne)}),(()=>{const ye=ir.rmsPerField.filter(Ve=>Ve!=null),Ne=ye.length>0?Math.sqrt(ye.reduce((Ve,Ye)=>Ve+Ye*Ye,0)/ye.length):null;return y.jsxs("div",{className:"col-span-2 flex justify-between gap-2 border-t border-white/10 mt-1 pt-1",children:[y.jsx("span",{className:"text-slate-400 font-medium",children:"System Avg RMS:"}),y.jsx("span",{className:"text-amber-400 tabular-nums font-medium",children:Ne!=null?`${(Ne*1e3).toFixed(2)} m`:""})]})})()]}):y.jsx($i,{label:"RMS:",value:ir?.rmsRadius!=null?`${(ir.rmsRadius*1e3).toFixed(2)} m`:"",metricId:"rms",highlightedMetric:o}),y.jsx($i,{label:"Width:",value:ir?.beamWidth!=null?`${ir.beamWidth.toFixed(3)} mm`:"",metricId:"beamWidth",highlightedMetric:o}),y.jsx($i,{label:"CRA:",value:ir?.chiefRayAngle!=null?`${ir.chiefRayAngle.toFixed(2)}`:"",metricId:"cra",highlightedMetric:o}),wr!=null&&y.jsxs("div",{className:"col-span-2 flex gap-2",children:[y.jsx("span",{className:"text-slate-400",children:"Dist to Best Focus:"}),y.jsxs("span",{className:"text-cyan-electric tabular-nums",children:[Math.abs(ai-wr).toFixed(2)," mm"]})]}),ue?.gaussianBeam&&wr!=null&&y.jsxs(y.Fragment,{children:[y.jsx($i,{label:"Spot Size (w) at focus:",value:`${(ue.gaussianBeam.spotSizeAtFocus*1e3).toFixed(2)} m`,metricId:"spotSize",highlightedMetric:o,labelColor:"#22D3EE"}),y.jsx($i,{label:"Rayleigh (z_R) at focus:",value:`${ue.gaussianBeam.rayleighRange.toFixed(2)} mm`,metricId:"rayleigh",highlightedMetric:o,labelColor:"#22D3EE"})]}),ue?.metricsSweep?.length&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"col-span-2 mt-1.5 pt-1.5 border-t border-white/10",children:[y.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"RMS vs Z"}),y.jsx(d8,{sweep:ue.metricsSweep,currentZ:ai,width:120,height:40})]}),y.jsxs("div",{className:"col-span-2 mt-1 pt-1 border-t border-white/10",children:[y.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Through-Focus (10 mm)  gold line = diamond minimum"}),y.jsx(u8,{sweep:ue.metricsSweep,cursorZ:ai,diamondZ:wr??null,width:140,height:44})]})]})]})]})]})]})}})]})]})}function Dg({systemState:e,onSystemStateChange:t,selectedSurfaceId:n,onSelectSurface:r,highlightedMetric:i=null,showPersistentHud:o=!1,showBestFocus:s=!0,snapToFocus:l=!0,snapToSurface:u=!0,runSampleAnalysisRef:d,pulseOptimizeRef:f,onMonteCarloSensitivity:p}){return y.jsx("div",{className:"h-full min-h-[500px] w-full",children:y.jsx(v8,{className:"h-full w-full",systemState:e,onSystemStateChange:t,selectedSurfaceId:n,onSelectSurface:r,highlightedMetric:i,showPersistentHud:o,showBestFocus:s,snapToFocus:l,snapToSurface:u,runSampleAnalysisRef:d,pulseOptimizeRef:f,onMonteCarloSensitivity:p})})}var ru=cO();const Uo=to(ru);function cn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var y8=typeof Symbol=="function"&&Symbol.observable||"@@observable",K2=y8,Mg=()=>Math.random().toString(36).substring(7).split("").join("."),x8={INIT:`@@redux/INIT${Mg()}`,REPLACE:`@@redux/REPLACE${Mg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mg()}`},Of=x8;function Rx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Lx(e,t,n){if(typeof e!="function")throw new Error(cn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(cn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(cn(1));return n(Lx)(e,t)}let r=e,i=t,o=new Map,s=o,l=0,u=!1;function d(){s===o&&(s=new Map,o.forEach((b,C)=>{s.set(C,b)}))}function f(){if(u)throw new Error(cn(3));return i}function p(b){if(typeof b!="function")throw new Error(cn(4));if(u)throw new Error(cn(5));let C=!0;d();const k=l++;return s.set(k,b),function(){if(C){if(u)throw new Error(cn(6));C=!1,d(),s.delete(k),o=null}}}function m(b){if(!Rx(b))throw new Error(cn(7));if(typeof b.type>"u")throw new Error(cn(8));if(typeof b.type!="string")throw new Error(cn(17));if(u)throw new Error(cn(9));try{u=!0,i=r(i,b)}finally{u=!1}return(o=s).forEach(k=>{k()}),b}function g(b){if(typeof b!="function")throw new Error(cn(10));r=b,m({type:Of.REPLACE})}function x(){const b=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(cn(11));function k(){const N=C;N.next&&N.next(f())}return k(),{unsubscribe:b(k)}},[K2](){return this}}}return m({type:Of.INIT}),{dispatch:m,subscribe:p,getState:f,replaceReducer:g,[K2]:x}}function b8(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Of.INIT})>"u")throw new Error(cn(12));if(typeof n(void 0,{type:Of.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cn(13))})}function c_(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{b8(n)}catch(o){i=o}return function(s={},l){if(i)throw i;let u=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],m=n[p],g=s[p],x=m(g,l);if(typeof x>"u")throw l&&l.type,new Error(cn(14));d[p]=x,u=u||x!==g}return u=u||r.length!==Object.keys(s).length,u?d:s}}function Y2(e,t){return function(...n){return t(e.apply(this,n))}}function q2(e,t){if(typeof e=="function")return Y2(e,t);if(typeof e!="object"||e===null)throw new Error(cn(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=Y2(i,t))}return n}function Ec(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function u_(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(cn(15))};const s={getState:i.getState,dispatch:(u,...d)=>o(u,...d)},l=e.map(u=>u(s));return o=Ec(...l)(i.dispatch),{...i,dispatch:o}}}function d_(e){return Rx(e)&&"type"in e&&typeof e.type=="string"}var Ig={exports:{}},Rg={};var X2;function w8(){if(X2)return Rg;X2=1;var e=Ys();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,l=e.useDebugValue;return Rg.useSyncExternalStoreWithSelector=function(u,d,f,p,m){var g=i(null);if(g.current===null){var x={hasValue:!1,value:null};g.current=x}else x=g.current;g=s(function(){function b(j){if(!C){if(C=!0,k=j,j=p(j),m!==void 0&&x.hasValue){var O=x.value;if(m(O,j))return E=O}return E=j}if(O=E,n(k,j))return O;var T=p(j);return m!==void 0&&m(O,T)?(k=j,O):(k=j,E=T)}var C=!1,k,E,N=f===void 0?null:f;return[function(){return b(d())},N===null?void 0:function(){return b(N())}]},[d,f,p,m]);var w=r(u,g[0],g[1]);return o(function(){x.hasValue=!0,x.value=w},[w]),l(w),w},Rg}var Z2;function S8(){return Z2||(Z2=1,Ig.exports=w8()),Ig.exports}S8();var P8=S.version.startsWith("19"),C8=Symbol.for(P8?"react.transitional.element":"react.element"),A8=Symbol.for("react.portal"),k8=Symbol.for("react.fragment"),E8=Symbol.for("react.strict_mode"),N8=Symbol.for("react.profiler"),O8=Symbol.for("react.consumer"),j8=Symbol.for("react.context"),f_=Symbol.for("react.forward_ref"),_8=Symbol.for("react.suspense"),T8=Symbol.for("react.suspense_list"),Fx=Symbol.for("react.memo"),D8=Symbol.for("react.lazy"),M8=f_,I8=Fx;function R8(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case C8:switch(e=e.type,e){case k8:case N8:case E8:case _8:case T8:return e;default:switch(e=e&&e.$$typeof,e){case j8:case f_:case D8:case Fx:return e;case O8:return e;default:return t}}case A8:return t}}}function L8(e){return R8(e)===Fx}function F8(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let l=!1,u,d,f,p,m;function g(k,E){return u=k,d=E,f=e(u,d),p=t(r,d),m=n(f,p,d),l=!0,m}function x(){return f=e(u,d),t.dependsOnOwnProps&&(p=t(r,d)),m=n(f,p,d),m}function w(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(p=t(r,d)),m=n(f,p,d),m}function b(){const k=e(u,d),E=!s(k,f);return f=k,E&&(m=n(f,p,d)),m}function C(k,E){const N=!o(E,d),j=!i(k,u,E,d);return u=k,d=E,N&&j?x():N?w():j?b():m}return function(E,N){return l?C(E,N):g(E,N)}}function $8(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const o=t(e,i),s=n(e,i),l=r(e,i);return F8(o,s,l,e,i)}function B8(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function Ky(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Q2(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function p_(e,t){return function(r,{displayName:i}){const o=function(l,u){return o.dependsOnOwnProps?o.mapToProps(l,u):o.mapToProps(l,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(l,u){o.mapToProps=e,o.dependsOnOwnProps=Q2(e);let d=o(l,u);return typeof d=="function"&&(o.mapToProps=d,o.dependsOnOwnProps=Q2(d),d=o(l,u)),d},o}}function $x(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function z8(e){return e&&typeof e=="object"?Ky(t=>B8(e,t)):e?typeof e=="function"?p_(e):$x(e,"mapDispatchToProps"):Ky(t=>({dispatch:t}))}function W8(e){return e?typeof e=="function"?p_(e):$x(e,"mapStateToProps"):Ky(()=>({}))}function V8(e,t,n){return{...n,...e,...t}}function U8(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(u,d,f){const p=e(u,d,f);return o?i(p,s)||(s=p):(o=!0,s=p),s}}}function H8(e){return e?typeof e=="function"?U8(e):$x(e,"mergeProps"):()=>V8}function G8(e){e()}function K8(){let e=null,t=null;return{clear(){e=null,t=null},notify(){G8(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var J2={notify(){},get:()=>[]};function h_(e,t){let n,r=J2,i=0,o=!1;function s(w){f();const b=r.subscribe(w);let C=!1;return()=>{C||(C=!0,b(),p())}}function l(){r.notify()}function u(){x.onStateChange&&x.onStateChange()}function d(){return o}function f(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=K8())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=J2)}function m(){o||(o=!0,f())}function g(){o&&(o=!1,p())}const x={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>r};return x}var Y8=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q8=Y8(),X8=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Z8=X8(),Q8=()=>q8||Z8?S.useLayoutEffect:S.useEffect,jf=Q8();function eC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function df(e,t){if(eC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!eC(e[n[i]],t[n[i]]))return!1;return!0}var J8={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eW={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tW={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nW={[M8]:tW,[I8]:m_};function tC(e){return L8(e)?m_:nW[e.$$typeof]||J8}var rW=Object.defineProperty,iW=Object.getOwnPropertyNames,nC=Object.getOwnPropertySymbols,oW=Object.getOwnPropertyDescriptor,aW=Object.getPrototypeOf,rC=Object.prototype;function Yy(e,t){if(typeof t!="string"){if(rC){const o=aW(t);o&&o!==rC&&Yy(e,o)}let n=iW(t);nC&&(n=n.concat(nC(t)));const r=tC(e),i=tC(t);for(let o=0;o<n.length;++o){const s=n[o];if(!eW[s]&&!(i&&i[s])&&!(r&&r[s])){const l=oW(t,s);try{rW(e,s,l)}catch{}}}}return e}var sW=Symbol.for("react-redux-context"),lW=typeof globalThis<"u"?globalThis:{};function cW(){if(!S.createContext)return{};const e=lW[sW]??=new Map;let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var g_=cW(),uW=[null,null];function dW(e,t,n){jf(()=>e(...t),n)}function fW(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function pW(e,t,n,r,i,o,s,l,u,d,f){if(!e)return()=>{};let p=!1,m=null;const g=()=>{if(p||!l.current)return;const w=t.getState();let b,C;try{b=r(w,i.current)}catch(k){C=k,m=k}C||(m=null),b===o.current?s.current||d():(o.current=b,u.current=b,s.current=!0,f())};return n.onStateChange=g,n.trySubscribe(),g(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}function hW(e,t){return e===t}function mW(e,t,n,{pure:r,areStatesEqual:i=hW,areOwnPropsEqual:o=df,areStatePropsEqual:s=df,areMergedPropsEqual:l=df,forwardRef:u=!1,context:d=g_}={}){const f=d,p=W8(e),m=z8(t),g=H8(n),x=!!e;return b=>{const C=b.displayName||b.name||"Component",k=`Connect(${C})`,E={shouldHandleStateChanges:x,displayName:k,wrappedComponentName:C,WrappedComponent:b,initMapStateToProps:p,initMapDispatchToProps:m,initMergeProps:g,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:l};function N(T){const[D,B,X]=S.useMemo(()=>{const{reactReduxForwardedRef:V,...we}=T;return[T.context,V,we]},[T]),G=S.useMemo(()=>{let V=f;return D?.Consumer,V},[D,f]),F=S.useContext(G),W=!!T.store&&!!T.store.getState&&!!T.store.dispatch,de=!!F&&!!F.store,ce=W?T.store:F.store,Se=de?F.getServerState:ce.getState,ee=S.useMemo(()=>$8(ce.dispatch,E),[ce]),[K,ie]=S.useMemo(()=>{if(!x)return uW;const V=h_(ce,W?void 0:F.subscription),we=V.notifyNestedSubs.bind(V);return[V,we]},[ce,W,F]),ne=S.useMemo(()=>W?F:{...F,subscription:K},[W,F,K]),R=S.useRef(void 0),$=S.useRef(X),oe=S.useRef(void 0),fe=S.useRef(!1),ue=S.useRef(!1),ve=S.useRef(void 0);jf(()=>(ue.current=!0,()=>{ue.current=!1}),[]);const re=S.useMemo(()=>()=>oe.current&&X===$.current?oe.current:ee(ce.getState(),X),[ce,X]),U=S.useMemo(()=>we=>K?pW(x,ce,K,ee,$,R,fe,ue,oe,ie,we):()=>{},[K]);dW(fW,[$,R,fe,X,oe,ie]);let M;try{M=S.useSyncExternalStore(U,re,Se?()=>ee(Se(),X):re)}catch(V){throw ve.current&&(V.message+=`
The error may be correlated with this previous error:
${ve.current.stack}

`),V}jf(()=>{ve.current=void 0,oe.current=void 0,R.current=M});const Y=S.useMemo(()=>S.createElement(b,{...M,ref:B}),[B,b,M]);return S.useMemo(()=>x?S.createElement(G.Provider,{value:ne},Y):Y,[G,Y,ne])}const O=S.memo(N);if(O.WrappedComponent=b,O.displayName=N.displayName=k,u){const D=S.forwardRef(function(X,G){return S.createElement(O,{...X,reactReduxForwardedRef:G})});return D.displayName=k,D.WrappedComponent=b,Yy(D,b)}return Yy(O,b)}}var v_=mW;function gW(e){const{children:t,context:n,serverState:r,store:i}=e,o=S.useMemo(()=>{const u=h_(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=S.useMemo(()=>i.getState(),[i]);jf(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,s]);const l=n||g_;return S.createElement(l.Provider,{value:o},t)}var y_=gW,vW="Invariant failed";function yW(e,t){throw new Error(vW)}var ei=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,l=i-n,u={top:n,right:r,bottom:i,left:o,width:s,height:l,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return u},Bx=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},iC=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},xW=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Lg={top:0,right:0,bottom:0,left:0},zx=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Lg:r,o=t.border,s=o===void 0?Lg:o,l=t.padding,u=l===void 0?Lg:l,d=ei(Bx(n,i)),f=ei(iC(n,s)),p=ei(iC(f,u));return{marginBox:d,borderBox:ei(n),paddingBox:f,contentBox:p,margin:i,border:s,padding:u}},Or=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&yW(),i},bW=function(){return{x:window.pageXOffset,y:window.pageYOffset}},_f=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,l=xW(r,n);return zx({borderBox:l,border:i,margin:o,padding:s})},Tf=function(t,n){return n===void 0&&(n=bW()),_f(t,n)},x_=function(t,n){var r={top:Or(n.marginTop),right:Or(n.marginRight),bottom:Or(n.marginBottom),left:Or(n.marginLeft)},i={top:Or(n.paddingTop),right:Or(n.paddingRight),bottom:Or(n.paddingBottom),left:Or(n.paddingLeft)},o={top:Or(n.borderTopWidth),right:Or(n.borderRightWidth),bottom:Or(n.borderBottomWidth),left:Or(n.borderLeftWidth)};return zx({borderBox:t,margin:r,padding:i,border:o})},b_=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return x_(n,r)},Nc=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Df.apply(null,arguments)}function w_(e,t){}w_.bind(null,"warn");w_.bind(null,"error");function Lo(){}function wW(e,t){return{...e,...t}}function Mr(e,t,n){const r=t.map(i=>{const o=wW(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const SW="Invariant failed";class Mf extends Error{}Mf.prototype.toString=function(){return this.message};function ge(e,t){throw new Mf(SW)}let PW=class extends pt.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Lo,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Mf&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Mr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Mf){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const CW=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,If=e=>e+1,AW=e=>`
  You have lifted an item in position ${If(e.source.index)}
`,S_=(e,t)=>{const n=e.droppableId===t.droppableId,r=If(e.index),i=If(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},P_=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,kW=e=>{const t=e.destination;if(t)return S_(e.source,t);const n=e.combine;return n?P_(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},oC=e=>`
  The item has returned to its starting position
  of ${If(e.index)}
`,EW=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${oC(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${S_(e.source,t)}
    `:n?`
      You have dropped the item.
      ${P_(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${oC(e.source)}
  `},ff={dragHandleUsageInstructions:CW,onDragStart:AW,onDragUpdate:kW,onDragEnd:EW};function NW(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function C_(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!NW(e[n],t[n]))return!1;return!0}function nt(e,t){const n=S.useState(()=>({inputs:t,result:e()}))[0],r=S.useRef(!0),i=S.useRef(n),s=r.current||!!(t&&i.current.inputs&&C_(t,i.current.inputs))?i.current:{inputs:t,result:e()};return S.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function De(e,t){return nt(()=>e,t)}const fn={x:0,y:0},An=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),fr=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Fo=(e,t)=>e.x===t.x&&e.y===t.y,Zs=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),_a=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Oc=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),aC=(e,t)=>Math.min(...t.map(n=>Oc(e,n))),A_=e=>t=>({x:e(t.x),y:e(t.y)});var OW=(e,t)=>{const n=ei({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const iu=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),sC=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],jW={top:0,right:0,bottom:0,left:0},_W=(e,t)=>t?iu(e,t.scroll.diff.displacement):e,TW=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,DW=(e,t)=>t&&t.shouldClipSubject?OW(t.pageMarginBox,e):ei(e);var Bs=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=_W(e.marginBox,r),o=TW(i,n,t),s=DW(o,r);return{page:e,withPlaceholder:t,active:s}},Wx=(e,t)=>{e.frame||ge();const n=e.frame,r=fr(t,n.scroll.initial),i=Zs(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=Bs({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:s}};function dn(e,t=C_){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}const k_=dn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),E_=dn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),$p=dn(e=>Object.values(e)),MW=dn(e=>Object.values(e));var Qs=dn((e,t)=>MW(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function Vx(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Bp(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var zp=dn((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),IW=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!Vx(i))return null;function s(g){const x={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return{...i,at:x}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?s(u):null;const d=zp(t,r);if(!u){if(!d.length)return null;const g=d[d.length-1];return s(g.descriptor.id)}const f=d.findIndex(g=>g.descriptor.id===u);f===-1&&ge();const p=f-1;if(p<0)return null;const m=d[p];return s(m.descriptor.id)},Js=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const N_={point:fn,value:0},jc={invisible:{},visible:{},all:[]},RW={displaced:jc,displacedBy:N_,at:null};var Lr=(e,t)=>n=>e<=n&&n<=t,O_=e=>{const t=Lr(e.top,e.bottom),n=Lr(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&s||d&&o}},LW=e=>{const t=Lr(e.top,e.bottom),n=Lr(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Ux={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},j_={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var FW=e=>t=>{const n=Lr(t.top,t.bottom),r=Lr(t.left,t.right);return i=>e===Ux?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const $W=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:fn;return iu(e,n)},BW=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,zW=(e,t,n)=>n(t)(e),Hx=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?$W(e,t):e;return BW(o,t,i)&&zW(o,n,i)},WW=e=>Hx({...e,isVisibleThroughFrameFn:O_}),__=e=>Hx({...e,isVisibleThroughFrameFn:LW}),VW=e=>Hx({...e,isVisibleThroughFrameFn:FW(e.destination.axis)}),UW=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return o?o.shouldAnimate:!0};function HW(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return ei(Bx(n,r))}function _c({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:o}){return e.reduce(function(l,u){const d=HW(u,n),f=u.descriptor.id;if(l.all.push(f),!WW({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const m=UW(f,o,i),g={draggableId:f,shouldAnimate:m};return l.visible[f]=g,l},{all:[],visible:{},invisible:{}})}function GW(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function lC({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=GW(e,{inHomeList:t});return{displaced:jc,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Rf({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:o,index:s,forceShouldAnimate:l}){const u=Js(e,n);if(s==null)return lC({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const d=t.find(x=>x.descriptor.index===s);if(!d)return lC({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const f=zp(e,t),p=t.indexOf(d),m=f.slice(p);return{displaced:_c({afterDragging:m,destination:n,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Ho(e,t){return!!t.effected[e]}var KW=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,l=n[o].descriptor.index;return Ho(o,i)?e?l:l-1:e?l+1:l},YW=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,o=e?i+1:i-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return o<s||o>u?null:o},qW=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:o,previousImpact:s,viewport:l,afterCritical:u})=>{const d=s.at;if(d||ge(),d.type==="REORDER"){const p=YW({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:o});return p==null?null:Rf({draggable:n,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})}const f=KW({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:d.combine,afterCritical:u});return f==null?null:Rf({draggable:n,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})},XW=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Ho(n,t)?i?fn:Zs(r.point):i?r.point:fn},ZW=({afterCritical:e,impact:t,draggables:n})=>{const r=Bp(t);r||ge();const i=r.draggableId,o=n[i].page.borderBox.center,s=XW({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return An(o,s)};const T_=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,QW=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Gx=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,cC=({axis:e,moveRelativeTo:t,isMoving:n})=>_a(e.line,t.marginBox[e.end]+T_(e,n),Gx(e,t.marginBox,n)),uC=({axis:e,moveRelativeTo:t,isMoving:n})=>_a(e.line,t.marginBox[e.start]-QW(e,n),Gx(e,t.marginBox,n)),JW=({axis:e,moveInto:t,isMoving:n})=>_a(e.line,t.contentBox[e.start]+T_(e,n),Gx(e,t.contentBox,n));var eV=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const o=Qs(r.descriptor.id,n),s=t.page,l=r.axis;if(!o.length)return JW({axis:l,moveInto:r.page,isMoving:s});const{displaced:u,displacedBy:d}=e,f=u.all[0];if(f){const m=n[f];if(Ho(f,i))return uC({axis:l,moveRelativeTo:m.page,isMoving:s});const g=_f(m.page,d.point);return uC({axis:l,moveRelativeTo:g,isMoving:s})}const p=o[o.length-1];if(p.descriptor.id===t.descriptor.id)return s.borderBox.center;if(Ho(p.descriptor.id,i)){const m=_f(p.page,Zs(i.displacedBy.point));return cC({axis:l,moveRelativeTo:m,isMoving:s})}return cC({axis:l,moveRelativeTo:p.page,isMoving:s})},qy=(e,t)=>{const n=e.frame;return n?An(t,n.scroll.diff.displacement):t};const tV=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const o=t.page.borderBox.center,s=e.at;return!n||!s?o:s.type==="REORDER"?eV({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):ZW({impact:e,draggables:r,afterCritical:i})};var Wp=e=>{const t=tV(e),n=e.droppable;return n?qy(n,t):t},D_=(e,t)=>{const n=fr(t,e.scroll.initial),r=Zs(n);return{frame:ei({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function dC(e,t){return e.map(n=>t[n])}function nV(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var rV=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const o=D_(t,An(t.scroll.current,i)),s=n.frame?Wx(n,An(n.frame.scroll.current,i)):n,l=e.displaced,u=_c({afterDragging:dC(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),d=_c({afterDragging:dC(l.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),f={},p={},m=[l,u,d];return l.all.forEach(x=>{const w=nV(x,m);if(w){p[x]=w;return}f[x]=!0}),{...e,displaced:{all:l.all,invisible:f,visible:p}}},iV=(e,t)=>An(e.scroll.diff.displacement,t),Kx=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=iV(n,e),i=fr(r,t.page.borderBox.center);return An(t.client.borderBox.center,i)},M_=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=fr(n,e.page.borderBox.center),u={target:iu(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return o?VW(u):__(u)},oV=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=Qs(n.descriptor.id,r),f=Js(t,n),p=IW({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||qW({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:o,afterCritical:u});if(!p)return null;const m=Wp({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(M_({draggable:t,destination:n,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Kx({pageBorderBoxCenter:m,draggable:t,viewport:o}),impact:p,scrollJumpRequest:null};const x=fr(m,s),w=rV({impact:p,viewport:o,destination:n,draggables:r,maxScrollChange:x});return{clientSelection:l,impact:w,scrollJumpRequest:x}};const Vn=e=>{const t=e.subject.active;return t||ge(),t};var aV=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const o=n.subject.active;if(!o)return null;const s=n.axis,l=Lr(o[s.start],o[s.end]),u=$p(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>O_(i.frame)(Vn(f))).filter(f=>{const p=Vn(f);return e?o[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<o[s.crossAxisStart]}).filter(f=>{const p=Vn(f),m=Lr(p[s.start],p[s.end]);return l(p[s.start])||l(p[s.end])||m(o[s.start])||m(o[s.end])}).sort((f,p)=>{const m=Vn(f)[s.crossAxisStart],g=Vn(p)[s.crossAxisStart];return e?m-g:g-m}).filter((f,p,m)=>Vn(f)[s.crossAxisStart]===Vn(m[0])[s.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(f=>Lr(Vn(f)[s.start],Vn(f)[s.end])(t[s.line]));return d.length===1?d[0]:d.length>1?d.sort((f,p)=>Vn(f)[s.start]-Vn(p)[s.start])[0]:u.sort((f,p)=>{const m=aC(t,sC(Vn(f))),g=aC(t,sC(Vn(p)));return m!==g?m-g:Vn(f)[s.start]-Vn(p)[s.start]})[0]};const fC=(e,t)=>{const n=e.page.borderBox.center;return Ho(e.descriptor.id,t)?fr(n,t.displacedBy.point):n},sV=(e,t)=>{const n=e.page.borderBox;return Ho(e.descriptor.id,t)?iu(n,Zs(t.displacedBy.point)):n};var lV=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>__({target:sV(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,l)=>{const u=Oc(e,qy(n,fC(s,i))),d=Oc(e,qy(n,fC(l,i)));return u<d?-1:d<u?1:s.descriptor.index-l.descriptor.index})[0]||null,ou=dn(function(t,n){const r=n[t.line];return{value:r,point:_a(t.line,r)}});const cV=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return _a(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=Qs(e.descriptor.id,n).reduce((d,f)=>d+f.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:_a(r.line,u)},I_=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),R_=(e,t,n)=>{const r=e.frame;Js(t,e)&&ge(),e.subject.withPlaceholder&&ge();const i=ou(e.axis,t.displaceBy).point,o=cV(e,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=Bs({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:f}}const l=o?An(r.scroll.max,o):r.scroll.max,u=I_(r,l),d=Bs({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},uV=e=>{const t=e.subject.withPlaceholder;t||ge();const n=e.frame;if(!n){const s=Bs({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||ge();const i=I_(n,r),o=Bs({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}};var dV=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:o,viewport:s,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:jc,displacedBy:N_,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},m=Wp({impact:p,draggable:r,droppable:o,draggables:i,afterCritical:l}),g=Js(r,o)?o:R_(o,r,i);return M_({draggable:r,destination:g,newPageBorderBoxCenter:m,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],d=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),f=ou(o.axis,r.displaceBy);return Rf({draggable:r,insideDestination:n,destination:o,viewport:s,displacedBy:f,last:jc,index:d})},fV=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:o,viewport:s,afterCritical:l})=>{const u=aV({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:s});if(!u)return null;const d=Qs(u.descriptor.id,i),f=lV({pageBorderBoxCenter:t,viewport:s,destination:u,insideDestination:d,afterCritical:l}),p=dV({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:f,insideDestination:d,viewport:s,afterCritical:l});if(!p)return null;const m=Wp({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:Kx({pageBorderBoxCenter:m,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null}},mr=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const pV=(e,t)=>{const n=mr(e);return n?t[n]:null};var hV=({state:e,type:t})=>{const n=pV(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],o=n||i,s=o.axis.direction,l=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:p,droppables:m}=e.dimensions;return l?oV({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:o,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):fV({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:o,draggables:p,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function ma(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function L_(e){const t=Lr(e.top,e.bottom),n=Lr(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function mV(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function gV({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(o=>{const s=o.axis,l=_a(o.axis.line,e.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:Oc(r,l)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function vV({pageBorderBox:e,draggable:t,droppables:n}){const r=$p(n).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!mV(e,o))return!1;if(L_(o)(e.center))return!0;const s=i.axis,l=o.center[s.crossAxisLine],u=e[s.crossAxisStart],d=e[s.crossAxisEnd],f=Lr(o[s.crossAxisStart],o[s.crossAxisEnd]),p=f(u),m=f(d);return!p&&!m?!0:p?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:gV({pageBorderBox:e,draggable:t,candidates:r}):null}const F_=(e,t)=>ei(iu(e,t));var yV=(e,t)=>{const n=e.frame;return n?F_(t,n.scroll.diff.value):t};function $_({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function xV({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var bV=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:o,afterCritical:s})=>{const l=n.axis,u=ou(n.axis,t.displaceBy),d=u.value,f=e[l.start],p=e[l.end],g=zp(t,r).find(w=>{const b=w.descriptor.id,C=w.page.borderBox.center[l.line],k=Ho(b,s),E=$_({displaced:i,id:b});return k?E?p<=C:f<C-d:E?p<=C+d:f<C})||null,x=xV({draggable:t,closest:g,inHomeList:Js(t,n)});return Rf({draggable:t,insideDestination:r,destination:n,viewport:o,last:i,displacedBy:u,index:x})};const wV=4;var SV=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const s=r.axis,l=ou(r.axis,e.displaceBy),u=l.value,d=t[s.start],f=t[s.end],m=zp(e,i).find(x=>{const w=x.descriptor.id,b=x.page.borderBox,k=b[s.size]/wV,E=Ho(w,o),N=$_({displaced:n.displaced,id:w});return E?N?f>b[s.start]+k&&f<b[s.end]-k:d>b[s.start]-u+k&&d<b[s.end]-u-k:N?f>b[s.start]+u+k&&f<b[s.end]+u-k:d>b[s.start]+k&&d<b[s.end]-k});return m?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null},B_=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:o,afterCritical:s})=>{const l=F_(t.page.borderBox,e),u=vV({pageBorderBox:l,draggable:t,droppables:r});if(!u)return RW;const d=r[u],f=Qs(d.descriptor.id,n),p=yV(d,l);return SV({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:d,insideDestination:f,afterCritical:s})||bV({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:f,last:i.displaced,viewport:o,afterCritical:s})},Yx=(e,t)=>({...e,[t.descriptor.id]:t});const PV=({previousImpact:e,impact:t,droppables:n})=>{const r=mr(e),i=mr(t);if(!r||r===i)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const s=uV(o);return Yx(n,s)};var CV=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const o=PV({previousImpact:r,impact:i,droppables:n}),s=mr(i);if(!s)return o;const l=n[s];if(Js(e,l)||l.subject.withPlaceholder)return o;const u=R_(l,e,t);return Yx(o,u)},vc=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:o})=>{const s=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=fr(u,e.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:An(e.initial.client.borderBoxCenter,d)},p={selection:An(f.selection,s.scroll.current),borderBoxCenter:An(f.borderBoxCenter,s.scroll.current),offset:An(f.offset,s.scroll.diff.value)},m={client:f,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:s,current:m};const g=l.draggables[e.critical.draggable.id],x=i||B_({pageOffset:p.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),w=CV({draggable:g,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:w},impact:x,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function AV(e,t){return e.map(n=>t[n])}var z_=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const o=e.displaced,s=AV(o.all,n),l=_c({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:o});return{...e,displaced:l}},W_=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:o})=>{const s=Wp({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return Kx({pageBorderBoxCenter:s,draggable:t,viewport:i})},V_=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&ge();const r=e.impact,i=n||e.viewport,o=t||e.dimensions,{draggables:s,droppables:l}=o,u=s[e.critical.draggable.id],d=mr(r);d||ge();const f=l[d],p=z_({impact:r,viewport:i,destination:f,draggables:s}),m=W_({impact:p,draggable:u,droppable:f,draggables:s,viewport:i,afterCritical:e.afterCritical});return vc({impact:p,clientSelection:m,state:e,dimensions:o,viewport:i})},kV=e=>({index:e.index,droppableId:e.droppableId}),U_=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=ou(t.axis,e.displaceBy),o=Qs(t.descriptor.id,n),s=o.indexOf(e);s===-1&&ge();const l=o.slice(s+1),u=l.reduce((m,g)=>(m[g.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:_c({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:kV(e.descriptor)}},afterCritical:d}},EV=(e,t)=>({draggables:e.draggables,droppables:Yx(e.droppables,t)}),NV=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=_f(e.client,t),i=Tf(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},OV=e=>{const t=e.frame;return t||ge(),t},jV=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const o=i.descriptor.droppableId,s=t[o],u=OV(s).scroll.diff.value,d=An(r,u);return NV({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},_V=({state:e,published:t})=>{const n=t.modified.map(C=>{const k=e.dimensions.droppables[C.droppableId];return Wx(k,C.scroll)}),r={...e.dimensions.droppables,...k_(n)},i=E_(jV({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...i};t.removals.forEach(C=>{delete o[C]});const s={droppables:r,draggables:o},l=mr(e.impact),u=l?s.droppables[l]:null,d=s.draggables[e.critical.draggable.id],f=s.droppables[e.critical.droppable.id],{impact:p,afterCritical:m}=U_({draggable:d,home:f,draggables:o,viewport:e.viewport}),g=u&&u.isCombineEnabled?e.impact:p,x=B_({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:g,viewport:e.viewport,afterCritical:m}),w={...e,phase:"DRAGGING",impact:x,onLiftImpact:p,dimensions:s,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Xy=e=>e.movementMode==="SNAP",Fg=(e,t,n)=>{const r=EV(e.dimensions,t);return!Xy(e)||n?vc({state:e,dimensions:r}):V_({state:e,dimensions:r})};function $g(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const pC={phase:"IDLE",completed:null,shouldFlush:!1};var TV=(e=pC,t)=>{if(t.type==="FLUSH")return{...pC,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ge();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=t.payload,l=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:fn},f={client:d,page:{selection:An(d.selection,i.scroll.initial),borderBoxCenter:An(d.selection,i.scroll.initial),offset:An(d.selection,i.scroll.diff.value)}},p=$p(o.droppables).every(w=>!w.isFixedOnPage),{impact:m,afterCritical:g}=U_({draggable:l,home:u,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:f,current:f,isWindowScrollAllowed:p,impact:m,afterCritical:g,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&ge(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ge(),_V({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ma(e)||ge();const{client:n}=t.payload;return Fo(n,e.current.client.selection)?e:vc({state:e,clientSelection:n,impact:Xy(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return $g(e);ma(e)||ge();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=Wx(i,r);return Fg(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ma(e)||ge();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||ge(),i.isEnabled===r&&ge();const o={...i,isEnabled:r};return Fg(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ma(e)||ge();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||ge(),i.isCombineEnabled===r&&ge();const o={...i,isCombineEnabled:r};return Fg(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ma(e)||ge(),e.isWindowScrollAllowed||ge();const n=t.payload.newScroll;if(Fo(e.viewport.scroll.current,n))return $g(e);const r=D_(e.viewport,n);return Xy(e)?V_({state:e,viewport:r}):vc({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ma(e))return e;const n=t.payload.maxScroll;if(Fo(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ge();const n=hV({state:e,type:t.type});return n?vc({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&ge(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ge(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function ut(e,t){return e instanceof Object&&"type"in e&&e.type===t}const DV=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),MV=e=>({type:"LIFT",payload:e}),IV=e=>({type:"INITIAL_PUBLISH",payload:e}),RV=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),LV=()=>({type:"COLLECTION_STARTING",payload:null}),FV=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),$V=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),BV=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),H_=e=>({type:"MOVE",payload:e}),zV=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),WV=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),VV=()=>({type:"MOVE_UP",payload:null}),UV=()=>({type:"MOVE_DOWN",payload:null}),HV=()=>({type:"MOVE_RIGHT",payload:null}),GV=()=>({type:"MOVE_LEFT",payload:null}),qx=()=>({type:"FLUSH",payload:null}),KV=e=>({type:"DROP_ANIMATE",payload:e}),Xx=e=>({type:"DROP_COMPLETE",payload:e}),G_=e=>({type:"DROP",payload:e}),YV=e=>({type:"DROP_PENDING",payload:e}),K_=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var qV=e=>({getState:t,dispatch:n})=>r=>i=>{if(!ut(i,"LIFT")){r(i);return}const{id:o,clientSelection:s,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(Xx({completed:u.completed})),t().phase!=="IDLE"&&ge(),n(qx()),n(DV({draggableId:o,movementMode:l}));const f={draggableId:o,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:m,viewport:g}=e.startPublishing(f);n(IV({critical:p,dimensions:m,clientSelection:s,movementMode:l,viewport:g}))},XV=e=>()=>t=>n=>{ut(n,"INITIAL_PUBLISH")&&e.dragging(),ut(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(ut(n,"FLUSH")||ut(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Zx={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Tc={opacity:{drop:0,combining:.7},scale:{drop:.75}},Y_={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ua=`${Y_.outOfTheWay}s ${Zx.outOfTheWay}`,yc={fluid:`opacity ${ua}`,snap:`transform ${ua}, opacity ${ua}`,drop:e=>{const t=`${e}s ${Zx.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${ua}`,placeholder:`height ${ua}, width ${ua}, margin ${ua}`},hC=e=>Fo(e,fn)?void 0:`translate(${e.x}px, ${e.y}px)`,Zy={moveTo:hC,drop:(e,t)=>{const n=hC(e);if(n)return t?`${n} scale(${Tc.scale.drop})`:n}},{minDropTime:Qy,maxDropTime:q_}=Y_,ZV=q_-Qy,mC=1500,QV=.6;var JV=({current:e,destination:t,reason:n})=>{const r=Oc(e,t);if(r<=0)return Qy;if(r>=mC)return q_;const i=r/mC,o=Qy+ZV*i,s=n==="CANCEL"?o*QV:o;return Number(s.toFixed(2))},e9=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:o,droppables:s}=n,l=mr(e),u=l?s[l]:null,d=s[t.descriptor.droppableId],f=W_({impact:e,draggable:t,draggables:o,afterCritical:i,droppable:u||d,viewport:r});return fr(f,t.client.borderBox.center)},t9=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:z_({draggables:e,impact:o,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:jc},didDropInsideDroppable:!0};const n9=({getState:e,dispatch:t})=>n=>r=>{if(!ut(r,"DROP")){n(r);return}const i=e(),o=r.payload.reason;if(i.phase==="COLLECTING"){t(YV({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&ge(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||ge();const l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],{impact:f,didDropInsideDroppable:p}=t9({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),m=p?Vx(f):null,g=p?Bp(f):null,x={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:o,mode:i.movementMode,destination:m,combine:g},b=e9({impact:f,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),C={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:f};if(!(!Fo(i.current.client.offset,b)||!!w.combine)){t(Xx({completed:C}));return}const E=JV({current:i.current.client.offset,destination:b,reason:o});t(KV({newHomeClientOffset:b,dropDuration:E,completed:C}))};var X_=()=>({x:window.pageXOffset,y:window.pageYOffset});function r9(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function i9({onWindowScroll:e}){function t(){e(X_())}const n=Nc(t),r=r9(n);let i=Lo;function o(){return i!==Lo}function s(){o()&&ge(),i=Mr(window,[r])}function l(){o()||ge(),n.cancel(),i(),i=Lo}return{start:s,stop:l,isActive:o}}const o9=e=>ut(e,"DROP_COMPLETE")||ut(e,"DROP_ANIMATE")||ut(e,"FLUSH"),a9=e=>{const t=i9({onWindowScroll:n=>{e.dispatch(zV({newScroll:n}))}});return n=>r=>{!t.isActive()&&ut(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&o9(r)&&t.stop(),n(r)}};var s9=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return i.wasCalled=()=>t,i},l9=()=>{const e=[],t=i=>{const o=e.findIndex(l=>l.timerId===i);o===-1&&ge();const[s]=e.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>t(o)),s={timerId:o,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const c9=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,u9=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,d9=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Xl=(e,t)=>{t()},Bd=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Bg(e,t,n,r){if(!e){n(r(t));return}const i=s9(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var f9=(e,t)=>{const n=l9();let r=null;const i=(p,m)=>{r&&ge(),Xl("onBeforeCapture",()=>{const g=e().onBeforeCapture;g&&g({draggableId:p,mode:m})})},o=(p,m)=>{r&&ge(),Xl("onBeforeDragStart",()=>{const g=e().onBeforeDragStart;g&&g(Bd(p,m))})},s=(p,m)=>{r&&ge();const g=Bd(p,m);r={mode:m,lastCritical:p,lastLocation:g.source,lastCombine:null},n.add(()=>{Xl("onDragStart",()=>Bg(e().onDragStart,g,t,ff.onDragStart))})},l=(p,m)=>{const g=Vx(m),x=Bp(m);r||ge();const w=!d9(p,r.lastCritical);w&&(r.lastCritical=p);const b=!c9(r.lastLocation,g);b&&(r.lastLocation=g);const C=!u9(r.lastCombine,x);if(C&&(r.lastCombine=x),!w&&!b&&!C)return;const k={...Bd(p,r.mode),combine:x,destination:g};n.add(()=>{Xl("onDragUpdate",()=>Bg(e().onDragUpdate,k,t,ff.onDragUpdate))})},u=()=>{r||ge(),n.flush()},d=p=>{r||ge(),r=null,Xl("onDragEnd",()=>Bg(e().onDragEnd,p,t,ff.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const p={...Bd(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},p9=(e,t)=>{const n=f9(e,t);return r=>i=>o=>{if(ut(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(ut(o,"INITIAL_PUBLISH")){const l=o.payload.critical;n.beforeStart(l,o.payload.movementMode),i(o),n.start(l,o.payload.movementMode);return}if(ut(o,"DROP_COMPLETE")){const l=o.payload.completed.result;n.flush(),i(o),n.drop(l);return}if(i(o),ut(o,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const h9=e=>t=>n=>{if(!ut(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&ge(),e.dispatch(Xx({completed:r.completed}))},m9=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>o=>{if((ut(o,"FLUSH")||ut(o,"DROP_COMPLETE")||ut(o,"DROP_ANIMATION_FINISHED"))&&r(),i(o),!ut(o,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(K_())}};n=requestAnimationFrame(()=>{n=null,t=Mr(window,[s])})}};var g9=e=>()=>t=>n=>{(ut(n,"DROP_COMPLETE")||ut(n,"FLUSH")||ut(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},v9=e=>{let t=!1;return()=>n=>r=>{if(ut(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(ut(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(ut(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const y9=e=>ut(e,"DROP_COMPLETE")||ut(e,"DROP_ANIMATE")||ut(e,"FLUSH");var x9=e=>t=>n=>r=>{if(y9(r)){e.stop(),n(r);return}if(ut(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&ge(),e.start(i);return}n(r),e.scroll(t.getState())};const b9=e=>t=>n=>{if(t(n),!ut(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(G_({reason:r.reason})))},w9=Ec;var S9=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:o})=>Lx(TV,w9(u_(XV(n),g9(e),qV(e),n9,h9,m9,b9,x9(o),a9,v9(t),p9(r,i))));const zg=()=>({additions:{},removals:{},modified:{}});function P9({registry:e,callbacks:t}){let n=zg(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:f}=n,p=Object.keys(u).map(x=>e.draggable.getById(x).getDimension(fn)).sort((x,w)=>x.descriptor.index-w.descriptor.index),m=Object.keys(f).map(x=>{const b=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:b}}),g={additions:p,removals:Object.keys(d),modified:m};n=zg(),t.publish(g)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=zg())}}}var Z_=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=fr({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Q_=()=>{const e=document.documentElement;return e||ge(),e},J_=()=>{const e=Q_();return Z_({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},C9=()=>{const e=X_(),t=J_(),n=e.y,r=e.x,i=Q_(),o=i.clientWidth,s=i.clientHeight,l=r+o,u=n+s;return{frame:ei({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:fn,displacement:fn}}}},A9=({critical:e,scrollOptions:t,registry:n})=>{const r=C9(),i=r.scroll.current,o=e.droppable,s=n.droppable.getAllByType(o.type).map(f=>f.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(i));return{dimensions:{draggables:E_(l),droppables:k_(s)},critical:e,viewport:r}};function gC(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var k9=(e,t)=>{let n=null;const r=P9({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(m,g)=>{e.droppable.exists(m)||ge(),n&&t.updateDroppableIsEnabled({id:m,isEnabled:g})},o=(m,g)=>{n&&(e.droppable.exists(m)||ge(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:g}))},s=(m,g)=>{n&&(e.droppable.exists(m)||ge(),t.updateDroppableScroll({id:m,newScroll:g}))},l=(m,g)=>{n&&e.droppable.getById(m).callbacks.scroll(g)},u=()=>{if(!n)return;r.stop();const m=n.critical.droppable;e.droppable.getAllByType(m.type).forEach(g=>g.callbacks.dragStopped()),n.unsubscribe(),n=null},d=m=>{n||ge();const g=n.critical.draggable;m.type==="ADDITION"&&gC(e,g,m.value)&&r.add(m.value),m.type==="REMOVAL"&&gC(e,g,m.value)&&r.remove(m.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:l,updateDroppableScroll:s,startPublishing:m=>{n&&ge();const g=e.draggable.getById(m.draggableId),x=e.droppable.getById(g.descriptor.droppableId),w={draggable:g.descriptor,droppable:x.descriptor},b=e.subscribe(d);return n={critical:w,unsubscribe:b},A9({critical:w,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:u}},eT=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",E9=e=>{window.scrollBy(e.x,e.y)};const N9=dn(e=>$p(e).filter(t=>!(!t.isEnabled||!t.frame))),O9=(e,t)=>N9(t).find(r=>(r.frame||ge(),L_(r.frame.pageMarginBox)(e)))||null;var j9=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return O9(e,n)};const Dc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var _9=(e,t,n=()=>Dc)=>{const r=n(),i=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},tT=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Qx=1,T9=(e,t,n=()=>Dc)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Qx;const o=1-tT({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)},D9=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,s=t,l=o,d=Date.now()-s;if(d>=o)return e;if(d<i)return Qx;const f=tT({startOfRange:i,endOfRange:l,current:d}),p=e*r.ease(f);return Math.ceil(p)},vC=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=T9(e,t,i);return o===0?0:r?Math.max(D9(o,n,i),Qx):o},yC=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=_9(e,r,o);return t[r.end]<t[r.start]?vC({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*vC({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},M9=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const I9=A_(e=>e===0?0:e);var nT=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=yC({container:t,distanceToEdges:s,dragStartTime:e,axis:Ux,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),u=yC({container:t,distanceToEdges:s,dragStartTime:e,axis:j_,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),d=I9({x:u,y:l});if(Fo(d,fn))return null;const f=M9({container:t,subject:n,proposedScroll:d});return f?Fo(f,fn)?null:f:null};const R9=A_(e=>e===0?0:e>0?1:-1),Jx=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=An(t,r),o={x:e(i.x,n.x),y:e(i.y,n.y)};return Fo(o,fn)?null:o}})(),rT=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=R9(n),o=Jx({max:r,current:t,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},eb=(e,t)=>rT({current:e.scroll.current,max:e.scroll.max,change:t}),L9=(e,t)=>{if(!eb(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Jx({current:r,max:n,change:t})},tb=(e,t)=>{const n=e.frame;return n?rT({current:n.scroll.current,max:n.scroll.max,change:t}):!1},F9=(e,t)=>{const n=e.frame;return!n||!tb(e,t)?null:Jx({current:n.scroll.current,max:n.scroll.max,change:t})};var $9=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=nT({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&eb(e,s)?s:null},B9=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=e.frame;if(!s)return null;const l=nT({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return l&&tb(e,l)?l:null},xC=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,m=$9({dragStartTime:t,viewport:p,subject:u,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(m){r(m);return}}const d=j9({center:s,destination:mr(e.impact),droppables:e.dimensions.droppables});if(!d)return;const f=B9({dragStartTime:t,droppable:d,subject:u,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});f&&i(d.descriptor.id,f)},z9=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Dc})=>{const r=Nc(e),i=Nc(t);let o=null;const s=d=>{o||ge();const{shouldUseTimeDampening:f,dragStartTime:p}=o;xC({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:d=>{o&&ge();const f=Date.now();let p=!1;const m=()=>{p=!0};xC({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:n}),o={dragStartTime:f,shouldUseTimeDampening:p},p&&s(d)},stop:()=>{o&&(r.cancel(),i.cancel(),o=null)},scroll:s}},W9=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=An(l.current.client.selection,u);e({client:d})},i=(l,u)=>{if(!tb(l,u))return u;const d=F9(l,u);if(!d)return t(l.descriptor.id,u),null;const f=fr(u,d);return t(l.descriptor.id,f),fr(u,f)},o=(l,u,d)=>{if(!l||!eb(u,d))return d;const f=L9(u,d);if(!f)return n(d),null;const p=fr(d,f);return n(p),fr(d,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=mr(l.impact);d||ge();const f=i(l.dimensions.droppables[d],u);if(!f)return;const p=l.viewport,m=o(l.isWindowScrollAllowed,p,f);m&&r(l,m)}},V9=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=z9({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=W9({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&o(u)}},start:i.start,stop:i.stop}};const zs="data-rfd",Ws=(()=>{const e=`${zs}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Jy=(()=>{const e=`${zs}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),U9=(()=>{const e=`${zs}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),bC={contextId:`${zs}-scroll-container-context-id`},H9=e=>t=>`[${t}="${e}"]`,Zl=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),G9="pointer-events: none;";var K9=e=>{const t=H9(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ws.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:G9,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${yc.outOfTheWay};
    `;return{selector:t(Jy.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(U9.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Zl(s,"always"),resting:Zl(s,"resting"),dragging:Zl(s,"dragging"),dropAnimating:Zl(s,"dropAnimating"),userCancel:Zl(s,"userCancel")}};const gr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,Wg=()=>{const e=document.querySelector("head");return e||ge(),e},wC=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Y9(e,t){const n=nt(()=>K9(e),[e]),r=S.useRef(null),i=S.useRef(null),o=De(dn(p=>{const m=i.current;m||ge(),m.textContent=p}),[]),s=De(p=>{const m=r.current;m||ge(),m.textContent=p},[]);gr(()=>{!r.current&&!i.current||ge();const p=wC(t),m=wC(t);return r.current=p,i.current=m,p.setAttribute(`${zs}-always`,e),m.setAttribute(`${zs}-dynamic`,e),Wg().appendChild(p),Wg().appendChild(m),s(n.always),o(n.resting),()=>{const g=x=>{const w=x.current;w||ge(),Wg().removeChild(w),x.current=null};g(r),g(i)}},[t,s,o,n.always,n.resting,e]);const l=De(()=>o(n.dragging),[o,n.dragging]),u=De(p=>{if(p==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),d=De(()=>{i.current&&o(n.resting)},[o,n.resting]);return nt(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function iT(e,t){return Array.from(e.querySelectorAll(t))}var oT=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Vp(e){return e instanceof oT(e).HTMLElement}function q9(e,t){const n=`[${Ws.contextId}="${e}"]`,r=iT(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute(Ws.draggableId)===t);return!i||!Vp(i)?null:i}function X9(e){const t=S.useRef({}),n=S.useRef(null),r=S.useRef(null),i=S.useRef(!1),o=De(function(m,g){const x={id:m,focus:g};return t.current[m]=x,function(){const b=t.current;b[m]!==x&&delete b[m]}},[]),s=De(function(m){const g=q9(e,m);g&&g!==document.activeElement&&g.focus()},[e]),l=De(function(m,g){n.current===m&&(n.current=g)},[]),u=De(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const m=n.current;m&&s(m)}))},[s]),d=De(function(m){n.current=null;const g=document.activeElement;g&&g.getAttribute(Ws.draggableId)===m&&(n.current=m)},[]);return gr(()=>(i.current=!0,function(){i.current=!1;const m=r.current;m&&cancelAnimationFrame(m)}),[]),nt(()=>({register:o,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[o,d,u,l])}function Z9(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const g=t.indexOf(p);g!==-1&&t.splice(g,1)}}function r(p){t.length&&t.forEach(m=>m(p))}function i(p){return e.draggables[p]||null}function o(p){const m=i(p);return m||ge(),m}const s={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,m)=>{const g=e.draggables[m.descriptor.id];g&&g.uniqueId===p.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const m=p.descriptor.id,g=i(m);g&&p.uniqueId===g.uniqueId&&(delete e.draggables[m],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:o,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(m=>m.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const m=l(p);return m||ge(),m}const d={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const m=l(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(m=>m.descriptor.type===p)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:d,subscribe:n,clean:f}}function Q9(){const e=nt(Z9,[]);return S.useEffect(()=>function(){e.clean()},[e]),e}var nb=pt.createContext(null),Lf=()=>{const e=document.body;return e||ge(),e};const J9={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},eU=e=>`rfd-announcement-${e}`;function tU(e){const t=nt(()=>eU(e),[e]),n=S.useRef(null);return S.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Df(o.style,J9),Lf().appendChild(o),function(){setTimeout(function(){const u=Lf();u.contains(o)&&u.removeChild(o),o===n.current&&(n.current=null)})}},[t]),De(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}const nU={separator:"::"};function rb(e,t=nU){const n=pt.useId();return nt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function rU({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function iU({contextId:e,text:t}){const n=rb("hidden-text",{separator:"-"}),r=nt(()=>rU({contextId:e,uniqueId:n}),[n,e]);return S.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",Lf().appendChild(o),function(){const l=Lf();l.contains(o)&&l.removeChild(o)}},[r,t]),r}var Up=pt.createContext(null);function aT(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),t}function oU(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&ge();const l={abandon:s};return e=l,l}function i(){e||ge(),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}function Mc(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const aU=9,sU=13,ib=27,sT=32,lU=33,cU=34,uU=35,dU=36,fU=37,pU=38,hU=39,mU=40,gU={[sU]:!0,[aU]:!0};var lT=e=>{gU[e.keyCode]&&e.preventDefault()};const Hp=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),cT=0,SC=5;function vU(e,t){return Math.abs(t.x-e.x)>=SC||Math.abs(t.y-e.y)>=SC}const PC={type:"IDLE"};function yU({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:l}=i;if(o!==cT)return;const u={x:s,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&ge();const f=d.point;if(!vU(f,u))return;i.preventDefault();const p=d.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const o=n();if(o.type!=="DRAGGING"){e();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===ib){i.preventDefault(),e();return}lT(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=n();if(o.type==="IDLE"&&ge(),o.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Hp,fn:e}]}function xU(e){const t=S.useRef(PC),n=S.useRef(Lo),r=nt(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==cT||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const m=e.findClosestDraggableId(p);if(!m)return;const g=e.tryGetLock(m,s,{sourceEvent:p});if(!g)return;p.preventDefault();const x={x:p.clientX,y:p.clientY};n.current(),d(g,x)}}),[e]),i=nt(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const p=e.findClosestDraggableId(f);if(!p)return;const m=e.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||e.canGetLock(p)&&f.preventDefault())}}),[e]),o=De(function(){const p={passive:!1,capture:!0};n.current=Mr(window,[i,r],p)},[i,r]),s=De(()=>{t.current.type!=="IDLE"&&(t.current=PC,n.current(),o())},[o]),l=De(()=>{const f=t.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),u=De(function(){const p={capture:!0,passive:!1},m=yU({cancel:l,completed:s,getPhase:()=>t.current,setPhase:g=>{t.current=g}});n.current=Mr(window,m,p)},[l,s]),d=De(function(p,m){t.current.type!=="IDLE"&&ge(),t.current={type:"PENDING",point:m,actions:p},u()},[u]);gr(function(){return o(),function(){n.current()}},[o])}function bU(){}const wU={[cU]:!0,[lU]:!0,[dU]:!0,[uU]:!0};function SU(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===ib){i.preventDefault(),n();return}if(i.keyCode===sT){i.preventDefault(),r();return}if(i.keyCode===mU){i.preventDefault(),e.moveDown();return}if(i.keyCode===pU){i.preventDefault(),e.moveUp();return}if(i.keyCode===hU){i.preventDefault(),e.moveRight();return}if(i.keyCode===fU){i.preventDefault(),e.moveLeft();return}if(wU[i.keyCode]){i.preventDefault();return}lT(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Hp,fn:n}]}function PU(e){const t=S.useRef(bU),n=nt(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==sT)return;const s=e.findClosestDraggableId(o);if(!s)return;const l=e.tryGetLock(s,f,{sourceEvent:o});if(!l)return;o.preventDefault();let u=!0;const d=l.snapLift();t.current();function f(){u||ge(),u=!1,t.current(),r()}t.current=Mr(window,SU(d,f),{capture:!0,passive:!1})}}),[e]),r=De(function(){const o={passive:!1,capture:!0};t.current=Mr(window,[n],o)},[n]);gr(function(){return r(),function(){t.current()}},[r])}const Vg={type:"IDLE"},CU=120,AU=.15;function kU({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===ib&&n.preventDefault(),e()}},{eventName:Hp,fn:e}]}function EU({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:o,clientY:s}=r.touches[0],l={x:o,y:s};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&ge();const o=r.touches[0];if(!o||!(o.force>=AU))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Hp,fn:e}]}function NU(e){const t=S.useRef(Vg),n=S.useRef(Lo),r=De(function(){return t.current},[]),i=De(function(g){t.current=g},[]),o=nt(()=>({eventName:"touchstart",fn:function(g){if(g.defaultPrevented)return;const x=e.findClosestDraggableId(g);if(!x)return;const w=e.tryGetLock(x,l,{sourceEvent:g});if(!w)return;const b=g.touches[0],{clientX:C,clientY:k}=b,E={x:C,y:k};n.current(),p(w,E)}}),[e]),s=De(function(){const g={capture:!0,passive:!1};n.current=Mr(window,[o],g)},[o]),l=De(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),i(Vg),n.current(),s())},[s,i]),u=De(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=De(function(){const g={capture:!0,passive:!1},x={cancel:u,completed:l,getPhase:r},w=Mr(window,EU(x),g),b=Mr(window,kU(x),g);n.current=function(){w(),b()}},[u,r,l]),f=De(function(){const g=r();g.type!=="PENDING"&&ge();const x=g.actions.fluidLift(g.point);i({type:"DRAGGING",actions:x,hasMoved:!1})},[r,i]),p=De(function(g,x){r().type!=="IDLE"&&ge();const w=setTimeout(f,CU);i({type:"PENDING",point:x,actions:g,longPressTimerId:w}),d()},[d,r,i,f]);gr(function(){return s(),function(){n.current();const x=r();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),i(Vg))}},[r,s,i]),gr(function(){return Mr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const OU=["input","button","textarea","select","option","optgroup","video","audio"];function uT(e,t){if(t==null)return!1;if(OU.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:uT(e,t.parentElement)}function jU(e,t){const n=t.target;return Vp(n)?uT(e,n):!1}var _U=e=>ei(e.getBoundingClientRect()).center;function TU(e){return e instanceof oT(e).Element}const DU=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function dT(e,t){return e==null?null:e[DU](t)?e:dT(e.parentElement,t)}function MU(e,t){return e.closest?e.closest(t):dT(e,t)}function IU(e){return`[${Ws.contextId}="${e}"]`}function RU(e,t){const n=t.target;if(!TU(n))return null;const r=IU(e),i=MU(n,r);return!i||!Vp(i)?null:i}function LU(e,t){const n=RU(e,t);return n?n.getAttribute(Ws.draggableId):null}function FU(e,t){const n=`[${Jy.contextId}="${e}"]`,i=iT(document,n).find(o=>o.getAttribute(Jy.id)===t);return!i||!Vp(i)?null:i}function $U(e){e.preventDefault()}function zd({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function fT({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!eT(t.getState(),r))}function BU({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!fT({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),d=FU(t,u.descriptor.id);if(!d||s&&!u.options.canDragInteractiveElements&&jU(d,s))return null;const f=e.claim(o||Lo);let p="PRE_DRAG";function m(){return u.options.shouldRespectForcePress}function g(){return e.isActive(f)}function x(j,O){zd({expected:j,phase:p,isLockActive:g,shouldWarn:!0})&&n.dispatch(O())}const w=x.bind(null,"DRAGGING");function b(j){function O(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(O(),ge()),n.dispatch(MV(j.liftActionArgs)),p="DRAGGING";function T(D,B={shouldBlockNextClick:!1}){if(j.cleanup(),B.shouldBlockNextClick){const X=Mr(window,[{eventName:"click",fn:$U,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(X)}O(),n.dispatch(G_({reason:D}))}return{isActive:()=>zd({expected:"DRAGGING",phase:p,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:m,drop:D=>T("DROP",D),cancel:D=>T("CANCEL",D),...j.actions}}function C(j){const O=Nc(D=>{w(()=>H_({client:D}))});return{...b({liftActionArgs:{id:i,clientSelection:j,movementMode:"FLUID"},cleanup:()=>O.cancel(),actions:{move:O}}),move:O}}function k(){const j={moveUp:()=>w(VV),moveRight:()=>w(HV),moveDown:()=>w(UV),moveLeft:()=>w(GV)};return b({liftActionArgs:{id:i,clientSelection:_U(d),movementMode:"SNAP"},cleanup:Lo,actions:j})}function E(){zd({expected:"PRE_DRAG",phase:p,isLockActive:g,shouldWarn:!0})&&e.release()}return{isActive:()=>zd({expected:"PRE_DRAG",phase:p,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:C,snapLift:k,abort:E}}const zU=[xU,PU,NU];function WU({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const o=[...i?zU:[],...r||[]],s=S.useState(()=>oU())[0],l=De(function(b,C){Mc(b)&&!Mc(C)&&s.tryAbandon()},[s]);gr(function(){let b=t.getState();return t.subscribe(()=>{const k=t.getState();l(b,k),b=k})},[s,t,l]),gr(()=>s.tryAbandon,[s.tryAbandon]);const u=De(w=>fT({lockAPI:s,registry:n,store:t,draggableId:w}),[s,n,t]),d=De((w,b,C)=>BU({lockAPI:s,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:b||null,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null}),[e,s,n,t]),f=De(w=>LU(e,w),[e]),p=De(w=>{const b=n.draggable.findById(w);return b?b.options:null},[n.draggable]),m=De(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(qx()))},[s,t]),g=De(()=>s.isClaimed(),[s]),x=nt(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:g}),[u,d,f,p,m,g]);for(let w=0;w<o.length;w++)o[w](x)}const VU=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ru.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),UU=e=>({...Dc,...e.autoScrollerOptions,durationDampening:{...Dc.durationDampening,...e.autoScrollerOptions}});function Ql(e){return e.current||ge(),e.current}function HU(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=e,s=S.useRef(null),l=aT(e),u=De(()=>VU(l.current),[l]),d=De(()=>UU(l.current),[l]),f=tU(t),p=iU({contextId:t,text:o}),m=Y9(t,i),g=De(X=>{Ql(s).dispatch(X)},[]),x=nt(()=>q2({publishWhileDragging:RV,updateDroppableScroll:FV,updateDroppableIsEnabled:$V,updateDroppableIsCombineEnabled:BV,collectionStarting:LV},g),[g]),w=Q9(),b=nt(()=>k9(w,x),[w,x]),C=nt(()=>V9({scrollWindow:E9,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:d,...q2({move:H_},g)}),[b.scrollDroppable,g,d]),k=X9(t),E=nt(()=>S9({announce:f,autoScroller:C,dimensionMarshal:b,focusMarshal:k,getResponders:u,styleMarshal:m}),[f,C,b,k,u,m]);s.current=E;const N=De(()=>{const X=Ql(s);X.getState().phase!=="IDLE"&&X.dispatch(qx())},[]),j=De(()=>{const X=Ql(s).getState();return X.phase==="DROP_ANIMATING"?!0:X.phase==="IDLE"?!1:X.isDragging},[]),O=nt(()=>({isDragging:j,tryAbort:N}),[j,N]);n(O);const T=De(X=>eT(Ql(s).getState(),X),[]),D=De(()=>ma(Ql(s).getState()),[]),B=nt(()=>({marshal:b,focus:k,contextId:t,canLift:T,isMovementAllowed:D,dragHandleUsageInstructionsId:p,registry:w}),[t,b,p,k,T,D,w]);return WU({contextId:t,store:E,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),S.useEffect(()=>N,[N]),pt.createElement(Up.Provider,{value:B},pt.createElement(y_,{context:nb,store:E},e.children))}function GU(){return pt.useId()}function KU(e){const t=GU(),n=e.dragHandleUsageInstructions||ff.dragHandleUsageInstructions;return pt.createElement(PW,null,r=>pt.createElement(HU,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const CC={dragging:5e3,dropAnimating:4500},YU=(e,t)=>t?yc.drop(t.duration):e?yc.snap:yc.fluid,qU=(e,t)=>{if(e)return t?Tc.opacity.drop:Tc.opacity.combining},XU=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function ZU(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:o}=e,s=!!i,l=XU(e),u=!!o,d=u?Zy.drop(r,s):Zy.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:YU(l,o),transform:d,opacity:qU(s,u),zIndex:u?CC.dropAnimating:CC.dragging,pointerEvents:"none"}}function QU(e){return{transform:Zy.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function JU(e){return e.type==="DRAGGING"?ZU(e):QU(e)}function e7(e,t,n=fn){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=x_(i,r),s=Tf(o,n),l={client:o,tagName:t.tagName.toLowerCase(),display:r.display},u={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:o,page:s}}function t7(e){const t=rb("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:l}=e,u=nt(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:l}),[o,l,s]),d=De(g=>{const x=i();return x||ge(),e7(n,x,g)},[n,i]),f=nt(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),p=S.useRef(f),m=S.useRef(!0);gr(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),gr(()=>{if(m.current){m.current=!1;return}const g=p.current;p.current=f,r.draggable.update(f,g)},[f,r.draggable])}var ob=pt.createContext(null);function Ff(e){const t=S.useContext(e);return t||ge(),t}function n7(e){e.preventDefault()}const r7=e=>{const t=S.useRef(null),n=De((O=null)=>{t.current=O},[]),r=De(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=Ff(Up),{type:l,droppableId:u}=Ff(ob),d=nt(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:f,draggableId:p,isEnabled:m,shouldRespectForcePress:g,canDragInteractiveElements:x,isClone:w,mapped:b,dropAnimationFinished:C}=e;if(!w){const O=nt(()=>({descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:x,shouldRespectForcePress:g,isEnabled:m}),[d,s,r,x,g,m]);t7(O)}const k=nt(()=>m?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:n7}:null,[i,o,p,m]),E=De(O=>{b.type==="DRAGGING"&&b.dropping&&O.propertyName==="transform"&&ru.flushSync(C)},[C,b]),N=nt(()=>{const O=JU(b),T=b.type==="DRAGGING"&&b.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:O,onTransitionEnd:T},dragHandleProps:k}},[i,k,p,b,E,n]),j=nt(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return pt.createElement(pt.Fragment,null,f(N,b.snapshot,j))};var pT=(e,t)=>e===t,hT=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const i7=e=>e.combine?e.combine.draggableId:null,o7=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function a7(){const e=dn((i,o)=>({x:i,y:o})),t=dn((i,o,s=null,l=null,u=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:s,combineWith:l,combineTargetFor:null})),n=dn((i,o,s,l,u=null,d=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:o,offset:i,dimension:s,forceShouldAnimate:f,snapshot:t(o,l,u,d,null)}}));return(i,o)=>{if(Mc(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,l=i.dimensions.draggables[o.draggableId],u=mr(i.impact),d=o7(i.impact),f=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,l,o.isClone,u,d,f)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const l=o.isClone,u=i.dimensions.draggables[o.draggableId],d=s.result,f=d.mode,p=hT(d),m=i7(d),x={duration:i.dropDuration,curve:Zx.drop,moveTo:i.newHomeClientOffset,opacity:m?Tc.opacity.drop:null,scale:m?Tc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:x,draggingOver:p,combineWith:m,mode:f,forceShouldAnimate:null,snapshot:t(f,l,p,m,x)}}}return null}}function mT(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const s7={mapped:{type:"SECONDARY",offset:fn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:mT(null)}};function l7(){const e=dn((s,l)=>({x:s,y:l})),t=dn(mT),n=dn((s,l=null,u)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=s=>s?n(fn,s,!0):null,i=(s,l,u,d)=>{const f=u.displaced.visible[s],p=!!(d.inVirtualList&&d.effected[s]),m=Bp(u),g=m&&m.draggableId===s?l:null;if(!f){if(!p)return r(g);if(u.displaced.invisible[s])return null;const b=Zs(d.displacedBy.point),C=e(b.x,b.y);return n(C,g,!0)}if(p)return r(g);const x=u.displacedBy.point,w=e(x.x,x.y);return n(w,g,f.shouldAnimate)};return(s,l)=>{if(Mc(s))return s.critical.draggable.id===l.draggableId?null:i(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const u=s.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const c7=()=>{const e=a7(),t=l7();return(r,i)=>e(r,i)||t(r,i)||s7},u7={dropAnimationFinished:K_},d7=v_(c7,u7,null,{context:nb,areStatePropsEqual:pT})(r7);function gT(e){return Ff(ob).isUsingCloneFor===e.draggableId&&!e.isClone?null:pt.createElement(d7,e)}function f7(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return pt.createElement(gT,Df({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const vT=e=>t=>e===t,p7=vT("scroll"),h7=vT("auto"),AC=(e,t)=>t(e.overflowX)||t(e.overflowY),m7=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return AC(n,p7)||AC(n,h7)},g7=()=>!1,yT=e=>e==null?null:e===document.body?g7()?e:null:e===document.documentElement?null:m7(e)?e:yT(e.parentElement);var e0=e=>({x:e.scrollLeft,y:e.scrollTop});const xT=e=>e?window.getComputedStyle(e).position==="fixed"?!0:xT(e.parentElement):!1;var v7=e=>{const t=yT(e),n=xT(e);return{closestScrollable:t,isFixedOnPage:n}},y7=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:o,page:s,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:m,client:g}=l,x=Z_({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:g,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:fn,displacement:fn}}}})(),d=i==="vertical"?Ux:j_,f=Bs({page:s,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:o,page:s,frame:u,subject:f}};const x7=(e,t)=>{const n=b_(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,s=i+t.scrollWidth,u=Bx({top:r,right:s,bottom:o,left:i},n.border);return zx({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var b7=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:l})=>{const u=n.closestScrollable,d=x7(e,u),f=Tf(d,r),p=(()=>{if(!u)return null;const g=b_(u),x={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:g,page:Tf(g,r),scroll:e0(u),scrollSize:x,shouldClipSubject:l}})();return y7({descriptor:t,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:f,closest:p})};const w7={passive:!1},S7={passive:!0};var kC=e=>e.shouldPublishImmediately?w7:S7;const Wd=e=>e&&e.env.closestScrollable||null;function P7(e){const t=S.useRef(null),n=Ff(Up),r=rb("droppable"),{registry:i,marshal:o}=n,s=aT(e),l=nt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=S.useRef(l),d=nt(()=>dn((N,j)=>{t.current||ge();const O={x:N,y:j};o.updateDroppableScroll(l.id,O)}),[l.id,o]),f=De(()=>{const N=t.current;return!N||!N.env.closestScrollable?fn:e0(N.env.closestScrollable)},[]),p=De(()=>{const N=f();d(N.x,N.y)},[f,d]),m=nt(()=>Nc(p),[p]),g=De(()=>{const N=t.current,j=Wd(N);if(N&&j||ge(),N.scrollOptions.shouldPublishImmediately){p();return}m()},[m,p]),x=De((N,j)=>{t.current&&ge();const O=s.current,T=O.getDroppableRef();T||ge();const D=v7(T),B={ref:T,descriptor:l,env:D,scrollOptions:j};t.current=B;const X=b7({ref:T,descriptor:l,env:D,windowScroll:N,direction:O.direction,isDropDisabled:O.isDropDisabled,isCombineEnabled:O.isCombineEnabled,shouldClipSubject:!O.ignoreContainerClipping}),G=D.closestScrollable;return G&&(G.setAttribute(bC.contextId,n.contextId),G.addEventListener("scroll",g,kC(B.scrollOptions))),X},[n.contextId,l,g,s]),w=De(()=>{const N=t.current,j=Wd(N);return N&&j||ge(),e0(j)},[]),b=De(()=>{const N=t.current;N||ge();const j=Wd(N);t.current=null,j&&(m.cancel(),j.removeAttribute(bC.contextId),j.removeEventListener("scroll",g,kC(N.scrollOptions)))},[g,m]),C=De(N=>{const j=t.current;j||ge();const O=Wd(j);O||ge(),O.scrollTop+=N.y,O.scrollLeft+=N.x},[]),k=nt(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:w,dragStopped:b,scroll:C}),[b,x,w,C]),E=nt(()=>({uniqueId:r,descriptor:l,callbacks:k}),[k,l,r]);gr(()=>(u.current=E.descriptor,i.droppable.register(E),()=>{t.current&&b(),i.droppable.unregister(E)}),[k,l,b,E,o,i.droppable]),gr(()=>{t.current&&o.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),gr(()=>{t.current&&o.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function Ug(){}const EC={width:0,height:0,margin:jW},C7=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?EC:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},A7=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=C7({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?yc.placeholder:null}},k7=e=>{const t=S.useRef(null),n=De(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=e,[l,u]=S.useState(e.animate==="open");S.useEffect(()=>l?r!=="open"?(n(),u(!1),Ug):t.current?Ug:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):Ug,[r,l,n]);const d=De(p=>{p.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),f=A7({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return pt.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})};var E7=pt.memo(k7);class N7 extends pt.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const O7=e=>{const t=S.useContext(Up);t||ge();const{contextId:n,isMovementAllowed:r}=t,i=S.useRef(null),o=S.useRef(null),{children:s,droppableId:l,type:u,mode:d,direction:f,ignoreContainerClipping:p,isDropDisabled:m,isCombineEnabled:g,snapshot:x,useClone:w,updateViewportMaxScroll:b,getContainerForClone:C}=e,k=De(()=>i.current,[]),E=De((G=null)=>{i.current=G},[]);De(()=>o.current,[]);const N=De((G=null)=>{o.current=G},[]),j=De(()=>{r()&&b({maxScroll:J_()})},[r,b]);P7({droppableId:l,type:u,mode:d,direction:f,isDropDisabled:m,isCombineEnabled:g,ignoreContainerClipping:p,getDroppableRef:k});const O=nt(()=>pt.createElement(N7,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:G,data:F,animate:W})=>pt.createElement(E7,{placeholder:F,onClose:G,innerRef:N,animate:W,contextId:n,onTransitionEnd:j})),[n,j,e.placeholder,e.shouldAnimatePlaceholder,N]),T=nt(()=>({innerRef:E,placeholder:O,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,O,E]),D=w?w.dragging.draggableId:null,B=nt(()=>({droppableId:l,type:u,isUsingCloneFor:D}),[l,D,u]);function X(){if(!w)return null;const{dragging:G,render:F}=w,W=pt.createElement(gT,{draggableId:G.draggableId,index:G.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(de,ce)=>F(de,ce,G));return Uo.createPortal(W,C())}return pt.createElement(ob.Provider,{value:B},s(T,x),X())};function j7(){return document.body||ge(),document.body}const NC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:j7},bT=e=>{let t={...e},n;for(n in NC)e[n]===void 0&&(t={...t,[n]:NC[n]});return t},Hg=(e,t)=>e===t.droppable.type,OC=(e,t)=>t.draggables[e.draggable.id],_7=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=dn(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=dn((o,s,l,u,d,f)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===o){const x=f?{render:f,dragging:n(d.descriptor)}:null,w={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:x}}if(!s)return t;if(!u)return e;const g={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}});return(o,s)=>{const l=bT(s),u=l.droppableId,d=l.type,f=!l.isDropDisabled,p=l.renderClone;if(Mc(o)){const m=o.critical;if(!Hg(d,m))return t;const g=OC(m,o.dimensions),x=mr(o.impact)===u;return r(u,f,x,x,g,p)}if(o.phase==="DROP_ANIMATING"){const m=o.completed;if(!Hg(d,m.critical))return t;const g=OC(m.critical,o.dimensions);return r(u,f,hT(m.result)===u,mr(m.impact)===u,g,p)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const m=o.completed;if(!Hg(d,m.critical))return t;const g=mr(m.impact)===u,x=!!(m.impact.at&&m.impact.at.type==="COMBINE"),w=m.critical.droppable.id===u;return g?x?e:t:w?e:t}return t}},T7={updateViewportMaxScroll:WV},D7=v_(_7,T7,(e,t,n)=>({...bT(n),...e,...t}),{context:nb,areStatePropsEqual:pT})(O7),M7=Me.apiBaseUrl;function wT(e,t){const n=t.B,r=t.C;if(!n||!r||n.length<3||r.length<3){const l=t.n;return typeof l=="number"?l:1.5}const i=e*.001,o=i*i;let s=1;for(let l=0;l<3;l++)s+=n[l]*o/(o-r[l]);return Math.sqrt(Math.max(s,1))}async function I7(){const e=t=>t.map(r=>({name:r.name,n:wT(587.6,r.coefficients||{}),coefficients:r.coefficients}));try{const t=await fetch(`${M7}/api/materials`);if(t.ok){const n=await t.json();return e(n)}}catch{}try{const t=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=t.endsWith("/")?`${t}glass_library.json`:`${t}/glass_library.json`,r=typeof location<"u"?new URL(n,location.href).href:n,i=await fetch(r);if(i.ok){const s=(await i.json()).materials||[];return e(s)}}catch{}return[{name:"Air",n:1},{name:"N-BK7",n:1.5168},{name:"Fused Silica",n:1.458},{name:"N-SF11",n:1.78472},{name:"N-SF5",n:1.6727}]}const au=Me.apiBaseUrl;function jC(e){return{Uncoated:{background:"#94a3b8"},None:{background:"#94a3b8"},MgF2:{background:"#7dd3fc"},BBAR:{background:"#93c5fd"},"V-Coat 532":{background:"#a5b4fc"},"V-Coat 1064":{background:"#67e8f9"},"Protected Silver":{background:"linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 50%, #94a3b8 100%)"},"Protected Gold":{background:"linear-gradient(135deg, #fcd34d 0%, #f59e0b 50%, #d97706 100%)"},"Protected Aluminum":{background:"linear-gradient(135deg, #9ca3af 0%, #6b7280 50%, #4b5563 100%)"},HR:{background:"linear-gradient(135deg, #374151 0%, #1f2937 100%)"}}[e]??{background:"#64748b"}}const ab=[{name:"Uncoated",description:"Uncoated (Fresnel ~4% R for glass)",is_hr:!1},{name:"None",description:"Uncoated (Fresnel ~4%)",is_hr:!1},{name:"MgF2",description:"Single-layer MgF AR coating",is_hr:!1},{name:"BBAR",description:"Broadband anti-reflection (400700 nm)",is_hr:!1},{name:"V-Coat 532",description:"V-coat optimized for 532 nm",is_hr:!1},{name:"V-Coat 1064",description:"V-coat optimized for 1064 nm",is_hr:!1},{name:"Protected Silver",description:"Protected silver mirror (~97.5% R)",is_hr:!1},{name:"Protected Gold",description:"Protected gold mirror (~98% R)",is_hr:!1},{name:"Protected Aluminum",description:"Protected aluminum mirror (~92% R)",is_hr:!1},{name:"HR",description:"High reflectivity mirror (>99.5%)  reflects instead of refracts",is_hr:!0}];async function R7(){const e=t=>t.map(n=>{const r=n;return{name:r.name??"",description:r.description??"",is_hr:r.is_hr??!1}});try{const t=await fetch(`${au}/api/coatings`);if(t.ok){const n=await t.json();if(Array.isArray(n))return e(n)}}catch{}try{const t=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=t.endsWith("/")?`${t}coatings_library.json`:`${t}/coatings_library.json`,r=typeof location<"u"?new URL(n,location.href).href:n,i=await fetch(r);if(i.ok){const o=await i.json();if(Array.isArray(o))return e(o)}}catch{}return ab}const L7=ab.map(e=>({...e,category:e.is_hr?"HR":"AR",source:"builtin"}));async function F7(){const e=t=>t.map(n=>{const r=n;return{name:r.name??"",description:r.description??"",is_hr:r.is_hr??!1,category:r.category??(r.is_hr?"HR":"AR"),source:r.source==="custom"?"custom":"builtin"}});try{const t=await fetch(`${au}/api/coatings/library`);if(t.ok){const n=await t.json();if(Array.isArray(n)){const r=e(n);if(r.length>0)return r}}}catch{}try{const t=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=t.endsWith("/")?`${t}coatings_library.json`:`${t}/coatings_library.json`,r=typeof location<"u"?new URL(n,location.href).href:n,i=await fetch(r);if(i.ok){const o=await i.json();if(Array.isArray(o))return e(o)}}catch{}return L7}async function ST(e){try{const t=await fetch(`${au}/api/coatings/${encodeURIComponent(e)}/definition`);if(!t.ok)return null;const n=await t.json();return{name:n.name??e,data_type:n.data_type??"constant",constant_value:n.constant_value,data_points:n.data_points,is_hr:n.is_hr??!1}}catch{return null}}async function $7(e){const t=await fetch(`${au}/api/coatings/custom`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.text();throw new Error(r||"Failed to create coating")}const n=await t.json();return{name:n.name??"",description:n.description??"",is_hr:n.type==="HR"}}async function PT(e,t,n,r=5){try{const i=new URLSearchParams({min_nm:String(t),max_nm:String(n),step_nm:String(r)}),o=await fetch(`${au}/api/coatings/${encodeURIComponent(e)}/reflectivity?${i}`);if(!o.ok)throw new Error("Failed to fetch");const l=(await o.json())?.points;if(!Array.isArray(l))throw new Error("Invalid response");return l.map(u=>({wavelength:Number(u.wavelength)||0,reflectivity:Number(u.reflectivity)??0}))}catch{return B7(e,t,n,r)}}function B7(e,t,n,r){const i=[],o=s=>{switch(e){case"Uncoated":case"None":return .04;case"MgF2":return .013*(1+.1*(s/550-1)**2);case"BBAR":return s>=400&&s<=700?.004+.001*Math.abs(s-550)/150:.01;case"V-Coat 355":return .0025+.01*Math.min(Math.abs(s-355)/30,1);case"V-Coat 532":return .0025+.01*Math.min(Math.abs(s-532)/50,1);case"V-Coat 633":return .0025+.01*Math.min(Math.abs(s-633)/50,1);case"V-Coat 1064":return .0025+.01*Math.min(Math.abs(s-1064)/100,1);case"V-Coat 1550":return .0025+.01*Math.min(Math.abs(s-1550)/100,1);case"Protected Silver":return .975;case"Protected Gold":return .98;case"Protected Aluminum":return .92;case"Enhanced Silver":return .985;case"HR":case"HR 355":case"HR 532":case"HR 633":case"HR 1064":case"HR 355nm":case"HR 1064nm":case"HR Broadband":return .995;case"Dielectric MaxReflect":return .999;case"Beamsplitter 50/50":case"Cube 50/50":return .5;case"Beamsplitter 70/30":case"Cube 70/30":return .7;case"Beamsplitter 90/10":return .9;case"Beamsplitter 60/40":return .6;case"Beamsplitter 80/20":return .8;case"Beamsplitter 30/70":return .3;case"Beamsplitter 10/90":return .1;case"Pellicle 8%":return .08;case"Pellicle 45%":return .45;case"Neutral Density 50%":return .25;case"Neutral Density 10%":return .45;case"Neutral Density 1%":return .495;default:return .04}};for(let s=t;s<=n;s+=r)i.push({wavelength:s,reflectivity:o(s)});return i}const ps=180,jr=80,vt={left:36,right:8,top:6,bottom:24};function z7({points:e,systemWavelengthNm:t,minNm:n,maxNm:r,coatingName:i,className:o=""}){if(!e.length)return null;const s=n,l=r,u=l-s||1,d=ps-vt.left-vt.right,f=jr-vt.top-vt.bottom,p=E=>vt.left+(E-s)/u*d,m=Math.max(...e.map(E=>E.reflectivity),.01),g=Math.min(1,m*1.2),x=e.map((E,N)=>`${N===0?"M":"L"} ${p(E.wavelength)} ${vt.top+f-E.reflectivity/g*f}`).join(" "),w=p(t),b=t>=s&&t<=l,k=e.reduce((E,N)=>Math.abs(E.wavelength-t)<=Math.abs(N.wavelength-t)?E:N).reflectivity;return y.jsxs("div",{className:o,children:[i&&y.jsx("div",{className:"text-[10px] font-medium text-slate-300 mb-0.5 truncate",title:i,children:i}),y.jsxs("svg",{width:ps,height:jr,className:"block",viewBox:`0 0 ${ps} ${jr}`,children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"reflectivityGrad",x1:"0",y1:"1",x2:"0",y2:"0",children:[y.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:"0.3"}),y.jsx("stop",{offset:"100%",stopColor:"#22d3ee",stopOpacity:"0"})]})}),y.jsx("line",{x1:vt.left,y1:vt.top,x2:vt.left,y2:jr-vt.bottom,stroke:"#334155",strokeWidth:"0.5"}),y.jsx("line",{x1:vt.left,y1:jr-vt.bottom,x2:ps-vt.right,y2:jr-vt.bottom,stroke:"#334155",strokeWidth:"0.5"}),y.jsx("text",{x:vt.left-4,y:vt.top+4,className:"fill-slate-500",fontSize:"8",textAnchor:"end",children:"R"}),y.jsx("text",{x:vt.left,y:jr-4,className:"fill-slate-500",fontSize:"8",textAnchor:"middle",children:s}),y.jsx("text",{x:ps-vt.right,y:jr-4,className:"fill-slate-500",fontSize:"8",textAnchor:"middle",children:l}),y.jsx("text",{x:(vt.left+ps-vt.right)/2,y:jr-4,className:"fill-slate-500",fontSize:"8",textAnchor:"middle",children:" (nm)"}),b&&y.jsx("line",{x1:w,y1:vt.top,x2:w,y2:jr-vt.bottom,stroke:"#22d3ee",strokeWidth:"1",strokeDasharray:"3 2",opacity:.8}),y.jsx("path",{d:`${x} L ${p(e[e.length-1].wavelength)} ${jr-vt.bottom} L ${p(e[0].wavelength)} ${jr-vt.bottom} Z`,fill:"url(#reflectivityGrad)"}),y.jsx("path",{d:x,fill:"none",stroke:"#22d3ee",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),b&&y.jsxs("g",{children:[y.jsx("circle",{cx:w,cy:vt.top+f-k/g*f,r:"2.5",fill:"#22d3ee"}),y.jsxs("text",{x:w,y:vt.top-2,className:"fill-cyan-electric",fontSize:"7",textAnchor:"middle",fontWeight:"600",children:[t," nm"]}),y.jsxs("text",{x:w+2,y:vt.top+f-k/g*f,className:"fill-slate-300",fontSize:"7",textAnchor:"start",children:["R=",(k*100).toFixed(2),"%"]})]})]})]})}function W7(e){const t=e.surfaceQuality?.trim()||"3/2",n=e.radiusTolerance??e.thicknessTolerance;return n!=null&&n>0?`${t}(${n.toFixed(2)})`:t}function V7(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(n),n+=e[r].thickness??0;return t}function Gg(e,t,n,r=24){const i=[];if(Math.abs(t)<.1)i.push([e,-n],[e,n]);else{const o=t;for(let s=0;s<=r;s++){const u=(s/r-.5)*2*n,d=Math.max(0,o*o-u*u),f=o-Math.sign(o)*Math.sqrt(d);i.push([e+f,u])}}return i}function U7(e,t){return e.length<=t?e:e.slice(0,t-1)+""}function pf(e,t){const{projectName:n,date:r,drawnBy:i="MacOptics",width:o=1400,height:s=1e3}=t,l=e.surfaces,u=e.entrancePupilDiameter??10,d=V7(l),f=d.length?d[d.length-1]+(l[l.length-1]?.thickness??0):0,m=(l.length?Math.max(u,...l.map(xe=>xe.diameter??u)):u)/2+8,g=50,x=50,w=(o-g*2-x)/2,b=s-g*2-120,C=Math.max(f+50,60),k=(w-80)/C,E=b/(2*m+30),N=Math.min(k,E,10),j=g+60,O=g+50+b/2,T=(xe,rt)=>`${(j+xe*N).toFixed(2)},${(O-rt*N).toFixed(2)}`,D=[];for(let xe=0;xe<l.length;xe++){const rt=l[xe],ht=d[xe]??0,Ge=(rt.diameter??u)/2,lt=Gg(ht,rt.radius,Ge);if(lt.length>=2){D.push(`M ${T(lt[0][0],lt[0][1])}`);for(let ot=1;ot<lt.length;ot++)D.push(`L ${T(lt[ot][0],lt[ot][1])}`)}}const B=D.join(" "),X=[];for(let xe=0;xe<l.length-1;xe++){const rt=l[xe],ht=l[xe+1];if((rt.refractiveIndex??1)<=1.01)continue;const Ge=d[xe]??0,lt=d[xe+1]??Ge+rt.thickness,ot=(rt.diameter??u)/2,Xt=Gg(Ge,rt.radius,ot),wt=Gg(lt,ht.radius,(ht.diameter??u)/2).reverse(),vn=[...Xt,...wt];if(vn.length>=3){const yn="M "+vn.map(([On,oi])=>T(On,oi)).join(" L ")+" Z";X.push(yn)}}const G=[],F=[],W=4,de=6,ce=22,Se=32,ee=O-m*N-35,K=O+m*N+28,ie=[];for(let xe=0;xe<l.length-1;xe++){const rt=l[xe],ht=d[xe]??0,Ge=d[xe+1]??ht+rt.thickness,lt=j+ht*N,ot=j+Ge*N;ie.push({i:xe,midX:(lt+ot)/2,x1:lt,x2:ot,ct:rt.thickness??0})}const ne=[];for(const xe of ie){const rt=xe.midX-Se,ht=xe.midX+Se;let Ge=0;for(;Ge<de;Ge++){const wt=ne.find(vn=>vn.band===Ge);if(!wt||wt.maxRight<rt){wt?wt.maxRight=ht:ne.push({band:Ge,maxRight:ht});break}}if(Ge>=de){Ge=0;const wt=ne.find(vn=>vn.band===0);wt?wt.maxRight=Math.max(wt.maxRight,ht):ne.push({band:0,maxRight:ht})}const lt=Ge<de/2,ot=lt?ee+14+Ge%3*(ce/2):K-14-Ge%3*(ce/2),Xt=lt?ee+Ge%3*(ce/2)-2:K+Ge%3*(ce/2)+14;G.push(`M ${xe.x1.toFixed(2)} ${O} L ${xe.x1.toFixed(2)} ${ot}`,`M ${xe.x2.toFixed(2)} ${O} L ${xe.x2.toFixed(2)} ${ot}`,`M ${xe.x1.toFixed(2)} ${ot} L ${xe.x2.toFixed(2)} ${ot}`,`M ${xe.x1.toFixed(2)} ${(ot-W).toFixed(2)} L ${xe.x1.toFixed(2)} ${(ot+W).toFixed(2)}`,`M ${xe.x2.toFixed(2)} ${(ot-W).toFixed(2)} L ${xe.x2.toFixed(2)} ${(ot+W).toFixed(2)}`),F.push({x:xe.midX,y:Xt,text:`CT ${xe.ct.toFixed(2)} mm`})}const R=O+m*N+68,$=j,oe=j+f*N;G.push(`M ${$.toFixed(2)} ${O} L ${$.toFixed(2)} ${R}`,`M ${oe.toFixed(2)} ${O} L ${oe.toFixed(2)} ${R}`,`M ${$.toFixed(2)} ${R} L ${oe.toFixed(2)} ${R}`,`M ${$.toFixed(2)} ${(R-W).toFixed(2)} L ${$.toFixed(2)} ${(R+W).toFixed(2)}`,`M ${oe.toFixed(2)} ${(R-W).toFixed(2)} L ${oe.toFixed(2)} ${(R+W).toFixed(2)}`),F.push({x:($+oe)/2,y:R+14,text:`TOTAL ${f.toFixed(2)} mm`});const fe=g+w+x+10,ue=g+36,ve=26,re=[44,56,100,72],U=re.reduce((xe,rt)=>xe+rt,0),M=["Surf","S/D 3/2","Material","CT (mm)"];let Y=`<text x="${fe}" y="${g+22}" font-size="9" fill="#64748b">Surface Quality (Scratch/Dig) per ISO 10110  see S/D column</text>`;for(let xe=0;xe<=l.length;xe++){const rt=ue+xe*ve;let ht=fe;for(let Ge=0;Ge<re.length;Ge++){const lt=re[Ge];Y+=`<rect x="${ht}" y="${rt}" width="${lt}" height="${ve}" fill="${xe===0?"rgba(30,41,59,0.95)":"rgba(15,23,42,0.95)"}" stroke="#475569" stroke-width="0.8"/>`;const ot=ht+lt/2,Xt=rt+ve/2+4;if(xe===0)Y+=`<text x="${ot}" y="${Xt}" font-size="11" font-weight="bold" fill="#94a3b8" text-anchor="middle">${Vd(M[Ge])}</text>`;else{const wt=l[xe-1],vn=xe>1?l[xe-2]?.thickness??0:null,yn=W7(wt),On=U7(wt.material||(wt.type==="Air"?"Air":""),14),oi=Ge===0?String(xe):Ge===1?yn:Ge===2?On:vn!=null?vn.toFixed(2):"";Y+=`<text x="${ot}" y="${Xt}" font-size="10" fill="#e2e8f0" text-anchor="middle">${Vd(oi)}</text>`}ht+=lt}}const J=(l.length+1)*ve,V=fe,we=ue+J+20,Z=U,Ie=98,$e=28,Ke=12,ct=82,Nt=[{label:"Project Name:",value:n||""},{label:"Date:",value:r},{label:"Drawn By:",value:i}];let Mt=`<rect x="${V}" y="${we}" width="${Z}" height="${Ie}" fill="rgba(30,41,59,0.95)" stroke="#475569" stroke-width="1" rx="4"/>`;return Nt.forEach((xe,rt)=>{const ht=we+Ke+rt*$e,Ge=V+Ke,lt=V+ct+Ke,ot=Z-ct-Ke*2;Mt+=`<text x="${Ge}" y="${ht+18}" font-size="10" fill="#94a3b8">${Vd(xe.label)}</text>`,Mt+=`<rect x="${lt}" y="${ht+2}" width="${ot}" height="${$e-4}" fill="rgba(15,23,42,0.9)" stroke="#334155" stroke-width="0.5" rx="2"/>`,Mt+=`<text x="${lt+8}" y="${ht+18}" font-size="10" fill="#e2e8f0">${Vd(xe.value)}</text>`}),`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${o} ${s}" width="${o}" height="${s}">
  <defs>
    <style>.dim-line { stroke: #64748b; stroke-width: 0.8; fill: none; }</style>
  </defs>
  <rect width="100%" height="100%" fill="#0f172a"/>
  <text x="${g}" y="${g+12}" font-size="14" font-weight="bold" fill="#22D3EE">ISO 10110 Optical Drawing</text>

  <!-- Cross-section (left) - data-type="optical-surface" for LENS-X SVG import -->
  <path d="${B}" fill="none" stroke="#22D3EE" stroke-width="1.5" data-type="optical-surface"/>
  ${X.map(xe=>`<path d="${xe}" fill="rgba(34,211,238,0.15)" stroke="#22D3EE" stroke-width="1" data-type="optical-surface"/>`).join(`
  `)}

  <!-- Dimension lines -->
  ${G.map(xe=>`<path d="${xe}" class="dim-line"/>`).join(`
  `)}
  ${F.map(xe=>`<text x="${xe.x}" y="${xe.y}" font-size="10" fill="#94a3b8" text-anchor="middle">${xe.text}</text>`).join(`
  `)}

  <!-- Data table (right)  Surface Quality note placed here to avoid overlap with dimension labels -->
  ${Y}

  <!-- Title block -->
  ${Mt}
</svg>`}function Vd(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const _C=["1.0"];function CT(e,t={}){const{projectName:n="Untitled",date:r=new Date().toISOString().slice(0,10),drawnBy:i="MacOptics",entrancePupilDiameter:o=10,referenceWavelengthNm:s=587.6,mcIterations:l=1e3,mcSeed:u=42,targetYield:d=.95,width:f=800,height:p=570,customCoatingData:m={}}=t,g=e.map(b=>{const C={};b.refractiveIndex!=null&&(C.refractive_index=b.refractiveIndex),b.sellmeierCoefficients&&(C.sellmeier=b.sellmeierCoefficients),b.coating&&(C.coating=b.coating);const k=b.coatingDataPoints!=null?"table":"constant",E=b.coatingDataPoints!=null||b.coatingConstantValue!=null?{data_type:k,data_points:b.coatingDataPoints,constant_value:b.coatingConstantValue,is_hr:b.coatingIsHr}:b.coating?m[b.coating]:void 0;E&&(E.data_type==="table"&&E.data_points?.length?C.coating_r_table=E.data_points:E.data_type==="constant"&&E.constant_value!=null&&(C.coating_constant_r=E.constant_value),E.is_hr!=null&&(C.coating_is_hr=E.is_hr));const N=b.radius??0,j=N===0||typeof N=="number"&&Math.abs(N)<.01,O=b.tiltTolerance??0;return{radius:j?"infinity":N,thickness:b.thickness??0,aperture:(b.diameter??25)/2,material:b.material??(b.type==="Air"?"Air":"N-BK7"),type:b.type??(b.refractiveIndex>1.01?"Glass":"Air"),description:b.description??"",...b.semanticName&&{semantic_name:b.semanticName},...b.aiContext&&{ai_context:b.aiContext},physics:Object.keys(C).length>0?C:void 0,manufacturing:{surface_quality:b.surfaceQuality??"3/2",radius_tolerance:b.radiusTolerance??0,thickness_tolerance:b.thicknessTolerance??0,tilt_tolerance:O},tolerances:{radius_tol:b.radiusTolerance??0,thickness_tol:b.thicknessTolerance??0,decenter_x:b.decenterX??0,decenter_y:b.decenterY??0,tilt_x:O,tilt_y:O,index_tol:0}}}),x=s??587.6,w=pf({surfaces:e,entrancePupilDiameter:o},{projectName:n,date:r,drawnBy:i,width:f,height:p});return{lens_x_version:"1.0",metadata:{project_name:n,date:r,drawn_by:i},system_settings:{mc_iterations:l,mc_seed:u,target_yield:d},optics:{surfaces:g,entrance_pupil_diameter:o,reference_wavelength_nm:x},geometry:{svg_path:w}}}function H7(e){if(!e||typeof e!="object")throw new Error("Invalid LENS-X: expected an object");const t=e,n=t.lens_x_version;if(typeof n!="string"||!_C.includes(n))throw new Error(`Invalid LENS-X: missing or unsupported lens_x_version. Expected one of: ${_C.join(", ")}`);const r=t.optics;if(!r||typeof r!="object")throw new Error("Invalid LENS-X: missing optics block");const i=r,o=i.surfaces;if(!Array.isArray(o))throw new Error("Invalid LENS-X: optics.surfaces must be an array");let s=!0;const l=o.map((g,x)=>{if(!g||typeof g!="object")throw new Error(`Invalid LENS-X: surface ${x+1} is not an object`);const w=g,b=w.radius,C=b==="infinity"||b==="inf"||b==="flat"||b===0?0:typeof b=="number"?b:0,k=typeof w.thickness=="number"?w.thickness:0,E=typeof w.aperture=="number"?w.aperture:12.5,N=Math.max(.1,2*E),j=String(w.material||(w.type==="Air"?"Air":"N-BK7")).trim(),T=String(w.type||"Glass").trim().toLowerCase()==="air"||j.toLowerCase()==="air",D=T?"Air":"Glass",B=w.physics||{},X=D==="Air"?1:typeof B.refractive_index=="number"?B.refractive_index:1.52,G=w.manufacturing||{},F={id:crypto.randomUUID(),type:D,radius:C,thickness:k,refractiveIndex:X,diameter:N,material:T?"Air":j,description:String(w.description||`Surface ${x+1}`),...typeof w.semantic_name=="string"&&w.semantic_name&&{semanticName:w.semantic_name},...typeof w.ai_context=="string"&&{aiContext:w.ai_context}};if(B.sellmeier&&typeof B.sellmeier=="object"){const ce=B.sellmeier;Array.isArray(ce.B)&&Array.isArray(ce.C)&&(F.sellmeierCoefficients={B:ce.B,C:ce.C})}B.coating&&typeof B.coating=="string"&&(F.coating=B.coating.trim()),Array.isArray(B.coating_r_table)&&B.coating_r_table.length>0&&(F.coatingDataPoints=B.coating_r_table.map(ce=>({wavelength:Number(ce?.wavelength)||0,reflectivity:Number(ce?.reflectivity)??0}))),typeof B.coating_constant_r=="number"&&(F.coatingConstantValue=B.coating_constant_r),typeof B.coating_is_hr=="boolean"&&(F.coatingIsHr=B.coating_is_hr),G.surface_quality&&(F.surfaceQuality=String(G.surface_quality)),typeof G.radius_tolerance=="number"&&(F.radiusTolerance=G.radius_tolerance),typeof G.thickness_tolerance=="number"&&(F.thicknessTolerance=G.thickness_tolerance),typeof G.tilt_tolerance=="number"&&(F.tiltTolerance=G.tilt_tolerance);const W=w.tolerances||{};return W&&typeof W=="object"&&Object.keys(W).length>0?(F.radiusTolerance=typeof W.radius_tol=="number"?W.radius_tol:F.radiusTolerance??0,F.thicknessTolerance=typeof W.thickness_tol=="number"?W.thickness_tol:F.thicknessTolerance??0,F.tiltTolerance=typeof W.tilt_x=="number"?W.tilt_x:typeof W.tilt_y=="number"?W.tilt_y:F.tiltTolerance??0,F.decenterX=typeof W.decenter_x=="number"?W.decenter_x:0,F.decenterY=typeof W.decenter_y=="number"?W.decenter_y:0):(s=!1,F.radiusTolerance=F.radiusTolerance??0,F.thicknessTolerance=F.thicknessTolerance??0,F.tiltTolerance=F.tiltTolerance??0,F.decenterX=0,F.decenterY=0),F}),u=typeof i.entrance_pupil_diameter=="number"?i.entrance_pupil_diameter:Me.defaults.entrancePupilDiameter,d=typeof i.reference_wavelength_nm=="number"?i.reference_wavelength_nm:Me.defaults.defaultWavelength,f=t.metadata||{},p=typeof f.project_name=="string"?f.project_name:void 0,m=t.system_settings||{};return{surfaces:l,entrancePupilDiameter:u,wavelengths:[d],projectName:p,mc_iterations:typeof m.mc_iterations=="number"?m.mc_iterations:void 0,mc_seed:typeof m.mc_seed=="number"?m.mc_seed:void 0,target_yield:typeof m.target_yield=="number"?m.target_yield:void 0,hasTolerancesData:s}}function t0(e){let t;try{t=JSON.parse(e)}catch(n){throw new Error(`Invalid JSON: ${n instanceof Error?n.message:String(n)}`)}return H7(t)}async function G7(e){const t=await e.text();try{return{surfaces:t0(t).surfaces}}catch(n){const r=n instanceof Error?n.message:String(n);throw new Error(`Invalid LENS-X file: ${r}`)}}async function K7(e){const t=(e.name||"").toLowerCase().split(".").pop()??"",n=e.name.toLowerCase().endsWith(".lensx"),r=t==="json",i=t==="svg";if(n||r)try{return await G7(e)}catch(o){throw o}throw i?new Error("SVG import requires the backend server. Use .lensx or .json for standalone mode."):t==="csv"?new Error("CSV import requires the backend server. Use .lensx or .json for standalone mode."):new Error(`Unsupported file type .${t}. Use .lensx, .json, or .svg.`)}function Y7(e){if(e.radius===0)return null;const t=e.refractiveIndex??1;return Math.abs(t-1)<1e-9?null:e.radius/(t-1)}function q7(e){const t=e.refractiveIndex??1;if(t<=1)return null;const n=1/t;return n>1?null:Math.asin(n)*180/Math.PI}function AT(e){const t=Y7(e),n=q7(e);return{...e,effective_focal_length:t??void 0,critical_angle:n??void 0}}function X7(e,t){return e<=1?0:(e-1)/e*t}function Z7(e,t,n){if(e===0||t===0||Math.abs(n-1)<1e-9)return null;const r=e/(n-1);return t/(n-1)-r}function Q7(e,t,n,r,i){const o=e.semanticName??`S${i+1}`,s=e.refractiveIndex??1;switch(t){case"thickness":{const l=Number(n)||0,d=(Number(r)||0)-l;if(Math.abs(d)<1e-6)return"";const f=d>0?"Increasing":"Decreasing",p=X7(s,d);if(e.type==="Glass"&&Math.abs(p)>.001){const m=p>=0?`+${p.toFixed(2)}`:p.toFixed(2);return`${f} thickness of ${o} by ${Math.abs(d).toFixed(2)}mm; likely shifting focus by ${m}mm`}return`${f} thickness of ${o} by ${Math.abs(d).toFixed(2)}mm`}case"radius":{const l=Number(n)??0,u=Number(r)??0,d=u-l;if(Math.abs(d)<1e-6)return"";const f=Z7(l,u,s);if(f!=null&&Math.abs(f)>.1){const p=f>0?"longer":"shorter";return`Changing curvature of ${o}; effective focal length becomes ${p} by ~${Math.abs(f).toFixed(1)}mm`}return`Changing radius of ${o} from ${l.toFixed(1)} to ${u.toFixed(1)}mm`}case"refractiveIndex":case"material":{const d=(typeof r=="number"?r:s)-(typeof n=="number"?n:1);if(Math.abs(d)<1e-4)return"";const f=d>0?"increases power; shorter focal length":"decreases power; longer focal length";return`Material change on ${o}: n ${d>0?"+":""}${d.toFixed(3)}; ${f}`}case"diameter":{const l=Number(n)??0,d=(Number(r)??0)-l;return Math.abs(d)<1e-6?"":`${d>0?"Larger":"Smaller"} aperture on ${o} by ${Math.abs(d).toFixed(1)}mm; affects vignetting and edge rays`}case"coating":return`Coating change on ${o}; affects reflectivity and power loss`;default:return`Updated ${t} on ${o}`}}const J7=[{name:"Air",n:1},{name:"N-BK7",n:1.5168},{name:"Fused Silica",n:1.458},{name:"N-SF11",n:1.78472},{name:"N-SF5",n:1.6727}];function eH(e,t){const n=t.map(r=>r.id);return e.length!==n.length?!0:e.some((r,i)=>r!==n[i])}const As="w-full bg-white/5 border border-white/10 rounded px-2 py-1 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50 focus:shadow-[0_0_8px_rgba(34,211,238,0.25)] transition-shadow",pi="w-full bg-white/5 border border-white/10 rounded px-2 py-1 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50 focus:shadow-[0_0_8px_rgba(34,211,238,0.25)] transition-shadow font-mono tabular-nums",TC=["N-BK7","Fused Silica"],DC=["Uncoated","MgF2","BBAR"];function tH({value:e,onChange:t,onClick:n,materials:r,wavelengthNm:i,fallbackN:o}){const[s,l]=S.useState(!1),[u,d]=S.useState(""),f=S.useRef(null),p=S.useRef(null),[m,g]=S.useState({top:0,left:0,width:0}),x=S.useRef(()=>{if(f.current){const T=f.current.getBoundingClientRect();g({top:T.bottom,left:T.left,width:T.width})}}),w=u.trim()?r.filter(T=>T.name.toLowerCase().includes(u.toLowerCase())):r,b=w.filter(T=>TC.includes(T.name)),C=w.filter(T=>!TC.includes(T.name)),k=r.find(T=>T.name.toLowerCase()===e.toLowerCase()),E=k?.coefficients?wT(i,k.coefficients):o,N=S.useRef(t);N.current=t,S.useLayoutEffect(()=>{s&&f.current&&(x.current(),f.current.focus())},[s]),S.useEffect(()=>{if(!s)return;const T=()=>x.current();return window.addEventListener("scroll",T,!0),window.addEventListener("resize",T),()=>{window.removeEventListener("scroll",T,!0),window.removeEventListener("resize",T)}},[s]),S.useEffect(()=>{const T=D=>{const B=D.target;f.current?.contains(B)||p.current?.contains(B)||(u.trim()&&u!==e&&N.current(u.trim()),d(""),l(!1))};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[u,e,s]);const j=T=>{const D=T.coefficients,B=D&&Array.isArray(D.B)&&Array.isArray(D.C)&&D.B.length>=3&&D.C.length>=3?{B:D.B,C:D.C}:void 0;t(T.name,T.n,B),d(""),l(!1)},O=s&&Uo.createPortal(y.jsxs(qe.div,{ref:p,initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:"fixed z-[9999] min-w-[12rem] max-h-64 overflow-auto rounded-lg border border-slate-700 bg-slate-900/95 shadow-2xl backdrop-blur-xl",style:{top:m.top+4,left:m.left,width:Math.max(m.width,192)},children:[y.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-2 border-b border-slate-700 bg-slate-900/95 px-2 py-1.5",children:[y.jsx(Is,{className:"w-4 h-4 shrink-0 text-slate-400",strokeWidth:2}),y.jsx("input",{type:"text",value:u,onChange:T=>d(T.target.value),placeholder:"Search materials...",className:"flex-1 bg-transparent text-sm text-slate-200 placeholder:text-slate-500 focus:outline-none",autoComplete:"off"})]}),y.jsxs("div",{className:"py-1",children:[b.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"Common"}),b.map(T=>y.jsxs("button",{type:"button",onClick:D=>{D.stopPropagation(),j(T)},className:"w-full text-left px-2 py-1.5 text-sm hover:bg-cyan-electric/20 text-slate-200 rounded",children:[T.name," ",y.jsxs("span",{className:"text-slate-500",children:["(n=",T.n,")"]})]},T.name))]}),C.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[b.length>0&&y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"All"}),C.map(T=>y.jsxs("button",{type:"button",onClick:D=>{D.stopPropagation(),j(T)},className:"w-full text-left px-2 py-1.5 text-sm hover:bg-cyan-electric/20 text-slate-200 rounded",children:[T.name," ",y.jsxs("span",{className:"text-slate-500",children:["(n=",T.n,")"]})]},T.name))]}),w.length===0&&y.jsx("div",{className:"px-2 py-3 text-sm text-slate-500",children:"No matches"})]})]}),document.body);return y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"flex gap-0.5 flex-1 min-w-0",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(Is,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"}),y.jsx("input",{ref:f,type:"text",value:s?u:e,onChange:T=>{d(T.target.value),s||l(!0)},onFocus:()=>{d(e),l(!0)},onClick:n,placeholder:"Material...",className:`${As} pl-8`})]}),y.jsx("button",{type:"button",onClick:T=>{T.stopPropagation(),s||(d(e),x.current(),setTimeout(()=>f.current?.focus(),0)),l(D=>!D)},className:"p-1 rounded bg-white/5 border border-white/10 text-slate-400 hover:text-cyan-electric shrink-0","aria-label":"Toggle material list",children:y.jsx(Os,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,strokeWidth:2})})]}),y.jsxs("span",{className:"shrink-0 text-xs font-mono tabular-nums text-slate-500 min-w-[3.5rem]",title:`n at ${(i/1e3).toFixed(3)} m`,children:["n",E.toFixed(3)]}),O]})}function nH({value:e,onChange:t,onClick:n,coatings:r,wavelengthNm:i,wavelengths:o}){const[s,l]=S.useState(!1),[u,d]=S.useState(""),[f,p]=S.useState(null),[m,g]=S.useState({}),[x,w]=S.useState(!1),b=S.useRef(null),C=S.useRef(null),[k,E]=S.useState({top:0,left:0,width:0}),N=e==="None"||!e?"Uncoated":e,j=o.length?Math.max(350,Math.min(...o)-80):400,O=o.length?Math.min(1200,Math.max(...o)+80):700,T=S.useRef(()=>{if(b.current){const ee=b.current.getBoundingClientRect();E({top:ee.bottom,left:ee.left,width:ee.width})}}),D=u.trim()?r.filter(ee=>ee.name.toLowerCase().includes(u.toLowerCase())||ee.description&&ee.description.toLowerCase().includes(u.toLowerCase())):r,B=D.filter(ee=>DC.includes(ee.name)),X=D.filter(ee=>!DC.includes(ee.name)),G=S.useRef(t);G.current=t,S.useLayoutEffect(()=>{s&&b.current&&(T.current(),b.current.focus())},[s]),S.useEffect(()=>{if(!s)return;const ee=()=>T.current();return window.addEventListener("scroll",ee,!0),window.addEventListener("resize",ee),()=>{window.removeEventListener("scroll",ee,!0),window.removeEventListener("resize",ee)}},[s]),S.useEffect(()=>{const ee=K=>{const ie=K.target;b.current?.contains(ie)||C.current?.contains(ie)||(d(""),l(!1),p(null))};return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)},[s]),S.useEffect(()=>{if(!f||m[f])return;let ee=!1;return w(!0),PT(f,j,O,5).then(K=>{ee||g(ie=>({...ie,[f]:K})),w(!1)}).catch(()=>w(!1)),()=>{ee=!0}},[f,j,O,m]);const F=ee=>{t(ee.name),d(""),l(!1)},W=ee=>y.jsx("div",{className:"relative",onMouseEnter:()=>p(ee.name),onMouseLeave:()=>p(null),children:y.jsxs("button",{type:"button","data-testid":`coating-option-${ee.name.replace(/\s+/g,"-")}`,onClick:K=>{K.stopPropagation(),F(ee)},className:"w-full text-left px-2 py-1.5 text-sm hover:bg-cyan-electric/20 text-slate-200 rounded flex items-center gap-2",children:[y.jsx("span",{className:"shrink-0 w-3 h-3 rounded-full border border-white/20",style:jC(ee.name),title:ee.description}),y.jsx("span",{children:ee.name})]})},ee.name),de=Math.max(k.width,192),ce=s&&f&&Uo.createPortal(y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.15},className:"fixed z-[10000] rounded-lg border border-slate-700 bg-slate-900/95 shadow-2xl backdrop-blur-xl p-2",style:{top:k.top+4,left:k.left+de+8},children:x?y.jsx("div",{className:"w-[180px] h-[80px] flex items-center justify-center text-slate-500 text-xs",children:"Loading"}):m[f]?y.jsx(z7,{points:m[f],systemWavelengthNm:i,minNm:j,maxNm:O,coatingName:f}):null}),document.body),Se=s&&Uo.createPortal(y.jsxs(qe.div,{ref:C,initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:"fixed z-[9999] min-w-[12rem] max-h-64 overflow-auto rounded-lg border border-slate-700 bg-slate-900/95 shadow-2xl backdrop-blur-xl",style:{top:k.top+4,left:k.left,width:de},children:[y.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-2 border-b border-slate-700 bg-slate-900/95 px-2 py-1.5",children:[y.jsx(Is,{className:"w-4 h-4 shrink-0 text-slate-400",strokeWidth:2}),y.jsx("input",{type:"text",value:u,onChange:ee=>d(ee.target.value),placeholder:"Search coatings...",className:"flex-1 bg-transparent text-sm text-slate-200 placeholder:text-slate-500 focus:outline-none",autoComplete:"off"})]}),y.jsxs("div",{className:"py-1",children:[B.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"Common"}),B.map(W)]}),X.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[B.length>0&&y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"All"}),X.map(W)]}),D.length===0&&y.jsx("div",{className:"px-2 py-3 text-sm text-slate-500",children:"No matches"})]})]}),document.body);return y.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[y.jsxs("div",{className:"flex gap-0.5 flex-1 min-w-0",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(Is,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"}),y.jsx("input",{ref:b,type:"text",value:s?u:N,onChange:ee=>{d(ee.target.value),s||l(!0)},onFocus:()=>{d(N),l(!0)},onClick:n,placeholder:"Coating...",className:`${As} pl-8`})]}),y.jsx("button",{type:"button",onClick:ee=>{ee.stopPropagation(),s||(d(N),T.current(),setTimeout(()=>b.current?.focus(),0)),l(K=>!K)},className:"p-1 rounded bg-white/5 border border-white/10 text-slate-400 hover:text-cyan-electric shrink-0","aria-label":"Toggle coating list",children:y.jsx(Os,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,strokeWidth:2})})]}),y.jsx("span",{className:"shrink-0 w-3 h-3 rounded-full border border-white/20",style:jC(N),title:r.find(ee=>ee.name===N)?.description}),Se,ce]})}function rH(e){if(!e?.length)return new Set;const t=Math.max(...e);if(t<=0)return new Set;const n=new Set;return e.forEach((r,i)=>{r>=t*.9&&n.add(i)}),n}function iH({systemState:e,onSystemStateChange:t,onLoadComplete:n,selectedSurfaceId:r,onSelectSurface:i,sensitivityBySurface:o,onSemanticDelta:s}){const l=e.surfaces,u=rH(o),[d,f]=S.useState(J7),p=S.useMemo(()=>{const U=new Set(d.map(Y=>Y.name.toLowerCase())),M=[];for(const Y of l){if(Y.type!=="Glass"||!Y.material||Y.material==="Air")continue;const J=Y.material;if(U.has(J.toLowerCase()))continue;const V=J.match(/Custom\s*\(n=([\d.]+)(?:,\s*Vd=([\d.]+))?\)/i),we=V?Number(V[1]):Y.refractiveIndex??1.52;M.some(Z=>Z.name===J)||M.push({name:J,n:we})}return[...d,...M]},[d,l]),[m,g]=S.useState(ab),[x,w]=S.useState(null),[b,C]=S.useState(null),[k,E]=S.useState(new Set),[N,j]=S.useState(null),O=S.useRef(null),T=S.useRef(null),D=S.useRef(l.map(U=>U.id));S.useEffect(()=>{const U=D.current,M=l.map(Y=>Y.id);eH(U,l)&&(r&&l.some(J=>J.id===r)||i(null),t(J=>({...J,pendingTrace:!0}))),D.current=M},[l,r,i,t]),S.useEffect(()=>{I7().then(f)},[]),S.useEffect(()=>{R7().then(g)},[]),S.useEffect(()=>{if(d.length<=5||!l.some(J=>J.type==="Glass"&&J.material&&J.material!=="Air"&&!(J.sellmeierCoefficients?.B&&J.sellmeierCoefficients.B.length>=3)))return;const M=new Map(d.map(J=>[J.name.toLowerCase(),J])),Y=l.map(J=>{if(J.type!=="Glass"||!J.material||J.material==="Air"||J.sellmeierCoefficients?.B&&J.sellmeierCoefficients.B.length>=3)return J;const we=M.get(J.material.toLowerCase())?.coefficients;return!we?.B||!we?.C||we.B.length<3?J:{...J,sellmeierCoefficients:{B:we.B,C:we.C}}});Y.some((J,V)=>J!==l[V])&&t(J=>({...J,surfaces:Y}))},[d,l,t]),S.useEffect(()=>{if(!x)return;const U=setTimeout(()=>w(null),Me.toastDuration);return()=>clearTimeout(U)},[x]);const B=r!=null?l.findIndex(U=>U.id===r):l.length,X=B>=0?B:l.length,G=()=>{O.current?.click()},F=()=>{T.current?.click()},W=async U=>{const M=U.target.files?.[0];if(U.target.value="",!M)return;if(!(M.name.toLowerCase().endsWith(".lensx")||M.name.toLowerCase().endsWith(".json"))){w("Please select a .lensx or .json file.");return}try{const J=await M.text();t0(J),j({content:J,fileName:M.name})}catch(J){w(J instanceof Error?J.message:"Invalid LENS-X file")}},de=()=>{if(N)try{const{surfaces:U,entrancePupilDiameter:M,wavelengths:Y,projectName:J,mc_iterations:V,mc_seed:we,target_yield:Z,hasTolerancesData:Ie}=t0(N.content);t($e=>({...$e,surfaces:U,entrancePupilDiameter:M,wavelengths:Y,projectName:J,...V!=null&&{mc_iterations:V},...we!=null&&{mc_seed:we},...Z!=null&&{target_yield:Z},traceResult:null,traceError:null,pendingTrace:!0})),w(Ie?"Project loaded successfully.":"Project loaded without tolerance data."),j(null)}catch(U){w(U instanceof Error?U.message:"Failed to load project")}},ce=()=>{j(null)},Se=async()=>{const U=new Date().toISOString().slice(0,10),M={},Y=[...new Set(l.map(Ie=>Ie.coating).filter(Boolean))];for(const Ie of Y){const $e=l.find(ct=>ct.coating===Ie);if($e?.coatingDataPoints!=null||$e?.coatingConstantValue!=null)continue;const Ke=await ST(Ie);Ke&&(M[Ie]={data_type:Ke.data_type,constant_value:Ke.constant_value,data_points:Ke.data_points,is_hr:Ke.is_hr})}const J=CT(l,{projectName:e.projectName??"Untitled",date:U,drawnBy:"MacOptics",entrancePupilDiameter:e.entrancePupilDiameter,referenceWavelengthNm:e.wavelengths[0]??587.6,mcIterations:e.mc_iterations??1e3,mcSeed:e.mc_seed??42,targetYield:e.target_yield??.95,customCoatingData:M}),V=new Blob([JSON.stringify(J,null,2)],{type:"application/json"}),we=URL.createObjectURL(V),Z=document.createElement("a");Z.href=we,Z.download=`project_${U}.lensx`,Z.click(),URL.revokeObjectURL(we),w("Project saved successfully as Lens-X.")},ee=async U=>{const M=U.target.files?.[0];if(U.target.value="",!!M){console.log("File selected:",M.name),w("Processing Drawing...");try{console.log("Reading file content locally (no fetch)...");const{surfaces:Y}=await K7(M);if(w(null),Y.length===0){w("No surfaces found in file.");return}E(new Set),C({surfaces:Y,insertIndex:X})}catch(Y){w(Y instanceof Error?Y.message:"Import failed")}}},K=U=>{E(M=>{const Y=new Set(M);return Y.has(U)?Y.delete(U):Y.add(U),Y})},ie=U=>{const M=(U.description||"").toLowerCase();return!!(/arrow|text|dimension|label|annot|axis|tick|mark/.test(M)||U.diameter<2.5||U.radius===0&&U.thickness<.5)},ne=()=>{if(!b)return;const U=b.surfaces.filter(ie).map(M=>M.id);E(M=>{const Y=new Set(M);return U.forEach(J=>Y.add(J)),Y})},R=()=>{if(!b)return;const U=b.surfaces.filter(M=>!k.has(M.id));U.length>0&&(t(M=>{const Y=[...M.surfaces];return Y.splice(b.insertIndex,0,...U),{...M,surfaces:Y,traceResult:null,traceError:null}}),w(U.length>1?`Imported ${U.length} surfaces from ISO drawing.`:"Imported 1 surface from ISO drawing.")),C(null),E(new Set)},$=()=>{C(null),E(new Set)},oe=()=>fe(0),fe=U=>{const M=Me.surfaceDefaults,Y={id:crypto.randomUUID(),semanticName:`S${U+1}`,aiContext:"",type:"Air",radius:0,thickness:M.thickness,refractiveIndex:1,diameter:M.diameter,material:"Air",description:"New surface",coating:"Uncoated"};t(J=>{const V=[...J.surfaces];return V.splice(U,0,Y),{...J,surfaces:V,traceResult:null,traceError:null}})},ue=U=>{t(M=>({...M,surfaces:M.surfaces.filter(Y=>Y.id!==U),traceResult:null,traceError:null})),r===U&&i(null)},ve=(U,M,Y)=>{const J=l.find(we=>we.id===U),V=J!=null?l.indexOf(J):-1;if(J!=null&&s&&V>=0){const we=new Set(["semanticName","aiContext"]),Z=Y?[Y]:Object.keys(M);for(const Ie of Z){if(we.has(Ie))continue;const $e=M[Ie];if($e!==void 0&&J[Ie]!==$e){const Ke=Q7(J,Ie,J[Ie],$e,V);Ke&&s({surfaceId:U,surfaceIndex:V,semanticName:J.semanticName??`S${V+1}`,field:Ie,oldValue:J[Ie],newValue:$e,physicalImplication:Ke});break}}}t(we=>({...we,surfaces:we.surfaces.map(Z=>Z.id===U?{...Z,...M}:Z),traceResult:null,traceError:null}))},re=U=>{if(!U.destination||U.source.index===U.destination.index)return;const M=U.source.index,Y=U.destination.index;t(J=>{const V=[...J.surfaces],[we]=V.splice(M,1);return V.splice(Y,0,we),{...J,surfaces:V,traceResult:null,traceError:null,pendingTrace:!0}})};return y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg",children:"System Editor"}),y.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-slate-800/50 backdrop-blur-sm border border-white/10 px-2 py-1.5",children:[y.jsx("input",{ref:T,type:"file",accept:".lensx,.json",onChange:W,className:"hidden","aria-hidden":!0,"data-testid":"load-project-input"}),y.jsx("input",{ref:O,type:"file",accept:".json,.svg,.csv",onChange:ee,className:"hidden","aria-hidden":!0}),y.jsxs("button",{type:"button","data-testid":"load-project",onClick:F,className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium text-slate-200 hover:text-cyan-electric hover:bg-white/5 transition-colors",children:[y.jsx(M3,{className:"w-4 h-4"}),"Load Project"]}),y.jsxs("button",{type:"button",onClick:Se,className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium text-slate-200 hover:text-cyan-electric hover:bg-white/5 transition-colors",children:[y.jsx(H3,{className:"w-4 h-4"}),"Save Project"]})]})]}),y.jsx("div",{className:"flex items-center gap-2 rounded-lg bg-slate-800/50 backdrop-blur-sm border border-white/10 px-2 py-1.5",children:y.jsxs("button",{type:"button",onClick:G,className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium text-slate-200 hover:text-cyan-electric hover:bg-white/5 transition-colors",children:[y.jsx(D3,{className:"w-4 h-4"}),"Add Surface from File"]})})]}),y.jsx("div",{className:"overflow-x-auto overflow-y-visible rounded-lg",children:y.jsx(KU,{onDragEnd:re,children:y.jsxs("table",{className:"w-full text-sm border-collapse overflow-visible",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-left text-slate-400 border-b border-white/10 bg-slate-900/40 backdrop-blur-[4px]",children:[y.jsx("th",{className:"w-8 py-2 pr-1","aria-label":"Drag handle"}),y.jsx("th",{className:"py-2 pr-4",children:"#"}),y.jsx("th",{className:"py-2 pr-3",title:"Semantic name for AI (e.g. Primary_Objective)",children:"Name"}),y.jsx("th",{className:"py-2 pr-3",title:"AI-Context: reason for this surface",children:"AI Context"}),y.jsx("th",{className:"py-2 pr-4",children:"Type"}),y.jsx("th",{className:"py-2 pr-4",children:"Radius (mm)"}),y.jsx("th",{className:"py-2 pr-4",children:"Thickness (mm)"}),y.jsx("th",{className:"py-2 pr-4",children:"n"}),y.jsx("th",{className:"py-2 pr-4",children:"Diameter (mm)"}),y.jsx("th",{className:"py-2 pr-4",children:"Material"}),y.jsx("th",{className:"py-2 pr-3",title:"Coating (affects power loss)",children:"Coating"}),y.jsx("th",{className:"py-2 pr-3",title:"Radius  (mm)",children:"R "}),y.jsx("th",{className:"py-2 pr-3",title:"Thickness  (mm)",children:"T "}),y.jsx("th",{className:"py-2 pr-3",title:"Tilt  (deg)",children:"Tilt "}),y.jsx("th",{className:"py-2 pr-3",title:"Decenter X (mm)",children:"Dec X"}),y.jsx("th",{className:"py-2 pr-3",title:"Decenter Y (mm)",children:"Dec Y"}),y.jsx("th",{className:"py-2 pr-3",title:"Absorption (1/cm) thermal",children:""}),y.jsx("th",{className:"py-2 pr-3",title:"ISO 10110 scratch/dig",children:"S/D"}),y.jsx("th",{className:"py-2 w-10"})]})}),y.jsx(D7,{droppableId:"surfaces",children:U=>y.jsxs("tbody",{ref:U.innerRef,...U.droppableProps,children:[y.jsx("tr",{"data-testid":"insert-surface-at-start",onClick:oe,className:"border-b border-dashed border-white/20 cursor-pointer bg-slate-900/30 backdrop-blur-[4px] hover:bg-slate-900/50 text-slate-500 hover:text-cyan-electric transition-colors",children:y.jsx("td",{colSpan:19,className:"py-2",children:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Ms,{className:"w-4 h-4"}),"Insert surface at start"]})})}),l.map((M,Y)=>{const J=u.has(Y);return y.jsx(f7,{draggableId:M.id,index:Y,children:(V,we)=>y.jsxs(qe.tr,{ref:V.innerRef,...V.draggableProps,layout:!0,initial:{opacity:0,y:-8},animate:J?{opacity:1,y:0,backgroundColor:["rgba(239, 68, 68, 0.08)","rgba(239, 68, 68, 0.18)","rgba(239, 68, 68, 0.08)"]}:{opacity:1,y:0},transition:J?{duration:2.5,repeat:1/0,repeatType:"reverse"}:{duration:.2},className:`border-b border-white/10 cursor-pointer transition-all backdrop-blur-[4px] ${we.isDragging?"opacity-90 shadow-lg":""} ${r===M.id?"border-l-4 border-l-cyan-electric bg-slate-900/50":"border-l-4 border-l-transparent hover:bg-slate-900/50"} ${J?"bg-red-500/10":"bg-slate-900/30"}`,children:[y.jsx("td",{...V.dragHandleProps,className:"py-2 pr-1 text-slate-500 hover:text-cyan-electric cursor-grab active:cursor-grabbing",onClick:Z=>Z.stopPropagation(),children:y.jsx(I3,{className:"w-4 h-4"})}),y.jsx("td",{className:"py-2 pr-4 text-slate-400",children:Y+1}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"text",value:M.semanticName??"",placeholder:`S${Y+1}`,onChange:Z=>{const Ie=Z.target.value;ve(M.id,{semanticName:Ie.trim()===""?void 0:Ie})},onClick:Z=>Z.stopPropagation(),className:`${As} min-w-[7rem]`,title:"Semantic name for AI context"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"text",value:M.aiContext??"",onChange:Z=>{const Ie=Z.target.value;ve(M.id,{aiContext:Ie.trim()===""?void 0:Ie})},onClick:Z=>Z.stopPropagation(),placeholder:"e.g. Corrects coma from S1",className:`${As} min-w-[8rem] text-xs`,title:"AI-Context: hidden context describing surface purpose (for AI)"})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsxs("select",{value:M.type,onChange:Z=>ve(M.id,{type:Z.target.value}),onClick:Z=>Z.stopPropagation(),className:As,children:[y.jsx("option",{value:"Glass",children:"Glass"}),y.jsx("option",{value:"Air",children:"Air"})]})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number","data-testid":`surface-${Y}-radius`,value:M.radius,onChange:Z=>ve(M.id,{radius:Number(Z.target.value)||0}),onClick:Z=>Z.stopPropagation(),className:pi})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number",value:M.thickness,onChange:Z=>ve(M.id,{thickness:Number(Z.target.value)||0}),onClick:Z=>Z.stopPropagation(),className:pi})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number",value:M.refractiveIndex,onChange:Z=>ve(M.id,{refractiveIndex:Number(Z.target.value)||1}),onClick:Z=>Z.stopPropagation(),className:pi,step:.01})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number",value:M.diameter,onChange:Z=>ve(M.id,{diameter:Number(Z.target.value)||0}),onClick:Z=>Z.stopPropagation(),className:pi})}),y.jsx("td",{className:"py-2 pr-4 overflow-visible",children:y.jsx(tH,{value:M.material,materials:p,wavelengthNm:e.wavelengths[0]??587.6,fallbackN:M.refractiveIndex,onChange:(Z,Ie,$e)=>{const Ke=p.find(rt=>rt.name.toLowerCase()===Z.toLowerCase()),ct=Z.match(/Custom\s*\(n=([\d.]+)/i),Nt=Ie??(ct?Number(ct[1]):void 0),Mt=$e??Ke?.coefficients,xe=Mt&&Array.isArray(Mt.B)&&Array.isArray(Mt.C)?{B:Mt.B,C:Mt.C}:void 0;ve(M.id,{material:Z,...Nt!=null&&{refractiveIndex:Nt},sellmeierCoefficients:xe,type:Z==="Air"?"Air":"Glass"},"material")},onClick:Z=>Z.stopPropagation()})}),y.jsx("td",{className:"py-2 pr-3 min-w-[8rem]","data-testid":`surface-${Y}-coating-cell`,children:y.jsx(nH,{value:M.coating??"",coatings:m,wavelengthNm:e.wavelengths[0]??587.6,wavelengths:e.wavelengths,onChange:Z=>ve(M.id,{coating:Z||void 0}),onClick:Z=>Z.stopPropagation()})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:M.radiusTolerance??"",placeholder:"0",min:0,step:.01,onChange:Z=>ve(M.id,{radiusTolerance:Z.target.value===""?void 0:Math.max(0,Number(Z.target.value)||0)}),onClick:Z=>Z.stopPropagation(),className:`${pi} min-w-[3.5rem]`,title:"Radius tolerance  (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:M.thicknessTolerance??"",placeholder:"0",min:0,step:.01,onChange:Z=>ve(M.id,{thicknessTolerance:Z.target.value===""?void 0:Math.max(0,Number(Z.target.value)||0)}),onClick:Z=>Z.stopPropagation(),className:`${pi} min-w-[3.5rem]`,title:"Thickness tolerance  (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number","data-testid":`surface-${Y}-tilt`,value:M.tiltTolerance??"",placeholder:"0",min:0,step:.01,onChange:Z=>ve(M.id,{tiltTolerance:Z.target.value===""?void 0:Math.max(0,Number(Z.target.value)||0)}),onClick:Z=>Z.stopPropagation(),className:`${pi} min-w-[3.5rem]`,title:"Tilt tolerance  (deg)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:M.decenterX??"",placeholder:"0",step:.01,onChange:Z=>ve(M.id,{decenterX:Z.target.value===""?void 0:Number(Z.target.value)||0}),onClick:Z=>Z.stopPropagation(),className:`${pi} min-w-[3.5rem]`,title:"Decenter X (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:M.decenterY??"",placeholder:"0",step:.01,onChange:Z=>ve(M.id,{decenterY:Z.target.value===""?void 0:Number(Z.target.value)||0}),onClick:Z=>Z.stopPropagation(),className:`${pi} min-w-[3.5rem]`,title:"Decenter Y (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:M.type==="Glass"?y.jsx("input",{type:"number",value:M.absorptionCoefficient??"",placeholder:"0",min:0,step:.001,onChange:Z=>ve(M.id,{absorptionCoefficient:Z.target.value===""?void 0:Math.max(0,Number(Z.target.value)||0)}),onClick:Z=>Z.stopPropagation(),className:`${pi} min-w-[3.5rem]`,title:"Absorption coefficient (1/cm) for thermal lensing"}):y.jsx("span",{className:"text-slate-600 text-xs",children:""})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"text",value:M.surfaceQuality??"",placeholder:"3/2",onChange:Z=>ve(M.id,{surfaceQuality:Z.target.value.trim()||void 0}),onClick:Z=>Z.stopPropagation(),className:`${As} min-w-[3rem]`,title:"Surface quality (scratch/dig) per ISO 10110"})}),y.jsx("td",{className:"py-2",children:y.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),ue(M.id)},className:"p-1.5 rounded text-slate-500 hover:text-red-400 hover:bg-white/5","aria-label":"Remove surface",children:y.jsx(wf,{className:"w-4 h-4"})})})]})},M.id)}),U.placeholder,y.jsx("tr",{"data-testid":"insert-surface-at-end",onClick:()=>fe(l.length),className:"border-b border-dashed border-white/20 cursor-pointer bg-slate-900/30 backdrop-blur-[4px] hover:bg-slate-900/50 text-slate-500 hover:text-cyan-electric transition-colors",children:y.jsx("td",{colSpan:19,className:"py-2",children:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Ms,{className:"w-4 h-4"}),"Insert surface at end"]})})})]})})]})})}),x&&y.jsx(qe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0},className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 px-4 py-2 rounded-lg bg-slate-800/95 border border-slate-600 text-slate-200 text-sm shadow-xl backdrop-blur-sm",role:"status","aria-live":"polite",children:x}),Uo.createPortal(y.jsx(ni,{children:b&&y.jsx(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-xl p-4 sm:p-6",onClick:U=>U.target===U.currentTarget&&$(),role:"dialog","aria-modal":"true","aria-labelledby":"import-preview-title",children:y.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] rounded-xl border border-slate-600/80 bg-slate-900/80 shadow-2xl backdrop-blur-xl overflow-hidden flex flex-col",onClick:U=>U.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 px-4 py-3 shrink-0",children:[y.jsx("h3",{id:"import-preview-title",className:"text-lg font-semibold text-cyan-electric",children:"Import Preview"}),y.jsx("button",{type:"button",onClick:$,className:"p-1 rounded text-slate-400 hover:text-slate-200 hover:bg-white/5","aria-label":"Cancel import",children:y.jsx(Rs,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"flex-1 overflow-auto p-4 min-h-0",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs("section",{className:"space-y-3",children:[y.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Surfaces to Import"}),y.jsxs("p",{className:"text-xs text-slate-500",children:[b.surfaces.length," surface",b.surfaces.length!==1?"s":""," found. Click a row to toggle. Green = included, gray = ignored."]}),y.jsx("button",{type:"button",onClick:ne,className:"px-3 py-1.5 rounded-lg text-xs font-medium text-slate-400 hover:text-slate-200 hover:bg-white/5 border border-slate-600",children:"Clear All Annotations"}),y.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-700",children:y.jsxs("table",{className:"w-full text-sm min-w-[280px]",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-slate-800/80 text-left text-slate-400",children:[y.jsx("th",{className:"py-2 px-3 w-12",children:"Import"}),y.jsx("th",{className:"py-2 px-3 w-10",children:"#"}),y.jsx("th",{className:"py-2 px-3",children:"Radius (mm)"}),y.jsx("th",{className:"py-2 px-3",children:"Material"}),y.jsx("th",{className:"py-2 px-3",children:"Thickness (mm)"})]})}),y.jsx("tbody",{children:b.surfaces.map((U,M)=>{const Y=k.has(U.id);return y.jsxs("tr",{onClick:()=>K(U.id),className:`border-t border-slate-700/80 cursor-pointer transition-colors ${Y?"opacity-50 bg-slate-800/40 hover:bg-slate-800/60":"bg-emerald-500/10 hover:bg-emerald-500/10 border-l-2 border-l-emerald-500"}`,role:"button",tabIndex:0,onKeyDown:J=>{(J.key==="Enter"||J.key===" ")&&(J.preventDefault(),K(U.id))},"aria-label":`Surface ${M+1}: ${Y?"ignored":"included"}, click to toggle`,children:[y.jsx("td",{className:"py-2 px-3",children:y.jsx("input",{type:"checkbox",checked:!Y,onChange:()=>K(U.id),onClick:J=>J.stopPropagation(),className:"rounded border-slate-600 bg-slate-800 text-cyan-electric focus:ring-cyan-electric/50","aria-label":`Include surface ${M+1}`})}),y.jsx("td",{className:"py-2 px-3 text-slate-400",children:M+1}),y.jsx("td",{className:"py-2 px-3 text-slate-200 font-mono",children:U.radius===0?"":U.radius.toFixed(2)}),y.jsx("td",{className:"py-2 px-3 text-slate-200",children:U.material}),y.jsx("td",{className:"py-2 px-3 text-slate-200 font-mono",children:U.thickness.toFixed(2)})]},U.id)})})]})})]}),y.jsxs("section",{className:"space-y-3",children:[y.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Target Location"}),y.jsx("p",{className:"text-xs text-slate-500",children:"Click a drop zone to choose where to insert the imported surfaces."}),y.jsx("div",{className:"rounded-lg border border-slate-700 overflow-hidden space-y-0",children:(()=>{const U=b.surfaces.length-k.size,M=Y=>C(J=>J?{...J,insertIndex:Y}:null);return y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",onClick:()=>M(0),className:`w-full py-3 px-4 text-left text-sm border-2 border-dashed transition-all hover:bg-cyan-500/20 hover:shadow-[0_0_12px_rgba(34,211,238,0.12)] ${b.insertIndex===0?"bg-cyan-500/20 border-cyan-electric/50":"border-slate-600/80 text-slate-400 hover:border-cyan-electric/30"}`,children:[y.jsx("span",{className:"font-medium text-slate-300",children:"Top of Stack"}),y.jsxs("span",{className:"block text-xs mt-0.5 text-slate-500",children:["Insert ",U," surface",U!==1?"s":""," here"]})]}),l.map((Y,J)=>y.jsxs("div",{children:[y.jsxs("div",{className:"py-2 px-4 bg-slate-800/50 border-b border-slate-700/80 text-sm text-slate-300",children:[J+1,". ",Y.material,"  R: ",Y.radius===0?"":Y.radius.toFixed(2)," mm"]}),y.jsx("button",{type:"button",onClick:()=>M(J+1),className:`w-full py-3 px-4 text-left text-sm border-2 border-dashed transition-all hover:bg-cyan-500/20 hover:shadow-[0_0_12px_rgba(34,211,238,0.12)] ${b.insertIndex===J+1?"bg-cyan-500/20 border-cyan-electric/50":"border-slate-600/80 text-slate-400 hover:border-cyan-electric/30"}`,children:y.jsxs("span",{className:"block text-xs text-slate-500",children:["Insert ",U," surface",U!==1?"s":""," here"]})})]},Y.id)),y.jsxs("button",{type:"button",onClick:()=>M(l.length),className:`w-full py-3 px-4 text-left text-sm border-2 border-dashed transition-all hover:bg-cyan-500/20 hover:shadow-[0_0_12px_rgba(34,211,238,0.12)] ${b.insertIndex===l.length?"bg-cyan-500/20 border-cyan-electric/50":"border-slate-600/80 text-slate-400 hover:border-cyan-electric/30"}`,children:[y.jsx("span",{className:"font-medium text-slate-300",children:"End of Stack"}),y.jsxs("span",{className:"block text-xs mt-0.5 text-slate-500",children:["Insert ",U," surface",U!==1?"s":""," here"]})]})]})})()})]})]})}),y.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 border-t border-slate-700 px-4 py-3 shrink-0",children:[y.jsx("button",{type:"button",onClick:$,className:"px-4 py-2 rounded-lg text-sm text-slate-400 hover:text-slate-200 hover:bg-white/5",children:"Cancel"}),y.jsx("button",{type:"button",onClick:R,disabled:b.surfaces.length-k.size===0,className:"px-4 py-2 rounded-lg text-sm font-medium text-slate-900 bg-cyan-electric hover:bg-cyan-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Import"})]})]})},"import-preview-modal")}),document.body),Uo.createPortal(y.jsx(ni,{children:N&&y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-xl p-4",onClick:U=>U.target===U.currentTarget&&ce(),role:"dialog","aria-modal":"true","aria-labelledby":"load-confirm-title",children:y.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md rounded-xl border border-slate-600/80 bg-slate-900/80 shadow-2xl backdrop-blur-xl p-6",onClick:U=>U.stopPropagation(),children:[y.jsx("h3",{id:"load-confirm-title",className:"text-lg font-semibold text-cyan-electric mb-3",children:"Load Project"}),y.jsx("p",{className:"text-slate-300 text-sm mb-6",children:"Loading a project will overwrite your current surfaces. Do you want to proceed?"}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{type:"button",onClick:ce,className:"px-4 py-2 rounded-lg text-sm text-slate-400 hover:text-slate-200 hover:bg-white/5",children:"Cancel"}),y.jsx("button",{type:"button","data-testid":"load-confirm-proceed",onClick:de,className:"px-4 py-2 rounded-lg text-sm font-medium text-slate-900 bg-cyan-electric hover:bg-cyan-400",children:"Proceed"})]})]})},"load-confirm-modal")}),document.body)]})}function $f(e){if(e.traceResult?.performance){const l=e.traceResult.performance;return{rmsSpotRadius:l.rmsSpotRadius,totalLength:l.totalLength,fNumber:l.fNumber}}const t=e.surfaces.reduce((l,u)=>l+u.thickness,0),n=e.surfaces[0],r=e.surfaces[1],i=n&&r&&n.radius!==0&&r.radius!==0?1/((n.refractiveIndex-1)*(1/n.radius-1/-r.radius)):100,o=e.entrancePupilDiameter>0?i/e.entrancePupilDiameter:0;return{rmsSpotRadius:e.fieldAngles.length>0?.01*Math.sqrt(e.fieldAngles.reduce((l,u)=>l+u*u,0)/e.fieldAngles.length):0,totalLength:t,fNumber:o}}const xc={entrancePupilDiameter:Me.defaults.entrancePupilDiameter,wavelengths:[...Me.defaults.wavelengths],fieldAngles:[...Me.defaults.fieldAngles],numRays:Me.defaults.numRays,focusMode:"On-Axis",m2Factor:1,pulseWidthFs:100,hasTraced:!1,surfaces:[{id:crypto.randomUUID(),semanticName:"Primary_Objective_Front",aiContext:"",type:"Glass",radius:100,thickness:5,refractiveIndex:1.5168,diameter:25,material:"N-BK7",description:"Front surface",coating:"Uncoated"},{id:crypto.randomUUID(),semanticName:"Primary_Objective_Back",aiContext:"",type:"Air",radius:-100,thickness:95,refractiveIndex:1,diameter:25,material:"Air",description:"Back surface",coating:"Uncoated"}],rmsSpotRadius:0,totalLength:100,fNumber:10,traceResult:null,traceError:null},da="px-1.5 py-0.5 rounded bg-slate-800/90 text-slate-200 font-mono text-[10px] shadow-[0_1px_0_0_rgba(255,255,255,0.1),inset_0_-1px_0_0_rgba(0,0,0,0.3)]",oH=[{id:"nav",title:"Navigation Shortcuts",icon:z3},{id:"lensx",title:"Understanding Lens-X",icon:fO},{id:"laser",title:"Laser & Gaussian Optics",icon:G3},{id:"coatings",title:"Coatings & Reflectivity",icon:mO},{id:"ultrafast",title:"Ultrafast / Femtosecond Design",icon:J3},{id:"chromatic",title:"Chromatic Analysis & Optimization",icon:W3},{id:"montecarlo",title:"Manufacturing Reliability (Monte Carlo)",icon:pO},{id:"export",title:"Manufacturing Export",icon:hO}];function aH({id:e,title:t,icon:n,isOpen:r,onToggle:i,children:o}){return y.jsxs("div",{className:"border-b border-white/10 last:border-b-0",children:[y.jsxs("button",{type:"button",onClick:i,className:"w-full flex items-center justify-between gap-3 px-4 py-3.5 text-left hover:bg-white/5 transition-colors rounded-lg","aria-expanded":r,"aria-controls":`accordion-content-${e}`,id:`accordion-header-${e}`,children:[y.jsxs("div",{className:"flex items-center gap-2.5",children:[y.jsx(n,{className:"w-5 h-5 text-cyan-electric shrink-0",strokeWidth:2}),y.jsx("span",{className:"font-semibold text-slate-200",children:t})]}),y.jsx(qe.span,{animate:{rotate:r?180:0},transition:{duration:.2},className:"text-slate-400 shrink-0",children:y.jsx(Os,{className:"w-5 h-5",strokeWidth:2})})]}),y.jsx(ni,{initial:!1,children:r&&y.jsx(qe.div,{id:`accordion-content-${e}`,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:[.32,.72,0,1]},className:"overflow-hidden",role:"region","aria-labelledby":`accordion-header-${e}`,children:y.jsx("div",{className:"px-4 pb-4 pt-0 text-slate-400 text-sm leading-relaxed",children:o})},e)})]})}function sH({title:e,explanation:t,formula:n,isHighlighted:r,onMouseEnter:i,onMouseLeave:o}){return y.jsxs("div",{onMouseEnter:i,onMouseLeave:o,className:`p-3 rounded-lg border transition-all duration-200 ${r?"border-cyan-electric/60 bg-cyan-electric/5":"border-white/10 bg-white/5"}`,children:[y.jsx("h4",{className:"font-medium text-cyan-electric text-sm mb-1",children:e}),y.jsx("p",{className:"text-slate-400 text-xs leading-relaxed mb-2",children:t}),y.jsx("code",{className:"block font-mono text-xs text-slate-500 bg-black/20 rounded px-2 py-1 w-fit",children:n})]})}const lH=[{title:"Z-Position",metricId:"z",explanation:"Axial distance from the global coordinate origin along the optical axis.",formula:"z    (mm)"},{title:"RMS Radius",metricId:"rms",explanation:"Root mean square of ray distances from the centroideffective 'blur' size.",formula:"R_rms = ((1/n)  (y_i  ))"},{title:"Beam Width",metricId:"beamWidth",explanation:"Full aperture: total vertical spread of the ray bundle at the current Z-plane.",formula:"W = max(y)  min(y)"},{title:"Chief Ray Angle (CRA)",metricId:"cra",explanation:"Angle of the ray through the aperture stop center relative to the optical axis.",formula:"CRA = arctan(dy/dz)  []"},{title:"Spot Size (w) at focus",metricId:"spotSize",explanation:"Beam waist radius (1/e radius) at the best focus. Derived from the on-axis RMS of ray intercepts.",formula:"w = 2  R_rms  (1/e radius = 2)"},{title:"Rayleigh (z_R) at focus",metricId:"rayleigh",explanation:"Distance from the waist where the beam cross-section doubles. Uses M from System Properties.",formula:"z_R =   w / (  M)  [mm]"}];function cH(){const e={entrancePupilDiameter:10,wavelengths:[587.6,486.1,656.3],fieldAngles:[0,7,14],numRays:9,focusMode:"On-Axis",m2Factor:1,pulseWidthFs:100,hasTraced:!1,surfaces:[{id:crypto.randomUUID(),type:"Glass",radius:80,thickness:6,refractiveIndex:1.458,diameter:25,material:"Fused Silica",description:"Low-dispersion front"},{id:crypto.randomUUID(),type:"Air",radius:-80,thickness:94,refractiveIndex:1,diameter:25,material:"Air",description:"Back surface"}],rmsSpotRadius:0,totalLength:100,fNumber:10,traceResult:null,traceError:null};return{...e,...$f(e)}}function uH({highlightedMetric:e,onHighlightMetric:t,onSystemStateChange:n,onRunSampleAnalysis:r,onOpenOptimizer:i}){const[o,s]=S.useState("nav");return y.jsx("div",{className:"h-full overflow-y-auto",children:y.jsx("div",{className:"p-4 pb-8",children:y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-md rounded-xl border border-white/10 overflow-hidden shadow-xl",children:[y.jsxs("div",{className:"px-4 py-4 border-b border-white/10",children:[y.jsx("h2",{className:"text-lg font-bold text-cyan-electric",children:"User Guide"}),y.jsx("p",{className:"text-slate-400 text-xs mt-0.5",children:"Documentation for optical design workflows"})]}),y.jsx("div",{className:"p-2",children:oH.map(({id:l,title:u,icon:d})=>y.jsxs(aH,{id:l,title:u,icon:d,isOpen:o===l,onToggle:()=>s(f=>f===l?null:l),children:[l==="nav"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider mb-2",children:"Keyboard shortcuts"}),y.jsxs("ul",{className:"space-y-2 text-slate-400",children:[y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:da,children:"Space"}),"+",y.jsx("kbd",{className:da,children:"Drag"}),y.jsx("span",{className:"text-slate-500",children:" Pan viewport"})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:da,children:"Scroll"}),y.jsx("span",{className:"text-slate-500",children:" Zoom in/out"})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:da,children:"Double Click"}),y.jsx("span",{className:"text-slate-500",children:" Reset view"})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:da,children:gO?" Option":"Alt"}),y.jsx("span",{className:"text-slate-500",children:" Override Snap-to-Focus"})]})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider mb-2",children:"Scan line"}),y.jsx("p",{children:"Drag the scan line in the viewport to sweep Z and inspect RMS, beam width, and CRA. Use Snap to Focus / Snap to Surface to jump to key positions."})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider mb-2",children:"HUD & metrics"}),y.jsx("p",{children:"Hover glossary cards in this guide to highlight the corresponding metric in the viewport HUD."})]})]}),l==="laser"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Laser systems typically use Gaussian or near-Gaussian beam profiles. The scan metrics help you locate the beam waist, minimize spot size, and control divergence."}),y.jsxs("p",{children:["The HUD now displays Beam Waist (w) and Rayleigh Range (z",y.jsx("sub",{children:"R"}),"). For laser design, ensure your M factor is set in System Properties to simulate real-world beam quality."]}),y.jsx("div",{className:"space-y-2",children:lH.map(f=>y.jsx(sH,{...f,isHighlighted:e===f.metricId,onMouseEnter:()=>t(f.metricId),onMouseLeave:()=>t(null)},f.title))}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"Tip:"})," Minimize RMS at the image plane to reduce blur; use the scan line to find where beam width is smallest."]}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-0.5",children:"Pro-Tip"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Note: The Gold Diamond indicates the point of minimum beam waist, which may shift based on lens dispersion."})]})]}),l==="lensx"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider",children:"Physics-Aware Interchange Format"}),y.jsxs("p",{children:["MacOptics uses a ",y.jsx("strong",{className:"text-cyan-electric",children:"Physics-Aware"})," format called ",y.jsx("strong",{className:"text-slate-300",children:"Lens-X"}),". Unlike a simple drawing file, Lens-X carries ",y.jsx("strong",{className:"text-slate-300",children:"glass chemistry"})," (Sellmeier coefficients for n()) and ",y.jsx("strong",{className:"text-slate-300",children:"coating data"})," within the file itself."]}),y.jsx("p",{children:"When you export a design, the JSON includes radius, thickness, material, coating, and manufacturing tolerances for every surface. When you import, the software restores the full optical modelno manual re-entry of refractive indices or coating choices."}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-0.5",children:"Why it matters"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"A Lens-X file is a Digital Twin: the same data drives ray tracing, chromatic analysis, and manufacturing export. Share a single JSON to hand off a complete, executable specification."})]})]}),l==="coatings"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider",children:"Reflectivity Curve R()"}),y.jsxs("p",{children:["When you ",y.jsx("strong",{className:"text-slate-300",children:"hover over a coating option"})," in the System Editor (e.g. BBAR, MgF, V-Coat 532), a small graph appears showing its reflectivity R() across the wavelength range."]}),y.jsxs("p",{children:["A ",y.jsx("strong",{className:"text-cyan-electric",children:"vertical dashed line"})," marks your system's current operating wavelength. Use it to verify that your chosen coating is effective at your design colorfor AR coatings, lower R at your wavelength means less power loss."]}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-0.5",children:"Tip"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"V-Coat 532 is optimized for 532 nm; BBAR is broadband (400700 nm). HR coatings reflect instead of refractthe ray follows the reflected path."})]})]}),l==="ultrafast"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Ultrafast and femtosecond optics introduce dispersion, group delay, and pulse broadening. This app models chromatic dispersion and thermal lensing to support pulsed-laser system design."}),y.jsxs("p",{children:["Designing for femtosecond pulses? Monitor the ",y.jsx("strong",{className:"text-slate-300",children:"GDD"})," (Group Delay Dispersion) value in the HUD. Most common glasses add positive GDD, which stretches your pulse. Aim for zero net GDD for transform-limited pulses."]}),y.jsxs("ul",{className:"space-y-1.5",children:[y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Dispersion"}),"  wavelength-dependent refractive index (Abbe V) affects pulse temporal shape"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Thermal lensing"}),"  absorption + dn/dT cause focal shift at high power (use Heat Map in System Properties)"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Ultrafast HUD"}),"  view GDD and pulse metrics when the scan line is active"]})]}),n&&y.jsx("button",{type:"button",onClick:()=>n(cH()),className:"mt-2 px-3 py-2 rounded-lg text-sm font-medium text-cyan-electric border border-cyan-electric/50 hover:bg-cyan-electric/10 transition-colors",children:"Load Low-Dispersion Presets"})]}),l==="chromatic"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider",children:"Chromatic Control & Color Correction"}),y.jsx("p",{className:"text-slate-500 text-xs italic",children:"Managing focal shift across the visible and IR spectrum."}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"Longitudinal Chromatic Aberration (LCA):"})," Different colors of light refract at different angles because the refractive index n is a function of wavelength . The LCA graph plots the focus shift (z) relative to your design wavelength."]}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"Reading the Graph:"}),' A steep vertical line indicates high dispersion (common in single-lens systems). A "folded" or flatter curve indicates an Achromatic design, where multiple wavelengths share a common focus.']}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"One-Click Optimization:"}),' The Optimize Colors tool uses a heuristic search through the Schott and Ohara glass catalogs. It identifies the ideal "Flint" glass to pair with your current "Crown" glass to neutralize dispersion without changing your effective focal length.']}),y.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-slate-400 mb-1.5",children:"Legend"}),y.jsxs("ul",{className:"space-y-1 text-slate-400 text-xs",children:[y.jsxs("li",{children:[y.jsx("kbd",{className:da,children:"Y-Axis"})," = Wavelength ()"]}),y.jsxs("li",{children:[y.jsx("kbd",{className:da,children:"X-Axis"})," = Focus Shift (z)"]})]}),y.jsx("p",{className:"text-slate-400 text-xs mt-2 leading-relaxed",children:"The zero-point on the X-axis represents the focus position of your primary system wavelength."})]}),y.jsxs("div",{className:"rounded-lg border border-slate-600 bg-slate-800/50 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-slate-400 mb-0.5",children:"Tech Note"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Note: Optimization requires a multi-surface system. For best results, use a doublet configuration (two lenses with different glass types)."})]}),i&&y.jsx("button",{type:"button",onClick:i,title:"Click the gradient button in the viewport HUD to run the glass-pairing algorithm.",className:"w-full mt-2 px-3 py-2 rounded-lg text-sm font-medium text-white bg-gradient-to-r from-cyan-500 to-indigo-500 hover:from-cyan-400 hover:to-indigo-400 transition-colors",children:"Open Optimizer"})]}),l==="montecarlo"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Monte Carlo sensitivity analysis simulates manufacturing variability by jittering surface parameters (radius, thickness) within their tolerances over many iterations. Each iteration produces a slightly different optical system; the combined spot positions at the image plane form a point cloud that shows how robust your design is to fabrication errors."}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-1",children:"RMS Spot Radius"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"The root-mean-square distance of all rays from the centroid at the image plane. Lower values indicate tighter manufacturing tolerance and a more robust design."})]}),y.jsx("p",{children:"Set R, T, and Tilt tolerances in the System Editor, then run the analysis to see the point cloud and RMS spread at focus."}),r&&y.jsx("button",{type:"button",onClick:r,className:"mt-2 px-3 py-2 rounded-lg text-sm font-medium text-cyan-electric border border-cyan-electric/50 hover:bg-cyan-electric/10 transition-colors",children:"Run Sample Analysis"})]}),l==="export"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Export your optical system as an ISO 10110style technical drawing for manufacturing and documentation."}),y.jsxs("ul",{className:"space-y-1.5",children:[y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Export tab"}),"  cross-section, dimensions (CT), data table (Surf, S/D, Material, CT), and title block"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"S/D (Scratch/Dig)"}),"  surface quality per ISO 10110; editable in System Editor"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"SVG / PDF"}),"  high-resolution export via Export Drawing and browser print"]})]})]})]},l))})]})})})}const Kg="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50";function dH({systemState:e,onSystemStateChange:t}){const[n,r]=S.useState(e.projectName??"My Optical Design"),[i,o]=S.useState(()=>new Date().toISOString().slice(0,10)),[s,l]=S.useState("MacOptics"),u=S.useCallback(()=>{const g=pf(e,{projectName:n||"Untitled",date:i,drawnBy:s,width:1400,height:1e3}),x=new Blob([g],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(x),b=document.createElement("a");b.href=w,b.download=`optical-drawing-${i}.svg`,b.click(),URL.revokeObjectURL(w)},[e,n,i,s]),d=S.useCallback(async()=>{const g=e.surfaces,x={},w=[...new Set(g.map(N=>N.coating).filter(Boolean))];for(const N of w){const j=g.find(T=>T.coating===N);if(j?.coatingDataPoints!=null||j?.coatingConstantValue!=null)continue;const O=await ST(N);O&&(x[N]={data_type:O.data_type,constant_value:O.constant_value,data_points:O.data_points,is_hr:O.is_hr})}const b=CT(g,{projectName:n||"Untitled",date:i,drawnBy:s,entrancePupilDiameter:e.entrancePupilDiameter??10,customCoatingData:x}),C=new Blob([JSON.stringify(b,null,2)],{type:"application/json;charset=utf-8"}),k=URL.createObjectURL(C),E=document.createElement("a");E.href=k,E.download=`lens-x-${n.replace(/\s+/g,"-")}-${i}.json`,E.click(),URL.revokeObjectURL(k)},[e,n,i,s]),f=S.useCallback(()=>{const g=pf(e,{projectName:n||"Untitled",date:i,drawnBy:s,width:1122,height:794}),x=new Blob([g],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(x),b=window.open(w,"_blank","width=1200,height=850");if(!b){URL.revokeObjectURL(w);return}b.addEventListener("load",()=>{setTimeout(()=>{b.print(),b.onbeforeunload=()=>URL.revokeObjectURL(w),b.onafterprint=()=>b.close()},300)})},[e,n,i,s]),p=pf(e,{projectName:n||"Untitled",date:i,drawnBy:s,width:800,height:570}),m=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(p)))}`;return y.jsxs("div",{className:"h-full flex flex-col p-4 gap-4",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg",children:"ISO 10110 Export"}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Drawing Details"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Project Name"}),y.jsx("input",{type:"text",value:n,onChange:g=>{r(g.target.value),t(x=>({...x,projectName:g.target.value}))},placeholder:"My Optical Design",className:Kg})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Date"}),y.jsx("input",{type:"date",value:i,onChange:g=>o(g.target.value),className:Kg})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Drawn By"}),y.jsx("input",{type:"text",value:s,onChange:g=>l(g.target.value),placeholder:"MacOptics",className:Kg})]})]})]}),y.jsxs("section",{className:"glass-card p-4 flex-1 min-h-0 flex flex-col",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Preview"}),y.jsx("div",{className:"flex-1 min-h-[300px] rounded-lg overflow-auto bg-slate-900/50 border border-white/10",children:y.jsx("img",{src:m,alt:"ISO 10110 blueprint preview",className:"w-full h-auto object-contain",style:{minHeight:300}})})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Export Drawing"}),y.jsx("p",{className:"text-xs text-slate-500 mb-4",children:'Technical blueprint with cross-section, dimensions, data table (S/D, Material, CT), and title block. LENS-X JSON includes radius, thickness, material, coating per surface; flat surfaces export radius as "infinity".'}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[y.jsxs("button",{type:"button","data-testid":"export-lensx-json",onClick:d,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all bg-cyan-electric/20 text-cyan-electric border border-cyan-electric/50 hover:bg-cyan-electric/30",children:[y.jsx(vP,{className:"w-4 h-4"}),"Download LENS-X JSON"]}),y.jsxs("button",{type:"button",onClick:u,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all bg-white/10 text-slate-200 border border-white/20 hover:bg-white/20",children:[y.jsx(vP,{className:"w-4 h-4"}),"Download SVG"]}),y.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all bg-white/10 text-slate-200 border border-white/20 hover:bg-white/20",children:[y.jsx(U3,{className:"w-4 h-4"}),"Print / Save as PDF"]})]})]})]})}function kT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=kT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Et(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=kT(e))&&(r&&(r+=" "),r+=t);return r}var fH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sb(e){if(typeof e!="string")return!1;var t=fH;return t.includes(e)}var pH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hH=new Set(pH);function ET(e){return typeof e!="string"?!1:hH.has(e)}function NT(e){return typeof e=="string"&&e.startsWith("data-")}function ri(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(ET(n)||NT(n))&&(t[n]=e[n]);return t}function Gp(e){if(e==null)return null;if(S.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ri(t)}return typeof e=="object"&&!Array.isArray(e)?ri(e):null}function Fr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(ET(n)||NT(n)||sb(n))&&(t[n]=e[n]);return t}function mH(e){return e==null?null:S.isValidElement(e)?Fr(e.props):typeof e=="object"&&!Array.isArray(e)?Fr(e):null}var gH=["children","width","height","viewBox","className","style","title","desc"];function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(null,arguments)}function vH(e,t){if(e==null)return{};var n,r,i=yH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OT=S.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:l,title:u,desc:d}=e,f=vH(e,gH),p=o||{width:r,height:i,x:0,y:0},m=Et("recharts-surface",s);return S.createElement("svg",n0({},Fr(f),{className:m,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),S.createElement("title",null,u),S.createElement("desc",null,d),n)}),xH=["children","className"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r0.apply(null,arguments)}function bH(e,t){if(e==null)return{};var n,r,i=wH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ci=S.forwardRef((e,t)=>{var{children:n,className:r}=e,i=bH(e,xH),o=Et("recharts-layer",r);return S.createElement("g",r0({className:o},Fr(i),{ref:t}),n)}),SH=S.createContext(null);function zt(e){return function(){return e}}const i0=Math.PI,o0=2*i0,ga=1e-6,PH=o0-ga;function jT(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function CH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return jT;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class AH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?jT:CH(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,u=r-t,d=i-n,f=s-t,p=l-n,m=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>ga)if(!(Math.abs(p*u-d*f)>ga)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-s,x=i-l,w=u*u+d*d,b=g*g+x*x,C=Math.sqrt(w),k=Math.sqrt(m),E=o*Math.tan((i0-Math.acos((w+m-b)/(2*C*k)))/2),N=E/k,j=E/C;Math.abs(N-1)>ga&&this._append`L${t+N*f},${n+N*p}`,this._append`A${o},${o},0,0,${+(p*g>f*x)},${this._x1=t+j*u},${this._y1=n+j*d}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=t+l,f=n+u,p=1^s,m=s?i-o:o-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>ga||Math.abs(this._y1-f)>ga)&&this._append`L${d},${f}`,r&&(m<0&&(m=m%o0+o0),m>PH?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:m>ga&&this._append`A${r},${r},0,${+(m>=i0)},${p},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _T(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new AH(t)}function lb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TT(e){this._context=e}TT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Kp(e){return new TT(e)}function DT(e){return e[0]}function MT(e){return e[1]}function IT(e,t){var n=zt(!0),r=null,i=Kp,o=null,s=_T(l);e=typeof e=="function"?e:e===void 0?DT:zt(e),t=typeof t=="function"?t:t===void 0?MT:zt(t);function l(u){var d,f=(u=lb(u)).length,p,m=!1,g;for(r==null&&(o=i(g=s())),d=0;d<=f;++d)!(d<f&&n(p=u[d],d,u))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+e(p,d,u),+t(p,d,u));if(g)return o=null,g+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:zt(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:zt(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:zt(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),l):r},l}function Ud(e,t,n){var r=null,i=zt(!0),o=null,s=Kp,l=null,u=_T(d);e=typeof e=="function"?e:e===void 0?DT:zt(+e),t=typeof t=="function"?t:zt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?MT:zt(+n);function d(p){var m,g,x,w=(p=lb(p)).length,b,C=!1,k,E=new Array(w),N=new Array(w);for(o==null&&(l=s(k=u())),m=0;m<=w;++m){if(!(m<w&&i(b=p[m],m,p))===C)if(C=!C)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=g;--x)l.point(E[x],N[x]);l.lineEnd(),l.areaEnd()}C&&(E[m]=+e(b,m,p),N[m]=+t(b,m,p),l.point(r?+r(b,m,p):E[m],n?+n(b,m,p):N[m]))}if(k)return l=null,k+""||null}function f(){return IT().defined(i).curve(s).context(o)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:zt(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:zt(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:zt(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:zt(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:zt(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:zt(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(n)},d.lineX1=function(){return f().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:zt(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,o!=null&&(l=s(o)),d):s},d.context=function(p){return arguments.length?(p==null?o=l=null:l=s(o=p),d):o},d}class RT{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function kH(e){return new RT(e,!0)}function EH(e){return new RT(e,!1)}function Bf(){}function zf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function LT(e){this._context=e}LT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NH(e){return new LT(e)}function FT(e){this._context=e}FT.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OH(e){return new FT(e)}function $T(e){this._context=e}$T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jH(e){return new $T(e)}function BT(e){this._context=e}BT.prototype={areaStart:Bf,areaEnd:Bf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _H(e){return new BT(e)}function MC(e){return e<0?-1:1}function IC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(MC(o)+MC(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function RC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Yg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,l=(o-r)/3;e._context.bezierCurveTo(r+l,i+l*t,o-l,s-l*n,o,s)}function Wf(e){this._context=e}Wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yg(this,this._t0,RC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yg(this,RC(this,n=IC(this,e,t)),n);break;default:Yg(this,this._t0,n=IC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function zT(e){this._context=new WT(e)}(zT.prototype=Object.create(Wf.prototype)).point=function(e,t){Wf.prototype.point.call(this,t,e)};function WT(e){this._context=e}WT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function TH(e){return new Wf(e)}function DH(e){return new zT(e)}function VT(e){this._context=e}VT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=LC(e),i=LC(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function LC(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function MH(e){return new VT(e)}function Yp(e,t){this._context=e,this._t=t}Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function IH(e){return new Yp(e,.5)}function RH(e){return new Yp(e,0)}function LH(e){return new Yp(e,1)}function Ta(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,l=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function a0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function FH(e,t){return e[t]}function $H(e){const t=[];return t.key=e,t}function BH(){var e=zt([]),t=a0,n=Ta,r=FH;function i(o){var s=Array.from(e.apply(this,arguments),$H),l,u=s.length,d=-1,f;for(const p of o)for(l=0,++d;l<u;++l)(s[l][d]=[0,+r(p,s[l].key,d,o)]).data=p;for(l=0,f=lb(t(s));l<u;++l)s[f[l]].index=l;return n(s,f),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:zt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:zt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?a0:typeof o=="function"?o:zt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Ta,i):n},i}function zH(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Ta(e,t)}}function WH(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,l=0;s<i;++s)l+=e[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Ta(e,t)}}function VH(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var l=0,u=0,d=0;l<s;++l){for(var f=e[t[l]],p=f[r][1]||0,m=f[r-1][1]||0,g=(p-m)/2,x=0;x<l;++x){var w=e[t[x]],b=w[r][1]||0,C=w[r-1][1]||0;g+=b-C}u+=p,d+=g*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,Ta(e,t)}}var qg={},Xg={},FC;function UH(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Xg)),Xg}var Zg={},$C;function UT(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Zg)),Zg}var Qg={},BC;function cb(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Qg)),Qg}var Jg={},ev={},zC;function HH(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(ev)),ev}var WC;function ub(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HH(),n=cb();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],s=i.length;if(s===0)return o;let l=0,u="",d="",f=!1;for(i.charCodeAt(0)===46&&(o.push(""),l++);l<s;){const p=i[l];d?p==="\\"&&l+1<s?(l++,u+=i[l]):p===d?d="":u+=p:f?p==='"'||p==="'"?d=p:p==="]"?(f=!1,o.push(u),u=""):u+=p:p==="["?(f=!0,u&&(o.push(u),u="")):p==="."?u&&(o.push(u),u=""):u+=p,l++}return u&&o.push(u),o}e.toPath=r})(Jg)),Jg}var VC;function db(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UH(),n=UT(),r=cb(),i=ub();function o(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?n.isDeepKey(u)?o(l,i.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return s(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function s(l,u,d){if(u.length===0)return d;let f=l;for(let p=0;p<u.length;p++){if(f==null||t.isUnsafeProperty(u[p]))return d;f=f[u[p]]}return f===void 0?d:f}e.get=o})(qg)),qg}var tv,UC;function GH(){return UC||(UC=1,tv=db().get),tv}var KH=GH();const qp=to(KH);var YH=4;function Io(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YH,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Pn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,s)=>{var l=n[s-1];return typeof l=="string"?i+l+o:l!==void 0?i+Io(l)+o:i+o},"")}var Ir=e=>e===0?0:e>0?1:-1,Ai=e=>typeof e=="number"&&e!=+e,Da=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Te=e=>(typeof e=="number"||e instanceof Number)&&!Ai(e),ki=e=>Te(e)||typeof e=="string",qH=0,Ic=e=>{var t=++qH;return"".concat(e||"").concat(t)},Go=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(t)&&typeof t!="string")return r;var o;if(Da(t)){if(n==null)return r;var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return Ai(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},HT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function yi(e,t,n){return Te(e)&&Te(t)?Io(e+n*(t-e)):t}function GT(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):qp(r,t))===n)}var $n=e=>e===null||typeof e>"u",fb=e=>$n(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function er(e){return e!=null}function el(){}var KT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,pb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{sb(i)&&(r[i]=(o=>n[i](n,o)))}),r},XH=(e,t,n)=>r=>(e(t,n,r),null),ZH=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];sb(i)&&typeof o=="function"&&(r||(r={}),r[i]=XH(o,t,n))}),r};function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(r){JH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JH(e,t,n){return(t=eG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eG(e){var t=tG(e,"string");return typeof t=="symbol"?t:t+""}function tG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function br(e,t){var n=QH({},e),r=t,i=Object.keys(t),o=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return o}var nv={},rv={},GC;function nG(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],l=r(s,o,n);i.has(l)||i.set(l,s)}return Array.from(i.values())}e.uniqBy=t})(rv)),rv}var iv={},KC;function rG(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(iv)),iv}var ov={},YC;function YT(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(ov)),ov}var av={},sv={},lv={},qC;function iG(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(lv)),lv}var XC;function hb(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iG();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(sv)),sv}var cv={},ZC;function oG(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(cv)),cv}var QC;function aG(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hb(),n=oG();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(av)),av}var uv={},dv={},JC;function sG(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=db();function n(r){return function(i){return t.get(i,r)}}e.property=n})(dv)),dv}var fv={},pv={},hv={},mv={},eA;function qT(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(mv)),mv}var gv={},tA;function XT(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(gv)),gv}var vv={},nA;function ZT(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(vv)),vv}var rA;function lG(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT(),n=XT(),r=ZT();function i(f,p,m){return typeof m!="function"?i(f,p,()=>{}):o(f,p,function g(x,w,b,C,k,E){const N=m(x,w,b,C,k,E);return N!==void 0?!!N:o(x,w,g,E)},new Map)}function o(f,p,m,g){if(p===f)return!0;switch(typeof p){case"object":return s(f,p,m,g);case"function":return Object.keys(p).length>0?o(f,{...p},m,g):r.isEqualsSameValueZero(f,p);default:return t.isObject(f)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(f,p)}}function s(f,p,m,g){if(p==null)return!0;if(Array.isArray(p))return u(f,p,m,g);if(p instanceof Map)return l(f,p,m,g);if(p instanceof Set)return d(f,p,m,g);const x=Object.keys(p);if(f==null||n.isPrimitive(f))return x.length===0;if(x.length===0)return!0;if(g?.has(p))return g.get(p)===f;g?.set(p,f);try{for(let w=0;w<x.length;w++){const b=x[w];if(!n.isPrimitive(f)&&!(b in f)||p[b]===void 0&&f[b]!==void 0||p[b]===null&&f[b]!==null||!m(f[b],p[b],b,f,p,g))return!1}return!0}finally{g?.delete(p)}}function l(f,p,m,g){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,w]of p.entries()){const b=f.get(x);if(m(b,w,x,f,p,g)===!1)return!1}return!0}function u(f,p,m,g){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let w=0;w<p.length;w++){const b=p[w];let C=!1;for(let k=0;k<f.length;k++){if(x.has(k))continue;const E=f[k];let N=!1;if(m(E,b,w,f,p,g)&&(N=!0),N){x.add(k),C=!0;break}}if(!C)return!1}return!0}function d(f,p,m,g){return p.size===0?!0:f instanceof Set?u([...f],[...p],m,g):!1}e.isMatchWith=i,e.isSetMatch=d})(hv)),hv}var iA;function QT(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lG();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(pv)),pv}var yv={},xv={},bv={},oA;function cG(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(bv)),bv}var wv={},aA;function mb(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(wv)),wv}var Sv={},sA;function JT(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",m="[object ArrayBuffer]",g="[object Object]",x="[object Error]",w="[object DataView]",b="[object Uint8Array]",C="[object Uint8ClampedArray]",k="[object Uint16Array]",E="[object Uint32Array]",N="[object BigUint64Array]",j="[object Int8Array]",O="[object Int16Array]",T="[object Int32Array]",D="[object BigInt64Array]",B="[object Float32Array]",X="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=m,e.arrayTag=f,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=x,e.float32ArrayTag=B,e.float64ArrayTag=X,e.functionTag=p,e.int16ArrayTag=O,e.int32ArrayTag=T,e.int8ArrayTag=j,e.mapTag=u,e.numberTag=r,e.objectTag=g,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=k,e.uint32ArrayTag=E,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=C})(Sv)),Sv}var Pv={},lA;function uG(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Pv)),Pv}var cA;function eD(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cG(),n=mb(),r=JT(),i=XT(),o=uG();function s(f,p){return l(f,void 0,f,new Map,p)}function l(f,p,m,g=new Map,x=void 0){const w=x?.(f,p,m,g);if(w!==void 0)return w;if(i.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const b=new Array(f.length);g.set(f,b);for(let C=0;C<f.length;C++)b[C]=l(f[C],C,m,g,x);return Object.hasOwn(f,"index")&&(b.index=f.index),Object.hasOwn(f,"input")&&(b.input=f.input),b}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const b=new RegExp(f.source,f.flags);return b.lastIndex=f.lastIndex,b}if(f instanceof Map){const b=new Map;g.set(f,b);for(const[C,k]of f)b.set(C,l(k,C,m,g,x));return b}if(f instanceof Set){const b=new Set;g.set(f,b);for(const C of f)b.add(l(C,void 0,m,g,x));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const b=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,b);for(let C=0;C<f.length;C++)b[C]=l(f[C],C,m,g,x);return b}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const b=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,b),u(b,f,m,g,x),b}if(typeof File<"u"&&f instanceof File){const b=new File([f],f.name,{type:f.type});return g.set(f,b),u(b,f,m,g,x),b}if(typeof Blob<"u"&&f instanceof Blob){const b=new Blob([f],{type:f.type});return g.set(f,b),u(b,f,m,g,x),b}if(f instanceof Error){const b=new f.constructor;return g.set(f,b),b.message=f.message,b.name=f.name,b.stack=f.stack,b.cause=f.cause,u(b,f,m,g,x),b}if(f instanceof Boolean){const b=new Boolean(f.valueOf());return g.set(f,b),u(b,f,m,g,x),b}if(f instanceof Number){const b=new Number(f.valueOf());return g.set(f,b),u(b,f,m,g,x),b}if(f instanceof String){const b=new String(f.valueOf());return g.set(f,b),u(b,f,m,g,x),b}if(typeof f=="object"&&d(f)){const b=Object.create(Object.getPrototypeOf(f));return g.set(f,b),u(b,f,m,g,x),b}return f}function u(f,p,m=f,g,x){const w=[...Object.keys(p),...t.getSymbols(p)];for(let b=0;b<w.length;b++){const C=w[b],k=Object.getOwnPropertyDescriptor(f,C);(k==null||k.writable)&&(f[C]=l(p[C],C,m,g,x))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=u})(xv)),xv}var uA;function dG(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eD();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(yv)),yv}var dA;function fG(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QT(),n=dG();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(fv)),fv}var Cv={},Av={},kv={},fA;function pG(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eD(),n=mb(),r=JT();function i(o,s){return t.cloneDeepWith(o,(l,u,d,f)=>{const p=s?.(l,u,d,f);if(p!==void 0)return p;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const m={};return f.set(o,m),t.copyProperties(m,o,d,f),m}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new o.constructor(o?.valueOf());return t.copyProperties(m,o),m}case r.argumentsTag:{const m={};return t.copyProperties(m,o),m.length=o.length,m[Symbol.iterator]=o[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=i})(kv)),kv}var pA;function hG(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pG();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Av)),Av}var Ev={},Nv={},hA;function tD(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Nv)),Nv}var Ov={},mA;function mG(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mb();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Ov)),Ov}var gA;function gG(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT(),n=tD(),r=mG(),i=ub();function o(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&s?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=s;for(let f=0;f<u.length;f++){const p=u[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=o})(Ev)),Ev}var vA;function vG(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QT(),n=cb(),r=hG(),i=db(),o=gG();function s(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const f=i.get(d,l);return f===void 0?o.has(d,l):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=s})(Cv)),Cv}var yA;function yG(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT(),n=sG(),r=fG(),i=vG();function o(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=o})(uv)),uv}var xA;function xG(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nG(),n=rG(),r=YT(),i=aG(),o=yG();function s(l,u=r.identity){return i.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.ary(o.iteratee(u),1)):[]}e.uniqBy=s})(nv)),nv}var jv,bA;function bG(){return bA||(bA=1,jv=xG().uniqBy),jv}var wG=bG();const wA=to(wG);function SG(e,t,n){return t===!0?wA(e,n):typeof t=="function"?wA(e,t):e}var _v={exports:{}},Tv={},Dv={exports:{}},Mv={};var SA;function PG(){if(SA)return Mv;SA=1;var e=Ys();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function l(p,m){var g=m(),x=r({inst:{value:g,getSnapshot:m}}),w=x[0].inst,b=x[1];return o(function(){w.value=g,w.getSnapshot=m,u(w)&&b({inst:w})},[p,g,m]),i(function(){return u(w)&&b({inst:w}),p(function(){u(w)&&b({inst:w})})},[p]),s(g),g}function u(p){var m=p.getSnapshot;p=p.value;try{var g=m();return!n(p,g)}catch{return!0}}function d(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Mv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Mv}var PA;function CG(){return PA||(PA=1,Dv.exports=PG()),Dv.exports}var CA;function AG(){if(CA)return Tv;CA=1;var e=Ys(),t=CG();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Tv.useSyncExternalStoreWithSelector=function(d,f,p,m,g){var x=o(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function C(O){if(!k){if(k=!0,E=O,O=m(O),g!==void 0&&w.hasValue){var T=w.value;if(g(T,O))return N=T}return N=O}if(T=N,r(E,O))return T;var D=m(O);return g!==void 0&&g(T,D)?(E=O,T):(E=O,N=D)}var k=!1,E,N,j=p===void 0?null:p;return[function(){return C(f())},j===null?void 0:function(){return C(j())}]},[f,p,m,g]);var b=i(d,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=b},[b]),u(b),b},Tv}var AA;function kG(){return AA||(AA=1,_v.exports=AG()),_v.exports}var EG=kG(),gb=S.createContext(null),NG=e=>e,pn=()=>{var e=S.useContext(gb);return e?e.store.dispatch:NG},hf=()=>{},OG=()=>hf,jG=(e,t)=>e===t;function Fe(e){var t=S.useContext(gb),n=S.useMemo(()=>t?r=>{if(r!=null)return e(r)}:hf,[t,e]);return EG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:OG,t?t.store.getState:hf,t?t.store.getState:hf,n,jG)}function _G(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function TG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function DG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var kA=e=>Array.isArray(e)?e:[e];function MG(e){const t=Array.isArray(e[0])?e[0]:e;return DG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function IG(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var RG=class{constructor(e){this.value=e}deref(){return this.value}},LG=typeof WeakRef<"u"?WeakRef:RG,FG=0,EA=1;function Hd(){return{s:FG,v:void 0,o:null,p:null}}function nD(e,t={}){let n=Hd();const{resultEqualityCheck:r}=t;let i,o=0;function s(){let l=n;const{length:u}=arguments;for(let p=0,m=u;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(g);w===void 0?(l=Hd(),x.set(g,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(g);w===void 0?(l=Hd(),x.set(g,l)):l=w}}const d=l;let f;if(l.s===EA)f=l.v;else if(f=e.apply(null,arguments),o++,r){const p=i?.deref?.()??i;p!=null&&r(p,f)&&(f=p,o!==0&&o--),i=typeof f=="object"&&f!==null||typeof f=="function"?new LG(f):f}return d.s=EA,d.v=f,f}return s.clearCache=()=>{n=Hd(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function $G(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),_G(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...u},{memoize:p,memoizeOptions:m=[],argsMemoize:g=nD,argsMemoizeOptions:x=[]}=f,w=kA(m),b=kA(x),C=MG(i),k=p(function(){return o++,d.apply(null,arguments)},...w),E=g(function(){s++;const j=IG(C,arguments);return l=k.apply(null,j),l},...b);return Object.assign(E,{resultFunc:d,memoizedResultFunc:k,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var te=$G(nD),BG=Object.assign((e,t=te)=>{TG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,l,u)=>(s[n[u]]=l,s),{}))},{withTypes:()=>BG}),Iv={},Rv={},Lv={},NA;function zG(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=t(r),l=t(i);if(s===l&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?l-s:s-l}return 0};e.compareValues=n})(Lv)),Lv}var Fv={},$v={},OA;function rD(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})($v)),$v}var jA;function WG(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rD(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}e.isKey=i})(Fv)),Fv}var _A;function VG(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zG(),n=WG(),r=ub();function i(o,s,l,u){if(o==null)return[];l=u?void 0:l,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(g=>String(g));const d=(g,x)=>{let w=g;for(let b=0;b<x.length&&w!=null;++b)w=w[x[b]];return w},f=(g,x)=>x==null||g==null?x:typeof g=="object"&&"key"in g?Object.hasOwn(x,g.key)?x[g.key]:d(x,g.path):typeof g=="function"?g(x):Array.isArray(g)?d(x,g):typeof x=="object"?x[g]:x,p=s.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||n.isKey(g)?g:{key:g,path:r.toPath(g)}));return o.map(g=>({original:g,criteria:p.map(x=>f(x,g))})).slice().sort((g,x)=>{for(let w=0;w<p.length;w++){const b=t.compareValues(g.criteria[w],x.criteria[w],l[w]);if(b!==0)return b}return 0}).map(g=>g.original)}e.orderBy=i})(Rv)),Rv}var Bv={},TA;function UG(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),s=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<o?s(f,u+1):i.push(f)}};return s(n,0),i}e.flatten=t})(Bv)),Bv}var zv={},DA;function iD(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tD(),n=hb(),r=qT(),i=ZT();function o(s,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.isEqualsSameValueZero(u[l],s):!1}e.isIterateeCall=o})(zv)),zv}var MA;function HG(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VG(),n=UG(),r=iD();function i(o,...s){const l=s.length;return l>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(o,n.flatten(s),["asc"])}e.sortBy=i})(Iv)),Iv}var Wv,IA;function GG(){return IA||(IA=1,Wv=HG().sortBy),Wv}var KG=GG();const Xp=to(KG);var oD=e=>e.legend.settings,YG=e=>e.legend.size,qG=e=>e.legend.payload;te([qG,oD],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Xp(r,n):r});var Gd=1;function XG(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-t.height)>Gd||Math.abs(s.left-t.left)>Gd||Math.abs(s.top-t.top)>Gd||Math.abs(s.width-t.width)>Gd)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var aD=Symbol.for("immer-nothing"),RA=Symbol.for("immer-draftable"),Gn=Symbol.for("immer-state");function Zr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pr=Object,Vs=pr.getPrototypeOf,Vf="constructor",Zp="prototype",s0="configurable",Uf="enumerable",mf="writable",Rc="value",qi=e=>!!e&&!!e[Gn];function ii(e){return e?sD(e)||Jp(e)||!!e[RA]||!!e[Vf]?.[RA]||eh(e)||th(e):!1}var ZG=pr[Zp][Vf].toString(),LA=new WeakMap;function sD(e){if(!e||!vb(e))return!1;const t=Vs(e);if(t===null||t===pr[Zp])return!0;const n=pr.hasOwnProperty.call(t,Vf)&&t[Vf];if(n===Object)return!0;if(!xs(n))return!1;let r=LA.get(n);return r===void 0&&(r=Function.toString.call(n),LA.set(n,r)),r===ZG}function Qp(e,t,n=!0){su(e)===0?(n?Reflect.ownKeys(e):pr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function su(e){const t=e[Gn];return t?t.type_:Jp(e)?1:eh(e)?2:th(e)?3:0}var FA=(e,t,n=su(e))=>n===2?e.has(t):pr[Zp].hasOwnProperty.call(e,t),l0=(e,t,n=su(e))=>n===2?e.get(t):e[t],Hf=(e,t,n,r=su(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function QG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Jp=Array.isArray,eh=e=>e instanceof Map,th=e=>e instanceof Set,vb=e=>typeof e=="object",xs=e=>typeof e=="function",Vv=e=>typeof e=="boolean";function JG(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Bi=e=>e.copy_||e.base_,yb=e=>e.modified_?e.copy_:e.base_;function c0(e,t){if(eh(e))return new Map(e);if(th(e))return new Set(e);if(Jp(e))return Array[Zp].slice.call(e);const n=sD(e);if(t===!0||t==="class_only"&&!n){const r=pr.getOwnPropertyDescriptors(e);delete r[Gn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],l=r[s];l[mf]===!1&&(l[mf]=!0,l[s0]=!0),(l.get||l.set)&&(r[s]={[s0]:!0,[mf]:!0,[Uf]:l[Uf],[Rc]:e[s]})}return pr.create(Vs(e),r)}else{const r=Vs(e);if(r!==null&&n)return{...e};const i=pr.create(r);return pr.assign(i,e)}}function xb(e,t=!1){return nh(e)||qi(e)||!ii(e)||(su(e)>1&&pr.defineProperties(e,{set:Kd,add:Kd,clear:Kd,delete:Kd}),pr.freeze(e),t&&Qp(e,(n,r)=>{xb(r,!0)},!1)),e}function eK(){Zr(2)}var Kd={[Rc]:eK};function nh(e){return e===null||!vb(e)?!0:pr.isFrozen(e)}var Gf="MapSet",u0="Patches",$A="ArrayMethods",lD={};function Ma(e){const t=lD[e];return t||Zr(0,e),t}var BA=e=>!!lD[e],Lc,cD=()=>Lc,tK=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:BA(Gf)?Ma(Gf):void 0,arrayMethodsPlugin_:BA($A)?Ma($A):void 0});function zA(e,t){t&&(e.patchPlugin_=Ma(u0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function d0(e){f0(e),e.drafts_.forEach(nK),e.drafts_=null}function f0(e){e===Lc&&(Lc=e.parent_)}var WA=e=>Lc=tK(Lc,e);function nK(e){const t=e[Gn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function VA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Gn].modified_&&(d0(t),Zr(4)),ii(e)&&(e=UA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Gn].base_,e,t)}else e=UA(t,n);return rK(t,e,!0),d0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==aD?e:void 0}function UA(e,t){if(nh(t))return t;const n=t[Gn];if(!n)return Kf(t,e.handledSet_,e);if(!rh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);fD(n,e)}return n.copy_}function rK(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xb(t,n)}function uD(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var rh=(e,t)=>e.scope_===t,iK=[];function dD(e,t,n,r){const i=Bi(e),o=e.type_;if(r!==void 0&&l0(i,r,o)===t){Hf(i,r,n,o);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Qp(i,(u,d)=>{if(qi(d)){const f=l.get(d)||[];f.push(u),l.set(d,f)}})}const s=e.draftLocations_.get(t)??iK;for(const l of s)Hf(i,l,n,o)}function oK(e,t,n){e.callbacks_.push(function(i){const o=t;if(!o||!rh(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const s=yb(o);dD(e,o.draft_??o,s,n),fD(o,i)})}function fD(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}uD(e)}}function aK(e,t,n){const{scope_:r}=e;if(qi(n)){const i=n[Gn];rh(i,r)&&i.callbacks_.push(function(){gf(e);const s=yb(i);dD(e,n,s,t)})}else ii(n)&&e.callbacks_.push(function(){const o=Bi(e);e.type_===3?o.has(n)&&Kf(n,r.handledSet_,r):l0(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Kf(l0(e.copy_,t,e.type_),r.handledSet_,r)})}function Kf(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||qi(e)||t.has(e)||!ii(e)||nh(e)||(t.add(e),Qp(e,(r,i)=>{if(qi(i)){const o=i[Gn];if(rh(o,n)){const s=yb(o);Hf(e,r,s,e.type_),uD(o)}}else ii(i)&&Kf(i,t,n)})),e}function sK(e,t){const n=Jp(e),r={type_:n?1:0,scope_:t?t.scope_:cD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=Yf;n&&(i=[r],o=Fc);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=s,[l,r]}var Yf={get(e,t){if(t===Gn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Bi(e);if(!FA(i,t,e.type_))return lK(e,i,t);const o=i[t];if(e.finalized_||!ii(o)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&JG(t))return o;if(o===Uv(e.base_,t)){gf(e);const s=e.type_===1?+t:t,l=h0(e.scope_,o,e,s);return e.copy_[s]=l}return o},has(e,t){return t in Bi(e)},ownKeys(e){return Reflect.ownKeys(Bi(e))},set(e,t,n){const r=pD(Bi(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Uv(Bi(e),t),o=i?.[Gn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(QG(n,i)&&(n!==void 0||FA(e.base_,t,e.type_)))return!0;gf(e),p0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),aK(e,t,n)),!0},deleteProperty(e,t){return gf(e),Uv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),p0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Bi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[mf]:!0,[s0]:e.type_!==1||t!=="length",[Uf]:r[Uf],[Rc]:n[t]}},defineProperty(){Zr(11)},getPrototypeOf(e){return Vs(e.base_)},setPrototypeOf(){Zr(12)}},Fc={};for(let e in Yf){let t=Yf[e];Fc[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Fc.deleteProperty=function(e,t){return Fc.set.call(this,e,t,void 0)};Fc.set=function(e,t,n){return Yf.set.call(this,e[0],t,n,e[0])};function Uv(e,t){const n=e[Gn];return(n?Bi(n):e)[t]}function lK(e,t,n){const r=pD(t,n);return r?Rc in r?r[Rc]:r.get?.call(e.draft_):void 0}function pD(e,t){if(!(t in e))return;let n=Vs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Vs(n)}}function p0(e){e.modified_||(e.modified_=!0,e.parent_&&p0(e.parent_))}function gf(e){e.copy_||(e.assigned_=new Map,e.copy_=c0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(xs(n)&&!xs(r)){const s=r;r=n;const l=this;return function(d=s,...f){return l.produce(d,p=>r.call(this,p,...f))}}xs(r)||Zr(6),i!==void 0&&!xs(i)&&Zr(7);let o;if(ii(n)){const s=WA(this),l=h0(s,n,void 0);let u=!0;try{o=r(l),u=!1}finally{u?d0(s):f0(s)}return zA(s,i),VA(o,s)}else if(!n||!vb(n)){if(o=r(n),o===void 0&&(o=n),o===aD&&(o=void 0),this.autoFreeze_&&xb(o,!0),i){const s=[],l=[];Ma(u0).generateReplacementPatches_(n,o,{patches_:s,inversePatches_:l}),i(s,l)}return o}else Zr(1,n)},this.produceWithPatches=(n,r)=>{if(xs(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,o;return[this.produce(n,r,(l,u)=>{i=l,o=u}),i,o]},Vv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Vv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Vv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ii(t)||Zr(8),qi(t)&&(t=ti(t));const n=WA(this),r=h0(n,t,void 0);return r[Gn].isManual_=!0,f0(n),r}finishDraft(t,n){const r=t&&t[Gn];(!r||!r.isManual_)&&Zr(9);const{scope_:i}=r;return zA(i,n),VA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Ma(u0).applyPatches_;return qi(t)?i(t,n):this.produce(t,o=>i(o,n))}};function h0(e,t,n,r){const[i,o]=eh(t)?Ma(Gf).proxyMap_(t,n):th(t)?Ma(Gf).proxySet_(t,n):sK(t,n);return(n?.scope_??cD()).drafts_.push(i),o.callbacks_=n?.callbacks_??[],o.key_=r,n&&r!==void 0?oK(n,o,r):o.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:d}=u;o.modified_&&d&&d.generatePatches_(o,[],u)}),i}function ti(e){return qi(e)||Zr(10,e),hD(e)}function hD(e){if(!ii(e)||nh(e))return e;const t=e[Gn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=c0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=c0(e,!0);return Qp(n,(i,o)=>{Hf(n,i,hD(o))},r),t&&(t.finalized_=!1),n}var uK=new cK,mD=uK.produce;function gD(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var dK=gD(),fK=gD,pK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ec:Ec.apply(null,arguments)};function $r(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(vr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>d_(r)&&r.type===e,n}var vD=class uc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,uc.prototype)}static get[Symbol.species](){return uc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new uc(...t[0].concat(this)):new uc(...t.concat(this))}};function HA(e){return ii(e)?mD(e,()=>{}):e}function Yd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function hK(e){return typeof e=="boolean"}var mK=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new vD;return n&&(hK(n)?s.push(dK):s.push(fK(n.extraArgument))),s},yD="RTK_autoBatch",_t=()=>e=>({payload:e,meta:{[yD]:!0}}),GA=e=>t=>{setTimeout(t,e)},xD=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:GA(10):e.type==="callback"?e.queueNotification:GA(e.timeout),d=()=>{s=!1,o&&(o=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),m=r.subscribe(p);return l.add(f),()=>{m(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[yD],o=!i,o&&(s||(s=!0,u(d))),r.dispatch(f)}finally{i=!0}}})},gK=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new vD(e);return r&&i.push(xD(typeof r=="object"?r:void 0)),i};function vK(e){const t=mK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Rx(n))l=c_(n);else throw new Error(vr(1));let u;typeof r=="function"?u=r(t):u=t();let d=Ec;i&&(d=pK({trace:!1,...typeof i=="object"&&i}));const f=u_(...u),p=gK(f);let m=typeof s=="function"?s(p):p();const g=d(...m);return Lx(l,o,g)}function bD(e){const t={},n=[];let r;const i={addCase(o,s){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(vr(28));if(l in t)throw new Error(vr(29));return t[l]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function yK(e){return typeof e=="function"}function xK(e,t){let[n,r,i]=bD(t),o;if(yK(e))o=()=>HA(e());else{const l=HA(e);o=()=>l}function s(l=o(),u){let d=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(qi(f)){const g=p(f,u);return g===void 0?f:g}else{if(ii(f))return mD(f,m=>p(m,u));{const m=p(f,u);if(m===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return f},l)}return s.getInitialState=o,s}var bK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wK=(e=21)=>{let t="",n=e;for(;n--;)t+=bK[Math.random()*64|0];return t},SK=Symbol.for("rtk-slice-createasyncthunk");function PK(e,t){return`${e}/${t}`}function CK({creators:e}={}){const t=e?.asyncThunk?.[SK];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(vr(11));const s=(typeof r.reducers=="function"?r.reducers(kK()):r.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,N){const j=typeof E=="string"?E:E.type;if(!j)throw new Error(vr(12));if(j in u.sliceCaseReducersByType)throw new Error(vr(13));return u.sliceCaseReducersByType[j]=N,d},addMatcher(E,N){return u.sliceMatchers.push({matcher:E,reducer:N}),d},exposeAction(E,N){return u.actionCreators[E]=N,d},exposeCaseReducer(E,N){return u.sliceCaseReducersByName[E]=N,d}};l.forEach(E=>{const N=s[E],j={reducerName:E,type:PK(i,E),createNotation:typeof r.reducers=="function"};NK(N)?jK(j,N,d,t):EK(j,N,d)});function f(){const[E={},N=[],j=void 0]=typeof r.extraReducers=="function"?bD(r.extraReducers):[r.extraReducers],O={...E,...u.sliceCaseReducersByType};return xK(r.initialState,T=>{for(let D in O)T.addCase(D,O[D]);for(let D of u.sliceMatchers)T.addMatcher(D.matcher,D.reducer);for(let D of N)T.addMatcher(D.matcher,D.reducer);j&&T.addDefaultCase(j)})}const p=E=>E,m=new Map,g=new WeakMap;let x;function w(E,N){return x||(x=f()),x(E,N)}function b(){return x||(x=f()),x.getInitialState()}function C(E,N=!1){function j(T){let D=T[E];return typeof D>"u"&&N&&(D=Yd(g,j,b)),D}function O(T=p){const D=Yd(m,N,()=>new WeakMap);return Yd(D,T,()=>{const B={};for(const[X,G]of Object.entries(r.selectors??{}))B[X]=AK(G,T,()=>Yd(g,T,b),N);return B})}return{reducerPath:E,getSelectors:O,get selectors(){return O(j)},selectSlice:j}}const k={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...C(o),injectInto(E,{reducerPath:N,...j}={}){const O=N??o;return E.inject({reducerPath:O,reducer:w},j),{...k,...C(O,!0)}}};return k}}function AK(e,t,n,r){function i(o,...s){let l=t(o);return typeof l>"u"&&r&&(l=n()),e(l,...s)}return i.unwrapped=e,i}var nr=CK();function kK(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function EK({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!OK(r))throw new Error(vr(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?$r(e,s):$r(e))}function NK(e){return e._reducerDefinitionType==="asyncThunk"}function OK(e){return e._reducerDefinitionType==="reducerWithPrepare"}function jK({type:e,reducerName:t},n,r,i){if(!i)throw new Error(vr(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:u,settled:d,options:f}=n,p=i(e,o,f);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:s||qd,pending:l||qd,rejected:u||qd,settled:d||qd})}function qd(){}var _K="task",wD="listener",SD="completed",bb="cancelled",TK=`task-${bb}`,DK=`task-${SD}`,m0=`${wD}-${bb}`,MK=`${wD}-${SD}`,ih=class{constructor(e){this.code=e,this.message=`${_K} ${bb} (reason: ${e})`}name="TaskAbortError";message},wb=(e,t)=>{if(typeof e!="function")throw new TypeError(vr(32))},qf=()=>{},PD=(e,t=qf)=>(e.catch(t),e),CD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ea=e=>{if(e.aborted)throw new ih(e.reason)};function AD(e,t){let n=qf;return new Promise((r,i)=>{const o=()=>i(new ih(e.reason));if(e.aborted){o();return}n=CD(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=qf})}var IK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof ih?"cancelled":"rejected",error:n}}finally{t?.()}},Xf=e=>t=>PD(AD(e,t).then(n=>(Ea(e),n))),kD=e=>{const t=Xf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:_s}=Object,KA={},oh="listenerMiddleware",RK=(e,t)=>{const n=r=>CD(e,()=>r.abort(e.reason));return(r,i)=>{wb(r);const o=new AbortController;n(o);const s=IK(async()=>{Ea(e),Ea(o.signal);const l=await r({pause:Xf(o.signal),delay:kD(o.signal),signal:o.signal});return Ea(o.signal),l},()=>o.abort(DK));return i?.autoJoin&&t.push(s.catch(qf)),{result:Xf(e)(s),cancel(){o.abort(TK)}}}},LK=(e,t)=>{const n=async(r,i)=>{Ea(t);let o=()=>{};const l=[new Promise((u,d)=>{let f=e({predicate:r,effect:(p,m)=>{m.unsubscribe(),u([p,m.getState(),m.getOriginalState()])}});o=()=>{f(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await AD(t,Promise.race(l));return Ea(t),u}finally{o()}};return(r,i)=>PD(n(r,i))},ED=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=$r(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(vr(21));return wb(o),{predicate:i,type:t,effect:o}},ND=_s(e=>{const{type:t,predicate:n,effect:r}=ED(e);return{id:wK(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vr(22))}}},{withTypes:()=>ND}),YA=(e,t)=>{const{type:n,effect:r,predicate:i}=ED(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},g0=e=>{e.pending.forEach(t=>{t.abort(m0)})},FK=(e,t)=>()=>{for(const n of t.keys())g0(n);e.clear()},qA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},OD=_s($r(`${oh}/add`),{withTypes:()=>OD}),$K=$r(`${oh}/removeAll`),jD=_s($r(`${oh}/remove`),{withTypes:()=>jD}),BK=(...e)=>{console.error(`${oh}/error`,...e)},lu=(e={})=>{const t=new Map,n=new Map,r=g=>{const x=n.get(g)??0;n.set(g,x+1)},i=g=>{const x=n.get(g)??1;x===1?n.delete(g):n.set(g,x-1)},{extra:o,onError:s=BK}=e;wb(s);const l=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),x=>{g.unsubscribe(),x?.cancelActive&&g0(g)}),u=g=>{const x=YA(t,g)??ND(g);return l(x)};_s(u,{withTypes:()=>u});const d=g=>{const x=YA(t,g);return x&&(x.unsubscribe(),g.cancelActive&&g0(x)),!!x};_s(d,{withTypes:()=>d});const f=async(g,x,w,b)=>{const C=new AbortController,k=LK(u,C.signal),E=[];try{g.pending.add(C),r(g),await Promise.resolve(g.effect(x,_s({},w,{getOriginalState:b,condition:(N,j)=>k(N,j).then(Boolean),take:k,delay:kD(C.signal),pause:Xf(C.signal),extra:o,signal:C.signal,fork:RK(C.signal,E),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((N,j,O)=>{N!==C&&(N.abort(m0),O.delete(N))})},cancel:()=>{C.abort(m0),g.pending.delete(C)},throwIfCancelled:()=>{Ea(C.signal)}})))}catch(N){N instanceof ih||qA(s,N,{raisedBy:"effect"})}finally{await Promise.all(E),C.abort(MK),i(g),g.pending.delete(C)}},p=FK(t,n);return{middleware:g=>x=>w=>{if(!d_(w))return x(w);if(OD.match(w))return u(w.payload);if($K.match(w)){p();return}if(jD.match(w))return d(w.payload);let b=g.getState();const C=()=>{if(b===KA)throw new Error(vr(23));return b};let k;try{if(k=x(w),t.size>0){const E=g.getState(),N=Array.from(t.values());for(const j of N){let O=!1;try{O=j.predicate(w,E,b)}catch(T){O=!1,qA(s,T,{raisedBy:"predicate"})}O&&f(j,w,g,C)}}}finally{b=KA}return k},startListening:u,stopListening:d,clearListeners:p}};function vr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_D=nr({name:"chartLayout",initialState:zK,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:WK,setLayout:VK,setChartSize:UK,setScale:HK}=_D.actions,GK=_D.reducer;function TD(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Qe(e){return Number.isFinite(e)}function Ei(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function XA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ks(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(n),!0).forEach(function(r){KK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KK(e,t,n){return(t=YK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YK(e){var t=qK(e,"string");return typeof t=="symbol"?t:t+""}function qK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function En(e,t,n){return $n(e)||$n(t)?n:ki(t)?qp(e,t,n):typeof t=="function"?t(e):n}var XK=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&o!=="center"&&Te(e[o]))return ks(ks({},e),{},{[o]:e[o]+(r||0)});if((l==="horizontal"||l==="vertical"&&o==="center")&&s!=="middle"&&Te(e[s]))return ks(ks({},e),{},{[s]:e[s]+(i||0)})}return e},Oi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",DD=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,o,s=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate));return i||s.push(t),o||s.push(n),s},MD=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:m,axisType:g}=e;if(!s)return null;var x=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(w=g==="angleAxis"&&o&&o.length>=2?Ir(o[0]-o[1])*2*w:w,p||m){var b=(p||m||[]).map((C,k)=>{var E=r?r.indexOf(C):C,N=s.map(E);return Qe(N)?{coordinate:N+w,value:C,offset:w,index:k}:null}).filter(er);return b}return u&&d?d.map((C,k)=>{var E=s.map(C);return Qe(E)?{coordinate:E+w,value:C,index:k,offset:w}:null}).filter(er):s.ticks&&f!=null?s.ticks(f).map((C,k)=>{var E=s.map(C);return Qe(E)?{coordinate:E+w,value:C,index:k,offset:w}:null}).filter(er):s.domain().map((C,k)=>{var E=s.map(C);return Qe(E)?{coordinate:E+w,value:r?r[C]:C,index:k,offset:w}:null}).filter(er)},ZK=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0,l=0;l<n;++l){var u=e[l],d=u?.[i];if(d!=null){var f=d[1],p=d[0],m=Ai(f)?p:f;m>=0?(d[0]=o,o+=m,d[1]=o):(d[0]=s,s+=m,d[1]=s)}}}},QK=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0;s<n;++s){var l=e[s],u=l?.[i];if(u!=null){var d=Ai(u[1])?u[0]:u[1];d>=0?(u[0]=o,o+=d,u[1]=o):(u[0]=0,u[1]=0)}}}},JK={sign:ZK,expand:zH,none:Ta,silhouette:WH,wiggle:VH,positive:QK},eY=(e,t,n)=>{var r,i=(r=JK[n])!==null&&r!==void 0?r:Ta,o=BH().keys(t).value((l,u)=>Number(En(l,u,0))).order(a0).offset(i),s=o(e);return s.forEach((l,u)=>{l.forEach((d,f)=>{var p=En(e[f],t[u],0);Array.isArray(p)&&p.length===2&&Te(p[0])&&Te(p[1])&&(d[0]=p[0],d[1]=p[1])})}),s};function tY(e){return e==null?void 0:String(e)}function ZA(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!$n(i[t.dataKey])){var l=GT(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var u=En(i,$n(s)?t.dataKey:s),d=t.scale.map(u);return Te(d)?d:null}var nY=e=>{var t=e.flat(2).filter(Te);return[Math.min(...t),Math.max(...t)]},rY=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],iY=(e,t,n)=>{if(e!=null)return rY(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:s}=o,l=s.reduce((u,d)=>{var f=TD(d,t,n),p=nY(f);return!Qe(p[0])||!Qe(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},QA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Xp(t,f=>f.coordinate),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];o=Math.min((u?.coordinate||0)-(d?.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function ek(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return ks(ks({},t),{},{dataKey:n,payload:r,value:i,name:o})}function ID(e,t){if(e)return String(e);if(typeof t=="string")return t}var oY=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},aY=(e,t)=>t==="centric"?e.angle:e.radius,no=e=>e.layout.width,ro=e=>e.layout.height,sY=e=>e.layout.scale,RD=e=>e.layout.margin,ah=te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sh=te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),lY="data-recharts-item-index",cY="data-recharts-item-id",cu=60;function tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(n),!0).forEach(function(r){uY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uY(e,t,n){return(t=dY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dY(e){var t=fY(e,"string");return typeof t=="symbol"?t:t+""}function fY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pY=e=>e.brush.height;function hY(e){var t=sh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:cu;return n+i}return n},0)}function mY(e){var t=sh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:cu;return n+i}return n},0)}function gY(e){var t=ah(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function vY(e){var t=ah(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Nn=te([no,ro,RD,pY,hY,mY,gY,vY,oD,YG],(e,t,n,r,i,o,s,l,u,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+o},p={top:(n.top||0)+s,bottom:(n.bottom||0)+l},m=Xd(Xd({},p),f),g=m.bottom;m.bottom+=r,m=XK(m,u,d);var x=e-m.left-m.right,w=t-m.top-m.bottom;return Xd(Xd({brushBottom:g},m),{},{width:Math.max(x,0),height:Math.max(w,0)})}),yY=te(Nn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),LD=te(no,ro,(e,t)=>({x:0,y:0,width:e,height:t})),xY=S.createContext(null),rr=()=>S.useContext(xY)!=null,lh=e=>e.brush,ch=te([lh,Nn,RD],(e,t,n)=>({height:e.height,x:Te(e.x)?e.x:t.left,y:Te(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Te(e.width)?e.width:t.width})),Hv={},Gv={},Kv={},nk;function bY(){return nk||(nk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let s,l=null;const u=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),f=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},p=()=>{d&&f(),w()};let m=null;const g=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,p()},r)},x=()=>{m!==null&&(clearTimeout(m),m=null)},w=()=>{x(),s=void 0,l=null},b=()=>{f()},C=function(...k){if(i?.aborted)return;s=this,l=k;const E=m==null;g(),u&&E&&f()};return C.schedule=g,C.cancel=w,C.flush=b,i?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(Kv)),Kv}var rk;function wY(){return rk||(rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bY();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:l=!0,maxWait:u}=o,d=Array(2);s&&(d[0]="leading"),l&&(d[1]="trailing");let f,p=null;const m=t.debounce(function(...w){f=r.apply(this,w),p=null},i,{edges:d}),g=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(f=r.apply(this,w),p=Date.now(),m.cancel(),m.schedule(),f):(m.apply(this,w),f)},x=()=>(m.flush(),f);return g.cancel=m.cancel,g.flush=x,g}e.debounce=n})(Gv)),Gv}var ik;function SY(){return ik||(ik=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wY();function n(r,i=0,o={}){const{leading:s=!0,trailing:l=!0}=o;return t.debounce(r,i,{leading:s,maxWait:i,trailing:l})}e.throttle=n})(Hv)),Hv}var Yv,ok;function PY(){return ok||(ok=1,Yv=SY().throttle),Yv}var CY=PY();const AY=to(CY);var Qf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},xi={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},FD=(e,t,n)=>{var{width:r=xi.width,height:i=xi.height,aspect:o,maxHeight:s}=n,l=Da(r)?e:Number(r),u=Da(i)?t:Number(i);return o&&o>0&&(l?u=l/o:u&&(l=u*o),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},kY={width:0,height:0,overflow:"visible"},EY={width:0,overflowX:"visible"},NY={height:0,overflowY:"visible"},OY={},jY=e=>{var{width:t,height:n}=e,r=Da(t),i=Da(n);return r&&i?kY:r?EY:i?NY:OY};function _Y(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i=xi.width,o=xi.height):i===void 0?i=r&&r>0?void 0:xi.width:o===void 0&&(o=r&&r>0?void 0:xi.height),{width:i,height:o}}function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0.apply(null,arguments)}function ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(n),!0).forEach(function(r){TY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TY(e,t,n){return(t=DY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DY(e){var t=MY(e,"string");return typeof t=="symbol"?t:t+""}function MY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $D=S.createContext(xi.initialDimension);function IY(e){return Ei(e.width)&&Ei(e.height)}function BD(e){var{children:t,width:n,height:r}=e,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return IY(i)?S.createElement($D.Provider,{value:i},t):null}var Sb=()=>S.useContext($D),RY=S.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=xi.initialDimension,width:i,height:o,minWidth:s=xi.minWidth,minHeight:l,maxHeight:u,children:d,debounce:f=xi.debounce,id:p,className:m,onResize:g,style:x={}}=e,w=S.useRef(null),b=S.useRef();b.current=g,S.useImperativeHandle(t,()=>w.current);var[C,k]=S.useState({containerWidth:r.width,containerHeight:r.height}),E=S.useCallback((D,B)=>{k(X=>{var G=Math.round(D),F=Math.round(B);return X.containerWidth===G&&X.containerHeight===F?X:{containerWidth:G,containerHeight:F}})},[]);S.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return el;var D=F=>{var W,de=F[0];if(de!=null){var{width:ce,height:Se}=de.contentRect;E(ce,Se),(W=b.current)===null||W===void 0||W.call(b,ce,Se)}};f>0&&(D=AY(D,f,{trailing:!0,leading:!1}));var B=new ResizeObserver(D),{width:X,height:G}=w.current.getBoundingClientRect();return E(X,G),B.observe(w.current),()=>{B.disconnect()}},[E,f]);var{containerWidth:N,containerHeight:j}=C;Qf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:T}=FD(N,j,{width:i,height:o,aspect:n,maxHeight:u});return Qf(O!=null&&O>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,T,i,o,s,l,n),S.createElement("div",{id:p?"".concat(p):void 0,className:Et("recharts-responsive-container",m),style:sk(sk({},x),{},{width:i,height:o,minWidth:s,minHeight:l,maxHeight:u}),ref:w},S.createElement("div",{style:jY({width:i,height:o})},S.createElement(BD,{width:O,height:T},d)))}),LY=S.forwardRef((e,t)=>{var n=Sb();if(Ei(n.width)&&Ei(n.height))return e.children;var{width:r,height:i}=_Y({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:s}=FD(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Te(o)&&Te(s)?S.createElement(BD,{width:o,height:s},e.children):S.createElement(RY,v0({},e,{width:r,height:i,ref:t}))});function Pb(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var uh=()=>{var e,t=rr(),n=Fe(yY),r=Fe(ch),i=(e=Fe(lh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},FY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zD=()=>{var e;return(e=Fe(Nn))!==null&&e!==void 0?e:FY},WD=()=>Fe(no),VD=()=>Fe(ro),Dt=e=>e.layout.layoutType,tl=()=>Fe(Dt),Cb=()=>{var e=tl();if(e==="horizontal"||e==="vertical")return e},UD=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},$Y=()=>{var e=tl();return e!==void 0},uu=e=>{var t=pn(),n=rr(),{width:r,height:i}=e,o=Sb(),s=r,l=i;return o&&(s=o.width>0?o.width:r,l=o.height>0?o.height:i),S.useEffect(()=>{!n&&Ei(s)&&Ei(l)&&t(UK({width:s,height:l}))},[t,n,s,l]),null},HD=Symbol.for("immer-nothing"),lk=Symbol.for("immer-draftable"),xr=Symbol.for("immer-state");function Qr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $c=Object.getPrototypeOf;function Us(e){return!!e&&!!e[xr]}function Ia(e){return e?GD(e)||Array.isArray(e)||!!e[lk]||!!e.constructor?.[lk]||du(e)||fh(e):!1}var BY=Object.prototype.constructor.toString(),ck=new WeakMap;function GD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=ck.get(n);return r===void 0&&(r=Function.toString.call(n),ck.set(n,r)),r===BY}function Jf(e,t,n=!0){dh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function dh(e){const t=e[xr];return t?t.type_:Array.isArray(e)?1:du(e)?2:fh(e)?3:0}function y0(e,t){return dh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KD(e,t,n){const r=dh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function zY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function du(e){return e instanceof Map}function fh(e){return e instanceof Set}function va(e){return e.copy_||e.base_}function x0(e,t){if(du(e))return new Map(e);if(fh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=GD(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[xr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create($c(e),r)}else{const r=$c(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Ab(e,t=!1){return ph(e)||Us(e)||!Ia(e)||(dh(e)>1&&Object.defineProperties(e,{set:Zd,add:Zd,clear:Zd,delete:Zd}),Object.freeze(e),t&&Object.values(e).forEach(n=>Ab(n,!0))),e}function WY(){Qr(2)}var Zd={value:WY};function ph(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var VY={};function Ra(e){const t=VY[e];return t||Qr(0,e),t}var Bc;function YD(){return Bc}function UY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function uk(e,t){t&&(Ra("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function b0(e){w0(e),e.drafts_.forEach(HY),e.drafts_=null}function w0(e){e===Bc&&(Bc=e.parent_)}function dk(e){return Bc=UY(Bc,e)}function HY(e){const t=e[xr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function fk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[xr].modified_&&(b0(t),Qr(4)),Ia(e)&&(e=ep(t,e),t.parent_||tp(t,e)),t.patches_&&Ra("Patches").generateReplacementPatches_(n[xr].base_,e,t.patches_,t.inversePatches_)):e=ep(t,n,[]),b0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==HD?e:void 0}function ep(e,t,n){if(ph(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[xr];if(!i)return Jf(t,(o,s)=>pk(e,i,t,o,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return tp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,l=!1;i.type_===3&&(s=new Set(o),o.clear(),l=!0),Jf(s,(u,d)=>pk(e,i,o,u,d,n,l),r),tp(e,o,!1),n&&e.patches_&&Ra("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function pk(e,t,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const l=ph(i);if(!(l&&!s)){if(Us(i)){const u=o&&t&&t.type_!==3&&!y0(t.assigned_,r)?o.concat(r):void 0,d=ep(e,i,u);if(KD(n,r,d),Us(d))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Ia(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;ep(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(du(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&tp(e,i)}}}function tp(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ab(t,n)}function GY(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:YD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=kb;n&&(i=[r],o=zc);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=s,l}var kb={get(e,t){if(t===xr)return e;const n=va(e);if(!y0(n,t))return KY(e,n,t);const r=n[t];return e.finalized_||!Ia(r)?r:r===qv(e.base_,t)?(Xv(e),e.copy_[t]=P0(r,e)):r},has(e,t){return t in va(e)},ownKeys(e){return Reflect.ownKeys(va(e))},set(e,t,n){const r=qD(va(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=qv(va(e),t),o=i?.[xr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(zY(n,i)&&(n!==void 0||y0(e.base_,t)))return!0;Xv(e),S0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return qv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xv(e),S0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=va(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Qr(11)},getPrototypeOf(e){return $c(e.base_)},setPrototypeOf(){Qr(12)}},zc={};Jf(kb,(e,t)=>{zc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});zc.deleteProperty=function(e,t){return zc.set.call(this,e,t,void 0)};zc.set=function(e,t,n){return kb.set.call(this,e[0],t,n,e[0])};function qv(e,t){const n=e[xr];return(n?va(n):e)[t]}function KY(e,t,n){const r=qD(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function qD(e,t){if(!(t in e))return;let n=$c(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=$c(n)}}function S0(e){e.modified_||(e.modified_=!0,e.parent_&&S0(e.parent_))}function Xv(e){e.copy_||(e.copy_=x0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var YY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(u=o,...d){return s.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&Qr(6),r!==void 0&&typeof r!="function"&&Qr(7);let i;if(Ia(t)){const o=dk(this),s=P0(t,void 0);let l=!0;try{i=n(s),l=!1}finally{l?b0(o):w0(o)}return uk(o,r),fk(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===HD&&(i=void 0),this.autoFreeze_&&Ab(i,!0),r){const o=[],s=[];Ra("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Qr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,u=>t(u,...l));let r,i;return[this.produce(t,n,(s,l)=>{r=s,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ia(e)||Qr(8),Us(e)&&(e=qY(e));const t=dk(this),n=P0(e,void 0);return n[xr].isManual_=!0,w0(t),n}finishDraft(e,t){const n=e&&e[xr];(!n||!n.isManual_)&&Qr(9);const{scope_:r}=n;return uk(r,t),fk(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ra("Patches").applyPatches_;return Us(e)?r(e,t):this.produce(e,i=>r(i,t))}};function P0(e,t){const n=du(e)?Ra("MapSet").proxyMap_(e,t):fh(e)?Ra("MapSet").proxySet_(e,t):GY(e,t);return(t?t.scope_:YD()).drafts_.push(n),n}function qY(e){return Us(e)||Qr(10,e),XD(e)}function XD(e){if(!Ia(e)||ph(e))return e;const t=e[xr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=x0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=x0(e,!0);return Jf(n,(i,o)=>{KD(n,i,XD(o))},r),t&&(t.finalized_=!1),n}var XY=new YY;XY.produce;var ZY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ZD=nr({name:"legend",initialState:ZY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:_t()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ti(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:_t()},removeLegendPayload:{reducer(e,t){var n=ti(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:_t()}}}),{setLegendSize:Ele,setLegendSettings:Nle,addLegendPayload:QY,replaceLegendPayload:JY,removeLegendPayload:eq}=ZD.actions,tq=ZD.reducer;function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C0.apply(null,arguments)}function hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(n),!0).forEach(function(r){nq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nq(e,t,n){return(t=rq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rq(e){var t=iq(e,"string");return typeof t=="symbol"?t:t+""}function iq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oq(e){return Array.isArray(e)&&ki(e[0])&&ki(e[1])?e.join(" ~ "):e}var hs={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},aq=e=>{var{separator:t=hs.separator,contentStyle:n,itemStyle:r,labelStyle:i=hs.labelStyle,payload:o,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:m=hs.accessibilityLayer}=e,g=()=>{if(o&&o.length){var j={padding:0,margin:0},O=(l?Xp(o,l):o).map((T,D)=>{if(T.type==="none")return null;var B=T.formatter||s||oq,{value:X,name:G}=T,F=X,W=G;if(B){var de=B(X,G,T,D,o);if(Array.isArray(de))[F,W]=de;else if(de!=null)F=de;else return null}var ce=Jl(Jl({},hs.itemStyle),{},{color:T.color||hs.itemStyle.color},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ce},ki(W)?S.createElement("span",{className:"recharts-tooltip-item-name"},W):null,ki(W)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},F),S.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:j},O)}return null},x=Jl(Jl({},hs.contentStyle),n),w=Jl({margin:0},i),b=!$n(f),C=b?f:"",k=Et("recharts-default-tooltip",u),E=Et("recharts-tooltip-label",d);b&&p&&o!==void 0&&o!==null&&(C=p(f,o));var N=m?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",C0({className:k,style:x},N),S.createElement("p",{className:E,style:w},S.isValidElement(C)?C:"".concat(C)),g())},ec="recharts-tooltip-wrapper",sq={visibility:"hidden"};function lq(e){var{coordinate:t,translateX:n,translateY:r}=e;return Et(ec,{["".concat(ec,"-right")]:Te(n)&&t&&Te(t.x)&&n>=t.x,["".concat(ec,"-left")]:Te(n)&&t&&Te(t.x)&&n<t.x,["".concat(ec,"-bottom")]:Te(r)&&t&&Te(t.y)&&r>=t.y,["".concat(ec,"-top")]:Te(r)&&t&&Te(t.y)&&r<t.y})}function mk(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:o,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(o&&Te(o[r]))return o[r];var f=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return s[r]?f:p;var m=u[r];if(m==null)return 0;if(s[r]){var g=f,x=m;return g<x?Math.max(p,m):Math.max(f,m)}if(d==null)return 0;var w=p+l,b=m+d;return w>b?Math.max(f,m):Math.max(p,m)}function cq(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function uq(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,p,m;return l.height>0&&l.width>0&&n?(p=mk({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=mk({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=cq({translateX:p,translateY:m,useTranslate3d:u})):f=sq,{cssProperties:f,cssClasses:lq({translateX:p,translateY:m,coordinate:n})}}function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(r){A0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A0(e,t,n){return(t=dq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dq(e){var t=fq(e,"string");return typeof t=="symbol"?t:t+""}function fq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pq extends S.PureComponent{constructor(){super(...arguments),A0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),A0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:p,useTranslate3d:m,viewBox:g,wrapperStyle:x,lastBoundingBox:w,innerRef:b,hasPortalFromProps:C}=this.props,k=typeof d=="number"?d:d.x,E=typeof d=="number"?d:d.y,{cssClasses:N,cssProperties:j}=uq({allowEscapeViewBox:n,coordinate:s,offsetLeft:k,offsetTop:E,position:f,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:m,viewBox:g}),O=C?{}:Qd(Qd({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),T=Qd(Qd({},O),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},x);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:T,ref:b},o)}}var QD=()=>{var e;return(e=Fe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(n),!0).forEach(function(r){hq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hq(e,t,n){return(t=mq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xk={curveBasisClosed:OH,curveBasisOpen:jH,curveBasis:NH,curveBumpX:kH,curveBumpY:EH,curveLinearClosed:_H,curveLinear:Kp,curveMonotoneX:TH,curveMonotoneY:DH,curveNatural:MH,curveStep:IH,curveStepAfter:LH,curveStepBefore:RH},np=e=>Qe(e.x)&&Qe(e.y),bk=e=>e.base!=null&&np(e.base)&&np(e),tc=e=>e.x,nc=e=>e.y,vq=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(fb(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=xk["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return xk[n]||Kp},wk={connectNulls:!1,type:"linear"},yq=e=>{var{type:t=wk.type,points:n=[],baseLine:r,layout:i,connectNulls:o=wk.connectNulls}=e,s=vq(t,i),l=o?n.filter(np):n;if(Array.isArray(r)){var u,d=n.map((x,w)=>yk(yk({},x),{},{base:r[w]}));i==="vertical"?u=Ud().y(nc).x1(tc).x0(x=>x.base.x):u=Ud().x(tc).y1(nc).y0(x=>x.base.y);var f=u.defined(bk).curve(s),p=o?d.filter(bk):d;return f(p)}var m;i==="vertical"&&Te(r)?m=Ud().y(nc).x1(tc).x0(r):Te(r)?m=Ud().x(tc).y1(nc).y0(r):m=IT().x(tc).y(nc);var g=m.defined(np).curve(s);return g(l)},vf=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=tl();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},l=n&&n.length?yq(s):r;return S.createElement("path",k0({},ri(e),pb(e),{className:Et("recharts-curve",t),d:l===null?void 0:l,ref:i}))},xq=["x","y","top","left","width","height","className"];function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E0.apply(null,arguments)}function Sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(n),!0).forEach(function(r){wq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wq(e,t,n){return(t=Sq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cq(e,t){if(e==null)return{};var n,r,i=Aq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kq=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),Eq=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:l}=e,u=Cq(e,xq),d=bq({x:t,y:n,top:r,left:i,width:o,height:s},u);return!Te(t)||!Te(n)||!Te(o)||!Te(s)||!Te(r)||!Te(i)?null:S.createElement("path",E0({},Fr(d),{className:Et("recharts-cross",l),d:kq(t,n,o,s,r,i)}))};function Nq(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ck(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(n),!0).forEach(function(r){Oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oq(e,t,n){return(t=jq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jq(e){var t=_q(e,"string");return typeof t=="symbol"?t:t+""}function _q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Dq=(e,t,n)=>e.map(r=>"".concat(Tq(r)," ").concat(t,"ms ").concat(n)).join(","),Mq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Wc=(e,t)=>Object.keys(t).reduce((n,r)=>Ck(Ck({},n),{},{[r]:e(r,t[r])}),{});function Ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(n),!0).forEach(function(r){Iq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iq(e,t,n){return(t=Rq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rq(e){var t=Lq(e,"string");return typeof t=="symbol"?t:t+""}function Lq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rp=(e,t,n)=>e+(t-e)*n,N0=e=>{var{from:t,to:n}=e;return t!==n},JD=(e,t,n)=>{var r=Wc((i,o)=>{if(N0(o)){var[s,l]=e(o.from,o.to,o.velocity);return en(en({},o),{},{from:s,velocity:l})}return o},t);return n<1?Wc((i,o)=>N0(o)&&r[i]!=null?en(en({},o),{},{velocity:rp(o.velocity,r[i].velocity,n),from:rp(o.from,r[i].from,n)}):o,t):JD(e,r,n-1)};function Fq(e,t,n,r,i,o){var s,l=r.reduce((m,g)=>en(en({},m),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),u=()=>Wc((m,g)=>g.from,l),d=()=>!Object.values(l).filter(N0).length,f=null,p=m=>{s||(s=m);var g=m-s,x=g/n.dt;l=JD(n,l,x),i(en(en(en({},e),t),u())),s=m,d()||(f=o.setTimeout(p))};return()=>(f=o.setTimeout(p),()=>{var m;(m=f)===null||m===void 0||m()})}function $q(e,t,n,r,i,o,s){var l=null,u=i.reduce((p,m)=>{var g=e[m],x=t[m];return g==null||x==null?p:en(en({},p),{},{[m]:[g,x]})},{}),d,f=p=>{d||(d=p);var m=(p-d)/r,g=Wc((w,b)=>rp(...b,n(m)),u);if(o(en(en(en({},e),t),g)),m<1)l=s.setTimeout(f);else{var x=Wc((w,b)=>rp(...b,n(1)),u);o(en(en(en({},e),t),x))}};return()=>(l=s.setTimeout(f),()=>{var p;(p=l)===null||p===void 0||p()})}const Bq=(e,t,n,r,i,o)=>{var s=Mq(e,t);return n==null?()=>(i(en(en({},e),t)),()=>{}):n.isStepper===!0?Fq(e,t,n,s,i,o):$q(e,t,n,r,s,i,o)};var ip=1e-4,eM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],tM=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),kk=(e,t)=>n=>{var r=eM(e,t);return tM(r,n)},zq=(e,t)=>n=>{var r=eM(e,t),i=[...r.map((o,s)=>o*s).slice(1),0];return tM(i,n)},Wq=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},Vq=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Wq(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Uq=(e,t,n,r)=>{var i=kk(e,n),o=kk(t,r),s=zq(e,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,p=f,m=0;m<8;++m){var g=i(p)-f,x=s(p);if(Math.abs(g-f)<ip||x<ip)return o(p);p=l(p-g/x)}return o(p)};return u.isStepper=!1,u},Ek=function(){return Uq(...Vq(...arguments))},Hq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(s,l,u)=>{var d=-(s-l)*n,f=u*r,p=u+(d-f)*i/1e3,m=u*i/1e3+s;return Math.abs(m-l)<ip&&Math.abs(p)<ip?[l,0]:[m,p]};return o.isStepper=!0,o.dt=i,o},Gq=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ek(e);case"spring":return Hq();default:if(e.split("(")[0]==="cubic-bezier")return Ek(e)}return typeof e=="function"?e:null};function Kq(e){var t,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(o.bind(null,d),u);return}o(u),i=e.setTimeout(o.bind(null,d));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class Yq{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function qq(){return Kq(new Yq)}var Xq=S.createContext(qq);function Zq(e,t){var n=S.useContext(Xq);return S.useMemo(()=>t??n(e),[e,t,n])}var Qq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),fu={isSsr:Qq()},Jq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Nk={t:0},Zv={t:1};function nM(e){var t=br(e,Jq),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:u,children:d}=t,f=n==="auto"?!fu.isSsr:n,p=Zq(t.animationId,t.animationManager),[m,g]=S.useState(f?Nk:Zv),x=S.useRef(null);return S.useEffect(()=>{f||g(Zv)},[f]),S.useEffect(()=>{if(!f||!r)return el;var w=Bq(Nk,Zv,Gq(o),i,g,p.getTimeoutController()),b=()=>{x.current=w()};return p.start([u,s,b,i,l]),()=>{p.stop(),x.current&&x.current(),l()}},[f,r,i,o,s,u,l,p]),d(m.t)}function rM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(Ic(t)),r=S.useRef(e);return r.current!==e&&(n.current=Ic(t),r.current=e),n.current}var eX=["radius"],tX=["radius"],Ok,jk,_k,Tk,Dk,Mk,Ik,Rk,Lk,Fk;function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(r){nX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nX(e,t,n){return(t=rX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rX(e){var t=iX(e,"string");return typeof t=="symbol"?t:t+""}function iX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},op.apply(null,arguments)}function zk(e,t){if(e==null)return{};var n,r,i=oX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Wk=(e,t,n,r,i)=>{var o=Io(n),s=Io(r),l=Math.min(Math.abs(o)/2,Math.abs(s)/2),u=s>=0?1:-1,d=o>=0?1:-1,f=s>=0&&o>=0||s<0&&o<0?1:0,p;if(l>0&&Array.isArray(i)){for(var m=[0,0,0,0],g=0,x=4;g<x;g++){var w,b=(w=i[g])!==null&&w!==void 0?w:0;m[g]=b>l?l:b}p=Pn(Ok||(Ok=hi(["M",",",""])),e,t+u*m[0]),m[0]>0&&(p+=Pn(jk||(jk=hi(["A ",",",",0,0,",",",",",""])),m[0],m[0],f,e+d*m[0],t)),p+=Pn(_k||(_k=hi(["L ",",",""])),e+n-d*m[1],t),m[1]>0&&(p+=Pn(Tk||(Tk=hi(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],f,e+n,t+u*m[1])),p+=Pn(Dk||(Dk=hi(["L ",",",""])),e+n,t+r-u*m[2]),m[2]>0&&(p+=Pn(Mk||(Mk=hi(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],f,e+n-d*m[2],t+r)),p+=Pn(Ik||(Ik=hi(["L ",",",""])),e+d*m[3],t+r),m[3]>0&&(p+=Pn(Rk||(Rk=hi(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],f,e,t+r-u*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var C=Math.min(l,i);p=Pn(Lk||(Lk=hi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*C,C,C,f,e+d*C,t,e+n-d*C,t,C,C,f,e+n,t+u*C,e+n,t+r-u*C,C,C,f,e+n-d*C,t+r,e+d*C,t+r,C,C,f,e,t+r-u*C)}else p=Pn(Fk||(Fk=hi(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return p},Vk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aX=e=>{var t=br(e,Vk),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ee=n.current.getTotalLength();ee&&i(ee)}catch{}},[]);var{x:o,y:s,width:l,height:u,radius:d,className:f}=t,{animationEasing:p,animationDuration:m,animationBegin:g,isAnimationActive:x,isUpdateAnimationActive:w}=t,b=S.useRef(l),C=S.useRef(u),k=S.useRef(o),E=S.useRef(s),N=S.useMemo(()=>({x:o,y:s,width:l,height:u,radius:d}),[o,s,l,u,d]),j=rM(N,"rectangle-");if(o!==+o||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var O=Et("recharts-rectangle",f);if(!w){var T=Fr(t),{radius:D}=T,B=zk(T,eX);return S.createElement("path",op({},B,{x:Io(o),y:Io(s),width:Io(l),height:Io(u),radius:typeof d=="number"?d:void 0,className:O,d:Wk(o,s,l,u,d)}))}var X=b.current,G=C.current,F=k.current,W=E.current,de="0px ".concat(r===-1?1:r,"px"),ce="".concat(r,"px 0px"),Se=Dq(["strokeDasharray"],m,typeof p=="string"?p:Vk.animationEasing);return S.createElement(nM,{animationId:j,key:j,canBegin:r>0,duration:m,easing:p,isActive:w,begin:g},ee=>{var K=yi(X,l,ee),ie=yi(G,u,ee),ne=yi(F,o,ee),R=yi(W,s,ee);n.current&&(b.current=K,C.current=ie,k.current=ne,E.current=R);var $;x?ee>0?$={transition:Se,strokeDasharray:ce}:$={strokeDasharray:de}:$={strokeDasharray:ce};var oe=Fr(t),{radius:fe}=oe,ue=zk(oe,tX);return S.createElement("path",op({},ue,{radius:typeof d=="number"?d:void 0,className:O,d:Wk(ne,R,K,ie,d),ref:n,style:Bk(Bk({},$),t.style)}))})};function Uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(n),!0).forEach(function(r){sX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sX(e,t,n){return(t=lX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lX(e){var t=cX(e,"string");return typeof t=="symbol"?t:t+""}function cX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ap=Math.PI/180,uX=e=>e*180/Math.PI,kn=(e,t,n,r)=>({x:e+Math.cos(-ap*r)*n,y:t+Math.sin(-ap*r)*n}),dX=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},fX=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},pX=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,s=fX({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,u=Math.acos(l);return r>o&&(u=2*Math.PI-u),{radius:s,angle:uX(u),angleInRadian:u}},hX=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},mX=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return e+s*360},gX=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=pX({x:n,y:r},t),{innerRadius:s,outerRadius:l}=t;if(i<s||i>l||i===0)return null;var{startAngle:u,endAngle:d}=hX(t),f=o,p;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;p=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=u}return p?Hk(Hk({},t),{},{radius:i,angle:mX(f,t)}):null};function iM(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,s=kn(t,n,r,i),l=kn(t,n,r,o);return{points:[s,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var Gk,Kk,Yk,qk,Xk,Zk,Qk;function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(null,arguments)}function wa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var vX=(e,t)=>{var n=Ir(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Jd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:l,cornerIsExternal:u}=e,d=l*(s?1:-1)+r,f=Math.asin(l/d)/ap,p=u?i:i+o*f,m=kn(t,n,d,p),g=kn(t,n,r,p),x=u?i-o*f:i,w=kn(t,n,d*Math.cos(f*ap),x);return{center:m,circleTangency:g,lineTangency:w,theta:f}},oM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=e,l=vX(o,s),u=o+l,d=kn(t,n,i,o),f=kn(t,n,i,u),p=Pn(Gk||(Gk=wa(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(l)>180),+(o>u),f.x,f.y);if(r>0){var m=kn(t,n,r,o),g=kn(t,n,r,u);p+=Pn(Kk||(Kk=wa(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,r,r,+(Math.abs(l)>180),+(o<=u),m.x,m.y)}else p+=Pn(Yk||(Yk=wa(["L ",","," Z"])),t,n);return p},yX=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}=e,f=Ir(d-u),{circleTangency:p,lineTangency:m,theta:g}=Jd({cx:t,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),{circleTangency:x,lineTangency:w,theta:b}=Jd({cx:t,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),C=l?Math.abs(u-d):Math.abs(u-d)-g-b;if(C<0)return s?Pn(qk||(qk=wa(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,o,o,o*2,o,o,-o*2):oM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var k=Pn(Xk||(Xk=wa(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,o,o,+(f<0),p.x,p.y,i,i,+(C>180),+(f<0),x.x,x.y,o,o,+(f<0),w.x,w.y);if(r>0){var{circleTangency:E,lineTangency:N,theta:j}=Jd({cx:t,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),{circleTangency:O,lineTangency:T,theta:D}=Jd({cx:t,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),B=l?Math.abs(u-d):Math.abs(u-d)-j-D;if(B<0&&o===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+=Pn(Zk||(Zk=wa(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),T.x,T.y,o,o,+(f<0),O.x,O.y,r,r,+(B>180),+(f>0),E.x,E.y,o,o,+(f<0),N.x,N.y)}else k+=Pn(Qk||(Qk=wa(["L",",","Z"])),t,n);return k},xX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bX=e=>{var t=br(e,xX),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:p}=t;if(o<i||d===f)return null;var m=Et("recharts-sector",p),g=o-i,x=Go(s,g,0,!0),w;return x>0&&Math.abs(d-f)<360?w=yX({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):w=oM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),S.createElement("path",O0({},Fr(t),{className:m,d:w}))};function wX(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(KT(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:s,angle:l}=t,u=kn(r,i,o,l),d=kn(r,i,s,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return iM(t)}}var Qv={},Jv={},ey={},Jk;function SX(){return Jk||(Jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rD();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(ey)),ey}var eE;function PX(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SX();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Jv)),Jv}var tE;function CX(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iD(),n=PX();function r(i,o,s){s&&typeof s!="number"&&t.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((o-i)/(s||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=s;return u}e.range=r})(Qv)),Qv}var ty,nE;function AX(){return nE||(nE=1,ty=CX().range),ty}var kX=AX();const aM=to(kX);function $o(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function EX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Eb(e){let t,n,r;e.length!==2?(t=$o,n=(l,u)=>$o(e(l),u),r=(l,u)=>e(l)-u):(t=e===$o||e===EX?e:NX,n=e,r=e);function i(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<0?d=p+1:f=p}while(d<f)}return d}function o(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<=0?d=p+1:f=p}while(d<f)}return d}function s(l,u,d=0,f=l.length){const p=i(l,u,d,f-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:s,right:o}}function NX(){return 0}function sM(e){return e===null?NaN:+e}function*OX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const jX=Eb($o),pu=jX.right;Eb(sM).center;class rE extends Map{constructor(t,n=DX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(iE(this,t))}has(t){return super.has(iE(this,t))}set(t,n){return super.set(_X(this,t),n)}delete(t){return super.delete(TX(this,t))}}function iE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _X({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function TX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function DX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function MX(e=$o){if(e===$o)return lM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function lM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const IX=Math.sqrt(50),RX=Math.sqrt(10),LX=Math.sqrt(2);function sp(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=IX?10:o>=RX?5:o>=LX?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*s,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?sp(e,t,n*2):[l,u,d]}function j0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?sp(t,e,n):sp(e,t,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(s<0)for(let d=0;d<l;++d)u[d]=(o-d)/-s;else for(let d=0;d<l;++d)u[d]=(o-d)*s;else if(s<0)for(let d=0;d<l;++d)u[d]=(i+d)/-s;else for(let d=0;d<l;++d)u[d]=(i+d)*s;return u}function _0(e,t,n){return t=+t,e=+e,n=+n,sp(e,t,n)[2]}function T0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?_0(t,e,n):_0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function oE(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function aE(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function cM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?lM:MX(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,f=Math.log(u),p=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*p*(u-p)/u)*(d-u/2<0?-1:1),g=Math.max(n,Math.floor(t-d*p/u+m)),x=Math.min(r,Math.floor(t+(u-d)*p/u+m));cM(e,t,g,x,i)}const o=e[t];let s=n,l=r;for(rc(e,n,t),i(e[r],o)>0&&rc(e,n,r);s<l;){for(rc(e,s,l),++s,--l;i(e[s],o)<0;)++s;for(;i(e[l],o)>0;)--l}i(e[n],o)===0?rc(e,n,l):(++l,rc(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function rc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function FX(e,t,n){if(e=Float64Array.from(OX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return aE(e);if(t>=1)return oE(e);var r,i=(r-1)*t,o=Math.floor(i),s=oE(cM(e,o).subarray(0,o+1)),l=aE(e.subarray(o+1));return s+(l-s)*(i-o)}}function $X(e,t,n=sM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),l=+n(e[o+1],o+1,e);return s+(l-s)*(i-o)}}function BX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function zr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function io(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const D0=Symbol("implicit");function Nb(){var e=new rE,t=[],n=[],r=D0;function i(o){let s=e.get(o);if(s===void 0){if(r!==D0)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new rE;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Nb(t,n).unknown(r)},zr.apply(i,arguments),i}function Ob(){var e=Nb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,l=!1,u=0,d=0,f=.5;delete e.unknown;function p(){var m=t().length,g=i<r,x=g?i:r,w=g?r:i;o=(w-x)/Math.max(1,m-u+d*2),l&&(o=Math.floor(o)),x+=(w-x-o*(m-u))*f,s=o*(1-u),l&&(x=Math.round(x),s=Math.round(s));var b=BX(m).map(function(C){return x+o*C});return n(g?b.reverse():b)}return e.domain=function(m){return arguments.length?(t(m),p()):t()},e.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(m){return arguments.length?(l=!!m,p()):l},e.padding=function(m){return arguments.length?(u=Math.min(1,d=+m),p()):u},e.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),p()):u},e.paddingOuter=function(m){return arguments.length?(d=+m,p()):d},e.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),p()):f},e.copy=function(){return Ob(t(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(f)},zr.apply(p(),arguments)}function uM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return uM(t())},e}function zX(){return uM(Ob.apply(null,arguments).paddingInner(1))}function jb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hu(){}var Vc=.7,lp=1/Vc,Ts="\\s*([+-]?\\d+)\\s*",Uc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WX=/^#([0-9a-f]{3,8})$/,VX=new RegExp(`^rgb\\(${Ts},${Ts},${Ts}\\)$`),UX=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),HX=new RegExp(`^rgba\\(${Ts},${Ts},${Ts},${Uc}\\)$`),GX=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${Uc}\\)$`),KX=new RegExp(`^hsl\\(${Uc},${Pi},${Pi}\\)$`),YX=new RegExp(`^hsla\\(${Uc},${Pi},${Pi},${Uc}\\)$`),sE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jb(hu,Hc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lE,formatHex:lE,formatHex8:qX,formatHsl:XX,formatRgb:cE,toString:cE});function lE(){return this.rgb().formatHex()}function qX(){return this.rgb().formatHex8()}function XX(){return fM(this).formatHsl()}function cE(){return this.rgb().formatRgb()}function Hc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=WX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uE(t):n===3?new tr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ef(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ef(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=VX.exec(e))?new tr(t[1],t[2],t[3],1):(t=UX.exec(e))?new tr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HX.exec(e))?ef(t[1],t[2],t[3],t[4]):(t=GX.exec(e))?ef(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=KX.exec(e))?pE(t[1],t[2]/100,t[3]/100,1):(t=YX.exec(e))?pE(t[1],t[2]/100,t[3]/100,t[4]):sE.hasOwnProperty(e)?uE(sE[e]):e==="transparent"?new tr(NaN,NaN,NaN,0):null}function uE(e){return new tr(e>>16&255,e>>8&255,e&255,1)}function ef(e,t,n,r){return r<=0&&(e=t=n=NaN),new tr(e,t,n,r)}function ZX(e){return e instanceof hu||(e=Hc(e)),e?(e=e.rgb(),new tr(e.r,e.g,e.b,e.opacity)):new tr}function M0(e,t,n,r){return arguments.length===1?ZX(e):new tr(e,t,n,r??1)}function tr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}jb(tr,M0,dM(hu,{brighter(e){return e=e==null?lp:Math.pow(lp,e),new tr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vc:Math.pow(Vc,e),new tr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tr(Na(this.r),Na(this.g),Na(this.b),cp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dE,formatHex:dE,formatHex8:QX,formatRgb:fE,toString:fE}));function dE(){return`#${Sa(this.r)}${Sa(this.g)}${Sa(this.b)}`}function QX(){return`#${Sa(this.r)}${Sa(this.g)}${Sa(this.b)}${Sa((isNaN(this.opacity)?1:this.opacity)*255)}`}function fE(){const e=cp(this.opacity);return`${e===1?"rgb(":"rgba("}${Na(this.r)}, ${Na(this.g)}, ${Na(this.b)}${e===1?")":`, ${e})`}`}function cp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Na(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sa(e){return e=Na(e),(e<16?"0":"")+e.toString(16)}function pE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Jr(e,t,n,r)}function fM(e){if(e instanceof Jr)return new Jr(e.h,e.s,e.l,e.opacity);if(e instanceof hu||(e=Hc(e)),!e)return new Jr;if(e instanceof Jr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new Jr(s,l,u,e.opacity)}function JX(e,t,n,r){return arguments.length===1?fM(e):new Jr(e,t,n,r??1)}function Jr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}jb(Jr,JX,dM(hu,{brighter(e){return e=e==null?lp:Math.pow(lp,e),new Jr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vc:Math.pow(Vc,e),new Jr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new tr(ny(e>=240?e-240:e+120,i,r),ny(e,i,r),ny(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Jr(hE(this.h),tf(this.s),tf(this.l),cp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cp(this.opacity);return`${e===1?"hsl(":"hsla("}${hE(this.h)}, ${tf(this.s)*100}%, ${tf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hE(e){return e=(e||0)%360,e<0?e+360:e}function tf(e){return Math.max(0,Math.min(1,e||0))}function ny(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const _b=e=>()=>e;function eZ(e,t){return function(n){return e+n*t}}function tZ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function nZ(e){return(e=+e)==1?pM:function(t,n){return n-t?tZ(t,n,e):_b(isNaN(t)?n:t)}}function pM(e,t){var n=t-e;return n?eZ(e,n):_b(isNaN(e)?t:e)}const mE=(function e(t){var n=nZ(t);function r(i,o){var s=n((i=M0(i)).r,(o=M0(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),d=pM(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=u(f),i.opacity=d(f),i+""}}return r.gamma=e,r})(1);function rZ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function iZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oZ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=nl(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function aZ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function up(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sZ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=nl(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var I0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ry=new RegExp(I0.source,"g");function lZ(e){return function(){return e}}function cZ(e){return function(t){return e(t)+""}}function uZ(e,t){var n=I0.lastIndex=ry.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(e=e+"",t=t+"";(r=I0.exec(e))&&(i=ry.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:up(r,i)})),n=ry.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?cZ(u[0].x):lZ(t):(t=u.length,function(d){for(var f=0,p;f<t;++f)l[(p=u[f]).i]=p.x(d);return l.join("")})}function nl(e,t){var n=typeof t,r;return t==null||n==="boolean"?_b(t):(n==="number"?up:n==="string"?(r=Hc(t))?(t=r,mE):uZ:t instanceof Hc?mE:t instanceof Date?aZ:iZ(t)?rZ:Array.isArray(t)?oZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sZ:up)(e,t)}function Tb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function dZ(e,t){t===void 0&&(t=e,e=nl);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[l](s-l)}}function fZ(e){return function(){return e}}function dp(e){return+e}var gE=[0,1];function Un(e){return e}function R0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:fZ(isNaN(t)?NaN:.5)}function pZ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function hZ(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=R0(i,r),o=n(s,o)):(r=R0(r,i),o=n(o,s)),function(l){return o(r(l))}}function mZ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=R0(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(l){var u=pu(e,l,1,r)-1;return o[u](i[u](l))}}function mu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hh(){var e=gE,t=gE,n=nl,r,i,o,s=Un,l,u,d;function f(){var m=Math.min(e.length,t.length);return s!==Un&&(s=pZ(e[0],e[m-1])),l=m>2?mZ:hZ,u=d=null,p}function p(m){return m==null||isNaN(m=+m)?o:(u||(u=l(e.map(r),t,n)))(r(s(m)))}return p.invert=function(m){return s(i((d||(d=l(t,e.map(r),up)))(m)))},p.domain=function(m){return arguments.length?(e=Array.from(m,dp),f()):e.slice()},p.range=function(m){return arguments.length?(t=Array.from(m),f()):t.slice()},p.rangeRound=function(m){return t=Array.from(m),n=Tb,f()},p.clamp=function(m){return arguments.length?(s=m?!0:Un,f()):s!==Un},p.interpolate=function(m){return arguments.length?(n=m,f()):n},p.unknown=function(m){return arguments.length?(o=m,p):o},function(m,g){return r=m,i=g,f()}}function Db(){return hh()(Un,Un)}function gZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fp(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Hs(e){return e=fp(Math.abs(e)),e?e[1]:NaN}function vZ(e,t){return function(n,r){for(var i=n.length,o=[],s=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[s=(s+1)%e.length];return o.reverse().join(t)}}function yZ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var xZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gc(e){if(!(t=xZ.exec(e)))throw new Error("invalid format: "+e);var t;return new Mb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gc.prototype=Mb.prototype;function Mb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bZ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var pp;function wZ(e,t){var n=fp(e,t);if(!n)return pp=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(pp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+fp(e,Math.max(0,t+o-1))[0]}function vE(e,t){var n=fp(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vE(e*100,t),r:vE,s:wZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xE(e){return e}var bE=Array.prototype.map,wE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SZ(e){var t=e.grouping===void 0||e.thousands===void 0?xE:vZ(bE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?xE:yZ(bE.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(p,m){p=Gc(p);var g=p.fill,x=p.align,w=p.sign,b=p.symbol,C=p.zero,k=p.width,E=p.comma,N=p.precision,j=p.trim,O=p.type;O==="n"?(E=!0,O="g"):yE[O]||(N===void 0&&(N=12),j=!0,O="g"),(C||g==="0"&&x==="=")&&(C=!0,g="0",x="=");var T=(m&&m.prefix!==void 0?m.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),D=(b==="$"?r:/[%p]/.test(O)?s:"")+(m&&m.suffix!==void 0?m.suffix:""),B=yE[O],X=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function G(F){var W=T,de=D,ce,Se,ee;if(O==="c")de=B(F)+de,F="";else{F=+F;var K=F<0||1/F<0;if(F=isNaN(F)?u:B(Math.abs(F),N),j&&(F=bZ(F)),K&&+F==0&&w!=="+"&&(K=!1),W=(K?w==="("?w:l:w==="-"||w==="("?"":w)+W,de=(O==="s"&&!isNaN(F)&&pp!==void 0?wE[8+pp/3]:"")+de+(K&&w==="("?")":""),X){for(ce=-1,Se=F.length;++ce<Se;)if(ee=F.charCodeAt(ce),48>ee||ee>57){de=(ee===46?i+F.slice(ce+1):F.slice(ce))+de,F=F.slice(0,ce);break}}}E&&!C&&(F=t(F,1/0));var ie=W.length+F.length+de.length,ne=ie<k?new Array(k-ie+1).join(g):"";switch(E&&C&&(F=t(ne+F,ne.length?k-de.length:1/0),ne=""),x){case"<":F=W+F+de+ne;break;case"=":F=W+ne+F+de;break;case"^":F=ne.slice(0,ie=ne.length>>1)+W+F+de+ne.slice(ie);break;default:F=ne+W+F+de;break}return o(F)}return G.toString=function(){return p+""},G}function f(p,m){var g=Math.max(-8,Math.min(8,Math.floor(Hs(m)/3)))*3,x=Math.pow(10,-g),w=d((p=Gc(p),p.type="f",p),{suffix:wE[8+g/3]});return function(b){return w(x*b)}}return{format:d,formatPrefix:f}}var nf,Ib,hM;PZ({thousands:",",grouping:[3],currency:["$",""]});function PZ(e){return nf=SZ(e),Ib=nf.format,hM=nf.formatPrefix,nf}function CZ(e){return Math.max(0,-Hs(Math.abs(e)))}function AZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hs(t)/3)))*3-Hs(Math.abs(e)))}function kZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hs(t)-Hs(e))+1}function mM(e,t,n,r){var i=T0(e,t,n),o;switch(r=Gc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=AZ(i,s))&&(r.precision=o),hM(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=kZ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=CZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ib(r)}function qo(e){var t=e.domain;return e.ticks=function(n){var r=t();return j0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return mM(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],l=r[o],u,d,f=10;for(l<s&&(d=s,s=l,l=d,d=i,i=o,o=d);f-- >0;){if(d=_0(s,l,n),d===u)return r[i]=s,r[o]=l,t(r);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function gM(){var e=Db();return e.copy=function(){return mu(e,gM())},zr.apply(e,arguments),qo(e)}function vM(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,dp),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return vM(e).unknown(t)},e=arguments.length?Array.from(e,dp):[0,1],qo(n)}function yM(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function SE(e){return Math.log(e)}function PE(e){return Math.exp(e)}function EZ(e){return-Math.log(-e)}function NZ(e){return-Math.exp(-e)}function OZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jZ(e){return e===10?OZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _Z(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function CE(e){return(t,n)=>-e(-t,n)}function Rb(e){const t=e(SE,PE),n=t.domain;let r=10,i,o;function s(){return i=_Z(r),o=jZ(r),n()[0]<0?(i=CE(i),o=CE(o),e(EZ,NZ)):e(SE,PE),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(n(l),s()):n()},t.ticks=l=>{const u=n();let d=u[0],f=u[u.length-1];const p=f<d;p&&([d,f]=[f,d]);let m=i(d),g=i(f),x,w;const b=l==null?10:+l;let C=[];if(!(r%1)&&g-m<b){if(m=Math.floor(m),g=Math.ceil(g),d>0){for(;m<=g;++m)for(x=1;x<r;++x)if(w=m<0?x/o(-m):x*o(m),!(w<d)){if(w>f)break;C.push(w)}}else for(;m<=g;++m)for(x=r-1;x>=1;--x)if(w=m>0?x/o(-m):x*o(m),!(w<d)){if(w>f)break;C.push(w)}C.length*2<b&&(C=j0(d,f,b))}else C=j0(m,g,Math.min(g-m,b)).map(o);return p?C.reverse():C},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Gc(u)).precision==null&&(u.trim=!0),u=Ib(u)),l===1/0)return u;const d=Math.max(1,r*l/t.ticks().length);return f=>{let p=f/o(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=d?u(f):""}},t.nice=()=>n(yM(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function xM(){const e=Rb(hh()).domain([1,10]);return e.copy=()=>mu(e,xM()).base(e.base()),zr.apply(e,arguments),e}function AE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lb(e){var t=1,n=e(AE(t),kE(t));return n.constant=function(r){return arguments.length?e(AE(t=+r),kE(t)):t},qo(n)}function bM(){var e=Lb(hh());return e.copy=function(){return mu(e,bM()).constant(e.constant())},zr.apply(e,arguments)}function EE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function TZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function DZ(e){return e<0?-e*e:e*e}function Fb(e){var t=e(Un,Un),n=1;function r(){return n===1?e(Un,Un):n===.5?e(TZ,DZ):e(EE(n),EE(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},qo(t)}function $b(){var e=Fb(hh());return e.copy=function(){return mu(e,$b()).exponent(e.exponent())},zr.apply(e,arguments),e}function MZ(){return $b.apply(null,arguments).exponent(.5)}function NE(e){return Math.sign(e)*e*e}function IZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wM(){var e=Db(),t=[0,1],n=!1,r;function i(o){var s=IZ(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(NE(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,dp)).map(NE)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},zr.apply(i,arguments),qo(i)}function SM(){var e=[],t=[],n=[],r;function i(){var s=0,l=Math.max(1,t.length);for(n=new Array(l-1);++s<l;)n[s-1]=$X(e,s/l);return o}function o(s){return s==null||isNaN(s=+s)?r:t[pu(n,s)]}return o.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($o),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return SM().domain(e).range(t).unknown(r)},zr.apply(o,arguments)}function PM(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(u){return u!=null&&u<=u?i[pu(r,u,0,n)]:o}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return PM().domain([e,t]).range(i).unknown(o)},zr.apply(qo(s),arguments)}function CM(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[pu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return CM().domain(e).range(t).unknown(n)},zr.apply(i,arguments)}const iy=new Date,oy=new Date;function tn(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const u=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return u;let d;do u.push(d=new Date(+o)),t(o,l),e(o);while(d<o&&o<s);return u},i.filter=o=>tn(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!o(s););else for(;--l>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(iy.setTime(+o),oy.setTime(+s),e(iy),e(oy),Math.floor(n(iy,oy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const hp=tn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);hp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):hp);hp.range;const Wi=1e3,Rr=Wi*60,Vi=Rr*60,Xi=Vi*24,Bb=Xi*7,OE=Xi*30,ay=Xi*365,Pa=tn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wi)},(e,t)=>(t-e)/Wi,e=>e.getUTCSeconds());Pa.range;const zb=tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wi)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getMinutes());zb.range;const Wb=tn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getUTCMinutes());Wb.range;const Vb=tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wi-e.getMinutes()*Rr)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getHours());Vb.range;const Ub=tn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getUTCHours());Ub.range;const gu=tn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rr)/Xi,e=>e.getDate()-1);gu.range;const mh=tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xi,e=>e.getUTCDate()-1);mh.range;const AM=tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xi,e=>Math.floor(e/Xi));AM.range;function Ba(e){return tn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Rr)/Bb)}const gh=Ba(0),mp=Ba(1),RZ=Ba(2),LZ=Ba(3),Gs=Ba(4),FZ=Ba(5),$Z=Ba(6);gh.range;mp.range;RZ.range;LZ.range;Gs.range;FZ.range;$Z.range;function za(e){return tn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Bb)}const vh=za(0),gp=za(1),BZ=za(2),zZ=za(3),Ks=za(4),WZ=za(5),VZ=za(6);vh.range;gp.range;BZ.range;zZ.range;Ks.range;WZ.range;VZ.range;const Hb=tn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Hb.range;const Gb=tn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Gb.range;const Zi=tn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Zi.range;const Qi=tn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Qi.range;function kM(e,t,n,r,i,o){const s=[[Pa,1,Wi],[Pa,5,5*Wi],[Pa,15,15*Wi],[Pa,30,30*Wi],[o,1,Rr],[o,5,5*Rr],[o,15,15*Rr],[o,30,30*Rr],[i,1,Vi],[i,3,3*Vi],[i,6,6*Vi],[i,12,12*Vi],[r,1,Xi],[r,2,2*Xi],[n,1,Bb],[t,1,OE],[t,3,3*OE],[e,1,ay]];function l(d,f,p){const m=f<d;m&&([d,f]=[f,d]);const g=p&&typeof p.range=="function"?p:u(d,f,p),x=g?g.range(d,+f+1):[];return m?x.reverse():x}function u(d,f,p){const m=Math.abs(f-d)/p,g=Eb(([,,b])=>b).right(s,m);if(g===s.length)return e.every(T0(d/ay,f/ay,p));if(g===0)return hp.every(Math.max(T0(d,f,p),1));const[x,w]=s[m/s[g-1][2]<s[g][2]/m?g-1:g];return x.every(w)}return[l,u]}const[UZ,HZ]=kM(Qi,Gb,vh,AM,Ub,Wb),[GZ,KZ]=kM(Zi,Hb,gh,gu,Vb,zb);function sy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ly(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ic(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function YZ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,d=oc(i),f=ac(i),p=oc(o),m=ac(o),g=oc(s),x=ac(s),w=oc(l),b=ac(l),C=oc(u),k=ac(u),E={a:ee,A:K,b:ie,B:ne,c:null,d:IE,e:IE,f:vQ,g:EQ,G:OQ,H:hQ,I:mQ,j:gQ,L:EM,m:yQ,M:xQ,p:R,q:$,Q:FE,s:$E,S:bQ,u:wQ,U:SQ,V:PQ,w:CQ,W:AQ,x:null,X:null,y:kQ,Y:NQ,Z:jQ,"%":LE},N={a:oe,A:fe,b:ue,B:ve,c:null,d:RE,e:RE,f:MQ,g:UQ,G:GQ,H:_Q,I:TQ,j:DQ,L:OM,m:IQ,M:RQ,p:re,q:U,Q:FE,s:$E,S:LQ,u:FQ,U:$Q,V:BQ,w:zQ,W:WQ,x:null,X:null,y:VQ,Y:HQ,Z:KQ,"%":LE},j={a:X,A:G,b:F,B:W,c:de,d:DE,e:DE,f:uQ,g:TE,G:_E,H:ME,I:ME,j:aQ,L:cQ,m:oQ,M:sQ,p:B,q:iQ,Q:fQ,s:pQ,S:lQ,u:JZ,U:eQ,V:tQ,w:QZ,W:nQ,x:ce,X:Se,y:TE,Y:_E,Z:rQ,"%":dQ};E.x=O(n,E),E.X=O(r,E),E.c=O(t,E),N.x=O(n,N),N.X=O(r,N),N.c=O(t,N);function O(M,Y){return function(J){var V=[],we=-1,Z=0,Ie=M.length,$e,Ke,ct;for(J instanceof Date||(J=new Date(+J));++we<Ie;)M.charCodeAt(we)===37&&(V.push(M.slice(Z,we)),(Ke=jE[$e=M.charAt(++we)])!=null?$e=M.charAt(++we):Ke=$e==="e"?" ":"0",(ct=Y[$e])&&($e=ct(J,Ke)),V.push($e),Z=we+1);return V.push(M.slice(Z,we)),V.join("")}}function T(M,Y){return function(J){var V=ic(1900,void 0,1),we=D(V,M,J+="",0),Z,Ie;if(we!=J.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(Y&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(Z=ly(ic(V.y,0,1)),Ie=Z.getUTCDay(),Z=Ie>4||Ie===0?gp.ceil(Z):gp(Z),Z=mh.offset(Z,(V.V-1)*7),V.y=Z.getUTCFullYear(),V.m=Z.getUTCMonth(),V.d=Z.getUTCDate()+(V.w+6)%7):(Z=sy(ic(V.y,0,1)),Ie=Z.getDay(),Z=Ie>4||Ie===0?mp.ceil(Z):mp(Z),Z=gu.offset(Z,(V.V-1)*7),V.y=Z.getFullYear(),V.m=Z.getMonth(),V.d=Z.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),Ie="Z"in V?ly(ic(V.y,0,1)).getUTCDay():sy(ic(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(Ie+5)%7:V.w+V.U*7-(Ie+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,ly(V)):sy(V)}}function D(M,Y,J,V){for(var we=0,Z=Y.length,Ie=J.length,$e,Ke;we<Z;){if(V>=Ie)return-1;if($e=Y.charCodeAt(we++),$e===37){if($e=Y.charAt(we++),Ke=j[$e in jE?Y.charAt(we++):$e],!Ke||(V=Ke(M,J,V))<0)return-1}else if($e!=J.charCodeAt(V++))return-1}return V}function B(M,Y,J){var V=d.exec(Y.slice(J));return V?(M.p=f.get(V[0].toLowerCase()),J+V[0].length):-1}function X(M,Y,J){var V=g.exec(Y.slice(J));return V?(M.w=x.get(V[0].toLowerCase()),J+V[0].length):-1}function G(M,Y,J){var V=p.exec(Y.slice(J));return V?(M.w=m.get(V[0].toLowerCase()),J+V[0].length):-1}function F(M,Y,J){var V=C.exec(Y.slice(J));return V?(M.m=k.get(V[0].toLowerCase()),J+V[0].length):-1}function W(M,Y,J){var V=w.exec(Y.slice(J));return V?(M.m=b.get(V[0].toLowerCase()),J+V[0].length):-1}function de(M,Y,J){return D(M,t,Y,J)}function ce(M,Y,J){return D(M,n,Y,J)}function Se(M,Y,J){return D(M,r,Y,J)}function ee(M){return s[M.getDay()]}function K(M){return o[M.getDay()]}function ie(M){return u[M.getMonth()]}function ne(M){return l[M.getMonth()]}function R(M){return i[+(M.getHours()>=12)]}function $(M){return 1+~~(M.getMonth()/3)}function oe(M){return s[M.getUTCDay()]}function fe(M){return o[M.getUTCDay()]}function ue(M){return u[M.getUTCMonth()]}function ve(M){return l[M.getUTCMonth()]}function re(M){return i[+(M.getUTCHours()>=12)]}function U(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var Y=O(M+="",E);return Y.toString=function(){return M},Y},parse:function(M){var Y=T(M+="",!1);return Y.toString=function(){return M},Y},utcFormat:function(M){var Y=O(M+="",N);return Y.toString=function(){return M},Y},utcParse:function(M){var Y=T(M+="",!0);return Y.toString=function(){return M},Y}}}var jE={"-":"",_:" ",0:"0"},hn=/^\s*\d+/,qZ=/^%/,XZ=/[\\^$*+?|[\]().{}]/g;function st(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function ZZ(e){return e.replace(XZ,"\\$&")}function oc(e){return new RegExp("^(?:"+e.map(ZZ).join("|")+")","i")}function ac(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function QZ(e,t,n){var r=hn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function JZ(e,t,n){var r=hn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function eQ(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function tQ(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function nQ(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function _E(e,t,n){var r=hn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function TE(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rQ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iQ(e,t,n){var r=hn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function oQ(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function DE(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function aQ(e,t,n){var r=hn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ME(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function sQ(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lQ(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function cQ(e,t,n){var r=hn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function uQ(e,t,n){var r=hn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function dQ(e,t,n){var r=qZ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function fQ(e,t,n){var r=hn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function pQ(e,t,n){var r=hn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function IE(e,t){return st(e.getDate(),t,2)}function hQ(e,t){return st(e.getHours(),t,2)}function mQ(e,t){return st(e.getHours()%12||12,t,2)}function gQ(e,t){return st(1+gu.count(Zi(e),e),t,3)}function EM(e,t){return st(e.getMilliseconds(),t,3)}function vQ(e,t){return EM(e,t)+"000"}function yQ(e,t){return st(e.getMonth()+1,t,2)}function xQ(e,t){return st(e.getMinutes(),t,2)}function bQ(e,t){return st(e.getSeconds(),t,2)}function wQ(e){var t=e.getDay();return t===0?7:t}function SQ(e,t){return st(gh.count(Zi(e)-1,e),t,2)}function NM(e){var t=e.getDay();return t>=4||t===0?Gs(e):Gs.ceil(e)}function PQ(e,t){return e=NM(e),st(Gs.count(Zi(e),e)+(Zi(e).getDay()===4),t,2)}function CQ(e){return e.getDay()}function AQ(e,t){return st(mp.count(Zi(e)-1,e),t,2)}function kQ(e,t){return st(e.getFullYear()%100,t,2)}function EQ(e,t){return e=NM(e),st(e.getFullYear()%100,t,2)}function NQ(e,t){return st(e.getFullYear()%1e4,t,4)}function OQ(e,t){var n=e.getDay();return e=n>=4||n===0?Gs(e):Gs.ceil(e),st(e.getFullYear()%1e4,t,4)}function jQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+st(t/60|0,"0",2)+st(t%60,"0",2)}function RE(e,t){return st(e.getUTCDate(),t,2)}function _Q(e,t){return st(e.getUTCHours(),t,2)}function TQ(e,t){return st(e.getUTCHours()%12||12,t,2)}function DQ(e,t){return st(1+mh.count(Qi(e),e),t,3)}function OM(e,t){return st(e.getUTCMilliseconds(),t,3)}function MQ(e,t){return OM(e,t)+"000"}function IQ(e,t){return st(e.getUTCMonth()+1,t,2)}function RQ(e,t){return st(e.getUTCMinutes(),t,2)}function LQ(e,t){return st(e.getUTCSeconds(),t,2)}function FQ(e){var t=e.getUTCDay();return t===0?7:t}function $Q(e,t){return st(vh.count(Qi(e)-1,e),t,2)}function jM(e){var t=e.getUTCDay();return t>=4||t===0?Ks(e):Ks.ceil(e)}function BQ(e,t){return e=jM(e),st(Ks.count(Qi(e),e)+(Qi(e).getUTCDay()===4),t,2)}function zQ(e){return e.getUTCDay()}function WQ(e,t){return st(gp.count(Qi(e)-1,e),t,2)}function VQ(e,t){return st(e.getUTCFullYear()%100,t,2)}function UQ(e,t){return e=jM(e),st(e.getUTCFullYear()%100,t,2)}function HQ(e,t){return st(e.getUTCFullYear()%1e4,t,4)}function GQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ks(e):Ks.ceil(e),st(e.getUTCFullYear()%1e4,t,4)}function KQ(){return"+0000"}function LE(){return"%"}function FE(e){return+e}function $E(e){return Math.floor(+e/1e3)}var ms,_M,TM;YQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YQ(e){return ms=YZ(e),_M=ms.format,ms.parse,TM=ms.utcFormat,ms.utcParse,ms}function qQ(e){return new Date(e)}function XQ(e){return e instanceof Date?+e:+new Date(+e)}function Kb(e,t,n,r,i,o,s,l,u,d){var f=Db(),p=f.invert,m=f.domain,g=d(".%L"),x=d(":%S"),w=d("%I:%M"),b=d("%I %p"),C=d("%a %d"),k=d("%b %d"),E=d("%B"),N=d("%Y");function j(O){return(u(O)<O?g:l(O)<O?x:s(O)<O?w:o(O)<O?b:r(O)<O?i(O)<O?C:k:n(O)<O?E:N)(O)}return f.invert=function(O){return new Date(p(O))},f.domain=function(O){return arguments.length?m(Array.from(O,XQ)):m().map(qQ)},f.ticks=function(O){var T=m();return e(T[0],T[T.length-1],O??10)},f.tickFormat=function(O,T){return T==null?j:d(T)},f.nice=function(O){var T=m();return(!O||typeof O.range!="function")&&(O=t(T[0],T[T.length-1],O??10)),O?m(yM(T,O)):f},f.copy=function(){return mu(f,Kb(e,t,n,r,i,o,s,l,u,d))},f}function ZQ(){return zr.apply(Kb(GZ,KZ,Zi,Hb,gh,gu,Vb,zb,Pa,_M).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QQ(){return zr.apply(Kb(UZ,HZ,Qi,Gb,vh,mh,Ub,Wb,Pa,TM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yh(){var e=0,t=1,n,r,i,o,s=Un,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:s(i===0?.5:(p=(o(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(s=p,d):s};function f(p){return function(m){var g,x;return arguments.length?([g,x]=m,s=p(g,x),d):[s(0),s(1)]}}return d.range=f(nl),d.rangeRound=f(Tb),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return o=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),d}}function Xo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function DM(){var e=qo(yh()(Un));return e.copy=function(){return Xo(e,DM())},io.apply(e,arguments)}function MM(){var e=Rb(yh()).domain([1,10]);return e.copy=function(){return Xo(e,MM()).base(e.base())},io.apply(e,arguments)}function IM(){var e=Lb(yh());return e.copy=function(){return Xo(e,IM()).constant(e.constant())},io.apply(e,arguments)}function Yb(){var e=Fb(yh());return e.copy=function(){return Xo(e,Yb()).exponent(e.exponent())},io.apply(e,arguments)}function JQ(){return Yb.apply(null,arguments).exponent(.5)}function RM(){var e=[],t=Un;function n(r){if(r!=null&&!isNaN(r=+r))return t((pu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort($o),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>FX(e,o/r))},n.copy=function(){return RM(t).domain(e)},io.apply(n,arguments)}function xh(){var e=0,t=.5,n=1,r=1,i,o,s,l,u,d=Un,f,p=!1,m;function g(w){return isNaN(w=+w)?m:(w=.5+((w=+f(w))-o)*(r*w<r*o?l:u),d(p?Math.max(0,Math.min(1,w)):w))}g.domain=function(w){return arguments.length?([e,t,n]=w,i=f(e=+e),o=f(t=+t),s=f(n=+n),l=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,g):[e,t,n]},g.clamp=function(w){return arguments.length?(p=!!w,g):p},g.interpolator=function(w){return arguments.length?(d=w,g):d};function x(w){return function(b){var C,k,E;return arguments.length?([C,k,E]=b,d=dZ(w,[C,k,E]),g):[d(0),d(.5),d(1)]}}return g.range=x(nl),g.rangeRound=x(Tb),g.unknown=function(w){return arguments.length?(m=w,g):m},function(w){return f=w,i=w(e),o=w(t),s=w(n),l=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,g}}function LM(){var e=qo(xh()(Un));return e.copy=function(){return Xo(e,LM())},io.apply(e,arguments)}function FM(){var e=Rb(xh()).domain([.1,1,10]);return e.copy=function(){return Xo(e,FM()).base(e.base())},io.apply(e,arguments)}function $M(){var e=Lb(xh());return e.copy=function(){return Xo(e,$M()).constant(e.constant())},io.apply(e,arguments)}function qb(){var e=Fb(xh());return e.copy=function(){return Xo(e,qb()).exponent(e.exponent())},io.apply(e,arguments)}function eJ(){return qb.apply(null,arguments).exponent(.5)}const dc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ob,scaleDiverging:LM,scaleDivergingLog:FM,scaleDivergingPow:qb,scaleDivergingSqrt:eJ,scaleDivergingSymlog:$M,scaleIdentity:vM,scaleImplicit:D0,scaleLinear:gM,scaleLog:xM,scaleOrdinal:Nb,scalePoint:zX,scalePow:$b,scaleQuantile:SM,scaleQuantize:PM,scaleRadial:wM,scaleSequential:DM,scaleSequentialLog:MM,scaleSequentialPow:Yb,scaleSequentialQuantile:RM,scaleSequentialSqrt:JQ,scaleSequentialSymlog:IM,scaleSqrt:MZ,scaleSymlog:bM,scaleThreshold:CM,scaleTime:ZQ,scaleUtc:QQ,tickFormat:mM},Symbol.toStringTag,{value:"Module"}));var oo=e=>e.chartData,BM=te([oo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),zM=(e,t,n,r)=>r?BM(e):oo(e),tJ=(e,t,n)=>n?BM(e):oo(e);function Ji(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Qe(t)&&Qe(n))return!0}return!1}function BE(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function WM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(Qe(n))i=n;else if(typeof n=="function")return;if(Qe(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Ji(s))return s}}function nJ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ji(r))return BE(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,s,l;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Te(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&QA.test(i)){var u=QA.exec(i);if(u==null||u[1]==null||t==null)s=void 0;else{var d=+u[1];s=t[0]-d}}else s=t?.[0];if(o==="auto")t!=null&&(l=Math.max(...t));else if(Te(o))l=o;else if(typeof o=="function")try{t!=null&&(l=o(t?.[1]))}catch{}else if(typeof o=="string"&&JA.test(o)){var f=JA.exec(o);if(f==null||f[1]==null||t==null)l=void 0;else{var p=+f[1];l=t[1]+p}}else l=t?.[1];var m=[s,l];if(Ji(m))return t==null?m:BE(m,t,n)}}}var rl=1e9,rJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zb,Tt=!0,Br="[DecimalError] ",Oa=Br+"Invalid argument: ",Xb=Br+"Exponent out of range: ",il=Math.floor,ya=Math.pow,iJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dr,un=1e7,At=7,VM=9007199254740991,vp=il(VM/At),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*At;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(e){return Gi(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,n=t.constructor;return yt(Gi(t,new n(e),0,1),n.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return qt(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(dr))throw Error(Br+"NaN");if(n.s<1)throw Error(Br+(n.s?"NaN":"-Infinity"));return n.eq(dr)?new r(0):(Tt=!1,t=Gi(Kc(n,o),Kc(e,o),o),Tt=!0,yt(t,i))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GM(t,e):UM(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Br+"NaN");return n.s?(Tt=!1,t=Gi(n,e,0,1).times(e),Tt=!0,n.minus(t)):yt(new r(n),i)};ke.naturalExponential=ke.exp=function(){return HM(this)};ke.naturalLogarithm=ke.ln=function(){return Kc(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UM(t,e):GM(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Oa+e);if(t=qt(i)+1,r=i.d.length-1,n=r*At+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ke.squareRoot=ke.sqrt=function(){var e,t,n,r,i,o,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Br+"NaN")}for(e=qt(l),Tt=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=bi(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=il((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(o=r,r=o.plus(Gi(l,o,s+2)).times(.5),bi(o.d).slice(0,s)===(t=bi(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(yt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(t!="9999")break;s+=4}return Tt=!0,yt(r,n)};ke.times=ke.mul=function(e){var t,n,r,i,o,s,l,u,d,f=this,p=f.constructor,m=f.d,g=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,n=f.e+e.e,u=m.length,d=g.length,u<d&&(o=m,m=g,g=o,s=u,u=d,d=s),o=[],s=u+d,r=s;r--;)o.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)l=o[i]+g[r]*m[i-r-1]+t,o[i--]=l%un|0,t=l/un|0;o[i]=(o[i]+t)%un|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Tt?yt(e,p.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ni(e,0,rl),t===void 0?t=r.rounding:Ni(t,0,8),yt(n,e+qt(n)+1,t))};ke.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=La(r,!0):(Ni(e,0,rl),t===void 0?t=i.rounding:Ni(t,0,8),r=yt(new i(r),e+1,t),n=La(r,!0,e+1)),n};ke.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?La(i):(Ni(e,0,rl),t===void 0?t=o.rounding:Ni(t,0,8),r=yt(new o(i),e+qt(i)+1,t),n=La(r.abs(),!1,e+qt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return yt(new t(e),qt(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,n,r,i,o,s,l=this,u=l.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(dr);if(l=new u(l),!l.s){if(e.s<1)throw Error(Br+"Infinity");return l}if(l.eq(dr))return l;if(r=u.precision,e.eq(dr))return yt(l,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=l.s,s){if((n=f<0?-f:f)<=VM){for(i=new u(dr),t=Math.ceil(r/At+4),Tt=!1;n%2&&(i=i.times(l),WE(i.d,t)),n=il(n/2),n!==0;)l=l.times(l),WE(l.d,t);return Tt=!0,e.s<0?new u(dr).div(i):yt(i,r)}}else if(o<0)throw Error(Br+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Tt=!1,i=e.times(Kc(l,r+d)),Tt=!0,i=HM(i),i.s=o,i};ke.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=qt(i),r=La(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ni(e,1,rl),t===void 0?t=o.rounding:Ni(t,0,8),i=yt(new o(i),e,t),n=qt(i),r=La(i,e<=n||n<=o.toExpNeg,e)),r};ke.toSignificantDigits=ke.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ni(e,1,rl),t===void 0?t=r.rounding:Ni(t,0,8)),yt(new r(n),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=qt(e),n=e.constructor;return La(e,t<=n.toExpNeg||t>=n.toExpPos)};function UM(e,t){var n,r,i,o,s,l,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Tt?yt(t,p):t;if(u=e.d,d=t.d,s=e.e,i=t.e,u=u.slice(),o=s-i,o){for(o<0?(r=u,o=-o,l=d.length):(r=d,i=s,l=u.length),s=Math.ceil(p/At),l=s>l?s+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=u.length,o=d.length,l-o<0&&(o=l,r=d,d=u,u=r),n=0;o;)n=(u[--o]=u[o]+d[o]+n)/un|0,u[o]%=un;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,Tt?yt(t,p):t}function Ni(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Oa+e)}function bi(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=At-r.length,n&&(o+=To(n)),o+=r;s=e[t],r=s+"",n=At-r.length,n&&(o+=To(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Gi=(function(){function e(r,i){var o,s=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+s,r[l]=o%un|0,s=o/un|0;return s&&r.unshift(s),r}function t(r,i,o,s){var l,u;if(o!=s)u=o>s?1:-1;else for(l=u=0;l<o;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*un+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var l,u,d,f,p,m,g,x,w,b,C,k,E,N,j,O,T,D,B=r.constructor,X=r.s==i.s?1:-1,G=r.d,F=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(Br+"Division by zero");for(u=r.e-i.e,T=F.length,j=G.length,g=new B(X),x=g.d=[],d=0;F[d]==(G[d]||0);)++d;if(F[d]>(G[d]||0)&&--u,o==null?k=o=B.precision:s?k=o+(qt(r)-qt(i))+1:k=o,k<0)return new B(0);if(k=k/At+2|0,d=0,T==1)for(f=0,F=F[0],k++;(d<j||f)&&k--;d++)E=f*un+(G[d]||0),x[d]=E/F|0,f=E%F|0;else{for(f=un/(F[0]+1)|0,f>1&&(F=e(F,f),G=e(G,f),T=F.length,j=G.length),N=T,w=G.slice(0,T),b=w.length;b<T;)w[b++]=0;D=F.slice(),D.unshift(0),O=F[0],F[1]>=un/2&&++O;do f=0,l=t(F,w,T,b),l<0?(C=w[0],T!=b&&(C=C*un+(w[1]||0)),f=C/O|0,f>1?(f>=un&&(f=un-1),p=e(F,f),m=p.length,b=w.length,l=t(p,w,m,b),l==1&&(f--,n(p,T<m?D:F,m))):(f==0&&(l=f=1),p=F.slice()),m=p.length,m<b&&p.unshift(0),n(w,p,b),l==-1&&(b=w.length,l=t(F,w,T,b),l<1&&(f++,n(w,T<b?D:F,b))),b=w.length):l===0&&(f++,w=[0]),x[d++]=f,l&&w[0]?w[b++]=G[N]||0:(w=[G[N]],b=1);while((N++<j||w[0]!==void 0)&&k--)}return x[0]||x.shift(),g.e=u,yt(g,s?o+qt(g)+1:o)}})();function HM(e,t){var n,r,i,o,s,l,u=0,d=0,f=e.constructor,p=f.precision;if(qt(e)>16)throw Error(Xb+qt(e));if(!e.s)return new f(dr);for(Tt=!1,l=p,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(r=Math.log(ya(2,d))/Math.LN10*2+5|0,l+=r,n=i=o=new f(dr),f.precision=l;;){if(i=yt(i.times(e),l),n=n.times(++u),s=o.plus(Gi(i,n,l)),bi(s.d).slice(0,l)===bi(o.d).slice(0,l)){for(;d--;)o=yt(o.times(o),l);return f.precision=p,t==null?(Tt=!0,yt(o,p)):o}o=s}}function qt(e){for(var t=e.e*At,n=e.d[0];n>=10;n/=10)t++;return t}function cy(e,t,n){if(t>e.LN10.sd())throw Tt=!0,n&&(e.precision=n),Error(Br+"LN10 precision limit exceeded");return yt(new e(e.LN10),t)}function To(e){for(var t="";e--;)t+="0";return t}function Kc(e,t){var n,r,i,o,s,l,u,d,f,p=1,m=10,g=e,x=g.d,w=g.constructor,b=w.precision;if(g.s<1)throw Error(Br+(g.s?"NaN":"-Infinity"));if(g.eq(dr))return new w(0);if(t==null?(Tt=!1,d=b):d=t,g.eq(10))return t==null&&(Tt=!0),cy(w,d);if(d+=m,w.precision=d,n=bi(x),r=n.charAt(0),o=qt(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=bi(g.d),r=n.charAt(0),p++;o=qt(g),r>1?(g=new w("0."+n),o++):g=new w(r+"."+n.slice(1))}else return u=cy(w,d+2,b).times(o+""),g=Kc(new w(r+"."+n.slice(1)),d-m).plus(u),w.precision=b,t==null?(Tt=!0,yt(g,b)):g;for(l=s=g=Gi(g.minus(dr),g.plus(dr),d),f=yt(g.times(g),d),i=3;;){if(s=yt(s.times(f),d),u=l.plus(Gi(s,new w(i),d)),bi(u.d).slice(0,d)===bi(l.d).slice(0,d))return l=l.times(2),o!==0&&(l=l.plus(cy(w,d+2,b).times(o+""))),l=Gi(l,new w(p),d),w.precision=b,t==null?(Tt=!0,yt(l,b)):l;l=u,i+=2}}function zE(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=il(n/At),e.d=[],r=(n+1)%At,n<0&&(r+=At),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=At;r<i;)e.d.push(+t.slice(r,r+=At));t=t.slice(r),r=At-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Tt&&(e.e>vp||e.e<-vp))throw Error(Xb+n)}else e.s=0,e.e=0,e.d=[0];return e}function yt(e,t,n){var r,i,o,s,l,u,d,f,p=e.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=At,i=t,d=p[f=0];else{if(f=Math.ceil((r+1)/At),o=p.length,f>=o)return e;for(d=o=p[f],s=1;o>=10;o/=10)s++;r%=At,i=r-At+s}if(n!==void 0&&(o=ya(10,s-i-1),l=d/o%10|0,u=t<0||p[f+1]!==void 0||d%o,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/ya(10,s-i):0:p[f-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(o=qt(e),p.length=1,t=t-o-1,p[0]=ya(10,(At-t%At)%At),e.e=il(-t/At)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=f,o=1,f--):(p.length=f+1,o=ya(10,At-r),p[f]=i>0?(d/ya(10,s-i)%ya(10,i)|0)*o:0),u)for(;;)if(f==0){(p[0]+=o)==un&&(p[0]=1,++e.e);break}else{if(p[f]+=o,p[f]!=un)break;p[f--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Tt&&(e.e>vp||e.e<-vp))throw Error(Xb+qt(e));return e}function GM(e,t){var n,r,i,o,s,l,u,d,f,p,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Tt?yt(t,g):t;if(u=e.d,p=t.d,r=t.e,d=e.e,u=u.slice(),s=d-r,s){for(f=s<0,f?(n=u,s=-s,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(g/At),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){f=u[i]<p[i];break}s=0}for(f&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>s;){if(u[--i]<p[i]){for(o=i;o&&u[--o]===0;)u[o]=un-1;--u[o],u[i]+=un}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,Tt?yt(t,g):t):new m(0)}function La(e,t,n){var r,i=qt(e),o=bi(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+To(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+To(-i-1)+o,n&&(r=n-s)>0&&(o+=To(r))):i>=s?(o+=To(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+To(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=To(r))),e.s<0?"-"+o:o}function WE(e,t){if(e.length>t)return e.length=t,!0}function KM(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Oa+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return zE(s,o.toString())}else if(typeof o!="string")throw Error(Oa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,iJ.test(o))zE(s,o);else throw Error(Oa+o)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=KM,i.config=i.set=oJ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function oJ(e){if(!e||typeof e!="object")throw Error(Br+"Object expected");var t,n,r,i=["precision",1,rl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(il(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Oa+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Oa+n+": "+r);return this}var Zb=KM(rJ);dr=new Zb(1);const ft=Zb;function YM(e){var t;return e===0?t=1:t=Math.floor(new ft(e).abs().log(10).toNumber())+1,t}function qM(e,t,n){for(var r=new ft(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var XM=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},ZM=(e,t,n)=>{if(e.lte(0))return new ft(0);var r=YM(e.toNumber()),i=new ft(10).pow(r),o=e.div(i),s=r!==1?.05:.1,l=new ft(Math.ceil(o.div(s).toNumber())).add(n).mul(s),u=l.mul(i);return t?new ft(u.toNumber()):new ft(Math.ceil(u.toNumber()))},aJ=(e,t,n)=>{var r=new ft(1),i=new ft(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new ft(10).pow(YM(e)-1),i=new ft(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ft(Math.floor(e)))}else e===0?i=new ft(Math.floor((t-1)/2)):n||(i=new ft(Math.floor(e)));for(var s=Math.floor((t-1)/2),l=[],u=0;u<t;u++)l.push(i.add(new ft(u-s).mul(r)).toNumber());return l},QM=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var s=ZM(new ft(n).sub(t).div(r-1),i,o),l;t<=0&&n>=0?l=new ft(0):(l=new ft(t).add(n).div(2),l=l.sub(new ft(l).mod(s)));var u=Math.ceil(l.sub(t).div(s).toNumber()),d=Math.ceil(new ft(n).sub(l).div(s).toNumber()),f=u+d+1;return f>r?QM(t,n,r,i,o+1):(f<r&&(d=n>0?d+(r-f):d,u=n>0?u:u+(r-f)),{step:s,tickMin:l.sub(new ft(u).mul(s)),tickMax:l.add(new ft(d).mul(s))})},sJ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[l,u]=XM([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return n>r?d.reverse():d}if(l===u)return aJ(l,i,o);var{step:f,tickMin:p,tickMax:m}=QM(l,u,s,o,0),g=qM(p,m.add(new ft(.1).mul(f)),f);return n>r?g.reverse():g},lJ=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=XM([r,i]);if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var u=Math.max(n,2),d=ZM(new ft(l).sub(s).div(u-1),o,0),f=[...qM(new ft(s),new ft(l),d),l];return o===!1&&(f=f.map(p=>Math.round(p))),r>i?f.reverse():f},cJ=e=>e.rootProps.barCategoryGap,bh=e=>e.rootProps.stackOffset,JM=e=>e.rootProps.reverseStackOrder,Qb=e=>e.options.chartName,Jb=e=>e.rootProps.syncId,eI=e=>e.rootProps.syncMethod,e1=e=>e.options.eventEmitter,uJ=e=>e.rootProps.baseValue,Hn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},fa={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},mi={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},wh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Sh(e,t,n){if(n!=="auto")return n;if(e!=null)return Oi(e,t)?"category":"number"}function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(r){dJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dJ(e,t,n){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UE={allowDataOverflow:fa.allowDataOverflow,allowDecimals:fa.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:fa.angleAxisId,includeHidden:!1,name:void 0,reversed:fa.reversed,scale:fa.scale,tick:fa.tick,tickCount:void 0,ticks:void 0,type:fa.type,unit:void 0},HE={allowDataOverflow:mi.allowDataOverflow,allowDecimals:mi.allowDecimals,allowDuplicatedCategory:mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mi.radiusAxisId,includeHidden:mi.includeHidden,name:void 0,reversed:mi.reversed,scale:mi.scale,tick:mi.tick,tickCount:mi.tickCount,ticks:void 0,type:mi.type,unit:void 0},hJ=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},t1=te([hJ,UD],(e,t)=>{var n;if(e!=null)return e;var r=(n=Sh(t,"angleAxis",UE.type))!==null&&n!==void 0?n:"category";return yp(yp({},UE),{},{type:r})}),mJ=(e,t)=>e.polarAxis.radiusAxis[t],n1=te([mJ,UD],(e,t)=>{var n;if(e!=null)return e;var r=(n=Sh(t,"radiusAxis",HE.type))!==null&&n!==void 0?n:"category";return yp(yp({},HE),{},{type:r})}),Ph=e=>e.polarOptions,r1=te([no,ro,Nn],dX),tI=te([Ph,r1],(e,t)=>{if(e!=null)return Go(e.innerRadius,t,0)}),nI=te([Ph,r1],(e,t)=>{if(e!=null)return Go(e.outerRadius,t,t*.8)}),gJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},rI=te([Ph],gJ);te([t1,rI],wh);var iI=te([r1,tI,nI],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});te([n1,iI],wh);var oI=te([Dt,Ph,tI,nI,no,ro],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:l,startAngle:u,endAngle:d}=t;return{cx:Go(s,i,i/2),cy:Go(l,o,o/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),mn=(e,t)=>t,Ch=(e,t,n)=>n;function i1(e){return e?.id}function aI(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var f=i1(l);d.forEach((p,m)=>{var g=o==null||i?m:String(En(p,o,null)),x=En(p,l.dataKey,0),w;s.has(g)?w=s.get(g):w={},Object.assign(w,{[f]:x}),s.set(g,w)})}}),Array.from(s.values())}function o1(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ah=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function kh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function vJ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var gn=e=>{var t=Dt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ol=e=>e.tooltip.settings.axisId;function yJ(e){if(e in dc)return dc[e]();var t="scale".concat(fb(e));if(t in dc)return dc[t]()}function GE(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(o){function s(){return o.apply(this,arguments)}return s.toString=function(){return o.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var s=i[0],l=i[1];return s<=l?o>=s&&o<=l:o>=l&&o<=s},bandwidth:n?()=>n.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,s)=>{var l=e(o);if(l!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var u=e.bandwidth();switch(s.position){case"middle":l+=u/2;break;case"end":l+=u;break}}return l}}}}function KE(e,t,n){if(typeof e=="function")return GE(e.copy().domain(t).range(n));if(e!=null){var r=yJ(e);if(r!=null)return r.domain(t).range(n),GE(r)}}var xJ=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ji(t)){for(var n,r,i=0;i<t.length;i++){var o=t[i];Qe(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function YE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(n),!0).forEach(function(r){bJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bJ(e,t,n){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wJ(e){var t=SJ(e,"string");return typeof t=="symbol"?t:t+""}function SJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L0=[0,"auto"],sn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},sI=(e,t)=>e.cartesianAxis.xAxis[t],ao=(e,t)=>{var n=sI(e,t);return n??sn},ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:L0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cu},lI=(e,t)=>e.cartesianAxis.yAxis[t],so=(e,t)=>{var n=lI(e,t);return n??ln},PJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},a1=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??PJ},Kn=(e,t,n)=>{switch(t){case"xAxis":return ao(e,n);case"yAxis":return so(e,n);case"zAxis":return a1(e,n);case"angleAxis":return t1(e,n);case"radiusAxis":return n1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},CJ=(e,t,n)=>{switch(t){case"xAxis":return ao(e,n);case"yAxis":return so(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},vu=(e,t,n)=>{switch(t){case"xAxis":return ao(e,n);case"yAxis":return so(e,n);case"angleAxis":return t1(e,n);case"radiusAxis":return n1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},cI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function uI(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var dI=e=>e.graphicalItems.cartesianItems,AJ=te([mn,Ch],uI),fI=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),yu=te([dI,Kn,AJ],fI,{memoizeOptions:{resultEqualityCheck:kh}}),pI=te([yu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(o1)),hI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),kJ=te([yu],hI),mI=e=>e.map(t=>t.data).filter(Boolean).flat(1),EJ=te([yu],mI,{memoizeOptions:{resultEqualityCheck:kh}}),gI=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},s1=te([EJ,zM],gI),vI=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:En(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:En(i,r)}))):e.map(r=>({value:r})),Eh=te([s1,Kn,yu],vI);function yI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function yf(e){if(ki(e)||e instanceof Date){var t=Number(e);if(Qe(t))return t}}function qE(e){if(Array.isArray(e)){var t=[yf(e[0]),yf(e[1])];return Ji(t)?t:void 0}var n=yf(e);if(n!=null)return[n,n]}function eo(e){return e.map(yf).filter(er)}function NJ(e,t,n){return!n||typeof t!="number"||Ai(t)?[]:n.length?eo(n.flatMap(r=>{var i=En(e,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!Qe(o)||!Qe(s)))return[t-o,t+s]})):[]}var nn=e=>{var t=gn(e),n=ol(e);return vu(e,t,n)},xu=te([nn],e=>e?.dataKey),OJ=te([pI,zM,nn],aI),xI=(e,t,n,r)=>{var i={},o=t.reduce((s,l)=>{if(l.stackId==null)return s;var u=s[l.stackId];return u==null&&(u=[]),u.push(l),s[l.stackId]=u,s},i);return Object.fromEntries(Object.entries(o).map(s=>{var[l,u]=s,d=r?[...u].reverse():u,f=d.map(i1);return[l,{stackedData:eY(e,f,n),graphicalItems:d}]}))},bI=te([OJ,pI,bh,JM],xI),wI=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var s=iY(e,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},jJ=te([Kn],e=>e.allowDataOverflow),l1=e=>{var t;if(e==null||!("domain"in e))return L0;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=eo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:L0},SI=te([Kn],l1),PI=te([SI,jJ],WM),_J=te([bI,oo,mn,PI],wI,{memoizeOptions:{resultEqualityCheck:Ah}}),c1=e=>e.errorBars,TJ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>yI(n,r)),bp=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),l=Math.max(...o);return[s,l]}},CI=(e,t,n,r,i)=>{var o,s;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var d,f,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(C=>yI(i,C)),m=En(l,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),g=NJ(l,m,p);if(g.length>=2){var x=Math.min(...g),w=Math.max(...g);(o==null||x<o)&&(o=x),(s==null||w>s)&&(s=w)}var b=qE(m);b!=null&&(o=o==null?b[0]:Math.min(o,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=qE(En(l,t.dataKey));u!=null&&(o=o==null?u[0]:Math.min(o,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),Qe(o)&&Qe(s))return[o,s]},DJ=te([s1,Kn,kJ,c1,mn],CI,{memoizeOptions:{resultEqualityCheck:Ah}});function MJ(e){var{value:t}=e;if(ki(t)||t instanceof Date)return t}var IJ=(e,t,n)=>{var r=e.map(MJ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&HT(r))?aM(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},AI=e=>e.referenceElements.dots,al=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),RJ=te([AI,mn,Ch],al),kI=e=>e.referenceElements.areas,LJ=te([kI,mn,Ch],al),EI=e=>e.referenceElements.lines,FJ=te([EI,mn,Ch],al),NI=(e,t)=>{if(e!=null){var n=eo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},$J=te(RJ,mn,NI),OI=(e,t)=>{if(e!=null){var n=eo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},BJ=te([LJ,mn],OI);function zJ(e){var t;if(e.x!=null)return eo([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:eo(n)}function WJ(e){var t;if(e.y!=null)return eo([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:eo(n)}var jI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?zJ(r):WJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VJ=te([FJ,mn],jI),UJ=te($J,VJ,BJ,(e,t,n)=>bp(e,n,t)),_I=(e,t,n,r,i,o,s,l)=>{if(n!=null)return n;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",d=u?bp(r,o,i):bp(o,i);return nJ(t,d,e.allowDataOverflow)},HJ=te([Kn,SI,PI,_J,DJ,UJ,Dt,mn],_I,{memoizeOptions:{resultEqualityCheck:Ah}}),GJ=[0,1],TI=(e,t,n,r,i,o,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:u}=e,d=Oi(t,o);if(d&&l==null){var f;return aM(0,(f=n?.length)!==null&&f!==void 0?f:0)}return u==="category"?IJ(r,e,d):i==="expand"?GJ:s}},u1=te([Kn,Dt,s1,Eh,bh,mn,HJ],TI);function KJ(e){return e in dc}var DI=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(fb(r));return KJ(o)?o:"point"}}},sl=te([Kn,cI,Qb],DI);function d1(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?KE(e.scale,n,r):KE(t,n,r)}var MI=(e,t,n)=>{var r=l1(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ji(e))return sJ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ji(e))return lJ(e,t.tickCount,t.allowDecimals)}},f1=te([u1,vu,sl],MI),II=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Ji(t)&&Array.isArray(n)&&n.length>0){var i,o,s=t[0],l=(i=n[0])!==null&&i!==void 0?i:0,u=t[1],d=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(s,l),Math.max(u,d)]}return t},YJ=te([Kn,u1,f1,mn],II),qJ=te(Eh,Kn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(eo(e.map(p=>p.value))).sort((p,m)=>p-m),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var s=o-i;if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var u=r[l],d=r[l+1];if(!(u==null||d==null)){var f=d-u;n=Math.min(n,f)}}return n/s}}),RI=te(qJ,Dt,cJ,Nn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Qe(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var s=Go(n,e*o),l=e*o/2;return l-s-(l-s)/o*s}return 0}),XJ=(e,t,n)=>{var r=ao(e,t);return r==null||typeof r.padding!="string"?0:RI(e,"xAxis",t,n,r.padding)},ZJ=(e,t,n)=>{var r=so(e,t);return r==null||typeof r.padding!="string"?0:RI(e,"yAxis",t,n,r.padding)},QJ=te(ao,XJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),JJ=te(so,ZJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),eee=te([Nn,QJ,ch,lh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),tee=te([Nn,Dt,JJ,ch,lh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return eee(e,n,r);case"yAxis":return tee(e,n,r);case"zAxis":return(i=a1(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return rI(e);case"radiusAxis":return iI(e,n);default:return}},LI=te([Kn,bu],wh),nee=te([sl,YJ],xJ),Nh=te([Kn,sl,nee,LI],d1);te([yu,c1,mn],TJ);function FI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Oh=(e,t)=>t,jh=(e,t,n)=>n,ree=te(ah,Oh,jh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(FI)),iee=te(sh,Oh,jh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(FI)),$I=(e,t)=>({width:e.width,height:t.height}),oee=(e,t)=>{var n=typeof t.width=="number"?t.width:cu;return{width:n,height:e.height}},aee=te(Nn,ao,$I),see=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},lee=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},cee=te(ro,Nn,ree,Oh,jh,(e,t,n,r,i)=>{var o={},s;return n.forEach(l=>{var u=$I(t,l);s==null&&(s=see(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;o[l.id]=s-Number(d)*u.height,s+=(d?-1:1)*u.height}),o}),uee=te(no,Nn,iee,Oh,jh,(e,t,n,r,i)=>{var o={},s;return n.forEach(l=>{var u=oee(t,l);s==null&&(s=lee(t,r,e));var d=r==="left"&&!i||r==="right"&&i;o[l.id]=s-Number(d)*u.width,s+=(d?-1:1)*u.width}),o}),dee=(e,t)=>{var n=ao(e,t);if(n!=null)return cee(e,n.orientation,n.mirror)},fee=te([Nn,ao,dee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),pee=(e,t)=>{var n=so(e,t);if(n!=null)return uee(e,n.orientation,n.mirror)},hee=te([Nn,so,pee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),mee=te(Nn,so,(e,t)=>{var n=typeof t.width=="number"?t.width:cu;return{width:n,height:e.height}}),BI=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,l=Oi(e,r),u=t.map(d=>d.value);if(s&&l&&o==="category"&&i&&HT(u))return u}},p1=te([Dt,Eh,Kn,mn],BI),zI=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=Oi(e,r);if(s&&(i==="number"||o!=="auto"))return t.map(l=>l.value)}},h1=te([Dt,Eh,vu,mn],zI),XE=te([Dt,CJ,sl,Nh,p1,h1,bu,f1,mn],(e,t,n,r,i,o,s,l,u)=>{if(t!=null){var d=Oi(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:l,range:s,realScaleType:n,scale:r}}}),gee=(e,t,n,r,i,o,s,l,u)=>{if(!(t==null||r==null)){var d=Oi(e,u),{type:f,ticks:p,tickCount:m}=t,g=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/g:0;x=u==="angleAxis"&&o!=null&&o.length>=2?Ir(o[0]-o[1])*2*x:x;var w=p||i;return w?w.map((b,C)=>{var k=s?s.indexOf(b):b,E=r.map(k);return Qe(E)?{index:C,coordinate:E+x,value:b,offset:x}:null}).filter(er):d&&l?l.map((b,C)=>{var k=r.map(b);return Qe(k)?{coordinate:k+x,value:b,index:C,offset:x}:null}).filter(er):r.ticks?r.ticks(m).map((b,C)=>{var k=r.map(b);return Qe(k)?{coordinate:k+x,value:b,index:C,offset:x}:null}).filter(er):r.domain().map((b,C)=>{var k=r.map(b);return Qe(k)?{coordinate:k+x,value:s?s[b]:b,index:C,offset:x}:null}).filter(er)}},WI=te([Dt,vu,sl,Nh,f1,bu,p1,h1,mn],gee),vee=(e,t,n,r,i,o,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=Oi(e,s),{tickCount:u}=t,d=0;return d=s==="angleAxis"&&r?.length>=2?Ir(r[0]-r[1])*2*d:d,l&&o?o.map((f,p)=>{var m=n.map(f);return Qe(m)?{coordinate:m+d,value:f,index:p,offset:d}:null}).filter(er):n.ticks?n.ticks(u).map((f,p)=>{var m=n.map(f);return Qe(m)?{coordinate:m+d,value:f,index:p,offset:d}:null}).filter(er):n.domain().map((f,p)=>{var m=n.map(f);return Qe(m)?{coordinate:m+d,value:i?i[f]:f,index:p,offset:d}:null}).filter(er)}},VI=te([Dt,vu,Nh,bu,p1,h1,mn],vee),UI=te(Kn,Nh,(e,t)=>{if(!(e==null||t==null))return xp(xp({},e),{},{scale:t})}),yee=te([Kn,sl,u1,LI],d1);te((e,t,n)=>a1(e,n),yee,(e,t)=>{if(!(e==null||t==null))return xp(xp({},e),{},{scale:t})});var xee=te([Dt,ah,sh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),HI=e=>e.options.defaultTooltipEventType,GI=e=>e.options.validateTooltipEventTypes;function KI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function m1(e,t){var n=HI(e),r=GI(e);return KI(t,n,r)}function bee(e){return Fe(t=>m1(t,e))}var YI=(e,t)=>{var n,r=Number(t);if(!(Ai(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},wee=e=>e.tooltip.settings,Mo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},See={itemInteraction:{click:Mo,hover:Mo},axisInteraction:{click:Mo,hover:Mo},keyboardInteraction:Mo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},qI=nr({name:"tooltip",initialState:See,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:_t()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ti(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:_t()},removeTooltipEntrySettings:{reducer(e,t){var n=ti(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:_t()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Pee,replaceTooltipEntrySettings:Cee,removeTooltipEntrySettings:Aee,setTooltipSettingsState:kee,setActiveMouseOverItemIndex:Eee,mouseLeaveItem:Ole,mouseLeaveChart:XI,setActiveClickItemIndex:jle,setMouseOverAxisIndex:ZI,setMouseClickAxisIndex:Nee,setSyncInteraction:F0,setKeyboardInteraction:$0}=qI.actions,Oee=qI.reducer;function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(n),!0).forEach(function(r){jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jee(e,t,n){return(t=_ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ee(e){var t=Tee(e,"string");return typeof t=="symbol"?t:t+""}function Tee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dee(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Mee(e){return e.index!=null}var QI=(e,t,n,r)=>{if(t==null)return Mo;var i=Dee(e,t,n);if(i==null)return Mo;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Mee(i)){if(o)return rf(rf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return rf(rf({},Mo),{},{coordinate:i.coordinate})};function Iee(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Ree(e,t){var n=Iee(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),s=Math.max(r,i);return n>=o&&n<=s}function Lee(e,t,n){if(n==null||t==null)return!0;var r=En(e,t);return r==null||!Ji(n)?!0:Ree(r,n)}var g1=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var o=Number(i);if(!Qe(o))return i;var s=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(s,Math.min(o,l)),d=t[u];return d==null||Lee(d,n,r)?String(u):null},JI=(e,t,n,r,i,o,s)=>{if(o!=null){var l=s[0],u=l?.getPosition(o);if(u!=null)return u;var d=i?.[Number(o)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:d.coordinate}}},eR=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},tR=e=>e.options.tooltipPayloadSearcher,ll=e=>e.tooltip;function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(n),!0).forEach(function(r){Fee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fee(e,t,n){return(t=$ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zee(e,t){return e??t}var nR=(e,t,n,r,i,o,s)=>{if(!(t==null||o==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=n,p=[];return e.reduce((m,g)=>{var x,{dataDefinedOnItem:w,settings:b}=g,C=zee(w,l),k=Array.isArray(C)?TD(C,d,f):C,E=(x=b?.dataKey)!==null&&x!==void 0?x:r,N=b?.nameKey,j;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&s==="axis"?j=GT(k,r,i):j=o(k,t,u,N),Array.isArray(j))j.forEach(T=>{var D=JE(JE({},b),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});m.push(ek({tooltipEntrySettings:D,dataKey:T.dataKey,payload:T.payload,value:En(T.payload,T.dataKey),name:T.name}))});else{var O;m.push(ek({tooltipEntrySettings:b,dataKey:E,payload:j,value:En(j,E),name:(O=En(j,N))!==null&&O!==void 0?O:b?.name}))}return m},p)}},v1=te([nn,cI,Qb],DI),Wee=te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Vee=te([gn,ol],uI),cl=te([Wee,nn,Vee],fI,{memoizeOptions:{resultEqualityCheck:kh}}),Uee=te([cl],e=>e.filter(o1)),Hee=te([cl],mI,{memoizeOptions:{resultEqualityCheck:kh}}),ul=te([Hee,oo],gI),Gee=te([Uee,oo,nn],aI),y1=te([ul,nn,cl],vI),rR=te([nn],l1),Kee=te([nn],e=>e.allowDataOverflow),iR=te([rR,Kee],WM),Yee=te([cl],e=>e.filter(o1)),qee=te([Gee,Yee,bh,JM],xI),Xee=te([qee,oo,gn,iR],wI),Zee=te([cl],hI),Qee=te([ul,nn,Zee,c1,gn],CI,{memoizeOptions:{resultEqualityCheck:Ah}}),Jee=te([AI,gn,ol],al),ete=te([Jee,gn],NI),tte=te([kI,gn,ol],al),nte=te([tte,gn],OI),rte=te([EI,gn,ol],al),ite=te([rte,gn],jI),ote=te([ete,ite,nte],bp),ate=te([nn,rR,iR,Xee,Qee,ote,Dt,gn],_I),wu=te([nn,Dt,ul,y1,bh,gn,ate],TI),ste=te([wu,nn,v1],MI),lte=te([nn,wu,ste,gn],II),oR=e=>{var t=gn(e),n=ol(e),r=!1;return bu(e,t,n,r)},aR=te([nn,oR],wh),sR=te([nn,v1,lte,aR],d1),cte=te([Dt,y1,nn,gn],BI),ute=te([Dt,y1,nn,gn],zI),dte=(e,t,n,r,i,o,s,l)=>{if(t){var{type:u}=t,d=Oi(e,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?Ir(i[0]-i[1])*2*p:p,d&&s?s.map((m,g)=>{var x=r.map(m);return Qe(x)?{coordinate:x+p,value:m,index:g,offset:p}:null}).filter(er):r.domain().map((m,g)=>{var x=r.map(m);return Qe(x)?{coordinate:x+p,value:o?o[m]:m,index:g,offset:p}:null}).filter(er)}}},lo=te([Dt,nn,v1,sR,oR,cte,ute,gn],dte),x1=te([HI,GI,wee],(e,t,n)=>KI(n.shared,e,t)),lR=e=>e.tooltip.settings.trigger,b1=e=>e.tooltip.settings.defaultIndex,Su=te([ll,x1,lR,b1],QI),Yc=te([Su,ul,xu,wu],g1),cR=te([lo,Yc],YI),fte=te([Su],e=>{if(e)return e.dataKey});te([Su],e=>{if(e)return e.graphicalItemId});var uR=te([ll,x1,lR,b1],eR),pte=te([no,ro,Dt,Nn,lo,b1,uR],JI),hte=te([Su,pte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),mte=te([Su],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),gte=te([uR,Yc,oo,xu,cR,tR,x1],nR),vte=te([gte],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(r){yte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yte(e,t,n){return(t=xte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xte(e){var t=bte(e,"string");return typeof t=="symbol"?t:t+""}function bte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wte=()=>Fe(nn),Ste=()=>{var e=wte(),t=Fe(lo),n=Fe(sR);return Zf(!e||!n?void 0:tN(tN({},e),{},{scale:n}),t)};function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){Pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pte(e,t,n){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=Ate(e,"string");return typeof t=="symbol"?t:t+""}function Ate(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kte=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Ete=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:s}=r;return gs(gs(gs({},r),kn(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,{angle:u}=r;return gs(gs(gs({},r),kn(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Nte(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var dR=(e,t,n,r,i)=>{var o,s=(o=t?.length)!==null&&o!==void 0?o:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u,d,f,p,m,g=l>0?(u=n[l-1])===null||u===void 0?void 0:u.coordinate:(d=n[s-1])===null||d===void 0?void 0:d.coordinate,x=(f=n[l])===null||f===void 0?void 0:f.coordinate,w=l>=s-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(m=n[l+1])===null||m===void 0?void 0:m.coordinate,b=void 0;if(!(g==null||x==null||w==null))if(Ir(x-g)!==Ir(w-x)){var C=[];if(Ir(w-x)===Ir(i[1]-i[0])){b=w;var k=x+i[1]-i[0];C[0]=Math.min(k,(k+g)/2),C[1]=Math.max(k,(k+g)/2)}else{b=g;var E=w+i[1]-i[0];C[0]=Math.min(x,(E+x)/2),C[1]=Math.max(x,(E+x)/2)}var N=[Math.min(x,(b+x)/2),Math.max(x,(b+x)/2)];if(e>N[0]&&e<=N[1]||e>=C[0]&&e<=C[1]){var j;return(j=n[l])===null||j===void 0?void 0:j.index}}else{var O=Math.min(g,w),T=Math.max(g,w);if(e>(O+x)/2&&e<=(T+x)/2){var D;return(D=n[l])===null||D===void 0?void 0:D.index}}}else if(t)for(var B=0;B<s;B++){var X=t[B];if(X!=null){var G=t[B+1],F=t[B-1];if(B===0&&G!=null&&e<=(X.coordinate+G.coordinate)/2||B===s-1&&F!=null&&e>(X.coordinate+F.coordinate)/2||B>0&&B<s-1&&F!=null&&G!=null&&e>(X.coordinate+F.coordinate)/2&&e<=(X.coordinate+G.coordinate)/2)return X.index}}return-1},fR=()=>Fe(Qb),w1=(e,t)=>t,pR=(e,t,n)=>n,S1=(e,t,n,r)=>r,Ote=te(lo,e=>Xp(e,t=>t.coordinate)),P1=te([ll,w1,pR,S1],QI),C1=te([P1,ul,xu,wu],g1),jte=(e,t,n)=>{if(t!=null){var r=ll(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},hR=te([ll,w1,pR,S1],eR),wp=te([no,ro,Dt,Nn,lo,S1,hR],JI),_te=te([P1,wp],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),mR=te([lo,C1],YI),Tte=te([hR,C1,oo,xu,mR,tR,w1],nR),Dte=te([P1,C1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Mte=(e,t,n,r,i,o,s)=>{if(!(!e||!n||!r||!i)&&Nte(e,s)){var l=oY(e,t),u=dR(l,o,i,n,r),d=kte(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},Ite=(e,t,n,r,i,o,s)=>{if(!(!e||!r||!i||!o||!n)){var l=gX(e,n);if(l){var u=aY(l,t),d=dR(u,s,o,r,i),f=Ete(t,o,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},Rte=(e,t,n,r,i,o,s,l)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?Mte(e,t,r,i,o,s,l):Ite(e,t,n,r,i,o,s)},Lte=te(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),Fte=te(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Hn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:vJ}});function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(n),!0).forEach(function(r){$te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $te(e,t,n){return(t=Bte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bte(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wte={},Vte={zIndexMap:Object.values(Hn).reduce((e,t)=>iN(iN({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Wte)},Ute=new Set(Object.values(Hn));function Hte(e){return Ute.has(e)}var gR=nr({name:"zIndex",initialState:Vte,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:_t()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Hte(n)&&delete e.zIndexMap[n])},prepare:_t()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:_t()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:_t()}}}),{registerZIndexPortal:Gte,unregisterZIndexPortal:Kte,registerZIndexPortalElement:Yte,unregisterZIndexPortalElement:qte}=gR.actions,Xte=gR.reducer;function co(e){var{zIndex:t,children:n}=e,r=$Y(),i=r&&t!==void 0&&t!==0,o=rr(),s=pn();S.useLayoutEffect(()=>i?(s(Gte({zIndex:t})),()=>{s(Kte({zIndex:t}))}):el,[s,t,i]);var l=Fe(u=>Lte(u,t,o));return i?l?ru.createPortal(n,l):null:n}function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0.apply(null,arguments)}function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function of(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(r){Zte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zte(e,t,n){return(t=Qte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qte(e){var t=Jte(e,"string");return typeof t=="symbol"?t:t+""}function Jte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ene(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return S.isValidElement(t)?S.cloneElement(t,r):S.createElement(n,r)}function tne(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:d,chartName:f}=e,p=n,m=r,g=i;if(!u||!p||f!=="ScatterChart"&&d!=="axis")return null;var x,w,b;if(f==="ScatterChart")x=p,w=Eq,b=Hn.cursorLine;else if(f==="BarChart")x=Nq(l,p,o,s),w=aX,b=Hn.cursorRectangle;else if(l==="radial"&&KT(p)){var{cx:C,cy:k,radius:E,startAngle:N,endAngle:j}=iM(p);x={cx:C,cy:k,startAngle:N,endAngle:j,innerRadius:E,outerRadius:E},w=bX,b=Hn.cursorLine}else x={points:wX(l,p,o)},w=vf,b=Hn.cursorLine;var O=typeof u=="object"&&"className"in u?u.className:void 0,T=of(of(of(of({stroke:"#ccc",pointerEvents:"none"},o),x),Gp(u)),{},{payload:m,payloadIndex:g,className:Et("recharts-tooltip-cursor",O)});return S.createElement(co,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},S.createElement(ene,{cursor:u,cursorComp:w,cursorProps:T}))}function nne(e){var t=Ste(),n=zD(),r=tl(),i=fR();return t==null||n==null||r==null||i==null?null:S.createElement(tne,B0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var vR=S.createContext(null),rne=()=>S.useContext(vR),uy={exports:{}},aN;function ine(){return aN||(aN=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function o(u,d,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,p||u,m),x=n?n+d:d;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],g]:u._events[x].push(g):(u._events[x]=g,u._eventsCount++),u}function s(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)t.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,g=p.length,x=new Array(g);m<g;m++)x[m]=p[m].fn;return x},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,m,g,x){var w=n?n+d:d;if(!this._events[w])return!1;var b=this._events[w],C=arguments.length,k,E;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),C){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,m),!0;case 5:return b.fn.call(b.context,f,p,m,g),!0;case 6:return b.fn.call(b.context,f,p,m,g,x),!0}for(E=1,k=new Array(C-1);E<C;E++)k[E-1]=arguments[E];b.fn.apply(b.context,k)}else{var N=b.length,j;for(E=0;E<N;E++)switch(b[E].once&&this.removeListener(d,b[E].fn,void 0,!0),C){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,f);break;case 3:b[E].fn.call(b[E].context,f,p);break;case 4:b[E].fn.call(b[E].context,f,p,m);break;default:if(!k)for(j=1,k=new Array(C-1);j<C;j++)k[j-1]=arguments[j];b[E].fn.apply(b[E].context,k)}}return!0},l.prototype.on=function(d,f,p){return o(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return o(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,m){var g=n?n+d:d;if(!this._events[g])return this;if(!f)return s(this,g),this;var x=this._events[g];if(x.fn)x.fn===f&&(!m||x.once)&&(!p||x.context===p)&&s(this,g);else{for(var w=0,b=[],C=x.length;w<C;w++)(x[w].fn!==f||m&&!x[w].once||p&&x[w].context!==p)&&b.push(x[w]);b.length?this._events[g]=b.length===1?b[0]:b:s(this,g)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(uy)),uy.exports}var one=ine();const ane=to(one);var qc=new ane,z0="recharts.syncEvent.tooltip",sN="recharts.syncEvent.brush",sne=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!Ai(n))return e[n]}},lne={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},yR=nr({name:"options",initialState:lne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cne=yR.reducer,{createEventEmitter:une}=yR.actions;function dne(e){return e.tooltip.syncInteraction}var fne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},xR=nr({name:"chartData",initialState:fne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:lN,setDataStartEndIndexes:pne,setComputedData:_le}=xR.actions,hne=xR.reducer,mne=["x","y"];function cN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(n),!0).forEach(function(r){gne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gne(e,t,n){return(t=vne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vne(e){var t=yne(e,"string");return typeof t=="symbol"?t:t+""}function yne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xne(e,t){if(e==null)return{};var n,r,i=bne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wne(){var e=Fe(Jb),t=Fe(e1),n=pn(),r=Fe(eI),i=Fe(lo),o=tl(),s=uh(),l=Fe(u=>u.rootProps.className);S.useEffect(()=>{if(e==null)return el;var u=(d,f,p)=>{if(t!==p&&e===d){if(r==="index"){var m;if(s&&f!==null&&f!==void 0&&(m=f.payload)!==null&&m!==void 0&&m.coordinate&&f.payload.sourceViewBox){var g=f.payload.coordinate,{x,y:w}=g,b=xne(g,mne),{x:C,y:k,width:E,height:N}=f.payload.sourceViewBox,j=vs(vs({},b),{},{x:s.x+(E?(x-C)/E:0)*s.width,y:s.y+(N?(w-k)/N:0)*s.height});n(vs(vs({},f),{},{payload:vs(vs({},f.payload),{},{coordinate:j})}))}else n(f);return}if(i!=null){var O;if(typeof r=="function"){var T={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},D=r(i,T);O=i[D]}else r==="value"&&(O=i.find(Se=>String(Se.value)===f.payload.label));var{coordinate:B}=f.payload;if(O==null||f.payload.active===!1||B==null||s==null){n(F0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:X,y:G}=B,F=Math.min(X,s.x+s.width),W=Math.min(G,s.y+s.height),de={x:o==="horizontal"?O.coordinate:F,y:o==="horizontal"?W:O.coordinate},ce=F0({active:f.payload.active,coordinate:de,dataKey:f.payload.dataKey,index:String(O.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(ce)}}};return qc.on(z0,u),()=>{qc.off(z0,u)}},[l,n,t,e,r,i,o,s])}function Sne(){var e=Fe(Jb),t=Fe(e1),n=pn();S.useEffect(()=>{if(e==null)return el;var r=(i,o,s)=>{t!==s&&e===i&&n(pne(o))};return qc.on(sN,r),()=>{qc.off(sN,r)}},[n,t,e])}function Pne(){var e=pn();S.useEffect(()=>{e(une())},[e]),wne(),Sne()}function Cne(e,t,n,r,i,o){var s=Fe(g=>jte(g,e,t)),l=Fe(e1),u=Fe(Jb),d=Fe(eI),f=Fe(dne),p=f?.active,m=uh();S.useEffect(()=>{if(!p&&u!=null&&l!=null){var g=F0({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});qc.emit(z0,u,g,l)}},[p,n,s,i,r,l,u,d,o,m])}function uN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(n),!0).forEach(function(r){Ane(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ane(e,t,n){return(t=kne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kne(e){var t=Ene(e,"string");return typeof t=="symbol"?t:t+""}function Ene(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nne(e){return e.dataKey}function One(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(aq,t)}var fN=[],jne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function _ne(e){var t,n,r=br(e,jne),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:l,content:u,filterNull:d,isAnimationActive:f,offset:p,payloadUniqBy:m,position:g,reverseDirection:x,useTranslate3d:w,wrapperStyle:b,cursor:C,shared:k,trigger:E,defaultIndex:N,portal:j,axisId:O}=r,T=pn(),D=typeof N=="number"?String(N):N;S.useEffect(()=>{T(kee({shared:k,trigger:E,axisId:O,active:i,defaultIndex:D}))},[T,k,E,O,i,D]);var B=uh(),X=QD(),G=bee(k),{activeIndex:F,isActive:W}=(t=Fe(re=>Dte(re,G,E,D)))!==null&&t!==void 0?t:{},de=Fe(re=>Tte(re,G,E,D)),ce=Fe(re=>mR(re,G,E,D)),Se=Fe(re=>_te(re,G,E,D)),ee=de,K=rne(),ie=(n=i??W)!==null&&n!==void 0?n:!1,[ne,R]=XG([ee,ie]),$=G==="axis"?ce:void 0;Cne(G,E,Se,$,F,ie);var oe=j??K;if(oe==null||B==null||G==null)return null;var fe=ee??fN;ie||(fe=fN),d&&fe.length&&(fe=SG(fe.filter(re=>re.value!=null&&(re.hide!==!0||r.includeHidden)),m,Nne));var ue=fe.length>0,ve=S.createElement(pq,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:f,active:ie,coordinate:Se,hasPayload:ue,offset:p,position:g,reverseDirection:x,useTranslate3d:w,viewBox:B,wrapperStyle:b,lastBoundingBox:ne,innerRef:R,hasPortalFromProps:!!j},One(u,dN(dN({},r),{},{payload:fe,label:$,active:ie,activeIndex:F,coordinate:Se,accessibilityLayer:X})));return S.createElement(S.Fragment,null,ru.createPortal(ve,oe),ie&&S.createElement(nne,{cursor:C,tooltipEventType:G,coordinate:Se,payload:fe,index:F}))}function Tne(e,t,n){return(t=Dne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dne(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ine{constructor(t){Tne(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(n),!0).forEach(function(r){Lne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lne(e,t,n){return(t=Fne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fne(e){var t=$ne(e,"string");return typeof t=="symbol"?t:t+""}function $ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bne={cacheSize:2e3,enableCache:!0},bR=Rne({},Bne),hN=new Ine(bR.cacheSize),zne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mN="recharts_measurement_span";function Wne(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(l)}var gN=(e,t)=>{try{var n=document.getElementById(mN);n||(n=document.createElement("span"),n.setAttribute("id",mN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zne,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},bc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fu.isSsr)return{width:0,height:0};if(!bR.enableCache)return gN(t,n);var r=Wne(t,n),i=hN.get(r);if(i)return i;var o=gN(t,n);return hN.set(r,o),o},wR;function Vne(e,t,n){return(t=Une(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Une(e){var t=Hne(e,"string");return typeof t=="symbol"?t:t+""}function Hne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Kne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Yne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qne=["cm","mm","pt","pc","in","Q","px"];function Xne(e){return qne.includes(e)}var Es="NaN";function Zne(e,t){return e*Yne[t]}class Cn{static parse(t){var n,[,r,i]=(n=Kne.exec(t))!==null&&n!==void 0?n:[];return r==null?Cn.NaN:new Cn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ai(t)&&(this.unit=""),n!==""&&!Gne.test(n)&&(this.num=NaN,this.unit=""),Xne(n)&&(this.num=Zne(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Cn(NaN,""):new Cn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Cn(NaN,""):new Cn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Cn(NaN,""):new Cn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Cn(NaN,""):new Cn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ai(this.num)}}wR=Cn;Vne(Cn,"NaN",new wR(NaN,""));function SR(e){if(e==null||e.includes(Es))return Es;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=vN.exec(t))!==null&&n!==void 0?n:[],s=Cn.parse(r??""),l=Cn.parse(o??""),u=i==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return Es;t=t.replace(vN,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,p,m]=(d=yN.exec(t))!==null&&d!==void 0?d:[],g=Cn.parse(f??""),x=Cn.parse(m??""),w=p==="+"?g.add(x):g.subtract(x);if(w.isNaN())return Es;t=t.replace(yN,w.toString())}return t}var xN=/\(([^()]*)\)/;function Qne(e){for(var t=e,n;(n=xN.exec(t))!=null;){var[,r]=n;t=t.replace(xN,SR(r))}return t}function Jne(e){var t=e.replace(/\s+/g,"");return t=Qne(t),t=SR(t),t}function ere(e){try{return Jne(e)}catch{return Es}}function dy(e){var t=ere(e.slice(5,-1));return t===Es?"":t}var tre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nre=["dx","dy","angle","className","breakAll"];function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W0.apply(null,arguments)}function bN(e,t){if(e==null)return{};var n,r,i=rre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var PR=/[ \f\n\r\t\v\u2028\u2029]+/,CR=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];$n(t)||(n?i=t.toString().split(""):i=t.toString().split(PR));var o=i.map(l=>({word:l,width:bc(l,r).width})),s=n?0:bc("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}};function ire(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var AR=(e,t,n,r)=>e.reduce((i,o)=>{var{word:s,width:l}=o,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(s),u.width+=l+n;else{var d={words:[s],width:l};i.push(d)}return i},[]),kR=e=>e.reduce((t,n)=>t.width>n.width?t:n),ore="",wN=(e,t,n,r,i,o,s,l)=>{var u=e.slice(0,t),d=CR({breakAll:n,style:r,children:u+ore});if(!d)return[!1,[]];var f=AR(d.wordsWithComputedWidth,o,s,l),p=f.length>i||kR(f).width>Number(o);return[p,f]},are=(e,t,n,r,i)=>{var{maxLines:o,children:s,style:l,breakAll:u}=e,d=Te(o),f=String(s),p=AR(t,r,n,i);if(!d||i)return p;var m=p.length>o||kR(p).width>Number(r);if(!m)return p;for(var g=0,x=f.length-1,w=0,b;g<=x&&w<=f.length-1;){var C=Math.floor((g+x)/2),k=C-1,[E,N]=wN(f,k,u,l,o,r,n,i),[j]=wN(f,C,u,l,o,r,n,i);if(!E&&!j&&(g=C+1),E&&j&&(x=C-1),!E&&j){b=N;break}w++}return b||p},SN=e=>{var t=$n(e)?[]:e.toString().split(PR);return[{words:t,width:void 0}]},sre=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=e;if((t||n)&&!fu.isSsr){var l,u,d=CR({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;l=f,u=p}else return SN(r);return are({breakAll:o,children:r,maxLines:s,style:i},l,u,t,!!n)}return SN(r)},ER="#808080",lre={angle:0,breakAll:!1,capHeight:"0.71em",fill:ER,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},A1=S.forwardRef((e,t)=>{var n=br(e,lre),{x:r,y:i,lineHeight:o,capHeight:s,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:f}=n,p=bN(n,tre),m=S.useMemo(()=>sre({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:g,dy:x,angle:w,className:b,breakAll:C}=p,k=bN(p,nre);if(!ki(r)||!ki(i)||m.length===0)return null;var E=Number(r)+(Te(g)?g:0),N=Number(i)+(Te(x)?x:0);if(!Qe(E)||!Qe(N))return null;var j;switch(f){case"start":j=dy("calc(".concat(s,")"));break;case"middle":j=dy("calc(".concat((m.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:j=dy("calc(".concat(m.length-1," * -").concat(o,")"));break}var O=[],T=m[0];if(u&&T!=null){var D=T.width,{width:B}=p;O.push("scale(".concat(Te(B)&&Te(D)?B/D:1,")"))}return w&&O.push("rotate(".concat(w,", ").concat(E,", ").concat(N,")")),O.length&&(k.transform=O.join(" ")),S.createElement("text",W0({},Fr(k),{ref:t,x:E,y:N,className:Et("recharts-text",b),textAnchor:d,fill:l.includes("url")?ER:l}),m.map((X,G)=>{var F=X.words.join(C?"":" ");return S.createElement("tspan",{x:E,dy:G===0?j:o,key:"".concat(F,"-").concat(G)},F)}))});A1.displayName="Text";function PN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(n),!0).forEach(function(r){cre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cre(e,t,n){return(t=ure(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ure(e){var t=dre(e,"string");return typeof t=="symbol"?t:t+""}function dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fre=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:o,y:s,height:l,upperWidth:u,lowerWidth:d}=Pb(t),f=o,p=o+(u-d)/2,m=(f+p)/2,g=(u+d)/2,x=f+u/2,w=l>=0?1:-1,b=w*r,C=w>0?"end":"start",k=w>0?"start":"end",E=u>=0?1:-1,N=E*r,j=E>0?"end":"start",O=E>0?"start":"end",T=i;if(n==="top"){var D={x:f+u/2,y:s-b,horizontalAnchor:"middle",verticalAnchor:C};return T&&(D.height=Math.max(s-T.y,0),D.width=u),D}if(n==="bottom"){var B={x:p+d/2,y:s+l+b,horizontalAnchor:"middle",verticalAnchor:k};return T&&(B.height=Math.max(T.y+T.height-(s+l),0),B.width=d),B}if(n==="left"){var X={x:m-N,y:s+l/2,horizontalAnchor:j,verticalAnchor:"middle"};return T&&(X.width=Math.max(X.x-T.x,0),X.height=l),X}if(n==="right"){var G={x:m+g+N,y:s+l/2,horizontalAnchor:O,verticalAnchor:"middle"};return T&&(G.width=Math.max(T.x+T.width-G.x,0),G.height=l),G}var F=T?{width:g,height:l}:{};return n==="insideLeft"?gi({x:m+N,y:s+l/2,horizontalAnchor:O,verticalAnchor:"middle"},F):n==="insideRight"?gi({x:m+g-N,y:s+l/2,horizontalAnchor:j,verticalAnchor:"middle"},F):n==="insideTop"?gi({x:f+u/2,y:s+b,horizontalAnchor:"middle",verticalAnchor:k},F):n==="insideBottom"?gi({x:p+d/2,y:s+l-b,horizontalAnchor:"middle",verticalAnchor:C},F):n==="insideTopLeft"?gi({x:f+N,y:s+b,horizontalAnchor:O,verticalAnchor:k},F):n==="insideTopRight"?gi({x:f+u-N,y:s+b,horizontalAnchor:j,verticalAnchor:k},F):n==="insideBottomLeft"?gi({x:p+N,y:s+l-b,horizontalAnchor:O,verticalAnchor:C},F):n==="insideBottomRight"?gi({x:p+d-N,y:s+l-b,horizontalAnchor:j,verticalAnchor:C},F):n&&typeof n=="object"&&(Te(n.x)||Da(n.x))&&(Te(n.y)||Da(n.y))?gi({x:o+Go(n.x,g),y:s+Go(n.y,l),horizontalAnchor:"end",verticalAnchor:"end"},F):gi({x,y:s+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},F)},pre=["labelRef"],hre=["content"];function CN(e,t){if(e==null)return{};var n,r,i=mre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(n),!0).forEach(function(r){gre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gre(e,t,n){return(t=vre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vre(e){var t=yre(e,"string");return typeof t=="symbol"?t:t+""}function yre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zi.apply(null,arguments)}var NR=S.createContext(null),xre=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s,children:l}=e,u=S.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s}),[t,n,r,i,o,s]);return S.createElement(NR.Provider,{value:u},l)},OR=()=>{var e=S.useContext(NR),t=uh();return e||(t?Pb(t):void 0)},bre=S.createContext(null),wre=()=>{var e=S.useContext(bre),t=Fe(oI);return e||t},Sre=e=>{var{value:t,formatter:n}=e,r=$n(e.children)?t:e.children;return typeof n=="function"?n(r):r},k1=e=>e!=null&&typeof e=="function",Pre=(e,t)=>{var n=Ir(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Cre=(e,t,n,r,i)=>{var{offset:o,className:s}=e,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=i,x=(d+f)/2,w=Pre(p,m),b=w>=0?1:-1,C,k;switch(t){case"insideStart":C=p+b*o,k=g;break;case"insideEnd":C=m-b*o,k=!g;break;case"end":C=m+b*o,k=g;break;default:throw new Error("Unsupported position ".concat(t))}k=w<=0?k:!k;var E=kn(l,u,x,C),N=kn(l,u,x,C+(k?1:-1)*359),j="M".concat(E.x,",").concat(E.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(N.x,",").concat(N.y),O=$n(e.id)?Ic("recharts-radial-line-"):e.id;return S.createElement("text",zi({},r,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",s)}),S.createElement("defs",null,S.createElement("path",{id:O,d:j})),S.createElement("textPath",{xlinkHref:"#".concat(O)},n))},Are=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(n==="outside"){var{x:f,y:p}=kn(r,i,s+t,d);return{x:f,y:p,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(o+s)/2,{x:g,y:x}=kn(r,i,m,d);return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},xf=e=>e!=null&&"cx"in e&&Te(e.cx),kre={angle:0,offset:5,zIndex:Hn.label,position:"middle",textBreakAll:!1};function Ere(e){if(!xf(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Do(e){var t=br(e,kre),{viewBox:n,parentViewBox:r,position:i,value:o,children:s,content:l,className:u="",textBreakAll:d,labelRef:f}=t,p=wre(),m=OR(),g=i==="center"?m:p??m,x,w,b;n==null?x=g:xf(n)?x=n:x=Pb(n);var C=Ere(x);if(!x||$n(o)&&$n(s)&&!S.isValidElement(l)&&typeof l!="function")return null;var k=fc(fc({},t),{},{viewBox:x});if(S.isValidElement(l)){var{labelRef:E}=k,N=CN(k,pre);return S.cloneElement(l,N)}if(typeof l=="function"){var{content:j}=k,O=CN(k,hre);if(w=S.createElement(l,O),S.isValidElement(w))return w}else w=Sre(t);var T=Fr(t);if(xf(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Cre(t,i,w,T,x);b=Are(x,t.offset,t.position)}else{if(!C)return null;var D=fre({viewBox:C,position:i,offset:t.offset,parentViewBox:xf(r)?void 0:r});b=fc(fc({x:D.x,y:D.y,textAnchor:D.horizontalAnchor,verticalAnchor:D.verticalAnchor},D.width!==void 0?{width:D.width}:{}),D.height!==void 0?{height:D.height}:{})}return S.createElement(co,{zIndex:t.zIndex},S.createElement(A1,zi({ref:f,className:Et("recharts-label",u)},T,b,{textAnchor:ire(T.textAnchor)?T.textAnchor:b.textAnchor,breakAll:d}),w))}Do.displayName="Label";var Nre=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?S.createElement(Do,zi({key:"label-implicit"},r)):ki(e)?S.createElement(Do,zi({key:"label-implicit",value:e},r)):S.isValidElement(e)?e.type===Do?S.cloneElement(e,fc({key:"label-implicit"},r)):S.createElement(Do,zi({key:"label-implicit",content:e},r)):k1(e)?S.createElement(Do,zi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?S.createElement(Do,zi({},e,{key:"label-implicit"},r)):null};function Ore(e){var{label:t,labelRef:n}=e,r=OR();return Nre(t,r,n)||null}var fy={},py={},kN;function jre(){return kN||(kN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(py)),py}var hy={},EN;function _re(){return EN||(EN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(hy)),hy}var NN;function Tre(){return NN||(NN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jre(),n=_re(),r=hb();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(fy)),fy}var my,ON;function Dre(){return ON||(ON=1,my=Tre().last),my}var Mre=Dre();const Ire=to(Mre);var Rre=["valueAccessor"],Lre=["dataKey","clockWise","id","textBreakAll","zIndex"];function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sp.apply(null,arguments)}function jN(e,t){if(e==null)return{};var n,r,i=Fre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $re=e=>Array.isArray(e.value)?Ire(e.value):e.value,jR=S.createContext(void 0),Bre=jR.Provider,_R=S.createContext(void 0);_R.Provider;function zre(){return S.useContext(jR)}function Wre(){return S.useContext(_R)}function bf(e){var{valueAccessor:t=$re}=e,n=jN(e,Rre),{dataKey:r,clockWise:i,id:o,textBreakAll:s,zIndex:l}=n,u=jN(n,Lre),d=zre(),f=Wre(),p=d||f;return!p||!p.length?null:S.createElement(co,{zIndex:l??Hn.label},S.createElement(Ci,{className:"recharts-label-list"},p.map((m,g)=>{var x,w=$n(r)?t(m,g):En(m.payload,r),b=$n(o)?{}:{id:"".concat(o,"-").concat(g)};return S.createElement(Do,Sp({key:"label-".concat(g)},Fr(m),u,b,{fill:(x=n.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:w,textBreakAll:s,viewBox:m.viewBox,index:g,zIndex:0}))})))}bf.displayName="LabelList";function Vre(e){var{label:t}=e;return t?t===!0?S.createElement(bf,{key:"labelList-implicit"}):S.isValidElement(t)||k1(t)?S.createElement(bf,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(bf,Sp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V0.apply(null,arguments)}var TR=e=>{var{cx:t,cy:n,r,className:i}=e,o=Et("recharts-dot",i);return Te(t)&&Te(n)&&Te(r)?S.createElement("circle",V0({},ri(e),pb(e),{className:o,cx:t,cy:n,r})):null},Ure={radiusAxis:{},angleAxis:{}},DR=nr({name:"polarAxis",initialState:Ure,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Tle,removeRadiusAxis:Dle,addAngleAxis:Mle,removeAngleAxis:Ile}=DR.actions,Hre=DR.reducer;function Gre(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var gy={exports:{}},gt={};var _N;function Kre(){if(_N)return gt;_N=1;var e=60103,t=60106,n=60107,r=60108,i=60114,o=60109,s=60110,l=60112,u=60113,d=60120,f=60115,p=60116,m=60121,g=60122,x=60117,w=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;e=C("react.element"),t=C("react.portal"),n=C("react.fragment"),r=C("react.strict_mode"),i=C("react.profiler"),o=C("react.provider"),s=C("react.context"),l=C("react.forward_ref"),u=C("react.suspense"),d=C("react.suspense_list"),f=C("react.memo"),p=C("react.lazy"),m=C("react.block"),g=C("react.server.block"),x=C("react.fundamental"),w=C("react.debug_trace_mode"),b=C("react.legacy_hidden")}function k(W){if(typeof W=="object"&&W!==null){var de=W.$$typeof;switch(de){case e:switch(W=W.type,W){case n:case i:case r:case u:case d:return W;default:switch(W=W&&W.$$typeof,W){case s:case l:case p:case f:case o:return W;default:return de}}case t:return de}}}var E=o,N=e,j=l,O=n,T=p,D=f,B=t,X=i,G=r,F=u;return gt.ContextConsumer=s,gt.ContextProvider=E,gt.Element=N,gt.ForwardRef=j,gt.Fragment=O,gt.Lazy=T,gt.Memo=D,gt.Portal=B,gt.Profiler=X,gt.StrictMode=G,gt.Suspense=F,gt.isAsyncMode=function(){return!1},gt.isConcurrentMode=function(){return!1},gt.isContextConsumer=function(W){return k(W)===s},gt.isContextProvider=function(W){return k(W)===o},gt.isElement=function(W){return typeof W=="object"&&W!==null&&W.$$typeof===e},gt.isForwardRef=function(W){return k(W)===l},gt.isFragment=function(W){return k(W)===n},gt.isLazy=function(W){return k(W)===p},gt.isMemo=function(W){return k(W)===f},gt.isPortal=function(W){return k(W)===t},gt.isProfiler=function(W){return k(W)===i},gt.isStrictMode=function(W){return k(W)===r},gt.isSuspense=function(W){return k(W)===u},gt.isValidElementType=function(W){return typeof W=="string"||typeof W=="function"||W===n||W===i||W===w||W===r||W===u||W===d||W===b||typeof W=="object"&&W!==null&&(W.$$typeof===p||W.$$typeof===f||W.$$typeof===o||W.$$typeof===s||W.$$typeof===l||W.$$typeof===x||W.$$typeof===m||W[0]===g)},gt.typeOf=k,gt}var TN;function Yre(){return TN||(TN=1,gy.exports=Kre()),gy.exports}Yre();var MR=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function qre(e){var{tooltipEntrySettings:t}=e,n=pn(),r=rr(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(Pee(t)):i.current!==t&&n(Cee({prev:i.current,next:t})),i.current=t)},[t,n,r]),S.useLayoutEffect(()=>()=>{i.current&&(n(Aee(i.current)),i.current=null)},[n]),null}function Xre(e){var{legendPayload:t}=e,n=pn(),r=rr(),i=S.useRef(null);return S.useLayoutEffect(()=>{r||(i.current===null?n(QY(t)):i.current!==t&&n(JY({prev:i.current,next:t})),i.current=t)},[n,r,t]),S.useLayoutEffect(()=>()=>{i.current&&(n(eq(i.current)),i.current=null)},[n]),null}var vy,Zre=()=>{var[e]=S.useState(()=>Ic("uid-"));return e},Qre=(vy=m3.useId)!==null&&vy!==void 0?vy:Zre;function Jre(e,t){var n=Qre();return t||(e?"".concat(e,"-").concat(n):n)}var eie=S.createContext(void 0),tie=e=>{var{id:t,type:n,children:r}=e,i=Jre("recharts-".concat(n),t);return S.createElement(eie.Provider,{value:i},r(i))},nie={cartesianItems:[],polarItems:[]},IR=nr({name:"graphicalItems",initialState:nie,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:_t()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ti(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:_t()},removeCartesianGraphicalItem:{reducer(e,t){var n=ti(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:_t()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:_t()},removePolarGraphicalItem:{reducer(e,t){var n=ti(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:_t()}}}),{addCartesianGraphicalItem:rie,replaceCartesianGraphicalItem:iie,removeCartesianGraphicalItem:oie,addPolarGraphicalItem:Rle,removePolarGraphicalItem:Lle}=IR.actions,aie=IR.reducer,sie=e=>{var t=pn(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(rie(e)):n.current!==e&&t(iie({prev:n.current,next:e})),n.current=e},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(t(oie(n.current)),n.current=null)},[t]),null},lie=S.memo(sie),cie=["points"];function DN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(n),!0).forEach(function(r){uie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uie(e,t,n){return(t=die(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function die(e){var t=fie(e,"string");return typeof t=="symbol"?t:t+""}function fie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pp.apply(null,arguments)}function pie(e,t){if(e==null)return{};var n,r,i=hie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mie(e){var{option:t,dotProps:n,className:r}=e;if(S.isValidElement(t))return S.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Et(r,typeof t!="boolean"?t.className:""),o=n??{},{points:s}=o,l=pie(o,cie);return S.createElement(TR,Pp({},l,{className:i}))}function gie(e,t){return e==null?!1:t?!0:e.length===1}function vie(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:s,needClip:l,clipPathId:u,zIndex:d=Hn.scatter}=e;if(!gie(t,n))return null;var f=MR(n),p=mH(n),m=t.map((x,w)=>{var b,C,k=yy(yy(yy({r:3},s),p),{},{index:w,cx:(b=x.x)!==null&&b!==void 0?b:void 0,cy:(C=x.y)!==null&&C!==void 0?C:void 0,dataKey:o,value:x.value,payload:x.payload,points:t});return S.createElement(mie,{key:"dot-".concat(w),option:n,dotProps:k,className:i})}),g={};return l&&u!=null&&(g.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),S.createElement(co,{zIndex:d},S.createElement(Ci,Pp({className:r},g),m))}function MN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(n),!0).forEach(function(r){yie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yie(e,t,n){return(t=xie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xie(e){var t=bie(e,"string");return typeof t=="symbol"?t:t+""}function bie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RR=0,wie={xAxis:{},yAxis:{},zAxis:{}},LR=nr({name:"cartesianAxis",initialState:wie,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:_t()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:_t()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:_t()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:_t()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:_t()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:_t()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:_t()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:_t()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:_t()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((o=s[0])!==null&&o!==void 0?o:0))<=1)return;var l=[...s,r].slice(-3);e.yAxis[n]=IN(IN({},i),{},{width:r,widthHistory:l})}}}}),{addXAxis:Sie,replaceXAxis:Pie,removeXAxis:Cie,addYAxis:Aie,replaceYAxis:kie,removeYAxis:Eie,addZAxis:Fle,replaceZAxis:$le,removeZAxis:Ble,updateYAxisWidth:Nie}=LR.actions,Oie=LR.reducer,jie=te([Nn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),_ie=te([jie,no,ro],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),E1=()=>Fe(_ie),Tie=()=>Fe(vte);function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(n),!0).forEach(function(r){Die(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Die(e,t,n){return(t=Mie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mie(e){var t=Iie(e,"string");return typeof t=="symbol"?t:t+""}function Iie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rie=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=xy(xy(xy({},l),Gp(i)),pb(i)),d;return S.isValidElement(i)?d=S.cloneElement(i,u):typeof i=="function"?d=i(u):d=S.createElement(TR,u),S.createElement(Ci,{className:"recharts-active-dot",clipPath:s},d)};function LN(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:s=Hn.activeDot}=e,l=Fe(Yc),u=Tie();if(t==null||u==null)return null;var d=t.find(f=>u.includes(f.payload));return $n(d)?null:S.createElement(co,{zIndex:s},S.createElement(Rie,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var Lie=e=>{var{chartData:t}=e,n=pn(),r=rr();return S.useEffect(()=>r?()=>{}:(n(lN(t)),()=>{n(lN(void 0))}),[t,n,r]),null},FN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},FR=nr({name:"brush",initialState:FN,reducers:{setBrushSettings(e,t){return t.payload==null?FN:t.payload}}}),{setBrushSettings:zle}=FR.actions,Fie=FR.reducer;function $ie(e){return(e%180+180)%180}var Bie=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=$ie(i),s=o*Math.PI/180,l=Math.atan(r/n),u=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},zie={dots:[],areas:[],lines:[]},$R=nr({name:"referenceElements",initialState:zie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ti(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ti(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ti(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Wle,removeDot:Vle,addArea:Ule,removeArea:Hle,addLine:Gle,removeLine:Kle}=$R.actions,Wie=$R.reducer,Vie=S.createContext(void 0),Uie=e=>{var{children:t}=e,[n]=S.useState("".concat(Ic("recharts"),"-clip")),r=E1();if(r==null)return null;var{x:i,y:o,width:s,height:l}=r;return S.createElement(Vie.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:o,height:l,width:s}))),t)};function BR(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function Hie(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Bie(r,n)}function Gie(e,t,n){var r=n==="width",{x:i,y:o,width:s,height:l}=e;return t===1?{start:r?i:o,end:r?i+s:o+l}:{start:r?i+s:o+l,end:r?i:o}}function Xc(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Kie(e,t){return BR(e,t+1)}function Yie(e,t,n,r,i){for(var o=(r||[]).slice(),{start:s,end:l}=t,u=0,d=1,f=s,p=function(){var x=r?.[u];if(x===void 0)return{v:BR(r,d)};var w=u,b,C=()=>(b===void 0&&(b=n(x,w)),b),k=x.coordinate,E=u===0||Xc(e,k,C,f,l);E||(u=0,f=s,d+=1),E&&(f=k+e*(C()/2+i),u+=d)},m;d<=o.length;)if(m=p(),m)return m.v;return[]}function qie(e,t,n,r,i){var o=(r||[]).slice(),s=o.length;if(s===0)return[];for(var{start:l,end:u}=t,d=1;d<=s;d++){for(var f=(s-1)%d,p=l,m=!0,g=function(){var N=r[w];if(N==null)return 0;var j=w,O,T=()=>(O===void 0&&(O=n(N,j)),O),D=N.coordinate,B=w===f||Xc(e,D,T,p,u);if(!B)return m=!1,1;B&&(p=D+e*(T()/2+i))},x,w=f;w<s&&(x=g(),!(x!==0&&x===1));w+=d);if(m){for(var b=[],C=f;C<s;C+=d){var k=r[C];k!=null&&b.push(k)}return b}}return[]}function $N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(n),!0).forEach(function(r){Xie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xie(e,t,n){return(t=Zie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zie(e){var t=Qie(e,"string");return typeof t=="symbol"?t:t+""}function Qie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jie(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:l}=t,{end:u}=t,d=function(m){var g=o[m];if(g==null)return 1;var x=g,w,b=()=>(w===void 0&&(w=n(g,m)),w);if(m===s-1){var C=e*(x.coordinate+e*b()/2-u);o[m]=x=Rn(Rn({},x),{},{tickCoord:C>0?x.coordinate-C*e:x.coordinate})}else o[m]=x=Rn(Rn({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var k=Xc(e,x.tickCoord,b,l,u);k&&(u=x.tickCoord-e*(b()/2+i),o[m]=Rn(Rn({},x),{},{isShow:!0}))}},f=s-1;f>=0;f--)d(f);return o}function eoe(e,t,n,r,i,o){var s=(r||[]).slice(),l=s.length,{start:u,end:d}=t;if(o){var f=r[l-1];if(f!=null){var p=n(f,l-1),m=e*(f.coordinate+e*p/2-d);if(s[l-1]=f=Rn(Rn({},f),{},{tickCoord:m>0?f.coordinate-m*e:f.coordinate}),f.tickCoord!=null){var g=Xc(e,f.tickCoord,()=>p,u,d);g&&(d=f.tickCoord-e*(p/2+i),s[l-1]=Rn(Rn({},f),{},{isShow:!0}))}}}for(var x=o?l-1:l,w=function(k){var E=s[k];if(E==null)return 1;var N=E,j,O=()=>(j===void 0&&(j=n(E,k)),j);if(k===0){var T=e*(N.coordinate-e*O()/2-u);s[k]=N=Rn(Rn({},N),{},{tickCoord:T<0?N.coordinate-T*e:N.coordinate})}else s[k]=N=Rn(Rn({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var D=Xc(e,N.tickCoord,O,u,d);D&&(u=N.tickCoord+e*(O()/2+i),s[k]=Rn(Rn({},N),{},{isShow:!0}))}},b=0;b<x;b++)w(b);return s}function N1(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:l,interval:u,tickFormatter:d,unit:f,angle:p}=e;if(!i||!i.length||!r)return[];if(Te(u)||fu.isSsr){var m;return(m=Kie(i,Te(u)?u:0))!==null&&m!==void 0?m:[]}var g=[],x=l==="top"||l==="bottom"?"width":"height",w=f&&x==="width"?bc(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(j,O)=>{var T=typeof d=="function"?d(j.value,O):j.value;return x==="width"?Hie(bc(T,{fontSize:t,letterSpacing:n}),w,p):bc(T,{fontSize:t,letterSpacing:n})[x]},C=i[0],k=i[1],E=i.length>=2&&C!=null&&k!=null?Ir(k.coordinate-C.coordinate):1,N=Gie(o,E,x);return u==="equidistantPreserveStart"?Yie(E,N,b,i,s):u==="equidistantPreserveEnd"?qie(E,N,b,i,s):(u==="preserveStart"||u==="preserveStartEnd"?g=eoe(E,N,b,i,s,u==="preserveStartEnd"):g=Jie(E,N,b,i,s),g.filter(j=>j.isShow))}var toe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,s=0;if(t){Array.from(t).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>s&&(s=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+o,d=s+u+l+(n?r:0);return Math.round(d)}return 0},noe=["axisLine","width","height","className","hide","ticks","axisType"];function roe(e,t){if(e==null)return{};var n,r,i=ioe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ioe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(null,arguments)}function BN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(n),!0).forEach(function(r){ooe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ooe(e,t,n){return(t=aoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aoe(e){var t=soe(e,"string");return typeof t=="symbol"?t:t+""}function soe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ki={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Hn.axis};function loe(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=Wt(Wt(Wt({},u),ri(l)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!s||o==="bottom"&&s);d=Wt(Wt({},d),{},{x1:t,y1:n+f*i,x2:t+r,y2:n+f*i})}else{var p=+(o==="left"&&!s||o==="right"&&s);d=Wt(Wt({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return S.createElement("line",Fa({},d,{className:Et("recharts-cartesian-axis-line",qp(l,"className"))}))}function coe(e,t,n,r,i,o,s,l,u){var d,f,p,m,g,x,w=l?-1:1,b=e.tickSize||s,C=Te(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":d=f=e.coordinate,m=n+ +!l*i,p=m-w*b,x=p-w*u,g=C;break;case"left":p=m=e.coordinate,f=t+ +!l*r,d=f-w*b,g=d-w*u,x=C;break;case"right":p=m=e.coordinate,f=t+ +l*r,d=f+w*b,g=d+w*u,x=C;break;default:d=f=e.coordinate,m=n+ +l*i,p=m+w*b,x=p+w*u,g=C;break}return{line:{x1:d,y1:p,x2:f,y2:m},tick:{x:g,y:x}}}function uoe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function doe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function foe(e){var{option:t,tickProps:n,value:r}=e,i,o=Et(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))i=S.cloneElement(t,Wt(Wt({},n),{},{className:o}));else if(typeof t=="function")i=t(Wt(Wt({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Et(s,Gre(t))),i=S.createElement(A1,Fa({},n,{className:s}),r)}return i}var poe=S.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:s,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:p,x:m,y:g,width:x,height:w,tickSize:b,tickMargin:C,fontSize:k,letterSpacing:E,getTicksConfig:N,events:j,axisType:O}=e,T=N1(Wt(Wt({},N),{},{ticks:n}),k,E),D=uoe(f,p),B=doe(f,p),X=ri(N),G=Gp(r),F={};typeof i=="object"&&(F=i);var W=Wt(Wt({},X),{},{fill:"none"},F),de=T.map(ee=>Wt({entry:ee},coe(ee,m,g,x,w,f,b,p,C))),ce=de.map(ee=>{var{entry:K,line:ie}=ee;return S.createElement(Ci,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},i&&S.createElement("line",Fa({},W,ie,{className:Et("recharts-cartesian-axis-tick-line",qp(i,"className"))})))}),Se=de.map((ee,K)=>{var ie,ne,{entry:R,tick:$}=ee,oe=Wt(Wt(Wt(Wt({verticalAnchor:B},X),{},{textAnchor:D,stroke:"none",fill:o},$),{},{index:K,payload:R,visibleTicksCount:T.length,tickFormatter:s,padding:u},d),{},{angle:(ie=(ne=d?.angle)!==null&&ne!==void 0?ne:X.angle)!==null&&ie!==void 0?ie:0}),fe=Wt(Wt({},oe),G);return S.createElement(Ci,Fa({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},ZH(j,R,K)),r&&S.createElement(foe,{option:r,tickProps:fe,value:"".concat(typeof s=="function"?s(R.value,K):R.value).concat(l||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},Se.length>0&&S.createElement(co,{zIndex:Hn.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},Se)),ce.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},ce))}),hoe=S.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:s,ticks:l,axisType:u}=e,d=roe(e,noe),[f,p]=S.useState(""),[m,g]=S.useState(""),x=S.useRef(null);S.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return toe({ticks:x.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=S.useCallback(b=>{if(b){var C=b.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=C;var k=C[0];if(k){var E=window.getComputedStyle(k),N=E.fontSize,j=E.letterSpacing;(N!==f||j!==m)&&(p(N),g(j))}}},[f,m]);return s||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(co,{zIndex:e.zIndex},S.createElement(Ci,{className:Et("recharts-cartesian-axis",o)},S.createElement(loe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ri(e)}),S.createElement(poe,{ref:w,axisType:u,events:d,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),S.createElement(xre,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},S.createElement(Ore,{label:e.label,labelRef:e.labelRef}),e.children)))}),O1=S.forwardRef((e,t)=>{var n=br(e,Ki);return S.createElement(hoe,Fa({},n,{ref:t}))});O1.displayName="CartesianAxis";var moe=["x1","y1","x2","y2","key"],goe=["offset"],voe=["xAxisId","yAxisId"],yoe=["xAxisId","yAxisId"];function zN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(n),!0).forEach(function(r){xoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xoe(e,t,n){return(t=boe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function boe(e){var t=woe(e,"string");return typeof t=="symbol"?t:t+""}function woe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ca.apply(null,arguments)}function Cp(e,t){if(e==null)return{};var n,r,i=Soe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Soe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Poe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:l}=e;return S.createElement("rect",{x:r,y:i,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zR(e){var{option:t,lineItemProps:n}=e,r;if(S.isValidElement(t))r=S.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:s,x2:l,y2:u,key:d}=n,f=Cp(n,moe),p=(i=ri(f))!==null&&i!==void 0?i:{},{offset:m}=p,g=Cp(p,goe);r=S.createElement("line",Ca({},g,{x1:o,y1:s,x2:l,y2:u,fill:"none",key:d}))}return r}function Coe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=Cp(e,voe),u=i.map((d,f)=>{var p=Ln(Ln({},l),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(f),index:f});return S.createElement(zR,{key:"line-".concat(f),option:r,lineItemProps:p})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Aoe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=Cp(e,yoe),u=i.map((d,f)=>{var p=Ln(Ln({},l),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(f),index:f});return S.createElement(zR,{option:r,lineItemProps:p,key:"line-".concat(f)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function koe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==d[0]&&d.unshift(0);var f=d.map((p,m)=>{var g=d[m+1],x=g==null,w=x?i+s-p:g-p;if(w<=0)return null;var b=m%t.length;return S.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:w,width:o,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Eoe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==d[0]&&d.unshift(0);var f=d.map((p,m)=>{var g=d[m+1],x=g==null,w=x?i+s-p:g-p;if(w<=0)return null;var b=m%n.length;return S.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:w,height:l,stroke:"none",fill:n[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Noe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return DD(N1(Ln(Ln(Ln({},Ki),n),{},{ticks:MD(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},Ooe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return DD(N1(Ln(Ln(Ln({},Ki),n),{},{ticks:MD(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},joe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Hn.grid};function WR(e){var t=WD(),n=VD(),r=zD(),i=Ln(Ln({},br(e,joe)),{},{x:Te(e.x)?e.x:r.left,y:Te(e.y)?e.y:r.top,width:Te(e.width)?e.width:r.width,height:Te(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:s,x:l,y:u,width:d,height:f,syncWithTicks:p,horizontalValues:m,verticalValues:g}=i,x=rr(),w=Fe(B=>XE(B,"xAxis",o,x)),b=Fe(B=>XE(B,"yAxis",s,x));if(!Ei(d)||!Ei(f)||!Te(l)||!Te(u))return null;var C=i.verticalCoordinatesGenerator||Noe,k=i.horizontalCoordinatesGenerator||Ooe,{horizontalPoints:E,verticalPoints:N}=i;if((!E||!E.length)&&typeof k=="function"){var j=m&&m.length,O=k({yAxis:b?Ln(Ln({},b),{},{ticks:j?m:b.ticks}):void 0,width:t??d,height:n??f,offset:r},j?!0:p);Qf(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(E=O)}if((!N||!N.length)&&typeof C=="function"){var T=g&&g.length,D=C({xAxis:w?Ln(Ln({},w),{},{ticks:T?g:w.ticks}):void 0,width:t??d,height:n??f,offset:r},T?!0:p);Qf(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(N=D)}return S.createElement(co,{zIndex:i.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(Poe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(koe,Ca({},i,{horizontalPoints:E})),S.createElement(Eoe,Ca({},i,{verticalPoints:N})),S.createElement(Coe,Ca({},i,{offset:r,horizontalPoints:E,xAxis:w,yAxis:b})),S.createElement(Aoe,Ca({},i,{offset:r,verticalPoints:N,xAxis:w,yAxis:b}))))}WR.displayName="CartesianGrid";var _oe={},VR=nr({name:"errorBars",initialState:_oe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Yle,replaceErrorBar:qle,removeErrorBar:Xle}=VR.actions,Toe=VR.reducer;function UR(e,t){var n,r,i=Fe(d=>ao(d,e)),o=Fe(d=>so(d,t)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:sn.allowDataOverflow,l=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:ln.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function Doe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=E1(),{needClipX:o,needClipY:s,needClip:l}=UR(t,n);if(!l||!i)return null;var{x:u,y:d,width:f,height:p}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:o?u:u-f/2,y:s?d:d-p/2,width:o?f:f*2,height:s?p:p*2}))}function Moe(e){var t=Gp(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,s=Number(i),l=Number(o);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(l)||l<0)&&(l=r),{r:s,strokeWidth:l}}return{r:n,strokeWidth:r}}var Ioe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Roe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function j1(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Ioe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!df(e[r],t[r]))return!1}else if(!Roe(e[r],t[r]))return!1;return!0}function _1(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:RR}function T1(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:RR}var HR=(e,t,n)=>UI(e,"xAxis",_1(e,t),n),GR=(e,t,n)=>VI(e,"xAxis",_1(e,t),n),KR=(e,t,n)=>UI(e,"yAxis",T1(e,t),n),YR=(e,t,n)=>VI(e,"yAxis",T1(e,t),n),Loe=te([Dt,HR,KR,GR,YR],(e,t,n,r,i)=>Oi(e,"xAxis")?Zf(t,r,!1):Zf(n,i,!1)),Foe=(e,t)=>t,qR=te([dI,Foe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),XR=e=>{var t=Dt(e),n=Oi(t,"xAxis");return n?"yAxis":"xAxis"},$oe=(e,t)=>{var n=XR(e);return n==="yAxis"?T1(e,t):_1(e,t)},Boe=(e,t,n)=>bI(e,XR(e),$oe(e,t),n),zoe=te([qR,Boe],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=i1(e);if(!(r==null||i==null)){var o=(n=t[r])===null||n===void 0?void 0:n.stackedData,s=o?.find(l=>l.key===i);if(s!=null)return s.map(l=>[l[0],l[1]])}}}),Woe=te([Dt,HR,KR,GR,YR,zoe,tJ,Loe,qR,uJ],(e,t,n,r,i,o,s,l,u,d)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=s;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:g}=u,x;if(g&&g.length>0?x=g:x=f?.slice(p,m+1),x!=null)return sae({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:o,displayedData:x,chartBaseValue:d,bandSize:l})}}),Voe=["id"],Uoe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ja.apply(null,arguments)}function ZR(e,t){if(e==null)return{};var n,r,i=Hoe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ns(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(n),!0).forEach(function(r){Goe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Goe(e,t,n){return(t=Koe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Koe(e){var t=Yoe(e,"string");return typeof t=="symbol"?t:t+""}function Yoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ap(e,t){return e&&e!=="none"?e:t}var qoe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:o,hide:s}=e;return[{inactive:s,dataKey:t,type:o,color:Ap(r,i),value:ID(n,t),payload:e}]},Xoe=S.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:l,unit:u,tooltipType:d,id:f}=e,p={dataDefinedOnItem:n,getPosition:el,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:ID(s,t),hide:l,type:d,color:Ap(r,o),unit:u,graphicalItemId:f}};return S.createElement(qre,{tooltipEntrySettings:p})});function Zoe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:o,dataKey:s}=r,l=ri(r);return S.createElement(vie,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:i,clipPathId:t})}function Qoe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(o=>{var s,l,u={x:(s=o.x)!==null&&s!==void 0?s:0,y:(l=o.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ns(Ns({},u),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return S.createElement(Bre,{value:t?i:void 0},n)}function VN(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:o}=e,{layout:s,type:l,stroke:u,connectNulls:d,isRange:f}=o,{id:p}=o,m=ZR(o,Voe),g=ri(m),x=Fr(m);return S.createElement(S.Fragment,null,t?.length>1&&S.createElement(Ci,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},S.createElement(vf,ja({},x,{id:p,points:t,connectNulls:d,type:l,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&S.createElement(vf,ja({},g,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&f&&S.createElement(vf,ja({},g,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:n}))),S.createElement(Zoe,{points:t,props:m,clipPathId:i}))}function Joe(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=e,l=(t=o[0])===null||t===void 0?void 0:t.y,u=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!Qe(l)||!Qe(u))return null;var d=r*Math.abs(l-u),f=Math.max(...o.map(p=>p.x||0));return Te(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(p=>p.x||0),f)),Te(f)?S.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function eae(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=e,l=(t=o[0])===null||t===void 0?void 0:t.x,u=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!Qe(l)||!Qe(u))return null;var d=r*Math.abs(l-u),f=Math.max(...o.map(p=>p.y||0));return Te(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(p=>p.y||0),f)),Te(f)?S.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}function tae(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:o}=e;return n==="vertical"?S.createElement(Joe,{alpha:t,points:r,baseLine:i,strokeWidth:o}):S.createElement(eae,{alpha:t,points:r,baseLine:i,strokeWidth:o})}function nae(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=e,{points:s,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:p,onAnimationStart:m,onAnimationEnd:g}=r,x=S.useMemo(()=>({points:s,baseLine:l}),[s,l]),w=rM(x,"recharts-area-"),b=Cb(),[C,k]=S.useState(!1),E=!C,N=S.useCallback(()=>{typeof g=="function"&&g(),k(!1)},[g]),j=S.useCallback(()=>{typeof m=="function"&&m(),k(!0)},[m]);if(b==null)return null;var O=i.current,T=o.current;return S.createElement(Qoe,{showLabels:E,points:s},r.children,S.createElement(nM,{animationId:w,begin:d,duration:f,isActive:u,easing:p,onAnimationEnd:N,onAnimationStart:j,key:w},D=>{if(O){var B=O.length/s.length,X=D===1?s:s.map((F,W)=>{var de=Math.floor(W*B);if(O[de]){var ce=O[de];return Ns(Ns({},F),{},{x:yi(ce.x,F.x,D),y:yi(ce.y,F.y,D)})}return F}),G;return Te(l)?G=yi(T,l,D):$n(l)||Ai(l)?G=yi(T,0,D):G=l.map((F,W)=>{var de=Math.floor(W*B);if(Array.isArray(T)&&T[de]){var ce=T[de];return Ns(Ns({},F),{},{x:yi(ce.x,F.x,D),y:yi(ce.y,F.y,D)})}return F}),D>0&&(i.current=X,o.current=G),S.createElement(VN,{points:X,baseLine:G,needClip:t,clipPathId:n,props:r})}return D>0&&(i.current=s,o.current=l),S.createElement(Ci,null,u&&S.createElement("defs",null,S.createElement("clipPath",{id:"animationClipPath-".concat(n)},S.createElement(tae,{alpha:D,points:s,baseLine:l,layout:b,strokeWidth:r.strokeWidth}))),S.createElement(Ci,{clipPath:"url(#animationClipPath-".concat(n,")")},S.createElement(VN,{points:s,baseLine:l,needClip:t,clipPathId:n,props:r})))}),S.createElement(Vre,{label:r.label}))}function rae(e){var{needClip:t,clipPathId:n,props:r}=e,i=S.useRef(null),o=S.useRef();return S.createElement(nae,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class iae extends S.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:o,left:s,needClip:l,xAxisId:u,yAxisId:d,width:f,height:p,id:m,baseLine:g,zIndex:x}=this.props;if(t)return null;var w=Et("recharts-area",i),b=m,{r:C,strokeWidth:k}=Moe(n),E=MR(n),N=C*2+k,j=l?"url(#clipPath-".concat(E?"":"dots-").concat(b,")"):void 0;return S.createElement(co,{zIndex:x},S.createElement(Ci,{className:w},l&&S.createElement("defs",null,S.createElement(Doe,{clipPathId:b,xAxisId:u,yAxisId:d}),!E&&S.createElement("clipPath",{id:"clipPath-dots-".concat(b)},S.createElement("rect",{x:s-N/2,y:o-N/2,width:f+N,height:p+N}))),S.createElement(rae,{needClip:l,clipPathId:b,props:this.props})),S.createElement(LN,{points:r,mainColor:Ap(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}),this.props.isRange&&Array.isArray(g)&&S.createElement(LN,{points:g,mainColor:Ap(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}))}}var QR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Hn.area};function oae(e){var t,n=br(e,QR),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:l,dot:u,fill:d,fillOpacity:f,hide:p,isAnimationActive:m,legendType:g,stroke:x,xAxisId:w,yAxisId:b}=n,C=ZR(n,Uoe),k=tl(),E=fR(),{needClip:N}=UR(w,b),j=rr(),{points:O,isRange:T,baseLine:D}=(t=Fe(de=>Woe(de,e.id,j)))!==null&&t!==void 0?t:{},B=E1();if(k!=="horizontal"&&k!=="vertical"||B==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:X,width:G,x:F,y:W}=B;return!O||!O.length?null:S.createElement(iae,ja({},C,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,baseLine:D,connectNulls:l,dot:u,fill:d,fillOpacity:f,height:X,hide:p,layout:k,isAnimationActive:m==="auto"?!fu.isSsr:m,isRange:T,legendType:g,needClip:N,points:O,stroke:x,width:G,left:F,top:W,xAxisId:w,yAxisId:b}))}var aae=(e,t,n,r,i)=>{var o=n??t;if(Te(o))return o;var s=e==="horizontal"?i:r,l=s.scale.domain();if(s.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return o==="dataMin"?l[0]:o==="dataMax"?l[1]:l[0]};function sae(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:s,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:f,xAxisTicks:p,yAxisTicks:m,bandSize:g}=e,x=i&&i.length,w=aae(o,s,n,l,u),b=o==="horizontal",C=!1,k=d.map((N,j)=>{var O,T,D,B;if(x)B=i[f+j];else{var X=En(N,r);Array.isArray(X)?(B=X,C=!0):B=[w,X]}var G=(O=(T=B)===null||T===void 0?void 0:T[1])!==null&&O!==void 0?O:null,F=G==null||x&&!t&&En(N,r)==null;if(b){var W;return{x:ZA({axis:l,ticks:p,bandSize:g,entry:N,index:j}),y:F?null:(W=u.scale.map(G))!==null&&W!==void 0?W:null,value:B,payload:N}}return{x:F?null:(D=l.scale.map(G))!==null&&D!==void 0?D:null,y:ZA({axis:u,ticks:m,bandSize:g,entry:N,index:j}),value:B,payload:N}}),E;return x||C?E=k.map(N=>{var j,O=Array.isArray(N.value)?N.value[0]:null;if(b){var T;return{x:N.x,y:O!=null&&N.y!=null&&(T=u.scale.map(O))!==null&&T!==void 0?T:null,payload:N.payload}}return{x:O!=null&&(j=l.scale.map(O))!==null&&j!==void 0?j:null,y:N.y,payload:N.payload}}):E=b?u.scale.map(w):l.scale.map(w),{points:k,baseLine:E??0,isRange:C}}function lae(e){var t=br(e,QR),n=rr();return S.createElement(tie,{id:t.id,type:"area"},r=>S.createElement(S.Fragment,null,S.createElement(Xre,{legendPayload:qoe(t)}),S.createElement(Xoe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),S.createElement(lie,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:tY(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),S.createElement(oae,ja({},t,{id:r}))))}var JR=S.memo(lae,j1);JR.displayName="Area";var cae=["domain","range"],uae=["domain","range"];function UN(e,t){if(e==null)return{};var n,r,i=dae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HN(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function e5(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=UN(e,cae),{domain:o,range:s}=t,l=UN(t,uae);return!HN(n,o)||!HN(r,s)?!1:j1(i,l)}var fae=["type"],pae=["dangerouslySetInnerHTML","ticks","scale"],hae=["id","scale"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(null,arguments)}function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(r){mae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mae(e,t,n){return(t=gae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gae(e){var t=vae(e,"string");return typeof t=="symbol"?t:t+""}function vae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H0(e,t){if(e==null)return{};var n,r,i=yae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xae(e){var t=pn(),n=S.useRef(null),r=Cb(),{type:i}=e,o=H0(e,fae),s=Sh(r,"xAxis",i),l=S.useMemo(()=>{if(s!=null)return KN(KN({},o),{},{type:s})},[o,s]);return S.useLayoutEffect(()=>{l!=null&&(n.current===null?t(Sie(l)):n.current!==l&&t(Pie({prev:n.current,next:l})),n.current=l)},[l,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(Cie(n.current)),n.current=null)},[t]),null}var bae=e=>{var{xAxisId:t,className:n}=e,r=Fe(LD),i=rr(),o="xAxis",s=Fe(C=>WI(C,o,t,i)),l=Fe(C=>aee(C,t)),u=Fe(C=>fee(C,t)),d=Fe(C=>sI(C,t));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p,scale:m}=e,g=H0(e,pae),{id:x,scale:w}=d,b=H0(d,hae);return S.createElement(O1,U0({},g,b,{x:u.x,y:u.y,width:l.width,height:l.height,className:Et("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s,axisType:o}))},wae={allowDataOverflow:sn.allowDataOverflow,allowDecimals:sn.allowDecimals,allowDuplicatedCategory:sn.allowDuplicatedCategory,angle:sn.angle,axisLine:Ki.axisLine,height:sn.height,hide:!1,includeHidden:sn.includeHidden,interval:sn.interval,label:!1,minTickGap:sn.minTickGap,mirror:sn.mirror,orientation:sn.orientation,padding:sn.padding,reversed:sn.reversed,scale:sn.scale,tick:sn.tick,tickCount:sn.tickCount,tickLine:Ki.tickLine,tickSize:Ki.tickSize,type:sn.type,xAxisId:0},Sae=e=>{var t=br(e,wae);return S.createElement(S.Fragment,null,S.createElement(xae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),S.createElement(bae,t))},t5=S.memo(Sae,e5);t5.displayName="XAxis";var Pae=["type"],Cae=["dangerouslySetInnerHTML","ticks","scale"],Aae=["id","scale"];function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G0.apply(null,arguments)}function YN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(n),!0).forEach(function(r){kae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kae(e,t,n){return(t=Eae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eae(e){var t=Nae(e,"string");return typeof t=="symbol"?t:t+""}function Nae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K0(e,t){if(e==null)return{};var n,r,i=Oae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jae(e){var t=pn(),n=S.useRef(null),r=Cb(),{type:i}=e,o=K0(e,Pae),s=Sh(r,"yAxis",i),l=S.useMemo(()=>{if(s!=null)return qN(qN({},o),{},{type:s})},[s,o]);return S.useLayoutEffect(()=>{l!=null&&(n.current===null?t(Aie(l)):n.current!==l&&t(kie({prev:n.current,next:l})),n.current=l)},[l,t]),S.useLayoutEffect(()=>()=>{n.current&&(t(Eie(n.current)),n.current=null)},[t]),null}function _ae(e){var{yAxisId:t,className:n,width:r,label:i}=e,o=S.useRef(null),s=S.useRef(null),l=Fe(LD),u=rr(),d=pn(),f="yAxis",p=Fe(O=>mee(O,t)),m=Fe(O=>hee(O,t)),g=Fe(O=>WI(O,f,t,u)),x=Fe(O=>lI(O,t));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!p||k1(i)||S.isValidElement(i)||x==null)){var O=o.current;if(O){var T=O.getCalculatedWidth();Math.round(p.width)!==Math.round(T)&&d(Nie({id:t,width:T}))}}},[g,p,d,i,t,r,x]),p==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:w,ticks:b,scale:C}=e,k=K0(e,Cae),{id:E,scale:N}=x,j=K0(x,Aae);return S.createElement(O1,G0({},k,j,{ref:o,labelRef:s,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:Et("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:g,axisType:f}))}var Tae={allowDataOverflow:ln.allowDataOverflow,allowDecimals:ln.allowDecimals,allowDuplicatedCategory:ln.allowDuplicatedCategory,angle:ln.angle,axisLine:Ki.axisLine,hide:!1,includeHidden:ln.includeHidden,interval:ln.interval,label:!1,minTickGap:ln.minTickGap,mirror:ln.mirror,orientation:ln.orientation,padding:ln.padding,reversed:ln.reversed,scale:ln.scale,tick:ln.tick,tickCount:ln.tickCount,tickLine:Ki.tickLine,tickSize:Ki.tickSize,type:ln.type,width:ln.width,yAxisId:0},Dae=e=>{var t=br(e,Tae);return S.createElement(S.Fragment,null,S.createElement(jae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),S.createElement(_ae,t))},n5=S.memo(Dae,e5);n5.displayName="YAxis";var Mae=(e,t)=>t,D1=te([Mae,Dt,oI,gn,aR,lo,Ote,Nn],Rte),M1=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},r5=$r("mouseClick"),i5=lu();i5.startListening({actionCreator:r5,effect:(e,t)=>{var n=e.payload,r=D1(t.getState(),M1(n));r?.activeIndex!=null&&t.dispatch(Nee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Y0=$r("mouseMove"),o5=lu(),af=null;o5.startListening({actionCreator:Y0,effect:(e,t)=>{var n=e.payload;af!==null&&cancelAnimationFrame(af);var r=M1(n);af=requestAnimationFrame(()=>{var i=t.getState(),o=m1(i,i.tooltip.settings.shared);if(o==="axis"){var s=D1(i,r);s?.activeIndex!=null?t.dispatch(ZI({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(XI())}af=null})}});function Iae(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var XN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},a5=nr({name:"rootProps",initialState:XN,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:XN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Rae=a5.reducer,{updateOptions:Lae}=a5.actions,Fae=null,$ae={updatePolarOptions:(e,t)=>t.payload},s5=nr({name:"polarOptions",initialState:Fae,reducers:$ae}),{updatePolarOptions:Zle}=s5.actions,Bae=s5.reducer,l5=$r("keyDown"),c5=$r("focus"),I1=lu();I1.startListening({actionCreator:l5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=g1(i,ul(n),xu(n),wu(n)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var u=lo(n);if(o==="Enter"){var d=wp(n,"axis","hover",String(i.index));t.dispatch($0({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=xee(n),p=f==="left-to-right"?1:-1,m=o==="ArrowRight"?1:-1,g=l+m*p;if(!(u==null||g>=u.length||g<0)){var x=wp(n,"axis","hover",String(g));t.dispatch($0({active:!0,activeIndex:g.toString(),activeCoordinate:x}))}}}}}});I1.startListening({actionCreator:c5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=wp(n,"axis","hover",String(o));t.dispatch($0({active:!0,activeIndex:o,activeCoordinate:s}))}}}});var _r=$r("externalEvent"),u5=lu(),by=new Map;u5.startListening({actionCreator:_r,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=by.get(i);o!==void 0&&cancelAnimationFrame(o);var s=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:hte(l),activeDataKey:fte(l),activeIndex:Yc(l),activeLabel:cR(l),activeTooltipIndex:Yc(l),isTooltipActive:mte(l)};n(u,r)}finally{by.delete(i)}});by.set(i,s)}}});var zae=te([ll],e=>e.tooltipItemPayloads),Wae=te([zae,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),d5=$r("touchMove"),f5=lu();f5.startListening({actionCreator:d5,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=m1(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var s=D1(r,M1({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&t.dispatch(ZI({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(lY),p=(l=d.getAttribute(cY))!==null&&l!==void 0?l:void 0,m=cl(r).find(w=>w.id===p);if(f==null||m==null||p==null)return;var{dataKey:g}=m,x=Wae(r,f,p);t.dispatch(Eee({activeDataKey:g,activeIndex:f,activeCoordinate:x,activeGraphicalItemId:p}))}}}});var Vae=c_({brush:Fie,cartesianAxis:Oie,chartData:hne,errorBars:Toe,graphicalItems:aie,layout:GK,legend:tq,options:cne,polarAxis:Hre,polarOptions:Bae,referenceElements:Wie,rootProps:Rae,tooltip:Oee,zIndex:Xte}),Uae=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return vK({reducer:Vae,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([i5.middleware,o5.middleware,I1.middleware,u5.middleware,f5.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(xD({type:"raf"}))},devTools:{serialize:{replacer:Iae},name:"recharts-".concat(n)}})};function Hae(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=rr(),o=S.useRef(null);if(i)return n;o.current==null&&(o.current=Uae(t,r));var s=gb;return S.createElement(y_,{context:s,store:o.current},n)}function Gae(e){var{layout:t,margin:n}=e,r=pn(),i=rr();return S.useEffect(()=>{i||(r(VK(t)),r(WK(n)))},[r,i,t,n]),null}var Kae=S.memo(Gae,j1);function Yae(e){var t=pn();return S.useEffect(()=>{t(Lae(e))},[t,e]),null}function ZN(e){var{zIndex:t,isPanorama:n}=e,r=S.useRef(null),i=pn();return S.useLayoutEffect(()=>(r.current&&i(Yte({zIndex:t,element:r.current,isPanorama:n})),()=>{i(qte({zIndex:t,isPanorama:n}))}),[i,t,n]),S.createElement("g",{tabIndex:-1,ref:r})}function QN(e){var{children:t,isPanorama:n}=e,r=Fe(Fte);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),o=r.filter(s=>s>0);return S.createElement(S.Fragment,null,i.map(s=>S.createElement(ZN,{key:s,zIndex:s,isPanorama:n})),t,o.map(s=>S.createElement(ZN,{key:s,zIndex:s,isPanorama:n})))}var qae=["children"];function Xae(e,t){if(e==null)return{};var n,r,i=Zae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kp.apply(null,arguments)}var Qae={width:"100%",height:"100%",display:"block"},Jae=S.forwardRef((e,t)=>{var n=WD(),r=VD(),i=QD();if(!Ei(n)||!Ei(r))return null;var{children:o,otherAttributes:s,title:l,desc:u}=e,d,f;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),S.createElement(OT,kp({},s,{title:l,desc:u,role:f,tabIndex:d,width:n,height:r,style:Qae,ref:t}),o)}),ese=e=>{var{children:t}=e,n=Fe(ch);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return S.createElement(OT,{width:r,height:i,x:s,y:o},t)},JN=S.forwardRef((e,t)=>{var{children:n}=e,r=Xae(e,qae),i=rr();return i?S.createElement(ese,null,S.createElement(QN,{isPanorama:!0},n)):S.createElement(Jae,kp({ref:t},r),S.createElement(QN,{isPanorama:!1},n))});function tse(){var e=pn(),[t,n]=S.useState(null),r=Fe(sY);return S.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;Qe(o)&&o!==r&&e(HK(o))}},[t,e,r]),n}function eO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nse(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(n),!0).forEach(function(r){rse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rse(e,t,n){return(t=ise(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ise(e){var t=ose(e,"string");return typeof t=="symbol"?t:t+""}function ose(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bo.apply(null,arguments)}var ase=()=>(Pne(),null);function Ep(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var sse=S.forwardRef((e,t)=>{var n,r,i=S.useRef(null),[o,s]=S.useState({containerWidth:Ep((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Ep((r=e.style)===null||r===void 0?void 0:r.height)}),l=S.useCallback((d,f)=>{s(p=>{var m=Math.round(d),g=Math.round(f);return p.containerWidth===m&&p.containerHeight===g?p:{containerWidth:m,containerHeight:g}})},[]),u=S.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=d.getBoundingClientRect();l(f,p);var m=x=>{var w=x[0];if(w!=null){var{width:b,height:C}=w.contentRect;l(b,C)}},g=new ResizeObserver(m);g.observe(d),i.current=g}},[t,l]);return S.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),S.createElement(S.Fragment,null,S.createElement(uu,{width:o.containerWidth,height:o.containerHeight}),S.createElement("div",Bo({ref:u},e)))}),lse=S.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=S.useState({containerWidth:Ep(n),containerHeight:Ep(r)}),s=S.useCallback((u,d)=>{o(f=>{var p=Math.round(u),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=S.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();s(d,f)}},[t,s]);return S.createElement(S.Fragment,null,S.createElement(uu,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",Bo({ref:l},e)))}),cse=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return S.createElement(S.Fragment,null,S.createElement(uu,{width:n,height:r}),S.createElement("div",Bo({ref:t},e)))}),use=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?S.createElement(lse,Bo({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?S.createElement(cse,Bo({},e,{width:n,height:r,ref:t})):S.createElement(S.Fragment,null,S.createElement(uu,{width:n,height:r}),S.createElement("div",Bo({ref:t},e)))});function dse(e){return e?sse:use}var fse=S.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:m,onTouchEnd:g,onTouchMove:x,onTouchStart:w,style:b,width:C,responsive:k,dispatchTouchEvents:E=!0}=e,N=S.useRef(null),j=pn(),[O,T]=S.useState(null),[D,B]=S.useState(null),X=tse(),G=Sb(),F=G?.width>0?G.width:C,W=G?.height>0?G.height:i,de=S.useCallback(M=>{X(M),typeof t=="function"&&t(M),T(M),B(M),M!=null&&(N.current=M)},[X,t,T,B]),ce=S.useCallback(M=>{j(r5(M)),j(_r({handler:o,reactEvent:M}))},[j,o]),Se=S.useCallback(M=>{j(Y0(M)),j(_r({handler:d,reactEvent:M}))},[j,d]),ee=S.useCallback(M=>{j(XI()),j(_r({handler:f,reactEvent:M}))},[j,f]),K=S.useCallback(M=>{j(Y0(M)),j(_r({handler:p,reactEvent:M}))},[j,p]),ie=S.useCallback(()=>{j(c5())},[j]),ne=S.useCallback(M=>{j(l5(M.key))},[j]),R=S.useCallback(M=>{j(_r({handler:s,reactEvent:M}))},[j,s]),$=S.useCallback(M=>{j(_r({handler:l,reactEvent:M}))},[j,l]),oe=S.useCallback(M=>{j(_r({handler:u,reactEvent:M}))},[j,u]),fe=S.useCallback(M=>{j(_r({handler:m,reactEvent:M}))},[j,m]),ue=S.useCallback(M=>{j(_r({handler:w,reactEvent:M}))},[j,w]),ve=S.useCallback(M=>{E&&j(d5(M)),j(_r({handler:x,reactEvent:M}))},[j,E,x]),re=S.useCallback(M=>{j(_r({handler:g,reactEvent:M}))},[j,g]),U=dse(k);return S.createElement(vR.Provider,{value:O},S.createElement(SH.Provider,{value:D},S.createElement(U,{width:F??b?.width,height:W??b?.height,className:Et("recharts-wrapper",r),style:nse({position:"relative",cursor:"default",width:F,height:W},b),onClick:ce,onContextMenu:R,onDoubleClick:$,onFocus:ie,onKeyDown:ne,onMouseDown:oe,onMouseEnter:Se,onMouseLeave:ee,onMouseMove:K,onMouseUp:fe,onTouchEnd:re,onTouchMove:ve,onTouchStart:ue,ref:de},S.createElement(ase,null),n)))}),pse=["width","height","responsive","children","className","style","compact","title","desc"];function hse(e,t){if(e==null)return{};var n,r,i=mse(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gse=S.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:s,style:l,compact:u,title:d,desc:f}=e,p=hse(e,pse),m=ri(p);return u?S.createElement(S.Fragment,null,S.createElement(uu,{width:n,height:r}),S.createElement(JN,{otherAttributes:m,title:d,desc:f},o)):S.createElement(fse,{className:s,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(JN,{otherAttributes:m,title:d,desc:f,ref:t},S.createElement(Uie,null,o)))});function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q0.apply(null,arguments)}var vse={top:5,right:5,bottom:5,left:5},yse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:vse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},xse=S.forwardRef(function(t,n){var r,i=br(t.categoricalChartProps,yse),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,f={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return S.createElement(Hae,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},S.createElement(Lie,{chartData:d.data}),S.createElement(Kae,{layout:i.layout,margin:i.margin}),S.createElement(Yae,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),S.createElement(gse,q0({},i,{ref:n})))}),bse=["axis"],wse=S.forwardRef((e,t)=>S.createElement(xse,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bse,tooltipPayloadSearcher:sne,categoricalChartProps:e,ref:t}));const Sse=["AR","HR","Metallic","Beamsplitter","Specialty","Base","Custom"],Pse=["Gold","Silver","Aluminum","Enhanced Silver","Protected Gold","Protected Silver","Protected Aluminum"];function Cse(e){return e.category==="HR"&&Pse.some(t=>e.name.includes(t))?"Metallic":e.category}function Ase(e){const t=new Map;for(const n of e){const r=Cse(n);t.has(r)||t.set(r,[]),t.get(r).push(n)}for(const n of t.values())n.sort((r,i)=>r.name.localeCompare(i.name));return t}function kse(e){const t=e.trim().split(/\r?\n/).filter(u=>u.trim());if(t.length<1)return[];const n=t[0].includes("	")?"	":",",r=t[0].split(n).map(u=>u.toLowerCase().trim()),i=r.findIndex(u=>u.includes("wavelength")||u==="wl"||u==="lambda"||u==="nm"),o=r.findIndex(u=>u.includes("reflectivity")||u==="r"||u==="ref"),s=i>=0||o>=0?1:0,l=[];for(let u=s;u<t.length;u++){const d=t[u].split(n),f=parseFloat(d[i>=0?i:0]?.trim()??""),p=parseFloat(d[o>=0?o:1]?.trim()??"");!Number.isNaN(f)&&!Number.isNaN(p)&&l.push({wavelength:f,reflectivity:Math.max(0,Math.min(1,p))})}return l.sort((u,d)=>u.wavelength-d.wavelength)}function Ese(){const[e,t]=S.useState([]),[n,r]=S.useState(""),[i,o]=S.useState(null),[s,l]=S.useState([]),[u,d]=S.useState(!1),[f,p]=S.useState(!1),[m,g]=S.useState("type"),[x,w]=S.useState("constant"),[b,C]=S.useState(.005),[k,E]=S.useState(""),[N,j]=S.useState([]),[O,T]=S.useState(""),[D,B]=S.useState(""),[X,G]=S.useState(null),[F,W]=S.useState(!1),de=S.useCallback(async()=>{const $=await F7();t($)},[]);S.useEffect(()=>{de()},[de]);const ce=S.useCallback(async $=>{const oe=$.data_points,fe=$.constant_value;if(Array.isArray(oe)&&oe.length>0){const ve=Math.min(...oe.map(Y=>Y.wavelength)),re=Math.max(...oe.map(Y=>Y.wavelength)),U=Math.max(1,(re-ve)/100),M=[];for(let Y=ve;Y<=re;Y+=U){const J=oe.filter(Z=>Z.wavelength<=Y).pop(),V=oe.find(Z=>Z.wavelength>=Y);let we=J?.reflectivity??V?.reflectivity??0;if(J&&V&&J.wavelength!==V.wavelength){const Z=(Y-J.wavelength)/(V.wavelength-J.wavelength);we=J.reflectivity+Z*(V.reflectivity-J.reflectivity)}M.push({wavelength:Math.round(Y*10)/10,reflectivity:we})}l(M);return}if(typeof fe=="number"){const ve=[];for(let re=350;re<=1100;re+=5)ve.push({wavelength:re,reflectivity:fe});l(ve);return}const ue=await PT($.name,350,1100,5);l(ue)},[]);S.useEffect(()=>{i?ce(i):l([])},[i,ce]);const Se=n.trim()?e.filter($=>$.name.toLowerCase().includes(n.toLowerCase())||$.description.toLowerCase().includes(n.toLowerCase())||$.category.toLowerCase().includes(n.toLowerCase())):e,ee=Ase(Se),K=()=>{w("constant"),g("constant"),C(.005)},ie=()=>{w("table"),g("table"),E(""),j([])},ne=$=>{E($);const oe=kse($);j(oe)},R=async()=>{if(G(null),!O.trim()){G("Name is required");return}W(!0);try{const $={name:O.trim(),category:"Custom",description:D.trim(),is_hr:!1,data_type:x==="constant"?"constant":"table"};if(x==="constant")$.constant_value=Math.max(0,Math.min(1,b));else{if(N.length<2){G("At least 2 data points required for table");return}$.data_points=N}await $7($),await de();const oe={name:O.trim(),description:D.trim(),is_hr:!1,category:"Custom",source:"custom"};o(oe),ce(x==="constant"?{name:O,constant_value:$.constant_value}:{name:O,data_points:N}),p(!1),g("type"),T(""),B("")}catch($){G($ instanceof Error?$.message:"Failed to create coating")}finally{W(!1)}};return y.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h2",{className:"text-2xl font-semibold text-cyan-400 flex items-center gap-2",children:[y.jsx(dO,{className:"w-7 h-7"}),"Coating Lab"]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{type:"button","data-testid":"coating-browse-catalog",onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800/80 backdrop-blur-md border border-white/10 text-slate-200 hover:border-cyan-400/40 hover:bg-slate-800 transition-colors",children:[y.jsx(Is,{className:"w-4 h-4"}),"Browse Catalog"]}),y.jsxs("button",{type:"button",onClick:()=>{p(!0),g("type")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 backdrop-blur-md border border-cyan-400/50 text-cyan-400 hover:bg-cyan-500/30 transition-colors shadow-[0_0_12px_rgba(34,211,238,0.15)]",children:[y.jsx(Ms,{className:"w-4 h-4"}),"New Custom Coating"]})]})]}),y.jsxs("div",{"data-testid":"spectral-performance-graph",className:"rounded-xl border border-white/10 bg-slate-900/80 backdrop-blur-md p-6 shadow-xl",children:[y.jsxs("h3",{className:"text-lg font-medium text-slate-200 mb-4 flex items-center gap-2",children:[y.jsx(Z3,{className:"w-5 h-5 text-cyan-400"}),"Spectral Performance R()"]}),s.length>0?y.jsx("div",{className:"h-72",children:y.jsx(LY,{width:"100%",height:"100%",children:y.jsxs(wse,{data:s,margin:{top:10,right:20,left:0,bottom:0},children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"spectralGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:.4}),y.jsx("stop",{offset:"100%",stopColor:"#22d3ee",stopOpacity:0})]})}),y.jsx(WR,{strokeDasharray:"3 3",stroke:"#334155"}),y.jsx(t5,{dataKey:"wavelength",type:"number",domain:[350,1100],tick:{fill:"#94a3b8",fontSize:11},stroke:"#64748b"}),y.jsx(n5,{domain:[0,1],tickFormatter:$=>`${($*100).toFixed(0)}%`,tick:{fill:"#94a3b8",fontSize:11},stroke:"#64748b"}),y.jsx(_ne,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid #334155",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"},formatter:$=>[`${(($??0)*100).toFixed(2)}%`,"R"],labelFormatter:$=>` = ${$} nm`}),y.jsx(JR,{type:"monotone",dataKey:"reflectivity",stroke:"#22d3ee",strokeWidth:2,fill:"url(#spectralGrad)"})]})})}):y.jsx("div",{className:"h-72 flex items-center justify-center text-slate-500 border border-dashed border-slate-600 rounded-lg",children:"Select a coating from the catalog or create a custom one to view R()"}),i&&y.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-slate-400",children:"Showing:"}),y.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-medium ${i.source==="custom"?"bg-cyan-500/20 border border-cyan-400/50 text-cyan-400 shadow-[0_0_8px_rgba(34,211,238,0.2)]":"bg-slate-800 border border-white/10 text-slate-200"}`,children:i.name}),y.jsx("button",{type:"button",onClick:()=>o(null),className:"text-slate-500 hover:text-slate-300 text-sm",children:"Clear"})]})]}),y.jsx(ni,{children:u&&y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-md p-4",onClick:()=>d(!1),children:y.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl max-h-[85vh] rounded-xl border border-white/10 bg-slate-900/95 backdrop-blur-xl shadow-2xl overflow-hidden flex flex-col",onClick:$=>$.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 px-6 py-4",children:[y.jsx("h3",{className:"text-xl font-semibold text-cyan-400",children:"Coating Catalog"}),y.jsx("button",{type:"button",onClick:()=>d(!1),className:"p-2 rounded-lg text-slate-400 hover:text-slate-200 hover:bg-white/5",children:y.jsx(Rs,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"p-4 border-b border-slate-700",children:y.jsxs("div",{className:"relative",children:[y.jsx(Is,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),y.jsx("input",{type:"text",placeholder:"Search coatings...",value:n,onChange:$=>r($.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-slate-800/80 border border-white/10 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-400/50 focus:ring-1 focus:ring-cyan-400/30"})]})}),y.jsx("div",{className:"flex-1 overflow-auto p-4 space-y-6",children:Sse.filter($=>ee.has($)).map($=>y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-2 uppercase tracking-wider",children:$}),y.jsx("div",{className:"flex flex-wrap gap-2",children:ee.get($).map(oe=>y.jsxs("button",{type:"button","data-testid":`coating-catalog-${oe.name.replace(/\s+/g,"-")}`,onClick:()=>{o(oe),d(!1)},className:`px-4 py-2.5 rounded-lg text-left transition-all flex items-center gap-2 ${i?.name===oe.name?"bg-cyan-500/20 border-2 border-cyan-400/60 text-cyan-400 shadow-[0_0_12px_rgba(34,211,238,0.25)]":"bg-slate-800/80 border border-white/10 text-slate-200 hover:border-cyan-400/30 hover:bg-slate-800"}`,children:[y.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold uppercase ${oe.is_hr?"bg-amber-500/30 text-amber-400":"bg-cyan-500/20 text-cyan-400"}`,children:oe.is_hr?"HR":"AR"}),y.jsx("span",{className:"font-medium",children:oe.name}),oe.source==="custom"&&y.jsx("span",{className:"text-[10px] text-slate-500",children:"custom"})]},oe.name))})]},$))})]})})}),y.jsx(ni,{children:f&&y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-md p-4",onClick:()=>!F&&p(!1),children:y.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-lg rounded-xl border border-white/10 bg-slate-900/95 backdrop-blur-xl shadow-2xl overflow-hidden",onClick:$=>$.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 px-6 py-4",children:[y.jsx("h3",{className:"text-xl font-semibold text-cyan-400",children:"New Custom Coating"}),y.jsx("button",{type:"button",onClick:()=>!F&&p(!1),className:"p-2 rounded-lg text-slate-400 hover:text-slate-200",children:y.jsx(Rs,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[m==="type"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-400 text-sm",children:"Choose how to define reflectivity:"}),y.jsxs("button",{type:"button",onClick:K,className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-800/80 border border-white/10 hover:border-cyan-400/40 transition-colors text-left",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:y.jsx(hO,{className:"w-5 h-5 text-cyan-400"})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-slate-200",children:"Constant Reflectivity"}),y.jsx("div",{className:"text-sm text-slate-500",children:"Same R at all wavelengths (e.g. 0.5%)"})]})]}),y.jsx(Cy,{className:"w-5 h-5 text-slate-500"})]}),y.jsxs("button",{type:"button",onClick:ie,className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-800/80 border border-white/10 hover:border-cyan-400/40 transition-colors text-left",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:y.jsx(bP,{className:"w-5 h-5 text-cyan-400"})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-slate-200",children:"Table Upload"}),y.jsx("div",{className:"text-sm text-slate-500",children:"Paste or upload CSV: wavelength_nm, reflectivity"})]})]}),y.jsx(Cy,{className:"w-5 h-5 text-slate-500"})]})]}),m==="constant"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Reflectivity (0100%)"}),y.jsx("input",{type:"number",min:0,max:100,step:.01,value:b*100,onChange:$=>C(Math.max(0,Math.min(100,Number($.target.value)||0))/100),className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 focus:border-cyan-400/50"}),y.jsxs("p",{className:"text-slate-500 text-sm",children:["R = ",(b*100).toFixed(2),"% at all wavelengths"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>g("type"),className:"px-4 py-2 rounded-lg text-slate-400 hover:bg-white/5",children:"Back"}),y.jsx("button",{type:"button",onClick:()=>{g("name"),T(""),B("")},className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/50 hover:bg-cyan-500/30",children:"Next"})]})]}),m==="table"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Paste CSV (wavelength_nm, reflectivity)"}),y.jsx("textarea",{value:k,onChange:$=>ne($.target.value),placeholder:`wavelength_nm,reflectivity
400,0.02
550,0.01
700,0.03`,rows:8,className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 font-mono text-sm placeholder-slate-500 focus:border-cyan-400/50 resize-none"}),y.jsx("input",{type:"file",accept:".csv,.txt",onChange:$=>{const oe=$.target.files?.[0];if(oe){const fe=new FileReader;fe.onload=()=>ne(String(fe.result)),fe.readAsText(oe)}$.target.value=""},className:"hidden",id:"csv-upload"}),y.jsxs("label",{htmlFor:"csv-upload",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800 border border-white/10 text-slate-300 hover:bg-slate-700 cursor-pointer text-sm",children:[y.jsx(bP,{className:"w-4 h-4"}),"Upload CSV"]}),N.length>0&&y.jsxs("p",{className:"text-cyan-400 text-sm",children:[N.length," points loaded"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>g("type"),className:"px-4 py-2 rounded-lg text-slate-400 hover:bg-white/5",children:"Back"}),y.jsx("button",{type:"button",onClick:()=>{g("name"),T(""),B("")},disabled:N.length<2,className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/50 hover:bg-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),m==="name"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Name"}),y.jsx("input",{type:"text",value:O,onChange:$=>T($.target.value),placeholder:"My Custom Coating",className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 placeholder-slate-500 focus:border-cyan-400/50"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description (optional)"}),y.jsx("input",{type:"text",value:D,onChange:$=>B($.target.value),placeholder:"e.g. Optimized for 532 nm",className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 placeholder-slate-500 focus:border-cyan-400/50"})]}),X&&y.jsx("p",{className:"text-red-400 text-sm",children:X}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>g(x),className:"px-4 py-2 rounded-lg text-slate-400 hover:bg-white/5",children:"Back"}),y.jsx("button",{type:"button",onClick:R,disabled:F||!O.trim(),className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/50 hover:bg-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:F?"Creating":"Create Coating"})]})]})]})]})})})]})}const Nse=28e-7,Ose=1.05;function jse(e,t){const n=e.laserPowerW??0,r=e.entrancePupilDiameter??10,i=e.surfaces.find(N=>N.type==="Glass");if(!i||n<=0)return{eflCold:t,fThermal:1/0,eflEffective:t,deltaEfl:0,pAbsorbed:0,hasSignificantHeating:!1};const o=i.absorptionCoefficient??0,l=(i.thickness??0)/10,u=o>0&&l>0?n*(1-Math.exp(-o*l)):0;if(u<=0)return{eflCold:t,fThermal:1/0,eflEffective:t,deltaEfl:0,pAbsorbed:0,hasSignificantHeating:!1};const d=r/2/1e3,f=d*d,p=Math.PI*Ose*f/(u*Nse),m=p*1e3,x=1/(t/1e3),w=1/p,k=1/(x+w)*1e3,E=k-t;return{eflCold:t,fThermal:m,eflEffective:k,deltaEfl:E,pAbsorbed:u,hasSignificantHeating:!0}}const ys="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50";function _se({systemState:e,onSystemStateChange:t,selectedSurfaceId:n,onSelectSurface:r,showBestFocus:i,onShowBestFocusChange:o,snapToFocus:s,onSnapToFocusChange:l,snapToSurface:u,onSnapToSurfaceChange:d}){const f=C=>{t(k=>({...k,...C}))},p=()=>{t(C=>({...C,wavelengths:[...C.wavelengths,Me.defaults.defaultWavelength]}))},m=C=>{t(k=>({...k,wavelengths:k.wavelengths.filter((E,N)=>N!==C)}))},g=(C,k)=>{t(E=>({...E,wavelengths:E.wavelengths.map((N,j)=>j===C?k:N)}))},x=()=>{t(C=>C.fieldAngles.length>=Me.maxFieldAngles?C:{...C,fieldAngles:[...C.fieldAngles,Me.defaults.defaultFieldAngle]})},w=C=>{t(k=>({...k,fieldAngles:k.fieldAngles.filter((E,N)=>N!==C)}))},b=(C,k)=>{t(E=>({...E,fieldAngles:E.fieldAngles.map((N,j)=>j===C?k:N)}))};return y.jsxs("div",{className:"h-full glass-card rounded-none border-l border-white/10 p-4 overflow-y-auto",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg mb-4",children:"System Properties"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Entrance Pupil Diameter"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:e.entrancePupilDiameter,onChange:C=>f({entrancePupilDiameter:Number(C.target.value)||0}),min:.1,step:.5,className:ys}),y.jsx("span",{className:"text-slate-500 text-sm",children:"mm"})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Wavelengths"}),y.jsx("div",{className:"space-y-2",children:e.wavelengths.map((C,k)=>y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:C,onChange:E=>g(k,Number(E.target.value)||0),min:300,max:2e3,step:1,className:ys}),y.jsx("span",{className:"text-slate-500 text-sm w-8",children:"nm"}),e.wavelengths.length>1&&y.jsx("button",{onClick:()=>m(k),className:"p-1.5 rounded text-slate-500 hover:text-red-400 hover:bg-white/5 transition-colors","aria-label":"Remove wavelength",children:y.jsx(wf,{className:"w-4 h-4"})})]},k))}),y.jsxs("button",{onClick:p,className:"mt-2 w-full flex items-center justify-center gap-1 py-2 rounded-lg border border-dashed border-white/20 text-slate-400 hover:text-cyan-electric hover:border-cyan-electric/50 transition-colors text-sm",children:[y.jsx(Ms,{className:"w-4 h-4"}),"Add wavelength"]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Field Angles"}),y.jsx("div",{className:"space-y-2",children:e.fieldAngles.map((C,k)=>y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:C,onChange:E=>b(k,Number(E.target.value)||0),min:0,max:90,step:.5,className:ys}),y.jsx("span",{className:"text-slate-500 text-sm w-8",children:""}),e.fieldAngles.length>1&&y.jsx("button",{onClick:()=>w(k),className:"p-1.5 rounded text-slate-500 hover:text-red-400 hover:bg-white/5 transition-colors","aria-label":"Remove field angle",children:y.jsx(wf,{className:"w-4 h-4"})})]},k))}),y.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Maximum of ",Me.maxFieldAngles," field angles allowed for this simulation."]}),y.jsxs("button",{onClick:x,disabled:e.fieldAngles.length>=Me.maxFieldAngles,title:e.fieldAngles.length>=Me.maxFieldAngles?"Maximum of 3 field angles allowed for this simulation.":"Add field angle",className:"mt-2 w-full flex items-center justify-center gap-1 py-2 rounded-lg border border-dashed border-white/20 text-slate-400 hover:text-cyan-electric hover:border-cyan-electric/50 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:text-slate-400 disabled:hover:border-white/20",children:[y.jsx(Ms,{className:"w-4 h-4"}),"Add field angle"]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Ray Count"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("input",{type:"range",min:Me.rayCount.min,max:Me.rayCount.max,value:e.numRays,onChange:C=>f({numRays:Number(C.target.value)}),className:"flex-1 accent-cyan-electric"}),y.jsx("span",{className:"text-cyan-electric text-sm font-mono w-6",children:e.numRays})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Focus Configuration"}),y.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-white/10 bg-white/5",children:[y.jsx("button",{type:"button",onClick:()=>f({focusMode:"On-Axis"}),className:`flex-1 px-3 py-2.5 text-sm font-medium transition-colors ${(e.focusMode??"On-Axis")==="On-Axis"?"bg-cyan-electric/20 text-cyan-electric border-r border-white/10":"text-slate-400 hover:text-slate-200 hover:bg-white/5"}`,children:"Paraxial (On-Axis)"}),y.jsx("button",{type:"button",onClick:()=>f({focusMode:"Balanced"}),className:`flex-1 px-3 py-2.5 text-sm font-medium transition-colors ${(e.focusMode??"On-Axis")==="Balanced"?"bg-amber-500/20 text-amber-400 border-l border-white/10":"text-slate-400 hover:text-slate-200 hover:bg-white/5"}`,children:"Best Composite"})]}),y.jsx("p",{className:"mt-2 text-xs text-slate-500",children:(e.focusMode??"On-Axis")==="Balanced"?"Circle of Least Confusion across the entire field of view.":"Ignores off-axis aberrations when placing the focus diamond."})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-3 flex items-center gap-2",children:[y.jsx(F3,{className:"w-4 h-4 text-cyan-electric",strokeWidth:2}),"Snapping & Precision"]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("label",{className:"flex items-center justify-between gap-3 cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:"Snap to Focus"}),y.jsx("span",{role:"switch","aria-checked":s,tabIndex:0,onClick:()=>l(!s),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),l(!s))},className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full transition-colors duration-200 ease-in-out hover:opacity-90 ${s?"bg-cyan-electric/40":"bg-white/10"}`,children:y.jsx("span",{className:`pointer-events-none absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-lg transition-all duration-200 ease-in-out ${s?"left-5 bg-cyan-electric":"left-0.5"}`})})]}),y.jsxs("label",{className:"flex items-center justify-between gap-3 cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:"Snap to Surface"}),y.jsx("span",{role:"switch","aria-checked":u,tabIndex:0,onClick:()=>d(!u),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),d(!u))},className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full transition-colors duration-200 ease-in-out hover:opacity-90 ${u?"bg-cyan-electric/40":"bg-white/10"}`,children:y.jsx("span",{className:`pointer-events-none absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-lg transition-all duration-200 ease-in-out ${u?"left-5 bg-cyan-electric":"left-0.5"}`})})]})]}),y.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Snap to Focus: Gold Diamond. Snap to Surface: lens vertices. Hold"," ",y.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-slate-800/90 text-slate-200 font-mono text-[10px] shadow-[0_1px_0_0_rgba(255,255,255,0.1),inset_0_-1px_0_0_rgba(0,0,0,0.3)]",children:gO?" Option":"Alt"})," ","to disable snapping."]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Visualization Settings"}),y.jsxs("label",{className:"flex items-center justify-between gap-3 cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:"Show Best Focus Diamond"}),y.jsx("span",{role:"switch","aria-checked":i,tabIndex:0,onClick:()=>o(!i),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),o(!i))},className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full transition-colors duration-200 ease-in-out hover:opacity-90 ${i?"bg-cyan-electric/40":"bg-white/10"}`,children:y.jsx("span",{className:`pointer-events-none absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-lg transition-all duration-200 ease-in-out ${i?"left-5 bg-cyan-electric":"left-0.5"}`})})]})]}),y.jsxs("section",{className:"glass-card p-4 border-orange-500/20",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Thermal Lensing"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Laser Power (W)"}),y.jsx("input",{type:"number",min:0,max:1e4,step:1,value:e.laserPowerW??"",onChange:C=>t(k=>({...k,laserPowerW:C.target.value===""?void 0:Math.max(0,Number(C.target.value)||0)})),placeholder:"0",className:ys}),y.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"CW power for thermo-optic (dn/dT) analysis. Absorption  set per lens in System Editor."})]}),(()=>{const C=e.traceResult?.performance?.fNumber!=null&&e.entrancePupilDiameter>0?e.traceResult.performance.fNumber*e.entrancePupilDiameter:(()=>{const E=e.surfaces[0],N=e.surfaces[1];return E&&N&&E.radius!==0&&N.radius!==0?1/((E.refractiveIndex-1)*(1/E.radius-1/-N.radius)):100})(),k=jse(e,C);return k.hasSignificantHeating?y.jsxs("div",{className:"text-xs space-y-1 pt-1 border-t border-white/10",children:[y.jsxs("div",{className:"flex justify-between text-slate-400",children:[y.jsx("span",{children:"Cold EFL"}),y.jsxs("span",{className:"tabular-nums text-slate-300",children:[k.eflCold.toFixed(2)," mm"]})]}),y.jsxs("div",{className:"flex justify-between text-slate-400",children:[y.jsx("span",{children:"Effective EFL (heated)"}),y.jsxs("span",{className:"tabular-nums text-orange-400",children:[k.eflEffective.toFixed(2)," mm"]})]}),y.jsxs("div",{className:"flex justify-between text-orange-400 font-medium",children:[y.jsx("span",{children:"f (thermo-optic)"}),y.jsxs("span",{className:"tabular-nums",children:[k.deltaEfl.toFixed(3)," mm"]})]}),y.jsxs("div",{className:"flex justify-between text-slate-500",children:[y.jsx("span",{children:"P absorbed"}),y.jsxs("span",{className:"tabular-nums",children:[(k.pAbsorbed*1e3).toFixed(2)," mW"]})]})]}):null})()]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Physical Optics"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm text-slate-400",children:"Laser M Factor"}),y.jsx("input",{type:"number",min:.1,max:10,step:.1,value:e.m2Factor??1,onChange:C=>t(k=>({...k,m2Factor:Math.max(.1,Math.min(10,Number(C.target.value)||1))})),className:ys}),y.jsx("p",{className:"text-xs text-slate-500",children:"M = 1.0 for perfect Gaussian. Higher values show how beam quality affects focus."})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Ultrafast Pulse"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm text-slate-400",children:"Pulse Width (fs)"}),y.jsx("input",{type:"number",min:5,max:1e4,step:10,value:e.pulseWidthFs??100,onChange:C=>t(k=>({...k,pulseWidthFs:Math.max(5,Math.min(1e4,Number(C.target.value)||100))})),className:ys,placeholder:"100"}),y.jsx("p",{className:"text-xs text-slate-500",children:"Input pulse width for dispersion analysis. Sellmeier equation used for glass."})]})]}),y.jsxs("section",{className:"glass-card p-4 border-cyan-electric/20",children:[y.jsx("h3",{className:"text-sm font-medium text-cyan-electric mb-3",children:"Performance"}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-slate-400",children:"RMS Spot Radius"}),y.jsxs("span",{className:"text-slate-200 font-mono",children:[e.rmsSpotRadius.toFixed(4)," mm"]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-slate-400",children:"Total Length"}),y.jsxs("span",{className:"text-slate-200 font-mono",children:[e.totalLength.toFixed(2)," mm"]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-slate-400",children:"F-Number"}),y.jsxs("span",{className:"text-slate-200 font-mono",children:["f/",e.fNumber.toFixed(2)]})]})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Surfaces"}),y.jsx("div",{className:"space-y-2",children:e.surfaces.map(C=>y.jsxs(qe.div,{layout:!0,transition:{type:"spring",stiffness:400,damping:30},onClick:()=>r(C.id),className:`flex cursor-pointer items-center justify-between rounded-lg px-3 py-2 border transition-colors ${n===C.id?"bg-cyan-electric/20 border-cyan-electric/50 ring-1 ring-cyan-electric/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[y.jsxs("span",{className:"text-sm",children:[C.material??C.type," R=",C.radius]}),y.jsxs("span",{className:"text-cyan-electric text-xs",children:["t=",C.thickness]})]},C.id))})]})]})]})}function tO(){return{handshakeSent:!1,lastSurfaces:[],lastValidStack:[],lastRmsUm:null,episodic:{currentGoal:"",constraintsMet:[],failedIterations:[]}}}const Tse="Physical invariants: thickness > 0; n  1; thickness  |radius|2; aspect ratio  20; total length  bench limit",Dse=["radius","thickness","refractiveIndex","diameter","material","description","coating","type"];function Mse(e,t,n,r){const i=n?.performance?.rmsSpotRadius!=null?n.performance.rmsSpotRadius*1e3:null;if(!e.handshakeSent)return{isHandshake:!0,delta:{optical_stack:{surfaces:t.map((f,p)=>{const m=AT(f);return{id:m.id,semanticName:m.semanticName??`S${p+1}`,aiContext:m.aiContext??"",type:m.type,radius:m.radius,thickness:m.thickness,refractiveIndex:m.refractiveIndex,diameter:m.diameter,material:m.material,description:m.description,coating:m.coating,effective_focal_length:m.effective_focal_length??null,critical_angle:m.critical_angle??null}}),entrancePupilDiameter:r.entrancePupilDiameter,wavelengths:r.wavelengths,fieldAngles:r.fieldAngles,numRays:r.numRays,focusMode:r.focusMode,m2Factor:r.m2Factor},traceResult:n?{focusZ:n.focusZ,bestFocusZ:n.bestFocusZ,performance:n.performance,gaussianBeam:n.gaussianBeam}:null}};const s=new Map(e.lastSurfaces.map(f=>[f.id,f])),l=[];for(const f of t){const p=s.get(f.id);if(!p)continue;const m={id:f.id};let g=!1;for(const x of Dse){const w=f[x],b=p[x];w!==b&&(m[x]=w,g=!0)}g&&l.push(m)}const u=i!=null?{rmsUm:i,totalLength:n?.performance?.totalLength,fNumber:n?.performance?.fNumber}:null;return{isHandshake:!1,delta:{surfaces:t.map(f=>({id:f.id,type:f.type,radius:f.radius,thickness:f.thickness,material:f.material,diameter:f.diameter})),changesSinceLast:l.length>0?l:void 0,perf:u,episodic:e.episodic}}}function nO(e,t,n){e.handshakeSent=!0,e.lastSurfaces=t.map(r=>({...r})),e.lastValidStack=t.map(r=>({...r})),e.lastRmsUm=n?.performance?.rmsSpotRadius!=null?n.performance.rmsSpotRadius*1e3:null}function sf(e,t){t.currentGoal&&(e.episodic.currentGoal=t.currentGoal),t.constraintsMet?.length&&(e.episodic.constraintsMet=[...e.episodic.constraintsMet,...t.constraintsMet].slice(-5)),t.failedIterations?.length&&(e.episodic.failedIterations=[...e.episodic.failedIterations,...t.failedIterations].slice(-3))}function Ise(e,t){e.episodic.currentGoal=t}const Rse=[/^\s*(hi|hello|hey|yo)\s*[!.]?\s*$/i,/^\s*(thanks|thank you|thx|ty)\s*[!.]?\s*$/i,/^\s*(ok|okay|k)\s*[!.]?\s*$/i,/^\s*(yes|no)\s*[!.]?\s*$/i,/^\s*(cool|nice|great|awesome)\s*[!.]?\s*$/i,/^\s*(\?|\.\.\.)\s*$/];function Lse(e){const t=e.trim();return t.length<3?!0:Rse.some(n=>n.test(t))}function Fse(e){const t=e.trim();return!t||Lse(t)?null:t}const $se=["optimize","optimization","minimize","maximize","zero coma","zero spherical","aberration","seidel","strehl","rms","best focus","optimise","design a","design an","create a","create an","suggest","recommend","improve","fix","correct","troubleshoot","analyze","analyse","why","explain","how does","what if","compare"],Bse=["thicker","thinner","make lens","change","set","update","radius","thickness","diameter","material","glass","lens 1","lens 2","surface 1","surface 2","first lens","second lens","mm","millimeter"];function zse(e,t){const n=e.toLowerCase().trim(),r=$se.some(o=>n.includes(o)),i=Bse.some(o=>n.includes(o));return r&&!i?"deepseek-reasoner":i&&!r?"deepseek-chat":i&&r?"deepseek-reasoner":t}function Wse(e){try{const t=JSON.parse(e);if(Array.isArray(t)){const n=t.filter(r=>r&&typeof r=="object"&&typeof r.op=="string"&&typeof r.path=="string");return n.length>0?n:null}if(t&&typeof t=="object"&&"patch"in t){const n=t.patch;return Array.isArray(n)?n:null}return null}catch{return null}}function Vse(e,t){const n=new Map;for(const r of e){const i=r.path.match(/^\/(?:surfaces|optical_stack\/surfaces)\/([^/]+)\/(.+)$/);if(!i)continue;const o=i[1],s=i[2].replace(/^\//,"");if(!t.find(d=>d.id===o))continue;let u=n.get(o);if(u||(u={id:o},n.set(o,u)),r.op==="replace"||r.op==="add"){const d=s;if(d==="id")continue;u[d]=r.value}}return Array.from(n.values())}const wc=[],Use=100;function rO(e,t,n){n.trim()&&(wc.push({timestamp:new Date().toISOString(),model:e,promptPreview:t.slice(0,80),rawThought:n}),wc.length>Use&&wc.shift())}function Hse(){return wc.map(e=>`[${e.timestamp}] ${e.model}
Prompt: ${e.promptPreview}
---
${e.rawThought}
---
`).join(`
`)}function Gse(){wc.length=0}typeof window<"u"&&(window.__thoughtTrace={get:Hse,clear:Gse});function Kse(e){const t=e.toLowerCase();return/does not support (image|vision)/.test(t)||/do not support (image|vision)/.test(t)||/don't support (image|vision)/.test(t)||/image message content type/.test(t)||/model does not support image/.test(t)}function Yse(e){try{const t=e.indexOf("{");if(t>=0){const r=JSON.parse(e.slice(t))?.error?.message;if(r)return`The model does not support images. ${r}`}}catch{}return`The model does not support images. ${e.slice(0,200)}`}function qse(e){const t=[/(?:i |i'm |i am )(?:cannot|can't|can not|do not|don't) (?:process|see|analyze|handle) (?:images?|pictures?|visual)/i,/(?:i |i'm |i am )(?:only work|limited to) (?:text|written)/i,/(?:as an? (?:ai|language model|llm),? )?(?:i )?(?:can only work|cannot process) (?:with )?text/i,/(?:this )?model (?:does not|doesn't) support (?:images?|vision)/i,/(?:there is )?no image/i,/(?:i )?(?:cannot|can't) (?:process|analyze|see) (?:the )?(?:attached )?image/i];for(const n of t){const r=e.match(n);if(r)return r[0].slice(0,120)}return null}function Xse(e,t){return t?e.startsWith("claude")?!!t.anthropic?.trim():e.startsWith("gpt")||e.startsWith("o1")?!!t.openai?.trim():e.startsWith("deepseek")?!!t.deepseek?.trim():!1:!1}const Zse=`Role: You are the PhotonLeap Lead Physicist, an expert in classical ray optics, wave propagation, and quantum information science. Your goal is to design, optimize, and troubleshoot physical systems within the PhotonLeap environment.

## Core Competencies
- Geometric Optics: Expert in Snell's Law, the Lensmaker's Equation, and Seidel aberrations (Spherical, Coma, Astigmatism, Field Curvature, Distortion).
- Physical Optics: Mastery of Gaussian beam propagation (M factors, beam waist, Rayleigh range) and diffraction limits.
- Quantum States: Expertise in polarization (Jones Calculus), photon entanglement, and Bloch sphere mapping.

## Operational Protocol
- Zero-Error Physics: Every design must respect the Law of Conservation of Energy and the Second Law of Thermodynamics. You cannot "create" light without a defined source.
- Manufacturing Awareness: Favor "buildable" designs. Avoid center thicknesses <1mm or curvatures that create "knife-edges" on lens peripheries.

## Structural Authority (Structural Fluidity)
You may dynamically re-architect the optical_stack:
- Insertion: If the Auditor identifies high-order coma or spherical aberration (e.g. high RMS spot radius), proactively insert a corrector lens (two surfaces: Glass front + Air back) into the JSON. Use surfaceDeltas with id "new" for new surfaces; include type, radius, thickness, refractiveIndex, diameter, material, description.
- Deletion: If a lens has negligible optical power (nearly flat radii and same material as surroundings), delete it to simplify the system. Use surfaceDeltas with _delete: true and the surface id to remove.

## Optical Stack Schema (Dual-Purpose Semantic Lattice)
Each surface has:
- id (string, required): unique identifier  MUST match existing surface ids exactly
- semanticName (string): e.g. "Primary_Objective", "Field_Flattener"
- aiContext (string): reason for surface, e.g. "Corrects coma from S1"
- type: "Glass" | "Air"
- radius (mm): curvature radius; positive = convex toward +z, negative = concave; 0 = flat
- thickness (mm): distance to next surface
- refractiveIndex: n at primary wavelength
- diameter (mm): clear aperture
- material (string): from glass library, or "Custom (n=X, Vd=Y)" when synthesizing (see Material Synthesis)
- description, coating
- effective_focal_length (mm): computed R/(n-1) for curved surfaces; null for plano
- critical_angle (deg): TIR angle for glassair; null for air

## Glass Library (exact names)
N-BK7, N-SF11, N-SF5, N-SF6, N-SF10, N-SF14, N-F2, N-SK2, Fused Silica, N-BAF10, N-LAK9, H-LAF7, Calcium Fluoride, Magnesium Fluoride, Sapphire, N-K5, N-SK16, N-BAF4, N-SF6HT, N-LAK14, N-BK10, N-SF57, N-SF66, N-SF15

## Material Synthesis (no longer Library-Locked)
If standard materials cannot satisfy chromatic requirements, you may synthesize a custom material.
When using a custom material, include a custom_material object in your response:
{"custom_material":{"refractive_index":1.55,"abbe_number":45,"reasoning":"Chromatic requirements needed Vd between N-BK7 and N-SF11"}}
Use material: "Custom (n=X, Vd=Y)" for surfaces using it, where X=refractive_index, Y=abbe_number.

## Output Format
Your response must be a valid JSON object. Do not include any text outside of the JSON structure.
Return ONLY valid JSON. No conversational filler unless requested.

Preferred (token-efficient): JSON Patch RFC 6902  e.g. [{"op":"replace","path":"/surfaces/<id>/thickness","value":8}]
Full format: {"surfaceDeltas":[{"id":"surf-uuid","radius":50,"thickness":5,"material":"N-BK7",...}],"reasoning":"brief physics explanation"}
Add surface: {"surfaceDeltas":[{"id":"new","type":"Glass","radius":80,"thickness":5,"refractiveIndex":1.52,"diameter":25,"material":"N-BK7","description":"Corrector"}],...}
Remove surface: {"surfaceDeltas":[{"id":"surf-uuid","_delete":true}],...}
Custom material: {"surfaceDeltas":[...],"custom_material":{"refractive_index":1.55,"abbe_number":45,"reasoning":"..."},...}

Optional: If design is physically impossible (e.g. TIR preventing beam exit), include:
{"physicsViolation":true,"reason":"description","suggestedAlternative":"geometry hint","surfaceDeltas":[],"reasoning":"..."}

## Constraints
- thickness > 0, diameter > 0
- If design fails physical validation, you will receive error context; propose a new transaction.`,Qse=`
## Physics Constants (immutable)
- Snell: nsin()=nsin(). TIR when   arcsin(n/n).
- Lensmaker (thin): 1/f = (n-1)(1/R - 1/R).
- Glass library: N-BK7, N-SF11, Fused Silica, N-SF5, N-SF6, N-SF10, N-SF14, N-F2, N-SK2, N-BAF10, N-LAK9, H-LAF7, Calcium Fluoride, Magnesium Fluoride, Sapphire, N-K5, N-SK16, N-BAF4, N-SF6HT, N-LAK14, N-BK10, N-SF57, N-SF66, N-SF15.
`,Np=Zse+Qse;function p5(e,t){const n={optical_stack:{surfaces:e.surfaces.map(r=>{const i=AT(r);return{id:i.id,semanticName:i.semanticName??`S${e.surfaces.indexOf(r)+1}`,aiContext:i.aiContext??"",type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,coating:i.coating,effective_focal_length:i.effective_focal_length??null,critical_angle:i.critical_angle??null}}),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays},traceResult:t?{focusZ:t.focusZ,bestFocusZ:t.bestFocusZ,performance:t.performance,gaussianBeam:t.gaussianBeam}:null,designSuggestions:t?.performance?.rmsSpotRadius!=null&&t.performance.rmsSpotRadius>.05?["High RMS spot radius may indicate spherical aberration or coma; consider inserting a corrector lens."]:void 0};return`${Np}

## Current System State (JSON)
\`\`\`json
${JSON.stringify(n,null,2)}
\`\`\``}function Jse(e,t,n){const r=n.currentGoal||n.constraintsMet.length||n.failedIterations.length?`
## Context Summary
- Current Goal: ${n.currentGoal||"None"}
- Constraints Met: ${n.constraintsMet.join("; ")||"None"}
- Failed Iterations: ${n.failedIterations.join("; ")||"None"}
- Physics Constraints: ${Tse}`:"";return`${Np}${r}

## ${t?"Full Handshake (JSON)":"State Delta (compact)"}
\`\`\`json
${JSON.stringify(e)}
\`\`\``}function h5(e,t){const n="(?:<think>|<<think>>)",r="(?:</think>|<<\\/think>>)",i=new RegExp(n,"gi");if(t?.saveThoughts&&t.model&&t.promptPreview){const s=e.matchAll(new RegExp(n+"([\\s\\S]*?)"+r,"gi"));for(const u of s)u[1]&&rO(t.model,t.promptPreview,u[1]);const l=e.match(new RegExp(n+"[\\s\\S]*$","i"));if(l){const u=l[0].replace(i,"").trim();u&&rO(t.model,t.promptPreview,u)}}let o=e;return o=o.replace(new RegExp(n+"[\\s\\S]*?"+r,"gi"),""),o=o.replace(new RegExp(n+"[\\s\\S]*$","gi"),""),o.trim()}function iO(e,t){const r=h5(e,t).trim(),i=r.match(/```(?:json)?\s*([\s\S]*?)```/);if(i){const s=i[1].trim();if(s)return s}const o=r.match(/\{[\s\S]*\}/);return o?o[0]:r.startsWith("{")?r:null}function ele(e,t,n){const r=n?.saveThoughts&&n.model&&n.promptPreview?{model:n.model,promptPreview:n.promptPreview,saveThoughts:!0}:void 0,i=h5(e,r),o=[()=>iO(e,r),()=>iO(i,r),()=>{const s=i.matchAll(/```(?:json)?\s*([\s\S]*?)```/g);for(const l of s){const u=l[1]?.trim();if(u?.startsWith("{")||u?.startsWith("["))return u}return null}];for(const s of o){const l=s();if(l)try{const u=JSON.parse(l);if(Array.isArray(u)){const f=Wse(l);if(f&&f.length>0){const p=Vse(f,t);if(p.length>0)return{surfaceDeltas:p,reasoning:"Applied via JSON Patch"}}}const d=u.surfaceDeltas??u.surface_deltas;if(u&&typeof u=="object"&&Array.isArray(d)){const f=u,p=f.custom_material,m=p&&typeof p=="object"&&typeof p.refractive_index=="number"&&typeof p.abbe_number=="number"&&typeof p.reasoning=="string"?p:void 0;return{surfaceDeltas:d.filter(g=>g!=null&&typeof g=="object"&&typeof g.id=="string"),custom_material:m,reasoning:f.reasoning,physicsViolation:f.physicsViolation,reason:f.reason,suggestedAlternative:f.suggestedAlternative}}}catch{continue}}return null}function tle(e,t){const n=t,r=e.material??"N-BK7",i=r.startsWith("Custom")||n&&r==="Custom",o=e.refractiveIndex??(n?n.refractive_index:1.52),s=n&&i?`Custom (n=${n.refractive_index}, Vd=${n.abbe_number})`:r,l=Me.surfaceDefaults;return{id:crypto.randomUUID(),semanticName:e.semanticName,aiContext:e.aiContext,type:e.type??"Glass",radius:e.radius??0,thickness:e.thickness??l.thickness,refractiveIndex:o,diameter:e.diameter??l.diameter,material:s,description:e.description??"New surface",coating:e.coating??"Uncoated",sellmeierCoefficients:e.sellmeierCoefficients}}function m5(e,t){const n=t.custom_material,r=[],i=new Set;for(const l of t.surfaceDeltas){if(l._delete){i.add(l.id);continue}if(l.id==="new"||l.id.startsWith("new")){r.push(tle(l,n));continue}}let o=e.filter(l=>!i.has(l.id));const s=new Map(o.map(l=>[l.id,{...l}]));for(const l of t.surfaceDeltas){if(l._delete||l.id==="new"||l.id.startsWith("new"))continue;const u=s.get(l.id);u&&(l.semanticName!==void 0&&(u.semanticName=l.semanticName),l.aiContext!==void 0&&(u.aiContext=l.aiContext),l.radius!==void 0&&(u.radius=l.radius),l.thickness!==void 0&&(u.thickness=l.thickness),l.refractiveIndex!==void 0&&(u.refractiveIndex=l.refractiveIndex),l.diameter!==void 0&&(u.diameter=l.diameter),l.material!==void 0&&(u.material=l.material,n&&(l.material.startsWith("Custom")||l.material==="Custom")&&(u.material=`Custom (n=${n.refractive_index}, Vd=${n.abbe_number})`,u.refractiveIndex=n.refractive_index)),l.description!==void 0&&(u.description=l.description),l.type!==void 0&&(u.type=l.type),l.coating!==void 0&&(u.coating=l.coating),l.sellmeierCoefficients!==void 0&&(u.sellmeierCoefficients=l.sellmeierCoefficients))}return o=Array.from(s.values()),o.push(...r),o}function nle(e,t){const n=m5(e,t);if(n.length<2)return{valid:!1,error:"Optical stack must have at least 2 surfaces (entrance + exit)"};for(const r of n){if(r.thickness<0)return{valid:!1,error:`Surface ${r.id} has negative thickness`};if(r.diameter<=0)return{valid:!1,error:`Surface ${r.id} has invalid diameter`}}return{valid:!0}}function rle(e,t){const n=[];for(const s of e)s.type==="Glass"&&s.radius!==0&&s.thickness>Math.abs(s.radius)*2&&n.push({category:"Geometry",message:`Surface ${s.id}: thickness ${s.thickness}mm > |radius|2 (${Math.abs(s.radius)*2}mm)  hyper-sphere cannot be built`});for(const s of e)s.type==="Glass"&&s.refractiveIndex<1&&n.push({category:"Material",message:`Surface ${s.id}: refractiveIndex ${s.refractiveIndex} < 1.0  impossible glass`});const r=t?.rayPower;if(r?.length){const s=r.filter(l=>l>1).length;s>0&&n.push({category:"Energy",message:`${s} ray(s) have transmitted power > 1.0  energy conservation violated`})}const i=t?.performance?.totalLength??e.reduce((s,l)=>s+l.thickness,0);i>Me.agentMaxBenchSizeMm&&n.push({category:"Operational",message:`Total path length ${i.toFixed(1)}mm exceeds max bench size ${Me.agentMaxBenchSizeMm}mm`});for(let s=0;s<e.length;s++){const l=e[s];l.type==="Glass"&&l.thickness>0&&l.diameter/l.thickness>Me.agentMaxAspectRatio&&n.push({category:"Geometry",message:`Surface ${l.id}: aspect ratio diameter/thickness = ${(l.diameter/l.thickness).toFixed(1)} > ${Me.agentMaxAspectRatio}  too fragile to manufacture`})}const o=t?.terminationLog;if(o?.length){const s=o.filter(l=>/tir|total.?internal.?reflection/i.test(l.reason??""));if(s.length>0){const l=[...new Set(s.map(u=>u.surf).filter(u=>u!=null))];n.push({category:"Energy",message:`Total Internal Reflection at surface(s) ${l.join(", ")}  ray may not exit as intended`})}}return{isValid:n.length===0,violations:n}}function ile(e){const n=(e instanceof Error?e.message:String(e)).toLowerCase();return n.includes("failed to fetch")||n.includes("network")||n.includes("connection refused")||n.includes("net::err_")||n.includes("load failed")||n.includes("could not connect")}function ole(){return`${Me.localAgent.apiBase.replace(/\/v1\/?$/,"")}/api/v1`}function R1(e){return e?.trim()||Me.localAgent.modelId}async function ale(e){try{const t=Me.localAgent.apiBase.replace(/\/v1\/?$/,""),n=await fetch(`${t}/api/v1/models`,{headers:{Authorization:`Bearer ${Me.localAgent.apiKey}`}});if(!n.ok)return null;const i=(await n.json()).models??[],o=e.toLowerCase();for(const s of i){const l=s.key?.toLowerCase()===o,u=s.loaded_instances?.some(d=>d.id?.toLowerCase()===o);if(l||u)return s.capabilities?.vision===!0}return null}catch{return null}}function g5(e,t){if(!t?.length)return e;const n={type:"text",text:e};return[...t.map(i=>({type:"image",source:{type:"base64",media_type:i.mediaType,data:i.data}})),n]}function Ds(e,t){if(!t?.length)return e;const n={type:"text",text:e};return[...t.map(i=>({type:"image_url",image_url:{url:`data:${i.mediaType};base64,${i.data}`}})),n]}function v5(e){const t=e.slice(Np.length);return[{type:"text",text:Np,cache_control:{type:"ephemeral"}},{type:"text",text:t}]}async function sle(e,t,n,r,i,o,s,l){const u=g5(r,l),d={model:t,max_tokens:2048,stream:!0,system:v5(n),messages:[{role:"user",content:u}]};s&&(d.thinking={type:"enabled",budget_tokens:4e3});const f=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",signal:o,headers:{"Content-Type":"application/json","x-api-key":e,"anthropic-version":"2023-06-01"},body:JSON.stringify(d)});if(!f.ok){const w=await f.text();throw new Error(`Anthropic API error: ${f.status} ${w}`)}const p=f.body?.getReader();if(!p)throw new Error("No response body");const m=new TextDecoder;let g="",x="";for(;;){const{done:w,value:b}=await p.read();if(w)break;g+=m.decode(b,{stream:!0});const C=g.split(`
`);g=C.pop()??"";for(const k of C)if(k.startsWith("data: ")){const E=k.slice(6).trim();if(!E||E==="[DONE]")continue;try{const N=JSON.parse(E);N.type==="content_block_delta"&&N.delta&&(N.delta.type==="thinking_delta"&&typeof N.delta.thinking=="string"?i(N.delta.thinking):N.delta.type==="text_delta"&&typeof N.delta.text=="string"&&(i(N.delta.text),x+=N.delta.text))}catch{}}}for(const w of g.split(`
`))if(w.startsWith("data: ")){const b=w.slice(6).trim();if(!b||b==="[DONE]")continue;try{const C=JSON.parse(b);C.type==="content_block_delta"&&C.delta?.type==="text_delta"&&typeof C.delta.text=="string"&&(x+=C.delta.text)}catch{}}return x}async function lle(e,t,n,r,i,o,s){const l=Ds(r,s),u={model:t,max_tokens:2048,stream:!0,messages:[{role:"system",content:n},{role:"user",content:l}]};t.startsWith("o1")&&(u.reasoning_effort="medium");const d=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",signal:o,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(u)});if(!d.ok){const x=await d.text();throw new Error(`OpenAI API error: ${d.status} ${x}`)}const f=d.body?.getReader();if(!f)throw new Error("No response body");const p=new TextDecoder;let m="",g="";for(;;){const{done:x,value:w}=await f.read();if(x)break;m+=p.decode(w,{stream:!0});const b=m.split(`
`);m=b.pop()??"";for(const C of b)if(C.startsWith("data: ")){const k=C.slice(6).trim();if(!k||k==="[DONE]")continue;try{const N=JSON.parse(k).choices?.[0]?.delta;N&&(typeof N.reasoning_content=="string"&&i(N.reasoning_content),typeof N.content=="string"&&(i(N.content),g+=N.content))}catch{}}}for(const x of m.split(`
`))if(x.startsWith("data: ")){const w=x.slice(6).trim();if(!w||w==="[DONE]")continue;try{const b=JSON.parse(w).choices?.[0]?.delta;b?.content&&(g+=b.content)}catch{}}return g}const y5=8192;async function cle(e,t,n,r,i,o,s=0,l){const u=y5,d=Ds(r,l),f=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",signal:o,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({model:t,max_tokens:u,stream:!0,messages:[{role:"system",content:n},{role:"user",content:d}]})});if(!f.ok){const w=await f.text();throw new Error(`DeepSeek API error: ${f.status} ${w}`)}const p=f.body?.getReader();if(!p)throw new Error("No response body");const m=new TextDecoder;let g="",x="";for(;;){const{done:w,value:b}=await p.read();if(w)break;g+=m.decode(b,{stream:!0});const C=g.split(`
`);g=C.pop()??"";for(const k of C)if(k.startsWith("data: ")){const E=k.slice(6).trim();if(!E||E==="[DONE]")continue;try{const j=JSON.parse(E).choices?.[0]?.delta;j&&(typeof j.reasoning_content=="string"&&i(j.reasoning_content),typeof j.content=="string"&&(i(j.content),x+=j.content))}catch{}}}for(const w of g.split(`
`))if(w.startsWith("data: ")){const b=w.slice(6).trim();if(!b||b==="[DONE]")continue;try{const C=JSON.parse(b).choices?.[0]?.delta;C?.content&&(x+=C.content)}catch{}}return x}function X0(e,t,n){const r=t.pending+e;t.pending="";let i="";if(t.inThink){const u=r.indexOf("</think>");return u>=0?(n(r.slice(0,u)),i=r.slice(u+8),t.inThink=!1,X0(i,t,n)):(n(r),"")}const o=r.indexOf("<think>");if(o>=0){i=r.slice(0,o);const u=r.slice(o+8),d=u.indexOf("</think>");return d>=0?(n(u.slice(0,d)),i+X0(u.slice(d+8),t,n)):(t.inThink=!0,n(u),i)}const s=r.lastIndexOf("<think>");if(s>=0&&s>r.length-8)return t.pending=r.slice(s),r.slice(0,s);const l=r.lastIndexOf("</think>");return l>=0&&l>r.length-8?(t.pending=r.slice(l),r.slice(0,l)):r}async function ule(e,t,n,r,i,o){const{apiBase:s,apiKey:l}=Me.localAgent,u=R1(e);if(o?.length){const C=Ds(n,o),k=await fetch(`${s}/chat/completions`,{method:"POST",signal:i,headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({model:u,max_tokens:2048,stream:!0,messages:[{role:"system",content:t},{role:"user",content:C}]})});if(!k.ok){const T=await k.text();throw new Error(`Local API error: ${k.status} ${T}`)}const E=k.body?.getReader();if(!E)throw new Error("No response body");const N=new TextDecoder;let j="",O="";for(;;){const{done:T,value:D}=await E.read();if(T)break;j+=N.decode(D,{stream:!0});const B=j.split(`
`);j=B.pop()??"";for(const X of B)if(X.startsWith("data: ")){const G=X.slice(6).trim();if(!G||G==="[DONE]")continue;try{const W=JSON.parse(G).choices?.[0]?.delta;W&&(typeof W.reasoning_content=="string"&&r(W.reasoning_content),typeof W.content=="string"&&(r(W.content),O+=W.content))}catch{}}}for(const T of j.split(`
`))if(T.startsWith("data: ")){const D=T.slice(6).trim();if(!D||D==="[DONE]")continue;try{const B=JSON.parse(D).choices?.[0]?.delta;B?.content&&(O+=B.content)}catch{}}return O}const d=`${ole()}/chat`,f=await fetch(d,{method:"POST",signal:i,headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({model:u,input:n,system_prompt:t,stream:!0,max_output_tokens:2048})});if(!f.ok){const C=await f.text();throw new Error(`Local API error: ${f.status} ${C}`)}const p=f.body?.getReader();if(!p)throw new Error("No response body");const m=new TextDecoder;let g="",x="";const w={inThink:!1,pending:""};let b=!1;for(;;){const{done:C,value:k}=await p.read();if(C)break;g+=m.decode(k,{stream:!0});const E=g.split(`
`);g=E.pop()??"";for(const N of E)if(N.startsWith("data: ")){const j=N.slice(6).trim();if(!j||j==="[DONE]")continue;try{const O=JSON.parse(j);if(O.type==="reasoning.delta"&&typeof O.content=="string")b=!0,r(O.content);else if(O.type==="message.delta"&&typeof O.content=="string")b?x+=O.content:x+=X0(O.content,w,r);else if(O.type==="chat.end"&&O.result?.output){x="";for(const T of O.result.output)(T.type==="reasoning"||T.type==="message")&&T.content&&(x+=T.content)}}catch{}}}if(!x&&g)try{for(const C of g.split(`
`))if(C.startsWith("data: ")){const k=C.slice(6).trim(),E=JSON.parse(k);if(E.type==="chat.end"&&E.result?.output)for(const N of E.result.output)(N.type==="reasoning"||N.type==="message")&&N.content&&(x+=N.content)}}catch{}return x}async function dle(e,t,n,r,i,o,s,l,u){if(i&&o)return ule(e,t,n,o,s,u);if(i){const{apiBase:m,apiKey:g}=Me.localAgent,x=`${m}/chat/completions`,w=await fetch(x,{method:"POST",signal:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({model:R1(e),max_tokens:2048,messages:[{role:"system",content:t},{role:"user",content:Ds(n,u)}]})});if(!w.ok){const C=await w.text();throw new Error(`Local API error: ${w.status} ${C}`)}return(await w.json()).choices?.[0]?.message?.content??""}const d=r?.anthropic?.trim()||"",f=r?.openai?.trim()||"",p=r?.deepseek?.trim()||"";if(e.startsWith("claude")){if(!d)throw new Error("API key required for Anthropic. Add your key in Agent Uplink.");const m=/claude-(opus-4|sonnet-4|haiku-4|3-7-sonnet)/.test(e);if(o)return sle(d,e,t,n,o,s,m,u);const g=g5(n,u),x=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",signal:s,headers:{"Content-Type":"application/json","x-api-key":d,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:e,max_tokens:2048,system:v5(t),messages:[{role:"user",content:g}]})});if(!x.ok){const C=await x.text();throw new Error(`Anthropic API error: ${x.status} ${C}`)}return(await x.json()).content?.find(C=>C.type==="text")?.text??""}if(e.startsWith("gpt")||e.startsWith("o1")){if(!f)throw new Error("API key required for OpenAI. Add your key in Agent Uplink.");if(o)return lle(f,e,t,n,o,s,u);const m=Ds(n,u),g={model:e,max_tokens:2048,messages:[{role:"system",content:t},{role:"user",content:m}]};e.startsWith("o1")&&(g.reasoning_effort="medium");const x=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",signal:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(g)});if(!x.ok){const C=await x.text();throw new Error(`OpenAI API error: ${x.status} ${C}`)}return(await x.json()).choices?.[0]?.message?.content??""}if(e.startsWith("deepseek")){if(!p)throw new Error("API key required for DeepSeek. Add your key in Agent Uplink.");if(o)return cle(p,e,t,n,o,s,l??0,u);const m=y5,g=Ds(n,u),x=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",signal:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({model:e,max_tokens:m,messages:[{role:"system",content:t},{role:"user",content:g}]})});if(!x.ok){const k=await x.text();throw new Error(`DeepSeek API error: ${x.status} ${k}`)}return(await x.json()).choices?.[0]?.message?.content??""}throw new Error(`Unknown model: ${e}`)}async function wy(e){return a_(e)}async function fle(e,t,n){const{model:r,maxRetries:i=3,onProgress:o,onProposal:s,apiKeys:l,localMode:u,onThinking:d,onThinkingClear:f,signal:p,images:m,session:g,useRouter:x=!0,onPhysicsViolation:w}=n,b=Fse(t);if(b===null){const D=e.traceResult??await wy({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays});return{success:!0,surfaces:e.surfaces,transaction:{surfaceDeltas:[]},traceResult:D}}const C=b;let k=x?zse(C,r):r;k!==r&&!u&&l&&!Xse(k,l)&&(k=r),g&&Ise(g,C.slice(0,120));const E={surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays,focusMode:e.focusMode,m2Factor:e.m2Factor};let N=[...e.surfaces],j=null,O=null,T="";if(m?.length&&u){const D=R1(k);if(await ale(D)===!1)return{success:!1,error:`The selected model (${D}) does not support images. Load a vision model (e.g. Qwen2-VL) in LM Studio or switch to Cloud API (GPT-4o, Claude).`}}for(let D=0;D<i;D++){f?.(),o?.(D===0?"Thinking...":`Retrying (${D+1}/${i})...`);const B=j?{...e.traceResult,...j}:e.traceResult,X={entrancePupilDiameter:E.entrancePupilDiameter,wavelengths:E.wavelengths,fieldAngles:E.fieldAngles,numRays:E.numRays,focusMode:E.focusMode,m2Factor:E.m2Factor};let G;if(g){const{delta:R,isHandshake:$}=Mse(g,N,B,X);G=Jse(R,$,g.episodic)}else G=p5({...E,surfaces:N},B);const F=T==="Could not parse valid transaction from LLM response",W=T.startsWith("Design rejected: Physical Invariant Violation"),de=D>0&&T?F?'\n\nYour previous response was not valid JSON. Return ONLY a raw JSON object with "surfaceDeltas" (array) and optional "reasoning". No markdown, no ```json``` blocks, no text before or after. Example: {"surfaceDeltas":[{"id":"...","radius":50}],"reasoning":"..."}':W?`

Your proposed design violates physical or manufacturing constraints. See the report below. You must adjust the parameters to satisfy these constraints before I can render the system.

${T}`:`

Previous attempt failed: ${T}. Propose a different transaction to fix this.`:"",ce=m?.length?`

[CRITICAL: Image(s) are attached. Analyze them and propose optical changes. Your response MUST be ONLY a valid JSON object with "surfaceDeltas" (array) and optional "reasoning". No conversational text, no markdown, no explanation before or after the JSON.]`:"";g&&D>0&&sf(g,{failedIterations:[F?"Parse error (invalid JSON)":T]});let Se;try{Se=await dle(k,G,C+ce+de,l,u,d,p,D,m)}catch(R){const $=R instanceof Error&&R.name==="AbortError";let oe=R instanceof Error?R.message:String(R);!$&&m?.length&&Kse(oe)&&(oe=Yse(oe));const fe=!$&&u&&ile(R);return{success:!1,error:$?"Stopped by user":oe,lastTransaction:O??void 0,localUnreachable:fe,aborted:$}}const K=ele(Se,N,u?{model:k,promptPreview:C,saveThoughts:!0}:void 0);if(!K){const R=m?.length?qse(Se):null;T=R?`The model does not support images. It responded: "${R}" Try GPT-4o or Claude for image analysis.`:m?.length?"Could not parse valid transaction from LLM response. The model may not support images  try GPT-4o or Claude for image analysis.":"Could not parse valid transaction from LLM response";continue}if(K.physicsViolation){T=[K.reason,K.suggestedAlternative].filter(Boolean).join(". ")||"Agent flagged PHYSICS_VIOLATION",O=K;continue}if(K.surfaceDeltas.length===0){const R=j??await wy({...E,surfaces:N});return g&&(nO(g,N,R),sf(g,{constraintsMet:["No changes needed"]})),{success:!0,surfaces:N,transaction:K,traceResult:R}}O=K;const ie=nle(N,K);if(!ie.valid){T=ie.error??"Validation failed";continue}o?.("Applying changes..."),N=m5(N,K),s?.(N),o?.("Validating with ray trace...");try{j=await wy({...E,surfaces:N})}catch(R){T=R instanceof Error?R.message:String(R);continue}const ne=rle(N,j);if(!ne.isValid){T=`Design rejected: Physical Invariant Violation. ${ne.violations.map($=>`[${$.category}] ${$.message}`).join("; ")} Please resolve these constraints before proceeding.`,w?.(ne),g&&sf(g,{failedIterations:ne.violations.map($=>$.message)});continue}return g&&(nO(g,N,j),sf(g,{constraintsMet:["All physical constraints satisfied"]})),{success:!0,surfaces:N,transaction:K,traceResult:j}}return{success:!1,error:T||"Agent did not converge",lastTransaction:O??void 0}}const Z0="photonleap_agent_keys",x5="photonleap_agent_local_mode",b5="photonleap_agent_local_models",Op={openai:"",anthropic:"",deepseek:""};function oO(){try{const e=localStorage.getItem(Z0);if(!e)return Op;const t=JSON.parse(e);return{openai:t.openai??"",anthropic:t.anthropic??"",deepseek:t.deepseek??""}}catch{return Op}}function aO(){try{return localStorage.getItem(x5)==="true"}catch{return!1}}function sO(){try{const e=localStorage.getItem(b5);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.filter(n=>typeof n=="string"&&n.trim().length>0):[]}catch{return[]}}const w5=S.createContext(null);function ple({children:e}){const[t,n]=S.useState(oO),[r,i]=S.useState(aO),[o,s]=S.useState(sO);S.useEffect(()=>{n(oO()),i(aO()),s(sO())},[]);const l=S.useCallback(g=>{n(g);try{localStorage.setItem(Z0,JSON.stringify(g))}catch{}},[]),u=S.useCallback(()=>{try{localStorage.removeItem(Z0)}catch{}n({openai:"",anthropic:"",deepseek:""})},[]),d=S.useCallback(g=>t[g]||"",[t]),f=S.useCallback(g=>{i(g);try{localStorage.setItem(x5,String(g))}catch{}},[]),p=S.useCallback(g=>{const x=g.map(w=>w.trim()).filter(Boolean);s(x);try{localStorage.setItem(b5,JSON.stringify(x))}catch{}},[]),m=S.useMemo(()=>({keys:t,setKeys:l,clearAllKeys:u,getKey:d,localMode:r,setLocalMode:f,localModels:o,setLocalModels:p}),[t,l,u,d,r,f,o,p]);return y.jsx(w5.Provider,{value:m,children:e})}function lO(e){return{openai:!!e.openai?.trim(),anthropic:!!e.anthropic?.trim(),deepseek:!!e.deepseek?.trim()}}function hle(){const e=S.useContext(w5);if(!e)return{keys:Op,hasKeys:lO(Op),setKeys:()=>{},clearAllKeys:()=>{},getKey:n=>"",localMode:!1,setLocalMode:()=>{},localModels:[],setLocalModels:()=>{}};const t=S.useMemo(()=>lO(e.keys),[e.keys]);return{keys:e.keys,hasKeys:t,setKeys:e.setKeys,clearAllKeys:e.clearAllKeys,getKey:e.getKey,localMode:e.localMode,setLocalMode:e.setLocalMode,localModels:e.localModels,setLocalModels:e.setLocalModels}}const mle=[{id:"openai",label:"OpenAI (GPT-4o / o1)",placeholder:"sk-...",dashboardUrl:"https://platform.openai.com/api-keys"},{id:"anthropic",label:"Anthropic (Claude 3.5 / Opus)",placeholder:"sk-ant-...",dashboardUrl:"https://console.anthropic.com/settings/keys"},{id:"deepseek",label:"DeepSeek",placeholder:"sk-...",dashboardUrl:"https://platform.deepseek.com/api_keys"}];function gle({open:e,onClose:t,initialKeys:n={},onSyncKeys:r,onClearAllKeys:i,requiredMessage:o,localMode:s=!1,onLocalModeChange:l,localModels:u=[],onLocalModelsChange:d}){const[f,p]=S.useState({openai:n.openai??"",anthropic:n.anthropic??"",deepseek:n.deepseek??""}),[m,g]=S.useState(""),[x,w]=S.useState({openai:!0,anthropic:!0,deepseek:!0}),[b,C]=S.useState(!1);S.useEffect(()=>{e&&p({openai:n.openai??"",anthropic:n.anthropic??"",deepseek:n.deepseek??""})},[e,n.openai,n.anthropic,n.deepseek]);const k=S.useCallback((O,T)=>{p(D=>({...D,[O]:T}))},[]),E=S.useCallback(O=>{w(T=>({...T,[O]:!T[O]}))},[]),N=S.useCallback(async()=>{C(!0),await new Promise(O=>setTimeout(O,600)),r?.(f),C(!1),t()},[f,r,t]),j=S.useCallback(()=>{p({openai:"",anthropic:"",deepseek:""}),i?.(),t()},[i,t]);return e?y.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t,"aria-hidden":!0}),y.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-white/20 bg-white/5 shadow-2xl",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 50%, rgba(34,211,238,0.03) 100%)",boxShadow:"0 0 40px rgba(34, 211, 238, 0.08), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[y.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl overflow-hidden opacity-[0.03]",style:{background:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.3) 2px, rgba(0,0,0,0.3) 4px)"}}),y.jsxs("div",{className:"relative p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h2",{className:"text-xl font-bold tracking-widest uppercase text-cyan-electric",style:{fontFamily:"'Orbitron', 'Rajdhani', monospace"},children:"Agent Uplink"}),y.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-colors","aria-label":"Close",children:y.jsx(Rs,{className:"w-5 h-5"})})]}),o&&y.jsx("p",{className:"text-amber-400/90 text-sm mb-4 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/30",children:o}),l&&y.jsxs("div",{className:"flex items-center justify-between mb-6 p-3 rounded-xl border border-white/10 bg-black/20",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(O3,{className:"w-4 h-4 text-cyan-electric"}),y.jsx("span",{className:"text-sm font-medium text-slate-200",children:"Local Mode"}),y.jsx("span",{className:"text-xs text-slate-500",children:"(LM Studio @ localhost:1234)"})]}),y.jsx("button",{type:"button",role:"switch","aria-checked":s,onClick:()=>l(!s),className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-electric/50 focus:ring-offset-2 focus:ring-offset-slate-900 ${s?"bg-cyan-electric":"bg-slate-600"}`,children:y.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition ${s?"translate-x-5":"translate-x-0.5"}`})})]}),s&&d&&y.jsxs("div",{className:"mb-6 p-4 rounded-xl border border-cyan-electric/30 bg-black/20",children:[y.jsx("p",{className:"text-cyan-electric/90 text-sm font-medium mb-2",children:"Local Models"}),y.jsx("p",{className:"text-slate-400 text-xs mb-3",children:"Enter the exact model name(s) from LM Studio (e.g. deepseek-r1-distill-qwen-32b-mlx). These are sent to localhost only."}),y.jsxs("div",{className:"flex gap-2 mb-3",children:[y.jsx("input",{type:"text",value:m,onChange:O=>g(O.target.value),onKeyDown:O=>{if(O.key==="Enter"){O.preventDefault();const T=m.trim();T&&!u.includes(T)&&(d([...u,T]),g(""))}},placeholder:"e.g. deepseek-r1-distill-qwen-32b-mlx",className:"flex-1 px-3 py-2 rounded-lg bg-black/30 border border-white/10 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-electric/50 font-mono text-sm"}),y.jsxs("button",{type:"button",onClick:()=>{const O=m.trim();O&&!u.includes(O)&&(d([...u,O]),g(""))},className:"px-3 py-2 rounded-lg bg-cyan-electric/20 text-cyan-electric border border-cyan-electric/40 hover:bg-cyan-electric/30 transition-colors flex items-center gap-1",children:[y.jsx(Ms,{className:"w-4 h-4"}),"Add"]})]}),u.length>0?y.jsx("ul",{className:"space-y-2",children:u.map(O=>y.jsxs("li",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-black/30 border border-white/10",children:[y.jsx("span",{className:"text-slate-200 font-mono text-sm truncate",children:O}),y.jsx("button",{type:"button",onClick:()=>d(u.filter(T=>T!==O)),className:"p-1.5 rounded text-slate-400 hover:text-amber-400 hover:bg-amber-500/10 transition-colors","aria-label":`Remove ${O}`,children:y.jsx(B3,{className:"w-4 h-4"})})]},O))}):y.jsx("p",{className:"text-slate-500 text-xs italic",children:"No models added yet. Add at least one to use Local Mode."})]}),y.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Configure API keys for LeapOS agents. Keys are stored locally and never sent except to the respective provider."}),y.jsx("div",{className:"space-y-4",children:mle.map(({id:O,label:T,placeholder:D,dashboardUrl:B})=>y.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 bg-black/20",children:[y.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${f[O]?.trim()?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.8)]":"bg-slate-500"}`}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:T}),y.jsxs("div",{className:"relative flex items-center gap-2",children:[y.jsx("input",{type:x[O]?"password":"text",value:f[O],onChange:X=>k(O,X.target.value),placeholder:D,className:"w-full px-3 py-2 rounded-lg bg-black/30 border border-white/10 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-electric/50 focus:ring-1 focus:ring-cyan-electric/30 font-mono text-sm"}),y.jsx("button",{type:"button",onClick:()=>E(O),className:"p-2 rounded-lg text-slate-400 hover:text-cyan-electric transition-colors shrink-0","aria-label":x[O]?"Show key":"Hide key",children:x[O]?y.jsx(_3,{className:"w-4 h-4"}):y.jsx(j3,{className:"w-4 h-4"})}),y.jsx("a",{href:B,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg text-slate-400 hover:text-cyan-electric transition-colors shrink-0","aria-label":`Open ${T} dashboard`,children:y.jsx(L3,{className:"w-4 h-4"})})]})]})]},O))}),y.jsxs("button",{type:"button",onClick:N,disabled:b,className:"mt-6 w-full py-3 rounded-xl font-semibold tracking-wider uppercase text-cyan-electric border border-cyan-electric/50 bg-cyan-electric/10 hover:bg-cyan-electric/20 disabled:opacity-50 transition-all relative overflow-hidden uplink-sync-btn",style:{fontFamily:"'Orbitron', 'Rajdhani', monospace"},children:[y.jsx("div",{className:"absolute inset-0 pointer-events-none uplink-scanline","aria-hidden":!0}),y.jsx("span",{className:"relative",children:b?"Syncing...":"Sync Keys"})]}),i&&y.jsxs("button",{type:"button",onClick:j,className:"mt-3 w-full py-2 rounded-xl font-medium text-sm text-slate-400 hover:text-amber-400 hover:bg-amber-500/10 border border-transparent hover:border-amber-500/30 transition-all flex items-center justify-center gap-2",style:{fontFamily:"'Orbitron', 'Rajdhani', monospace"},children:[y.jsx(wf,{className:"w-4 h-4"}),"Clear All Keys"]})]})]}),y.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap');
        .uplink-scanline {
          background: repeating-linear-gradient(
            0deg,
            transparent 0px,
            transparent 3px,
            rgba(34, 211, 238, 0.08) 3px,
            rgba(34, 211, 238, 0.08) 4px
          );
          animation: uplink-scanline 2s linear infinite;
          opacity: 0.8;
        }
        .uplink-sync-btn:hover .uplink-scanline,
        .uplink-sync-btn:focus .uplink-scanline {
          animation-duration: 1s;
          opacity: 1;
        }
        @keyframes uplink-scanline {
          0% { transform: translateY(-100%); }
          100% { transform: translateY(100%); }
        }
      `})]}):null}const Sy=[{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",provider:"anthropic",role:"physicist",description:"Master Consultant  highest reasoning ceiling"},{id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",provider:"anthropic",role:"physicist",description:"The Physicist  Goldilocks for coding/math"},{id:"gpt-4o",name:"GPT-4o",provider:"openai",role:"visionary",description:"The Visionary  multimodal, vision-to-physics"},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"openai",description:"Lightweight"},{id:"o1-2024-12-17",name:"OpenAI o1",provider:"openai",role:"optimizer",description:"The Optimizer  chain-of-thought reasoning"},{id:"deepseek-chat",name:"DeepSeek Chat",provider:"deepseek",description:"DeepSeek"},{id:"deepseek-reasoner",name:"DeepSeek Reasoner",provider:"deepseek",role:"optimizer",description:"Reasoning-heavy for quantum"}];function vle(e,t){if(e.startsWith("claude"))return t.anthropic?.trim()||void 0;if(e.startsWith("gpt")||e.startsWith("o1"))return t.openai?.trim()||void 0;if(e.startsWith("deepseek"))return t.deepseek?.trim()||void 0}function yle({systemState:e,onSystemStateChange:t,recentSemanticDeltas:n=[],onClearSemanticDeltas:r}){const{keys:i,setKeys:o,clearAllKeys:s,localMode:l,setLocalMode:u,localModels:d,setLocalModels:f}=hle(),[p,m]=S.useState(!1),[g,x]=S.useState(null),[w,b]=S.useState(""),[C,k]=S.useState("claude-3-5-sonnet-20241022"),[E,N]=S.useState(""),[j,O]=S.useState(!1),[T,D]=S.useState(null),[B,X]=S.useState(null),[G,F]=S.useState(null),[W,de]=S.useState(null),[ce,Se]=S.useState(""),[ee,K]=S.useState(!1),[ie,ne]=S.useState(!1),[R,$]=S.useState([]),[oe,fe]=S.useState(-1),[ue,ve]=S.useState([]),[re,U]=S.useState(null),[M,Y]=S.useState(null),[J,V]=S.useState(!1),[we,Z]=S.useState(!1),[Ie,$e]=S.useState(!1),Ke=S.useRef(""),ct=S.useRef(!1),Nt=S.useRef(null),Mt=S.useRef(null),xe=S.useRef(null),rt=S.useRef(tO()),ht=50,Ge=["image/png","image/jpeg","image/jpg","image/gif","image/webp"],lt=5;function ot(he){return new Promise((et,Je)=>{if(!Ge.includes(he.type)){Je(new Error(`Unsupported format: ${he.type}. Use PNG, JPEG, GIF, or WebP.`));return}if(he.size>lt*1024*1024){Je(new Error(`Image too large (max ${lt} MB).`));return}const Zt=new FileReader;Zt.onload=()=>{const Ut=Zt.result.match(/^data:([^;]+);base64,(.+)$/);if(!Ut){Je(new Error("Failed to read image."));return}et({mediaType:Ut[1],data:Ut[2]})},Zt.onerror=()=>Je(new Error("Failed to read file.")),Zt.readAsDataURL(he)})}S.useEffect(()=>{const he=et=>{Nt.current&&!Nt.current.contains(et.target)&&K(!1)};return ee&&document.addEventListener("click",he),()=>document.removeEventListener("click",he)},[ee]),S.useEffect(()=>{Mt.current?.scrollTo({top:Mt.current.scrollHeight,behavior:"smooth"})},[ce]),S.useEffect(()=>{l&&N(he=>d.length===0?"":!he||!d.includes(he)?d[0]:he)},[l,d]);const Xt={surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays,focusMode:e.focusMode,m2Factor:e.m2Factor},wt=p5(Xt,e.traceResult),vn=vle(C,i),yn=l?d.length>0:!!vn,On=l?E:C,oi=S.useCallback(async()=>{const he=w.trim();if(!he&&!ue.length)return;if(!yn){if(l)x("Local Mode: Add at least one model name in Agent Uplink (Manage keys) to proceed.");else{const Ze=Sy.find(Ft=>Ft.id===C)?.name??C;x(`Neural Link Required: Please provide an API key for ${Ze} to proceed.`)}m(!0);return}if(l&&!E){x("Local Mode: Select a model from the dropdown, or add models in Agent Uplink."),m(!0);return}D("Thinking..."),X(null),F(null),de(null),Se(""),ne(!1),U(null),Y(null);const et=[...ue];ct.current=et.length>0,ve([]),b(""),Ke.current="",fe(-1);const Je=he||(et.length?`[${et.length} image(s) attached]`:"");$(Ze=>Je?[Je,...Ze.filter(Va=>Va!==Je)].slice(0,ht):Ze);const Zt=new AbortController;xe.current=Zt;const tt=n.length>0?`[Recent edits: ${n.map(Ze=>Ze.physicalImplication).join("; ")}]

${he}`:he||"(Please analyze the attached image(s).)",Ut=await fle(e,tt,{model:On,maxRetries:3,onProgress:D,apiKeys:i.openai||i.anthropic||i.deepseek?i:void 0,onProposal:Ze=>{t(Ft=>({...Ft,ghostSurfaces:Ze}))},localMode:l,onThinking:Ze=>Se(Ft=>Ft+Ze),onThinkingClear:()=>Se(""),signal:Zt.signal,session:rt.current,useRouter:!l,images:et.length?et:void 0,onPhysicsViolation:Y});if(xe.current=null,D(null),Y(null),Ut.success){r?.(),X("success"),F(Ut.transaction.reasoning??null);const Ze=Ut.traceResult;t(Ft=>({...Ft,surfaces:Ut.surfaces,ghostSurfaces:null,traceResult:Ze?{rays:Ze.rays??Ft.traceResult?.rays??[],surfaces:Ze.surfaces??Ft.traceResult?.surfaces??[],focusZ:Ze.focusZ??Ft.traceResult?.focusZ??0,bestFocusZ:Ze.bestFocusZ??Ft.traceResult?.bestFocusZ,zOrigin:Ze.zOrigin??Ft.traceResult?.zOrigin,performance:Ze.performance??Ft.traceResult?.performance,metricsSweep:Ze.metricsSweep??Ft.traceResult?.metricsSweep,gaussianBeam:Ze.gaussianBeam??Ft.traceResult?.gaussianBeam}:Ft.traceResult,hasTraced:!0,traceError:null,...Ze?.performance?{rmsSpotRadius:Ze.performance.rmsSpotRadius,totalLength:Ze.performance.totalLength,fNumber:Ze.performance.fNumber}:{}}))}else X("error"),de(Ut.aborted?"Stopped by user":Ut.error),Ut.localUnreachable&&ne(!0),t(Ze=>({...Ze,ghostSurfaces:null}))},[w,ue,C,E,On,yn,e,t,i,l,n,r]),wr=S.useCallback(()=>{xe.current?.abort()},[]),Bn=S.useCallback(()=>{V(!0)},[]),Wa=S.useCallback(()=>{rt.current=tO(),V(!1),Z(!0),$e(!0)},[]);return S.useEffect(()=>{if(!we)return;const he=setTimeout(()=>Z(!1),Me.toastDuration);return()=>clearTimeout(he)},[we]),S.useEffect(()=>{if(!Ie)return;const he=setTimeout(()=>$e(!1),1200);return()=>clearTimeout(he)},[Ie]),y.jsxs("div",{className:"h-full flex flex-col bg-slate-900/50 rounded-lg border border-white/10 overflow-hidden",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg",children:"LeapOS Command Deck"}),y.jsx("p",{className:"text-slate-400 text-sm mt-0.5",children:"Describe your optical design intent. The agent will propose surface changes and validate via ray trace."})]}),y.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-slate-400 text-xs font-medium mb-1.5",children:"Model"}),y.jsx("div",{className:"relative",ref:Nt,children:l?y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",onClick:()=>d.length>0&&K(he=>!he),disabled:d.length===0,className:"w-full flex items-center justify-between gap-2 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-slate-200 text-sm hover:border-cyan-electric/30 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:[y.jsx("span",{className:"font-mono truncate",children:E||(d.length===0?"Add models in Uplink":"Select local model")}),y.jsx(Os,{className:`w-4 h-4 shrink-0 transition-transform ${ee?"rotate-180":""}`})]}),ee&&d.length>0&&y.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 py-1 bg-slate-800 border border-white/10 rounded-lg shadow-xl z-10 max-h-48 overflow-y-auto",children:d.map(he=>y.jsx("button",{type:"button",onClick:()=>{N(he),K(!1)},className:`w-full px-3 py-2 text-left text-sm font-mono hover:bg-white/5 transition-colors ${E===he?"text-cyan-electric bg-white/5":"text-slate-300"}`,children:he},he))})]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",onClick:()=>K(he=>!he),className:"w-full flex items-center justify-between gap-2 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-slate-200 text-sm hover:border-cyan-electric/30 transition-colors",children:[y.jsx("span",{children:Sy.find(he=>he.id===C)?.name??C}),y.jsx(Os,{className:`w-4 h-4 transition-transform ${ee?"rotate-180":""}`})]}),ee&&y.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 py-1 bg-slate-800 border border-white/10 rounded-lg shadow-xl z-10",children:Sy.map(he=>y.jsxs("button",{type:"button",onClick:()=>{k(he.id),K(!1)},className:`w-full px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors ${C===he.id?"text-cyan-electric bg-white/5":"text-slate-300"}`,children:[y.jsx("span",{className:"font-medium",children:he.name}),he.role&&y.jsxs("span",{className:"text-cyan-electric/70 text-xs ml-2",children:["[",he.role,"]"]}),y.jsx("span",{className:"text-slate-500 text-xs ml-2 block mt-0.5",children:he.description})]},he.id))})]})}),l&&y.jsx("p",{className:"text-cyan-electric/80 text-xs mt-1.5",children:"Local Mode  LM Studio @ localhost:1234"}),!yn&&!l&&y.jsxs("p",{className:"text-amber-500/90 text-xs mt-1.5 flex items-center gap-2",children:[y.jsxs("button",{type:"button",onClick:()=>{x(null),m(!0)},className:"inline-flex items-center gap-1 text-cyan-electric hover:underline",children:[y.jsx(yP,{className:"w-3.5 h-3.5"}),"Configure Uplink"]}),"to add an API key"]}),(yn||l)&&y.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[y.jsxs("button",{type:"button",onClick:()=>{x(null),m(!0)},className:"text-slate-500 hover:text-cyan-electric text-xs flex items-center gap-1",children:[y.jsx(yP,{className:"w-3 h-3"}),l?"Manage keys & models":"Manage keys"]}),y.jsxs("button",{type:"button",onClick:Bn,disabled:!!T,className:`text-slate-500 hover:text-cyan-electric text-xs flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed transition-colors ${Ie?"text-cyan-electric":""}`,title:"Start fresh  clear episodic memory and context",children:[y.jsx(xP,{className:`w-3 h-3 ${Ie?"animate-spin":""}`}),"New Session"]})]})]}),y.jsx(gle,{open:p,onClose:()=>{m(!1),x(null)},initialKeys:i,onSyncKeys:he=>o(he),onClearAllKeys:s,requiredMessage:g??void 0,localMode:l,onLocalModeChange:u,localModels:d,onLocalModelsChange:f}),Uo.createPortal(y.jsx(ni,{children:J&&y.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:he=>he.target===he.currentTarget&&V(!1),role:"dialog","aria-modal":"true","aria-labelledby":"new-session-confirm-title",children:y.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-sm rounded-xl border border-slate-600/80 bg-slate-900/95 shadow-2xl backdrop-blur-xl p-4",onClick:he=>he.stopPropagation(),children:[y.jsx("h3",{id:"new-session-confirm-title",className:"text-lg font-semibold text-cyan-electric mb-2",children:"New Session"}),y.jsx("p",{className:"text-slate-300 text-sm mb-4",children:"Are you sure you want to reset all context? The agent will forget previous goals, constraints, and failed attempts."}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{type:"button",onClick:()=>V(!1),className:"px-3 py-1.5 text-sm text-slate-400 hover:text-slate-200 hover:bg-white/5 rounded-lg transition-colors",children:"Cancel"}),y.jsx("button",{type:"button",onClick:Wa,className:"px-3 py-1.5 text-sm font-medium bg-cyan-electric/20 text-cyan-electric hover:bg-cyan-electric/30 rounded-lg transition-colors",children:"Reset"})]})]})},"new-session-confirm")}),document.body),Uo.createPortal(y.jsx(ni,{children:we&&y.jsxs(qe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0},className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 px-4 py-2 rounded-lg bg-emerald-500/20 border border-emerald-500/40 text-emerald-300 text-sm shadow-xl backdrop-blur-sm flex items-center gap-2",role:"status","aria-live":"polite",children:[y.jsx(xP,{className:"w-4 h-4 animate-spin shrink-0"}),"Session reset  context cleared"]},"new-session-toast")}),document.body),ie&&l&&y.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30 flex flex-col gap-2",children:[y.jsx("p",{className:"text-amber-400/90 text-sm font-medium",children:"Local Node Offline"}),y.jsx("p",{className:"text-slate-400 text-xs",children:"Unable to reach LM Studio at localhost:1234. If LM Studio is running, enable CORS in its Developer tab (Server Settings  Enable CORS). Otherwise switch back to Cloud API?"}),y.jsx("button",{type:"button",onClick:()=>{u(!1),ne(!1),de(null)},className:"self-start px-3 py-1.5 text-sm font-medium text-cyan-electric hover:bg-cyan-electric/10 rounded-lg transition-colors",children:"Switch to Cloud API"})]}),R.length>0&&y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-slate-500/80 text-[10px] font-medium uppercase tracking-wider",children:"Recent commands"}),y.jsx("div",{className:"space-y-0.5 max-h-20 overflow-y-auto",children:R.slice(0,5).map((he,et)=>y.jsxs("div",{className:"px-2.5 py-1.5 rounded-md bg-slate-800/40 border border-white/[0.04] text-slate-500 text-[11px] font-mono leading-relaxed truncate",title:he,children:[y.jsx("span",{className:"text-slate-600 mr-1.5",children:""}),he.length>80?`${he.slice(0,80)}`:he]},`${et}-${he.slice(0,20)}`))})]}),y.jsxs("div",{onDragOver:he=>{he.preventDefault(),he.stopPropagation()},onDrop:he=>{he.preventDefault(),he.stopPropagation(),U(null);const et=Array.from(he.dataTransfer.files).filter(Je=>Ge.includes(Je.type));if(et.length===0&&he.dataTransfer.files.length>0){U("Only PNG, JPEG, GIF, or WebP images are supported.");return}Promise.all(et.map(Je=>ot(Je))).then(Je=>{ve(Zt=>[...Zt,...Je].slice(0,4))}).catch(Je=>U(Je instanceof Error?Je.message:"Failed to add images."))},onPaste:he=>{const et=Array.from(he.clipboardData?.files??[]).filter(Je=>Ge.includes(Je.type));et.length!==0&&(he.preventDefault(),U(null),Promise.all(et.map(Je=>ot(Je))).then(Je=>{ve(Zt=>[...Zt,...Je].slice(0,4))}).catch(Je=>U(Je instanceof Error?Je.message:"Failed to add images.")))},children:[y.jsx("label",{className:"block text-slate-400 text-xs font-medium mb-1.5",children:"Command"}),ue.length>0&&y.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:ue.map((he,et)=>y.jsxs("div",{className:"relative group",children:[y.jsx("img",{src:`data:${he.mediaType};base64,${he.data}`,alt:"",className:"w-14 h-14 object-cover rounded-lg border border-white/10"}),y.jsx("button",{type:"button",onClick:()=>ve(Je=>Je.filter((Zt,tt)=>tt!==et)),className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center rounded-full bg-slate-800 border border-white/20 text-slate-400 hover:bg-amber-500/20 hover:text-amber-400 hover:border-amber-500/40 transition-colors","aria-label":"Remove image",children:y.jsx(Rs,{className:"w-3 h-3"})})]},et))}),re&&y.jsx("p",{className:"text-amber-500/90 text-xs mb-1.5",children:re}),y.jsx("textarea",{value:w,onChange:he=>{b(he.target.value),oe>=0&&fe(-1)},onKeyDown:he=>{if(he.key==="Enter"&&!he.shiftKey){he.preventDefault(),(w.trim()||ue.length)&&oi();return}if(he.key==="ArrowUp"){if(he.preventDefault(),R.length===0)return;oe===-1&&(Ke.current=w);const et=Math.min(oe+1,R.length-1);fe(et),b(R[et]);return}if(he.key==="ArrowDown"){if(he.preventDefault(),oe<=-1)return;const et=oe-1;fe(et),b(et>=0?R[et]:Ke.current)}},placeholder:"e.g. Design a beam expander for 532nm laser, 50mm tube length  or drop/paste images",rows:4,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-slate-200 text-sm font-mono placeholder-slate-500 focus:outline-none focus:border-cyan-electric/50 focus:shadow-[0_0_8px_rgba(34,211,238,0.25)] resize-none"}),R.length>0&&y.jsx("p",{className:"text-slate-600/80 text-[10px] mt-1",children:" browse history"}),ue.length>0&&y.jsxs("p",{className:"text-slate-600/80 text-[10px] mt-1 flex items-center gap-1",children:[y.jsx(R3,{className:"w-3 h-3"}),"Drop or paste images (max ",lt," MB each)"]})]}),y.jsxs("div",{children:[y.jsxs("button",{type:"button",onClick:()=>O(he=>!he),className:"flex items-center gap-2 text-slate-400 text-xs font-medium hover:text-cyan-electric/80 transition-colors",children:[j?y.jsx(Os,{className:"w-3.5 h-3.5"}):y.jsx(Cy,{className:"w-3.5 h-3.5"}),"System context (optical_stack + traceResult)"]}),j&&y.jsx("pre",{className:"mt-2 p-3 bg-black/30 border border-white/10 rounded-lg text-xs text-slate-400 font-mono overflow-auto max-h-48",children:wt})]}),T&&y.jsx("div",{className:`flex items-center gap-2 px-2.5 py-1.5 rounded-lg border text-xs font-medium ${M?"bg-amber-500/10 border-amber-500/40 text-amber-400":"bg-emerald-500/5 border-emerald-500/20 text-emerald-400/90"}`,children:M?y.jsxs(y.Fragment,{children:[y.jsx(q3,{className:"w-3.5 h-3.5 shrink-0"}),y.jsxs("span",{children:["Physics Integrity: ",M.violations.length," constraint(s) violated  retrying"]})]}):y.jsxs(y.Fragment,{children:[y.jsx(X3,{className:"w-3.5 h-3.5 shrink-0"}),y.jsx("span",{children:"Physics Integrity: OK"})]})}),ce&&y.jsxs("div",{className:"p-2.5 rounded-lg bg-slate-800/50 border border-white/[0.06]",children:[y.jsx("p",{className:"text-slate-500/90 text-[10px] font-medium uppercase tracking-wider mb-1",children:"Thinking"}),y.jsx("div",{ref:Mt,className:"text-slate-500/90 text-[11px] leading-relaxed whitespace-pre-wrap font-mono max-h-36 overflow-y-auto",children:ce})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{type:"button",onClick:oi,disabled:!w.trim()&&!ue.length||!!T,className:"flex items-center gap-2 px-4 py-2 bg-cyan-electric/20 text-cyan-electric rounded-lg font-medium text-sm hover:bg-cyan-electric/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:T?y.jsxs(y.Fragment,{children:[y.jsx(js,{className:"w-4 h-4 animate-spin"}),T]}):y.jsxs(y.Fragment,{children:[y.jsx(K3,{className:"w-4 h-4"}),"Send"]})}),T&&y.jsxs("button",{type:"button",onClick:wr,className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 text-amber-400 rounded-lg font-medium text-sm hover:bg-amber-500/30 transition-colors",children:[y.jsx(Q3,{className:"w-4 h-4 fill-current"}),"Stop"]}),B==="success"&&y.jsxs("span",{className:"flex items-center gap-1.5 text-emerald-400 text-sm",children:[y.jsx(k3,{className:"w-4 h-4"}),"Design applied"]}),B==="error"&&y.jsxs("span",{className:"flex items-center gap-1.5 text-amber-500 text-sm",children:[y.jsx(E3,{className:"w-4 h-4"}),"Failed"]})]}),B==="success"&&G&&y.jsxs("div",{className:"p-3 rounded-lg bg-emerald-500/5 border border-emerald-500/20",children:[y.jsx("p",{className:"text-emerald-400/90 text-xs font-medium mb-1.5",children:"Agent explanation"}),y.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:G})]}),W&&y.jsxs("div",{className:"p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg space-y-2",children:[y.jsx("p",{className:"text-amber-500/90 text-sm font-mono",children:W}),W==="Could not parse valid transaction from LLM response"&&l&&ct.current&&y.jsx("p",{className:"text-slate-400 text-xs",children:"Many local models don't support vision. For image analysis, try a cloud model like GPT-4o or Claude."})]})]})]})}const S5="last_design";function xle(e,t){const n=Number(e.refractiveIndex??e.n??1)||1,r=Me.surfaceDefaults;return{id:typeof e.id=="string"&&e.id?e.id:crypto.randomUUID(),semanticName:typeof e.semanticName=="string"?e.semanticName:void 0,aiContext:typeof e.aiContext=="string"?e.aiContext:void 0,type:e.type==="Glass"||e.type==="Air"?e.type:n>1.01?"Glass":"Air",radius:Number(e.radius)||0,thickness:Number(e.thickness)||r.thickness,refractiveIndex:n,diameter:Number(e.diameter)||r.diameter,material:String(e.material??"Air"),description:String(e.description??""),radiusTolerance:e.radiusTolerance!=null?Number(e.radiusTolerance):void 0,thicknessTolerance:e.thicknessTolerance!=null?Number(e.thicknessTolerance):void 0,tiltTolerance:e.tiltTolerance!=null?Number(e.tiltTolerance):void 0,absorptionCoefficient:e.absorptionCoefficient!=null?Number(e.absorptionCoefficient):void 0,surfaceQuality:e.surfaceQuality!=null?String(e.surfaceQuality):void 0,coating:e.coating!=null?String(e.coating):void 0}}function ble(){try{const e=localStorage.getItem(S5);if(!e)return null;const t=JSON.parse(e);if(!t||!Array.isArray(t.surfaces))return null;const r=t.surfaces.filter(o=>typeof o=="object"&&o!==null).map((o,s)=>xle(o,s)),i={...xc,surfaces:r,entrancePupilDiameter:Number(t.entrancePupilDiameter)||Me.defaults.entrancePupilDiameter,wavelengths:Array.isArray(t.wavelengths)?t.wavelengths.map(Number):xc.wavelengths,fieldAngles:Array.isArray(t.fieldAngles)?t.fieldAngles.map(Number).slice(0,Me.maxFieldAngles):xc.fieldAngles,numRays:Number(t.numRays)||9,focusMode:t.focusMode==="Balanced"?"Balanced":"On-Axis",m2Factor:Math.max(.1,Math.min(10,Number(t.m2Factor)||1)),pulseWidthFs:Math.max(5,Math.min(1e4,Number(t.pulseWidthFs)||100)),laserPowerW:t.laserPowerW!=null?Number(t.laserPowerW):void 0,projectName:typeof t.projectName=="string"?t.projectName:void 0,hasTraced:!1,traceResult:null,traceError:null};return{...i,...$f(i)}}catch{return null}}const Py=["[ SYSTEM ] Initializing WebAssembly Runtime...","[ CORE ] Downloading Optical Physics Libraries (NumPy)...","[ NEURAL ] Establishing Local Memory Bridge...","[ READY ] Photon Leap V3.0 Active."];function wle({onReady:e}){const[t,n]=S.useState(0),[r,i]=S.useState(0),[o,s]=S.useState(!1),l=S.useRef();return S.useEffect(()=>{let u=!1,d;return c4().then(()=>{u||(n(Py.length-1),i(100),s(!0),d=setTimeout(e,800))}),()=>{u=!0,clearTimeout(d)}},[e]),S.useEffect(()=>{if(o)return;const u=setInterval(()=>{n(d=>Math.min(d+1,Py.length-2))},2200);return()=>clearInterval(u)},[o]),S.useEffect(()=>{if(o)return;const u=performance.now(),d=()=>{const f=performance.now()-u,p=Math.min(92,f/12e3*92);i(p),p<92&&(l.current=requestAnimationFrame(d))};return l.current=requestAnimationFrame(d),()=>{l.current&&cancelAnimationFrame(l.current)}},[o]),y.jsx("div",{className:"fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center",children:y.jsxs("div",{className:"w-full max-w-md px-8",children:[y.jsx("p",{className:"font-mono text-sm text-cyan-400 mb-6 tracking-widest min-h-[2.5rem]",style:{textShadow:"0 0 12px rgba(34, 211, 238, 0.6)"},children:Py[t]}),y.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full rounded-full transition-all duration-300 ease-out",style:{width:`${r}%`,background:"linear-gradient(90deg, #0891b2 0%, #22d3ee 50%, #67e8f9 100%)",boxShadow:"0 0 20px rgba(34, 211, 238, 0.8), 0 0 40px rgba(34, 211, 238, 0.4)"}})})]})})}function Sle(){const[e,t]=S.useState("agent"),[n,r]=S.useState(null),[i,o]=S.useState(null),[s,l]=S.useState(null),[u,d]=S.useState(!0),[f,p]=S.useState(!0),[m,g]=S.useState(!0),x=S.useRef(null),w=S.useRef(null),[b,C]=S.useState(null),[k,E]=S.useState([]),[N,j]=S.useState(()=>ble()??{...xc,...$f(xc)}),[O,T]=S.useState(()=>l4());S.useEffect(()=>{C(null)},[N.surfaces]),S.useEffect(()=>{const B={surfaces:N.surfaces,entrancePupilDiameter:N.entrancePupilDiameter,wavelengths:N.wavelengths,fieldAngles:N.fieldAngles,numRays:N.numRays,focusMode:N.focusMode??"On-Axis",m2Factor:N.m2Factor??1,pulseWidthFs:N.pulseWidthFs??100,laserPowerW:N.laserPowerW,projectName:N.projectName,totalLength:N.totalLength,fNumber:N.fNumber,rmsSpotRadius:N.rmsSpotRadius};localStorage.setItem(S5,JSON.stringify(B))},[N]);const D=S.useCallback(B=>{j(X=>{const G=typeof B=="function"?B(X):{...X,...B},F={...G,fieldAngles:(G.fieldAngles??[0]).slice(0,Me.maxFieldAngles)},W=$f(F);return{...F,...W}})},[]);return y.jsx(ple,{children:y.jsxs("div",{className:"min-h-screen bg-midnight flex flex-col",children:[O&&y.jsx(wle,{onReady:()=>T(!1)}),y.jsx(r4,{activeTab:e,onTabChange:t,loadedFileName:n}),y.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[y.jsxs("main",{className:"flex-1 overflow-auto p-4",children:[e==="lens"&&y.jsx(Dg,{systemState:N,onSystemStateChange:D,selectedSurfaceId:i,onSelectSurface:o,highlightedMetric:null,showBestFocus:u,snapToFocus:f,snapToSurface:m,onMonteCarloSensitivity:C}),e==="coating"&&y.jsx(Ese,{}),y.jsxs("div",{className:"flex flex-1 min-h-0 gap-4",style:{display:e==="agent"?"flex":"none"},children:[y.jsx("div",{className:"w-96 shrink-0 overflow-y-auto",children:y.jsx(yle,{systemState:N,onSystemStateChange:D,recentSemanticDeltas:k,onClearSemanticDeltas:()=>E([])})}),y.jsx("div",{className:"flex-1 min-w-0 min-h-[400px]",children:y.jsx(Dg,{systemState:N,onSystemStateChange:D,selectedSurfaceId:i,onSelectSurface:o,highlightedMetric:null,showBestFocus:u,snapToFocus:f,snapToSurface:m,onMonteCarloSensitivity:C})})]}),e==="system"&&y.jsx(iH,{systemState:N,onSystemStateChange:D,onLoadComplete:r,selectedSurfaceId:i,onSelectSurface:o,sensitivityBySurface:b,onSemanticDelta:B=>E(X=>[...X.slice(-4),B])}),e==="info"&&y.jsxs("div",{className:"flex flex-1 min-h-0 gap-4",children:[y.jsx("div",{className:"w-96 shrink-0 overflow-y-auto",children:y.jsx(uH,{highlightedMetric:s,onHighlightMetric:l,onSystemStateChange:D,onRunSampleAnalysis:()=>x.current?.(),onOpenOptimizer:()=>w.current?.()})}),y.jsx("div",{className:"flex-1 min-w-0 min-h-[400px]",children:y.jsx(Dg,{systemState:N,onSystemStateChange:D,selectedSurfaceId:i,onSelectSurface:o,highlightedMetric:s,showPersistentHud:!0,showBestFocus:u,snapToFocus:f,snapToSurface:m,runSampleAnalysisRef:x,pulseOptimizeRef:w,onMonteCarloSensitivity:C})})]}),e==="properties"&&y.jsx("div",{className:"h-full flex items-center justify-center text-slate-400",children:"Properties view  use the right sidebar"}),e==="export"&&y.jsx(dH,{systemState:N,onSystemStateChange:D})]}),y.jsx("aside",{className:"w-80 shrink-0 overflow-auto",children:y.jsx(_se,{systemState:N,onSystemStateChange:D,selectedSurfaceId:i,onSelectSurface:o,showBestFocus:u,onShowBestFocusChange:d,snapToFocus:f,onSnapToFocusChange:p,snapToSurface:m,onSnapToSurfaceChange:g})})]})]})})}class Ple extends S.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("App error:",t,n.componentStack)}render(){return this.state.hasError&&this.state.error?y.jsxs("div",{className:"min-h-screen bg-[#0B1120] text-slate-200 p-8 font-mono",children:[y.jsx("h1",{className:"text-xl font-bold text-red-400 mb-4",children:"Something went wrong"}),y.jsx("pre",{className:"text-sm overflow-auto bg-black/30 p-4 rounded-lg",children:this.state.error.toString()}),y.jsx("p",{className:"mt-4 text-slate-400 text-sm",children:"Check the browser console for more details."})]}):this.props.children}}b3.createRoot(document.getElementById("root")).render(y.jsx(S.StrictMode,{children:y.jsx(Ple,{children:y.jsx(Sle,{})})}));
