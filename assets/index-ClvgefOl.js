function o3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Yi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lg={exports:{}},Wl={},cg={exports:{}},Xe={};var oP;function a3(){if(oP)return Xe;oP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(L){return L===null||typeof L!="object"?null:(L=p&&L[p]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function b(L,W,ie){this.props=L,this.context=W,this.refs=w,this.updater=ie||v}b.prototype.isReactComponent={},b.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},b.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=b.prototype;function k(L,W,ie){this.props=L,this.context=W,this.refs=w,this.updater=ie||v}var E=k.prototype=new C;E.constructor=k,x(E,b.prototype),E.isPureReactComponent=!0;var N=Array.isArray,D=Object.prototype.hasOwnProperty,O={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function T(L,W,ie){var se,de={},X=null,$=null;if(W!=null)for(se in W.ref!==void 0&&($=W.ref),W.key!==void 0&&(X=""+W.key),W)D.call(W,se)&&!_.hasOwnProperty(se)&&(de[se]=W[se]);var ee=arguments.length-2;if(ee===1)de.children=ie;else if(1<ee){for(var R=Array(ee),re=0;re<ee;re++)R[re]=arguments[re+2];de.children=R}if(L&&L.defaultProps)for(se in ee=L.defaultProps,ee)de[se]===void 0&&(de[se]=ee[se]);return{$$typeof:e,type:L,key:X,ref:$,props:de,_owner:O.current}}function V(L,W){return{$$typeof:e,type:L.type,key:W,ref:L.ref,props:L.props,_owner:L._owner}}function Y(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function K(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ie){return W[ie]})}var B=/\/+/g;function U(L,W){return typeof L=="object"&&L!==null&&L.key!=null?K(""+L.key):W.toString(36)}function ue(L,W,ie,se,de){var X=typeof L;(X==="undefined"||X==="boolean")&&(L=null);var $=!1;if(L===null)$=!0;else switch(X){case"string":case"number":$=!0;break;case"object":switch(L.$$typeof){case e:case t:$=!0}}if($)return $=L,de=de($),L=se===""?"."+U($,0):se,N(de)?(ie="",L!=null&&(ie=L.replace(B,"$&/")+"/"),ue(de,W,ie,"",function(re){return re})):de!=null&&(Y(de)&&(de=V(de,ie+(!de.key||$&&$.key===de.key?"":(""+de.key).replace(B,"$&/")+"/")+L)),W.push(de)),1;if($=0,se=se===""?".":se+":",N(L))for(var ee=0;ee<L.length;ee++){X=L[ee];var R=se+U(X,ee);$+=ue(X,W,ie,R,de)}else if(R=m(L),typeof R=="function")for(L=R.call(L),ee=0;!(X=L.next()).done;)X=X.value,R=se+U(X,ee++),$+=ue(X,W,ie,R,de);else if(X==="object")throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return $}function oe(L,W,ie){if(L==null)return L;var se=[],de=0;return ue(L,se,"","",function(X){return W.call(ie,X,de++)}),se}function we(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(ie){(L._status===0||L._status===-1)&&(L._status=1,L._result=ie)},function(ie){(L._status===0||L._status===-1)&&(L._status=2,L._result=ie)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var Q={current:null},G={transition:null},ne={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:G,ReactCurrentOwner:O};function te(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:oe,forEach:function(L,W,ie){oe(L,function(){W.apply(this,arguments)},ie)},count:function(L){var W=0;return oe(L,function(){W++}),W},toArray:function(L){return oe(L,function(W){return W})||[]},only:function(L){if(!Y(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Xe.Component=b,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=k,Xe.StrictMode=r,Xe.Suspense=u,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Xe.act=te,Xe.cloneElement=function(L,W,ie){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var se=x({},L.props),de=L.key,X=L.ref,$=L._owner;if(W!=null){if(W.ref!==void 0&&(X=W.ref,$=O.current),W.key!==void 0&&(de=""+W.key),L.type&&L.type.defaultProps)var ee=L.type.defaultProps;for(R in W)D.call(W,R)&&!_.hasOwnProperty(R)&&(se[R]=W[R]===void 0&&ee!==void 0?ee[R]:W[R])}var R=arguments.length-2;if(R===1)se.children=ie;else if(1<R){ee=Array(R);for(var re=0;re<R;re++)ee[re]=arguments[re+2];se.children=ee}return{$$typeof:e,type:L.type,key:de,ref:X,props:se,_owner:$}},Xe.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:o,_context:L},L.Consumer=L},Xe.createElement=T,Xe.createFactory=function(L){var W=T.bind(null,L);return W.type=L,W},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(L){return{$$typeof:l,render:L}},Xe.isValidElement=Y,Xe.lazy=function(L){return{$$typeof:f,_payload:{_status:-1,_result:L},_init:we}},Xe.memo=function(L,W){return{$$typeof:d,type:L,compare:W===void 0?null:W}},Xe.startTransition=function(L){var W=G.transition;G.transition={};try{L()}finally{G.transition=W}},Xe.unstable_act=te,Xe.useCallback=function(L,W){return Q.current.useCallback(L,W)},Xe.useContext=function(L){return Q.current.useContext(L)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(L){return Q.current.useDeferredValue(L)},Xe.useEffect=function(L,W){return Q.current.useEffect(L,W)},Xe.useId=function(){return Q.current.useId()},Xe.useImperativeHandle=function(L,W,ie){return Q.current.useImperativeHandle(L,W,ie)},Xe.useInsertionEffect=function(L,W){return Q.current.useInsertionEffect(L,W)},Xe.useLayoutEffect=function(L,W){return Q.current.useLayoutEffect(L,W)},Xe.useMemo=function(L,W){return Q.current.useMemo(L,W)},Xe.useReducer=function(L,W,ie){return Q.current.useReducer(L,W,ie)},Xe.useRef=function(L){return Q.current.useRef(L)},Xe.useState=function(L){return Q.current.useState(L)},Xe.useSyncExternalStore=function(L,W,ie){return Q.current.useSyncExternalStore(L,W,ie)},Xe.useTransition=function(){return Q.current.useTransition()},Xe.version="18.3.1",Xe}var aP;function Vs(){return aP||(aP=1,cg.exports=a3()),cg.exports}var sP;function s3(){if(sP)return Wl;sP=1;var e=Vs(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,u,d){var f,p={},m=null,v=null;d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(v=u.ref);for(f in u)r.call(u,f)&&!o.hasOwnProperty(f)&&(p[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:t,type:l,key:m,ref:v,props:p,_owner:i.current}}return Wl.Fragment=n,Wl.jsx=s,Wl.jsxs=s,Wl}var lP;function l3(){return lP||(lP=1,lg.exports=s3()),lg.exports}var y=l3(),P=Vs();const ut=Yi(P),c3=o3({__proto__:null,default:ut},[P]);var Od={},ug={exports:{}},Vn={},dg={exports:{}},fg={};var cP;function u3(){return cP||(cP=1,(function(e){function t(G,ne){var te=G.length;G.push(ne);e:for(;0<te;){var L=te-1>>>1,W=G[L];if(0<i(W,ne))G[L]=ne,G[te]=W,te=L;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],te=G.pop();if(te!==ne){G[0]=te;e:for(var L=0,W=G.length,ie=W>>>1;L<ie;){var se=2*(L+1)-1,de=G[se],X=se+1,$=G[X];if(0>i(de,te))X<W&&0>i($,de)?(G[L]=$,G[X]=te,L=X):(G[L]=de,G[se]=te,L=se);else if(X<W&&0>i($,te))G[L]=$,G[X]=te,L=X;else break e}}return ne}function i(G,ne){var te=G.sortIndex-ne.sortIndex;return te!==0?te:G.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],d=[],f=1,p=null,m=3,v=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(G){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=G)r(d),ne.sortIndex=ne.expirationTime,t(u,ne);else break;ne=n(d)}}function N(G){if(w=!1,E(G),!x)if(n(u)!==null)x=!0,we(D);else{var ne=n(d);ne!==null&&Q(N,ne.startTime-G)}}function D(G,ne){x=!1,w&&(w=!1,C(T),T=-1),v=!0;var te=m;try{for(E(ne),p=n(u);p!==null&&(!(p.expirationTime>ne)||G&&!K());){var L=p.callback;if(typeof L=="function"){p.callback=null,m=p.priorityLevel;var W=L(p.expirationTime<=ne);ne=e.unstable_now(),typeof W=="function"?p.callback=W:p===n(u)&&r(u),E(ne)}else r(u);p=n(u)}if(p!==null)var ie=!0;else{var se=n(d);se!==null&&Q(N,se.startTime-ne),ie=!1}return ie}finally{p=null,m=te,v=!1}}var O=!1,_=null,T=-1,V=5,Y=-1;function K(){return!(e.unstable_now()-Y<V)}function B(){if(_!==null){var G=e.unstable_now();Y=G;var ne=!0;try{ne=_(!0,G)}finally{ne?U():(O=!1,_=null)}}else O=!1}var U;if(typeof k=="function")U=function(){k(B)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,oe=ue.port2;ue.port1.onmessage=B,U=function(){oe.postMessage(null)}}else U=function(){b(B,0)};function we(G){_=G,O||(O=!0,U())}function Q(G,ne){T=b(function(){G(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,we(D))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(G){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var te=m;m=ne;try{return G()}finally{m=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=m;m=G;try{return ne()}finally{m=te}},e.unstable_scheduleCallback=function(G,ne,te){var L=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?L+te:L):te=L,G){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=te+W,G={id:f++,callback:ne,priorityLevel:G,startTime:te,expirationTime:W,sortIndex:-1},te>L?(G.sortIndex=te,t(d,G),n(u)===null&&G===n(d)&&(w?(C(T),T=-1):w=!0,Q(N,te-L))):(G.sortIndex=W,t(u,G),x||v||(x=!0,we(D))),G},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(G){var ne=m;return function(){var te=m;m=ne;try{return G.apply(this,arguments)}finally{m=te}}}})(fg)),fg}var uP;function d3(){return uP||(uP=1,dg.exports=u3()),dg.exports}var dP;function f3(){if(dP)return Vn;dP=1;var e=Vs(),t=d3();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,c){s(a,c),s(a+"Capture",c)}function s(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(a){return u.call(p,a)?!0:u.call(f,a)?!1:d.test(a)?p[a]=!0:(f[a]=!0,!1)}function v(a,c,h,g){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function x(a,c,h,g){if(c===null||typeof c>"u"||v(a,c,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(a,c,h,g,S,A,j){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=S,this.mustUseProperty=h,this.propertyName=a,this.type=c,this.sanitizeURL=A,this.removeEmptyString=j}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];b[c]=new w(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(C,k);b[c]=new w(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(C,k);b[c]=new w(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(C,k);b[c]=new w(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,c,h,g){var S=b.hasOwnProperty(c)?b[c]:null;(S!==null?S.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(x(c,h,S,g)&&(h=null),g||S===null?m(c)&&(h===null?a.removeAttribute(c):a.setAttribute(c,""+h)):S.mustUseProperty?a[S.propertyName]=h===null?S.type===3?!1:"":h:(c=S.attributeName,g=S.attributeNamespace,h===null?a.removeAttribute(c):(S=S.type,h=S===3||S===4&&h===!0?"":""+h,g?a.setAttributeNS(g,c,h):a.setAttribute(c,h))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),O=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),K=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),G=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var te=Object.assign,L;function W(a){if(L===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);L=c&&c[1]||""}return`
`+L+a}var ie=!1;function se(a,c){if(!a||ie)return"";ie=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Z){var g=Z}Reflect.construct(a,[],c)}else{try{c.call()}catch(Z){g=Z}a.call(c.prototype)}else{try{throw Error()}catch(Z){g=Z}a()}}catch(Z){if(Z&&g&&typeof Z.stack=="string"){for(var S=Z.stack.split(`
`),A=g.stack.split(`
`),j=S.length-1,M=A.length-1;1<=j&&0<=M&&S[j]!==A[M];)M--;for(;1<=j&&0<=M;j--,M--)if(S[j]!==A[M]){if(j!==1||M!==1)do if(j--,M--,0>M||S[j]!==A[M]){var F=`
`+S[j].replace(" at new "," at ");return a.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",a.displayName)),F}while(1<=j&&0<=M);break}}}finally{ie=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?W(a):""}function de(a){switch(a.tag){case 5:return W(a.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return a=se(a.type,!1),a;case 11:return a=se(a.type.render,!1),a;case 1:return a=se(a.type,!0),a;default:return""}}function X(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case O:return"Portal";case V:return"Profiler";case T:return"StrictMode";case U:return"Suspense";case ue:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case K:return(a.displayName||"Context")+".Consumer";case Y:return(a._context.displayName||"Context")+".Provider";case B:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case oe:return c=a.displayName||null,c!==null?c:X(a.type)||"Memo";case we:c=a._payload,a=a._init;try{return X(a(c))}catch{}}return null}function $(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(c);case 8:return c===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ee(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function R(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function re(a){var c=R(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),g=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var S=h.get,A=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return S.call(this)},set:function(j){g=""+j,A.call(this,j)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(j){g=""+j},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function fe(a){a._valueTracker||(a._valueTracker=re(a))}function I(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return a&&(g=R(a)?a.checked?"true":"false":a.value),a=g,a!==h?(c.setValue(a),!0):!1}function Ce(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function be(a,c){var h=c.checked;return te({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Ye(a,c){var h=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;h=ee(c.value!=null?c.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ze(a,c){c=c.checked,c!=null&&E(a,"checked",c,!1)}function rt(a,c){ze(a,c);var h=ee(c.value),g=c.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?it(a,c.type,h):c.hasOwnProperty("defaultValue")&&it(a,c.type,ee(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function ye(a,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,h||c===a.value||(a.value=c),a.defaultValue=c}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function it(a,c,h){(c!=="number"||Ce(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var On=Array.isArray;function ge(a,c,h,g){if(a=a.options,c){c={};for(var S=0;S<h.length;S++)c["$"+h[S]]=!0;for(h=0;h<a.length;h++)S=c.hasOwnProperty("$"+a[h].value),a[h].selected!==S&&(a[h].selected=S),S&&g&&(a[h].defaultSelected=!0)}else{for(h=""+ee(h),c=null,S=0;S<a.length;S++){if(a[S].value===h){a[S].selected=!0,g&&(a[S].defaultSelected=!0);return}c!==null||a[S].disabled||(c=a[S])}c!==null&&(c.selected=!0)}}function Me(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function He(a,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(On(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}a._wrapperState={initialValue:ee(h)}}function Ke(a,c){var h=ee(c.value),g=ee(c.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),c.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function pt(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function at(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ln(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?at(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ot,jn=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,g,S){MSApp.execUnsafeLocalFunction(function(){return a(c,h,g,S)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Ot.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function pr(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uo=["Webkit","ms","Moz","O"];Object.keys(qn).forEach(function(a){Uo.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),qn[c]=qn[a]})});function Xr(a,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||qn.hasOwnProperty(a)&&qn[a]?(""+c).trim():c+"px"}function Yn(a,c){a=a.style;for(var h in c)if(c.hasOwnProperty(h)){var g=h.indexOf("--")===0,S=Xr(h,c[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,S):a[h]=S}}var xu=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(a,c){if(c){if(xu[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function La(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fa=null;function $a(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var st=null,wi=null,Si=null;function bu(a){if(a=El(a)){if(typeof st!="function")throw Error(n(280));var c=a.stateNode;c&&(c=Uu(c),st(a.stateNode,a.type,c))}}function wu(a){wi?Si?Si.push(a):Si=[a]:wi=a}function Su(){if(wi){var a=wi,c=Si;if(Si=wi=null,bu(a),c)for(a=0;a<c.length;a++)bu(c[a])}}function al(a,c){return a(c)}function Pu(){}var sl=!1;function Xn(a,c,h){if(sl)return a(c,h);sl=!0;try{return al(a,c,h)}finally{sl=!1,(wi!==null||Si!==null)&&(Pu(),Su())}}function Zr(a,c){var h=a.stateNode;if(h===null)return null;var g=Uu(h);if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var io=!1;if(l)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){io=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{io=!1}function he(a,c,h,g,S,A,j,M,F){var Z=Array.prototype.slice.call(arguments,3);try{c.apply(h,Z)}catch(le){this.onError(le)}}var Pe=!1,xe=null,je=!1,Ue=null,ve={onError:function(a){Pe=!0,xe=a}};function Ne(a,c,h,g,S,A,j,M,F){Pe=!1,xe=null,he.apply(ve,arguments)}function We(a,c,h,g,S,A,j,M,F){if(Ne.apply(this,arguments),Pe){if(Pe){var Z=xe;Pe=!1,xe=null}else throw Error(n(198));je||(je=!0,Ue=Z)}}function qe(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function $e(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function dt(a){if(qe(a)!==a)throw Error(n(188))}function Tt(a){var c=a.alternate;if(!c){if(c=qe(a),c===null)throw Error(n(188));return c!==a?null:a}for(var h=a,g=c;;){var S=h.return;if(S===null)break;var A=S.alternate;if(A===null){if(g=S.return,g!==null){h=g;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===h)return dt(S),a;if(A===g)return dt(S),c;A=A.sibling}throw Error(n(188))}if(h.return!==g.return)h=S,g=A;else{for(var j=!1,M=S.child;M;){if(M===h){j=!0,h=S,g=A;break}if(M===g){j=!0,g=S,h=A;break}M=M.sibling}if(!j){for(M=A.child;M;){if(M===h){j=!0,h=A,g=S;break}if(M===g){j=!0,g=A,h=S;break}M=M.sibling}if(!j)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:c}function yt(a){return a=Tt(a),a!==null?cn(a):null}function cn(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=cn(a);if(c!==null)return c;a=a.sibling}return null}var xn=t.unstable_scheduleCallback,Qr=t.unstable_cancelCallback,ll=t.unstable_shouldYield,vL=t.unstable_requestPaint,Ft=t.unstable_now,yL=t.unstable_getCurrentPriorityLevel,Nh=t.unstable_ImmediatePriority,M1=t.unstable_UserBlockingPriority,Cu=t.unstable_NormalPriority,xL=t.unstable_LowPriority,I1=t.unstable_IdlePriority,Au=null,Jr=null;function bL(a){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Au,a,void 0,(a.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:PL,wL=Math.log,SL=Math.LN2;function PL(a){return a>>>=0,a===0?32:31-(wL(a)/SL|0)|0}var ku=64,Eu=4194304;function cl(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Nu(a,c){var h=a.pendingLanes;if(h===0)return 0;var g=0,S=a.suspendedLanes,A=a.pingedLanes,j=h&268435455;if(j!==0){var M=j&~S;M!==0?g=cl(M):(A&=j,A!==0&&(g=cl(A)))}else j=h&~S,j!==0?g=cl(j):A!==0&&(g=cl(A));if(g===0)return 0;if(c!==0&&c!==g&&(c&S)===0&&(S=g&-g,A=c&-c,S>=A||S===16&&(A&4194240)!==0))return c;if((g&4)!==0&&(g|=h&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=g;0<c;)h=31-Mr(c),S=1<<h,g|=a[h],c&=~S;return g}function CL(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AL(a,c){for(var h=a.suspendedLanes,g=a.pingedLanes,S=a.expirationTimes,A=a.pendingLanes;0<A;){var j=31-Mr(A),M=1<<j,F=S[j];F===-1?((M&h)===0||(M&g)!==0)&&(S[j]=CL(M,c)):F<=c&&(a.expiredLanes|=M),A&=~M}}function Oh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function R1(){var a=ku;return ku<<=1,(ku&4194240)===0&&(ku=64),a}function jh(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function ul(a,c,h){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Mr(c),a[c]=h}function kL(a,c){var h=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var S=31-Mr(h),A=1<<S;c[S]=0,g[S]=-1,a[S]=-1,h&=~A}}function Dh(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var g=31-Mr(h),S=1<<g;S&c|a[g]&c&&(a[g]|=c),h&=~S}}var lt=0;function L1(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var F1,_h,$1,B1,z1,Th=!1,Ou=[],oo=null,ao=null,so=null,dl=new Map,fl=new Map,lo=[],EL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W1(a,c){switch(a){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":dl.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(c.pointerId)}}function pl(a,c,h,g,S,A){return a===null||a.nativeEvent!==A?(a={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:A,targetContainers:[S]},c!==null&&(c=El(c),c!==null&&_h(c)),a):(a.eventSystemFlags|=g,c=a.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),a)}function NL(a,c,h,g,S){switch(c){case"focusin":return oo=pl(oo,a,c,h,g,S),!0;case"dragenter":return ao=pl(ao,a,c,h,g,S),!0;case"mouseover":return so=pl(so,a,c,h,g,S),!0;case"pointerover":var A=S.pointerId;return dl.set(A,pl(dl.get(A)||null,a,c,h,g,S)),!0;case"gotpointercapture":return A=S.pointerId,fl.set(A,pl(fl.get(A)||null,a,c,h,g,S)),!0}return!1}function V1(a){var c=Ho(a.target);if(c!==null){var h=qe(c);if(h!==null){if(c=h.tag,c===13){if(c=$e(h),c!==null){a.blockedOn=c,z1(a.priority,function(){$1(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ju(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=Ih(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);Fa=g,h.target.dispatchEvent(g),Fa=null}else return c=El(h),c!==null&&_h(c),a.blockedOn=h,!1;c.shift()}return!0}function U1(a,c,h){ju(a)&&h.delete(c)}function OL(){Th=!1,oo!==null&&ju(oo)&&(oo=null),ao!==null&&ju(ao)&&(ao=null),so!==null&&ju(so)&&(so=null),dl.forEach(U1),fl.forEach(U1)}function hl(a,c){a.blockedOn===c&&(a.blockedOn=null,Th||(Th=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OL)))}function ml(a){function c(S){return hl(S,a)}if(0<Ou.length){hl(Ou[0],a);for(var h=1;h<Ou.length;h++){var g=Ou[h];g.blockedOn===a&&(g.blockedOn=null)}}for(oo!==null&&hl(oo,a),ao!==null&&hl(ao,a),so!==null&&hl(so,a),dl.forEach(c),fl.forEach(c),h=0;h<lo.length;h++)g=lo[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<lo.length&&(h=lo[0],h.blockedOn===null);)V1(h),h.blockedOn===null&&lo.shift()}var Ba=N.ReactCurrentBatchConfig,Du=!0;function jL(a,c,h,g){var S=lt,A=Ba.transition;Ba.transition=null;try{lt=1,Mh(a,c,h,g)}finally{lt=S,Ba.transition=A}}function DL(a,c,h,g){var S=lt,A=Ba.transition;Ba.transition=null;try{lt=4,Mh(a,c,h,g)}finally{lt=S,Ba.transition=A}}function Mh(a,c,h,g){if(Du){var S=Ih(a,c,h,g);if(S===null)Qh(a,c,g,_u,h),W1(a,g);else if(NL(S,a,c,h,g))g.stopPropagation();else if(W1(a,g),c&4&&-1<EL.indexOf(a)){for(;S!==null;){var A=El(S);if(A!==null&&F1(A),A=Ih(a,c,h,g),A===null&&Qh(a,c,g,_u,h),A===S)break;S=A}S!==null&&g.stopPropagation()}else Qh(a,c,g,null,h)}}var _u=null;function Ih(a,c,h,g){if(_u=null,a=$a(g),a=Ho(a),a!==null)if(c=qe(a),c===null)a=null;else if(h=c.tag,h===13){if(a=$e(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return _u=a,null}function H1(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yL()){case Nh:return 1;case M1:return 4;case Cu:case xL:return 16;case I1:return 536870912;default:return 16}default:return 16}}var co=null,Rh=null,Tu=null;function G1(){if(Tu)return Tu;var a,c=Rh,h=c.length,g,S="value"in co?co.value:co.textContent,A=S.length;for(a=0;a<h&&c[a]===S[a];a++);var j=h-a;for(g=1;g<=j&&c[h-g]===S[A-g];g++);return Tu=S.slice(a,1<g?1-g:void 0)}function Mu(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Iu(){return!0}function K1(){return!1}function Zn(a){function c(h,g,S,A,j){this._reactName=h,this._targetInst=S,this.type=g,this.nativeEvent=A,this.target=j,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(h=a[M],this[M]=h?h(A):A[M]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Iu:K1,this.isPropagationStopped=K1,this}return te(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),c}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lh=Zn(za),gl=te({},za,{view:0,detail:0}),_L=Zn(gl),Fh,$h,vl,Ru=te({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==vl&&(vl&&a.type==="mousemove"?(Fh=a.screenX-vl.screenX,$h=a.screenY-vl.screenY):$h=Fh=0,vl=a),Fh)},movementY:function(a){return"movementY"in a?a.movementY:$h}}),q1=Zn(Ru),TL=te({},Ru,{dataTransfer:0}),ML=Zn(TL),IL=te({},gl,{relatedTarget:0}),Bh=Zn(IL),RL=te({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),LL=Zn(RL),FL=te({},za,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),$L=Zn(FL),BL=te({},za,{data:0}),Y1=Zn(BL),zL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UL(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=VL[a])?!!c[a]:!1}function zh(){return UL}var HL=te({},gl,{key:function(a){if(a.key){var c=zL[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Mu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?WL[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zh,charCode:function(a){return a.type==="keypress"?Mu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Mu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),GL=Zn(HL),KL=te({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X1=Zn(KL),qL=te({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zh}),YL=Zn(qL),XL=te({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZL=Zn(XL),QL=te({},Ru,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),JL=Zn(QL),e5=[9,13,27,32],Wh=l&&"CompositionEvent"in window,yl=null;l&&"documentMode"in document&&(yl=document.documentMode);var t5=l&&"TextEvent"in window&&!yl,Z1=l&&(!Wh||yl&&8<yl&&11>=yl),Q1=" ",J1=!1;function ew(a,c){switch(a){case"keyup":return e5.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Wa=!1;function n5(a,c){switch(a){case"compositionend":return tw(c);case"keypress":return c.which!==32?null:(J1=!0,Q1);case"textInput":return a=c.data,a===Q1&&J1?null:a;default:return null}}function r5(a,c){if(Wa)return a==="compositionend"||!Wh&&ew(a,c)?(a=G1(),Tu=Rh=co=null,Wa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Z1&&c.locale!=="ko"?null:c.data;default:return null}}var i5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!i5[a.type]:c==="textarea"}function rw(a,c,h,g){wu(g),c=zu(c,"onChange"),0<c.length&&(h=new Lh("onChange","change",null,h,g),a.push({event:h,listeners:c}))}var xl=null,bl=null;function o5(a){ww(a,0)}function Lu(a){var c=Ka(a);if(I(c))return a}function a5(a,c){if(a==="change")return c}var iw=!1;if(l){var Vh;if(l){var Uh="oninput"in document;if(!Uh){var ow=document.createElement("div");ow.setAttribute("oninput","return;"),Uh=typeof ow.oninput=="function"}Vh=Uh}else Vh=!1;iw=Vh&&(!document.documentMode||9<document.documentMode)}function aw(){xl&&(xl.detachEvent("onpropertychange",sw),bl=xl=null)}function sw(a){if(a.propertyName==="value"&&Lu(bl)){var c=[];rw(c,bl,a,$a(a)),Xn(o5,c)}}function s5(a,c,h){a==="focusin"?(aw(),xl=c,bl=h,xl.attachEvent("onpropertychange",sw)):a==="focusout"&&aw()}function l5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Lu(bl)}function c5(a,c){if(a==="click")return Lu(c)}function u5(a,c){if(a==="input"||a==="change")return Lu(c)}function d5(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Ir=typeof Object.is=="function"?Object.is:d5;function wl(a,c){if(Ir(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var S=h[g];if(!u.call(c,S)||!Ir(a[S],c[S]))return!1}return!0}function lw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function cw(a,c){var h=lw(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=c&&g>=c)return{node:h,offset:c-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=lw(h)}}function uw(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?uw(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function dw(){for(var a=window,c=Ce();c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=Ce(a.document)}return c}function Hh(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function f5(a){var c=dw(),h=a.focusedElem,g=a.selectionRange;if(c!==h&&h&&h.ownerDocument&&uw(h.ownerDocument.documentElement,h)){if(g!==null&&Hh(h)){if(c=g.start,a=g.end,a===void 0&&(a=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(a,h.value.length);else if(a=(c=h.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var S=h.textContent.length,A=Math.min(g.start,S);g=g.end===void 0?A:Math.min(g.end,S),!a.extend&&A>g&&(S=g,g=A,A=S),S=cw(h,A);var j=cw(h,g);S&&j&&(a.rangeCount!==1||a.anchorNode!==S.node||a.anchorOffset!==S.offset||a.focusNode!==j.node||a.focusOffset!==j.offset)&&(c=c.createRange(),c.setStart(S.node,S.offset),a.removeAllRanges(),A>g?(a.addRange(c),a.extend(j.node,j.offset)):(c.setEnd(j.node,j.offset),a.addRange(c)))}}for(c=[],a=h;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)a=c[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var p5=l&&"documentMode"in document&&11>=document.documentMode,Va=null,Gh=null,Sl=null,Kh=!1;function fw(a,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Kh||Va==null||Va!==Ce(g)||(g=Va,"selectionStart"in g&&Hh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Sl&&wl(Sl,g)||(Sl=g,g=zu(Gh,"onSelect"),0<g.length&&(c=new Lh("onSelect","select",null,c,h),a.push({event:c,listeners:g}),c.target=Va)))}function Fu(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var Ua={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},qh={},pw={};l&&(pw=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function $u(a){if(qh[a])return qh[a];if(!Ua[a])return a;var c=Ua[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in pw)return qh[a]=c[h];return a}var hw=$u("animationend"),mw=$u("animationiteration"),gw=$u("animationstart"),vw=$u("transitionend"),yw=new Map,xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(a,c){yw.set(a,c),o(c,[a])}for(var Yh=0;Yh<xw.length;Yh++){var Xh=xw[Yh],h5=Xh.toLowerCase(),m5=Xh[0].toUpperCase()+Xh.slice(1);uo(h5,"on"+m5)}uo(hw,"onAnimationEnd"),uo(mw,"onAnimationIteration"),uo(gw,"onAnimationStart"),uo("dblclick","onDoubleClick"),uo("focusin","onFocus"),uo("focusout","onBlur"),uo(vw,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function bw(a,c,h){var g=a.type||"unknown-event";a.currentTarget=h,We(g,c,void 0,a),a.currentTarget=null}function ww(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],S=g.event;g=g.listeners;e:{var A=void 0;if(c)for(var j=g.length-1;0<=j;j--){var M=g[j],F=M.instance,Z=M.currentTarget;if(M=M.listener,F!==A&&S.isPropagationStopped())break e;bw(S,M,Z),A=F}else for(j=0;j<g.length;j++){if(M=g[j],F=M.instance,Z=M.currentTarget,M=M.listener,F!==A&&S.isPropagationStopped())break e;bw(S,M,Z),A=F}}}if(je)throw a=Ue,je=!1,Ue=null,a}function xt(a,c){var h=c[im];h===void 0&&(h=c[im]=new Set);var g=a+"__bubble";h.has(g)||(Sw(c,a,2,!1),h.add(g))}function Zh(a,c,h){var g=0;c&&(g|=4),Sw(h,a,g,c)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Cl(a){if(!a[Bu]){a[Bu]=!0,r.forEach(function(h){h!=="selectionchange"&&(g5.has(h)||Zh(h,!1,a),Zh(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Bu]||(c[Bu]=!0,Zh("selectionchange",!1,c))}}function Sw(a,c,h,g){switch(H1(c)){case 1:var S=jL;break;case 4:S=DL;break;default:S=Mh}h=S.bind(null,c,h,a),S=void 0,!io||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),g?S!==void 0?a.addEventListener(c,h,{capture:!0,passive:S}):a.addEventListener(c,h,!0):S!==void 0?a.addEventListener(c,h,{passive:S}):a.addEventListener(c,h,!1)}function Qh(a,c,h,g,S){var A=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var j=g.tag;if(j===3||j===4){var M=g.stateNode.containerInfo;if(M===S||M.nodeType===8&&M.parentNode===S)break;if(j===4)for(j=g.return;j!==null;){var F=j.tag;if((F===3||F===4)&&(F=j.stateNode.containerInfo,F===S||F.nodeType===8&&F.parentNode===S))return;j=j.return}for(;M!==null;){if(j=Ho(M),j===null)return;if(F=j.tag,F===5||F===6){g=A=j;continue e}M=M.parentNode}}g=g.return}Xn(function(){var Z=A,le=$a(h),ce=[];e:{var ae=yw.get(a);if(ae!==void 0){var Se=Lh,Ee=a;switch(a){case"keypress":if(Mu(h)===0)break e;case"keydown":case"keyup":Se=GL;break;case"focusin":Ee="focus",Se=Bh;break;case"focusout":Ee="blur",Se=Bh;break;case"beforeblur":case"afterblur":Se=Bh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=q1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=ML;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=YL;break;case hw:case mw:case gw:Se=LL;break;case vw:Se=ZL;break;case"scroll":Se=_L;break;case"wheel":Se=JL;break;case"copy":case"cut":case"paste":Se=$L;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=X1}var Oe=(c&4)!==0,$t=!Oe&&a==="scroll",H=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var z=Z,q;z!==null;){q=z;var pe=q.stateNode;if(q.tag===5&&pe!==null&&(q=pe,H!==null&&(pe=Zr(z,H),pe!=null&&Oe.push(Al(z,pe,q)))),$t)break;z=z.return}0<Oe.length&&(ae=new Se(ae,Ee,null,h,le),ce.push({event:ae,listeners:Oe}))}}if((c&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",Se=a==="mouseout"||a==="pointerout",ae&&h!==Fa&&(Ee=h.relatedTarget||h.fromElement)&&(Ho(Ee)||Ee[Ci]))break e;if((Se||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,Se?(Ee=h.relatedTarget||h.toElement,Se=Z,Ee=Ee?Ho(Ee):null,Ee!==null&&($t=qe(Ee),Ee!==$t||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(Se=null,Ee=Z),Se!==Ee)){if(Oe=q1,pe="onMouseLeave",H="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Oe=X1,pe="onPointerLeave",H="onPointerEnter",z="pointer"),$t=Se==null?ae:Ka(Se),q=Ee==null?ae:Ka(Ee),ae=new Oe(pe,z+"leave",Se,h,le),ae.target=$t,ae.relatedTarget=q,pe=null,Ho(le)===Z&&(Oe=new Oe(H,z+"enter",Ee,h,le),Oe.target=q,Oe.relatedTarget=$t,pe=Oe),$t=pe,Se&&Ee)t:{for(Oe=Se,H=Ee,z=0,q=Oe;q;q=Ha(q))z++;for(q=0,pe=H;pe;pe=Ha(pe))q++;for(;0<z-q;)Oe=Ha(Oe),z--;for(;0<q-z;)H=Ha(H),q--;for(;z--;){if(Oe===H||H!==null&&Oe===H.alternate)break t;Oe=Ha(Oe),H=Ha(H)}Oe=null}else Oe=null;Se!==null&&Pw(ce,ae,Se,Oe,!1),Ee!==null&&$t!==null&&Pw(ce,$t,Ee,Oe,!0)}}e:{if(ae=Z?Ka(Z):window,Se=ae.nodeName&&ae.nodeName.toLowerCase(),Se==="select"||Se==="input"&&ae.type==="file")var De=a5;else if(nw(ae))if(iw)De=u5;else{De=l5;var Ie=s5}else(Se=ae.nodeName)&&Se.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(De=c5);if(De&&(De=De(a,Z))){rw(ce,De,h,le);break e}Ie&&Ie(a,ae,Z),a==="focusout"&&(Ie=ae._wrapperState)&&Ie.controlled&&ae.type==="number"&&it(ae,"number",ae.value)}switch(Ie=Z?Ka(Z):window,a){case"focusin":(nw(Ie)||Ie.contentEditable==="true")&&(Va=Ie,Gh=Z,Sl=null);break;case"focusout":Sl=Gh=Va=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,fw(ce,h,le);break;case"selectionchange":if(p5)break;case"keydown":case"keyup":fw(ce,h,le)}var Re;if(Wh)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Wa?ew(a,h)&&(Ve="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ve="onCompositionStart");Ve&&(Z1&&h.locale!=="ko"&&(Wa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Wa&&(Re=G1()):(co=le,Rh="value"in co?co.value:co.textContent,Wa=!0)),Ie=zu(Z,Ve),0<Ie.length&&(Ve=new Y1(Ve,a,null,h,le),ce.push({event:Ve,listeners:Ie}),Re?Ve.data=Re:(Re=tw(h),Re!==null&&(Ve.data=Re)))),(Re=t5?n5(a,h):r5(a,h))&&(Z=zu(Z,"onBeforeInput"),0<Z.length&&(le=new Y1("onBeforeInput","beforeinput",null,h,le),ce.push({event:le,listeners:Z}),le.data=Re))}ww(ce,c)})}function Al(a,c,h){return{instance:a,listener:c,currentTarget:h}}function zu(a,c){for(var h=c+"Capture",g=[];a!==null;){var S=a,A=S.stateNode;S.tag===5&&A!==null&&(S=A,A=Zr(a,h),A!=null&&g.unshift(Al(a,A,S)),A=Zr(a,c),A!=null&&g.push(Al(a,A,S))),a=a.return}return g}function Ha(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Pw(a,c,h,g,S){for(var A=c._reactName,j=[];h!==null&&h!==g;){var M=h,F=M.alternate,Z=M.stateNode;if(F!==null&&F===g)break;M.tag===5&&Z!==null&&(M=Z,S?(F=Zr(h,A),F!=null&&j.unshift(Al(h,F,M))):S||(F=Zr(h,A),F!=null&&j.push(Al(h,F,M)))),h=h.return}j.length!==0&&a.push({event:c,listeners:j})}var v5=/\r\n?/g,y5=/\u0000|\uFFFD/g;function Cw(a){return(typeof a=="string"?a:""+a).replace(v5,`
`).replace(y5,"")}function Wu(a,c,h){if(c=Cw(c),Cw(a)!==c&&h)throw Error(n(425))}function Vu(){}var Jh=null,em=null;function tm(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var nm=typeof setTimeout=="function"?setTimeout:void 0,x5=typeof clearTimeout=="function"?clearTimeout:void 0,Aw=typeof Promise=="function"?Promise:void 0,b5=typeof queueMicrotask=="function"?queueMicrotask:typeof Aw<"u"?function(a){return Aw.resolve(null).then(a).catch(w5)}:nm;function w5(a){setTimeout(function(){throw a})}function rm(a,c){var h=c,g=0;do{var S=h.nextSibling;if(a.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(g===0){a.removeChild(S),ml(c);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=S}while(h);ml(c)}function fo(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function kw(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}var Ga=Math.random().toString(36).slice(2),ei="__reactFiber$"+Ga,kl="__reactProps$"+Ga,Ci="__reactContainer$"+Ga,im="__reactEvents$"+Ga,S5="__reactListeners$"+Ga,P5="__reactHandles$"+Ga;function Ho(a){var c=a[ei];if(c)return c;for(var h=a.parentNode;h;){if(c=h[Ci]||h[ei]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=kw(a);a!==null;){if(h=a[ei])return h;a=kw(a)}return c}a=h,h=a.parentNode}return null}function El(a){return a=a[ei]||a[Ci],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ka(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Uu(a){return a[kl]||null}var om=[],qa=-1;function po(a){return{current:a}}function bt(a){0>qa||(a.current=om[qa],om[qa]=null,qa--)}function gt(a,c){qa++,om[qa]=a.current,a.current=c}var ho={},bn=po(ho),Fn=po(!1),Go=ho;function Ya(a,c){var h=a.type.contextTypes;if(!h)return ho;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var S={},A;for(A in h)S[A]=c[A];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=S),S}function $n(a){return a=a.childContextTypes,a!=null}function Hu(){bt(Fn),bt(bn)}function Ew(a,c,h){if(bn.current!==ho)throw Error(n(168));gt(bn,c),gt(Fn,h)}function Nw(a,c,h){var g=a.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var S in g)if(!(S in c))throw Error(n(108,$(a)||"Unknown",S));return te({},h,g)}function Gu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ho,Go=bn.current,gt(bn,a),gt(Fn,Fn.current),!0}function Ow(a,c,h){var g=a.stateNode;if(!g)throw Error(n(169));h?(a=Nw(a,c,Go),g.__reactInternalMemoizedMergedChildContext=a,bt(Fn),bt(bn),gt(bn,a)):bt(Fn),gt(Fn,h)}var Ai=null,Ku=!1,am=!1;function jw(a){Ai===null?Ai=[a]:Ai.push(a)}function C5(a){Ku=!0,jw(a)}function mo(){if(!am&&Ai!==null){am=!0;var a=0,c=lt;try{var h=Ai;for(lt=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}Ai=null,Ku=!1}catch(S){throw Ai!==null&&(Ai=Ai.slice(a+1)),xn(Nh,mo),S}finally{lt=c,am=!1}}return null}var Xa=[],Za=0,qu=null,Yu=0,hr=[],mr=0,Ko=null,ki=1,Ei="";function qo(a,c){Xa[Za++]=Yu,Xa[Za++]=qu,qu=a,Yu=c}function Dw(a,c,h){hr[mr++]=ki,hr[mr++]=Ei,hr[mr++]=Ko,Ko=a;var g=ki;a=Ei;var S=32-Mr(g)-1;g&=~(1<<S),h+=1;var A=32-Mr(c)+S;if(30<A){var j=S-S%5;A=(g&(1<<j)-1).toString(32),g>>=j,S-=j,ki=1<<32-Mr(c)+S|h<<S|g,Ei=A+a}else ki=1<<A|h<<S|g,Ei=a}function sm(a){a.return!==null&&(qo(a,1),Dw(a,1,0))}function lm(a){for(;a===qu;)qu=Xa[--Za],Xa[Za]=null,Yu=Xa[--Za],Xa[Za]=null;for(;a===Ko;)Ko=hr[--mr],hr[mr]=null,Ei=hr[--mr],hr[mr]=null,ki=hr[--mr],hr[mr]=null}var Qn=null,Jn=null,Ct=!1,Rr=null;function _w(a,c){var h=xr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=a,c=a.deletions,c===null?(a.deletions=[h],a.flags|=16):c.push(h)}function Tw(a,c){switch(a.tag){case 5:var h=a.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Qn=a,Jn=fo(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Qn=a,Jn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ko!==null?{id:ki,overflow:Ei}:null,a.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=xr(18,null,null,0),h.stateNode=c,h.return=a,a.child=h,Qn=a,Jn=null,!0):!1;default:return!1}}function cm(a){return(a.mode&1)!==0&&(a.flags&128)===0}function um(a){if(Ct){var c=Jn;if(c){var h=c;if(!Tw(a,c)){if(cm(a))throw Error(n(418));c=fo(h.nextSibling);var g=Qn;c&&Tw(a,c)?_w(g,h):(a.flags=a.flags&-4097|2,Ct=!1,Qn=a)}}else{if(cm(a))throw Error(n(418));a.flags=a.flags&-4097|2,Ct=!1,Qn=a}}}function Mw(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Qn=a}function Xu(a){if(a!==Qn)return!1;if(!Ct)return Mw(a),Ct=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!tm(a.type,a.memoizedProps)),c&&(c=Jn)){if(cm(a))throw Iw(),Error(n(418));for(;c;)_w(a,c),c=fo(c.nextSibling)}if(Mw(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(c===0){Jn=fo(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}a=a.nextSibling}Jn=null}}else Jn=Qn?fo(a.stateNode.nextSibling):null;return!0}function Iw(){for(var a=Jn;a;)a=fo(a.nextSibling)}function Qa(){Jn=Qn=null,Ct=!1}function dm(a){Rr===null?Rr=[a]:Rr.push(a)}var A5=N.ReactCurrentBatchConfig;function Nl(a,c,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,a));var S=g,A=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(j){var M=S.refs;j===null?delete M[A]:M[A]=j},c._stringRef=A,c)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function Zu(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function Rw(a){var c=a._init;return c(a._payload)}function Lw(a){function c(H,z){if(a){var q=H.deletions;q===null?(H.deletions=[z],H.flags|=16):q.push(z)}}function h(H,z){if(!a)return null;for(;z!==null;)c(H,z),z=z.sibling;return null}function g(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function S(H,z){return H=Po(H,z),H.index=0,H.sibling=null,H}function A(H,z,q){return H.index=q,a?(q=H.alternate,q!==null?(q=q.index,q<z?(H.flags|=2,z):q):(H.flags|=2,z)):(H.flags|=1048576,z)}function j(H){return a&&H.alternate===null&&(H.flags|=2),H}function M(H,z,q,pe){return z===null||z.tag!==6?(z=ng(q,H.mode,pe),z.return=H,z):(z=S(z,q),z.return=H,z)}function F(H,z,q,pe){var De=q.type;return De===_?le(H,z,q.props.children,pe,q.key):z!==null&&(z.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===we&&Rw(De)===z.type)?(pe=S(z,q.props),pe.ref=Nl(H,z,q),pe.return=H,pe):(pe=wd(q.type,q.key,q.props,null,H.mode,pe),pe.ref=Nl(H,z,q),pe.return=H,pe)}function Z(H,z,q,pe){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=rg(q,H.mode,pe),z.return=H,z):(z=S(z,q.children||[]),z.return=H,z)}function le(H,z,q,pe,De){return z===null||z.tag!==7?(z=na(q,H.mode,pe,De),z.return=H,z):(z=S(z,q),z.return=H,z)}function ce(H,z,q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=ng(""+z,H.mode,q),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return q=wd(z.type,z.key,z.props,null,H.mode,q),q.ref=Nl(H,null,z),q.return=H,q;case O:return z=rg(z,H.mode,q),z.return=H,z;case we:var pe=z._init;return ce(H,pe(z._payload),q)}if(On(z)||ne(z))return z=na(z,H.mode,q,null),z.return=H,z;Zu(H,z)}return null}function ae(H,z,q,pe){var De=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return De!==null?null:M(H,z,""+q,pe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case D:return q.key===De?F(H,z,q,pe):null;case O:return q.key===De?Z(H,z,q,pe):null;case we:return De=q._init,ae(H,z,De(q._payload),pe)}if(On(q)||ne(q))return De!==null?null:le(H,z,q,pe,null);Zu(H,q)}return null}function Se(H,z,q,pe,De){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return H=H.get(q)||null,M(z,H,""+pe,De);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case D:return H=H.get(pe.key===null?q:pe.key)||null,F(z,H,pe,De);case O:return H=H.get(pe.key===null?q:pe.key)||null,Z(z,H,pe,De);case we:var Ie=pe._init;return Se(H,z,q,Ie(pe._payload),De)}if(On(pe)||ne(pe))return H=H.get(q)||null,le(z,H,pe,De,null);Zu(z,pe)}return null}function Ee(H,z,q,pe){for(var De=null,Ie=null,Re=z,Ve=z=0,Xt=null;Re!==null&&Ve<q.length;Ve++){Re.index>Ve?(Xt=Re,Re=null):Xt=Re.sibling;var tt=ae(H,Re,q[Ve],pe);if(tt===null){Re===null&&(Re=Xt);break}a&&Re&&tt.alternate===null&&c(H,Re),z=A(tt,z,Ve),Ie===null?De=tt:Ie.sibling=tt,Ie=tt,Re=Xt}if(Ve===q.length)return h(H,Re),Ct&&qo(H,Ve),De;if(Re===null){for(;Ve<q.length;Ve++)Re=ce(H,q[Ve],pe),Re!==null&&(z=A(Re,z,Ve),Ie===null?De=Re:Ie.sibling=Re,Ie=Re);return Ct&&qo(H,Ve),De}for(Re=g(H,Re);Ve<q.length;Ve++)Xt=Se(Re,H,Ve,q[Ve],pe),Xt!==null&&(a&&Xt.alternate!==null&&Re.delete(Xt.key===null?Ve:Xt.key),z=A(Xt,z,Ve),Ie===null?De=Xt:Ie.sibling=Xt,Ie=Xt);return a&&Re.forEach(function(Co){return c(H,Co)}),Ct&&qo(H,Ve),De}function Oe(H,z,q,pe){var De=ne(q);if(typeof De!="function")throw Error(n(150));if(q=De.call(q),q==null)throw Error(n(151));for(var Ie=De=null,Re=z,Ve=z=0,Xt=null,tt=q.next();Re!==null&&!tt.done;Ve++,tt=q.next()){Re.index>Ve?(Xt=Re,Re=null):Xt=Re.sibling;var Co=ae(H,Re,tt.value,pe);if(Co===null){Re===null&&(Re=Xt);break}a&&Re&&Co.alternate===null&&c(H,Re),z=A(Co,z,Ve),Ie===null?De=Co:Ie.sibling=Co,Ie=Co,Re=Xt}if(tt.done)return h(H,Re),Ct&&qo(H,Ve),De;if(Re===null){for(;!tt.done;Ve++,tt=q.next())tt=ce(H,tt.value,pe),tt!==null&&(z=A(tt,z,Ve),Ie===null?De=tt:Ie.sibling=tt,Ie=tt);return Ct&&qo(H,Ve),De}for(Re=g(H,Re);!tt.done;Ve++,tt=q.next())tt=Se(Re,H,Ve,tt.value,pe),tt!==null&&(a&&tt.alternate!==null&&Re.delete(tt.key===null?Ve:tt.key),z=A(tt,z,Ve),Ie===null?De=tt:Ie.sibling=tt,Ie=tt);return a&&Re.forEach(function(i3){return c(H,i3)}),Ct&&qo(H,Ve),De}function $t(H,z,q,pe){if(typeof q=="object"&&q!==null&&q.type===_&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case D:e:{for(var De=q.key,Ie=z;Ie!==null;){if(Ie.key===De){if(De=q.type,De===_){if(Ie.tag===7){h(H,Ie.sibling),z=S(Ie,q.props.children),z.return=H,H=z;break e}}else if(Ie.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===we&&Rw(De)===Ie.type){h(H,Ie.sibling),z=S(Ie,q.props),z.ref=Nl(H,Ie,q),z.return=H,H=z;break e}h(H,Ie);break}else c(H,Ie);Ie=Ie.sibling}q.type===_?(z=na(q.props.children,H.mode,pe,q.key),z.return=H,H=z):(pe=wd(q.type,q.key,q.props,null,H.mode,pe),pe.ref=Nl(H,z,q),pe.return=H,H=pe)}return j(H);case O:e:{for(Ie=q.key;z!==null;){if(z.key===Ie)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){h(H,z.sibling),z=S(z,q.children||[]),z.return=H,H=z;break e}else{h(H,z);break}else c(H,z);z=z.sibling}z=rg(q,H.mode,pe),z.return=H,H=z}return j(H);case we:return Ie=q._init,$t(H,z,Ie(q._payload),pe)}if(On(q))return Ee(H,z,q,pe);if(ne(q))return Oe(H,z,q,pe);Zu(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,z!==null&&z.tag===6?(h(H,z.sibling),z=S(z,q),z.return=H,H=z):(h(H,z),z=ng(q,H.mode,pe),z.return=H,H=z),j(H)):h(H,z)}return $t}var Ja=Lw(!0),Fw=Lw(!1),Qu=po(null),Ju=null,es=null,fm=null;function pm(){fm=es=Ju=null}function hm(a){var c=Qu.current;bt(Qu),a._currentValue=c}function mm(a,c,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),a===h)break;a=a.return}}function ts(a,c){Ju=a,fm=es=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Bn=!0),a.firstContext=null)}function gr(a){var c=a._currentValue;if(fm!==a)if(a={context:a,memoizedValue:c,next:null},es===null){if(Ju===null)throw Error(n(308));es=a,Ju.dependencies={lanes:0,firstContext:a}}else es=es.next=a;return c}var Yo=null;function gm(a){Yo===null?Yo=[a]:Yo.push(a)}function $w(a,c,h,g){var S=c.interleaved;return S===null?(h.next=h,gm(c)):(h.next=S.next,S.next=h),c.interleaved=h,Ni(a,g)}function Ni(a,c){a.lanes|=c;var h=a.alternate;for(h!==null&&(h.lanes|=c),h=a,a=a.return;a!==null;)a.childLanes|=c,h=a.alternate,h!==null&&(h.childLanes|=c),h=a,a=a.return;return h.tag===3?h.stateNode:null}var go=!1;function vm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bw(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Oi(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function vo(a,c,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(et&2)!==0){var S=g.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),g.pending=c,Ni(a,h)}return S=g.interleaved,S===null?(c.next=c,gm(g)):(c.next=S.next,S.next=c),g.interleaved=c,Ni(a,h)}function ed(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,Dh(a,h)}}function zw(a,c){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var S=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var j={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};A===null?S=A=j:A=A.next=j,h=h.next}while(h!==null);A===null?S=A=c:A=A.next=c}else S=A=c;h={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}function td(a,c,h,g){var S=a.updateQueue;go=!1;var A=S.firstBaseUpdate,j=S.lastBaseUpdate,M=S.shared.pending;if(M!==null){S.shared.pending=null;var F=M,Z=F.next;F.next=null,j===null?A=Z:j.next=Z,j=F;var le=a.alternate;le!==null&&(le=le.updateQueue,M=le.lastBaseUpdate,M!==j&&(M===null?le.firstBaseUpdate=Z:M.next=Z,le.lastBaseUpdate=F))}if(A!==null){var ce=S.baseState;j=0,le=Z=F=null,M=A;do{var ae=M.lane,Se=M.eventTime;if((g&ae)===ae){le!==null&&(le=le.next={eventTime:Se,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ee=a,Oe=M;switch(ae=c,Se=h,Oe.tag){case 1:if(Ee=Oe.payload,typeof Ee=="function"){ce=Ee.call(Se,ce,ae);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Oe.payload,ae=typeof Ee=="function"?Ee.call(Se,ce,ae):Ee,ae==null)break e;ce=te({},ce,ae);break e;case 2:go=!0}}M.callback!==null&&M.lane!==0&&(a.flags|=64,ae=S.effects,ae===null?S.effects=[M]:ae.push(M))}else Se={eventTime:Se,lane:ae,tag:M.tag,payload:M.payload,callback:M.callback,next:null},le===null?(Z=le=Se,F=ce):le=le.next=Se,j|=ae;if(M=M.next,M===null){if(M=S.shared.pending,M===null)break;ae=M,M=ae.next,ae.next=null,S.lastBaseUpdate=ae,S.shared.pending=null}}while(!0);if(le===null&&(F=ce),S.baseState=F,S.firstBaseUpdate=Z,S.lastBaseUpdate=le,c=S.shared.interleaved,c!==null){S=c;do j|=S.lane,S=S.next;while(S!==c)}else A===null&&(S.shared.lanes=0);Qo|=j,a.lanes=j,a.memoizedState=ce}}function Ww(a,c,h){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var g=a[c],S=g.callback;if(S!==null){if(g.callback=null,g=h,typeof S!="function")throw Error(n(191,S));S.call(g)}}}var Ol={},ti=po(Ol),jl=po(Ol),Dl=po(Ol);function Xo(a){if(a===Ol)throw Error(n(174));return a}function ym(a,c){switch(gt(Dl,c),gt(jl,a),gt(ti,Ol),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:ln(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=ln(c,a)}bt(ti),gt(ti,c)}function ns(){bt(ti),bt(jl),bt(Dl)}function Vw(a){Xo(Dl.current);var c=Xo(ti.current),h=ln(c,a.type);c!==h&&(gt(jl,a),gt(ti,h))}function xm(a){jl.current===a&&(bt(ti),bt(jl))}var jt=po(0);function nd(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var bm=[];function wm(){for(var a=0;a<bm.length;a++)bm[a]._workInProgressVersionPrimary=null;bm.length=0}var rd=N.ReactCurrentDispatcher,Sm=N.ReactCurrentBatchConfig,Zo=0,Dt=null,Vt=null,qt=null,id=!1,_l=!1,Tl=0,k5=0;function wn(){throw Error(n(321))}function Pm(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!Ir(a[h],c[h]))return!1;return!0}function Cm(a,c,h,g,S,A){if(Zo=A,Dt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,rd.current=a===null||a.memoizedState===null?j5:D5,a=h(g,S),_l){A=0;do{if(_l=!1,Tl=0,25<=A)throw Error(n(301));A+=1,qt=Vt=null,c.updateQueue=null,rd.current=_5,a=h(g,S)}while(_l)}if(rd.current=sd,c=Vt!==null&&Vt.next!==null,Zo=0,qt=Vt=Dt=null,id=!1,c)throw Error(n(300));return a}function Am(){var a=Tl!==0;return Tl=0,a}function ni(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Dt.memoizedState=qt=a:qt=qt.next=a,qt}function vr(){if(Vt===null){var a=Dt.alternate;a=a!==null?a.memoizedState:null}else a=Vt.next;var c=qt===null?Dt.memoizedState:qt.next;if(c!==null)qt=c,Vt=a;else{if(a===null)throw Error(n(310));Vt=a,a={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},qt===null?Dt.memoizedState=qt=a:qt=qt.next=a}return qt}function Ml(a,c){return typeof c=="function"?c(a):c}function km(a){var c=vr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=Vt,S=g.baseQueue,A=h.pending;if(A!==null){if(S!==null){var j=S.next;S.next=A.next,A.next=j}g.baseQueue=S=A,h.pending=null}if(S!==null){A=S.next,g=g.baseState;var M=j=null,F=null,Z=A;do{var le=Z.lane;if((Zo&le)===le)F!==null&&(F=F.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),g=Z.hasEagerState?Z.eagerState:a(g,Z.action);else{var ce={lane:le,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};F===null?(M=F=ce,j=g):F=F.next=ce,Dt.lanes|=le,Qo|=le}Z=Z.next}while(Z!==null&&Z!==A);F===null?j=g:F.next=M,Ir(g,c.memoizedState)||(Bn=!0),c.memoizedState=g,c.baseState=j,c.baseQueue=F,h.lastRenderedState=g}if(a=h.interleaved,a!==null){S=a;do A=S.lane,Dt.lanes|=A,Qo|=A,S=S.next;while(S!==a)}else S===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Em(a){var c=vr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=h.dispatch,S=h.pending,A=c.memoizedState;if(S!==null){h.pending=null;var j=S=S.next;do A=a(A,j.action),j=j.next;while(j!==S);Ir(A,c.memoizedState)||(Bn=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),h.lastRenderedState=A}return[A,g]}function Uw(){}function Hw(a,c){var h=Dt,g=vr(),S=c(),A=!Ir(g.memoizedState,S);if(A&&(g.memoizedState=S,Bn=!0),g=g.queue,Nm(qw.bind(null,h,g,a),[a]),g.getSnapshot!==c||A||qt!==null&&qt.memoizedState.tag&1){if(h.flags|=2048,Il(9,Kw.bind(null,h,g,S,c),void 0,null),Yt===null)throw Error(n(349));(Zo&30)!==0||Gw(h,c,S)}return S}function Gw(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=Dt.updateQueue,c===null?(c={lastEffect:null,stores:null},Dt.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function Kw(a,c,h,g){c.value=h,c.getSnapshot=g,Yw(c)&&Xw(a)}function qw(a,c,h){return h(function(){Yw(c)&&Xw(a)})}function Yw(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!Ir(a,h)}catch{return!0}}function Xw(a){var c=Ni(a,1);c!==null&&Br(c,a,1,-1)}function Zw(a){var c=ni();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:a},c.queue=a,a=a.dispatch=O5.bind(null,Dt,a),[c.memoizedState,a]}function Il(a,c,h,g){return a={tag:a,create:c,destroy:h,deps:g,next:null},c=Dt.updateQueue,c===null?(c={lastEffect:null,stores:null},Dt.updateQueue=c,c.lastEffect=a.next=a):(h=c.lastEffect,h===null?c.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,c.lastEffect=a)),a}function Qw(){return vr().memoizedState}function od(a,c,h,g){var S=ni();Dt.flags|=a,S.memoizedState=Il(1|c,h,void 0,g===void 0?null:g)}function ad(a,c,h,g){var S=vr();g=g===void 0?null:g;var A=void 0;if(Vt!==null){var j=Vt.memoizedState;if(A=j.destroy,g!==null&&Pm(g,j.deps)){S.memoizedState=Il(c,h,A,g);return}}Dt.flags|=a,S.memoizedState=Il(1|c,h,A,g)}function Jw(a,c){return od(8390656,8,a,c)}function Nm(a,c){return ad(2048,8,a,c)}function eS(a,c){return ad(4,2,a,c)}function tS(a,c){return ad(4,4,a,c)}function nS(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function rS(a,c,h){return h=h!=null?h.concat([a]):null,ad(4,4,nS.bind(null,c,a),h)}function Om(){}function iS(a,c){var h=vr();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&Pm(c,g[1])?g[0]:(h.memoizedState=[a,c],a)}function oS(a,c){var h=vr();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&Pm(c,g[1])?g[0]:(a=a(),h.memoizedState=[a,c],a)}function aS(a,c,h){return(Zo&21)===0?(a.baseState&&(a.baseState=!1,Bn=!0),a.memoizedState=h):(Ir(h,c)||(h=R1(),Dt.lanes|=h,Qo|=h,a.baseState=!0),c)}function E5(a,c){var h=lt;lt=h!==0&&4>h?h:4,a(!0);var g=Sm.transition;Sm.transition={};try{a(!1),c()}finally{lt=h,Sm.transition=g}}function sS(){return vr().memoizedState}function N5(a,c,h){var g=wo(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},lS(a))cS(c,h);else if(h=$w(a,c,h,g),h!==null){var S=_n();Br(h,a,g,S),uS(h,c,g)}}function O5(a,c,h){var g=wo(a),S={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(lS(a))cS(c,S);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var j=c.lastRenderedState,M=A(j,h);if(S.hasEagerState=!0,S.eagerState=M,Ir(M,j)){var F=c.interleaved;F===null?(S.next=S,gm(c)):(S.next=F.next,F.next=S),c.interleaved=S;return}}catch{}h=$w(a,c,S,g),h!==null&&(S=_n(),Br(h,a,g,S),uS(h,c,g))}}function lS(a){var c=a.alternate;return a===Dt||c!==null&&c===Dt}function cS(a,c){_l=id=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function uS(a,c,h){if((h&4194240)!==0){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,Dh(a,h)}}var sd={readContext:gr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},j5={readContext:gr,useCallback:function(a,c){return ni().memoizedState=[a,c===void 0?null:c],a},useContext:gr,useEffect:Jw,useImperativeHandle:function(a,c,h){return h=h!=null?h.concat([a]):null,od(4194308,4,nS.bind(null,c,a),h)},useLayoutEffect:function(a,c){return od(4194308,4,a,c)},useInsertionEffect:function(a,c){return od(4,2,a,c)},useMemo:function(a,c){var h=ni();return c=c===void 0?null:c,a=a(),h.memoizedState=[a,c],a},useReducer:function(a,c,h){var g=ni();return c=h!==void 0?h(c):c,g.memoizedState=g.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},g.queue=a,a=a.dispatch=N5.bind(null,Dt,a),[g.memoizedState,a]},useRef:function(a){var c=ni();return a={current:a},c.memoizedState=a},useState:Zw,useDebugValue:Om,useDeferredValue:function(a){return ni().memoizedState=a},useTransition:function(){var a=Zw(!1),c=a[0];return a=E5.bind(null,a[1]),ni().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,h){var g=Dt,S=ni();if(Ct){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),Yt===null)throw Error(n(349));(Zo&30)!==0||Gw(g,c,h)}S.memoizedState=h;var A={value:h,getSnapshot:c};return S.queue=A,Jw(qw.bind(null,g,A,a),[a]),g.flags|=2048,Il(9,Kw.bind(null,g,A,h,c),void 0,null),h},useId:function(){var a=ni(),c=Yt.identifierPrefix;if(Ct){var h=Ei,g=ki;h=(g&~(1<<32-Mr(g)-1)).toString(32)+h,c=":"+c+"R"+h,h=Tl++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=k5++,c=":"+c+"r"+h.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},D5={readContext:gr,useCallback:iS,useContext:gr,useEffect:Nm,useImperativeHandle:rS,useInsertionEffect:eS,useLayoutEffect:tS,useMemo:oS,useReducer:km,useRef:Qw,useState:function(){return km(Ml)},useDebugValue:Om,useDeferredValue:function(a){var c=vr();return aS(c,Vt.memoizedState,a)},useTransition:function(){var a=km(Ml)[0],c=vr().memoizedState;return[a,c]},useMutableSource:Uw,useSyncExternalStore:Hw,useId:sS,unstable_isNewReconciler:!1},_5={readContext:gr,useCallback:iS,useContext:gr,useEffect:Nm,useImperativeHandle:rS,useInsertionEffect:eS,useLayoutEffect:tS,useMemo:oS,useReducer:Em,useRef:Qw,useState:function(){return Em(Ml)},useDebugValue:Om,useDeferredValue:function(a){var c=vr();return Vt===null?c.memoizedState=a:aS(c,Vt.memoizedState,a)},useTransition:function(){var a=Em(Ml)[0],c=vr().memoizedState;return[a,c]},useMutableSource:Uw,useSyncExternalStore:Hw,useId:sS,unstable_isNewReconciler:!1};function Lr(a,c){if(a&&a.defaultProps){c=te({},c),a=a.defaultProps;for(var h in a)c[h]===void 0&&(c[h]=a[h]);return c}return c}function jm(a,c,h,g){c=a.memoizedState,h=h(g,c),h=h==null?c:te({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var ld={isMounted:function(a){return(a=a._reactInternals)?qe(a)===a:!1},enqueueSetState:function(a,c,h){a=a._reactInternals;var g=_n(),S=wo(a),A=Oi(g,S);A.payload=c,h!=null&&(A.callback=h),c=vo(a,A,S),c!==null&&(Br(c,a,S,g),ed(c,a,S))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var g=_n(),S=wo(a),A=Oi(g,S);A.tag=1,A.payload=c,h!=null&&(A.callback=h),c=vo(a,A,S),c!==null&&(Br(c,a,S,g),ed(c,a,S))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=_n(),g=wo(a),S=Oi(h,g);S.tag=2,c!=null&&(S.callback=c),c=vo(a,S,g),c!==null&&(Br(c,a,g,h),ed(c,a,g))}};function dS(a,c,h,g,S,A,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,A,j):c.prototype&&c.prototype.isPureReactComponent?!wl(h,g)||!wl(S,A):!0}function fS(a,c,h){var g=!1,S=ho,A=c.contextType;return typeof A=="object"&&A!==null?A=gr(A):(S=$n(c)?Go:bn.current,g=c.contextTypes,A=(g=g!=null)?Ya(a,S):ho),c=new c(h,A),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ld,a.stateNode=c,c._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=S,a.__reactInternalMemoizedMaskedChildContext=A),c}function pS(a,c,h,g){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==a&&ld.enqueueReplaceState(c,c.state,null)}function Dm(a,c,h,g){var S=a.stateNode;S.props=h,S.state=a.memoizedState,S.refs={},vm(a);var A=c.contextType;typeof A=="object"&&A!==null?S.context=gr(A):(A=$n(c)?Go:bn.current,S.context=Ya(a,A)),S.state=a.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(jm(a,c,A,h),S.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(c=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),c!==S.state&&ld.enqueueReplaceState(S,S.state,null),td(a,h,S,g),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308)}function rs(a,c){try{var h="",g=c;do h+=de(g),g=g.return;while(g);var S=h}catch(A){S=`
Error generating stack: `+A.message+`
`+A.stack}return{value:a,source:c,stack:S,digest:null}}function _m(a,c,h){return{value:a,source:null,stack:h??null,digest:c??null}}function Tm(a,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var T5=typeof WeakMap=="function"?WeakMap:Map;function hS(a,c,h){h=Oi(-1,h),h.tag=3,h.payload={element:null};var g=c.value;return h.callback=function(){md||(md=!0,qm=g),Tm(a,c)},h}function mS(a,c,h){h=Oi(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var S=c.value;h.payload=function(){return g(S)},h.callback=function(){Tm(a,c)}}var A=a.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(h.callback=function(){Tm(a,c),typeof g!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var j=c.stack;this.componentDidCatch(c.value,{componentStack:j!==null?j:""})}),h}function gS(a,c,h){var g=a.pingCache;if(g===null){g=a.pingCache=new T5;var S=new Set;g.set(c,S)}else S=g.get(c),S===void 0&&(S=new Set,g.set(c,S));S.has(h)||(S.add(h),a=K5.bind(null,a,c,h),c.then(a,a))}function vS(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function yS(a,c,h,g,S){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=Oi(-1,1),c.tag=2,vo(h,c,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=S,a)}var M5=N.ReactCurrentOwner,Bn=!1;function Dn(a,c,h,g){c.child=a===null?Fw(c,null,h,g):Ja(c,a.child,h,g)}function xS(a,c,h,g,S){h=h.render;var A=c.ref;return ts(c,S),g=Cm(a,c,h,g,A,S),h=Am(),a!==null&&!Bn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~S,ji(a,c,S)):(Ct&&h&&sm(c),c.flags|=1,Dn(a,c,g,S),c.child)}function bS(a,c,h,g,S){if(a===null){var A=h.type;return typeof A=="function"&&!tg(A)&&A.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=A,wS(a,c,A,g,S)):(a=wd(h.type,null,g,c,c.mode,S),a.ref=c.ref,a.return=c,c.child=a)}if(A=a.child,(a.lanes&S)===0){var j=A.memoizedProps;if(h=h.compare,h=h!==null?h:wl,h(j,g)&&a.ref===c.ref)return ji(a,c,S)}return c.flags|=1,a=Po(A,g),a.ref=c.ref,a.return=c,c.child=a}function wS(a,c,h,g,S){if(a!==null){var A=a.memoizedProps;if(wl(A,g)&&a.ref===c.ref)if(Bn=!1,c.pendingProps=g=A,(a.lanes&S)!==0)(a.flags&131072)!==0&&(Bn=!0);else return c.lanes=a.lanes,ji(a,c,S)}return Mm(a,c,h,g,S)}function SS(a,c,h){var g=c.pendingProps,S=g.children,A=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(os,er),er|=h;else{if((h&1073741824)===0)return a=A!==null?A.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,gt(os,er),er|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:h,gt(os,er),er|=g}else A!==null?(g=A.baseLanes|h,c.memoizedState=null):g=h,gt(os,er),er|=g;return Dn(a,c,S,h),c.child}function PS(a,c){var h=c.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Mm(a,c,h,g,S){var A=$n(h)?Go:bn.current;return A=Ya(c,A),ts(c,S),h=Cm(a,c,h,g,A,S),g=Am(),a!==null&&!Bn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~S,ji(a,c,S)):(Ct&&g&&sm(c),c.flags|=1,Dn(a,c,h,S),c.child)}function CS(a,c,h,g,S){if($n(h)){var A=!0;Gu(c)}else A=!1;if(ts(c,S),c.stateNode===null)ud(a,c),fS(c,h,g),Dm(c,h,g,S),g=!0;else if(a===null){var j=c.stateNode,M=c.memoizedProps;j.props=M;var F=j.context,Z=h.contextType;typeof Z=="object"&&Z!==null?Z=gr(Z):(Z=$n(h)?Go:bn.current,Z=Ya(c,Z));var le=h.getDerivedStateFromProps,ce=typeof le=="function"||typeof j.getSnapshotBeforeUpdate=="function";ce||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(M!==g||F!==Z)&&pS(c,j,g,Z),go=!1;var ae=c.memoizedState;j.state=ae,td(c,g,j,S),F=c.memoizedState,M!==g||ae!==F||Fn.current||go?(typeof le=="function"&&(jm(c,h,le,g),F=c.memoizedState),(M=go||dS(c,h,M,g,ae,F,Z))?(ce||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(c.flags|=4194308)):(typeof j.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=F),j.props=g,j.state=F,j.context=Z,g=M):(typeof j.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{j=c.stateNode,Bw(a,c),M=c.memoizedProps,Z=c.type===c.elementType?M:Lr(c.type,M),j.props=Z,ce=c.pendingProps,ae=j.context,F=h.contextType,typeof F=="object"&&F!==null?F=gr(F):(F=$n(h)?Go:bn.current,F=Ya(c,F));var Se=h.getDerivedStateFromProps;(le=typeof Se=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(M!==ce||ae!==F)&&pS(c,j,g,F),go=!1,ae=c.memoizedState,j.state=ae,td(c,g,j,S);var Ee=c.memoizedState;M!==ce||ae!==Ee||Fn.current||go?(typeof Se=="function"&&(jm(c,h,Se,g),Ee=c.memoizedState),(Z=go||dS(c,h,Z,g,ae,Ee,F)||!1)?(le||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(g,Ee,F),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(g,Ee,F)),typeof j.componentDidUpdate=="function"&&(c.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof j.componentDidUpdate!="function"||M===a.memoizedProps&&ae===a.memoizedState||(c.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&ae===a.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Ee),j.props=g,j.state=Ee,j.context=F,g=Z):(typeof j.componentDidUpdate!="function"||M===a.memoizedProps&&ae===a.memoizedState||(c.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&ae===a.memoizedState||(c.flags|=1024),g=!1)}return Im(a,c,h,g,A,S)}function Im(a,c,h,g,S,A){PS(a,c);var j=(c.flags&128)!==0;if(!g&&!j)return S&&Ow(c,h,!1),ji(a,c,A);g=c.stateNode,M5.current=c;var M=j&&typeof h.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,a!==null&&j?(c.child=Ja(c,a.child,null,A),c.child=Ja(c,null,M,A)):Dn(a,c,M,A),c.memoizedState=g.state,S&&Ow(c,h,!0),c.child}function AS(a){var c=a.stateNode;c.pendingContext?Ew(a,c.pendingContext,c.pendingContext!==c.context):c.context&&Ew(a,c.context,!1),ym(a,c.containerInfo)}function kS(a,c,h,g,S){return Qa(),dm(S),c.flags|=256,Dn(a,c,h,g),c.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function Lm(a){return{baseLanes:a,cachePool:null,transitions:null}}function ES(a,c,h){var g=c.pendingProps,S=jt.current,A=!1,j=(c.flags&128)!==0,M;if((M=j)||(M=a!==null&&a.memoizedState===null?!1:(S&2)!==0),M?(A=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(S|=1),gt(jt,S&1),a===null)return um(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(j=g.children,a=g.fallback,A?(g=c.mode,A=c.child,j={mode:"hidden",children:j},(g&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=j):A=Sd(j,g,0,null),a=na(a,g,h,null),A.return=c,a.return=c,A.sibling=a,c.child=A,c.child.memoizedState=Lm(h),c.memoizedState=Rm,a):Fm(c,j));if(S=a.memoizedState,S!==null&&(M=S.dehydrated,M!==null))return I5(a,c,j,g,M,S,h);if(A){A=g.fallback,j=c.mode,S=a.child,M=S.sibling;var F={mode:"hidden",children:g.children};return(j&1)===0&&c.child!==S?(g=c.child,g.childLanes=0,g.pendingProps=F,c.deletions=null):(g=Po(S,F),g.subtreeFlags=S.subtreeFlags&14680064),M!==null?A=Po(M,A):(A=na(A,j,h,null),A.flags|=2),A.return=c,g.return=c,g.sibling=A,c.child=g,g=A,A=c.child,j=a.child.memoizedState,j=j===null?Lm(h):{baseLanes:j.baseLanes|h,cachePool:null,transitions:j.transitions},A.memoizedState=j,A.childLanes=a.childLanes&~h,c.memoizedState=Rm,g}return A=a.child,a=A.sibling,g=Po(A,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=h),g.return=c,g.sibling=null,a!==null&&(h=c.deletions,h===null?(c.deletions=[a],c.flags|=16):h.push(a)),c.child=g,c.memoizedState=null,g}function Fm(a,c){return c=Sd({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function cd(a,c,h,g){return g!==null&&dm(g),Ja(c,a.child,null,h),a=Fm(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function I5(a,c,h,g,S,A,j){if(h)return c.flags&256?(c.flags&=-257,g=_m(Error(n(422))),cd(a,c,j,g)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(A=g.fallback,S=c.mode,g=Sd({mode:"visible",children:g.children},S,0,null),A=na(A,S,j,null),A.flags|=2,g.return=c,A.return=c,g.sibling=A,c.child=g,(c.mode&1)!==0&&Ja(c,a.child,null,j),c.child.memoizedState=Lm(j),c.memoizedState=Rm,A);if((c.mode&1)===0)return cd(a,c,j,null);if(S.data==="$!"){if(g=S.nextSibling&&S.nextSibling.dataset,g)var M=g.dgst;return g=M,A=Error(n(419)),g=_m(A,g,void 0),cd(a,c,j,g)}if(M=(j&a.childLanes)!==0,Bn||M){if(g=Yt,g!==null){switch(j&-j){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(g.suspendedLanes|j))!==0?0:S,S!==0&&S!==A.retryLane&&(A.retryLane=S,Ni(a,S),Br(g,a,S,-1))}return eg(),g=_m(Error(n(421))),cd(a,c,j,g)}return S.data==="$?"?(c.flags|=128,c.child=a.child,c=q5.bind(null,a),S._reactRetry=c,null):(a=A.treeContext,Jn=fo(S.nextSibling),Qn=c,Ct=!0,Rr=null,a!==null&&(hr[mr++]=ki,hr[mr++]=Ei,hr[mr++]=Ko,ki=a.id,Ei=a.overflow,Ko=c),c=Fm(c,g.children),c.flags|=4096,c)}function NS(a,c,h){a.lanes|=c;var g=a.alternate;g!==null&&(g.lanes|=c),mm(a.return,c,h)}function $m(a,c,h,g,S){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:S}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=h,A.tailMode=S)}function OS(a,c,h){var g=c.pendingProps,S=g.revealOrder,A=g.tail;if(Dn(a,c,g.children,h),g=jt.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&NS(a,h,c);else if(a.tag===19)NS(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(gt(jt,g),(c.mode&1)===0)c.memoizedState=null;else switch(S){case"forwards":for(h=c.child,S=null;h!==null;)a=h.alternate,a!==null&&nd(a)===null&&(S=h),h=h.sibling;h=S,h===null?(S=c.child,c.child=null):(S=h.sibling,h.sibling=null),$m(c,!1,S,h,A);break;case"backwards":for(h=null,S=c.child,c.child=null;S!==null;){if(a=S.alternate,a!==null&&nd(a)===null){c.child=S;break}a=S.sibling,S.sibling=h,h=S,S=a}$m(c,!0,h,null,A);break;case"together":$m(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ud(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function ji(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),Qo|=c.lanes,(h&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,h=Po(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=Po(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function R5(a,c,h){switch(c.tag){case 3:AS(c),Qa();break;case 5:Vw(c);break;case 1:$n(c.type)&&Gu(c);break;case 4:ym(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,S=c.memoizedProps.value;gt(Qu,g._currentValue),g._currentValue=S;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(gt(jt,jt.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?ES(a,c,h):(gt(jt,jt.current&1),a=ji(a,c,h),a!==null?a.sibling:null);gt(jt,jt.current&1);break;case 19:if(g=(h&c.childLanes)!==0,(a.flags&128)!==0){if(g)return OS(a,c,h);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),gt(jt,jt.current),g)break;return null;case 22:case 23:return c.lanes=0,SS(a,c,h)}return ji(a,c,h)}var jS,Bm,DS,_S;jS=function(a,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Bm=function(){},DS=function(a,c,h,g){var S=a.memoizedProps;if(S!==g){a=c.stateNode,Xo(ti.current);var A=null;switch(h){case"input":S=be(a,S),g=be(a,g),A=[];break;case"select":S=te({},S,{value:void 0}),g=te({},g,{value:void 0}),A=[];break;case"textarea":S=Me(a,S),g=Me(a,g),A=[];break;default:typeof S.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Vu)}Ra(h,g);var j;h=null;for(Z in S)if(!g.hasOwnProperty(Z)&&S.hasOwnProperty(Z)&&S[Z]!=null)if(Z==="style"){var M=S[Z];for(j in M)M.hasOwnProperty(j)&&(h||(h={}),h[j]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?A||(A=[]):(A=A||[]).push(Z,null));for(Z in g){var F=g[Z];if(M=S?.[Z],g.hasOwnProperty(Z)&&F!==M&&(F!=null||M!=null))if(Z==="style")if(M){for(j in M)!M.hasOwnProperty(j)||F&&F.hasOwnProperty(j)||(h||(h={}),h[j]="");for(j in F)F.hasOwnProperty(j)&&M[j]!==F[j]&&(h||(h={}),h[j]=F[j])}else h||(A||(A=[]),A.push(Z,h)),h=F;else Z==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,M=M?M.__html:void 0,F!=null&&M!==F&&(A=A||[]).push(Z,F)):Z==="children"?typeof F!="string"&&typeof F!="number"||(A=A||[]).push(Z,""+F):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(F!=null&&Z==="onScroll"&&xt("scroll",a),A||M===F||(A=[])):(A=A||[]).push(Z,F))}h&&(A=A||[]).push("style",h);var Z=A;(c.updateQueue=Z)&&(c.flags|=4)}},_S=function(a,c,h,g){h!==g&&(c.flags|=4)};function Rl(a,c){if(!Ct)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Sn(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(c)for(var S=a.child;S!==null;)h|=S.lanes|S.childLanes,g|=S.subtreeFlags&14680064,g|=S.flags&14680064,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)h|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=g,a.childLanes=h,c}function L5(a,c,h){var g=c.pendingProps;switch(lm(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(c),null;case 1:return $n(c.type)&&Hu(),Sn(c),null;case 3:return g=c.stateNode,ns(),bt(Fn),bt(bn),wm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Xu(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Rr!==null&&(Zm(Rr),Rr=null))),Bm(a,c),Sn(c),null;case 5:xm(c);var S=Xo(Dl.current);if(h=c.type,a!==null&&c.stateNode!=null)DS(a,c,h,g,S),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(n(166));return Sn(c),null}if(a=Xo(ti.current),Xu(c)){g=c.stateNode,h=c.type;var A=c.memoizedProps;switch(g[ei]=c,g[kl]=A,a=(c.mode&1)!==0,h){case"dialog":xt("cancel",g),xt("close",g);break;case"iframe":case"object":case"embed":xt("load",g);break;case"video":case"audio":for(S=0;S<Pl.length;S++)xt(Pl[S],g);break;case"source":xt("error",g);break;case"img":case"image":case"link":xt("error",g),xt("load",g);break;case"details":xt("toggle",g);break;case"input":Ye(g,A),xt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},xt("invalid",g);break;case"textarea":He(g,A),xt("invalid",g)}Ra(h,A),S=null;for(var j in A)if(A.hasOwnProperty(j)){var M=A[j];j==="children"?typeof M=="string"?g.textContent!==M&&(A.suppressHydrationWarning!==!0&&Wu(g.textContent,M,a),S=["children",M]):typeof M=="number"&&g.textContent!==""+M&&(A.suppressHydrationWarning!==!0&&Wu(g.textContent,M,a),S=["children",""+M]):i.hasOwnProperty(j)&&M!=null&&j==="onScroll"&&xt("scroll",g)}switch(h){case"input":fe(g),ye(g,A,!0);break;case"textarea":fe(g),pt(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=Vu)}g=S,c.updateQueue=g,g!==null&&(c.flags|=4)}else{j=S.nodeType===9?S:S.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=at(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=j.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=j.createElement(h,{is:g.is}):(a=j.createElement(h),h==="select"&&(j=a,g.multiple?j.multiple=!0:g.size&&(j.size=g.size))):a=j.createElementNS(a,h),a[ei]=c,a[kl]=g,jS(a,c,!1,!1),c.stateNode=a;e:{switch(j=La(h,g),h){case"dialog":xt("cancel",a),xt("close",a),S=g;break;case"iframe":case"object":case"embed":xt("load",a),S=g;break;case"video":case"audio":for(S=0;S<Pl.length;S++)xt(Pl[S],a);S=g;break;case"source":xt("error",a),S=g;break;case"img":case"image":case"link":xt("error",a),xt("load",a),S=g;break;case"details":xt("toggle",a),S=g;break;case"input":Ye(a,g),S=be(a,g),xt("invalid",a);break;case"option":S=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},S=te({},g,{value:void 0}),xt("invalid",a);break;case"textarea":He(a,g),S=Me(a,g),xt("invalid",a);break;default:S=g}Ra(h,S),M=S;for(A in M)if(M.hasOwnProperty(A)){var F=M[A];A==="style"?Yn(a,F):A==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&jn(a,F)):A==="children"?typeof F=="string"?(h!=="textarea"||F!=="")&&pr(a,F):typeof F=="number"&&pr(a,""+F):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?F!=null&&A==="onScroll"&&xt("scroll",a):F!=null&&E(a,A,F,j))}switch(h){case"input":fe(a),ye(a,g,!1);break;case"textarea":fe(a),pt(a);break;case"option":g.value!=null&&a.setAttribute("value",""+ee(g.value));break;case"select":a.multiple=!!g.multiple,A=g.value,A!=null?ge(a,!!g.multiple,A,!1):g.defaultValue!=null&&ge(a,!!g.multiple,g.defaultValue,!0);break;default:typeof S.onClick=="function"&&(a.onclick=Vu)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Sn(c),null;case 6:if(a&&c.stateNode!=null)_S(a,c,a.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(h=Xo(Dl.current),Xo(ti.current),Xu(c)){if(g=c.stateNode,h=c.memoizedProps,g[ei]=c,(A=g.nodeValue!==h)&&(a=Qn,a!==null))switch(a.tag){case 3:Wu(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Wu(g.nodeValue,h,(a.mode&1)!==0)}A&&(c.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[ei]=c,c.stateNode=g}return Sn(c),null;case 13:if(bt(jt),g=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ct&&Jn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Iw(),Qa(),c.flags|=98560,A=!1;else if(A=Xu(c),g!==null&&g.dehydrated!==null){if(a===null){if(!A)throw Error(n(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[ei]=c}else Qa(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Sn(c),A=!1}else Rr!==null&&(Zm(Rr),Rr=null),A=!0;if(!A)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(jt.current&1)!==0?Ut===0&&(Ut=3):eg())),c.updateQueue!==null&&(c.flags|=4),Sn(c),null);case 4:return ns(),Bm(a,c),a===null&&Cl(c.stateNode.containerInfo),Sn(c),null;case 10:return hm(c.type._context),Sn(c),null;case 17:return $n(c.type)&&Hu(),Sn(c),null;case 19:if(bt(jt),A=c.memoizedState,A===null)return Sn(c),null;if(g=(c.flags&128)!==0,j=A.rendering,j===null)if(g)Rl(A,!1);else{if(Ut!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(j=nd(a),j!==null){for(c.flags|=128,Rl(A,!1),g=j.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=h,h=c.child;h!==null;)A=h,a=g,A.flags&=14680066,j=A.alternate,j===null?(A.childLanes=0,A.lanes=a,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=j.childLanes,A.lanes=j.lanes,A.child=j.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=j.memoizedProps,A.memoizedState=j.memoizedState,A.updateQueue=j.updateQueue,A.type=j.type,a=j.dependencies,A.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return gt(jt,jt.current&1|2),c.child}a=a.sibling}A.tail!==null&&Ft()>as&&(c.flags|=128,g=!0,Rl(A,!1),c.lanes=4194304)}else{if(!g)if(a=nd(j),a!==null){if(c.flags|=128,g=!0,h=a.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Rl(A,!0),A.tail===null&&A.tailMode==="hidden"&&!j.alternate&&!Ct)return Sn(c),null}else 2*Ft()-A.renderingStartTime>as&&h!==1073741824&&(c.flags|=128,g=!0,Rl(A,!1),c.lanes=4194304);A.isBackwards?(j.sibling=c.child,c.child=j):(h=A.last,h!==null?h.sibling=j:c.child=j,A.last=j)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=Ft(),c.sibling=null,h=jt.current,gt(jt,g?h&1|2:h&1),c):(Sn(c),null);case 22:case 23:return Jm(),g=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(er&1073741824)!==0&&(Sn(c),c.subtreeFlags&6&&(c.flags|=8192)):Sn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function F5(a,c){switch(lm(c),c.tag){case 1:return $n(c.type)&&Hu(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return ns(),bt(Fn),bt(bn),wm(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return xm(c),null;case 13:if(bt(jt),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Qa()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return bt(jt),null;case 4:return ns(),null;case 10:return hm(c.type._context),null;case 22:case 23:return Jm(),null;case 24:return null;default:return null}}var dd=!1,Pn=!1,$5=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function is(a,c){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Mt(a,c,g)}else h.current=null}function zm(a,c,h){try{h()}catch(g){Mt(a,c,g)}}var TS=!1;function B5(a,c){if(Jh=Du,a=dw(),Hh(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var S=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var j=0,M=-1,F=-1,Z=0,le=0,ce=a,ae=null;t:for(;;){for(var Se;ce!==h||S!==0&&ce.nodeType!==3||(M=j+S),ce!==A||g!==0&&ce.nodeType!==3||(F=j+g),ce.nodeType===3&&(j+=ce.nodeValue.length),(Se=ce.firstChild)!==null;)ae=ce,ce=Se;for(;;){if(ce===a)break t;if(ae===h&&++Z===S&&(M=j),ae===A&&++le===g&&(F=j),(Se=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=Se}h=M===-1||F===-1?null:{start:M,end:F}}else h=null}h=h||{start:0,end:0}}else h=null;for(em={focusedElem:a,selectionRange:h},Du=!1,Ae=c;Ae!==null;)if(c=Ae,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Ae=a;else for(;Ae!==null;){c=Ae;try{var Ee=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Oe=Ee.memoizedProps,$t=Ee.memoizedState,H=c.stateNode,z=H.getSnapshotBeforeUpdate(c.elementType===c.type?Oe:Lr(c.type,Oe),$t);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var q=c.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){Mt(c,c.return,pe)}if(a=c.sibling,a!==null){a.return=c.return,Ae=a;break}Ae=c.return}return Ee=TS,TS=!1,Ee}function Ll(a,c,h){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&a)===a){var A=S.destroy;S.destroy=void 0,A!==void 0&&zm(c,h,A)}S=S.next}while(S!==g)}}function fd(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==c)}}function Wm(a){var c=a.ref;if(c!==null){var h=a.stateNode;a.tag,a=h,typeof c=="function"?c(a):c.current=a}}function MS(a){var c=a.alternate;c!==null&&(a.alternate=null,MS(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[ei],delete c[kl],delete c[im],delete c[S5],delete c[P5])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function IS(a){return a.tag===5||a.tag===3||a.tag===4}function RS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||IS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vm(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(a,c):h.insertBefore(a,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(a,h)):(c=h,c.appendChild(a)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Vu));else if(g!==4&&(a=a.child,a!==null))for(Vm(a,c,h),a=a.sibling;a!==null;)Vm(a,c,h),a=a.sibling}function Um(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Um(a,c,h),a=a.sibling;a!==null;)Um(a,c,h),a=a.sibling}var un=null,Fr=!1;function yo(a,c,h){for(h=h.child;h!==null;)LS(a,c,h),h=h.sibling}function LS(a,c,h){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Au,h)}catch{}switch(h.tag){case 5:Pn||is(h,c);case 6:var g=un,S=Fr;un=null,yo(a,c,h),un=g,Fr=S,un!==null&&(Fr?(a=un,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):un.removeChild(h.stateNode));break;case 18:un!==null&&(Fr?(a=un,h=h.stateNode,a.nodeType===8?rm(a.parentNode,h):a.nodeType===1&&rm(a,h),ml(a)):rm(un,h.stateNode));break;case 4:g=un,S=Fr,un=h.stateNode.containerInfo,Fr=!0,yo(a,c,h),un=g,Fr=S;break;case 0:case 11:case 14:case 15:if(!Pn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){S=g=g.next;do{var A=S,j=A.destroy;A=A.tag,j!==void 0&&((A&2)!==0||(A&4)!==0)&&zm(h,c,j),S=S.next}while(S!==g)}yo(a,c,h);break;case 1:if(!Pn&&(is(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(M){Mt(h,c,M)}yo(a,c,h);break;case 21:yo(a,c,h);break;case 22:h.mode&1?(Pn=(g=Pn)||h.memoizedState!==null,yo(a,c,h),Pn=g):yo(a,c,h);break;default:yo(a,c,h)}}function FS(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new $5),c.forEach(function(g){var S=Y5.bind(null,a,g);h.has(g)||(h.add(g),g.then(S,S))})}}function $r(a,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var S=h[g];try{var A=a,j=c,M=j;e:for(;M!==null;){switch(M.tag){case 5:un=M.stateNode,Fr=!1;break e;case 3:un=M.stateNode.containerInfo,Fr=!0;break e;case 4:un=M.stateNode.containerInfo,Fr=!0;break e}M=M.return}if(un===null)throw Error(n(160));LS(A,j,S),un=null,Fr=!1;var F=S.alternate;F!==null&&(F.return=null),S.return=null}catch(Z){Mt(S,c,Z)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)$S(c,a),c=c.sibling}function $S(a,c){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if($r(c,a),ri(a),g&4){try{Ll(3,a,a.return),fd(3,a)}catch(Oe){Mt(a,a.return,Oe)}try{Ll(5,a,a.return)}catch(Oe){Mt(a,a.return,Oe)}}break;case 1:$r(c,a),ri(a),g&512&&h!==null&&is(h,h.return);break;case 5:if($r(c,a),ri(a),g&512&&h!==null&&is(h,h.return),a.flags&32){var S=a.stateNode;try{pr(S,"")}catch(Oe){Mt(a,a.return,Oe)}}if(g&4&&(S=a.stateNode,S!=null)){var A=a.memoizedProps,j=h!==null?h.memoizedProps:A,M=a.type,F=a.updateQueue;if(a.updateQueue=null,F!==null)try{M==="input"&&A.type==="radio"&&A.name!=null&&ze(S,A),La(M,j);var Z=La(M,A);for(j=0;j<F.length;j+=2){var le=F[j],ce=F[j+1];le==="style"?Yn(S,ce):le==="dangerouslySetInnerHTML"?jn(S,ce):le==="children"?pr(S,ce):E(S,le,ce,Z)}switch(M){case"input":rt(S,A);break;case"textarea":Ke(S,A);break;case"select":var ae=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!A.multiple;var Se=A.value;Se!=null?ge(S,!!A.multiple,Se,!1):ae!==!!A.multiple&&(A.defaultValue!=null?ge(S,!!A.multiple,A.defaultValue,!0):ge(S,!!A.multiple,A.multiple?[]:"",!1))}S[kl]=A}catch(Oe){Mt(a,a.return,Oe)}}break;case 6:if($r(c,a),ri(a),g&4){if(a.stateNode===null)throw Error(n(162));S=a.stateNode,A=a.memoizedProps;try{S.nodeValue=A}catch(Oe){Mt(a,a.return,Oe)}}break;case 3:if($r(c,a),ri(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{ml(c.containerInfo)}catch(Oe){Mt(a,a.return,Oe)}break;case 4:$r(c,a),ri(a);break;case 13:$r(c,a),ri(a),S=a.child,S.flags&8192&&(A=S.memoizedState!==null,S.stateNode.isHidden=A,!A||S.alternate!==null&&S.alternate.memoizedState!==null||(Km=Ft())),g&4&&FS(a);break;case 22:if(le=h!==null&&h.memoizedState!==null,a.mode&1?(Pn=(Z=Pn)||le,$r(c,a),Pn=Z):$r(c,a),ri(a),g&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!le&&(a.mode&1)!==0)for(Ae=a,le=a.child;le!==null;){for(ce=Ae=le;Ae!==null;){switch(ae=Ae,Se=ae.child,ae.tag){case 0:case 11:case 14:case 15:Ll(4,ae,ae.return);break;case 1:is(ae,ae.return);var Ee=ae.stateNode;if(typeof Ee.componentWillUnmount=="function"){g=ae,h=ae.return;try{c=g,Ee.props=c.memoizedProps,Ee.state=c.memoizedState,Ee.componentWillUnmount()}catch(Oe){Mt(g,h,Oe)}}break;case 5:is(ae,ae.return);break;case 22:if(ae.memoizedState!==null){WS(ce);continue}}Se!==null?(Se.return=ae,Ae=Se):WS(ce)}le=le.sibling}e:for(le=null,ce=a;;){if(ce.tag===5){if(le===null){le=ce;try{S=ce.stateNode,Z?(A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(M=ce.stateNode,F=ce.memoizedProps.style,j=F!=null&&F.hasOwnProperty("display")?F.display:null,M.style.display=Xr("display",j))}catch(Oe){Mt(a,a.return,Oe)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=Z?"":ce.memoizedProps}catch(Oe){Mt(a,a.return,Oe)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===a)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===a)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===a)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:$r(c,a),ri(a),g&4&&FS(a);break;case 21:break;default:$r(c,a),ri(a)}}function ri(a){var c=a.flags;if(c&2){try{e:{for(var h=a.return;h!==null;){if(IS(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var S=g.stateNode;g.flags&32&&(pr(S,""),g.flags&=-33);var A=RS(a);Um(a,A,S);break;case 3:case 4:var j=g.stateNode.containerInfo,M=RS(a);Vm(a,M,j);break;default:throw Error(n(161))}}catch(F){Mt(a,a.return,F)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function z5(a,c,h){Ae=a,BS(a)}function BS(a,c,h){for(var g=(a.mode&1)!==0;Ae!==null;){var S=Ae,A=S.child;if(S.tag===22&&g){var j=S.memoizedState!==null||dd;if(!j){var M=S.alternate,F=M!==null&&M.memoizedState!==null||Pn;M=dd;var Z=Pn;if(dd=j,(Pn=F)&&!Z)for(Ae=S;Ae!==null;)j=Ae,F=j.child,j.tag===22&&j.memoizedState!==null?VS(S):F!==null?(F.return=j,Ae=F):VS(S);for(;A!==null;)Ae=A,BS(A),A=A.sibling;Ae=S,dd=M,Pn=Z}zS(a)}else(S.subtreeFlags&8772)!==0&&A!==null?(A.return=S,Ae=A):zS(a)}}function zS(a){for(;Ae!==null;){var c=Ae;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Pn||fd(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Pn)if(h===null)g.componentDidMount();else{var S=c.elementType===c.type?h.memoizedProps:Lr(c.type,h.memoizedProps);g.componentDidUpdate(S,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&Ww(c,A,g);break;case 3:var j=c.updateQueue;if(j!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}Ww(c,j,h)}break;case 5:var M=c.stateNode;if(h===null&&c.flags&4){h=M;var F=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&h.focus();break;case"img":F.src&&(h.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Z=c.alternate;if(Z!==null){var le=Z.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&ml(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pn||c.flags&512&&Wm(c)}catch(ae){Mt(c,c.return,ae)}}if(c===a){Ae=null;break}if(h=c.sibling,h!==null){h.return=c.return,Ae=h;break}Ae=c.return}}function WS(a){for(;Ae!==null;){var c=Ae;if(c===a){Ae=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Ae=h;break}Ae=c.return}}function VS(a){for(;Ae!==null;){var c=Ae;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{fd(4,c)}catch(F){Mt(c,h,F)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var S=c.return;try{g.componentDidMount()}catch(F){Mt(c,S,F)}}var A=c.return;try{Wm(c)}catch(F){Mt(c,A,F)}break;case 5:var j=c.return;try{Wm(c)}catch(F){Mt(c,j,F)}}}catch(F){Mt(c,c.return,F)}if(c===a){Ae=null;break}var M=c.sibling;if(M!==null){M.return=c.return,Ae=M;break}Ae=c.return}}var W5=Math.ceil,pd=N.ReactCurrentDispatcher,Hm=N.ReactCurrentOwner,yr=N.ReactCurrentBatchConfig,et=0,Yt=null,zt=null,dn=0,er=0,os=po(0),Ut=0,Fl=null,Qo=0,hd=0,Gm=0,$l=null,zn=null,Km=0,as=1/0,Di=null,md=!1,qm=null,xo=null,gd=!1,bo=null,vd=0,Bl=0,Ym=null,yd=-1,xd=0;function _n(){return(et&6)!==0?Ft():yd!==-1?yd:yd=Ft()}function wo(a){return(a.mode&1)===0?1:(et&2)!==0&&dn!==0?dn&-dn:A5.transition!==null?(xd===0&&(xd=R1()),xd):(a=lt,a!==0||(a=window.event,a=a===void 0?16:H1(a.type)),a)}function Br(a,c,h,g){if(50<Bl)throw Bl=0,Ym=null,Error(n(185));ul(a,h,g),((et&2)===0||a!==Yt)&&(a===Yt&&((et&2)===0&&(hd|=h),Ut===4&&So(a,dn)),Wn(a,g),h===1&&et===0&&(c.mode&1)===0&&(as=Ft()+500,Ku&&mo()))}function Wn(a,c){var h=a.callbackNode;AL(a,c);var g=Nu(a,a===Yt?dn:0);if(g===0)h!==null&&Qr(h),a.callbackNode=null,a.callbackPriority=0;else if(c=g&-g,a.callbackPriority!==c){if(h!=null&&Qr(h),c===1)a.tag===0?C5(HS.bind(null,a)):jw(HS.bind(null,a)),b5(function(){(et&6)===0&&mo()}),h=null;else{switch(L1(g)){case 1:h=Nh;break;case 4:h=M1;break;case 16:h=Cu;break;case 536870912:h=I1;break;default:h=Cu}h=JS(h,US.bind(null,a))}a.callbackPriority=c,a.callbackNode=h}}function US(a,c){if(yd=-1,xd=0,(et&6)!==0)throw Error(n(327));var h=a.callbackNode;if(ss()&&a.callbackNode!==h)return null;var g=Nu(a,a===Yt?dn:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||c)c=bd(a,g);else{c=g;var S=et;et|=2;var A=KS();(Yt!==a||dn!==c)&&(Di=null,as=Ft()+500,ea(a,c));do try{H5();break}catch(M){GS(a,M)}while(!0);pm(),pd.current=A,et=S,zt!==null?c=0:(Yt=null,dn=0,c=Ut)}if(c!==0){if(c===2&&(S=Oh(a),S!==0&&(g=S,c=Xm(a,S))),c===1)throw h=Fl,ea(a,0),So(a,g),Wn(a,Ft()),h;if(c===6)So(a,g);else{if(S=a.current.alternate,(g&30)===0&&!V5(S)&&(c=bd(a,g),c===2&&(A=Oh(a),A!==0&&(g=A,c=Xm(a,A))),c===1))throw h=Fl,ea(a,0),So(a,g),Wn(a,Ft()),h;switch(a.finishedWork=S,a.finishedLanes=g,c){case 0:case 1:throw Error(n(345));case 2:ta(a,zn,Di);break;case 3:if(So(a,g),(g&130023424)===g&&(c=Km+500-Ft(),10<c)){if(Nu(a,0)!==0)break;if(S=a.suspendedLanes,(S&g)!==g){_n(),a.pingedLanes|=a.suspendedLanes&S;break}a.timeoutHandle=nm(ta.bind(null,a,zn,Di),c);break}ta(a,zn,Di);break;case 4:if(So(a,g),(g&4194240)===g)break;for(c=a.eventTimes,S=-1;0<g;){var j=31-Mr(g);A=1<<j,j=c[j],j>S&&(S=j),g&=~A}if(g=S,g=Ft()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*W5(g/1960))-g,10<g){a.timeoutHandle=nm(ta.bind(null,a,zn,Di),g);break}ta(a,zn,Di);break;case 5:ta(a,zn,Di);break;default:throw Error(n(329))}}}return Wn(a,Ft()),a.callbackNode===h?US.bind(null,a):null}function Xm(a,c){var h=$l;return a.current.memoizedState.isDehydrated&&(ea(a,c).flags|=256),a=bd(a,c),a!==2&&(c=zn,zn=h,c!==null&&Zm(c)),a}function Zm(a){zn===null?zn=a:zn.push.apply(zn,a)}function V5(a){for(var c=a;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var S=h[g],A=S.getSnapshot;S=S.value;try{if(!Ir(A(),S))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function So(a,c){for(c&=~Gm,c&=~hd,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var h=31-Mr(c),g=1<<h;a[h]=-1,c&=~g}}function HS(a){if((et&6)!==0)throw Error(n(327));ss();var c=Nu(a,0);if((c&1)===0)return Wn(a,Ft()),null;var h=bd(a,c);if(a.tag!==0&&h===2){var g=Oh(a);g!==0&&(c=g,h=Xm(a,g))}if(h===1)throw h=Fl,ea(a,0),So(a,c),Wn(a,Ft()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,ta(a,zn,Di),Wn(a,Ft()),null}function Qm(a,c){var h=et;et|=1;try{return a(c)}finally{et=h,et===0&&(as=Ft()+500,Ku&&mo())}}function Jo(a){bo!==null&&bo.tag===0&&(et&6)===0&&ss();var c=et;et|=1;var h=yr.transition,g=lt;try{if(yr.transition=null,lt=1,a)return a()}finally{lt=g,yr.transition=h,et=c,(et&6)===0&&mo()}}function Jm(){er=os.current,bt(os)}function ea(a,c){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,x5(h)),zt!==null)for(h=zt.return;h!==null;){var g=h;switch(lm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Hu();break;case 3:ns(),bt(Fn),bt(bn),wm();break;case 5:xm(g);break;case 4:ns();break;case 13:bt(jt);break;case 19:bt(jt);break;case 10:hm(g.type._context);break;case 22:case 23:Jm()}h=h.return}if(Yt=a,zt=a=Po(a.current,null),dn=er=c,Ut=0,Fl=null,Gm=hd=Qo=0,zn=$l=null,Yo!==null){for(c=0;c<Yo.length;c++)if(h=Yo[c],g=h.interleaved,g!==null){h.interleaved=null;var S=g.next,A=h.pending;if(A!==null){var j=A.next;A.next=S,g.next=j}h.pending=g}Yo=null}return a}function GS(a,c){do{var h=zt;try{if(pm(),rd.current=sd,id){for(var g=Dt.memoizedState;g!==null;){var S=g.queue;S!==null&&(S.pending=null),g=g.next}id=!1}if(Zo=0,qt=Vt=Dt=null,_l=!1,Tl=0,Hm.current=null,h===null||h.return===null){Ut=1,Fl=c,zt=null;break}e:{var A=a,j=h.return,M=h,F=c;if(c=dn,M.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Z=F,le=M,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var Se=vS(j);if(Se!==null){Se.flags&=-257,yS(Se,j,M,A,c),Se.mode&1&&gS(A,Z,c),c=Se,F=Z;var Ee=c.updateQueue;if(Ee===null){var Oe=new Set;Oe.add(F),c.updateQueue=Oe}else Ee.add(F);break e}else{if((c&1)===0){gS(A,Z,c),eg();break e}F=Error(n(426))}}else if(Ct&&M.mode&1){var $t=vS(j);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),yS($t,j,M,A,c),dm(rs(F,M));break e}}A=F=rs(F,M),Ut!==4&&(Ut=2),$l===null?$l=[A]:$l.push(A),A=j;do{switch(A.tag){case 3:A.flags|=65536,c&=-c,A.lanes|=c;var H=hS(A,F,c);zw(A,H);break e;case 1:M=F;var z=A.type,q=A.stateNode;if((A.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(xo===null||!xo.has(q)))){A.flags|=65536,c&=-c,A.lanes|=c;var pe=mS(A,M,c);zw(A,pe);break e}}A=A.return}while(A!==null)}YS(h)}catch(De){c=De,zt===h&&h!==null&&(zt=h=h.return);continue}break}while(!0)}function KS(){var a=pd.current;return pd.current=sd,a===null?sd:a}function eg(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Yt===null||(Qo&268435455)===0&&(hd&268435455)===0||So(Yt,dn)}function bd(a,c){var h=et;et|=2;var g=KS();(Yt!==a||dn!==c)&&(Di=null,ea(a,c));do try{U5();break}catch(S){GS(a,S)}while(!0);if(pm(),et=h,pd.current=g,zt!==null)throw Error(n(261));return Yt=null,dn=0,Ut}function U5(){for(;zt!==null;)qS(zt)}function H5(){for(;zt!==null&&!ll();)qS(zt)}function qS(a){var c=QS(a.alternate,a,er);a.memoizedProps=a.pendingProps,c===null?YS(a):zt=c,Hm.current=null}function YS(a){var c=a;do{var h=c.alternate;if(a=c.return,(c.flags&32768)===0){if(h=L5(h,c,er),h!==null){zt=h;return}}else{if(h=F5(h,c),h!==null){h.flags&=32767,zt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Ut=6,zt=null;return}}if(c=c.sibling,c!==null){zt=c;return}zt=c=a}while(c!==null);Ut===0&&(Ut=5)}function ta(a,c,h){var g=lt,S=yr.transition;try{yr.transition=null,lt=1,G5(a,c,h,g)}finally{yr.transition=S,lt=g}return null}function G5(a,c,h,g){do ss();while(bo!==null);if((et&6)!==0)throw Error(n(327));h=a.finishedWork;var S=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var A=h.lanes|h.childLanes;if(kL(a,A),a===Yt&&(zt=Yt=null,dn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||gd||(gd=!0,JS(Cu,function(){return ss(),null})),A=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||A){A=yr.transition,yr.transition=null;var j=lt;lt=1;var M=et;et|=4,Hm.current=null,B5(a,h),$S(h,a),f5(em),Du=!!Jh,em=Jh=null,a.current=h,z5(h),vL(),et=M,lt=j,yr.transition=A}else a.current=h;if(gd&&(gd=!1,bo=a,vd=S),A=a.pendingLanes,A===0&&(xo=null),bL(h.stateNode),Wn(a,Ft()),c!==null)for(g=a.onRecoverableError,h=0;h<c.length;h++)S=c[h],g(S.value,{componentStack:S.stack,digest:S.digest});if(md)throw md=!1,a=qm,qm=null,a;return(vd&1)!==0&&a.tag!==0&&ss(),A=a.pendingLanes,(A&1)!==0?a===Ym?Bl++:(Bl=0,Ym=a):Bl=0,mo(),null}function ss(){if(bo!==null){var a=L1(vd),c=yr.transition,h=lt;try{if(yr.transition=null,lt=16>a?16:a,bo===null)var g=!1;else{if(a=bo,bo=null,vd=0,(et&6)!==0)throw Error(n(331));var S=et;for(et|=4,Ae=a.current;Ae!==null;){var A=Ae,j=A.child;if((Ae.flags&16)!==0){var M=A.deletions;if(M!==null){for(var F=0;F<M.length;F++){var Z=M[F];for(Ae=Z;Ae!==null;){var le=Ae;switch(le.tag){case 0:case 11:case 15:Ll(8,le,A)}var ce=le.child;if(ce!==null)ce.return=le,Ae=ce;else for(;Ae!==null;){le=Ae;var ae=le.sibling,Se=le.return;if(MS(le),le===Z){Ae=null;break}if(ae!==null){ae.return=Se,Ae=ae;break}Ae=Se}}}var Ee=A.alternate;if(Ee!==null){var Oe=Ee.child;if(Oe!==null){Ee.child=null;do{var $t=Oe.sibling;Oe.sibling=null,Oe=$t}while(Oe!==null)}}Ae=A}}if((A.subtreeFlags&2064)!==0&&j!==null)j.return=A,Ae=j;else e:for(;Ae!==null;){if(A=Ae,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Ll(9,A,A.return)}var H=A.sibling;if(H!==null){H.return=A.return,Ae=H;break e}Ae=A.return}}var z=a.current;for(Ae=z;Ae!==null;){j=Ae;var q=j.child;if((j.subtreeFlags&2064)!==0&&q!==null)q.return=j,Ae=q;else e:for(j=z;Ae!==null;){if(M=Ae,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:fd(9,M)}}catch(De){Mt(M,M.return,De)}if(M===j){Ae=null;break e}var pe=M.sibling;if(pe!==null){pe.return=M.return,Ae=pe;break e}Ae=M.return}}if(et=S,mo(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Au,a)}catch{}g=!0}return g}finally{lt=h,yr.transition=c}}return!1}function XS(a,c,h){c=rs(h,c),c=hS(a,c,1),a=vo(a,c,1),c=_n(),a!==null&&(ul(a,1,c),Wn(a,c))}function Mt(a,c,h){if(a.tag===3)XS(a,a,h);else for(;c!==null;){if(c.tag===3){XS(c,a,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(xo===null||!xo.has(g))){a=rs(h,a),a=mS(c,a,1),c=vo(c,a,1),a=_n(),c!==null&&(ul(c,1,a),Wn(c,a));break}}c=c.return}}function K5(a,c,h){var g=a.pingCache;g!==null&&g.delete(c),c=_n(),a.pingedLanes|=a.suspendedLanes&h,Yt===a&&(dn&h)===h&&(Ut===4||Ut===3&&(dn&130023424)===dn&&500>Ft()-Km?ea(a,0):Gm|=h),Wn(a,c)}function ZS(a,c){c===0&&((a.mode&1)===0?c=1:(c=Eu,Eu<<=1,(Eu&130023424)===0&&(Eu=4194304)));var h=_n();a=Ni(a,c),a!==null&&(ul(a,c,h),Wn(a,h))}function q5(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),ZS(a,h)}function Y5(a,c){var h=0;switch(a.tag){case 13:var g=a.stateNode,S=a.memoizedState;S!==null&&(h=S.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(c),ZS(a,h)}var QS;QS=function(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps||Fn.current)Bn=!0;else{if((a.lanes&h)===0&&(c.flags&128)===0)return Bn=!1,R5(a,c,h);Bn=(a.flags&131072)!==0}else Bn=!1,Ct&&(c.flags&1048576)!==0&&Dw(c,Yu,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;ud(a,c),a=c.pendingProps;var S=Ya(c,bn.current);ts(c,h),S=Cm(null,c,g,a,S,h);var A=Am();return c.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,$n(g)?(A=!0,Gu(c)):A=!1,c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,vm(c),S.updater=ld,c.stateNode=S,S._reactInternals=c,Dm(c,g,a,h),c=Im(null,c,g,!0,A,h)):(c.tag=0,Ct&&A&&sm(c),Dn(null,c,S,h),c=c.child),c;case 16:g=c.elementType;e:{switch(ud(a,c),a=c.pendingProps,S=g._init,g=S(g._payload),c.type=g,S=c.tag=Z5(g),a=Lr(g,a),S){case 0:c=Mm(null,c,g,a,h);break e;case 1:c=CS(null,c,g,a,h);break e;case 11:c=xS(null,c,g,a,h);break e;case 14:c=bS(null,c,g,Lr(g.type,a),h);break e}throw Error(n(306,g,""))}return c;case 0:return g=c.type,S=c.pendingProps,S=c.elementType===g?S:Lr(g,S),Mm(a,c,g,S,h);case 1:return g=c.type,S=c.pendingProps,S=c.elementType===g?S:Lr(g,S),CS(a,c,g,S,h);case 3:e:{if(AS(c),a===null)throw Error(n(387));g=c.pendingProps,A=c.memoizedState,S=A.element,Bw(a,c),td(c,g,null,h);var j=c.memoizedState;if(g=j.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){S=rs(Error(n(423)),c),c=kS(a,c,g,h,S);break e}else if(g!==S){S=rs(Error(n(424)),c),c=kS(a,c,g,h,S);break e}else for(Jn=fo(c.stateNode.containerInfo.firstChild),Qn=c,Ct=!0,Rr=null,h=Fw(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Qa(),g===S){c=ji(a,c,h);break e}Dn(a,c,g,h)}c=c.child}return c;case 5:return Vw(c),a===null&&um(c),g=c.type,S=c.pendingProps,A=a!==null?a.memoizedProps:null,j=S.children,tm(g,S)?j=null:A!==null&&tm(g,A)&&(c.flags|=32),PS(a,c),Dn(a,c,j,h),c.child;case 6:return a===null&&um(c),null;case 13:return ES(a,c,h);case 4:return ym(c,c.stateNode.containerInfo),g=c.pendingProps,a===null?c.child=Ja(c,null,g,h):Dn(a,c,g,h),c.child;case 11:return g=c.type,S=c.pendingProps,S=c.elementType===g?S:Lr(g,S),xS(a,c,g,S,h);case 7:return Dn(a,c,c.pendingProps,h),c.child;case 8:return Dn(a,c,c.pendingProps.children,h),c.child;case 12:return Dn(a,c,c.pendingProps.children,h),c.child;case 10:e:{if(g=c.type._context,S=c.pendingProps,A=c.memoizedProps,j=S.value,gt(Qu,g._currentValue),g._currentValue=j,A!==null)if(Ir(A.value,j)){if(A.children===S.children&&!Fn.current){c=ji(a,c,h);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var M=A.dependencies;if(M!==null){j=A.child;for(var F=M.firstContext;F!==null;){if(F.context===g){if(A.tag===1){F=Oi(-1,h&-h),F.tag=2;var Z=A.updateQueue;if(Z!==null){Z=Z.shared;var le=Z.pending;le===null?F.next=F:(F.next=le.next,le.next=F),Z.pending=F}}A.lanes|=h,F=A.alternate,F!==null&&(F.lanes|=h),mm(A.return,h,c),M.lanes|=h;break}F=F.next}}else if(A.tag===10)j=A.type===c.type?null:A.child;else if(A.tag===18){if(j=A.return,j===null)throw Error(n(341));j.lanes|=h,M=j.alternate,M!==null&&(M.lanes|=h),mm(j,h,c),j=A.sibling}else j=A.child;if(j!==null)j.return=A;else for(j=A;j!==null;){if(j===c){j=null;break}if(A=j.sibling,A!==null){A.return=j.return,j=A;break}j=j.return}A=j}Dn(a,c,S.children,h),c=c.child}return c;case 9:return S=c.type,g=c.pendingProps.children,ts(c,h),S=gr(S),g=g(S),c.flags|=1,Dn(a,c,g,h),c.child;case 14:return g=c.type,S=Lr(g,c.pendingProps),S=Lr(g.type,S),bS(a,c,g,S,h);case 15:return wS(a,c,c.type,c.pendingProps,h);case 17:return g=c.type,S=c.pendingProps,S=c.elementType===g?S:Lr(g,S),ud(a,c),c.tag=1,$n(g)?(a=!0,Gu(c)):a=!1,ts(c,h),fS(c,g,S),Dm(c,g,S,h),Im(null,c,g,!0,a,h);case 19:return OS(a,c,h);case 22:return SS(a,c,h)}throw Error(n(156,c.tag))};function JS(a,c){return xn(a,c)}function X5(a,c,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(a,c,h,g){return new X5(a,c,h,g)}function tg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Z5(a){if(typeof a=="function")return tg(a)?1:0;if(a!=null){if(a=a.$$typeof,a===B)return 11;if(a===oe)return 14}return 2}function Po(a,c){var h=a.alternate;return h===null?(h=xr(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function wd(a,c,h,g,S,A){var j=2;if(g=a,typeof a=="function")tg(a)&&(j=1);else if(typeof a=="string")j=5;else e:switch(a){case _:return na(h.children,S,A,c);case T:j=8,S|=8;break;case V:return a=xr(12,h,c,S|2),a.elementType=V,a.lanes=A,a;case U:return a=xr(13,h,c,S),a.elementType=U,a.lanes=A,a;case ue:return a=xr(19,h,c,S),a.elementType=ue,a.lanes=A,a;case Q:return Sd(h,S,A,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Y:j=10;break e;case K:j=9;break e;case B:j=11;break e;case oe:j=14;break e;case we:j=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=xr(j,h,c,S),c.elementType=a,c.type=g,c.lanes=A,c}function na(a,c,h,g){return a=xr(7,a,g,c),a.lanes=h,a}function Sd(a,c,h,g){return a=xr(22,a,g,c),a.elementType=Q,a.lanes=h,a.stateNode={isHidden:!1},a}function ng(a,c,h){return a=xr(6,a,null,c),a.lanes=h,a}function rg(a,c,h){return c=xr(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function Q5(a,c,h,g,S){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jh(0),this.expirationTimes=jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jh(0),this.identifierPrefix=g,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function ig(a,c,h,g,S,A,j,M,F){return a=new Q5(a,c,h,M,F),c===1?(c=1,A===!0&&(c|=8)):c=0,A=xr(3,null,null,c),a.current=A,A.stateNode=a,A.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},vm(A),a}function J5(a,c,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:g==null?null:""+g,children:a,containerInfo:c,implementation:h}}function eP(a){if(!a)return ho;a=a._reactInternals;e:{if(qe(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if($n(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if($n(h))return Nw(a,h,c)}return c}function tP(a,c,h,g,S,A,j,M,F){return a=ig(h,g,!0,a,S,A,j,M,F),a.context=eP(null),h=a.current,g=_n(),S=wo(h),A=Oi(g,S),A.callback=c??null,vo(h,A,S),a.current.lanes=S,ul(a,S,g),Wn(a,g),a}function Pd(a,c,h,g){var S=c.current,A=_n(),j=wo(S);return h=eP(h),c.context===null?c.context=h:c.pendingContext=h,c=Oi(A,j),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=vo(S,c,j),a!==null&&(Br(a,S,j,A),ed(a,S,j)),j}function Cd(a){return a=a.current,a.child?(a.child.tag===5,a.child.stateNode):null}function nP(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function og(a,c){nP(a,c),(a=a.alternate)&&nP(a,c)}function e3(){return null}var rP=typeof reportError=="function"?reportError:function(a){console.error(a)};function ag(a){this._internalRoot=a}Ad.prototype.render=ag.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));Pd(a,c,null,null)},Ad.prototype.unmount=ag.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Jo(function(){Pd(null,a,null,null)}),c[Ci]=null}};function Ad(a){this._internalRoot=a}Ad.prototype.unstable_scheduleHydration=function(a){if(a){var c=B1();a={blockedOn:null,target:a,priority:c};for(var h=0;h<lo.length&&c!==0&&c<lo[h].priority;h++);lo.splice(h,0,a),h===0&&V1(a)}};function sg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function kd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function iP(){}function t3(a,c,h,g,S){if(S){if(typeof g=="function"){var A=g;g=function(){var Z=Cd(j);A.call(Z)}}var j=tP(c,g,a,0,null,!1,!1,"",iP);return a._reactRootContainer=j,a[Ci]=j.current,Cl(a.nodeType===8?a.parentNode:a),Jo(),j}for(;S=a.lastChild;)a.removeChild(S);if(typeof g=="function"){var M=g;g=function(){var Z=Cd(F);M.call(Z)}}var F=ig(a,0,!1,null,null,!1,!1,"",iP);return a._reactRootContainer=F,a[Ci]=F.current,Cl(a.nodeType===8?a.parentNode:a),Jo(function(){Pd(c,F,h,g)}),F}function Ed(a,c,h,g,S){var A=h._reactRootContainer;if(A){var j=A;if(typeof S=="function"){var M=S;S=function(){var F=Cd(j);M.call(F)}}Pd(c,j,a,S)}else j=t3(h,c,a,S,g);return Cd(j)}F1=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var h=cl(c.pendingLanes);h!==0&&(Dh(c,h|1),Wn(c,Ft()),(et&6)===0&&(as=Ft()+500,mo()))}break;case 13:Jo(function(){var g=Ni(a,1);if(g!==null){var S=_n();Br(g,a,1,S)}}),og(a,1)}},_h=function(a){if(a.tag===13){var c=Ni(a,134217728);if(c!==null){var h=_n();Br(c,a,134217728,h)}og(a,134217728)}},$1=function(a){if(a.tag===13){var c=wo(a),h=Ni(a,c);if(h!==null){var g=_n();Br(h,a,c,g)}og(a,c)}},B1=function(){return lt},z1=function(a,c){var h=lt;try{return lt=a,c()}finally{lt=h}},st=function(a,c,h){switch(c){case"input":if(rt(a,h),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==a&&g.form===a.form){var S=Uu(g);if(!S)throw Error(n(90));I(g),rt(g,S)}}}break;case"textarea":Ke(a,h);break;case"select":c=h.value,c!=null&&ge(a,!!h.multiple,c,!1)}},al=Qm,Pu=Jo;var n3={usingClientEntryPoint:!1,Events:[El,Ka,Uu,wu,Su,Qm]},zl={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r3={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=yt(a),a===null?null:a.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||e3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{Au=Nd.inject(r3),Jr=Nd}catch{}}return Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n3,Vn.createPortal=function(a,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sg(c))throw Error(n(200));return J5(a,c,null,h)},Vn.createRoot=function(a,c){if(!sg(a))throw Error(n(299));var h=!1,g="",S=rP;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),c=ig(a,1,!1,null,null,h,!1,g,S),a[Ci]=c.current,Cl(a.nodeType===8?a.parentNode:a),new ag(c)},Vn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=yt(c),a=a===null?null:a.stateNode,a},Vn.flushSync=function(a){return Jo(a)},Vn.hydrate=function(a,c,h){if(!kd(c))throw Error(n(200));return Ed(null,a,c,!0,h)},Vn.hydrateRoot=function(a,c,h){if(!sg(a))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,S=!1,A="",j=rP;if(h!=null&&(h.unstable_strictMode===!0&&(S=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&(j=h.onRecoverableError)),c=tP(c,null,a,1,h??null,S,!1,A,j),a[Ci]=c.current,Cl(a),g)for(a=0;a<g.length;a++)h=g[a],S=h._getVersion,S=S(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,S]:c.mutableSourceEagerHydrationData.push(h,S);return new Ad(c)},Vn.render=function(a,c,h){if(!kd(c))throw Error(n(200));return Ed(null,a,c,!1,h)},Vn.unmountComponentAtNode=function(a){if(!kd(a))throw Error(n(40));return a._reactRootContainer?(Jo(function(){Ed(null,null,a,!1,function(){a._reactRootContainer=null,a[Ci]=null})}),!0):!1},Vn.unstable_batchedUpdates=Qm,Vn.unstable_renderSubtreeIntoContainer=function(a,c,h,g){if(!kd(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Ed(a,c,h,!1,g)},Vn.version="18.3.1-next-f1338f8080-20240426",Vn}var fP;function iO(){if(fP)return ug.exports;fP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ug.exports=f3(),ug.exports}var pP;function p3(){if(pP)return Od;pP=1;var e=iO();return Od.createRoot=e.createRoot,Od.hydrateRoot=e.hydrateRoot,Od}var h3=p3();const m3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oO=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var g3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const v3=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...l},u)=>P.createElement("svg",{ref:u,...g3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:oO("lucide",i),...l},[...s.map(([d,f])=>P.createElement(d,f)),...Array.isArray(o)?o:[o]]));const Ge=(e,t)=>{const n=P.forwardRef(({className:r,...i},o)=>P.createElement(v3,{ref:o,iconNode:t,className:oO(`lucide-${m3(e)}`,r),...i}));return n.displayName=`${e}`,n};const aO=Ge("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);const sO=Ge("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const y3=Ge("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const x3=Ge("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);const As=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Sy=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const b3=Ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const w3=Ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const S3=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const P3=Ge("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const lO=Ge("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);const C3=Ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const A3=Ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const k3=Ge("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);const hP=Ge("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const cO=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const E3=Ge("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);const N3=Ge("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const O3=Ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const mP=Ge("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const uO=Ge("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const j3=Ge("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const ks=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const D3=Ge("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);const _3=Ge("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const T3=Ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const M3=Ge("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);const I3=Ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const R3=Ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const Os=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const L3=Ge("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);const F3=Ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const $3=Ge("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);const js=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const B3=Ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const z3=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const W3=Ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const V3=Ge("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const xf=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const gP=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const vc=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const U3=Ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);const H3=Ge("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const G3=Ge("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),K3=[{id:"agent",label:"LeapOS",icon:y3},{id:"lens",label:"Lens Designer",icon:S3},{id:"system",label:"System Editor",icon:uO},{id:"coating",label:"Coating Lab",icon:aO},{id:"info",label:"User Guide",icon:sO},{id:"properties",label:"Properties",icon:z3},{id:"export",label:"Export",icon:k3}];function q3({activeTab:e,onTabChange:t,loadedFileName:n}){return y.jsx("div",{className:"glass-card border-b border-white/10 rounded-none",children:y.jsxs("nav",{className:"flex items-center gap-1 px-6 py-3",children:[y.jsxs("div",{className:"flex items-center gap-4 mr-8",children:[y.jsx("span",{className:"text-cyan-electric font-semibold text-lg",children:"Photon Leap"}),n&&y.jsxs("span",{className:"text-slate-400 text-sm font-medium",children:["File: ",n]})]}),K3.map(r=>{const i=r.icon,o=e===r.id;return y.jsxs("button",{"data-testid":`nav-${r.id}`,onClick:()=>t(r.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${o?"text-cyan-electric bg-white/10":"text-slate-300 hover:text-cyan-electric hover:bg-white/5"}`,children:[y.jsx(i,{className:"w-4 h-4",strokeWidth:2}),y.jsx("span",{className:"text-sm font-medium",children:r.label})]},r.id)})]})})}const dO=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0,Be={apiBaseUrl:"http://localhost:8000",viewport:{width:640,height:320},rayCount:{min:3,max:21},defaults:{entrancePupilDiameter:10,wavelengths:[587.6,486.1,656.3],fieldAngles:[0,7,14],numRays:9,defaultWavelength:587.6,defaultFieldAngle:7},surfaceDefaults:{thickness:10,diameter:25,refractiveIndex:1},view:{padding:40,scaleFactor:.9,minZExtent:30,extendZFactor:.2,extendZMin:50},maxFieldAngles:3,rayColors:["#22D3EE","#22C55E","#F97316"],paraxial:{focusYFactor:.15,lensToFocusFactor:.3},toastDuration:2500,thermalPowerThresholdW:1,llm:{anthropicApiKey:"",openaiApiKey:"",deepseekApiKey:""},agentRmsThresholdUm:1e3,localAgent:{apiBase:"http://localhost:1234/v1",apiKey:"lm-studio",modelId:"deepseek-r1-distill-qwen-32b-mlx"}};let tr=null,jd=null;function Y3(){const e=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=`${e.endsWith("/")?e:`${e}/`}pyodide/worker.js`;return typeof location<"u"?new URL(n,location.href).href:n.startsWith("http")?n:typeof document<"u"?new URL(n,document.baseURI).href:n}async function Ep(){return tr||(jd?(await jd,tr):(jd=(async()=>{tr=new Worker(Y3(),{type:"classic"}),tr.addEventListener("message",e=>{e.data?.type==="log"&&(e.data.lines||[]).forEach(t=>console.log("%c[Python]","color: #4CAF50",t))}),await new Promise((e,t)=>{const n=i=>{i.data?.type==="ready"&&(tr.removeEventListener("message",n),tr.removeEventListener("error",r),i.data.error?t(new Error(i.data.error)):e())},r=i=>{tr.removeEventListener("message",n),tr.removeEventListener("error",r),t(i)};tr.addEventListener("message",n),tr.addEventListener("error",r),tr.postMessage({type:"init"})})})(),await jd,tr))}async function X3(e){const t=await Ep(),n={surfaces:e.surfaces.map(i=>({id:i.id,type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,coating:i.coating,sellmeierCoefficients:i.sellmeierCoefficients,coatingDataPoints:i.coatingDataPoints,coatingConstantValue:i.coatingConstantValue,coatingIsHr:i.coatingIsHr})),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:(e.fieldAngles??[0]).slice(0,Be.maxFieldAngles),numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1},r=`trace-${Date.now()}-${Math.random().toString(36).slice(2)}`;return new Promise((i,o)=>{const s=l=>{l.data?.type==="trace"&&l.data.id===r&&(t.removeEventListener("message",s),l.data.error?o(new Error(l.data.error)):i(l.data.result))};t.addEventListener("message",s),t.postMessage({type:"trace",id:r,payload:n})})}async function Z3(e){const t=await Ep(),n={surfaces:e.surfaces.map(i=>({id:i.id,type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,sellmeierCoefficients:i.sellmeierCoefficients})),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:(e.fieldAngles??[0]).slice(0,Be.maxFieldAngles),numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1,wavelength_min_nm:e.wavelength_min_nm??400,wavelength_max_nm:e.wavelength_max_nm??1100,wavelength_step_nm:e.wavelength_step_nm??10},r=`chromatic-${Date.now()}-${Math.random().toString(36).slice(2)}`;return new Promise((i,o)=>{const s=l=>{l.data?.type==="chromatic-shift"&&l.data.id===r&&(t.removeEventListener("message",s),l.data.error?o(new Error(l.data.error)):i(l.data.result??[]))};t.addEventListener("message",s),t.postMessage({type:"chromatic-shift",id:r,payload:n})})}async function Q3(e){const t=await Ep(),n={surfaces:e.surfaces.map(i=>({id:i.id,type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,sellmeierCoefficients:i.sellmeierCoefficients})),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:(e.fieldAngles??[0]).slice(0,Be.maxFieldAngles),numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1},r=`optimize-${Date.now()}-${Math.random().toString(36).slice(2)}`;return new Promise((i,o)=>{const s=l=>{l.data?.type==="optimize-colors"&&l.data.id===r&&(t.removeEventListener("message",s),l.data.error?o(new Error(l.data.error)):i(l.data.result??{recommended_glass:"",estimated_lca_reduction:0}))};t.addEventListener("message",s),t.postMessage({type:"optimize-colors",id:r,payload:n})})}function J3(){return!0}function e4(){return Ep().then(()=>{})}const X0=P.createContext({});function Z0(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const Np=P.createContext(null),Q0=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class t4 extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function n4({children:e,isPresent:t}){const n=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=P.useContext(Q0);return P.useInsertionEffect(()=>{const{width:s,height:l,top:u,left:d}=i.current;if(t||!r.current||!s||!l)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return o&&(f.nonce=o),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),y.jsx(t4,{isPresent:t,childRef:r,sizeRef:i,children:P.cloneElement(e,{ref:r})})}const r4=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const l=Z0(i4),u=P.useId(),d=P.useCallback(p=>{l.set(p,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),f=P.useMemo(()=>({id:u,initial:t,isPresent:n,custom:i,onExitComplete:d,register:p=>(l.set(p,!1),()=>l.delete(p))}),o?[Math.random(),d]:[n,d]);return P.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),P.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),s==="popLayout"&&(e=y.jsx(n4,{isPresent:n,children:e})),y.jsx(Np.Provider,{value:f,children:e})};function i4(){return new Map}function fO(e=!0){const t=P.useContext(Np);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=P.useId();P.useEffect(()=>{e&&i(o)},[e]);const s=P.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}const Dd=e=>e.key||"";function vP(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const J0=typeof window<"u",pO=J0?P.useLayoutEffect:P.useEffect,zi=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1})=>{const[l,u]=fO(s),d=P.useMemo(()=>vP(e),[e]),f=s&&!l?[]:d.map(Dd),p=P.useRef(!0),m=P.useRef(d),v=Z0(()=>new Map),[x,w]=P.useState(d),[b,C]=P.useState(d);pO(()=>{p.current=!1,m.current=d;for(let N=0;N<b.length;N++){const D=Dd(b[N]);f.includes(D)?v.delete(D):v.get(D)!==!0&&v.set(D,!1)}},[b,f.length,f.join("-")]);const k=[];if(d!==x){let N=[...d];for(let D=0;D<b.length;D++){const O=b[D],_=Dd(O);f.includes(_)||(N.splice(D,0,O),k.push(O))}o==="wait"&&k.length&&(N=k),C(vP(N)),w(d);return}const{forceRender:E}=P.useContext(X0);return y.jsx(y.Fragment,{children:b.map(N=>{const D=Dd(N),O=s&&!l?!1:d===b||f.includes(D),_=()=>{if(v.has(D))v.set(D,!0);else return;let T=!0;v.forEach(V=>{V||(T=!1)}),T&&(E?.(),C(m.current),s&&u?.(),r&&r())};return y.jsx(r4,{isPresent:O,initial:!p.current||n?void 0:!1,custom:O?void 0:t,presenceAffectsLayout:i,mode:o,onExitComplete:O?void 0:_,children:N},D)})})},ar=e=>e;let hO=ar;function ex(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ds=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Li=e=>e*1e3,Fi=e=>e/1e3,o4={useManualTiming:!1};function a4(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(u.schedule(d),e()),d(s)}const u={schedule:(d,f=!1,p=!1)=>{const v=p&&r?t:n;return f&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(s=d,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,i&&(i=!1,u.process(d))}};return u}const _d=["read","resolveKeyframes","update","preRender","render","postRender"],s4=40;function mO(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=_d.reduce((C,k)=>(C[k]=a4(o),C),{}),{read:l,resolveKeyframes:u,update:d,preRender:f,render:p,postRender:m}=s,v=()=>{const C=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(C-i.timestamp,s4),1),i.timestamp=C,i.isProcessing=!0,l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(v))},x=()=>{n=!0,r=!0,i.isProcessing||e(v)};return{schedule:_d.reduce((C,k)=>{const E=s[k];return C[k]=(N,D=!1,O=!1)=>(n||x(),E.schedule(N,D,O)),C},{}),cancel:C=>{for(let k=0;k<_d.length;k++)s[_d[k]].cancel(C)},state:i,steps:s}}const{schedule:St,cancel:Io,state:fn,steps:pg}=mO(typeof requestAnimationFrame<"u"?requestAnimationFrame:ar,!0),gO=P.createContext({strict:!1}),yP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_s={};for(const e in yP)_s[e]={isEnabled:t=>yP[e].some(n=>!!t[n])};function l4(e){for(const t in e)_s[t]={..._s[t],...e[t]}}const c4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||c4.has(e)}let vO=e=>!bf(e);function u4(e){e&&(vO=t=>t.startsWith("on")?!bf(t):e(t))}try{u4(require("@emotion/is-prop-valid").default)}catch{}function d4(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(vO(i)||n===!0&&bf(i)||!t&&!bf(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function f4(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Op=P.createContext({});function yc(e){return typeof e=="string"||Array.isArray(e)}function jp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const tx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nx=["initial",...tx];function Dp(e){return jp(e.animate)||nx.some(t=>yc(e[t]))}function yO(e){return!!(Dp(e)||e.variants)}function p4(e,t){if(Dp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||yc(n)?n:void 0,animate:yc(r)?r:void 0}}return e.inherit!==!1?t:{}}function h4(e){const{initial:t,animate:n}=p4(e,P.useContext(Op));return P.useMemo(()=>({initial:t,animate:n}),[xP(t),xP(n)])}function xP(e){return Array.isArray(e)?e.join(" "):e}const m4=Symbol.for("motionComponentSymbol");function gs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function g4(e,t,n){return P.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):gs(n)&&(n.current=r))},[t])}const rx=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),v4="framerAppearId",xO="data-"+rx(v4),{schedule:ix}=mO(queueMicrotask,!1),bO=P.createContext({});function y4(e,t,n,r,i){var o,s;const{visualElement:l}=P.useContext(Op),u=P.useContext(gO),d=P.useContext(Np),f=P.useContext(Q0).reducedMotion,p=P.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,v=P.useContext(bO);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&x4(p.current,n,i,v);const x=P.useRef(!1);P.useInsertionEffect(()=>{m&&x.current&&m.update(n,d)});const w=n[xO],b=P.useRef(!!w&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,w))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,w)));return pO(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),ix.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),P.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,w)}),b.current=!1))}),m}function x4(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:l,layoutScroll:u,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:wO(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||l&&gs(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:d})}function wO(e){if(e)return e.options.allowProjection!==!1?e.projection:wO(e.parent)}function b4({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var o,s;e&&l4(e);function l(d,f){let p;const m={...P.useContext(Q0),...d,layoutId:w4(d)},{isStatic:v}=m,x=h4(d),w=r(d,v);if(!v&&J0){S4();const b=P4(m);p=b.MeasureLayout,x.visualElement=y4(i,w,m,t,b.ProjectionNode)}return y.jsxs(Op.Provider,{value:x,children:[p&&x.visualElement?y.jsx(p,{visualElement:x.visualElement,...m}):null,n(i,d,g4(w,x.visualElement,f),w,v,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(s=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&s!==void 0?s:""})`}`;const u=P.forwardRef(l);return u[m4]=i,u}function w4({layoutId:e}){const t=P.useContext(X0).id;return t&&e!==void 0?t+"-"+e:e}function S4(e,t){P.useContext(gO).strict}function P4(e){const{drag:t,layout:n}=_s;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const C4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ox(e){return typeof e!="string"||e.includes("-")?!1:!!(C4.indexOf(e)>-1||/[A-Z]/u.test(e))}function bP(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ax(e,t,n,r){if(typeof t=="function"){const[i,o]=bP(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=bP(r);t=t(n!==void 0?n:e.custom,i,o)}return t}const Py=e=>Array.isArray(e),A4=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),k4=e=>Py(e)?e[e.length-1]||0:e,En=e=>!!(e&&e.getVelocity);function af(e){const t=En(e)?e.get():e;return A4(t)?t.toValue():t}function E4({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,o){const s={latestValues:N4(r,i,o,e),renderState:t()};return n&&(s.onMount=l=>n({props:r,current:l,...s}),s.onUpdate=l=>n(l)),s}const SO=e=>(t,n)=>{const r=P.useContext(Op),i=P.useContext(Np),o=()=>E4(e,t,r,i);return n?o():Z0(o)};function N4(e,t,n,r){const i={},o=r(e,{});for(const m in o)i[m]=af(o[m]);let{initial:s,animate:l}=e;const u=Dp(e),d=yO(e);t&&d&&!u&&e.inherit!==!1&&(s===void 0&&(s=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||s===!1;const p=f?l:s;if(p&&typeof p!="boolean"&&!jp(p)){const m=Array.isArray(p)?p:[p];for(let v=0;v<m.length;v++){const x=ax(e,m[v]);if(x){const{transitionEnd:w,transition:b,...C}=x;for(const k in C){let E=C[k];if(Array.isArray(E)){const N=f?E.length-1:0;E=E[N]}E!==null&&(i[k]=E)}for(const k in w)i[k]=w[k]}}}return i}const Us=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ta=new Set(Us),PO=e=>t=>typeof t=="string"&&t.startsWith(e),CO=PO("--"),O4=PO("var(--"),sx=e=>O4(e)?j4.test(e.split("/*")[0].trim()):!1,j4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,AO=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Wi=(e,t,n)=>n>t?t:n<e?e:n,Hs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},xc={...Hs,transform:e=>Wi(0,1,e)},Td={...Hs,default:1},Kc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ao=Kc("deg"),fi=Kc("%"),Fe=Kc("px"),D4=Kc("vh"),_4=Kc("vw"),wP={...fi,parse:e=>fi.parse(e)/100,transform:e=>fi.transform(e*100)},T4={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe},M4={rotate:Ao,rotateX:Ao,rotateY:Ao,rotateZ:Ao,scale:Td,scaleX:Td,scaleY:Td,scaleZ:Td,skew:Ao,skewX:Ao,skewY:Ao,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:xc,originX:wP,originY:wP,originZ:Fe},SP={...Hs,transform:Math.round},lx={...T4,...M4,zIndex:SP,size:Fe,fillOpacity:xc,strokeOpacity:xc,numOctaves:SP},I4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R4=Us.length;function L4(e,t,n){let r="",i=!0;for(let o=0;o<R4;o++){const s=Us[o],l=e[s];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(s.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=AO(l,lx[s]);if(!u){i=!1;const f=I4[s]||s;r+=`${f}(${d}) `}n&&(t[s]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function cx(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,l=!1;for(const u in t){const d=t[u];if(Ta.has(u)){s=!0;continue}else if(CO(u)){i[u]=d;continue}else{const f=AO(d,lx[u]);u.startsWith("origin")?(l=!0,o[u]=f):r[u]=f}}if(t.transform||(s||n?r.transform=L4(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=o;r.transformOrigin=`${u} ${d} ${f}`}}const F4={offset:"stroke-dashoffset",array:"stroke-dasharray"},$4={offset:"strokeDashoffset",array:"strokeDasharray"};function B4(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?F4:$4;e[o.offset]=Fe.transform(-r);const s=Fe.transform(t),l=Fe.transform(n);e[o.array]=`${s} ${l}`}function PP(e,t,n){return typeof e=="string"?e:Fe.transform(t+n*e)}function z4(e,t,n){const r=PP(t,e.x,e.width),i=PP(n,e.y,e.height);return`${r} ${i}`}function ux(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:l=1,pathOffset:u=0,...d},f,p){if(cx(e,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:x}=e;m.transform&&(x&&(v.transform=m.transform),delete m.transform),x&&(i!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=z4(x,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&B4(m,s,l,u,!1)}const dx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),kO=()=>({...dx(),attrs:{}}),fx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function EO(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const NO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function OO(e,t,n,r){EO(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(NO.has(i)?i:rx(i),t.attrs[i])}const wf={};function W4(e){Object.assign(wf,e)}function jO(e,{layout:t,layoutId:n}){return Ta.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wf[e]||e==="opacity")}function px(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(En(i[s])||t.style&&En(t.style[s])||jO(s,e)||((r=n?.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function DO(e,t,n){const r=px(e,t,n);for(const i in e)if(En(e[i])||En(t[i])){const o=Us.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}function V4(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const CP=["x","y","width","height","cx","cy","r"],U4={useVisualState:SO({scrapeMotionValuesFromProps:DO,createRenderState:kO,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!e.drag;if(!o){for(const l in i)if(Ta.has(l)){o=!0;break}}if(!o)return;let s=!t;if(t)for(let l=0;l<CP.length;l++){const u=CP[l];e[u]!==t[u]&&(s=!0)}s&&St.read(()=>{V4(n,r),St.render(()=>{ux(r,i,fx(n.tagName),e.transformTemplate),OO(n,r)})})}})},H4={useVisualState:SO({scrapeMotionValuesFromProps:px,createRenderState:dx})};function _O(e,t,n){for(const r in t)!En(t[r])&&!jO(r,n)&&(e[r]=t[r])}function G4({transformTemplate:e},t){return P.useMemo(()=>{const n=dx();return cx(n,t,e),Object.assign({},n.vars,n.style)},[t])}function K4(e,t){const n=e.style||{},r={};return _O(r,n,e),Object.assign(r,G4(e,t)),r}function q4(e,t){const n={},r=K4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function Y4(e,t,n,r){const i=P.useMemo(()=>{const o=kO();return ux(o,t,fx(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};_O(o,e.style,e),i.style={...o,...i.style}}return i}function X4(e=!1){return(n,r,i,{latestValues:o},s)=>{const u=(ox(n)?Y4:q4)(r,o,s,n),d=d4(r,typeof n=="string",e),f=n!==P.Fragment?{...d,...u,ref:i}:{},{children:p}=r,m=P.useMemo(()=>En(p)?p.get():p,[p]);return P.createElement(n,{...f,children:m})}}function Z4(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...ox(r)?U4:H4,preloadedFeatures:e,useRender:X4(i),createVisualElement:t,Component:r};return b4(s)}}function TO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function _p(e,t,n){const r=e.getProps();return ax(r,t,n!==void 0?n:r.custom,e)}const Q4=ex(()=>window.ScrollTimeline!==void 0);class J4{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(Q4()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class eF extends J4{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function hx(e,t){return e?e[t]||e.default||e:void 0}const Cy=2e4;function MO(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Cy;)t+=n,r=e.next(t);return t>=Cy?1/0:t}function mx(e){return typeof e=="function"}function AP(e,t){e.timeline=t,e.onfinish=null}const gx=e=>Array.isArray(e)&&typeof e[0]=="number",tF={linearEasing:void 0};function nF(e,t){const n=ex(e);return()=>{var r;return(r=tF[t])!==null&&r!==void 0?r:n()}}const Sf=nF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),IO=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(Ds(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function RO(e){return!!(typeof e=="function"&&Sf()||!e||typeof e=="string"&&(e in Ay||Sf())||gx(e)||Array.isArray(e)&&e.every(RO))}const nc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ay={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nc([0,.65,.55,1]),circOut:nc([.55,0,1,.45]),backIn:nc([.31,.01,.66,-.59]),backOut:nc([.33,1.53,.69,.99])};function LO(e,t){if(e)return typeof e=="function"&&Sf()?IO(e,t):gx(e)?nc(e):Array.isArray(e)?e.map(n=>LO(n,t)||Ay.easeOut):Ay[e]}const zr={x:!1,y:!1};function FO(){return zr.x||zr.y}function rF(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function $O(e,t){const n=rF(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function kP(e){return t=>{t.pointerType==="touch"||FO()||e(t)}}function iF(e,t,n={}){const[r,i,o]=$O(e,n),s=kP(l=>{const{target:u}=l,d=t(l);if(typeof d!="function"||!u)return;const f=kP(p=>{d(p),u.removeEventListener("pointerleave",f)});u.addEventListener("pointerleave",f,i)});return r.forEach(l=>{l.addEventListener("pointerenter",s,i)}),o}const BO=(e,t)=>t?e===t?!0:BO(e,t.parentElement):!1,vx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,oF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aF(e){return oF.has(e.tagName)||e.tabIndex!==-1}const rc=new WeakSet;function EP(e){return t=>{t.key==="Enter"&&e(t)}}function hg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const sF=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=EP(()=>{if(rc.has(n))return;hg(n,"down");const i=EP(()=>{hg(n,"up")}),o=()=>hg(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function NP(e){return vx(e)&&!FO()}function lF(e,t,n={}){const[r,i,o]=$O(e,n),s=l=>{const u=l.currentTarget;if(!NP(l)||rc.has(u))return;rc.add(u);const d=t(l),f=(v,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),!(!NP(v)||!rc.has(u))&&(rc.delete(u),typeof d=="function"&&d(v,{success:x}))},p=v=>{f(v,n.useGlobalTarget||BO(u,v.target))},m=v=>{f(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(l=>{!aF(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",s,i),l.addEventListener("focus",d=>sF(d,i),i)}),o}function cF(e){return e==="x"||e==="y"?zr[e]?null:(zr[e]=!0,()=>{zr[e]=!1}):zr.x||zr.y?null:(zr.x=zr.y=!0,()=>{zr.x=zr.y=!1})}const zO=new Set(["width","height","top","left","right","bottom",...Us]);let sf;function uF(){sf=void 0}const pi={now:()=>(sf===void 0&&pi.set(fn.isProcessing||o4.useManualTiming?fn.timestamp:performance.now()),sf),set:e=>{sf=e,queueMicrotask(uF)}};function yx(e,t){e.indexOf(t)===-1&&e.push(t)}function xx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class bx{constructor(){this.subscriptions=[]}add(t){return yx(this.subscriptions,t),()=>xx(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function WO(e,t){return t?e*(1e3/t):0}const OP=30,dF=e=>!isNaN(parseFloat(e));class fF{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=pi.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=pi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=dF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new bx);const r=this.events[t].add(n);return t==="change"?()=>{r(),St.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>OP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,OP);return WO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bc(e,t){return new fF(e,t)}function pF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,bc(n))}function hF(e,t){const n=_p(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const l=k4(o[s]);pF(e,s,l)}}function mF(e){return!!(En(e)&&e.add)}function ky(e,t){const n=e.getValue("willChange");if(mF(n))return n.add(t)}function VO(e){return e.props[xO]}const UO=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,gF=1e-7,vF=12;function yF(e,t,n,r,i){let o,s,l=0;do s=t+(n-t)/2,o=UO(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>gF&&++l<vF);return s}function qc(e,t,n,r){if(e===t&&n===r)return ar;const i=o=>yF(o,0,1,e,n);return o=>o===0||o===1?o:UO(i(o),t,r)}const HO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,GO=e=>t=>1-e(1-t),KO=qc(.33,1.53,.69,.99),wx=GO(KO),qO=HO(wx),YO=e=>(e*=2)<1?.5*wx(e):.5*(2-Math.pow(2,-10*(e-1))),Sx=e=>1-Math.sin(Math.acos(e)),XO=GO(Sx),ZO=HO(Sx),QO=e=>/^0[^.\s]+$/u.test(e);function xF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||QO(e):!0}const lc=e=>Math.round(e*1e5)/1e5,Px=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bF(e){return e==null}const wF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cx=(e,t)=>n=>!!(typeof n=="string"&&wF.test(n)&&n.startsWith(e)||t&&!bF(n)&&Object.prototype.hasOwnProperty.call(n,t)),JO=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,l]=r.match(Px);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},SF=e=>Wi(0,255,e),mg={...Hs,transform:e=>Math.round(SF(e))},pa={test:Cx("rgb","red"),parse:JO("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+mg.transform(e)+", "+mg.transform(t)+", "+mg.transform(n)+", "+lc(xc.transform(r))+")"};function PF(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ey={test:Cx("#"),parse:PF,transform:pa.transform},vs={test:Cx("hsl","hue"),parse:JO("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+fi.transform(lc(t))+", "+fi.transform(lc(n))+", "+lc(xc.transform(r))+")"},Cn={test:e=>pa.test(e)||Ey.test(e)||vs.test(e),parse:e=>pa.test(e)?pa.parse(e):vs.test(e)?vs.parse(e):Ey.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?pa.transform(e):vs.transform(e)},CF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AF(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Px))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(CF))===null||n===void 0?void 0:n.length)||0)>0}const ej="number",tj="color",kF="var",EF="var(",jP="${}",NF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const l=t.replace(NF,u=>(Cn.test(u)?(r.color.push(o),i.push(tj),n.push(Cn.parse(u))):u.startsWith(EF)?(r.var.push(o),i.push(kF),n.push(u)):(r.number.push(o),i.push(ej),n.push(parseFloat(u))),++o,jP)).split(jP);return{values:n,split:l,indexes:r,types:i}}function nj(e){return wc(e).values}function rj(e){const{split:t,types:n}=wc(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const l=n[s];l===ej?o+=lc(i[s]):l===tj?o+=Cn.transform(i[s]):o+=i[s]}return o}}const OF=e=>typeof e=="number"?0:e;function jF(e){const t=nj(e);return rj(e)(t.map(OF))}const Ro={test:AF,parse:nj,createTransformer:rj,getAnimatableNone:jF},DF=new Set(["brightness","contrast","saturate","opacity"]);function _F(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Px)||[];if(!r)return e;const i=n.replace(r,"");let o=DF.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const TF=/\b([a-z-]*)\(.*?\)/gu,Ny={...Ro,getAnimatableNone:e=>{const t=e.match(TF);return t?t.map(_F).join(" "):e}},MF={...lx,color:Cn,backgroundColor:Cn,outlineColor:Cn,fill:Cn,stroke:Cn,borderColor:Cn,borderTopColor:Cn,borderRightColor:Cn,borderBottomColor:Cn,borderLeftColor:Cn,filter:Ny,WebkitFilter:Ny},Ax=e=>MF[e];function ij(e,t){let n=Ax(e);return n!==Ny&&(n=Ro),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const IF=new Set(["auto","none","0"]);function RF(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!IF.has(o)&&wc(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=ij(n,i)}const DP=e=>e===Hs||e===Fe,_P=(e,t)=>parseFloat(e.split(", ")[t]),TP=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return _P(i[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?_P(o[1],e):0}},LF=new Set(["x","y","z"]),FF=Us.filter(e=>!LF.has(e));function $F(e){const t=[];return FF.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ts={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:TP(4,13),y:TP(5,14)};Ts.translateX=Ts.x;Ts.translateY=Ts.y;const xa=new Set;let Oy=!1,jy=!1;function oj(){if(jy){const e=Array.from(xa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=$F(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var l;(l=r.getValue(o))===null||l===void 0||l.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jy=!1,Oy=!1,xa.forEach(e=>e.complete()),xa.clear()}function aj(){xa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(jy=!0)})}function BF(){aj(),oj()}class kx{constructor(t,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xa.add(this),Oy||(Oy=!0,St.read(aj),St.resolveKeyframes(oj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const s=i?.get(),l=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const u=r.readValue(n,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),i&&s===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sj=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),zF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WF(e){const t=zF.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function lj(e,t,n=1){const[r,i]=WF(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return sj(s)?parseFloat(s):s}return sx(i)?lj(i,t,n+1):i}const cj=e=>t=>t.test(e),VF={test:e=>e==="auto",parse:e=>e},uj=[Hs,Fe,fi,Ao,_4,D4,VF],MP=e=>uj.find(cj(e));class dj extends kx{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),sx(d))){const f=lj(d,n.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!zO.has(r)||t.length!==2)return;const[i,o]=t,s=MP(i),l=MP(o);if(s!==l)if(DP(s)&&DP(l))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)xF(t[i])&&r.push(i);r.length&&RF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ts[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,l=i[s];i[s]=Ts[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,d])=>{n.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const IP=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ro.test(e)||e==="0")&&!e.startsWith("url("));function UF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function HF(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=IP(i,t),l=IP(o,t);return!s||!l?!1:UF(e)||(n==="spring"||mx(n))&&r}const GF=e=>e!==null;function Tp(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(GF),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const KF=40;class fj{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pi.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>KF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&BF(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=pi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:l,onUpdate:u,isGenerator:d}=this.options;if(!d&&!HF(t,r,i,o))if(s)this.options.duration=0;else{u&&u(Tp(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const _t=(e,t,n)=>e+(t-e)*n;function gg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function qF({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;i=gg(u,l,e+1/3),o=gg(u,l,e),s=gg(u,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function Pf(e,t){return n=>n>0?t:e}const vg=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},YF=[Ey,pa,vs],XF=e=>YF.find(t=>t.test(e));function RP(e){const t=XF(e);if(!t)return!1;let n=t.parse(e);return t===vs&&(n=qF(n)),n}const LP=(e,t)=>{const n=RP(e),r=RP(t);if(!n||!r)return Pf(e,t);const i={...n};return o=>(i.red=vg(n.red,r.red,o),i.green=vg(n.green,r.green,o),i.blue=vg(n.blue,r.blue,o),i.alpha=_t(n.alpha,r.alpha,o),pa.transform(i))},ZF=(e,t)=>n=>t(e(n)),Yc=(...e)=>e.reduce(ZF),Dy=new Set(["none","hidden"]);function QF(e,t){return Dy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function JF(e,t){return n=>_t(e,t,n)}function Ex(e){return typeof e=="number"?JF:typeof e=="string"?sx(e)?Pf:Cn.test(e)?LP:n$:Array.isArray(e)?pj:typeof e=="object"?Cn.test(e)?LP:e$:Pf}function pj(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>Ex(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function e$(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Ex(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function t$(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],l=e.indexes[s][i[s]],u=(n=e.values[l])!==null&&n!==void 0?n:0;r[o]=u,i[s]++}return r}const n$=(e,t)=>{const n=Ro.createTransformer(t),r=wc(e),i=wc(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Dy.has(e)&&!i.values.length||Dy.has(t)&&!r.values.length?QF(e,t):Yc(pj(t$(r,i),i.values),n):Pf(e,t)};function hj(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?_t(e,t,n):Ex(e)(e,t)}const r$=5;function mj(e,t,n){const r=Math.max(t-r$,0);return WO(n-e(r),t-r)}const Lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yg=.001;function i$({duration:e=Lt.duration,bounce:t=Lt.bounce,velocity:n=Lt.velocity,mass:r=Lt.mass}){let i,o,s=1-t;s=Wi(Lt.minDamping,Lt.maxDamping,s),e=Wi(Lt.minDuration,Lt.maxDuration,Fi(e)),s<1?(i=d=>{const f=d*s,p=f*e,m=f-n,v=_y(d,s),x=Math.exp(-p);return yg-m/v*x},o=d=>{const p=d*s*e,m=p*n+n,v=Math.pow(s,2)*Math.pow(d,2)*e,x=Math.exp(-p),w=_y(Math.pow(d,2),s);return(-i(d)+yg>0?-1:1)*((m-v)*x)/w}):(i=d=>{const f=Math.exp(-d*e),p=(d-n)*e+1;return-yg+f*p},o=d=>{const f=Math.exp(-d*e),p=(n-d)*(e*e);return f*p});const l=5/e,u=a$(i,o,l);if(e=Li(e),isNaN(u))return{stiffness:Lt.stiffness,damping:Lt.damping,duration:e};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:s*2*Math.sqrt(r*d),duration:e}}}const o$=12;function a$(e,t,n){let r=n;for(let i=1;i<o$;i++)r=r-e(r)/t(r);return r}function _y(e,t){return e*Math.sqrt(1-t*t)}const s$=["duration","bounce"],l$=["stiffness","damping","mass"];function FP(e,t){return t.some(n=>e[n]!==void 0)}function c$(e){let t={velocity:Lt.velocity,stiffness:Lt.stiffness,damping:Lt.damping,mass:Lt.mass,isResolvedFromDuration:!1,...e};if(!FP(e,l$)&&FP(e,s$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Wi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Lt.mass,stiffness:i,damping:o}}else{const n=i$(e);t={...t,...n,mass:Lt.mass},t.isResolvedFromDuration=!0}return t}function gj(e=Lt.visualDuration,t=Lt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:u,damping:d,mass:f,duration:p,velocity:m,isResolvedFromDuration:v}=c$({...n,velocity:-Fi(n.velocity||0)}),x=m||0,w=d/(2*Math.sqrt(u*f)),b=s-o,C=Fi(Math.sqrt(u/f)),k=Math.abs(b)<5;r||(r=k?Lt.restSpeed.granular:Lt.restSpeed.default),i||(i=k?Lt.restDelta.granular:Lt.restDelta.default);let E;if(w<1){const D=_y(C,w);E=O=>{const _=Math.exp(-w*C*O);return s-_*((x+w*C*b)/D*Math.sin(D*O)+b*Math.cos(D*O))}}else if(w===1)E=D=>s-Math.exp(-C*D)*(b+(x+C*b)*D);else{const D=C*Math.sqrt(w*w-1);E=O=>{const _=Math.exp(-w*C*O),T=Math.min(D*O,300);return s-_*((x+w*C*b)*Math.sinh(T)+D*b*Math.cosh(T))/D}}const N={calculatedDuration:v&&p||null,next:D=>{const O=E(D);if(v)l.done=D>=p;else{let _=0;w<1&&(_=D===0?Li(x):mj(E,D,O));const T=Math.abs(_)<=r,V=Math.abs(s-O)<=i;l.done=T&&V}return l.value=l.done?s:O,l},toString:()=>{const D=Math.min(MO(N),Cy),O=IO(_=>N.next(D*_).value,D,30);return D+"ms "+O}};return N}function $P({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:u,restDelta:d=.5,restSpeed:f}){const p=e[0],m={done:!1,value:p},v=T=>l!==void 0&&T<l||u!==void 0&&T>u,x=T=>l===void 0?u:u===void 0||Math.abs(l-T)<Math.abs(u-T)?l:u;let w=n*t;const b=p+w,C=s===void 0?b:s(b);C!==b&&(w=C-p);const k=T=>-w*Math.exp(-T/r),E=T=>C+k(T),N=T=>{const V=k(T),Y=E(T);m.done=Math.abs(V)<=d,m.value=m.done?C:Y};let D,O;const _=T=>{v(m.value)&&(D=T,O=gj({keyframes:[m.value,x(m.value)],velocity:mj(E,T,m.value),damping:i,stiffness:o,restDelta:d,restSpeed:f}))};return _(0),{calculatedDuration:null,next:T=>{let V=!1;return!O&&D===void 0&&(V=!0,N(T),_(T)),D!==void 0&&T>=D?O.next(T-D):(!V&&N(T),m)}}}const u$=qc(.42,0,1,1),d$=qc(0,0,.58,1),vj=qc(.42,0,.58,1),f$=e=>Array.isArray(e)&&typeof e[0]!="number",p$={linear:ar,easeIn:u$,easeInOut:vj,easeOut:d$,circIn:Sx,circInOut:ZO,circOut:XO,backIn:wx,backInOut:qO,backOut:KO,anticipate:YO},BP=e=>{if(gx(e)){hO(e.length===4);const[t,n,r,i]=e;return qc(t,n,r,i)}else if(typeof e=="string")return p$[e];return e};function h$(e,t,n){const r=[],i=n||hj,o=e.length-1;for(let s=0;s<o;s++){let l=i(e[s],e[s+1]);if(t){const u=Array.isArray(t)?t[s]||ar:t;l=Yc(u,l)}r.push(l)}return r}function m$(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(hO(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=h$(t,r,i),u=l.length,d=f=>{if(s&&f<e[0])return t[0];let p=0;if(u>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const m=Ds(e[p],e[p+1],f);return l[p](m)};return n?f=>d(Wi(e[0],e[o-1],f)):d}function g$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ds(0,t,r);e.push(_t(n,1,i))}}function v$(e){const t=[0];return g$(t,e.length-1),t}function y$(e,t){return e.map(n=>n*t)}function x$(e,t){return e.map(()=>t||vj).splice(0,e.length-1)}function Cf({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=f$(r)?r.map(BP):BP(r),o={done:!1,value:t[0]},s=y$(n&&n.length===t.length?n:v$(t),e),l=m$(s,t,{ease:Array.isArray(i)?i:x$(t,i)});return{calculatedDuration:e,next:u=>(o.value=l(u),o.done=u>=e,o)}}const b$=e=>{const t=({timestamp:n})=>e(n);return{start:()=>St.update(t,!0),stop:()=>Io(t),now:()=>fn.isProcessing?fn.timestamp:pi.now()}},w$={decay:$P,inertia:$P,tween:Cf,keyframes:Cf,spring:gj},S$=e=>e/100;class Nx extends fj{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=i?.KeyframeResolver||kx,l=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new s(o,l,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,l=mx(n)?n:w$[n]||Cf;let u,d;l!==Cf&&typeof t[0]!="number"&&(u=Yc(S$,hj(t[0],t[1])),t=[0,100]);const f=l({...this.options,keyframes:t});o==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=MO(f));const{calculatedDuration:p}=f,m=p+i,v=m*(r+1)-i;return{generator:f,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:p,resolvedDuration:m,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:d,totalDuration:f,resolvedDuration:p}=r;if(this.startTime===null)return o.next(0);const{delay:m,repeat:v,repeatType:x,repeatDelay:w,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-m*(this.speed>=0?1:-1),k=this.speed>=0?C<0:C>f;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let E=this.currentTime,N=o;if(v){const T=Math.min(this.currentTime,f)/p;let V=Math.floor(T),Y=T%1;!Y&&T>=1&&(Y=1),Y===1&&V--,V=Math.min(V,v+1),V%2&&(x==="reverse"?(Y=1-Y,w&&(Y-=w/p)):x==="mirror"&&(N=s)),E=Wi(0,1,Y)*p}const D=k?{done:!1,value:u[0]}:N.next(E);l&&(D.value=l(D.value));let{done:O}=D;!k&&d!==null&&(O=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return _&&i!==void 0&&(D.value=Tp(u,this.options,i)),b&&b(D.value),_&&this.finish(),D}get duration(){const{resolved:t}=this;return t?Fi(t.calculatedDuration):0}get time(){return Fi(this.currentTime)}set time(t){t=Li(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Fi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=b$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const P$=new Set(["opacity","clipPath","filter","transform"]);function C$(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:l="easeInOut",times:u}={}){const d={[t]:n};u&&(d.offset=u);const f=LO(l,i);return Array.isArray(f)&&(d.easing=f),e.animate(d,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const A$=ex(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Af=10,k$=2e4;function E$(e){return mx(e.type)||e.type==="spring"||!RO(e.ease)}function N$(e,t){const n=new Nx({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<k$;)r=n.sample(o),i.push(r.value),o+=Af;return{times:void 0,keyframes:i,duration:o-Af,ease:"linear"}}const yj={anticipate:YO,backInOut:qO,circInOut:ZO};function O$(e){return e in yj}class zP extends fj{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new dj(o,(s,l)=>this.onKeyframesResolved(s,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:l,name:u,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof o=="string"&&Sf()&&O$(o)&&(o=yj[o]),E$(this.options)){const{onComplete:p,onUpdate:m,motionValue:v,element:x,...w}=this.options,b=N$(t,w);t=b.keyframes,t.length===1&&(t[1]=t[0]),r=b.duration,i=b.times,o=b.ease,s="keyframes"}const f=C$(l.owner.current,u,t,{...this.options,duration:r,times:i,ease:o});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(AP(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(Tp(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:s,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Fi(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Fi(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Li(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ar;const{animation:r}=n;AP(r,t)}return ar}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:f,onComplete:p,element:m,...v}=this.options,x=new Nx({...v,keyframes:r,duration:i,type:o,ease:s,times:l,isGenerator:!0}),w=Li(this.time);d.setWithVelocity(x.sample(w-Af).value,x.sample(w).value,Af)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=n.owner.getProps();return A$()&&r&&P$.has(r)&&!u&&!d&&!i&&o!=="mirror"&&s!==0&&l!=="inertia"}}const j$={type:"spring",stiffness:500,damping:25,restSpeed:10},D$=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_$={type:"keyframes",duration:.8},T$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},M$=(e,{keyframes:t})=>t.length>2?_$:Ta.has(e)?e.startsWith("scale")?D$(t[1]):j$:T$;function I$({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const Ox=(e,t,n,r={},i,o)=>s=>{const l=hx(r,e)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Li(u);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:i};I$(l)||(f={...f,...M$(e,f)}),f.duration&&(f.duration=Li(f.duration)),f.repeatDelay&&(f.repeatDelay=Li(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!o&&t.get()!==void 0){const m=Tp(f.keyframes,l);if(m!==void 0)return St.update(()=>{f.onUpdate(m),f.onComplete()}),new eF([])}return!o&&zP.supports(f)?new zP(f):new Nx(f)};function R$({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function xj(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=e.getDefaultTransition(),transitionEnd:l,...u}=t;r&&(s=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in u){const m=e.getValue(p,(o=e.latestValues[p])!==null&&o!==void 0?o:null),v=u[p];if(v===void 0||f&&R$(f,p))continue;const x={delay:n,...hx(s||{},p)};let w=!1;if(window.MotionHandoffAnimation){const C=VO(e);if(C){const k=window.MotionHandoffAnimation(C,p,St);k!==null&&(x.startTime=k,w=!0)}}ky(e,p),m.start(Ox(p,m,v,e.shouldReduceMotion&&zO.has(p)?{type:!1}:x,e,w));const b=m.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{St.update(()=>{l&&hF(e,l)})}),d}function Ty(e,t,n={}){var r;const i=_p(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(xj(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=o;return L$(e,t,f+d,p,m,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[d,f]=u==="beforeChildren"?[s,l]:[l,s];return d().then(()=>f())}else return Promise.all([s(),l(n.delay)])}function L$(e,t,n=0,r=0,i=1,o){const s=[],l=(e.variantChildren.size-1)*r,u=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(F$).forEach((d,f)=>{d.notify("AnimationStart",t),s.push(Ty(d,t,{...o,delay:n+u(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(s)}function F$(e,t){return e.sortNodePosition(t)}function $$(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>Ty(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=Ty(e,t,n);else{const i=typeof t=="function"?_p(e,t,n.custom):t;r=Promise.all(xj(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const B$=nx.length;function bj(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?bj(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<B$;n++){const r=nx[n],i=e.props[r];(yc(i)||i===!1)&&(t[r]=i)}return t}const z$=[...tx].reverse(),W$=tx.length;function V$(e){return t=>Promise.all(t.map(({animation:n,options:r})=>$$(e,n,r)))}function U$(e){let t=V$(e),n=WP(),r=!0;const i=u=>(d,f)=>{var p;const m=_p(e,f,u==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(m){const{transition:v,transitionEnd:x,...w}=m;d={...d,...w,...x}}return d};function o(u){t=u(e)}function s(u){const{props:d}=e,f=bj(e.parent)||{},p=[],m=new Set;let v={},x=1/0;for(let b=0;b<W$;b++){const C=z$[b],k=n[C],E=d[C]!==void 0?d[C]:f[C],N=yc(E),D=C===u?k.isActive:null;D===!1&&(x=b);let O=E===f[C]&&E!==d[C]&&N;if(O&&r&&e.manuallyAnimateOnMount&&(O=!1),k.protectedKeys={...v},!k.isActive&&D===null||!E&&!k.prevProp||jp(E)||typeof E=="boolean")continue;const _=H$(k.prevProp,E);let T=_||C===u&&k.isActive&&!O&&N||b>x&&N,V=!1;const Y=Array.isArray(E)?E:[E];let K=Y.reduce(i(C),{});D===!1&&(K={});const{prevResolvedValues:B={}}=k,U={...B,...K},ue=Q=>{T=!0,m.has(Q)&&(V=!0,m.delete(Q)),k.needsAnimating[Q]=!0;const G=e.getValue(Q);G&&(G.liveStyle=!1)};for(const Q in U){const G=K[Q],ne=B[Q];if(v.hasOwnProperty(Q))continue;let te=!1;Py(G)&&Py(ne)?te=!TO(G,ne):te=G!==ne,te?G!=null?ue(Q):m.add(Q):G!==void 0&&m.has(Q)?ue(Q):k.protectedKeys[Q]=!0}k.prevProp=E,k.prevResolvedValues=K,k.isActive&&(v={...v,...K}),r&&e.blockInitialAnimation&&(T=!1),T&&(!(O&&_)||V)&&p.push(...Y.map(Q=>({animation:Q,options:{type:C}})))}if(m.size){const b={};m.forEach(C=>{const k=e.getBaseTarget(C),E=e.getValue(C);E&&(E.liveStyle=!0),b[C]=k??null}),p.push({animation:b})}let w=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(p):Promise.resolve()}function l(u,d){var f;if(n[u].isActive===d)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(u,d)}),n[u].isActive=d;const p=s(u);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=WP(),r=!0}}}function H$(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!TO(t,e):!1}function ra(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WP(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class Bo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class G$ extends Bo{constructor(t){super(t),t.animationState||(t.animationState=U$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let K$=0;class q$ extends Bo{constructor(){super(...arguments),this.id=K$++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Y$={animation:{Feature:G$},exit:{Feature:q$}};function Sc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Xc(e){return{point:{x:e.pageX,y:e.pageY}}}const X$=e=>t=>vx(t)&&e(t,Xc(t));function cc(e,t,n,r){return Sc(e,t,X$(n),r)}const VP=(e,t)=>Math.abs(e-t);function Z$(e,t){const n=VP(e.x,t.x),r=VP(e.y,t.y);return Math.sqrt(n**2+r**2)}class wj{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=bg(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=Z$(p.offset,{x:0,y:0})>=3;if(!m&&!v)return;const{point:x}=p,{timestamp:w}=fn;this.history.push({...x,timestamp:w});const{onStart:b,onMove:C}=this.handlers;m||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=xg(m,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=bg(p.type==="pointercancel"?this.lastMoveEventInfo:xg(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,b),x&&x(p,b)},!vx(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Xc(t),l=xg(s,this.transformPagePoint),{point:u}=l,{timestamp:d}=fn;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,bg(l,this.history)),this.removeListeners=Yc(cc(this.contextWindow,"pointermove",this.handlePointerMove),cc(this.contextWindow,"pointerup",this.handlePointerUp),cc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Io(this.updatePoint)}}function xg(e,t){return t?{point:t(e.point)}:e}function UP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bg({point:e},t){return{point:e,delta:UP(e,Sj(t)),offset:UP(e,Q$(t)),velocity:J$(t,.1)}}function Q$(e){return e[0]}function Sj(e){return e[e.length-1]}function J$(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Sj(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Li(t)));)n--;if(!r)return{x:0,y:0};const o=Fi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const Pj=1e-4,eB=1-Pj,tB=1+Pj,Cj=.01,nB=0-Cj,rB=0+Cj;function ur(e){return e.max-e.min}function iB(e,t,n){return Math.abs(e-t)<=n}function HP(e,t,n,r=.5){e.origin=r,e.originPoint=_t(t.min,t.max,e.origin),e.scale=ur(n)/ur(t),e.translate=_t(n.min,n.max,e.origin)-e.originPoint,(e.scale>=eB&&e.scale<=tB||isNaN(e.scale))&&(e.scale=1),(e.translate>=nB&&e.translate<=rB||isNaN(e.translate))&&(e.translate=0)}function uc(e,t,n,r){HP(e.x,t.x,n.x,r?r.originX:void 0),HP(e.y,t.y,n.y,r?r.originY:void 0)}function GP(e,t,n){e.min=n.min+t.min,e.max=e.min+ur(t)}function oB(e,t,n){GP(e.x,t.x,n.x),GP(e.y,t.y,n.y)}function KP(e,t,n){e.min=t.min-n.min,e.max=e.min+ur(t)}function dc(e,t,n){KP(e.x,t.x,n.x),KP(e.y,t.y,n.y)}function aB(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?_t(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?_t(n,e,r.max):Math.min(e,n)),e}function qP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function sB(e,{top:t,left:n,bottom:r,right:i}){return{x:qP(e.x,n,i),y:qP(e.y,t,r)}}function YP(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function lB(e,t){return{x:YP(e.x,t.x),y:YP(e.y,t.y)}}function cB(e,t){let n=.5;const r=ur(e),i=ur(t);return i>r?n=Ds(t.min,t.max-r,e.min):r>i&&(n=Ds(e.min,e.max-i,t.min)),Wi(0,1,n)}function uB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const My=.35;function dB(e=My){return e===!1?e=0:e===!0&&(e=My),{x:XP(e,"left","right"),y:XP(e,"top","bottom")}}function XP(e,t,n){return{min:ZP(e,t),max:ZP(e,n)}}function ZP(e,t){return typeof e=="number"?e:e[t]||0}const QP=()=>({translate:0,scale:1,origin:0,originPoint:0}),ys=()=>({x:QP(),y:QP()}),JP=()=>({min:0,max:0}),Bt=()=>({x:JP(),y:JP()});function Cr(e){return[e("x"),e("y")]}function Aj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function fB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function pB(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wg(e){return e===void 0||e===1}function Iy({scale:e,scaleX:t,scaleY:n}){return!wg(e)||!wg(t)||!wg(n)}function sa(e){return Iy(e)||kj(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kj(e){return e2(e.x)||e2(e.y)}function e2(e){return e&&e!=="0%"}function kf(e,t,n){const r=e-n,i=t*r;return n+i}function t2(e,t,n,r,i){return i!==void 0&&(e=kf(e,i,r)),kf(e,n,r)+t}function Ry(e,t=0,n=1,r,i){e.min=t2(e.min,t,n,r,i),e.max=t2(e.max,t,n,r,i)}function Ej(e,{x:t,y:n}){Ry(e.x,t.translate,t.scale,t.originPoint),Ry(e.y,n.translate,n.scale,n.originPoint)}const n2=.999999999999,r2=1.0000000000001;function hB(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let l=0;l<i;l++){o=n[l],s=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&bs(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Ej(e,s)),r&&sa(o.latestValues)&&bs(e,o.latestValues))}t.x<r2&&t.x>n2&&(t.x=1),t.y<r2&&t.y>n2&&(t.y=1)}function xs(e,t){e.min=e.min+t,e.max=e.max+t}function i2(e,t,n,r,i=.5){const o=_t(e.min,e.max,i);Ry(e,t,n,o,r)}function bs(e,t){i2(e.x,t.x,t.scaleX,t.scale,t.originX),i2(e.y,t.y,t.scaleY,t.scale,t.originY)}function Nj(e,t){return Aj(pB(e.getBoundingClientRect(),t))}function mB(e,t,n){const r=Nj(e,n),{scroll:i}=t;return i&&(xs(r.x,i.offset.x),xs(r.y,i.offset.y)),r}const Oj=({current:e})=>e?e.ownerDocument.defaultView:null,gB=new WeakMap;class vB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xc(f).point)},o=(f,p)=>{const{drag:m,dragPropagation:v,onDragStart:x}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cF(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cr(b=>{let C=this.getAxisMotionValue(b).get()||0;if(fi.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const E=k.layout.layoutBox[b];E&&(C=ur(E)*(parseFloat(C)/100))}}this.originPoint[b]=C}),x&&St.postRender(()=>x(f,p)),ky(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},s=(f,p)=>{const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=p;if(v&&this.currentDirection===null){this.currentDirection=yB(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,b),this.updateAxis("y",p.point,b),this.visualElement.render(),w&&w(f,p)},l=(f,p)=>this.stop(f,p),u=()=>Cr(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new wj(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Oj(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&St.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Md(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=aB(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&gs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=sB(i.layoutBox,n):this.constraints=!1,this.elastic=dB(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Cr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=uB(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!gs(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=mB(r,i.root,this.visualElement.getTransformPagePoint());let s=lB(i.layout.layoutBox,o);if(n){const l=n(fB(s));this.hasMutatedConstraints=!!l,l&&(s=Aj(l))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Cr(f=>{if(!Md(f,n,this.currentDirection))return;let p=u&&u[f]||{};s&&(p={min:0,max:0});const m=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:r?t[f]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(f,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ky(this.visualElement,t),r.start(Ox(t,r,0,n,this.visualElement,!1))}stopAnimation(){Cr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Cr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Cr(n=>{const{drag:r}=this.getProps();if(!Md(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[n];o.set(t[n]-_t(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Cr(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const u=l.get();i[s]=cB({min:u,max:u},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cr(s=>{if(!Md(s,t,null))return;const l=this.getAxisMotionValue(s),{min:u,max:d}=this.constraints[s];l.set(_t(u,d,i[s]))})}addListeners(){if(!this.visualElement.current)return;gB.set(this.visualElement,this);const t=this.visualElement.current,n=cc(t,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();gs(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),St.read(r);const s=Sc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Cr(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())}));return()=>{s(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=My,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:l}}}function Md(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function yB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class xB extends Bo{constructor(t){super(t),this.removeGroupControls=ar,this.removeListeners=ar,this.controls=new vB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const o2=e=>(t,n)=>{e&&St.postRender(()=>e(t,n))};class bB extends Bo{constructor(){super(...arguments),this.removePointerDownListener=ar}onPointerDown(t){this.session=new wj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Oj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:o2(t),onStart:o2(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&St.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=cc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function a2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Fe.test(e))e=parseFloat(e);else return e;const n=a2(e,t.target.x),r=a2(e,t.target.y);return`${n}% ${r}%`}},wB={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ro.parse(e);if(i.length>5)return r;const o=Ro.createTransformer(e),s=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,u=n.y.scale*t.y;i[0+s]/=l,i[1+s]/=u;const d=_t(l,u,.5);return typeof i[2+s]=="number"&&(i[2+s]/=d),typeof i[3+s]=="number"&&(i[3+s]/=d),o(i)}};class SB extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;W4(PB),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||St.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ix.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jj(e){const[t,n]=fO(),r=P.useContext(X0);return y.jsx(SB,{...e,layoutGroup:r,switchLayoutGroup:P.useContext(bO),isPresent:t,safeToRemove:n})}const PB={borderRadius:{...Vl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vl,borderTopRightRadius:Vl,borderBottomLeftRadius:Vl,borderBottomRightRadius:Vl,boxShadow:wB};function CB(e,t,n){const r=En(e)?e:bc(e);return r.start(Ox("",r,t,n)),r.animation}function AB(e){return e instanceof SVGElement&&e.tagName!=="svg"}const kB=(e,t)=>e.depth-t.depth;class EB{constructor(){this.children=[],this.isDirty=!1}add(t){yx(this.children,t),this.isDirty=!0}remove(t){xx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kB),this.isDirty=!1,this.children.forEach(t)}}function NB(e,t){const n=pi.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Io(r),e(o-t))};return St.read(r,!0),()=>Io(r)}const Dj=["TopLeft","TopRight","BottomLeft","BottomRight"],OB=Dj.length,s2=e=>typeof e=="string"?parseFloat(e):e,l2=e=>typeof e=="number"||Fe.test(e);function jB(e,t,n,r,i,o){i?(e.opacity=_t(0,n.opacity!==void 0?n.opacity:1,DB(r)),e.opacityExit=_t(t.opacity!==void 0?t.opacity:1,0,_B(r))):o&&(e.opacity=_t(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<OB;s++){const l=`border${Dj[s]}Radius`;let u=c2(t,l),d=c2(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||l2(u)===l2(d)?(e[l]=Math.max(_t(s2(u),s2(d),r),0),(fi.test(d)||fi.test(u))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=_t(t.rotate||0,n.rotate||0,r))}function c2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const DB=_j(0,.5,XO),_B=_j(.5,.95,ar);function _j(e,t,n){return r=>r<e?0:r>t?1:n(Ds(e,t,r))}function u2(e,t){e.min=t.min,e.max=t.max}function br(e,t){u2(e.x,t.x),u2(e.y,t.y)}function d2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function f2(e,t,n,r,i){return e-=t,e=kf(e,1/n,r),i!==void 0&&(e=kf(e,1/i,r)),e}function TB(e,t=0,n=1,r=.5,i,o=e,s=e){if(fi.test(t)&&(t=parseFloat(t),t=_t(s.min,s.max,t/100)-s.min),typeof t!="number")return;let l=_t(o.min,o.max,r);e===o&&(l-=t),e.min=f2(e.min,t,n,l,i),e.max=f2(e.max,t,n,l,i)}function p2(e,t,[n,r,i],o,s){TB(e,t[n],t[r],t[i],t.scale,o,s)}const MB=["x","scaleX","originX"],IB=["y","scaleY","originY"];function h2(e,t,n,r){p2(e.x,t,MB,n?n.x:void 0,r?r.x:void 0),p2(e.y,t,IB,n?n.y:void 0,r?r.y:void 0)}function m2(e){return e.translate===0&&e.scale===1}function Tj(e){return m2(e.x)&&m2(e.y)}function g2(e,t){return e.min===t.min&&e.max===t.max}function RB(e,t){return g2(e.x,t.x)&&g2(e.y,t.y)}function v2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Mj(e,t){return v2(e.x,t.x)&&v2(e.y,t.y)}function y2(e){return ur(e.x)/ur(e.y)}function x2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class LB{constructor(){this.members=[]}add(t){yx(this.members,t),t.scheduleRender()}remove(t){if(xx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FB(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=n?.z||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:m,skewX:v,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),v&&(r+=`skewX(${v}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const la={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ic=typeof window<"u"&&window.MotionDebug!==void 0,Sg=["","X","Y","Z"],$B={visibility:"hidden"},b2=1e3;let BB=0;function Pg(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ij(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=VO(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ij(r)}function Rj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},l=t?.()){this.id=BB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ic&&(la.totalNodes=la.resolvedTargetDeltas=la.recalculatedProjection=0),this.nodes.forEach(VB),this.nodes.forEach(qB),this.nodes.forEach(YB),this.nodes.forEach(UB),ic&&window.MotionDebug.record(la)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new EB)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new bx),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const u=this.eventHandlers.get(s);u&&u.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=AB(s),this.instance=s;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),e){let p;const m=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=NB(m,250),lf.hasAnimatedSinceResize&&(lf.hasAnimatedSinceResize=!1,this.nodes.forEach(S2))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||ez,{onLayoutAnimationStart:b,onLayoutAnimationComplete:C}=f.getProps(),k=!this.targetLayout||!Mj(this.targetLayout,x)||v,E=!m&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||m&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,E);const N={...hx(w,"layout"),onPlay:b,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||S2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Io(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XB),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ij(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(w2);return}this.isUpdating||this.nodes.forEach(GB),this.isUpdating=!1,this.nodes.forEach(KB),this.nodes.forEach(zB),this.nodes.forEach(WB),this.clearAllSnapshots();const l=pi.now();fn.delta=Wi(0,1e3/60,l-fn.timestamp),fn.timestamp=l,fn.isProcessing=!0,pg.update.process(fn),pg.preRender.process(fn),pg.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ix.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HB),this.sharedNodes.forEach(ZB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Tj(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;s&&(l||sa(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return s&&(u=this.removeTransform(u)),tz(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:l}=this.options;if(!l)return Bt();const u=l.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(nz))){const{scroll:f}=this.root;f&&(xs(u.x,f.offset.x),xs(u.y,f.offset.y))}return u}removeElementScroll(s){var l;const u=Bt();if(br(u,s),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&br(u,s),xs(u.x,p.offset.x),xs(u.y,p.offset.y))}return u}applyTransform(s,l=!1){const u=Bt();br(u,s);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&bs(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),sa(f.latestValues)&&bs(u,f.latestValues)}return sa(this.latestValues)&&bs(u,this.latestValues),u}removeTransform(s){const l=Bt();br(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!sa(d.latestValues))continue;Iy(d.latestValues)&&d.updateSnapshot();const f=Bt(),p=d.measurePageBox();br(f,p),h2(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return sa(this.latestValues)&&h2(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(s||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),dc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):br(this.target,this.layout.layoutBox),Ej(this.target,this.targetDelta)):br(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),dc(this.relativeTargetOrigin,this.target,v.target),br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ic&&la.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Iy(this.parent.latestValues)||kj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;br(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;hB(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Bt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(d2(this.prevProjectionDelta.x,this.projectionDelta.x),d2(this.prevProjectionDelta.y,this.projectionDelta.y)),uc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!x2(this.projectionDelta.x,this.prevProjectionDelta.x)||!x2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ic&&la.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),s){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ys(),this.projectionDelta=ys(),this.projectionDeltaWithTransform=ys()}setAnimationOrigin(s,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},p=ys();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Bt(),v=u?u.source:void 0,x=this.layout?this.layout.source:void 0,w=v!==x,b=this.getStack(),C=!b||b.members.length<=1,k=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(JB));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const D=N/1e3;P2(p.x,s.x,D),P2(p.y,s.y,D),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QB(this.relativeTarget,this.relativeTargetOrigin,m,D),E&&RB(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Bt()),br(E,this.relativeTarget)),w&&(this.animationValues=f,jB(f,d,this.latestValues,D,k,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Io(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{lf.hasAnimatedSinceResize=!0,this.currentAnimation=CB(0,b2,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(b2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=s;if(!(!l||!u||!d)){if(this!==s&&this.layout&&d&&Lj(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Bt();const p=ur(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+p;const m=ur(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+m}br(l,u),bs(l,f),uc(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new LB),this.sharedNodes.get(s).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:l}=this.options;return l?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:l}=this.options;return l?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&Pg("z",s,d,this.animationValues);for(let f=0;f<Sg.length;f++)Pg(`rotate${Sg[f]}`,s,d,this.animationValues),Pg(`skew${Sg[f]}`,s,d,this.animationValues);s.render();for(const f in d)s.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);s.scheduleRender()}getProjectionStyles(s){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $B;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=af(s?.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=af(s?.pointerEvents)||""),this.hasProjected&&!sa(this.latestValues)&&(w.transform=f?f({},""):"none",this.hasProjected=!1),w}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=FB(this.projectionDeltaWithTransform,this.treeScale,m),f&&(d.transform=f(m,d.transform));const{x:v,y:x}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,p.animationValues?d.opacity=p===this?(u=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in wf){if(m[w]===void 0)continue;const{correct:b,applyTo:C}=wf[w],k=d.transform==="none"?m[w]:b(m[w],p);if(C){const E=C.length;for(let N=0;N<E;N++)d[C[N]]=k}else d[w]=k}return this.options.layoutId&&(d.pointerEvents=p===this?af(s?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(w2),this.root.sharedNodes.clear()}}}function zB(e){e.updateLayout()}function WB(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?Cr(p=>{const m=s?n.measuredBox[p]:n.layoutBox[p],v=ur(m);m.min=r[p].min,m.max=m.min+v}):Lj(o,n.layoutBox,r)&&Cr(p=>{const m=s?n.measuredBox[p]:n.layoutBox[p],v=ur(r[p]);m.max=m.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+v)});const l=ys();uc(l,r,n.layoutBox);const u=ys();s?uc(u,e.applyTransform(i,!0),n.measuredBox):uc(u,r,n.layoutBox);const d=!Tj(l);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:v}=p;if(m&&v){const x=Bt();dc(x,n.layoutBox,m.layoutBox);const w=Bt();dc(w,r,v.layoutBox),Mj(x,w)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=x,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function VB(e){ic&&la.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function UB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function HB(e){e.clearSnapshot()}function w2(e){e.clearMeasurements()}function GB(e){e.isLayoutDirty=!1}function KB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function S2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qB(e){e.resolveTargetDelta()}function YB(e){e.calcProjection()}function XB(e){e.resetSkewAndRotation()}function ZB(e){e.removeLeadSnapshot()}function P2(e,t,n){e.translate=_t(t.translate,0,n),e.scale=_t(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function C2(e,t,n,r){e.min=_t(t.min,n.min,r),e.max=_t(t.max,n.max,r)}function QB(e,t,n,r){C2(e.x,t.x,n.x,r),C2(e.y,t.y,n.y,r)}function JB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ez={duration:.45,ease:[.4,0,.1,1]},A2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),k2=A2("applewebkit/")&&!A2("chrome/")?Math.round:ar;function E2(e){e.min=k2(e.min),e.max=k2(e.max)}function tz(e){E2(e.x),E2(e.y)}function Lj(e,t,n){return e==="position"||e==="preserve-aspect"&&!iB(y2(t),y2(n),.2)}function nz(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const rz=Rj({attachResizeListener:(e,t)=>Sc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},Fj=Rj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cg.current){const e=new rz({});e.mount(window),e.setOptions({layoutScroll:!0}),Cg.current=e}return Cg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),iz={pan:{Feature:bB},drag:{Feature:xB,ProjectionNode:Fj,MeasureLayout:jj}};function N2(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&St.postRender(()=>o(t,Xc(t)))}class oz extends Bo{mount(){const{current:t}=this.node;t&&(this.unmount=iF(t,n=>(N2(this.node,n,"Start"),r=>N2(this.node,r,"End"))))}unmount(){}}class az extends Bo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yc(Sc(this.node.current,"focus",()=>this.onFocus()),Sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O2(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&St.postRender(()=>o(t,Xc(t)))}class sz extends Bo{mount(){const{current:t}=this.node;t&&(this.unmount=lF(t,n=>(O2(this.node,n,"Start"),(r,{success:i})=>O2(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ly=new WeakMap,Ag=new WeakMap,lz=e=>{const t=Ly.get(e.target);t&&t(e)},cz=e=>{e.forEach(lz)};function uz({root:e,...t}){const n=e||document;Ag.has(n)||Ag.set(n,{});const r=Ag.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(cz,{root:e,...t})),r[i]}function dz(e,t,n){const r=uz(t);return Ly.set(e,n),r.observe(e),()=>{Ly.delete(e),r.unobserve(e)}}const fz={some:0,all:1};class pz extends Bo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:fz[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),m=d?f:p;m&&m(u)};return dz(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(hz(t,n))&&this.startObserver()}unmount(){}}function hz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const mz={inView:{Feature:pz},tap:{Feature:sz},focus:{Feature:az},hover:{Feature:oz}},gz={layout:{ProjectionNode:Fj,MeasureLayout:jj}},Fy={current:null},$j={current:!1};function vz(){if($j.current=!0,!!J0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Fy.current=e.matches;e.addListener(t),t()}else Fy.current=!1}const yz=[...uj,Cn,Ro],xz=e=>yz.find(cj(e)),j2=new WeakMap;function bz(e,t,n){for(const r in t){const i=t[r],o=n[r];if(En(i))e.addValue(r,i);else if(En(o))e.addValue(r,bc(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,bc(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const D2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wz{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=pi.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,St.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:f}=s;this.onUpdate=f,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Dp(n),this.isVariantNode=yO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in m){const x=m[v];u[v]!==void 0&&En(x)&&x.set(u[v],!1)}}mount(t){this.current=t,j2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$j.current||vz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){j2.delete(this.current),this.projection&&this.projection.unmount(),Io(this.notifyUpdate),Io(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ta.has(t),i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&St.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _s){const n=_s[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<D2.length;r++){const i=D2[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=bz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=bc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(sj(i)||QO(i))?i=parseFloat(i):!xz(i)&&Ro.test(n)&&(i=ij(t,n)),this.setBaseTarget(t,En(i)?i.get():i)),En(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=ax(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!En(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new bx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Bj extends wz{constructor(){super(...arguments),this.KeyframeResolver=dj}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Sz(e){return window.getComputedStyle(e)}class Pz extends Bj{constructor(){super(...arguments),this.type="html",this.renderInstance=EO}readValueFromInstance(t,n){if(Ta.has(n)){const r=Ax(n);return r&&r.default||0}else{const r=Sz(t),i=(CO(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Nj(t,n)}build(t,n,r){cx(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return px(t,n,r)}}class Cz extends Bj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ta.has(n)){const r=Ax(n);return r&&r.default||0}return n=NO.has(n)?n:rx(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return DO(t,n,r)}build(t,n,r){ux(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){OO(t,n,r,i)}mount(t){this.isSVGTag=fx(t.tagName),super.mount(t)}}const Az=(e,t)=>ox(e)?new Cz(t):new Pz(t,{allowProjection:e!==P.Fragment}),kz=Z4({...Y$,...mz,...iz,...gz},Az),Ze=f4(kz);var Ar=function(e,t){return Number(e.toFixed(t))},Ez=function(e,t){return t},At=function(e,t,n){n&&typeof n=="function"&&n(e,t)},Nz=function(e){return-Math.cos(e*Math.PI)/2+.5},Oz=function(e){return e},jz=function(e){return e*e},Dz=function(e){return e*(2-e)},_z=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},Tz=function(e){return e*e*e},Mz=function(e){return--e*e*e+1},Iz=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},Rz=function(e){return e*e*e*e},Lz=function(e){return 1- --e*e*e*e},Fz=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},$z=function(e){return e*e*e*e*e},Bz=function(e){return 1+--e*e*e*e*e},zz=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},zj={easeOut:Nz,linear:Oz,easeInQuad:jz,easeOutQuad:Dz,easeInOutQuad:_z,easeInCubic:Tz,easeOutCubic:Mz,easeInOutCubic:Iz,easeInQuart:Rz,easeOutQuart:Lz,easeInOutQuart:Fz,easeInQuint:$z,easeOutQuint:Bz,easeInOutQuint:zz},Wj=function(e){typeof e=="number"&&cancelAnimationFrame(e)},Wr=function(e){e.mounted&&(Wj(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function Vj(e,t,n,r){if(e.mounted){var i=new Date().getTime(),o=1;Wr(e),e.animation=function(){if(!e.mounted)return Wj(e.animation);var s=new Date().getTime()-i,l=s/n,u=zj[t],d=u(l);s>=n?(r(o),e.animation=null):e.animation&&(r(d),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function Wz(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}function zo(e,t,n,r){var i=Wz(t);if(!(!e.mounted||!i)){var o=e.setTransformState,s=e.transformState,l=s.scale,u=s.positionX,d=s.positionY,f=t.scale-l,p=t.positionX-u,m=t.positionY-d;n===0?o(t.scale,t.positionX,t.positionY):Vj(e,r,n,function(v){var x=l+f*v,w=u+p*v,b=d+m*v;o(x,w,b)})}}function Vz(e,t,n){var r=e.offsetWidth,i=e.offsetHeight,o=t.offsetWidth,s=t.offsetHeight,l=o*n,u=s*n,d=r-l,f=i-u;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:l,newDiffWidth:d,newContentHeight:u,newDiffHeight:f}}var Uz=function(e,t,n,r,i,o,s){var l=e>t?n*(s?1:.5):0,u=r>i?o*(s?1:.5):0,d=e-t-l,f=l,p=r-i-u,m=u;return{minPositionX:d,maxPositionX:f,minPositionY:p,maxPositionY:m}},jx=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,i=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var o=Vz(n,r,t),s=o.wrapperWidth,l=o.wrapperHeight,u=o.newContentWidth,d=o.newDiffWidth,f=o.newContentHeight,p=o.newDiffHeight,m=Uz(s,u,d,l,f,p,!!i);return m},$y=function(e,t,n,r){return r?e<t?Ar(t,2):e>n?Ar(n,2):Ar(e,2):Ar(e,2)},ba=function(e,t){var n=jx(e,t);return e.bounds=n,n};function Zc(e,t,n,r,i,o,s){var l=n.minPositionX,u=n.minPositionY,d=n.maxPositionX,f=n.maxPositionY,p=0,m=0;s&&(p=i,m=o);var v=$y(e,l-p,d+p,r),x=$y(t,u-m,f+m,r);return{x:v,y:x}}function Mp(e,t,n,r,i,o){var s=e.transformState,l=s.scale,u=s.positionX,d=s.positionY,f=r-l;if(typeof t!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:u,y:d};var p=u-t*f,m=d-n*f,v=Zc(p,m,i,o,0,0,null);return v}function Qc(e,t,n,r,i){var o=i?r:0,s=t-o;return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=s?s:e}var _2=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,i=e.wrapperComponent,o=t.target,s="shadowRoot"in o&&"composedPath"in t,l=s?t.composedPath().some(function(f){return f instanceof Element?i?.contains(f):!1}):i?.contains(o),u=r&&o&&l;if(!u)return!1;var d=Ip(o,n);return!d},T2=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup,i=r.panning.disabled,o=t&&n&&!i;return!!o},Hz=function(e,t){var n=e.transformState,r=n.positionX,i=n.positionY;e.isPanning=!0;var o=t.clientX,s=t.clientY;e.startCoords={x:o-r,y:s-i}},Gz=function(e,t){var n=t.touches,r=e.transformState,i=r.positionX,o=r.positionY;e.isPanning=!0;var s=n.length===1;if(s){var l=n[0].clientX,u=n[0].clientY;e.startCoords={x:l-i,y:u-o}}};function Kz(e){var t=e.transformState,n=t.positionX,r=t.positionY,i=t.scale,o=e.setup,s=o.disabled,l=o.limitToBounds,u=o.centerZoomedOut,d=e.wrapperComponent;if(!(s||!d||!e.bounds)){var f=e.bounds,p=f.maxPositionX,m=f.minPositionX,v=f.maxPositionY,x=f.minPositionY,w=n>p||n<m,b=r>v||r<x,C=n>p?d.offsetWidth:e.setup.minPositionX||0,k=r>v?d.offsetHeight:e.setup.minPositionY||0,E=Mp(e,C,k,i,e.bounds,l||u),N=E.x,D=E.y;return{scale:i,positionX:w?N:n,positionY:b?D:r}}}function Uj(e,t,n,r,i){var o=e.setup.limitToBounds,s=e.wrapperComponent,l=e.bounds,u=e.transformState,d=u.scale,f=u.positionX,p=u.positionY;if(!(s===null||l===null||t===f&&n===p)){var m=Zc(t,n,l,o,r,i,s),v=m.x,x=m.y;e.setTransformState(d,v,x)}}var qz=function(e,t,n){var r=e.startCoords,i=e.transformState,o=e.setup.panning,s=o.lockAxisX,l=o.lockAxisY,u=i.positionX,d=i.positionY;if(!r)return{x:u,y:d};var f=t-r.x,p=n-r.y,m=s?u:f,v=l?d:p;return{x:m,y:v}},Lo=function(e,t){var n=e.setup,r=e.transformState,i=r.scale,o=n.minScale,s=n.disablePadding;return t>0&&i>=o&&!s?t:0},Yz=function(e){var t=e.mounted,n=e.setup,r=n.disabled,i=n.velocityAnimation,o=e.transformState.scale,s=i.disabled,l=!s||o>1||!r||t;return!!l},Xz=function(e){var t=e.mounted,n=e.velocity,r=e.bounds,i=e.setup,o=i.disabled,s=i.velocityAnimation,l=e.transformState.scale,u=s.disabled,d=!u||l>1||!o||t;return!(!d||!n||!r)};function Zz(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,i=n.animationTime,o=n.sensitivity;return r?i*t*o:i}function M2(e,t,n,r,i,o,s,l,u,d){if(i){if(t>s&&n>s){var f=s+(e-s)*d;return f>u?u:f<s?s:f}if(t<o&&n<o){var f=o+(e-o)*d;return f<l?l:f>o?o:f}}return r?t:$y(e,o,s,i)}function Qz(e,t){var n=1;return t?Math.min(n,e.offsetWidth/window.innerWidth):n}function Jz(e,t){var n=Yz(e);if(n){var r=e.lastMousePosition,i=e.velocityTime,o=e.setup,s=e.wrapperComponent,l=o.velocityAnimation.equalToMove,u=Date.now();if(r&&i&&s){var d=Qz(s,l),f=t.x-r.x,p=t.y-r.y,m=f/d,v=p/d,x=u-i,w=f*f+p*p,b=Math.sqrt(w)/x;e.velocity={velocityX:m,velocityY:v,total:b}}e.lastMousePosition=t,e.velocityTime=u}}function e6(e){var t=e.velocity,n=e.bounds,r=e.setup,i=e.wrapperComponent,o=Xz(e);if(!(!o||!t||!n||!i)){var s=t.velocityX,l=t.velocityY,u=t.total,d=n.maxPositionX,f=n.minPositionX,p=n.maxPositionY,m=n.minPositionY,v=r.limitToBounds,x=r.alignmentAnimation,w=r.zoomAnimation,b=r.panning,C=b.lockAxisY,k=b.lockAxisX,E=w.animationType,N=x.sizeX,D=x.sizeY,O=x.velocityAlignmentTime,_=O,T=Zz(e,u),V=Math.max(T,_),Y=Lo(e,N),K=Lo(e,D),B=Y*i.offsetWidth/100,U=K*i.offsetHeight/100,ue=d+B,oe=f-B,we=p+U,Q=m-U,G=e.transformState,ne=new Date().getTime();Vj(e,E,V,function(te){var L=e.transformState,W=L.scale,ie=L.positionX,se=L.positionY,de=new Date().getTime()-ne,X=de/_,$=zj[x.animationType],ee=1-$(Math.min(1,X)),R=1-te,re=ie+s*R,fe=se+l*R,I=M2(re,G.positionX,ie,k,v,f,d,oe,ue,ee),Ce=M2(fe,G.positionY,se,C,v,m,p,Q,we,ee);(ie!==re||se!==fe)&&e.setTransformState(W,I,Ce)})}}function I2(e,t){var n=e.transformState.scale;Wr(e),ba(e,n),window.TouchEvent!==void 0&&t instanceof TouchEvent?Gz(e,t):Hz(e,t)}function Dx(e,t){var n=e.transformState.scale,r=e.setup,i=r.minScale,o=r.alignmentAnimation,s=o.disabled,l=o.sizeX,u=o.sizeY,d=o.animationTime,f=o.animationType,p=s||n<i||!l&&!u;if(!p){var m=Kz(e);m&&zo(e,m,t??d,f)}}function R2(e,t,n){var r=e.startCoords,i=e.setup,o=i.alignmentAnimation,s=o.sizeX,l=o.sizeY;if(r){var u=qz(e,t,n),d=u.x,f=u.y,p=Lo(e,s),m=Lo(e,l);Jz(e,{x:d,y:f}),Uj(e,d,f,p,m)}}function t6(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var o=r?.getBoundingClientRect(),s=i?.getBoundingClientRect(),l=o?.width||0,u=o?.height||0,d=s?.width||0,f=s?.height||0,p=l<d||u<f,m=!t&&n&&n?.total>.1&&p;m?e6(e):Dx(e)}}function _x(e,t,n,r){var i=e.setup,o=i.minScale,s=i.maxScale,l=i.limitToBounds,u=Qc(Ar(t,2),o,s,0,!1),d=ba(e,u),f=Mp(e,n,r,u,d,l),p=f.x,m=f.y;return{scale:u,positionX:p,positionY:m}}function Hj(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,s=o.minScale,l=o.limitToBounds,u=o.zoomAnimation,d=u.disabled,f=u.animationTime,p=u.animationType,m=d||r>=s;if((r>=1||l)&&Dx(e),!(m||!i||!e.mounted)){var v=t||i.offsetWidth/2,x=n||i.offsetHeight/2,w=_x(e,s,v,x);w&&zo(e,w,f,p)}}var jo=function(){return jo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},jo.apply(this,arguments)};function L2(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Id={scale:1,positionX:0,positionY:0},Ul={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},By={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},Gj=function(e){var t,n,r,i;return{previousScale:(t=e.initialScale)!==null&&t!==void 0?t:Id.scale,scale:(n=e.initialScale)!==null&&n!==void 0?n:Id.scale,positionX:(r=e.initialPositionX)!==null&&r!==void 0?r:Id.positionX,positionY:(i=e.initialPositionY)!==null&&i!==void 0?i:Id.positionY}},F2=function(e){var t=jo({},Ul);return Object.keys(e).forEach(function(n){var r=typeof e[n]<"u",i=typeof Ul[n]<"u";if(i&&r){var o=Object.prototype.toString.call(Ul[n]),s=o==="[object Object]",l=o==="[object Array]";s?t[n]=jo(jo({},Ul[n]),e[n]):l?t[n]=L2(L2([],Ul[n],!0),e[n]):t[n]=e[n]}}),t},Kj=function(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,s=o.maxScale,l=o.minScale,u=o.zoomAnimation,d=o.smooth,f=u.size;if(!i)throw new Error("Wrapper is not mounted");var p=d?r*Math.exp(t*n):r+t*n,m=Qc(Ar(p,3),l,s,f,!1);return m};function qj(e,t,n,r,i){var o=e.wrapperComponent,s=e.transformState,l=s.scale,u=s.positionX,d=s.positionY;if(!o)return console.error("No WrapperComponent found");var f=o.offsetWidth,p=o.offsetHeight,m=(f/2-u)/l,v=(p/2-d)/l,x=Kj(e,t,n),w=_x(e,x,m,v);if(!w)return console.error("Error during zoom event. New transformation state was not calculated.");zo(e,w,r,i)}function Yj(e,t,n,r){var i=e.setup,o=e.wrapperComponent,s=i.limitToBounds,l=Gj(e.props),u=e.transformState,d=u.scale,f=u.positionX,p=u.positionY;if(o){var m=jx(e,l.scale),v=Zc(l.positionX,l.positionY,m,s,0,0,o),x={scale:l.scale,positionX:v.x,positionY:v.y};d===l.scale&&f===l.positionX&&p===l.positionY||(r?.(),zo(e,x,t,n))}}function n6(e,t,n,r){var i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),s=n.getBoundingClientRect(),l=o.x*r.scale,u=o.y*r.scale;return{x:(i.x-s.x+l)/r.scale,y:(i.y-s.y+u)/r.scale}}function r6(e,t,n){var r=e.wrapperComponent,i=e.contentComponent,o=e.transformState,s=e.setup,l=s.limitToBounds,u=s.minScale,d=s.maxScale;if(!r||!i)return o;var f=r.getBoundingClientRect(),p=t.getBoundingClientRect(),m=n6(t,r,i,o),v=m.x,x=m.y,w=p.width/o.scale,b=p.height/o.scale,C=r.offsetWidth/w,k=r.offsetHeight/b,E=Qc(n||Math.min(C,k),u,d,0,!1),N=(f.width-w*E)/2,D=(f.height-b*E)/2,O=(f.left-v)*E+N,_=(f.top-x)*E+D,T=jx(e,E),V=Zc(O,_,T,l,0,0,r),Y=V.x,K=V.y;return{positionX:Y,positionY:K,scale:E}}var i6=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),qj(e,1,t,n,r)}},o6=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),qj(e,-1,t,n,r)}},a6=function(e){return function(t,n,r,i,o){i===void 0&&(i=300),o===void 0&&(o="easeOut");var s=e.transformState,l=s.positionX,u=s.positionY,d=s.scale,f=e.wrapperComponent,p=e.contentComponent,m=e.setup.disabled;if(!(m||!f||!p)){var v={positionX:Number.isNaN(t)?l:t,positionY:Number.isNaN(n)?u:n,scale:Number.isNaN(r)?d:r};zo(e,v,i,o)}}},s6=function(e){return function(t,n){t===void 0&&(t=200),n===void 0&&(n="easeOut"),Yj(e,t,n)}},l6=function(e){return function(t,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var i=e.transformState,o=e.wrapperComponent,s=e.contentComponent;if(o&&s){var l=Xj(t||i.scale,o,s);zo(e,l,n,r)}}},c6=function(e){return function(t,n,r,i){r===void 0&&(r=600),i===void 0&&(i="easeOut"),Wr(e);var o=e.wrapperComponent,s=typeof t=="string"?document.getElementById(t):t;if(o&&s&&o.contains(s)){var l=r6(e,s,n);zo(e,l,r,i)}}},zy=function(e){return{instance:e,zoomIn:i6(e),zoomOut:o6(e),setTransform:a6(e),resetTransform:s6(e),centerView:l6(e),zoomToElement:c6(e)}},u6=function(e){return{instance:e,state:e.transformState}},vt=function(e){var t={};return Object.assign(t,u6(e)),Object.assign(t,zy(e)),t},kg=!1;function Eg(){try{var e={get passive(){return kg=!0,!1}};return e}catch{return kg=!1,kg}}var Rd=".".concat(By.wrapperClass),Ip=function(e,t){return t.some(function(n){return e.matches("".concat(Rd," ").concat(n,", ").concat(Rd," .").concat(n,", ").concat(Rd," ").concat(n," *, ").concat(Rd," .").concat(n," *"))})},Wy=function(e){e&&clearTimeout(e)},d6=function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")},Xj=function(e,t,n){var r=n.offsetWidth*e,i=n.offsetHeight*e,o=(t.offsetWidth-r)/2,s=(t.offsetHeight-i)/2;return{scale:e,positionX:o,positionY:s}};function f6(e){return function(t){e.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var p6=function(e,t){var n=e.setup.wheel,r=n.disabled,i=n.wheelDisabled,o=n.touchPadDisabled,s=n.excluded,l=e.isInitialized,u=e.isPanning,d=t.target,f=l&&!u&&!r&&d;if(!f||i&&!t.ctrlKey||o&&t.ctrlKey)return!1;var p=Ip(d,s);return!p},h6=function(e){return e?e.deltaY<0?1:-1:0};function m6(e,t){var n=h6(e),r=Ez(t,n);return r}function Zj(e,t,n){var r=t.getBoundingClientRect(),i=0,o=0;if("clientX"in e)i=(e.clientX-r.left)/n,o=(e.clientY-r.top)/n;else{var s=e.touches[0];i=(s.clientX-r.left)/n,o=(s.clientY-r.top)/n}return(Number.isNaN(i)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:i,y:o}}var g6=function(e,t,n,r,i){var o=e.transformState.scale,s=e.wrapperComponent,l=e.setup,u=l.maxScale,d=l.minScale,f=l.zoomAnimation,p=l.disablePadding,m=f.size,v=f.disabled;if(!s)throw new Error("Wrapper is not mounted");var x=o+t*n,w=r?!1:!v,b=Qc(Ar(x,3),d,u,m,w&&!p);return b},v6=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,i=e.setup,o=i.maxScale,s=i.minScale;return n?r<o||r>s||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY):!1},y6=function(e,t){var n=e.setup.pinch,r=n.disabled,i=n.excluded,o=e.isInitialized,s=t.target,l=o&&!r&&s;if(!l)return!1;var u=Ip(s,i);return!u},x6=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance,i=n&&!t&&r;return!!i},b6=function(e,t,n){var r=n.getBoundingClientRect(),i=e.touches,o=Ar(i[0].clientX-r.left,5),s=Ar(i[0].clientY-r.top,5),l=Ar(i[1].clientX-r.left,5),u=Ar(i[1].clientY-r.top,5);return{x:(o+l)/2/t,y:(s+u)/2/t}},Qj=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},w6=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,i=e.setup,o=i.maxScale,s=i.minScale,l=i.zoomAnimation,u=i.disablePadding,d=l.size,f=l.disabled;if(!n||r===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return e.transformState.scale;var p=t/r,m=p*n;return Qc(Ar(m,2),s,o,d,!f&&!u)},S6=160,P6=100,C6=function(e,t){var n=e.props,r=n.onWheelStart,i=n.onZoomStart;e.wheelStopEventTimer||(Wr(e),At(vt(e),t,r),At(vt(e),t,i))},A6=function(e,t){var n=e.props,r=n.onWheel,i=n.onZoom,o=e.contentComponent,s=e.setup,l=e.transformState,u=l.scale,d=s.limitToBounds,f=s.centerZoomedOut,p=s.zoomAnimation,m=s.wheel,v=s.disablePadding,x=s.smooth,w=p.size,b=p.disabled,C=m.step,k=m.smoothStep;if(!o)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var E=m6(t,null),N=x?k*Math.abs(t.deltaY):C,D=g6(e,E,N,!t.ctrlKey);if(u!==D){var O=ba(e,D),_=Zj(t,o,u),T=b||w===0||f||v,V=d&&T,Y=Mp(e,_.x,_.y,D,O,V),K=Y.x,B=Y.y;e.previousWheelEvent=t,e.setTransformState(D,K,B),At(vt(e),t,r),At(vt(e),t,i)}},k6=function(e,t){var n=e.props,r=n.onWheelStop,i=n.onZoomStop;Wy(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(Hj(e,t.x,t.y),e.wheelAnimationTimer=null)},P6);var o=v6(e,t);o&&(Wy(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,At(vt(e),t,r),At(vt(e),t,i))},S6))},Jj=function(e){for(var t=0,n=0,r=0;r<2;r+=1)t+=e.touches[r].clientX,n+=e.touches[r].clientY;var i=t/2,o=n/2;return{x:i,y:o}},E6=function(e,t){var n=Qj(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var r=Jj(t);e.pinchLastCenterX=r.x,e.pinchLastCenterY=r.y,Wr(e)},N6=function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,i=e.wrapperComponent,o=e.transformState.scale,s=e.setup,l=s.limitToBounds,u=s.centerZoomedOut,d=s.zoomAnimation,f=s.alignmentAnimation,p=d.disabled,m=d.size;if(!(r===null||!n)){var v=b6(t,o,n);if(!(!Number.isFinite(v.x)||!Number.isFinite(v.y))){var x=Qj(t),w=w6(e,x),b=Jj(t),C=b.x-(e.pinchLastCenterX||0),k=b.y-(e.pinchLastCenterY||0);if(!(w===o&&C===0&&k===0)){e.pinchLastCenterX=b.x,e.pinchLastCenterY=b.y;var E=ba(e,w),N=p||m===0||u,D=l&&N,O=Mp(e,v.x,v.y,w,E,D),_=O.x,T=O.y;e.pinchMidpoint=v,e.lastDistance=x;var V=f.sizeX,Y=f.sizeY,K=Lo(e,V),B=Lo(e,Y),U=_+C,ue=T+k,oe=Zc(U,ue,E,l,K,B,i),we=oe.x,Q=oe.y;e.setTransformState(w,we,Q)}}}},O6=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,Hj(e,t?.x,t?.y)},eD=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;Wy(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,At(vt(e),t,n)},r)},j6=function(e,t){var n=e.props,r=n.onZoomStart,i=n.onZoom,o=e.setup.doubleClick,s=o.animationTime,l=o.animationType;At(vt(e),t,r),Yj(e,s,l,function(){return At(vt(e),t,i)}),eD(e,t)};function D6(e,t){return e==="toggle"?t===1?1:-1:e==="zoomOut"?-1:1}function _6(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,i=e.transformState,o=e.contentComponent,s=i.scale,l=e.props,u=l.onZoomStart,d=l.onZoom,f=n.doubleClick,p=f.disabled,m=f.mode,v=f.step,x=f.animationTime,w=f.animationType;if(!p&&!r){if(m==="reset")return j6(e,t);if(!o)return console.error("No ContentComponent found");var b=D6(m,e.transformState.scale),C=Kj(e,b,v);if(s!==C){At(vt(e),t,u);var k=Zj(t,o,s),E=_x(e,C,k.x,k.y);if(!E)return console.error("Error during zoom event. New transformation state was not calculated.");At(vt(e),t,d),zo(e,E,x,w),eD(e,t)}}}var T6=function(e,t){var n=e.isInitialized,r=e.setup,i=e.wrapperComponent,o=r.doubleClick,s=o.disabled,l=o.excluded,u=t.target,d=i?.contains(u),f=n&&u&&d&&!s;if(!f)return!1;var p=Ip(u,l);return!p},M6=(function(){function e(t){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){n.props=r,ba(n,n.transformState.scale),n.setup=F2(r)},this.initializeWindowEvents=function(){var r,i,o=Eg(),s=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=s?.defaultView;(i=n.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",n.onWheelPanning,o),l?.addEventListener("mousedown",n.onPanningStart,o),l?.addEventListener("mousemove",n.onPanning,o),l?.addEventListener("mouseup",n.onPanningStop,o),s?.addEventListener("mouseleave",n.clearPanning,o),l?.addEventListener("keyup",n.setKeyUnPressed,o),l?.addEventListener("keydown",n.setKeyPressed,o)},this.cleanupWindowEvents=function(){var r,i,o=Eg(),s=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=s?.defaultView;l?.removeEventListener("mousedown",n.onPanningStart,o),l?.removeEventListener("mousemove",n.onPanning,o),l?.removeEventListener("mouseup",n.onPanningStop,o),s?.removeEventListener("mouseleave",n.clearPanning,o),l?.removeEventListener("keyup",n.setKeyUnPressed,o),l?.removeEventListener("keydown",n.setKeyPressed,o),document.removeEventListener("mouseleave",n.clearPanning,o),Wr(n),(i=n.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(r){var i=Eg();r.addEventListener("wheel",n.onWheelZoom,i),r.addEventListener("dblclick",n.onDoubleClick,i),r.addEventListener("touchstart",n.onTouchPanningStart,i),r.addEventListener("touchmove",n.onTouchPanning,i),r.addEventListener("touchend",n.onTouchPanningStop,i)},this.handleInitialize=function(r,i){var o=!1,s=n.setup.centerOnInit,l=function(u,d){for(var f=0,p=u;f<p.length;f++){var m=p[f];if(m.target===d)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(u){u(vt(n))}),n.observer=new ResizeObserver(function(u){if(l(u,r)||l(u,i))if(s&&!o){var d=i.offsetWidth,f=i.offsetHeight;(d>0||f>0)&&(o=!0,n.setCenter())}else Wr(n),ba(n,n.transformState.scale),Dx(n,0)}),n.observer.observe(r),n.observer.observe(i)},this.onWheelZoom=function(r){var i=n.setup.disabled;if(!i){var o=p6(n,r);if(o){var s=n.isPressingKeys(n.setup.wheel.activationKeys);s&&(C6(n,r),A6(n,r),k6(n,r))}}},this.onWheelPanning=function(r){var i=n.setup,o=i.disabled,s=i.wheel,l=i.panning;if(!(!n.wrapperComponent||!n.contentComponent||o||!s.wheelDisabled||l.disabled||!l.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var u=n.transformState,d=u.positionX,f=u.positionY,p=d-r.deltaX,m=f-r.deltaY,v=l.lockAxisX?d:p,x=l.lockAxisY?f:m,w=n.setup.alignmentAnimation,b=w.sizeX,C=w.sizeY,k=Lo(n,b),E=Lo(n,C);v===d&&x===f||Uj(n,v,x,k,E)}},this.onPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var s=_2(n,r);if(s){var l=n.isPressingKeys(n.setup.panning.activationKeys);l&&(r.button===0&&!n.setup.panning.allowLeftClickPan||r.button===1&&!n.setup.panning.allowMiddleClickPan||r.button===2&&!n.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),Wr(n),I2(n,r),At(vt(n),r,o)))}}},this.onPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(!i){var s=T2(n);if(s){var l=n.isPressingKeys(n.setup.panning.activationKeys);l&&(r.preventDefault(),r.stopPropagation(),R2(n,r.clientX,r.clientY),At(vt(n),r,o))}}},this.onPanningStop=function(r){var i=n.props.onPanningStop;n.isPanning&&(t6(n),At(vt(n),r,i))},this.onPinchStart=function(r){var i=n.setup.disabled,o=n.props,s=o.onPinchingStart,l=o.onZoomStart;if(!i){var u=y6(n,r);u&&(E6(n,r),Wr(n),At(vt(n),r,s),At(vt(n),r,l))}},this.onPinch=function(r){var i=n.setup.disabled,o=n.props,s=o.onPinching,l=o.onZoom;if(!i){var u=x6(n);u&&(r.preventDefault(),r.stopPropagation(),N6(n,r),At(vt(n),r,s),At(vt(n),r,l))}},this.onPinchStop=function(r){var i=n.props,o=i.onPinchingStop,s=i.onZoomStop;n.pinchStartScale&&(O6(n),At(vt(n),r,o),At(vt(n),r,s))},this.onTouchPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var s=_2(n,r);if(s){var l=n.lastTouch&&+new Date-n.lastTouch<200&&r.touches.length===1;if(!l){n.lastTouch=+new Date,Wr(n);var u=r.touches,d=u.length===1,f=u.length===2;d&&(Wr(n),I2(n,r),At(vt(n),r,o)),f&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(i)return;var s=T2(n);if(!s)return;r.preventDefault(),r.stopPropagation();var l=r.touches[0];R2(n,l.clientX,l.clientY),At(vt(n),r,o)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var i=n.setup.disabled;if(!i){var o=T6(n,r);o&&_6(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(i){return n.pressedKeys[i]}):!0},this.setTransformState=function(r,i,o){var s=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=i,n.transformState.positionY=o,n.applyTransformation();var l=vt(n);n.onChangeCallbacks.forEach(function(u){return u(l)}),At(l,{scale:r,positionX:i,positionY:o},s)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=Xj(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,i,o){return n.props.customTransform?n.props.customTransform(r,i,o):d6(r,i,o)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,i=r.scale,o=r.positionX,s=r.positionY,l=n.handleTransformStyles(o,s,i);n.contentComponent.style.transform=l}},this.getContext=function(){return vt(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,i){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=i,ba(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(r,i),n.initializeWindowEvents(),n.isInitialized=!0;var o=vt(n);At(o,void 0,n.props.onInit)},this.props=t,this.setup=F2(this.props),this.transformState=Gj(this.props)}return e})(),Tx=ut.createContext(null),I6=function(e,t){return typeof e=="function"?e(t):e},R6=ut.forwardRef(function(e,t){var n=P.useRef(new M6(e)).current,r=I6(e.children,zy(n));return P.useImperativeHandle(t,function(){return zy(n)},[n]),P.useEffect(function(){n.update(e)},[n,e]),ut.createElement(Tx.Provider,{value:n},r)});ut.forwardRef(function(e,t){var n=P.useRef(null),r=P.useContext(Tx);return P.useEffect(function(){return r.onChange(function(i){if(n.current){var o=0,s=0;n.current.style.transform=r.handleTransformStyles(o,s,1/i.instance.transformState.scale)}})},[r]),ut.createElement("div",jo({},e,{ref:f6([n,t])}))});function L6(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var F6=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,$2={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};L6(F6);var $6=function(e){var t=e.children,n=e.wrapperClass,r=n===void 0?"":n,i=e.contentClass,o=i===void 0?"":i,s=e.wrapperStyle,l=e.contentStyle,u=e.wrapperProps,d=u===void 0?{}:u,f=e.contentProps,p=f===void 0?{}:f,m=P.useContext(Tx),v=m.init,x=m.cleanupWindowEvents,w=P.useRef(null),b=P.useRef(null);return P.useEffect(function(){var C=w.current,k=b.current;return C!==null&&k!==null&&v&&v?.(C,k),function(){x?.()}},[]),ut.createElement("div",jo({},d,{ref:w,className:"".concat(By.wrapperClass," ").concat($2.wrapper," ").concat(r),style:s}),ut.createElement("div",jo({},p,{ref:b,className:"".concat(By.contentClass," ").concat($2.content," ").concat(o),style:l}),t))};const B6=Be.apiBaseUrl;async function tD(e){return X3(e)}async function z6(e){const t={...e,focusMode:e.focusMode??"On-Axis",iterations:e.iterations,surfaces:e.surfaces.map(r=>({id:r.id,type:r.type,radius:r.radius,thickness:r.thickness,refractiveIndex:r.refractiveIndex,diameter:r.diameter,material:r.material,description:r.description,radiusTolerance:r.radiusTolerance??0,thicknessTolerance:r.thicknessTolerance??0,tiltTolerance:r.tiltTolerance??0,decenterX:r.decenterX??0,decenterY:r.decenterY??0,coating:r.coating,coating_r_table:r.coatingDataPoints??void 0,coating_constant_r:r.coatingConstantValue??void 0,coating_is_hr:r.coatingIsHr??void 0}))},n=await fetch(`${B6}/api/monte-carlo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const r=await n.text();throw new Error(r||`Monte Carlo failed: ${n.status}`)}return n.json()}async function W6(e,t){return Z3({...e,wavelength_min_nm:t?.wavelengthMinNm,wavelength_max_nm:t?.wavelengthMaxNm,wavelength_step_nm:t?.wavelengthStepNm})}async function V6(e){return Q3({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1})}const nD=220,Vy=150,nr={left:36,right:12,top:8,bottom:24},Ng=nD-nr.left-nr.right,ls=Vy-nr.top-nr.bottom,li=[[400,"#8B5CF6"],[450,"#3B82F6"],[500,"#22C55E"],[550,"#84CC16"],[600,"#EAB308"],[650,"#F97316"],[700,"#EF4444"],[800,"#DC2626"],[1100,"#991B1B"]];function U6(e){if(e<=li[0][0])return li[0][1];if(e>=li[li.length-1][0])return li[li.length-1][1];for(let t=0;t<li.length-1;t++){const[n,r]=li[t],[i]=li[t+1];if(e>=n&&e<=i)return r}return"#94A3B8"}function H6({systemState:e,onSystemStateChange:t,pulseOptimizeTrigger:n=0}){const[r,i]=P.useState([]),[o,s]=P.useState(!1),[l,u]=P.useState(null),[d,f]=P.useState(!1),[p,m]=P.useState(null),v=P.useRef(null),x=P.useCallback(()=>{s(!0),u(null),W6({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter??10,wavelengths:e.wavelengths??[587.6],fieldAngles:e.fieldAngles??[0],numRays:e.numRays??9,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1},{wavelengthMinNm:400,wavelengthMaxNm:1100,wavelengthStepNm:10}).then($=>{const ee=($||[]).map(R=>({wavelength:Number(R.wavelength)||0,focus_shift:Number(R.focus_shift)??NaN}));i(ee)}).catch($=>{u($ instanceof Error?$.message:"Failed to fetch"),i([])}).finally(()=>s(!1))},[e.surfaces,e.entrancePupilDiameter,e.wavelengths,e.fieldAngles,e.numRays,e.focusMode,e.m2Factor]),w=P.useRef(e.surfaces);P.useEffect(()=>{const $=w.current.length!==e.surfaces.length||w.current.some((ee,R)=>{const re=e.surfaces[R];return re?.material!==ee.material||!!re?.sellmeierCoefficients?.B!=!!ee.sellmeierCoefficients?.B});return w.current=e.surfaces,$?(v.current&&clearTimeout(v.current),v.current=null,x()):(v.current&&clearTimeout(v.current),v.current=setTimeout(x,300)),()=>{v.current&&clearTimeout(v.current)}},[x,e.surfaces]);const b=r.filter($=>Number.isFinite($.focus_shift)&&Number.isFinite($.wavelength)).sort(($,ee)=>$.wavelength-ee.wavelength),C=e.wavelengths?.[0]??587.6,k=C>=400&&C<=1100?C:587.6,N=b.reduce(($,ee)=>!$||Math.abs(ee.wavelength-k)<Math.abs($.wavelength-k)?ee:$,null)?.focus_shift??(b.length?b[Math.floor(b.length/2)].focus_shift:0),D=Math.min(...b.map($=>$.focus_shift-N),0),O=Math.max(...b.map($=>$.focus_shift-N),0),_=Math.max(O-D,.5),T=D-_*.1,V=O+_*.1,Y=400,K=1100,B=$=>nr.left+Ng*($-T)/(V-T),U=$=>nr.top+ls-ls*($-Y)/(K-Y),ue=b.map($=>`${B($.focus_shift-N)},${U($.wavelength)}`).join(" "),oe=B(0),[we,Q]=P.useState(null),G=P.useRef(null),ne=$=>T+($-nr.left)/Ng*(V-T),te=$=>Y+(nr.top+ls-$)/ls*(K-Y),L=P.useCallback($=>{if(!G.current||b.length<2)return;const ee=G.current.getBoundingClientRect(),R=$.clientX-ee.left,re=$.clientY-ee.top,fe=te(re),I=ne(R),Ce=b.reduce((be,Ye)=>{const ze=Math.abs(Ye.wavelength-fe)+Math.abs(Ye.focus_shift-N-I)*.1;return ze<be.dist?{p:Ye,dist:ze}:be},{p:b[0],dist:1/0});Q({wavelength:Ce.p.wavelength,shiftMm:Ce.p.focus_shift-N,x:$.clientX,y:$.clientY})},[b,N,ne,te]),W=P.useCallback(()=>Q(null),[]),ie=b.length>=2?(()=>{const $=b.find(R=>Math.abs(R.wavelength-486)<20),ee=b.find(R=>Math.abs(R.wavelength-656)<20);return!$||!ee?null:Math.abs($.focus_shift-ee.focus_shift)})():null,se=p&&ie!=null&&ie>0?Math.round(p.estimated_lca_reduction/ie*100):null,de=P.useCallback(()=>{f(!0),m(null),V6({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter??10,wavelengths:e.wavelengths??[587.6],fieldAngles:e.fieldAngles??[0],numRays:e.numRays??9,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1}).then($=>m($)).catch(()=>m({recommended_glass:"",estimated_lca_reduction:0})).finally(()=>f(!1))},[e]),X=P.useCallback(()=>{if(!p?.recommended_glass||e.surfaces.length!==2)return;const $=e.surfaces[0],ee=e.surfaces[1];if($.type!=="Glass"||ee.type!=="Air")return;const R={id:crypto.randomUUID(),type:"Glass",radius:ee.radius,thickness:$.thickness/2,refractiveIndex:1.6,diameter:$.diameter,material:p.recommended_glass,description:p.recommended_glass,coating:"Uncoated"};t(re=>{const fe=re.surfaces.map((I,Ce)=>Ce===1?{...I,radius:-I.radius}:{...I});return fe.splice(1,0,R),{...re,surfaces:fe,traceResult:null,traceError:null}}),m(null)},[p,e.surfaces,t]);return y.jsxs(Ze.div,{className:"absolute z-[40] flex flex-col gap-2",style:{bottom:16,left:16,width:240,maxWidth:240,pointerEvents:"auto"},initial:{opacity:0,y:12,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:300,damping:24},children:[y.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-900/80 backdrop-blur-md shadow-2xl px-2 py-2 overflow-hidden",children:[y.jsx("div",{className:"text-[10px] font-medium text-slate-400 mb-1 px-1",children:"Chromatic Aberration"}),y.jsx(zi,{mode:"wait",children:o?y.jsxs(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center gap-2 py-8 text-slate-400",children:[y.jsx(ks,{className:"w-4 h-4 animate-spin",strokeWidth:2}),y.jsx("span",{className:"text-xs",children:"Calculating"})]},"loading"):l?y.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-4 px-2 text-xs text-red-400/90",children:l},"error"):b.length<2?y.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-6 text-center text-xs text-slate-500",children:"No data"},"empty"):y.jsxs(Ze.svg,{ref:G,width:nD,height:Vy,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"block cursor-crosshair",onMouseMove:L,onMouseLeave:W,children:[y.jsx("defs",{children:y.jsx("linearGradient",{id:"chromatic-spectrum-y",x1:"0",y1:"1",x2:"0",y2:"0",children:li.map(([$,ee],R)=>y.jsx("stop",{offset:($-400)/700,stopColor:ee},R))})}),y.jsx("rect",{x:4,y:nr.top,width:8,height:ls,fill:"url(#chromatic-spectrum-y)",rx:2,opacity:.9}),[400,550,700,1100].map($=>y.jsx("text",{x:nr.left-8,y:U($)+3,textAnchor:"end",className:"fill-slate-500 text-[9px] font-mono",children:$},$)),y.jsx("text",{x:nr.left+Ng/2,y:Vy-4,textAnchor:"middle",className:"fill-slate-500 text-[9px] font-mono",children:" focus (mm)"}),y.jsx("line",{x1:oe,y1:nr.top,x2:oe,y2:nr.top+ls,stroke:"rgba(34, 211, 238, 0.8)",strokeWidth:"1.5",strokeDasharray:"4 3"}),y.jsx("polyline",{points:ue,fill:"none",stroke:"#22D3EE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),b.map(($,ee)=>y.jsx("circle",{cx:B($.focus_shift-N),cy:U($.wavelength),r:2,fill:U6($.wavelength),stroke:"rgba(255,255,255,0.6)",strokeWidth:"0.5"},ee))]},"chart")}),we&&y.jsxs("div",{className:"fixed z-[50] px-2 py-1.5 rounded text-xs font-mono bg-slate-900/80 backdrop-blur-md border border-slate-700 text-slate-200 pointer-events-none",style:{left:we.x+12,top:we.y+8},children:[we.wavelength," nm  ",(we.shiftMm*1e3).toFixed(2)," m"]})]}),y.jsx(Ze.button,{type:"button",onClick:de,disabled:d||e.surfaces.length!==2,className:"w-full py-2 px-3 rounded-lg text-sm font-medium text-white bg-gradient-to-r from-cyan-500 to-indigo-500 hover:from-cyan-400 hover:to-indigo-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg",animate:n>0?{scale:[1,1.05,1],boxShadow:["0 10px 15px -3px rgb(0 0 0 / 0.1)","0 0 24px 4px rgba(34, 211, 238, 0.6)","0 10px 15px -3px rgb(0 0 0 / 0.1)"]}:void 0,transition:n>0?{duration:1.2,repeat:2,ease:"easeInOut"}:void 0,children:d?y.jsxs("span",{className:"flex items-center justify-center gap-2",children:[y.jsx(ks,{className:"w-4 h-4 animate-spin",strokeWidth:2}),"Optimizing"]}):"Optimize Colors"}),y.jsx(zi,{children:p?.recommended_glass&&y.jsxs(Ze.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},className:"rounded-lg border border-slate-700 bg-slate-900/80 backdrop-blur-md shadow-2xl p-3",children:[y.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[y.jsxs("p",{className:"text-xs text-slate-300",children:["Pair with ",y.jsx("span",{className:"font-semibold text-cyan-400",children:p.recommended_glass}),se!=null?` to reduce shift by ${se}%`:` (${p.estimated_lca_reduction.toFixed(2)} mm)`]}),y.jsx("button",{type:"button",onClick:()=>m(null),className:"p-0.5 rounded text-slate-500 hover:text-slate-300","aria-label":"Close",children:y.jsx(vc,{className:"w-3.5 h-3.5",strokeWidth:2})})]}),y.jsx("button",{type:"button",onClick:X,className:"w-full py-1.5 px-3 rounded text-xs font-medium bg-gradient-to-r from-cyan-500 to-indigo-500 text-white hover:from-cyan-400 hover:to-indigo-400 transition-all",children:"Apply"})]})})]})}const G6={"N-BK7":{B:[1.03961212,.231792344,1.01046945],C:[.00600069867,.0200179144,103.560653]},BK7:{B:[1.03961212,.231792344,1.01046945],C:[.00600069867,.0200179144,103.560653]},"N-SF11":{B:[1.73848403,.31116824,1.17490871],C:[.0133711172,.0619001176,121.419942]},SF11:{B:[1.73848403,.31116824,1.17490871],C:[.0133711172,.0619001176,121.419942]},"Fused Silica":{B:[.6961663,.4079426,.8974794],C:[.004679148,.01351206,97.93432]},Silica:{B:[.6961663,.4079426,.8974794],C:[.004679148,.01351206,97.93432]},F2:{B:[1.31038764,.196681836,.966129764],C:[.00958633072,.0457627625,99.2753302]},"N-SF5":{B:[1.31038764,.196681836,.966129764],C:[.00958633072,.0457627625,99.2753302]},"N-SF10":{B:[1.61625974,.259229334,.96887106],C:[.0106200162,.0473625942,119.248795]},"N-BAF10":{B:[1.5851495,.143571385,1.08521269],C:[.00909730952,.0424520636,105.613573]},"N-LAK9":{B:[1.41673927,.126605356,1.28217827],C:[.00906333117,.0493226978,95.6403971]}},K6={"n-bk7":"N-BK7",bk7:"N-BK7",nbk7:"N-BK7","n-sf11":"N-SF11",sf11:"N-SF11","fused silica":"Fused Silica","fused-silica":"Fused Silica",silica:"Fused Silica",f2:"F2","n-sf5":"N-SF5","n-sf10":"N-SF10","n-baf10":"N-BAF10",baf10:"N-BAF10","n-lak9":"N-LAK9",lak9:"N-LAK9"};function q6(e){const t=K6[e.toLowerCase().trim()];return t?G6[t]??null:null}function Og(e,t){const n=e*.001,r=n*n;let i=1;for(let o=0;o<3;o++)i+=t.B[o]*r/(r-t.C[o]);return Math.sqrt(Math.max(i,1))}const ha=.5;function Uy(e,t){const n=Og(e,t),r=Og(e+ha,t),i=Og(e-ha,t);return(r-2*n+i)/(ha*ha)}function Y6(e,t){const n=Uy(e+ha,t),r=Uy(e-ha,t);return(n-r)/(2*ha)}const rD=299792458;function X6(e,t,n){const r=e*1e-9,i=t*1e18,o=rD;return n*.001*Math.pow(r,3)*i/(2*Math.PI*Math.PI*o*o)*1e30}function Z6(e,t,n,r){const i=e*1e-9,o=t*1e18,s=n*1e27,l=rD,u=r*.001,d=i*s-2*o;return u*Math.pow(i,4)*d/(4*Math.pow(Math.PI,3)*Math.pow(l,3))*1e45}function Q6(e,t,n){const r=4*Math.LN2,i=e*e,o=r*r*t*t/i,s=r*r*r*n*n/(i*i);return Math.sqrt(Math.max(0,i+o+s))}function J6(e,t,n){let r=0,i=0;for(const s of e){if(s.type==="Air"||s.refractiveIndex<=1.01)continue;const l=q6(s.material);if(!l)continue;const u=s.thickness,d=Uy(t,l),f=Y6(t,l);r+=X6(t,d,u),i+=Z6(t,d,f,u)}const o=Q6(n,r,i);return{gddFs2:r,todFs3:i,predictedExitPulseWidthFs:o}}function e8(e,t){const{centerX:n,centerY:r,scale:i,dotRadius:o=1.2,inSpecOpacity:s=.5,outlierOpacity:l=.6}=t;if(!e.length)return{dots:null,inSpecCount:0,outlierCount:0};const u=e.reduce((C,[k])=>C+k,0)/e.length,d=e.reduce((C,[,k])=>C+k,0)/e.length,f=e.map(([C,k])=>Math.sqrt((C-u)**2+(k-d)**2)),p=f.reduce((C,k)=>C+k,0)/f.length,m=f.reduce((C,k)=>C+(k-p)**2,0)/f.length,v=Math.sqrt(m)||.001;let x=0,w=0;return{dots:e.map(([C,k],E)=>{const D=f[E]>v;D?w++:x++;const O=n+C*i,_=r-k*i;return y.jsx("circle",{cx:O,cy:_,r:o,fill:D?"rgba(239, 68, 68, 0.85)":"rgba(34, 211, 238, 0.85)",opacity:D?l:s},E)}),inSpecCount:x,outlierCount:w}}function t8({sweep:e,cursorZ:t,diamondZ:n,width:r=140,height:i=44}){if(!e.length)return null;const o=5,s=t-o,l=t+o,u=l-s||1,d=e.filter(E=>E.z>=s-.01&&E.z<=l+.01);if(d.length<2)return null;const f=d.map(E=>{const N=E.rmsPerField?.length?(()=>{const D=E.rmsPerField.filter(O=>O!=null);return D.length>0?Math.sqrt(D.reduce((O,_)=>O+_*_,0)/D.length):null})():E.rmsRadius;return{z:E.z,rms:N}}).filter(({rms:E})=>E!=null);if(f.length<2)return null;const p=Math.max(...f.map(E=>E.rms),1e-6),m=4,v=r-2*m,x=i-2*m,b=`M ${f.map(({z:E,rms:N})=>{const D=m+v*(E-s)/u,O=m+x-x*(N/p);return`${D},${O}`}).join(" L ")}`,C=m+v*Math.max(0,Math.min(1,(t-s)/u)),k=n!=null&&n>=s&&n<=l?m+v*(n-s)/u:null;return y.jsxs("svg",{width:r,height:i,className:"block",children:[y.jsx("path",{d:b,fill:"none",stroke:"rgba(34, 211, 238, 0.9)",strokeWidth:"1.5",vectorEffect:"non-scaling-stroke"}),y.jsx("line",{x1:C,y1:m,x2:C,y2:i-m,stroke:"#f97316",strokeWidth:"1",strokeDasharray:"2 2"}),k!=null&&y.jsx("line",{x1:k,y1:m,x2:k,y2:i-m,stroke:"#F59E0B",strokeWidth:"1.5",strokeDasharray:"3 2",opacity:.95})]})}function n8({sweep:e,currentZ:t,width:n=100,height:r=36}){if(!e.length)return null;const i=e[0].z,s=e[e.length-1].z-i||1,l=e.map(w=>{if(w.rmsPerField?.length){const b=w.rmsPerField.filter(C=>C!=null);return b.length>0?Math.sqrt(b.reduce((C,k)=>C+k*k,0)/b.length):null}return w.rmsRadius}).filter(w=>w!=null),u=Math.max(...l,1e-6),d=2,f=n-2*d,p=r-2*d,m=e.map(w=>{const b=w.rmsPerField?.length?(()=>{const C=w.rmsPerField.filter(k=>k!=null);return C.length>0?Math.sqrt(C.reduce((k,E)=>k+E*E,0)/C.length):null})():w.rmsRadius;return{z:w.z,rms:b}}).filter(({rms:w})=>w!=null).map(({z:w,rms:b})=>{const C=d+f*(w-i)/s,k=d+p-p*(b/u);return`${C},${k}`}),v=m.length>=2?`M ${m.join(" L ")}`:"",x=d+f*Math.max(0,Math.min(1,(t-i)/s));return y.jsxs("svg",{width:n,height:r,className:"block",children:[v&&y.jsx("path",{d:v,fill:"none",stroke:"rgba(34, 211, 238, 0.8)",strokeWidth:"1",vectorEffect:"non-scaling-stroke"}),y.jsx("line",{x1:x,y1:d,x2:x,y2:r-d,stroke:"#f97316",strokeWidth:"1",strokeDasharray:"2 2"})]})}function _i({label:e,value:t,metricId:n,highlightedMetric:r,labelColor:i}){const o=r===n;return y.jsxs(y.Fragment,{children:[y.jsx("span",{className:o?"text-cyan-electric":"text-slate-400",style:i&&!o?{color:i}:void 0,children:e}),y.jsx("span",{className:"tabular-nums",style:{color:i??"var(--electric-cyan, #22D3EE)",...o?{boxShadow:"0 0 12px rgba(34, 211, 238, 0.6)",borderRadius:4,padding:"0 4px"}:{}},children:t})]})}const Ld=64,Fd=1e4,B2=10;function r8(e,t,n,r,i){const o=[];for(let s=0;s<e;s++){const l=e===1?.5:s/(e-1),u=(l-.5)*2*i*.9,d=Math.abs(l-.5),f=Be.rayColors,p=d<.15?f[0]:d<.4?f[1]:f[2],m=u*Be.paraxial.focusYFactor,v=[{x:0,y:u},{x:t,y:u},{x:n,y:u+(m-u)*Be.paraxial.lensToFocusFactor},{x:r,y:m}];o.push({points:v,color:p})}return o}function z2(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(n),n+=e[r].thickness??0;return t}function i8(e,t,n,r,i){const{padding:o,scaleFactor:s,minZExtent:l,extendZFactor:u,extendZMin:d}=Be.view,f=i/2,p=t.reduce((O,_)=>O+(_.thickness??0),0),m=t.length?Math.max(n,...t.map(O=>O.diameter??n)):n,v=Math.max(m/2,5);let x=0,w=Math.max(p,d);t.length&&(x=-Math.max(l,p*u),w=p+Math.max(d,p*u));let b=v;if(e?.rays?.length||e?.surfaces?.length){const O=(_,T)=>{x=Math.min(x,_),w=Math.max(w,_),b=Math.max(b,Math.abs(T))};for(const _ of e.rays??[])for(const[T,V]of _)O(T,V);for(const _ of e.surfaces??[])for(const[T,V]of _)O(T,V);e.focusZ!=null&&O(e.focusZ,0)}const C=w-x,k=2*b+10,E=Math.min((r-2*o)/C,(i-2*o)/k)*s,N=(x+w)/2,D=r/2-N*E;return{scale:E,xOffset:D,cy:f}}function o8(e,t,n){const{minZExtent:r,extendZFactor:i,extendZMin:o}=Be.view,s=t.reduce((p,m)=>p+(m.thickness??0),0),l=t.length?Math.max(n,...t.map(p=>p.diameter??n)):n;let u=Math.max(l/2,5),d=0,f=Math.max(s,o);if(t.length&&(d=-Math.max(r,s*i),f=s+Math.max(o,s*i)),e?.rays?.length||e?.surfaces?.length){const p=(m,v)=>{d=Math.min(d,m),f=Math.max(f,m),u=Math.max(u,Math.abs(v))};for(const m of e.rays??[])for(const[v,x]of m)p(v,x);for(const m of e.surfaces??[])for(const[v,x]of m)p(v,x);e.focusZ!=null&&p(e.focusZ,0)}return{zRange:f-d,yExtent:u}}function a8(e,t){if(!e?.length||e.length<2)return null;const n=e.map(s=>s[0]),r=e.map(s=>s[1]),i=Math.min(...n),o=Math.max(...n);if(t<=i){const s=n[1]-n[0],l=r[1]-r[0],u=Math.abs(s)>1e-12?l/s:0;return r[0]+u*(t-n[0])}if(t>=o){const s=n[n.length-1]-n[n.length-2],l=r[r.length-1]-r[r.length-2],u=Math.abs(s)>1e-12?l/s:0;return r[r.length-1]+u*(t-n[n.length-1])}for(let s=0;s<e.length-1;s++){const l=n[s],u=n[s+1];if(l<=t&&t<=u){const d=u-l,f=Math.abs(d)>1e-12?(t-l)/d:0;return r[s]+f*(r[s+1]-r[s])}}return null}function s8(e,t,n=80){if(!e?.length)return null;const r=[];for(const p of e)for(const m of p)r.push(m[0]);const i=Math.min(...r),o=Math.max(...r);if(o<=i)return null;const s=[];for(let p=0;p<=n;p++)s.push(i+p/n*(o-i));const l=[],u=[];for(const p of s){const m=[];for(const v of e){const x=a8(v,p);x!=null&&m.push(x)}if(m.length>0){const v=Math.max(...m),x=Math.min(...m);l.push(t(p,v)),u.push(t(p,x))}}if(l.length<2)return null;const d=`M ${l.join(" L ")}`,f=`L ${[...u].reverse().join(" L ")} Z`;return`${d} ${f}`}function W2(e,t){if(!e?.length)return null;if(t<=e[0].z)return e[0];if(t>=e[e.length-1].z)return e[e.length-1];let n=0;for(;n<e.length-1&&e[n+1].z<t;)n++;const r=e[n],i=e[n+1],o=(t-r.z)/(i.z-r.z),s=(u,d)=>u!=null&&d!=null?u+o*(d-u):u??d??null,l=r.rmsPerField&&i.rmsPerField&&r.rmsPerField.length===i.rmsPerField.length?r.rmsPerField.map((u,d)=>s(u,i.rmsPerField[d])):r.rmsPerField;return{z:t,rmsRadius:s(r.rmsRadius,i.rmsRadius),beamWidth:s(r.beamWidth,i.beamWidth),chiefRayAngle:s(r.chiefRayAngle,i.chiefRayAngle),yCentroid:s(r.yCentroid,i.yCentroid),numRays:r.numRays,rmsPerField:l}}function l8({className:e="",systemState:t,onSystemStateChange:n,selectedSurfaceId:r,onSelectSurface:i,highlightedMetric:o=null,showPersistentHud:s=!1,showBestFocus:l=!0,snapToFocus:u=!0,snapToSurface:d=!0,runSampleAnalysisRef:f,pulseOptimizeRef:p,onMonteCarloSensitivity:m}){const[v,x]=P.useState(!1),[w,b]=P.useState(!1),[C,k]=P.useState(null),[E,N]=P.useState(!1),[D,O]=P.useState(!1),[_,T]=P.useState(!1),[V,Y]=P.useState(!1),[K,B]=P.useState(0),[U,ue]=P.useState(null),[oe,we]=P.useState("geometry"),[Q,G]=P.useState(!1),ne=P.useRef(null),te=(t.fieldAngles||[0]).length;P.useEffect(()=>{U!=null&&U>=te&&ue(null)},[te,U]),P.useEffect(()=>{E&&(G(!1),ne.current&&(clearTimeout(ne.current),ne.current=null))},[E]),P.useEffect(()=>()=>{ne.current&&clearTimeout(ne.current)},[]),P.useEffect(()=>{if(p)return p.current=()=>{Y(!0),B(he=>he+1)},()=>{p.current=null}},[p]);const L=P.useCallback(()=>{ne.current&&(clearTimeout(ne.current),ne.current=null),G(!0)},[]),W=P.useCallback(()=>{ne.current=setTimeout(()=>{ne.current=null,G(!1)},2e3)},[]);P.useEffect(()=>{const he=xe=>{xe.code==="Space"&&!(xe.target instanceof HTMLInputElement||xe.target instanceof HTMLTextAreaElement)&&(xe.preventDefault(),O(!0))},Pe=xe=>{xe.code==="Space"&&(xe.preventDefault(),O(!1))};return window.addEventListener("keydown",he),window.addEventListener("keyup",Pe),()=>{window.removeEventListener("keydown",he),window.removeEventListener("keyup",Pe)}},[]);const ie=t.numRays,se=t.hasTraced,de=t.traceResult,X=t.traceError,$=he=>n(Pe=>({...Pe,numRays:he})),ee=P.useCallback(async()=>{x(!0),n(he=>({...he,traceError:null}));try{const he=await tD({surfaces:t.surfaces,entrancePupilDiameter:t.entrancePupilDiameter,wavelengths:t.wavelengths,fieldAngles:t.fieldAngles,numRays:t.numRays,focusMode:t.focusMode??"On-Axis",m2Factor:t.m2Factor??1});if(he.error)n(Pe=>({...Pe,hasTraced:!0,traceResult:null,traceError:he.error??null}));else{he.terminationLog?.length&&console.warn("[Trace termination log]",he.terminationLog),he.refractionLog?.length&&(he.refractionLog.forEach(je=>{const Ue=je.mat_name??"?",ve=je.n2??0;Ue.toLowerCase()==="air"&&Math.abs(ve-1)>1e-6&&console.warn("[Trace] Air with n_after1:",je)}),console.log("[Trace refraction audit] MATCH AUDIT per surface:",he.refractionLog));const xe=(he.rays??[]).map(je=>[...je].sort((Ue,ve)=>Ue[0]-ve[0]));n(je=>({...je,hasTraced:!0,traceResult:{rays:xe,rayFieldIndices:he.rayFieldIndices,rayPower:he.rayPower,surfaces:he.surfaces??[],focusZ:he.focusZ??0,bestFocusZ:he.bestFocusZ,zOrigin:he.zOrigin,performance:he.performance,metricsSweep:he.metricsSweep??[],gaussianBeam:he.gaussianBeam},traceError:null}))}}catch(he){const Pe=he instanceof Error?he.message:"Trace failed",je=/fetch|network|connection|cors|failed to fetch/i.test(Pe)||Pe==="Trace failed"?"Pyodide worker failed to load. Ensure you're serving from the dist folder: cd dist && npx serve . (or use start-mac.command)":Pe;n(Ue=>({...Ue,hasTraced:!0,traceResult:null,traceError:je}))}finally{x(!1)}},[t,n]),R=P.useCallback(async(he=100)=>{if(!t.surfaces.some(xe=>(xe.radiusTolerance??0)>0||(xe.thicknessTolerance??0)>0||(xe.tiltTolerance??0)>0)){n(xe=>({...xe,traceError:"Set tolerances (R, T, Tilt) in System Editor first"}));return}b(!0),k(null),n(xe=>({...xe,traceError:null}));try{const xe=await z6({surfaces:t.surfaces,entrancePupilDiameter:t.entrancePupilDiameter,wavelengths:t.wavelengths,fieldAngles:t.fieldAngles,numRays:t.numRays,focusMode:t.focusMode??"On-Axis",iterations:he});xe.error?(n(je=>({...je,traceError:xe.error??null})),m?.(null)):(k(xe),m?.(xe.sensitivityBySurface??null))}catch(xe){const je=xe instanceof Error?xe.message:"Monte Carlo failed";n(Ue=>({...Ue,traceError:je}))}finally{b(!1)}},[t,n]);P.useEffect(()=>{if(f)return f.current=()=>R(10),()=>{f.current=null}},[f,R]),P.useEffect(()=>{k(null),m?.(null)},[t.surfaces,t.entrancePupilDiameter,t.numRays,m]),P.useEffect(()=>{t.pendingTrace&&(n(he=>({...he,pendingTrace:!1})),ee())},[t.pendingTrace,n,ee]);const re=Be.viewport.width,fe=Be.viewport.height,I=t.surfaces,Ce=t.ghostSurfaces??null,be=t.entrancePupilDiameter??10,Ye=be/2,{scale:ze,xOffset:rt,cy:ye}=P.useMemo(()=>i8(de,I,be,re,fe),[de,I,be,re,fe]),it=P.useMemo(()=>z2(I),[I]),On=it.length?it[it.length-1]+(I[I.length-1]?.thickness??0):0,ge=On*.7,Me=it[0]??0,He=I[0]?(it[0]??0)+(I[0].thickness??0):0,Ke=(he,Pe)=>`${he*ze+rt},${ye-Pe*ze}`,pt=P.useMemo(()=>!_||!de?.rays?.length?null:s8(de.rays,Ke,80),[_,de?.rays,ze,rt,ye]),at=P.useMemo(()=>{const he=de?.gaussianBeam;if(!he?.beamEnvelope?.length)return null;const Pe=he.beamEnvelope,xe=Pe.map(([Ue,ve])=>Ke(Ue,-ve)).join(" L "),je=[...Pe].reverse().map(([Ue,ve])=>Ke(Ue,ve)).join(" L ");return`M ${xe} L ${je} Z`},[de?.gaussianBeam,ze,rt,ye]);function ln(he,Pe,xe,je=24){const Ue=xe/2,ve=[];if(Math.abs(Pe)<.1)ve.push(Ke(he,-Ue)),ve.push(Ke(he,Ue));else{const Ne=Pe;for(let We=0;We<=je;We++){const $e=(We/je-.5)*2*Ue,dt=Math.max(0,Ne*Ne-$e*$e),Tt=Ne-Math.sign(Ne)*Math.sqrt(dt),yt=he+Tt;ve.push(Ke(yt,$e))}}return ve.length>=2?`M ${ve[0]} L ${ve.slice(1).join(" L ")}`:""}const Ot=P.useMemo(()=>{const he=[];for(let Pe=0;Pe<I.length;Pe++){const xe=I[Pe],je=it[Pe]??0,Ue=xe.refractiveIndex??1,ve=ln(je,xe.radius,xe.diameter??be);if(ve&&he.push({type:"surface",path:ve,key:`surf-${Pe}`,refractiveIndex:Ue,surfaceId:xe.id}),Pe<I.length-1){const Ne=I[Pe+1],We=it[Pe+1]??je+xe.thickness,qe=ln(je,xe.radius,xe.diameter??be),$e=ln(We,Ne.radius,Ne.diameter??be);if(qe&&$e){const dt=qe.split(" L ").map(xn=>xn.replace("M ","")),Tt=$e.split(" L ").map(xn=>xn.replace("M ","")).reverse(),yt=`M ${dt.join(" L ")} L ${Tt.join(" L ")} Z`,cn=Ue>1.01?"glass":"air";he.push({type:cn,path:yt,key:`gap-${Pe}`,refractiveIndex:Ue,surfaceId:xe.id})}}}return he},[I,it,be,ze,rt,ye]),jn=P.useMemo(()=>{if(!Ce?.length)return[];const he=z2(Ce),Pe=[];for(let xe=0;xe<Ce.length;xe++){const je=Ce[xe],Ue=he[xe]??0,ve=je.refractiveIndex??1,Ne=ln(Ue,je.radius,je.diameter??be);if(Ne&&Pe.push({type:"surface",path:Ne,key:`ghost-surf-${xe}`}),xe<Ce.length-1){const We=Ce[xe+1],qe=he[xe+1]??Ue+je.thickness,$e=ln(Ue,je.radius,je.diameter??be),dt=ln(qe,We.radius,We.diameter??be);if($e&&dt){const Tt=$e.split(" L ").map(Qr=>Qr.replace("M ","")),yt=dt.split(" L ").map(Qr=>Qr.replace("M ","")).reverse(),cn=`M ${Tt.join(" L ")} L ${yt.join(" L ")} Z`,xn=ve>1.01?"glass":"air";Pe.push({type:xn,path:cn,key:`ghost-gap-${xe}`})}}}return Pe},[Ce,be,ze,rt,ye]),pr=P.useMemo(()=>{const he=Be.thermalPowerThresholdW,Pe=t.laserPowerW??0,je=I.find(Ue=>Ue.type==="Glass")?.absorptionCoefficient??0;return Pe<=he||je<=0?null:Ot.find(Ue=>Ue.type==="glass"&&Ue.key==="gap-0")??null},[t.laserPowerW,I,Ot]),qn=P.useMemo(()=>{if(!se)return[];if(de?.rays?.length){const Pe=t.fieldAngles||[0],xe=Math.max(1,Pe.length),je=de.rayFieldIndices,Ue=Be.rayColors,ve=Math.max(1,Math.min(Ue.length,je?.length?Math.max(...je)+1:xe)),Ne=new Map;return de.rays.forEach((We,qe)=>{const $e=je&&je[qe]!=null?Math.min(je[qe],ve-1):Math.min(Math.floor(qe/Math.ceil(de.rays.length/ve)),ve-1),dt=Ue[Math.min($e,Ue.length-1)],Tt={points:We.map(([yt,cn])=>({x:yt,y:cn})),color:dt};Ne.has($e)||Ne.set($e,[]),Ne.get($e).push(Tt)}),Array.from(Ne.entries()).sort(([We],[qe])=>We-qe).map(([We,qe])=>({color:Ue[Math.min(We,Ue.length-1)],rays:qe}))}const he=r8(ie,Me,He,ge,Ye);return[{color:Be.rayColors[0],rays:he}]},[se,de,ie,Me,He,ge,Ye,t.fieldAngles]),Uo=qn.reduce((he,Pe)=>he+Pe.rays.length,0),Xr=de?.bestFocusZ,Yn=Xr!=null?Xr*ze+rt:null,xu=P.useMemo(()=>o8(de,I,be),[de,I,be]),Ra=P.useRef(null);P.useRef({last:0});const La=P.useRef(null),[Fa,$a]=P.useState(!1),[st,wi]=P.useState({isHovering:!1,mouseX:0,mouseY:0,cursorSvgX:0,cursorSvgY:0,scanSvgX:0,cursorZ:0,snappedSurfaceIndex:null});P.useEffect(()=>{const he=xe=>{xe.altKey&&$a(!0)},Pe=xe=>{xe.altKey||$a(!1)};return window.addEventListener("keydown",he),window.addEventListener("keyup",Pe),()=>{window.removeEventListener("keydown",he),window.removeEventListener("keyup",Pe)}},[]);const Si=P.useCallback(he=>{const Pe=Ra.current,xe=La.current;if(!Pe)return;let je,Ue;if(xe?.contentComponent){const $e=xe.contentComponent.getBoundingClientRect(),dt=re,Tt=fe,yt=Math.min($e.width/dt,$e.height/Tt),cn=dt*yt,xn=Tt*yt,Qr=($e.width-cn)/2,ll=($e.height-xn)/2;je=(he.clientX-$e.left-Qr)/yt,Ue=(he.clientY-$e.top-ll)/yt}else{const $e=Pe.getBoundingClientRect(),dt=re,Tt=fe,yt=Math.min($e.width/dt,$e.height/Tt),cn=dt*yt,xn=Tt*yt,Qr=($e.width-cn)/2,ll=($e.height-xn)/2;je=(he.clientX-$e.left-Qr)/yt,Ue=(he.clientY-$e.top-ll)/yt}let ve=je,Ne=null,We="None";if(!Fa){if(d){let $e=B2;for(let dt=0;dt<it.length;dt++){const Tt=it[dt]*ze+rt,yt=Math.abs(je-Tt);yt<$e&&($e=yt,ve=Tt,Ne=dt,We="Surface")}}if(We!=="Surface"&&u&&de?.bestFocusZ!=null){const $e=de.bestFocusZ*ze+rt;Math.abs(je-$e)<B2&&(ve=$e,We="Focus")}}const qe=(ve-rt)/ze;wi({isHovering:!0,mouseX:he.clientX,mouseY:he.clientY,cursorSvgX:je,cursorSvgY:Ue,scanSvgX:ve,cursorZ:qe,snappedSurfaceIndex:Ne})},[ze,rt,re,fe,it,de?.bestFocusZ,u,d,Fa]),bu=P.useCallback(()=>{wi(he=>({...he,isHovering:!1}))},[]),wu=P.useCallback(()=>{const he=de?.bestFocusZ;if(he==null||I.length<2)return;const Pe=I.reduce((ve,Ne)=>ve+(Ne.thickness??0),0),xe=I[I.length-1],je=Pe-(xe?.thickness??0),Ue=Math.max(.1,he-je);n(ve=>({...ve,surfaces:ve.surfaces.map((Ne,We)=>We===ve.surfaces.length-1?{...Ne,thickness:Ue}:Ne),traceResult:null,traceError:null}))},[de?.bestFocusZ,I,n]),Su=st.isHovering?W2(de?.metricsSweep??[],st.cursorZ):null,al=Xr??de?.focusZ??On*.8,Pu=s?W2(de?.metricsSweep??[],al):null,sl=st.isHovering||s,Xn=st.isHovering?Su:Pu,Zr=st.isHovering?st.cursorZ:al,io=s&&!st.isHovering,Pi=P.useMemo(()=>{const he=t.wavelengths?.[0]??587.6,Pe=t.pulseWidthFs??100;return J6(I.map(xe=>({thickness:xe.thickness,material:xe.material,type:xe.type,refractiveIndex:xe.refractiveIndex})),he,Pe)},[I,t.wavelengths,t.pulseWidthFs]);return y.jsxs("div",{className:`relative ${e}`,children:[y.jsxs("div",{className:"absolute top-4 left-4 z-10 flex flex-wrap items-center gap-4 glass-card px-4 py-2 rounded-lg",children:[y.jsxs(Ze.button,{"data-testid":"trace-button",whileHover:{scale:1.05},whileTap:{scale:.98},onClick:ee,disabled:v,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all disabled:opacity-70",style:{background:"linear-gradient(135deg, #22D3EE 0%, #0891b2 100%)",color:"#0B1120",boxShadow:"0 0 24px rgba(34, 211, 238, 0.5)"},children:[v?y.jsx(ks,{className:"w-5 h-5 animate-spin",strokeWidth:2}):y.jsx(R3,{className:"w-5 h-5",fill:"currentColor",strokeWidth:0}),v?"Tracing":"Trace"]}),y.jsxs(Ze.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>R(),disabled:w,title:"Run Monte Carlo (100 iterations with tolerance jitter)  set R, T, Tilt in System Editor",className:"flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-cyan-electric/50 hover:bg-cyan-electric/15 text-cyan-electric",children:[w?y.jsx(ks,{className:"w-4 h-4 animate-spin",strokeWidth:2}):y.jsx(lO,{className:"w-4 h-4",strokeWidth:2}),w?"Monte Carlo":"Monte Carlo"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-slate-400 text-sm whitespace-nowrap",children:"Rays"}),y.jsx("input",{type:"range",min:Be.rayCount.min,max:Be.rayCount.max,value:ie,onChange:he=>$(Number(he.target.value)),className:"w-28 h-2 rounded-full accent-cyan-electric bg-white/10 cursor-pointer"}),y.jsx("span",{className:"text-cyan-electric text-sm font-mono w-6",children:ie})]}),se&&y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-slate-300",children:[y.jsx("input",{type:"checkbox",checked:_,onChange:he=>T(he.target.checked),className:"rounded accent-cyan-electric"}),"Caustic Envelope"]}),y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-slate-300",children:[y.jsx("input",{type:"checkbox",checked:V,onChange:he=>Y(he.target.checked),className:"rounded accent-cyan-electric"}),y.jsx(x3,{className:"w-4 h-4 text-slate-400",strokeWidth:2}),"Show LCA Map"]}),se&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-400 text-sm whitespace-nowrap",children:"Field"}),y.jsx("div",{className:"flex items-center gap-1.5",children:(t.fieldAngles||[0]).slice(0,Be.maxFieldAngles).map((he,Pe)=>{const xe=Be.rayColors[Math.min(Pe,Be.rayColors.length-1)],je=U===Pe;return y.jsx("button",{type:"button",onClick:()=>ue(U===Pe?null:Pe),title:U===Pe?"Show all fields":`Show only field ${Pe}${(t.fieldAngles||[])[Pe]!=null?` (${(t.fieldAngles||[])[Pe]})`:""}`,className:`w-3 h-3 rounded-full transition-all ring-offset-2 ring-offset-slate-900 ${je?"ring-2 ring-white scale-125":"ring-0 hover:scale-110 opacity-80 hover:opacity-100"}`,style:{backgroundColor:xe,boxShadow:je?`0 0 6px ${xe}`:void 0},"aria-label":`Filter to field ${Pe}`,"aria-pressed":je},Pe)})})]})]}),X&&y.jsxs("div",{className:"absolute top-4 right-4 z-20 glass-card px-4 py-3 rounded-lg text-red-400 text-sm max-w-sm border border-red-500/30 bg-slate-900/95",children:[y.jsx("p",{className:"font-medium text-red-300 mb-1",children:"Trace error"}),y.jsx("p",{className:"text-red-200/90",children:X}),y.jsx("button",{type:"button",onClick:()=>n(he=>({...he,traceError:null})),className:"mt-2 text-xs text-slate-400 hover:text-slate-200 underline",children:"Dismiss"})]}),y.jsx(zi,{children:v&&y.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center pointer-events-none","aria-live":"polite",children:y.jsxs(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"glass-card px-4 py-2 rounded-lg flex items-center gap-2 text-cyan-electric/90 text-sm",children:[y.jsx(ks,{className:"w-4 h-4 animate-spin",strokeWidth:2}),y.jsx("span",{children:"Calculating"})]},"calculating")})}),y.jsxs("div",{className:"relative overflow-hidden rounded-xl",style:{backgroundColor:"#0B1120",border:"1px solid rgba(34, 211, 238, 0.2)"},onMouseEnter:L,onMouseLeave:W,children:[V&&y.jsx(H6,{systemState:t,onSystemStateChange:n,pulseOptimizeTrigger:K}),y.jsx(R6,{initialScale:1,minScale:.1,maxScale:20,centerOnInit:!0,limitToBounds:!1,smooth:!0,wheel:{step:.15,smoothStep:.002,wheelDisabled:!1,touchPadDisabled:!1},panning:{disabled:!1,velocityDisabled:!0,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!1,activationKeys:[" "],excluded:[]},onPanningStart:()=>N(!0),onPanningStop:()=>N(!1),zoomAnimation:{animationTime:200,animationType:"easeOut"},doubleClick:{disabled:!0},children:({zoomIn:he,zoomOut:Pe,centerView:xe,instance:je})=>{La.current=je?{transformState:je.transformState,contentComponent:je.contentComponent}:null;const Ue=()=>{const ve=je?.wrapperComponent;if(!ve)return;const Ne=ve.offsetWidth,We=ve.offsetHeight,qe=.1,$e=xu.zRange*ze,dt=2*xu.yExtent*ze,Tt=Math.min(Ne*(1-2*qe)/$e,We*(1-2*qe)/dt);xe(Tt,450,"easeOutCubic")};return y.jsxs(y.Fragment,{children:[y.jsx($6,{wrapperStyle:{width:"100%",height:"100%",minHeight:"320px",cursor:E?"grabbing":D?"grab":"default"},contentStyle:{width:"100%",height:"100%",minHeight:"320px"},children:y.jsxs("svg",{ref:Ra,viewBox:`0 0 ${re} ${fe}`,className:"w-full h-full min-h-[320px] block",preserveAspectRatio:"xMidYMid meet",onMouseEnter:Si,onMouseMove:Si,onMouseLeave:bu,onDoubleClick:wu,children:[y.jsxs("defs",{children:[y.jsx("pattern",{id:"infinite-grid",width:Ld,height:Ld,patternUnits:"userSpaceOnUse",children:y.jsx("path",{d:`M ${Ld} 0 L 0 0 0 ${Ld}`,fill:"none",stroke:"#22D3EE",strokeWidth:"0.5",opacity:"0.12"})}),y.jsxs("filter",{id:"lens-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[y.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"blur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("filter",{id:"glow-strong",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[y.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"blur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("filter",{id:"diamond-glow",x:"-100%",y:"-100%",width:"300%",height:"300%",children:[y.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"blur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("linearGradient",{id:"lens-fill",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[y.jsx("stop",{offset:"0%",stopColor:"#22D3EE",stopOpacity:"0.15"}),y.jsx("stop",{offset:"50%",stopColor:"#22D3EE",stopOpacity:"0.25"}),y.jsx("stop",{offset:"100%",stopColor:"#22D3EE",stopOpacity:"0.15"})]}),y.jsxs("linearGradient",{id:"caustic-envelope-fill",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[y.jsx("stop",{offset:"0%",stopColor:"#22D3EE",stopOpacity:"0.08"}),y.jsx("stop",{offset:"50%",stopColor:"#22D3EE",stopOpacity:"0.18"}),y.jsx("stop",{offset:"100%",stopColor:"#22D3EE",stopOpacity:"0.08"})]}),y.jsxs("radialGradient",{id:"thermal-heat-map",cx:"50%",cy:"50%",r:"50%",gradientUnits:"objectBoundingBox",children:[y.jsx("stop",{offset:"0%",stopColor:"#f97316",stopOpacity:"0.9"}),y.jsx("stop",{offset:"40%",stopColor:"#ea580c",stopOpacity:"0.5"}),y.jsx("stop",{offset:"70%",stopColor:"#dc2626",stopOpacity:"0.2"}),y.jsx("stop",{offset:"100%",stopColor:"#7f1d1d",stopOpacity:"0"})]})]}),y.jsx("rect",{x:-Fd,y:-Fd,width:Fd*2,height:Fd*2,fill:"url(#infinite-grid)"}),pt&&y.jsx("path",{d:pt,fill:"url(#caustic-envelope-fill)",stroke:"rgba(34, 211, 238, 0.4)",strokeWidth:"0.5",opacity:"0.6",pointerEvents:"none"}),at&&y.jsx("path",{d:at,fill:"rgba(34, 211, 238, 0.15)",stroke:"rgba(34, 211, 238, 0.5)",strokeWidth:"1",opacity:"0.9",pointerEvents:"none"}),y.jsx("g",{filter:"url(#lens-glow)",children:Ot.map(ve=>{const Ne=r===ve.surfaceId,We=qe=>{qe.stopPropagation(),i(ve.surfaceId)};return ve.type==="glass"?y.jsx("path",{d:ve.path,fill:Ne?"rgba(34, 211, 238, 0.3)":"rgba(34, 211, 238, 0.2)",stroke:"#22D3EE",strokeWidth:Ne?2:1.5,strokeOpacity:Ne?1:.8,strokeDasharray:Ne?"4 2":void 0,style:{filter:Ne?"drop-shadow(0 0 12px rgba(34, 211, 238, 0.8))":"drop-shadow(0 0 6px rgba(34, 211, 238, 0.4))",cursor:"pointer"},onClick:We},ve.key):ve.type==="air"?y.jsx("path",{d:ve.path,fill:Ne?"rgba(255, 255, 255, 0.08)":"rgba(255, 255, 255, 0.03)",stroke:Ne?"#22D3EE":"rgba(148, 163, 184, 0.4)",strokeWidth:Ne?1.5:1,strokeOpacity:Ne?.9:.6,strokeDasharray:Ne?"4 2":void 0,style:{cursor:"pointer"},onClick:We},ve.key):y.jsx("path",{d:ve.path,fill:"none",stroke:"#22D3EE",strokeWidth:Ne?2:1.5,strokeOpacity:Ne?1:.8,strokeDasharray:Ne?"4 2":void 0,style:{filter:Ne?"drop-shadow(0 0 10px rgba(34, 211, 238, 0.9))":void 0,cursor:"pointer"},onClick:We},ve.key)})}),jn.length>0&&y.jsx("g",{opacity:.4,pointerEvents:"none",children:jn.map(ve=>y.jsx("path",{d:ve.path,fill:ve.type==="glass"?"rgba(34, 211, 238, 0.25)":ve.type==="air"?"rgba(255,255,255,0.05)":"none",stroke:"#22D3EE",strokeWidth:1,strokeOpacity:.7},ve.key))}),pr&&y.jsx("path",{d:pr.path,fill:"url(#thermal-heat-map)",stroke:"none",opacity:.6,pointerEvents:"none"}),qn.map((ve,Ne)=>({group:ve,origIdx:Ne})).filter(({origIdx:ve})=>U===null||ve===U).map(({group:ve,origIdx:Ne})=>y.jsx("g",{stroke:ve.color,strokeWidth:"0.5",strokeOpacity:"0.8",fill:"none",style:{filter:`drop-shadow(0 0 1px ${ve.color}40)`},children:ve.rays.map((We,qe)=>{const $e=We.points,Tt=($e[0]?.x<=$e[$e.length-1]?.x?$e:[...$e].reverse()).map((cn,xn)=>`${xn===0?"M":"L"} ${Ke(cn.x,cn.y)}`).join(" "),yt=qn.slice(0,Ne).reduce((cn,xn)=>cn+xn.rays.length,0)+qe;return y.jsx(Ze.path,{d:Tt,fill:"none",initial:{pathLength:0,opacity:0},animate:v?{pathLength:1,opacity:[.5,1,.5]}:{pathLength:1,opacity:.8},transition:v?{opacity:{duration:.8,repeat:1/0,ease:"easeInOut"}}:{duration:.35,delay:yt*.012,ease:"easeOut"}},`field-${Ne}-ray-${qe}-${$e[0]?.x??0}-${$e[0]?.y??0}`)})},Ne)),C?.spots?.length&&Yn!=null&&(()=>{const Ne=Yn+56,We=ye,{dots:qe}=e8(C.spots,{centerX:Ne,centerY:We,scale:60,dotRadius:1.2,inSpecOpacity:.5,outlierOpacity:.6});return y.jsxs("g",{children:[y.jsx("defs",{children:y.jsx("clipPath",{id:"spot-diagram-clip",children:y.jsx("rect",{x:Yn+12,y:ye-44,width:88,height:88,rx:4})})}),y.jsx("rect",{x:Yn+12,y:ye-44,width:88,height:88,rx:4,fill:"rgba(15, 23, 42, 0.85)",stroke:"rgba(34, 211, 238, 0.5)",strokeWidth:"1"}),y.jsx("g",{clipPath:"url(#spot-diagram-clip)",children:qe}),y.jsx("text",{x:Yn+56,y:ye-32,textAnchor:"middle",fill:"#94a3b8",fontSize:9,children:`Spot (n=${C.numValid??0})`}),y.jsx("text",{x:Yn+56,y:ye+38,textAnchor:"middle",fill:"#22D3EE",fontSize:9,children:`RMS ${((C.rmsSpread??0)*1e3).toFixed(2)} m`})]},"monte-carlo-spot")})(),y.jsx(zi,{children:l&&Yn!=null&&se&&Uo>0&&y.jsx(Ze.g,{initial:{x:Yn,y:ye,opacity:0,scale:0},animate:{x:Yn,y:ye,opacity:1,scale:1},transition:{duration:.25,ease:"easeOut"},exit:{x:Yn,y:ye,opacity:0,scale:0,transition:{duration:.2}},style:{transformBox:"fill-box",transformOrigin:"center"},children:y.jsx("polygon",{points:"0,-6 6,0 0,6 -6,0",fill:t.focusMode==="Balanced"?"#F59E0B":"white",stroke:t.focusMode==="Balanced"?"rgba(245,158,11,0.95)":"rgba(255,255,255,0.9)",strokeWidth:"1",filter:"url(#diamond-glow)"})},"focus-diamond")}),st.isHovering&&y.jsxs(y.Fragment,{children:[y.jsx(Ze.g,{x:st.scanSvgX,initial:!1,animate:st.snappedSurfaceIndex!=null?{x:[st.scanSvgX,st.scanSvgX+1,st.scanSvgX-1,st.scanSvgX],transition:{duration:.15}}:{x:st.scanSvgX},children:y.jsx("line",{x1:0,y1:0,x2:0,y2:fe,stroke:st.snappedSurfaceIndex!=null?"#ffffff":"#22D3EE",strokeWidth:"1",strokeDasharray:"4 4",strokeOpacity:"0.8",pointerEvents:"none"})},st.snappedSurfaceIndex!=null?`snapped-${st.snappedSurfaceIndex}`:"free"),y.jsx("circle",{cx:st.cursorSvgX,cy:st.cursorSvgY,r:"8",fill:"none",stroke:"#f97316",strokeWidth:"2",opacity:"0.9",pointerEvents:"none"})]})]})}),y.jsxs(Ze.div,{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 flex items-center gap-2 glass-card px-3 py-2 rounded-lg",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:400,damping:25},children:[y.jsx(Ze.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(),className:"flex items-center justify-center w-9 h-9 rounded-lg transition-colors hover:bg-white/10","aria-label":"Zoom In",children:y.jsx(H3,{className:"w-5 h-5 text-cyan-electric",strokeWidth:2})}),y.jsx(Ze.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Pe(),className:"flex items-center justify-center w-9 h-9 rounded-lg transition-colors hover:bg-white/10","aria-label":"Zoom Out",children:y.jsx(G3,{className:"w-5 h-5 text-cyan-electric",strokeWidth:2})}),y.jsxs(Ze.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ue,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-cyan-electric transition-colors hover:bg-white/10","aria-label":"Reset View",children:[y.jsx(_3,{className:"w-4 h-4",strokeWidth:2}),"Reset View"]})]}),C?.spots?.length&&y.jsxs(Ze.div,{className:"absolute bottom-4 right-4 z-[5] px-3 py-2 rounded-lg text-xs pointer-events-none bg-slate-900/70 backdrop-blur-md border border-cyan-electric/30",initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.2},children:[y.jsx("div",{className:"font-medium text-cyan-electric/90 mb-1.5",children:"Monte Carlo Yield Map"}),y.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-electric/60"}),"Within 1"]}),y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500/80"}),"Outliers"]})]})]}),se&&(t.fieldAngles?.length??0)>0&&y.jsx(Ze.div,{className:"absolute top-3 right-3 z-[5] px-3 py-2 rounded-lg pointer-events-none bg-slate-900/40 backdrop-blur-md border border-white/10 shadow-lg",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:y.jsx("div",{className:"flex flex-col gap-1.5",children:(t.fieldAngles||[0]).slice(0,Be.maxFieldAngles).map((ve,Ne)=>{const We=Be.rayColors[Math.min(Ne,Be.rayColors.length-1)];return y.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-300",children:[y.jsx("span",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:We,boxShadow:`0 0 6px ${We}60`}}),y.jsxs("span",{children:[Number(ve).toFixed(1)," Field"]})]},Ne)})})}),y.jsxs(Ze.div,{className:"absolute bottom-0 left-0 z-[5] ml-5 mb-5 px-4 py-2 rounded-full text-xs text-slate-300 pointer-events-none bg-slate-900/50 backdrop-blur-[8px] border border-white/10",initial:{opacity:0,x:-20},animate:{opacity:Q?1:0,x:Q?0:-20},transition:{duration:.25,ease:"easeOut"},children:["Hold ",y.jsx("kbd",{className:`px-1.5 py-0.5 rounded font-mono text-[10px] transition-all duration-150 ${D?"bg-cyan-500/30 text-cyan-200 shadow-[0_0_8px_rgba(34,211,238,0.5),0_1px_0_0_rgba(255,255,255,0.15)]":"bg-slate-800/90 text-slate-200 shadow-[0_1px_0_0_rgba(255,255,255,0.1),inset_0_-1px_0_0_rgba(0,0,0,0.3)]"}`,children:"Space"})," + Drag to Pan"]}),sl&&y.jsxs(Ze.div,{className:`z-50 rounded-lg px-3 py-2 backdrop-blur-[12px] bg-slate-900/70 border ${st.snappedSurfaceIndex!=null?"border-white/60":"border-cyan-electric/50"} ${io?"absolute bottom-20 left-4":"fixed"}`,style:{fontFamily:"'JetBrains Mono', 'SF Mono', monospace",...io?{}:{left:st.mouseX+16,top:st.mouseY+16}},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:200,damping:20},exit:{opacity:0,scale:.95},children:[y.jsxs("div",{className:"flex gap-1 mb-2 border-b border-white/10 pb-2",style:{pointerEvents:io?"auto":"none"},children:[y.jsx("button",{type:"button",onClick:()=>we("geometry"),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${oe==="geometry"?"bg-cyan-electric/40 text-cyan-electric":"text-slate-500 hover:text-slate-300"}`,children:"Geometry"}),y.jsx("button",{type:"button",onClick:()=>we("ultrafast"),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${oe==="ultrafast"?"bg-cyan-electric/40 text-cyan-electric":"text-slate-500 hover:text-slate-300"}`,children:"Ultrafast"})]}),oe==="ultrafast"?y.jsxs("div",{className:"grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-xs pointer-events-none",children:[y.jsx(_i,{label:"GDD:",value:`${Pi.gddFs2.toFixed(2)} fs`,metricId:"gdd",highlightedMetric:o,labelColor:"#22D3EE"}),y.jsx(_i,{label:"TOD:",value:`${Pi.todFs3.toFixed(2)} fs`,metricId:"tod",highlightedMetric:o,labelColor:"#22D3EE"}),y.jsxs("div",{className:"col-span-2 flex justify-between gap-2 border-t border-white/10 mt-1 pt-1",children:[y.jsx("span",{className:"text-slate-400",children:"Input Pulse:"}),y.jsxs("span",{className:"text-slate-300 tabular-nums",children:[t.pulseWidthFs??100," fs"]})]}),y.jsxs("div",{className:"col-span-2 flex justify-between gap-2",children:[y.jsx("span",{className:"text-slate-400 font-medium",children:"Predicted Exit Pulse:"}),y.jsxs("span",{className:"text-cyan-electric tabular-nums font-medium",children:[Pi.predictedExitPulseWidthFs.toFixed(2)," fs"]})]})]}):y.jsxs(y.Fragment,{children:[st.snappedSurfaceIndex!=null&&!io&&(()=>{const ve=st.snappedSurfaceIndex,Ne=ve+1,We=I[ve],qe=We?We.description||We.material||(We.type==="Glass"?"Lens":"Air"):`Surface ${Ne}`;return y.jsxs("div",{className:"text-[10px] font-medium text-white/90 mb-1.5 -mt-0.5",children:["Surface ",Ne,": ",qe]})})(),y.jsxs("div",{className:"grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-xs",children:[y.jsx(_i,{label:"Z:",value:`${Zr.toFixed(2)} mm`,metricId:"z",highlightedMetric:o}),Xn?.rmsPerField&&Xn.rmsPerField.length>0?y.jsxs(y.Fragment,{children:[Xn.rmsPerField.map((ve,Ne)=>{const We=["Cyan RMS","Orange RMS","Green RMS"],qe=["#22D3EE","#F97316","#22C55E"],$e=We[Math.min(Ne,We.length-1)],dt=qe[Math.min(Ne,qe.length-1)];return y.jsx(_i,{label:`${$e}:`,value:ve!=null?`${(ve*1e3).toFixed(2)} m`:"",metricId:"rms",highlightedMetric:o,labelColor:dt},Ne)}),(()=>{const ve=Xn.rmsPerField.filter(We=>We!=null),Ne=ve.length>0?Math.sqrt(ve.reduce((We,qe)=>We+qe*qe,0)/ve.length):null;return y.jsxs("div",{className:"col-span-2 flex justify-between gap-2 border-t border-white/10 mt-1 pt-1",children:[y.jsx("span",{className:"text-slate-400 font-medium",children:"System Avg RMS:"}),y.jsx("span",{className:"text-amber-400 tabular-nums font-medium",children:Ne!=null?`${(Ne*1e3).toFixed(2)} m`:""})]})})()]}):y.jsx(_i,{label:"RMS:",value:Xn?.rmsRadius!=null?`${(Xn.rmsRadius*1e3).toFixed(2)} m`:"",metricId:"rms",highlightedMetric:o}),y.jsx(_i,{label:"Width:",value:Xn?.beamWidth!=null?`${Xn.beamWidth.toFixed(3)} mm`:"",metricId:"beamWidth",highlightedMetric:o}),y.jsx(_i,{label:"CRA:",value:Xn?.chiefRayAngle!=null?`${Xn.chiefRayAngle.toFixed(2)}`:"",metricId:"cra",highlightedMetric:o}),Xr!=null&&y.jsxs("div",{className:"col-span-2 flex gap-2",children:[y.jsx("span",{className:"text-slate-400",children:"Dist to Best Focus:"}),y.jsxs("span",{className:"text-cyan-electric tabular-nums",children:[Math.abs(Zr-Xr).toFixed(2)," mm"]})]}),de?.gaussianBeam&&Xr!=null&&y.jsxs(y.Fragment,{children:[y.jsx(_i,{label:"Spot Size (w) at focus:",value:`${(de.gaussianBeam.spotSizeAtFocus*1e3).toFixed(2)} m`,metricId:"spotSize",highlightedMetric:o,labelColor:"#22D3EE"}),y.jsx(_i,{label:"Rayleigh (z_R) at focus:",value:`${de.gaussianBeam.rayleighRange.toFixed(2)} mm`,metricId:"rayleigh",highlightedMetric:o,labelColor:"#22D3EE"})]}),de?.metricsSweep?.length&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"col-span-2 mt-1.5 pt-1.5 border-t border-white/10",children:[y.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"RMS vs Z"}),y.jsx(n8,{sweep:de.metricsSweep,currentZ:Zr,width:120,height:40})]}),y.jsxs("div",{className:"col-span-2 mt-1 pt-1 border-t border-white/10",children:[y.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Through-Focus (10 mm)  gold line = diamond minimum"}),y.jsx(t8,{sweep:de.metricsSweep,cursorZ:Zr,diamondZ:Xr??null,width:140,height:44})]})]})]})]})]})]})}})]})]})}function jg({systemState:e,onSystemStateChange:t,selectedSurfaceId:n,onSelectSurface:r,highlightedMetric:i=null,showPersistentHud:o=!1,showBestFocus:s=!0,snapToFocus:l=!0,snapToSurface:u=!0,runSampleAnalysisRef:d,pulseOptimizeRef:f,onMonteCarloSensitivity:p}){return y.jsx("div",{className:"h-full min-h-[500px] w-full",children:y.jsx(l8,{className:"h-full w-full",systemState:e,onSystemStateChange:t,selectedSurfaceId:n,onSelectSurface:r,highlightedMetric:i,showPersistentHud:o,showBestFocus:s,snapToFocus:l,snapToSurface:u,runSampleAnalysisRef:d,pulseOptimizeRef:f,onMonteCarloSensitivity:p})})}var Jc=iO();const Ms=Yi(Jc);function Jt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var c8=typeof Symbol=="function"&&Symbol.observable||"@@observable",V2=c8,Dg=()=>Math.random().toString(36).substring(7).split("").join("."),u8={INIT:`@@redux/INIT${Dg()}`,REPLACE:`@@redux/REPLACE${Dg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dg()}`},Ef=u8;function Mx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Ix(e,t,n){if(typeof e!="function")throw new Error(Jt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Jt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Jt(1));return n(Ix)(e,t)}let r=e,i=t,o=new Map,s=o,l=0,u=!1;function d(){s===o&&(s=new Map,o.forEach((b,C)=>{s.set(C,b)}))}function f(){if(u)throw new Error(Jt(3));return i}function p(b){if(typeof b!="function")throw new Error(Jt(4));if(u)throw new Error(Jt(5));let C=!0;d();const k=l++;return s.set(k,b),function(){if(C){if(u)throw new Error(Jt(6));C=!1,d(),s.delete(k),o=null}}}function m(b){if(!Mx(b))throw new Error(Jt(7));if(typeof b.type>"u")throw new Error(Jt(8));if(typeof b.type!="string")throw new Error(Jt(17));if(u)throw new Error(Jt(9));try{u=!0,i=r(i,b)}finally{u=!1}return(o=s).forEach(k=>{k()}),b}function v(b){if(typeof b!="function")throw new Error(Jt(10));r=b,m({type:Ef.REPLACE})}function x(){const b=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Jt(11));function k(){const N=C;N.next&&N.next(f())}return k(),{unsubscribe:b(k)}},[V2](){return this}}}return m({type:Ef.INIT}),{dispatch:m,subscribe:p,getState:f,replaceReducer:v,[V2]:x}}function d8(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ef.INIT})>"u")throw new Error(Jt(12));if(typeof n(void 0,{type:Ef.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jt(13))})}function iD(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{d8(n)}catch(o){i=o}return function(s={},l){if(i)throw i;let u=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],m=n[p],v=s[p],x=m(v,l);if(typeof x>"u")throw l&&l.type,new Error(Jt(14));d[p]=x,u=u||x!==v}return u=u||r.length!==Object.keys(s).length,u?d:s}}function U2(e,t){return function(...n){return t(e.apply(this,n))}}function H2(e,t){if(typeof e=="function")return U2(e,t);if(typeof e!="object"||e===null)throw new Error(Jt(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=U2(i,t))}return n}function Pc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function oD(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Jt(15))};const s={getState:i.getState,dispatch:(u,...d)=>o(u,...d)},l=e.map(u=>u(s));return o=Pc(...l)(i.dispatch),{...i,dispatch:o}}}function aD(e){return Mx(e)&&"type"in e&&typeof e.type=="string"}var _g={exports:{}},Tg={};var G2;function f8(){if(G2)return Tg;G2=1;var e=Vs();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,l=e.useDebugValue;return Tg.useSyncExternalStoreWithSelector=function(u,d,f,p,m){var v=i(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=s(function(){function b(D){if(!C){if(C=!0,k=D,D=p(D),m!==void 0&&x.hasValue){var O=x.value;if(m(O,D))return E=O}return E=D}if(O=E,n(k,D))return O;var _=p(D);return m!==void 0&&m(O,_)?(k=D,O):(k=D,E=_)}var C=!1,k,E,N=f===void 0?null:f;return[function(){return b(d())},N===null?void 0:function(){return b(N())}]},[d,f,p,m]);var w=r(u,v[0],v[1]);return o(function(){x.hasValue=!0,x.value=w},[w]),l(w),w},Tg}var K2;function p8(){return K2||(K2=1,_g.exports=f8()),_g.exports}p8();var h8=P.version.startsWith("19"),m8=Symbol.for(h8?"react.transitional.element":"react.element"),g8=Symbol.for("react.portal"),v8=Symbol.for("react.fragment"),y8=Symbol.for("react.strict_mode"),x8=Symbol.for("react.profiler"),b8=Symbol.for("react.consumer"),w8=Symbol.for("react.context"),sD=Symbol.for("react.forward_ref"),S8=Symbol.for("react.suspense"),P8=Symbol.for("react.suspense_list"),Rx=Symbol.for("react.memo"),C8=Symbol.for("react.lazy"),A8=sD,k8=Rx;function E8(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case m8:switch(e=e.type,e){case v8:case x8:case y8:case S8:case P8:return e;default:switch(e=e&&e.$$typeof,e){case w8:case sD:case C8:case Rx:return e;case b8:return e;default:return t}}case g8:return t}}}function N8(e){return E8(e)===Rx}function O8(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let l=!1,u,d,f,p,m;function v(k,E){return u=k,d=E,f=e(u,d),p=t(r,d),m=n(f,p,d),l=!0,m}function x(){return f=e(u,d),t.dependsOnOwnProps&&(p=t(r,d)),m=n(f,p,d),m}function w(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(p=t(r,d)),m=n(f,p,d),m}function b(){const k=e(u,d),E=!s(k,f);return f=k,E&&(m=n(f,p,d)),m}function C(k,E){const N=!o(E,d),D=!i(k,u,E,d);return u=k,d=E,N&&D?x():N?w():D?b():m}return function(E,N){return l?C(E,N):v(E,N)}}function j8(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const o=t(e,i),s=n(e,i),l=r(e,i);return O8(o,s,l,e,i)}function D8(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function Hy(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function q2(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function lD(e,t){return function(r,{displayName:i}){const o=function(l,u){return o.dependsOnOwnProps?o.mapToProps(l,u):o.mapToProps(l,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(l,u){o.mapToProps=e,o.dependsOnOwnProps=q2(e);let d=o(l,u);return typeof d=="function"&&(o.mapToProps=d,o.dependsOnOwnProps=q2(d),d=o(l,u)),d},o}}function Lx(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function _8(e){return e&&typeof e=="object"?Hy(t=>D8(e,t)):e?typeof e=="function"?lD(e):Lx(e,"mapDispatchToProps"):Hy(t=>({dispatch:t}))}function T8(e){return e?typeof e=="function"?lD(e):Lx(e,"mapStateToProps"):Hy(()=>({}))}function M8(e,t,n){return{...n,...e,...t}}function I8(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(u,d,f){const p=e(u,d,f);return o?i(p,s)||(s=p):(o=!0,s=p),s}}}function R8(e){return e?typeof e=="function"?I8(e):Lx(e,"mergeProps"):()=>M8}function L8(e){e()}function F8(){let e=null,t=null;return{clear(){e=null,t=null},notify(){L8(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Y2={notify(){},get:()=>[]};function cD(e,t){let n,r=Y2,i=0,o=!1;function s(w){f();const b=r.subscribe(w);let C=!1;return()=>{C||(C=!0,b(),p())}}function l(){r.notify()}function u(){x.onStateChange&&x.onStateChange()}function d(){return o}function f(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=F8())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Y2)}function m(){o||(o=!0,f())}function v(){o&&(o=!1,p())}const x={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:m,tryUnsubscribe:v,getListeners:()=>r};return x}var $8=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B8=$8(),z8=()=>typeof navigator<"u"&&navigator.product==="ReactNative",W8=z8(),V8=()=>B8||W8?P.useLayoutEffect:P.useEffect,Nf=V8();function X2(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cf(e,t){if(X2(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!X2(e[n[i]],t[n[i]]))return!1;return!0}var U8={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H8={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},G8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},K8={[A8]:G8,[k8]:uD};function Z2(e){return N8(e)?uD:K8[e.$$typeof]||U8}var q8=Object.defineProperty,Y8=Object.getOwnPropertyNames,Q2=Object.getOwnPropertySymbols,X8=Object.getOwnPropertyDescriptor,Z8=Object.getPrototypeOf,J2=Object.prototype;function Gy(e,t){if(typeof t!="string"){if(J2){const o=Z8(t);o&&o!==J2&&Gy(e,o)}let n=Y8(t);Q2&&(n=n.concat(Q2(t)));const r=Z2(e),i=Z2(t);for(let o=0;o<n.length;++o){const s=n[o];if(!H8[s]&&!(i&&i[s])&&!(r&&r[s])){const l=X8(t,s);try{q8(e,s,l)}catch{}}}}return e}var Q8=Symbol.for("react-redux-context"),J8=typeof globalThis<"u"?globalThis:{};function eW(){if(!P.createContext)return{};const e=J8[Q8]??=new Map;let t=e.get(P.createContext);return t||(t=P.createContext(null),e.set(P.createContext,t)),t}var dD=eW(),tW=[null,null];function nW(e,t,n){Nf(()=>e(...t),n)}function rW(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function iW(e,t,n,r,i,o,s,l,u,d,f){if(!e)return()=>{};let p=!1,m=null;const v=()=>{if(p||!l.current)return;const w=t.getState();let b,C;try{b=r(w,i.current)}catch(k){C=k,m=k}C||(m=null),b===o.current?s.current||d():(o.current=b,u.current=b,s.current=!0,f())};return n.onStateChange=v,n.trySubscribe(),v(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}function oW(e,t){return e===t}function aW(e,t,n,{pure:r,areStatesEqual:i=oW,areOwnPropsEqual:o=cf,areStatePropsEqual:s=cf,areMergedPropsEqual:l=cf,forwardRef:u=!1,context:d=dD}={}){const f=d,p=T8(e),m=_8(t),v=R8(n),x=!!e;return b=>{const C=b.displayName||b.name||"Component",k=`Connect(${C})`,E={shouldHandleStateChanges:x,displayName:k,wrappedComponentName:C,WrappedComponent:b,initMapStateToProps:p,initMapDispatchToProps:m,initMergeProps:v,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:l};function N(_){const[T,V,Y]=P.useMemo(()=>{const{reactReduxForwardedRef:I,...Ce}=_;return[_.context,I,Ce]},[_]),K=P.useMemo(()=>{let I=f;return T?.Consumer,I},[T,f]),B=P.useContext(K),U=!!_.store&&!!_.store.getState&&!!_.store.dispatch,ue=!!B&&!!B.store,oe=U?_.store:B.store,we=ue?B.getServerState:oe.getState,Q=P.useMemo(()=>j8(oe.dispatch,E),[oe]),[G,ne]=P.useMemo(()=>{if(!x)return tW;const I=cD(oe,U?void 0:B.subscription),Ce=I.notifyNestedSubs.bind(I);return[I,Ce]},[oe,U,B]),te=P.useMemo(()=>U?B:{...B,subscription:G},[U,B,G]),L=P.useRef(void 0),W=P.useRef(Y),ie=P.useRef(void 0),se=P.useRef(!1),de=P.useRef(!1),X=P.useRef(void 0);Nf(()=>(de.current=!0,()=>{de.current=!1}),[]);const $=P.useMemo(()=>()=>ie.current&&Y===W.current?ie.current:Q(oe.getState(),Y),[oe,Y]),ee=P.useMemo(()=>Ce=>G?iW(x,oe,G,Q,W,L,se,de,ie,ne,Ce):()=>{},[G]);nW(rW,[W,L,se,Y,ie,ne]);let R;try{R=P.useSyncExternalStore(ee,$,we?()=>Q(we(),Y):$)}catch(I){throw X.current&&(I.message+=`
The error may be correlated with this previous error:
${X.current.stack}

`),I}Nf(()=>{X.current=void 0,ie.current=void 0,L.current=R});const re=P.useMemo(()=>P.createElement(b,{...R,ref:V}),[V,b,R]);return P.useMemo(()=>x?P.createElement(K.Provider,{value:te},re):re,[K,re,te])}const O=P.memo(N);if(O.WrappedComponent=b,O.displayName=N.displayName=k,u){const T=P.forwardRef(function(Y,K){return P.createElement(O,{...Y,reactReduxForwardedRef:K})});return T.displayName=k,T.WrappedComponent=b,Gy(T,b)}return Gy(O,b)}}var fD=aW;function sW(e){const{children:t,context:n,serverState:r,store:i}=e,o=P.useMemo(()=>{const u=cD(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=P.useMemo(()=>i.getState(),[i]);Nf(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,s]);const l=n||dD;return P.createElement(l.Provider,{value:o},t)}var pD=sW,lW="Invariant failed";function cW(e,t){throw new Error(lW)}var Gr=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,l=i-n,u={top:n,right:r,bottom:i,left:o,width:s,height:l,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return u},Fx=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},eC=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},uW=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Mg={top:0,right:0,bottom:0,left:0},$x=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Mg:r,o=t.border,s=o===void 0?Mg:o,l=t.padding,u=l===void 0?Mg:l,d=Gr(Fx(n,i)),f=Gr(eC(n,s)),p=Gr(eC(f,u));return{marginBox:d,borderBox:Gr(n),paddingBox:f,contentBox:p,margin:i,border:s,padding:u}},wr=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&cW(),i},dW=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Of=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,l=uW(r,n);return $x({borderBox:l,border:i,margin:o,padding:s})},jf=function(t,n){return n===void 0&&(n=dW()),Of(t,n)},hD=function(t,n){var r={top:wr(n.marginTop),right:wr(n.marginRight),bottom:wr(n.marginBottom),left:wr(n.marginLeft)},i={top:wr(n.paddingTop),right:wr(n.paddingRight),bottom:wr(n.paddingBottom),left:wr(n.paddingLeft)},o={top:wr(n.borderTopWidth),right:wr(n.borderRightWidth),bottom:wr(n.borderBottomWidth),left:wr(n.borderLeftWidth)};return $x({borderBox:t,margin:r,padding:i,border:o})},mD=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return hD(n,r)},Cc=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Df.apply(null,arguments)}function gD(e,t){}gD.bind(null,"warn");gD.bind(null,"error");function Do(){}function fW(e,t){return{...e,...t}}function kr(e,t,n){const r=t.map(i=>{const o=fW(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const pW="Invariant failed";class _f extends Error{}_f.prototype.toString=function(){return this.message};function me(e,t){throw new _f(pW)}let hW=class extends ut.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Do,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof _f&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=kr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof _f){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const mW=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Tf=e=>e+1,gW=e=>`
  You have lifted an item in position ${Tf(e.source.index)}
`,vD=(e,t)=>{const n=e.droppableId===t.droppableId,r=Tf(e.index),i=Tf(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},yD=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,vW=e=>{const t=e.destination;if(t)return vD(e.source,t);const n=e.combine;return n?yD(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},tC=e=>`
  The item has returned to its starting position
  of ${Tf(e.index)}
`,yW=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${tC(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${vD(e.source,t)}
    `:n?`
      You have dropped the item.
      ${yD(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${tC(e.source)}
  `},uf={dragHandleUsageInstructions:mW,onDragStart:gW,onDragUpdate:vW,onDragEnd:yW};function xW(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function xD(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!xW(e[n],t[n]))return!1;return!0}function Je(e,t){const n=P.useState(()=>({inputs:t,result:e()}))[0],r=P.useRef(!0),i=P.useRef(n),s=r.current||!!(t&&i.current.inputs&&xD(t,i.current.inputs))?i.current:{inputs:t,result:e()};return P.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function Te(e,t){return Je(()=>e,t)}const nn={x:0,y:0},mn=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ir=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),_o=(e,t)=>e.x===t.x&&e.y===t.y,Gs=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Aa=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Ac=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),nC=(e,t)=>Math.min(...t.map(n=>Ac(e,n))),bD=e=>t=>({x:e(t.x),y:e(t.y)});var bW=(e,t)=>{const n=Gr({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const eu=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),rC=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],wW={top:0,right:0,bottom:0,left:0},SW=(e,t)=>t?eu(e,t.scroll.diff.displacement):e,PW=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,CW=(e,t)=>t&&t.shouldClipSubject?bW(t.pageMarginBox,e):Gr(e);var Is=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=SW(e.marginBox,r),o=PW(i,n,t),s=CW(o,r);return{page:e,withPlaceholder:t,active:s}},Bx=(e,t)=>{e.frame||me();const n=e.frame,r=ir(t,n.scroll.initial),i=Gs(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=Is({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:s}};function tn(e,t=xD){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}const wD=tn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),SD=tn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Rp=tn(e=>Object.values(e)),AW=tn(e=>Object.values(e));var Ks=tn((e,t)=>AW(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function zx(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Lp(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Fp=tn((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),kW=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!zx(i))return null;function s(v){const x={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return{...i,at:x}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?s(u):null;const d=Fp(t,r);if(!u){if(!d.length)return null;const v=d[d.length-1];return s(v.descriptor.id)}const f=d.findIndex(v=>v.descriptor.id===u);f===-1&&me();const p=f-1;if(p<0)return null;const m=d[p];return s(m.descriptor.id)},qs=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const PD={point:nn,value:0},kc={invisible:{},visible:{},all:[]},EW={displaced:kc,displacedBy:PD,at:null};var Or=(e,t)=>n=>e<=n&&n<=t,CD=e=>{const t=Or(e.top,e.bottom),n=Or(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&s||d&&o}},NW=e=>{const t=Or(e.top,e.bottom),n=Or(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Wx={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},AD={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var OW=e=>t=>{const n=Or(t.top,t.bottom),r=Or(t.left,t.right);return i=>e===Wx?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const jW=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:nn;return eu(e,n)},DW=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,_W=(e,t,n)=>n(t)(e),Vx=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?jW(e,t):e;return DW(o,t,i)&&_W(o,n,i)},TW=e=>Vx({...e,isVisibleThroughFrameFn:CD}),kD=e=>Vx({...e,isVisibleThroughFrameFn:NW}),MW=e=>Vx({...e,isVisibleThroughFrameFn:OW(e.destination.axis)}),IW=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return o?o.shouldAnimate:!0};function RW(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Gr(Fx(n,r))}function Ec({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:o}){return e.reduce(function(l,u){const d=RW(u,n),f=u.descriptor.id;if(l.all.push(f),!TW({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const m=IW(f,o,i),v={draggableId:f,shouldAnimate:m};return l.visible[f]=v,l},{all:[],visible:{},invisible:{}})}function LW(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function iC({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=LW(e,{inHomeList:t});return{displaced:kc,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Mf({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:o,index:s,forceShouldAnimate:l}){const u=qs(e,n);if(s==null)return iC({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const d=t.find(x=>x.descriptor.index===s);if(!d)return iC({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const f=Fp(e,t),p=t.indexOf(d),m=f.slice(p);return{displaced:Ec({afterDragging:m,destination:n,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Fo(e,t){return!!t.effected[e]}var FW=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,l=n[o].descriptor.index;return Fo(o,i)?e?l:l-1:e?l+1:l},$W=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,o=e?i+1:i-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return o<s||o>u?null:o},BW=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:o,previousImpact:s,viewport:l,afterCritical:u})=>{const d=s.at;if(d||me(),d.type==="REORDER"){const p=$W({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:o});return p==null?null:Mf({draggable:n,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})}const f=FW({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:d.combine,afterCritical:u});return f==null?null:Mf({draggable:n,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})},zW=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Fo(n,t)?i?nn:Gs(r.point):i?r.point:nn},WW=({afterCritical:e,impact:t,draggables:n})=>{const r=Lp(t);r||me();const i=r.draggableId,o=n[i].page.borderBox.center,s=zW({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return mn(o,s)};const ED=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,VW=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Ux=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,oC=({axis:e,moveRelativeTo:t,isMoving:n})=>Aa(e.line,t.marginBox[e.end]+ED(e,n),Ux(e,t.marginBox,n)),aC=({axis:e,moveRelativeTo:t,isMoving:n})=>Aa(e.line,t.marginBox[e.start]-VW(e,n),Ux(e,t.marginBox,n)),UW=({axis:e,moveInto:t,isMoving:n})=>Aa(e.line,t.contentBox[e.start]+ED(e,n),Ux(e,t.contentBox,n));var HW=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const o=Ks(r.descriptor.id,n),s=t.page,l=r.axis;if(!o.length)return UW({axis:l,moveInto:r.page,isMoving:s});const{displaced:u,displacedBy:d}=e,f=u.all[0];if(f){const m=n[f];if(Fo(f,i))return aC({axis:l,moveRelativeTo:m.page,isMoving:s});const v=Of(m.page,d.point);return aC({axis:l,moveRelativeTo:v,isMoving:s})}const p=o[o.length-1];if(p.descriptor.id===t.descriptor.id)return s.borderBox.center;if(Fo(p.descriptor.id,i)){const m=Of(p.page,Gs(i.displacedBy.point));return oC({axis:l,moveRelativeTo:m,isMoving:s})}return oC({axis:l,moveRelativeTo:p.page,isMoving:s})},Ky=(e,t)=>{const n=e.frame;return n?mn(t,n.scroll.diff.displacement):t};const GW=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const o=t.page.borderBox.center,s=e.at;return!n||!s?o:s.type==="REORDER"?HW({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):WW({impact:e,draggables:r,afterCritical:i})};var $p=e=>{const t=GW(e),n=e.droppable;return n?Ky(n,t):t},ND=(e,t)=>{const n=ir(t,e.scroll.initial),r=Gs(n);return{frame:Gr({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function sC(e,t){return e.map(n=>t[n])}function KW(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var qW=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const o=ND(t,mn(t.scroll.current,i)),s=n.frame?Bx(n,mn(n.frame.scroll.current,i)):n,l=e.displaced,u=Ec({afterDragging:sC(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),d=Ec({afterDragging:sC(l.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),f={},p={},m=[l,u,d];return l.all.forEach(x=>{const w=KW(x,m);if(w){p[x]=w;return}f[x]=!0}),{...e,displaced:{all:l.all,invisible:f,visible:p}}},YW=(e,t)=>mn(e.scroll.diff.displacement,t),Hx=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=YW(n,e),i=ir(r,t.page.borderBox.center);return mn(t.client.borderBox.center,i)},OD=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=ir(n,e.page.borderBox.center),u={target:eu(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return o?MW(u):kD(u)},XW=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=Ks(n.descriptor.id,r),f=qs(t,n),p=kW({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||BW({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:o,afterCritical:u});if(!p)return null;const m=$p({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(OD({draggable:t,destination:n,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Hx({pageBorderBoxCenter:m,draggable:t,viewport:o}),impact:p,scrollJumpRequest:null};const x=ir(m,s),w=qW({impact:p,viewport:o,destination:n,draggables:r,maxScrollChange:x});return{clientSelection:l,impact:w,scrollJumpRequest:x}};const Tn=e=>{const t=e.subject.active;return t||me(),t};var ZW=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const o=n.subject.active;if(!o)return null;const s=n.axis,l=Or(o[s.start],o[s.end]),u=Rp(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>CD(i.frame)(Tn(f))).filter(f=>{const p=Tn(f);return e?o[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<o[s.crossAxisStart]}).filter(f=>{const p=Tn(f),m=Or(p[s.start],p[s.end]);return l(p[s.start])||l(p[s.end])||m(o[s.start])||m(o[s.end])}).sort((f,p)=>{const m=Tn(f)[s.crossAxisStart],v=Tn(p)[s.crossAxisStart];return e?m-v:v-m}).filter((f,p,m)=>Tn(f)[s.crossAxisStart]===Tn(m[0])[s.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(f=>Or(Tn(f)[s.start],Tn(f)[s.end])(t[s.line]));return d.length===1?d[0]:d.length>1?d.sort((f,p)=>Tn(f)[s.start]-Tn(p)[s.start])[0]:u.sort((f,p)=>{const m=nC(t,rC(Tn(f))),v=nC(t,rC(Tn(p)));return m!==v?m-v:Tn(f)[s.start]-Tn(p)[s.start]})[0]};const lC=(e,t)=>{const n=e.page.borderBox.center;return Fo(e.descriptor.id,t)?ir(n,t.displacedBy.point):n},QW=(e,t)=>{const n=e.page.borderBox;return Fo(e.descriptor.id,t)?eu(n,Gs(t.displacedBy.point)):n};var JW=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>kD({target:QW(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,l)=>{const u=Ac(e,Ky(n,lC(s,i))),d=Ac(e,Ky(n,lC(l,i)));return u<d?-1:d<u?1:s.descriptor.index-l.descriptor.index})[0]||null,tu=tn(function(t,n){const r=n[t.line];return{value:r,point:Aa(t.line,r)}});const eV=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Aa(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=Ks(e.descriptor.id,n).reduce((d,f)=>d+f.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:Aa(r.line,u)},jD=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),DD=(e,t,n)=>{const r=e.frame;qs(t,e)&&me(),e.subject.withPlaceholder&&me();const i=tu(e.axis,t.displaceBy).point,o=eV(e,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=Is({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:f}}const l=o?mn(r.scroll.max,o):r.scroll.max,u=jD(r,l),d=Is({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},tV=e=>{const t=e.subject.withPlaceholder;t||me();const n=e.frame;if(!n){const s=Is({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||me();const i=jD(n,r),o=Is({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}};var nV=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:o,viewport:s,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:kc,displacedBy:PD,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},m=$p({impact:p,draggable:r,droppable:o,draggables:i,afterCritical:l}),v=qs(r,o)?o:DD(o,r,i);return OD({draggable:r,destination:v,newPageBorderBoxCenter:m,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],d=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),f=tu(o.axis,r.displaceBy);return Mf({draggable:r,insideDestination:n,destination:o,viewport:s,displacedBy:f,last:kc,index:d})},rV=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:o,viewport:s,afterCritical:l})=>{const u=ZW({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:s});if(!u)return null;const d=Ks(u.descriptor.id,i),f=JW({pageBorderBoxCenter:t,viewport:s,destination:u,insideDestination:d,afterCritical:l}),p=nV({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:f,insideDestination:d,viewport:s,afterCritical:l});if(!p)return null;const m=$p({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:Hx({pageBorderBoxCenter:m,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null}},sr=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const iV=(e,t)=>{const n=sr(e);return n?t[n]:null};var oV=({state:e,type:t})=>{const n=iV(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],o=n||i,s=o.axis.direction,l=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:p,droppables:m}=e.dimensions;return l?XW({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:o,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):rV({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:o,draggables:p,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function ca(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function _D(e){const t=Or(e.top,e.bottom),n=Or(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function aV(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function sV({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(o=>{const s=o.axis,l=Aa(o.axis.line,e.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:Ac(r,l)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function lV({pageBorderBox:e,draggable:t,droppables:n}){const r=Rp(n).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!aV(e,o))return!1;if(_D(o)(e.center))return!0;const s=i.axis,l=o.center[s.crossAxisLine],u=e[s.crossAxisStart],d=e[s.crossAxisEnd],f=Or(o[s.crossAxisStart],o[s.crossAxisEnd]),p=f(u),m=f(d);return!p&&!m?!0:p?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:sV({pageBorderBox:e,draggable:t,candidates:r}):null}const TD=(e,t)=>Gr(eu(e,t));var cV=(e,t)=>{const n=e.frame;return n?TD(t,n.scroll.diff.value):t};function MD({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function uV({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var dV=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:o,afterCritical:s})=>{const l=n.axis,u=tu(n.axis,t.displaceBy),d=u.value,f=e[l.start],p=e[l.end],v=Fp(t,r).find(w=>{const b=w.descriptor.id,C=w.page.borderBox.center[l.line],k=Fo(b,s),E=MD({displaced:i,id:b});return k?E?p<=C:f<C-d:E?p<=C+d:f<C})||null,x=uV({draggable:t,closest:v,inHomeList:qs(t,n)});return Mf({draggable:t,insideDestination:r,destination:n,viewport:o,last:i,displacedBy:u,index:x})};const fV=4;var pV=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const s=r.axis,l=tu(r.axis,e.displaceBy),u=l.value,d=t[s.start],f=t[s.end],m=Fp(e,i).find(x=>{const w=x.descriptor.id,b=x.page.borderBox,k=b[s.size]/fV,E=Fo(w,o),N=MD({displaced:n.displaced,id:w});return E?N?f>b[s.start]+k&&f<b[s.end]-k:d>b[s.start]-u+k&&d<b[s.end]-u-k:N?f>b[s.start]+u+k&&f<b[s.end]+u-k:d>b[s.start]+k&&d<b[s.end]-k});return m?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null},ID=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:o,afterCritical:s})=>{const l=TD(t.page.borderBox,e),u=lV({pageBorderBox:l,draggable:t,droppables:r});if(!u)return EW;const d=r[u],f=Ks(d.descriptor.id,n),p=cV(d,l);return pV({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:d,insideDestination:f,afterCritical:s})||dV({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:f,last:i.displaced,viewport:o,afterCritical:s})},Gx=(e,t)=>({...e,[t.descriptor.id]:t});const hV=({previousImpact:e,impact:t,droppables:n})=>{const r=sr(e),i=sr(t);if(!r||r===i)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const s=tV(o);return Gx(n,s)};var mV=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const o=hV({previousImpact:r,impact:i,droppables:n}),s=sr(i);if(!s)return o;const l=n[s];if(qs(e,l)||l.subject.withPlaceholder)return o;const u=DD(l,e,t);return Gx(o,u)},fc=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:o})=>{const s=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=ir(u,e.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:mn(e.initial.client.borderBoxCenter,d)},p={selection:mn(f.selection,s.scroll.current),borderBoxCenter:mn(f.borderBoxCenter,s.scroll.current),offset:mn(f.offset,s.scroll.diff.value)},m={client:f,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:s,current:m};const v=l.draggables[e.critical.draggable.id],x=i||ID({pageOffset:p.offset,draggable:v,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),w=mV({draggable:v,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:w},impact:x,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function gV(e,t){return e.map(n=>t[n])}var RD=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const o=e.displaced,s=gV(o.all,n),l=Ec({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:o});return{...e,displaced:l}},LD=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:o})=>{const s=$p({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return Hx({pageBorderBoxCenter:s,draggable:t,viewport:i})},FD=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&me();const r=e.impact,i=n||e.viewport,o=t||e.dimensions,{draggables:s,droppables:l}=o,u=s[e.critical.draggable.id],d=sr(r);d||me();const f=l[d],p=RD({impact:r,viewport:i,destination:f,draggables:s}),m=LD({impact:p,draggable:u,droppable:f,draggables:s,viewport:i,afterCritical:e.afterCritical});return fc({impact:p,clientSelection:m,state:e,dimensions:o,viewport:i})},vV=e=>({index:e.index,droppableId:e.droppableId}),$D=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=tu(t.axis,e.displaceBy),o=Ks(t.descriptor.id,n),s=o.indexOf(e);s===-1&&me();const l=o.slice(s+1),u=l.reduce((m,v)=>(m[v.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:Ec({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:vV(e.descriptor)}},afterCritical:d}},yV=(e,t)=>({draggables:e.draggables,droppables:Gx(e.droppables,t)}),xV=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Of(e.client,t),i=jf(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},bV=e=>{const t=e.frame;return t||me(),t},wV=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const o=i.descriptor.droppableId,s=t[o],u=bV(s).scroll.diff.value,d=mn(r,u);return xV({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},SV=({state:e,published:t})=>{const n=t.modified.map(C=>{const k=e.dimensions.droppables[C.droppableId];return Bx(k,C.scroll)}),r={...e.dimensions.droppables,...wD(n)},i=SD(wV({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...i};t.removals.forEach(C=>{delete o[C]});const s={droppables:r,draggables:o},l=sr(e.impact),u=l?s.droppables[l]:null,d=s.draggables[e.critical.draggable.id],f=s.droppables[e.critical.droppable.id],{impact:p,afterCritical:m}=$D({draggable:d,home:f,draggables:o,viewport:e.viewport}),v=u&&u.isCombineEnabled?e.impact:p,x=ID({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:v,viewport:e.viewport,afterCritical:m}),w={...e,phase:"DRAGGING",impact:x,onLiftImpact:p,dimensions:s,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const qy=e=>e.movementMode==="SNAP",Ig=(e,t,n)=>{const r=yV(e.dimensions,t);return!qy(e)||n?fc({state:e,dimensions:r}):FD({state:e,dimensions:r})};function Rg(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const cC={phase:"IDLE",completed:null,shouldFlush:!1};var PV=(e=cC,t)=>{if(t.type==="FLUSH")return{...cC,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&me();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=t.payload,l=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:nn},f={client:d,page:{selection:mn(d.selection,i.scroll.initial),borderBoxCenter:mn(d.selection,i.scroll.initial),offset:mn(d.selection,i.scroll.diff.value)}},p=Rp(o.droppables).every(w=>!w.isFixedOnPage),{impact:m,afterCritical:v}=$D({draggable:l,home:u,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:f,current:f,isWindowScrollAllowed:p,impact:m,afterCritical:v,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&me(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||me(),SV({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ca(e)||me();const{client:n}=t.payload;return _o(n,e.current.client.selection)?e:fc({state:e,clientSelection:n,impact:qy(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Rg(e);ca(e)||me();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=Bx(i,r);return Ig(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ca(e)||me();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||me(),i.isEnabled===r&&me();const o={...i,isEnabled:r};return Ig(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ca(e)||me();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||me(),i.isCombineEnabled===r&&me();const o={...i,isCombineEnabled:r};return Ig(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ca(e)||me(),e.isWindowScrollAllowed||me();const n=t.payload.newScroll;if(_o(e.viewport.scroll.current,n))return Rg(e);const r=ND(e.viewport,n);return qy(e)?FD({state:e,viewport:r}):fc({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ca(e))return e;const n=t.payload.maxScroll;if(_o(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&me();const n=oV({state:e,type:t.type});return n?fc({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&me(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||me(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function ot(e,t){return e instanceof Object&&"type"in e&&e.type===t}const CV=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),AV=e=>({type:"LIFT",payload:e}),kV=e=>({type:"INITIAL_PUBLISH",payload:e}),EV=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),NV=()=>({type:"COLLECTION_STARTING",payload:null}),OV=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),jV=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),DV=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),BD=e=>({type:"MOVE",payload:e}),_V=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),TV=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),MV=()=>({type:"MOVE_UP",payload:null}),IV=()=>({type:"MOVE_DOWN",payload:null}),RV=()=>({type:"MOVE_RIGHT",payload:null}),LV=()=>({type:"MOVE_LEFT",payload:null}),Kx=()=>({type:"FLUSH",payload:null}),FV=e=>({type:"DROP_ANIMATE",payload:e}),qx=e=>({type:"DROP_COMPLETE",payload:e}),zD=e=>({type:"DROP",payload:e}),$V=e=>({type:"DROP_PENDING",payload:e}),WD=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var BV=e=>({getState:t,dispatch:n})=>r=>i=>{if(!ot(i,"LIFT")){r(i);return}const{id:o,clientSelection:s,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(qx({completed:u.completed})),t().phase!=="IDLE"&&me(),n(Kx()),n(CV({draggableId:o,movementMode:l}));const f={draggableId:o,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:m,viewport:v}=e.startPublishing(f);n(kV({critical:p,dimensions:m,clientSelection:s,movementMode:l,viewport:v}))},zV=e=>()=>t=>n=>{ot(n,"INITIAL_PUBLISH")&&e.dragging(),ot(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(ot(n,"FLUSH")||ot(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Yx={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Nc={opacity:{drop:0,combining:.7},scale:{drop:.75}},VD={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ia=`${VD.outOfTheWay}s ${Yx.outOfTheWay}`,pc={fluid:`opacity ${ia}`,snap:`transform ${ia}, opacity ${ia}`,drop:e=>{const t=`${e}s ${Yx.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${ia}`,placeholder:`height ${ia}, width ${ia}, margin ${ia}`},uC=e=>_o(e,nn)?void 0:`translate(${e.x}px, ${e.y}px)`,Yy={moveTo:uC,drop:(e,t)=>{const n=uC(e);if(n)return t?`${n} scale(${Nc.scale.drop})`:n}},{minDropTime:Xy,maxDropTime:UD}=VD,WV=UD-Xy,dC=1500,VV=.6;var UV=({current:e,destination:t,reason:n})=>{const r=Ac(e,t);if(r<=0)return Xy;if(r>=dC)return UD;const i=r/dC,o=Xy+WV*i,s=n==="CANCEL"?o*VV:o;return Number(s.toFixed(2))},HV=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:o,droppables:s}=n,l=sr(e),u=l?s[l]:null,d=s[t.descriptor.droppableId],f=LD({impact:e,draggable:t,draggables:o,afterCritical:i,droppable:u||d,viewport:r});return ir(f,t.client.borderBox.center)},GV=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:RD({draggables:e,impact:o,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:kc},didDropInsideDroppable:!0};const KV=({getState:e,dispatch:t})=>n=>r=>{if(!ot(r,"DROP")){n(r);return}const i=e(),o=r.payload.reason;if(i.phase==="COLLECTING"){t($V({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&me(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||me();const l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],{impact:f,didDropInsideDroppable:p}=GV({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),m=p?zx(f):null,v=p?Lp(f):null,x={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:o,mode:i.movementMode,destination:m,combine:v},b=HV({impact:f,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),C={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:f};if(!(!_o(i.current.client.offset,b)||!!w.combine)){t(qx({completed:C}));return}const E=UV({current:i.current.client.offset,destination:b,reason:o});t(FV({newHomeClientOffset:b,dropDuration:E,completed:C}))};var HD=()=>({x:window.pageXOffset,y:window.pageYOffset});function qV(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function YV({onWindowScroll:e}){function t(){e(HD())}const n=Cc(t),r=qV(n);let i=Do;function o(){return i!==Do}function s(){o()&&me(),i=kr(window,[r])}function l(){o()||me(),n.cancel(),i(),i=Do}return{start:s,stop:l,isActive:o}}const XV=e=>ot(e,"DROP_COMPLETE")||ot(e,"DROP_ANIMATE")||ot(e,"FLUSH"),ZV=e=>{const t=YV({onWindowScroll:n=>{e.dispatch(_V({newScroll:n}))}});return n=>r=>{!t.isActive()&&ot(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&XV(r)&&t.stop(),n(r)}};var QV=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return i.wasCalled=()=>t,i},JV=()=>{const e=[],t=i=>{const o=e.findIndex(l=>l.timerId===i);o===-1&&me();const[s]=e.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>t(o)),s={timerId:o,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const eU=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,tU=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,nU=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Hl=(e,t)=>{t()},$d=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Lg(e,t,n,r){if(!e){n(r(t));return}const i=QV(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var rU=(e,t)=>{const n=JV();let r=null;const i=(p,m)=>{r&&me(),Hl("onBeforeCapture",()=>{const v=e().onBeforeCapture;v&&v({draggableId:p,mode:m})})},o=(p,m)=>{r&&me(),Hl("onBeforeDragStart",()=>{const v=e().onBeforeDragStart;v&&v($d(p,m))})},s=(p,m)=>{r&&me();const v=$d(p,m);r={mode:m,lastCritical:p,lastLocation:v.source,lastCombine:null},n.add(()=>{Hl("onDragStart",()=>Lg(e().onDragStart,v,t,uf.onDragStart))})},l=(p,m)=>{const v=zx(m),x=Lp(m);r||me();const w=!nU(p,r.lastCritical);w&&(r.lastCritical=p);const b=!eU(r.lastLocation,v);b&&(r.lastLocation=v);const C=!tU(r.lastCombine,x);if(C&&(r.lastCombine=x),!w&&!b&&!C)return;const k={...$d(p,r.mode),combine:x,destination:v};n.add(()=>{Hl("onDragUpdate",()=>Lg(e().onDragUpdate,k,t,uf.onDragUpdate))})},u=()=>{r||me(),n.flush()},d=p=>{r||me(),r=null,Hl("onDragEnd",()=>Lg(e().onDragEnd,p,t,uf.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const p={...$d(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},iU=(e,t)=>{const n=rU(e,t);return r=>i=>o=>{if(ot(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(ot(o,"INITIAL_PUBLISH")){const l=o.payload.critical;n.beforeStart(l,o.payload.movementMode),i(o),n.start(l,o.payload.movementMode);return}if(ot(o,"DROP_COMPLETE")){const l=o.payload.completed.result;n.flush(),i(o),n.drop(l);return}if(i(o),ot(o,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const oU=e=>t=>n=>{if(!ot(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&me(),e.dispatch(qx({completed:r.completed}))},aU=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>o=>{if((ot(o,"FLUSH")||ot(o,"DROP_COMPLETE")||ot(o,"DROP_ANIMATION_FINISHED"))&&r(),i(o),!ot(o,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(WD())}};n=requestAnimationFrame(()=>{n=null,t=kr(window,[s])})}};var sU=e=>()=>t=>n=>{(ot(n,"DROP_COMPLETE")||ot(n,"FLUSH")||ot(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},lU=e=>{let t=!1;return()=>n=>r=>{if(ot(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(ot(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(ot(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const cU=e=>ot(e,"DROP_COMPLETE")||ot(e,"DROP_ANIMATE")||ot(e,"FLUSH");var uU=e=>t=>n=>r=>{if(cU(r)){e.stop(),n(r);return}if(ot(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&me(),e.start(i);return}n(r),e.scroll(t.getState())};const dU=e=>t=>n=>{if(t(n),!ot(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(zD({reason:r.reason})))},fU=Pc;var pU=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:o})=>Ix(PV,fU(oD(zV(n),sU(e),BV(e),KV,oU,aU,dU,uU(o),ZV,lU(t),iU(r,i))));const Fg=()=>({additions:{},removals:{},modified:{}});function hU({registry:e,callbacks:t}){let n=Fg(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:f}=n,p=Object.keys(u).map(x=>e.draggable.getById(x).getDimension(nn)).sort((x,w)=>x.descriptor.index-w.descriptor.index),m=Object.keys(f).map(x=>{const b=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:b}}),v={additions:p,removals:Object.keys(d),modified:m};n=Fg(),t.publish(v)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Fg())}}}var GD=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=ir({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},KD=()=>{const e=document.documentElement;return e||me(),e},qD=()=>{const e=KD();return GD({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},mU=()=>{const e=HD(),t=qD(),n=e.y,r=e.x,i=KD(),o=i.clientWidth,s=i.clientHeight,l=r+o,u=n+s;return{frame:Gr({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:nn,displacement:nn}}}},gU=({critical:e,scrollOptions:t,registry:n})=>{const r=mU(),i=r.scroll.current,o=e.droppable,s=n.droppable.getAllByType(o.type).map(f=>f.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(i));return{dimensions:{draggables:SD(l),droppables:wD(s)},critical:e,viewport:r}};function fC(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var vU=(e,t)=>{let n=null;const r=hU({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(m,v)=>{e.droppable.exists(m)||me(),n&&t.updateDroppableIsEnabled({id:m,isEnabled:v})},o=(m,v)=>{n&&(e.droppable.exists(m)||me(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:v}))},s=(m,v)=>{n&&(e.droppable.exists(m)||me(),t.updateDroppableScroll({id:m,newScroll:v}))},l=(m,v)=>{n&&e.droppable.getById(m).callbacks.scroll(v)},u=()=>{if(!n)return;r.stop();const m=n.critical.droppable;e.droppable.getAllByType(m.type).forEach(v=>v.callbacks.dragStopped()),n.unsubscribe(),n=null},d=m=>{n||me();const v=n.critical.draggable;m.type==="ADDITION"&&fC(e,v,m.value)&&r.add(m.value),m.type==="REMOVAL"&&fC(e,v,m.value)&&r.remove(m.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:l,updateDroppableScroll:s,startPublishing:m=>{n&&me();const v=e.draggable.getById(m.draggableId),x=e.droppable.getById(v.descriptor.droppableId),w={draggable:v.descriptor,droppable:x.descriptor},b=e.subscribe(d);return n={critical:w,unsubscribe:b},gU({critical:w,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:u}},YD=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",yU=e=>{window.scrollBy(e.x,e.y)};const xU=tn(e=>Rp(e).filter(t=>!(!t.isEnabled||!t.frame))),bU=(e,t)=>xU(t).find(r=>(r.frame||me(),_D(r.frame.pageMarginBox)(e)))||null;var wU=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return bU(e,n)};const Oc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var SU=(e,t,n=()=>Oc)=>{const r=n(),i=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},XD=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Xx=1,PU=(e,t,n=()=>Oc)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Xx;const o=1-XD({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)},CU=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,s=t,l=o,d=Date.now()-s;if(d>=o)return e;if(d<i)return Xx;const f=XD({startOfRange:i,endOfRange:l,current:d}),p=e*r.ease(f);return Math.ceil(p)},pC=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=PU(e,t,i);return o===0?0:r?Math.max(CU(o,n,i),Xx):o},hC=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=SU(e,r,o);return t[r.end]<t[r.start]?pC({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*pC({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},AU=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const kU=bD(e=>e===0?0:e);var ZD=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=hC({container:t,distanceToEdges:s,dragStartTime:e,axis:Wx,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),u=hC({container:t,distanceToEdges:s,dragStartTime:e,axis:AD,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),d=kU({x:u,y:l});if(_o(d,nn))return null;const f=AU({container:t,subject:n,proposedScroll:d});return f?_o(f,nn)?null:f:null};const EU=bD(e=>e===0?0:e>0?1:-1),Zx=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=mn(t,r),o={x:e(i.x,n.x),y:e(i.y,n.y)};return _o(o,nn)?null:o}})(),QD=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=EU(n),o=Zx({max:r,current:t,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},Qx=(e,t)=>QD({current:e.scroll.current,max:e.scroll.max,change:t}),NU=(e,t)=>{if(!Qx(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Zx({current:r,max:n,change:t})},Jx=(e,t)=>{const n=e.frame;return n?QD({current:n.scroll.current,max:n.scroll.max,change:t}):!1},OU=(e,t)=>{const n=e.frame;return!n||!Jx(e,t)?null:Zx({current:n.scroll.current,max:n.scroll.max,change:t})};var jU=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=ZD({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&Qx(e,s)?s:null},DU=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=e.frame;if(!s)return null;const l=ZD({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return l&&Jx(e,l)?l:null},mC=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,m=jU({dragStartTime:t,viewport:p,subject:u,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(m){r(m);return}}const d=wU({center:s,destination:sr(e.impact),droppables:e.dimensions.droppables});if(!d)return;const f=DU({dragStartTime:t,droppable:d,subject:u,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});f&&i(d.descriptor.id,f)},_U=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Oc})=>{const r=Cc(e),i=Cc(t);let o=null;const s=d=>{o||me();const{shouldUseTimeDampening:f,dragStartTime:p}=o;mC({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:d=>{o&&me();const f=Date.now();let p=!1;const m=()=>{p=!0};mC({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:n}),o={dragStartTime:f,shouldUseTimeDampening:p},p&&s(d)},stop:()=>{o&&(r.cancel(),i.cancel(),o=null)},scroll:s}},TU=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=mn(l.current.client.selection,u);e({client:d})},i=(l,u)=>{if(!Jx(l,u))return u;const d=OU(l,u);if(!d)return t(l.descriptor.id,u),null;const f=ir(u,d);return t(l.descriptor.id,f),ir(u,f)},o=(l,u,d)=>{if(!l||!Qx(u,d))return d;const f=NU(u,d);if(!f)return n(d),null;const p=ir(d,f);return n(p),ir(d,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=sr(l.impact);d||me();const f=i(l.dimensions.droppables[d],u);if(!f)return;const p=l.viewport,m=o(l.isWindowScrollAllowed,p,f);m&&r(l,m)}},MU=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=_U({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=TU({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&o(u)}},start:i.start,stop:i.stop}};const Rs="data-rfd",Ls=(()=>{const e=`${Rs}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Zy=(()=>{const e=`${Rs}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),IU=(()=>{const e=`${Rs}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),gC={contextId:`${Rs}-scroll-container-context-id`},RU=e=>t=>`[${t}="${e}"]`,Gl=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),LU="pointer-events: none;";var FU=e=>{const t=RU(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ls.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:LU,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${pc.outOfTheWay};
    `;return{selector:t(Zy.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(IU.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Gl(s,"always"),resting:Gl(s,"resting"),dragging:Gl(s,"dragging"),dropAnimating:Gl(s,"dropAnimating"),userCancel:Gl(s,"userCancel")}};const lr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect,$g=()=>{const e=document.querySelector("head");return e||me(),e},vC=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function $U(e,t){const n=Je(()=>FU(e),[e]),r=P.useRef(null),i=P.useRef(null),o=Te(tn(p=>{const m=i.current;m||me(),m.textContent=p}),[]),s=Te(p=>{const m=r.current;m||me(),m.textContent=p},[]);lr(()=>{!r.current&&!i.current||me();const p=vC(t),m=vC(t);return r.current=p,i.current=m,p.setAttribute(`${Rs}-always`,e),m.setAttribute(`${Rs}-dynamic`,e),$g().appendChild(p),$g().appendChild(m),s(n.always),o(n.resting),()=>{const v=x=>{const w=x.current;w||me(),$g().removeChild(w),x.current=null};v(r),v(i)}},[t,s,o,n.always,n.resting,e]);const l=Te(()=>o(n.dragging),[o,n.dragging]),u=Te(p=>{if(p==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),d=Te(()=>{i.current&&o(n.resting)},[o,n.resting]);return Je(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function JD(e,t){return Array.from(e.querySelectorAll(t))}var e_=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Bp(e){return e instanceof e_(e).HTMLElement}function BU(e,t){const n=`[${Ls.contextId}="${e}"]`,r=JD(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute(Ls.draggableId)===t);return!i||!Bp(i)?null:i}function zU(e){const t=P.useRef({}),n=P.useRef(null),r=P.useRef(null),i=P.useRef(!1),o=Te(function(m,v){const x={id:m,focus:v};return t.current[m]=x,function(){const b=t.current;b[m]!==x&&delete b[m]}},[]),s=Te(function(m){const v=BU(e,m);v&&v!==document.activeElement&&v.focus()},[e]),l=Te(function(m,v){n.current===m&&(n.current=v)},[]),u=Te(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const m=n.current;m&&s(m)}))},[s]),d=Te(function(m){n.current=null;const v=document.activeElement;v&&v.getAttribute(Ls.draggableId)===m&&(n.current=m)},[]);return lr(()=>(i.current=!0,function(){i.current=!1;const m=r.current;m&&cancelAnimationFrame(m)}),[]),Je(()=>({register:o,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[o,d,u,l])}function WU(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const v=t.indexOf(p);v!==-1&&t.splice(v,1)}}function r(p){t.length&&t.forEach(m=>m(p))}function i(p){return e.draggables[p]||null}function o(p){const m=i(p);return m||me(),m}const s={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,m)=>{const v=e.draggables[m.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const m=p.descriptor.id,v=i(m);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[m],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:o,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(m=>m.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const m=l(p);return m||me(),m}const d={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const m=l(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(m=>m.descriptor.type===p)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:d,subscribe:n,clean:f}}function VU(){const e=Je(WU,[]);return P.useEffect(()=>function(){e.clean()},[e]),e}var eb=ut.createContext(null),If=()=>{const e=document.body;return e||me(),e};const UU={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},HU=e=>`rfd-announcement-${e}`;function GU(e){const t=Je(()=>HU(e),[e]),n=P.useRef(null);return P.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Df(o.style,UU),If().appendChild(o),function(){setTimeout(function(){const u=If();u.contains(o)&&u.removeChild(o),o===n.current&&(n.current=null)})}},[t]),Te(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}const KU={separator:"::"};function tb(e,t=KU){const n=ut.useId();return Je(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function qU({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function YU({contextId:e,text:t}){const n=tb("hidden-text",{separator:"-"}),r=Je(()=>qU({contextId:e,uniqueId:n}),[n,e]);return P.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",If().appendChild(o),function(){const l=If();l.contains(o)&&l.removeChild(o)}},[r,t]),r}var zp=ut.createContext(null);function t_(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),t}function XU(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&me();const l={abandon:s};return e=l,l}function i(){e||me(),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}function jc(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const ZU=9,QU=13,nb=27,n_=32,JU=33,e9=34,t9=35,n9=36,r9=37,i9=38,o9=39,a9=40,s9={[QU]:!0,[ZU]:!0};var r_=e=>{s9[e.keyCode]&&e.preventDefault()};const Wp=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),i_=0,yC=5;function l9(e,t){return Math.abs(t.x-e.x)>=yC||Math.abs(t.y-e.y)>=yC}const xC={type:"IDLE"};function c9({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:l}=i;if(o!==i_)return;const u={x:s,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&me();const f=d.point;if(!l9(f,u))return;i.preventDefault();const p=d.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const o=n();if(o.type!=="DRAGGING"){e();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===nb){i.preventDefault(),e();return}r_(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=n();if(o.type==="IDLE"&&me(),o.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Wp,fn:e}]}function u9(e){const t=P.useRef(xC),n=P.useRef(Do),r=Je(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==i_||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const m=e.findClosestDraggableId(p);if(!m)return;const v=e.tryGetLock(m,s,{sourceEvent:p});if(!v)return;p.preventDefault();const x={x:p.clientX,y:p.clientY};n.current(),d(v,x)}}),[e]),i=Je(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const p=e.findClosestDraggableId(f);if(!p)return;const m=e.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||e.canGetLock(p)&&f.preventDefault())}}),[e]),o=Te(function(){const p={passive:!1,capture:!0};n.current=kr(window,[i,r],p)},[i,r]),s=Te(()=>{t.current.type!=="IDLE"&&(t.current=xC,n.current(),o())},[o]),l=Te(()=>{const f=t.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),u=Te(function(){const p={capture:!0,passive:!1},m=c9({cancel:l,completed:s,getPhase:()=>t.current,setPhase:v=>{t.current=v}});n.current=kr(window,m,p)},[l,s]),d=Te(function(p,m){t.current.type!=="IDLE"&&me(),t.current={type:"PENDING",point:m,actions:p},u()},[u]);lr(function(){return o(),function(){n.current()}},[o])}function d9(){}const f9={[e9]:!0,[JU]:!0,[n9]:!0,[t9]:!0};function p9(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===nb){i.preventDefault(),n();return}if(i.keyCode===n_){i.preventDefault(),r();return}if(i.keyCode===a9){i.preventDefault(),e.moveDown();return}if(i.keyCode===i9){i.preventDefault(),e.moveUp();return}if(i.keyCode===o9){i.preventDefault(),e.moveRight();return}if(i.keyCode===r9){i.preventDefault(),e.moveLeft();return}if(f9[i.keyCode]){i.preventDefault();return}r_(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Wp,fn:n}]}function h9(e){const t=P.useRef(d9),n=Je(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==n_)return;const s=e.findClosestDraggableId(o);if(!s)return;const l=e.tryGetLock(s,f,{sourceEvent:o});if(!l)return;o.preventDefault();let u=!0;const d=l.snapLift();t.current();function f(){u||me(),u=!1,t.current(),r()}t.current=kr(window,p9(d,f),{capture:!0,passive:!1})}}),[e]),r=Te(function(){const o={passive:!1,capture:!0};t.current=kr(window,[n],o)},[n]);lr(function(){return r(),function(){t.current()}},[r])}const Bg={type:"IDLE"},m9=120,g9=.15;function v9({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===nb&&n.preventDefault(),e()}},{eventName:Wp,fn:e}]}function y9({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:o,clientY:s}=r.touches[0],l={x:o,y:s};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&me();const o=r.touches[0];if(!o||!(o.force>=g9))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Wp,fn:e}]}function x9(e){const t=P.useRef(Bg),n=P.useRef(Do),r=Te(function(){return t.current},[]),i=Te(function(v){t.current=v},[]),o=Je(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const x=e.findClosestDraggableId(v);if(!x)return;const w=e.tryGetLock(x,l,{sourceEvent:v});if(!w)return;const b=v.touches[0],{clientX:C,clientY:k}=b,E={x:C,y:k};n.current(),p(w,E)}}),[e]),s=Te(function(){const v={capture:!0,passive:!1};n.current=kr(window,[o],v)},[o]),l=Te(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),i(Bg),n.current(),s())},[s,i]),u=Te(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=Te(function(){const v={capture:!0,passive:!1},x={cancel:u,completed:l,getPhase:r},w=kr(window,y9(x),v),b=kr(window,v9(x),v);n.current=function(){w(),b()}},[u,r,l]),f=Te(function(){const v=r();v.type!=="PENDING"&&me();const x=v.actions.fluidLift(v.point);i({type:"DRAGGING",actions:x,hasMoved:!1})},[r,i]),p=Te(function(v,x){r().type!=="IDLE"&&me();const w=setTimeout(f,m9);i({type:"PENDING",point:x,actions:v,longPressTimerId:w}),d()},[d,r,i,f]);lr(function(){return s(),function(){n.current();const x=r();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),i(Bg))}},[r,s,i]),lr(function(){return kr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const b9=["input","button","textarea","select","option","optgroup","video","audio"];function o_(e,t){if(t==null)return!1;if(b9.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:o_(e,t.parentElement)}function w9(e,t){const n=t.target;return Bp(n)?o_(e,n):!1}var S9=e=>Gr(e.getBoundingClientRect()).center;function P9(e){return e instanceof e_(e).Element}const C9=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function a_(e,t){return e==null?null:e[C9](t)?e:a_(e.parentElement,t)}function A9(e,t){return e.closest?e.closest(t):a_(e,t)}function k9(e){return`[${Ls.contextId}="${e}"]`}function E9(e,t){const n=t.target;if(!P9(n))return null;const r=k9(e),i=A9(n,r);return!i||!Bp(i)?null:i}function N9(e,t){const n=E9(e,t);return n?n.getAttribute(Ls.draggableId):null}function O9(e,t){const n=`[${Zy.contextId}="${e}"]`,i=JD(document,n).find(o=>o.getAttribute(Zy.id)===t);return!i||!Bp(i)?null:i}function j9(e){e.preventDefault()}function Bd({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function s_({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!YD(t.getState(),r))}function D9({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!s_({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),d=O9(t,u.descriptor.id);if(!d||s&&!u.options.canDragInteractiveElements&&w9(d,s))return null;const f=e.claim(o||Do);let p="PRE_DRAG";function m(){return u.options.shouldRespectForcePress}function v(){return e.isActive(f)}function x(D,O){Bd({expected:D,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(O())}const w=x.bind(null,"DRAGGING");function b(D){function O(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(O(),me()),n.dispatch(AV(D.liftActionArgs)),p="DRAGGING";function _(T,V={shouldBlockNextClick:!1}){if(D.cleanup(),V.shouldBlockNextClick){const Y=kr(window,[{eventName:"click",fn:j9,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(Y)}O(),n.dispatch(zD({reason:T}))}return{isActive:()=>Bd({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:m,drop:T=>_("DROP",T),cancel:T=>_("CANCEL",T),...D.actions}}function C(D){const O=Cc(T=>{w(()=>BD({client:T}))});return{...b({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:()=>O.cancel(),actions:{move:O}}),move:O}}function k(){const D={moveUp:()=>w(MV),moveRight:()=>w(RV),moveDown:()=>w(IV),moveLeft:()=>w(LV)};return b({liftActionArgs:{id:i,clientSelection:S9(d),movementMode:"SNAP"},cleanup:Do,actions:D})}function E(){Bd({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0})&&e.release()}return{isActive:()=>Bd({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:C,snapLift:k,abort:E}}const _9=[u9,h9,x9];function T9({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const o=[...i?_9:[],...r||[]],s=P.useState(()=>XU())[0],l=Te(function(b,C){jc(b)&&!jc(C)&&s.tryAbandon()},[s]);lr(function(){let b=t.getState();return t.subscribe(()=>{const k=t.getState();l(b,k),b=k})},[s,t,l]),lr(()=>s.tryAbandon,[s.tryAbandon]);const u=Te(w=>s_({lockAPI:s,registry:n,store:t,draggableId:w}),[s,n,t]),d=Te((w,b,C)=>D9({lockAPI:s,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:b||null,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null}),[e,s,n,t]),f=Te(w=>N9(e,w),[e]),p=Te(w=>{const b=n.draggable.findById(w);return b?b.options:null},[n.draggable]),m=Te(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Kx()))},[s,t]),v=Te(()=>s.isClaimed(),[s]),x=Je(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:v}),[u,d,f,p,m,v]);for(let w=0;w<o.length;w++)o[w](x)}const M9=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Jc.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),I9=e=>({...Oc,...e.autoScrollerOptions,durationDampening:{...Oc.durationDampening,...e.autoScrollerOptions}});function Kl(e){return e.current||me(),e.current}function R9(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=e,s=P.useRef(null),l=t_(e),u=Te(()=>M9(l.current),[l]),d=Te(()=>I9(l.current),[l]),f=GU(t),p=YU({contextId:t,text:o}),m=$U(t,i),v=Te(Y=>{Kl(s).dispatch(Y)},[]),x=Je(()=>H2({publishWhileDragging:EV,updateDroppableScroll:OV,updateDroppableIsEnabled:jV,updateDroppableIsCombineEnabled:DV,collectionStarting:NV},v),[v]),w=VU(),b=Je(()=>vU(w,x),[w,x]),C=Je(()=>MU({scrollWindow:yU,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:d,...H2({move:BD},v)}),[b.scrollDroppable,v,d]),k=zU(t),E=Je(()=>pU({announce:f,autoScroller:C,dimensionMarshal:b,focusMarshal:k,getResponders:u,styleMarshal:m}),[f,C,b,k,u,m]);s.current=E;const N=Te(()=>{const Y=Kl(s);Y.getState().phase!=="IDLE"&&Y.dispatch(Kx())},[]),D=Te(()=>{const Y=Kl(s).getState();return Y.phase==="DROP_ANIMATING"?!0:Y.phase==="IDLE"?!1:Y.isDragging},[]),O=Je(()=>({isDragging:D,tryAbort:N}),[D,N]);n(O);const _=Te(Y=>YD(Kl(s).getState(),Y),[]),T=Te(()=>ca(Kl(s).getState()),[]),V=Je(()=>({marshal:b,focus:k,contextId:t,canLift:_,isMovementAllowed:T,dragHandleUsageInstructionsId:p,registry:w}),[t,b,p,k,_,T,w]);return T9({contextId:t,store:E,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),P.useEffect(()=>N,[N]),ut.createElement(zp.Provider,{value:V},ut.createElement(pD,{context:eb,store:E},e.children))}function L9(){return ut.useId()}function F9(e){const t=L9(),n=e.dragHandleUsageInstructions||uf.dragHandleUsageInstructions;return ut.createElement(hW,null,r=>ut.createElement(R9,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const bC={dragging:5e3,dropAnimating:4500},$9=(e,t)=>t?pc.drop(t.duration):e?pc.snap:pc.fluid,B9=(e,t)=>{if(e)return t?Nc.opacity.drop:Nc.opacity.combining},z9=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function W9(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:o}=e,s=!!i,l=z9(e),u=!!o,d=u?Yy.drop(r,s):Yy.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:$9(l,o),transform:d,opacity:B9(s,u),zIndex:u?bC.dropAnimating:bC.dragging,pointerEvents:"none"}}function V9(e){return{transform:Yy.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function U9(e){return e.type==="DRAGGING"?W9(e):V9(e)}function H9(e,t,n=nn){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=hD(i,r),s=jf(o,n),l={client:o,tagName:t.tagName.toLowerCase(),display:r.display},u={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:o,page:s}}function G9(e){const t=tb("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:l}=e,u=Je(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:l}),[o,l,s]),d=Te(v=>{const x=i();return x||me(),H9(n,x,v)},[n,i]),f=Je(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),p=P.useRef(f),m=P.useRef(!0);lr(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),lr(()=>{if(m.current){m.current=!1;return}const v=p.current;p.current=f,r.draggable.update(f,v)},[f,r.draggable])}var rb=ut.createContext(null);function Rf(e){const t=P.useContext(e);return t||me(),t}function K9(e){e.preventDefault()}const q9=e=>{const t=P.useRef(null),n=Te((O=null)=>{t.current=O},[]),r=Te(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=Rf(zp),{type:l,droppableId:u}=Rf(rb),d=Je(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:f,draggableId:p,isEnabled:m,shouldRespectForcePress:v,canDragInteractiveElements:x,isClone:w,mapped:b,dropAnimationFinished:C}=e;if(!w){const O=Je(()=>({descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:x,shouldRespectForcePress:v,isEnabled:m}),[d,s,r,x,v,m]);G9(O)}const k=Je(()=>m?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:K9}:null,[i,o,p,m]),E=Te(O=>{b.type==="DRAGGING"&&b.dropping&&O.propertyName==="transform"&&Jc.flushSync(C)},[C,b]),N=Je(()=>{const O=U9(b),_=b.type==="DRAGGING"&&b.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:O,onTransitionEnd:_},dragHandleProps:k}},[i,k,p,b,E,n]),D=Je(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return ut.createElement(ut.Fragment,null,f(N,b.snapshot,D))};var l_=(e,t)=>e===t,c_=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Y9=e=>e.combine?e.combine.draggableId:null,X9=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Z9(){const e=tn((i,o)=>({x:i,y:o})),t=tn((i,o,s=null,l=null,u=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:s,combineWith:l,combineTargetFor:null})),n=tn((i,o,s,l,u=null,d=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:o,offset:i,dimension:s,forceShouldAnimate:f,snapshot:t(o,l,u,d,null)}}));return(i,o)=>{if(jc(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,l=i.dimensions.draggables[o.draggableId],u=sr(i.impact),d=X9(i.impact),f=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,l,o.isClone,u,d,f)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const l=o.isClone,u=i.dimensions.draggables[o.draggableId],d=s.result,f=d.mode,p=c_(d),m=Y9(d),x={duration:i.dropDuration,curve:Yx.drop,moveTo:i.newHomeClientOffset,opacity:m?Nc.opacity.drop:null,scale:m?Nc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:x,draggingOver:p,combineWith:m,mode:f,forceShouldAnimate:null,snapshot:t(f,l,p,m,x)}}}return null}}function u_(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Q9={mapped:{type:"SECONDARY",offset:nn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:u_(null)}};function J9(){const e=tn((s,l)=>({x:s,y:l})),t=tn(u_),n=tn((s,l=null,u)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=s=>s?n(nn,s,!0):null,i=(s,l,u,d)=>{const f=u.displaced.visible[s],p=!!(d.inVirtualList&&d.effected[s]),m=Lp(u),v=m&&m.draggableId===s?l:null;if(!f){if(!p)return r(v);if(u.displaced.invisible[s])return null;const b=Gs(d.displacedBy.point),C=e(b.x,b.y);return n(C,v,!0)}if(p)return r(v);const x=u.displacedBy.point,w=e(x.x,x.y);return n(w,v,f.shouldAnimate)};return(s,l)=>{if(jc(s))return s.critical.draggable.id===l.draggableId?null:i(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const u=s.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const e7=()=>{const e=Z9(),t=J9();return(r,i)=>e(r,i)||t(r,i)||Q9},t7={dropAnimationFinished:WD},n7=fD(e7,t7,null,{context:eb,areStatePropsEqual:l_})(q9);function d_(e){return Rf(rb).isUsingCloneFor===e.draggableId&&!e.isClone?null:ut.createElement(n7,e)}function r7(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return ut.createElement(d_,Df({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const f_=e=>t=>e===t,i7=f_("scroll"),o7=f_("auto"),wC=(e,t)=>t(e.overflowX)||t(e.overflowY),a7=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return wC(n,i7)||wC(n,o7)},s7=()=>!1,p_=e=>e==null?null:e===document.body?s7()?e:null:e===document.documentElement?null:a7(e)?e:p_(e.parentElement);var Qy=e=>({x:e.scrollLeft,y:e.scrollTop});const h_=e=>e?window.getComputedStyle(e).position==="fixed"?!0:h_(e.parentElement):!1;var l7=e=>{const t=p_(e),n=h_(e);return{closestScrollable:t,isFixedOnPage:n}},c7=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:o,page:s,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:m,client:v}=l,x=GD({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:v,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:nn,displacement:nn}}}})(),d=i==="vertical"?Wx:AD,f=Is({page:s,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:o,page:s,frame:u,subject:f}};const u7=(e,t)=>{const n=mD(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,s=i+t.scrollWidth,u=Fx({top:r,right:s,bottom:o,left:i},n.border);return $x({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var d7=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:l})=>{const u=n.closestScrollable,d=u7(e,u),f=jf(d,r),p=(()=>{if(!u)return null;const v=mD(u),x={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:jf(v,r),scroll:Qy(u),scrollSize:x,shouldClipSubject:l}})();return c7({descriptor:t,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:f,closest:p})};const f7={passive:!1},p7={passive:!0};var SC=e=>e.shouldPublishImmediately?f7:p7;const zd=e=>e&&e.env.closestScrollable||null;function h7(e){const t=P.useRef(null),n=Rf(zp),r=tb("droppable"),{registry:i,marshal:o}=n,s=t_(e),l=Je(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=P.useRef(l),d=Je(()=>tn((N,D)=>{t.current||me();const O={x:N,y:D};o.updateDroppableScroll(l.id,O)}),[l.id,o]),f=Te(()=>{const N=t.current;return!N||!N.env.closestScrollable?nn:Qy(N.env.closestScrollable)},[]),p=Te(()=>{const N=f();d(N.x,N.y)},[f,d]),m=Je(()=>Cc(p),[p]),v=Te(()=>{const N=t.current,D=zd(N);if(N&&D||me(),N.scrollOptions.shouldPublishImmediately){p();return}m()},[m,p]),x=Te((N,D)=>{t.current&&me();const O=s.current,_=O.getDroppableRef();_||me();const T=l7(_),V={ref:_,descriptor:l,env:T,scrollOptions:D};t.current=V;const Y=d7({ref:_,descriptor:l,env:T,windowScroll:N,direction:O.direction,isDropDisabled:O.isDropDisabled,isCombineEnabled:O.isCombineEnabled,shouldClipSubject:!O.ignoreContainerClipping}),K=T.closestScrollable;return K&&(K.setAttribute(gC.contextId,n.contextId),K.addEventListener("scroll",v,SC(V.scrollOptions))),Y},[n.contextId,l,v,s]),w=Te(()=>{const N=t.current,D=zd(N);return N&&D||me(),Qy(D)},[]),b=Te(()=>{const N=t.current;N||me();const D=zd(N);t.current=null,D&&(m.cancel(),D.removeAttribute(gC.contextId),D.removeEventListener("scroll",v,SC(N.scrollOptions)))},[v,m]),C=Te(N=>{const D=t.current;D||me();const O=zd(D);O||me(),O.scrollTop+=N.y,O.scrollLeft+=N.x},[]),k=Je(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:w,dragStopped:b,scroll:C}),[b,x,w,C]),E=Je(()=>({uniqueId:r,descriptor:l,callbacks:k}),[k,l,r]);lr(()=>(u.current=E.descriptor,i.droppable.register(E),()=>{t.current&&b(),i.droppable.unregister(E)}),[k,l,b,E,o,i.droppable]),lr(()=>{t.current&&o.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),lr(()=>{t.current&&o.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function zg(){}const PC={width:0,height:0,margin:wW},m7=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?PC:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},g7=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=m7({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?pc.placeholder:null}},v7=e=>{const t=P.useRef(null),n=Te(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=e,[l,u]=P.useState(e.animate==="open");P.useEffect(()=>l?r!=="open"?(n(),u(!1),zg):t.current?zg:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):zg,[r,l,n]);const d=Te(p=>{p.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),f=g7({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return ut.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})};var y7=ut.memo(v7);class x7 extends ut.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const b7=e=>{const t=P.useContext(zp);t||me();const{contextId:n,isMovementAllowed:r}=t,i=P.useRef(null),o=P.useRef(null),{children:s,droppableId:l,type:u,mode:d,direction:f,ignoreContainerClipping:p,isDropDisabled:m,isCombineEnabled:v,snapshot:x,useClone:w,updateViewportMaxScroll:b,getContainerForClone:C}=e,k=Te(()=>i.current,[]),E=Te((K=null)=>{i.current=K},[]);Te(()=>o.current,[]);const N=Te((K=null)=>{o.current=K},[]),D=Te(()=>{r()&&b({maxScroll:qD()})},[r,b]);h7({droppableId:l,type:u,mode:d,direction:f,isDropDisabled:m,isCombineEnabled:v,ignoreContainerClipping:p,getDroppableRef:k});const O=Je(()=>ut.createElement(x7,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:K,data:B,animate:U})=>ut.createElement(y7,{placeholder:B,onClose:K,innerRef:N,animate:U,contextId:n,onTransitionEnd:D})),[n,D,e.placeholder,e.shouldAnimatePlaceholder,N]),_=Je(()=>({innerRef:E,placeholder:O,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,O,E]),T=w?w.dragging.draggableId:null,V=Je(()=>({droppableId:l,type:u,isUsingCloneFor:T}),[l,T,u]);function Y(){if(!w)return null;const{dragging:K,render:B}=w,U=ut.createElement(d_,{draggableId:K.draggableId,index:K.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ue,oe)=>B(ue,oe,K));return Ms.createPortal(U,C())}return ut.createElement(rb.Provider,{value:V},s(_,x),Y())};function w7(){return document.body||me(),document.body}const CC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:w7},m_=e=>{let t={...e},n;for(n in CC)e[n]===void 0&&(t={...t,[n]:CC[n]});return t},Wg=(e,t)=>e===t.droppable.type,AC=(e,t)=>t.draggables[e.draggable.id],S7=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=tn(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=tn((o,s,l,u,d,f)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===o){const x=f?{render:f,dragging:n(d.descriptor)}:null,w={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:x}}if(!s)return t;if(!u)return e;const v={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(o,s)=>{const l=m_(s),u=l.droppableId,d=l.type,f=!l.isDropDisabled,p=l.renderClone;if(jc(o)){const m=o.critical;if(!Wg(d,m))return t;const v=AC(m,o.dimensions),x=sr(o.impact)===u;return r(u,f,x,x,v,p)}if(o.phase==="DROP_ANIMATING"){const m=o.completed;if(!Wg(d,m.critical))return t;const v=AC(m.critical,o.dimensions);return r(u,f,c_(m.result)===u,sr(m.impact)===u,v,p)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const m=o.completed;if(!Wg(d,m.critical))return t;const v=sr(m.impact)===u,x=!!(m.impact.at&&m.impact.at.type==="COMBINE"),w=m.critical.droppable.id===u;return v?x?e:t:w?e:t}return t}},P7={updateViewportMaxScroll:TV},C7=fD(S7,P7,(e,t,n)=>({...m_(n),...e,...t}),{context:eb,areStatePropsEqual:l_})(b7),A7=Be.apiBaseUrl;function g_(e,t){const n=t.B,r=t.C;if(!n||!r||n.length<3||r.length<3){const l=t.n;return typeof l=="number"?l:1.5}const i=e*.001,o=i*i;let s=1;for(let l=0;l<3;l++)s+=n[l]*o/(o-r[l]);return Math.sqrt(Math.max(s,1))}async function k7(){const e=t=>t.map(r=>({name:r.name,n:g_(587.6,r.coefficients||{}),coefficients:r.coefficients}));try{const t=await fetch(`${A7}/api/materials`);if(t.ok){const n=await t.json();return e(n)}}catch{}try{const t=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=t.endsWith("/")?`${t}glass_library.json`:`${t}/glass_library.json`,r=typeof location<"u"?new URL(n,location.href).href:n,i=await fetch(r);if(i.ok){const s=(await i.json()).materials||[];return e(s)}}catch{}return[{name:"Air",n:1},{name:"N-BK7",n:1.5168},{name:"Fused Silica",n:1.458},{name:"N-SF11",n:1.78472},{name:"N-SF5",n:1.6727}]}const nu=Be.apiBaseUrl;function kC(e){return{Uncoated:{background:"#94a3b8"},None:{background:"#94a3b8"},MgF2:{background:"#7dd3fc"},BBAR:{background:"#93c5fd"},"V-Coat 532":{background:"#a5b4fc"},"V-Coat 1064":{background:"#67e8f9"},"Protected Silver":{background:"linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 50%, #94a3b8 100%)"},"Protected Gold":{background:"linear-gradient(135deg, #fcd34d 0%, #f59e0b 50%, #d97706 100%)"},"Protected Aluminum":{background:"linear-gradient(135deg, #9ca3af 0%, #6b7280 50%, #4b5563 100%)"},HR:{background:"linear-gradient(135deg, #374151 0%, #1f2937 100%)"}}[e]??{background:"#64748b"}}const ib=[{name:"Uncoated",description:"Uncoated (Fresnel ~4% R for glass)",is_hr:!1},{name:"None",description:"Uncoated (Fresnel ~4%)",is_hr:!1},{name:"MgF2",description:"Single-layer MgF AR coating",is_hr:!1},{name:"BBAR",description:"Broadband anti-reflection (400700 nm)",is_hr:!1},{name:"V-Coat 532",description:"V-coat optimized for 532 nm",is_hr:!1},{name:"V-Coat 1064",description:"V-coat optimized for 1064 nm",is_hr:!1},{name:"Protected Silver",description:"Protected silver mirror (~97.5% R)",is_hr:!1},{name:"Protected Gold",description:"Protected gold mirror (~98% R)",is_hr:!1},{name:"Protected Aluminum",description:"Protected aluminum mirror (~92% R)",is_hr:!1},{name:"HR",description:"High reflectivity mirror (>99.5%)  reflects instead of refracts",is_hr:!0}];async function E7(){const e=t=>t.map(n=>{const r=n;return{name:r.name??"",description:r.description??"",is_hr:r.is_hr??!1}});try{const t=await fetch(`${nu}/api/coatings`);if(t.ok){const n=await t.json();if(Array.isArray(n))return e(n)}}catch{}try{const t=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=t.endsWith("/")?`${t}coatings_library.json`:`${t}/coatings_library.json`,r=typeof location<"u"?new URL(n,location.href).href:n,i=await fetch(r);if(i.ok){const o=await i.json();if(Array.isArray(o))return e(o)}}catch{}return ib}const N7=ib.map(e=>({...e,category:e.is_hr?"HR":"AR",source:"builtin"}));async function O7(){const e=t=>t.map(n=>{const r=n;return{name:r.name??"",description:r.description??"",is_hr:r.is_hr??!1,category:r.category??(r.is_hr?"HR":"AR"),source:r.source==="custom"?"custom":"builtin"}});try{const t=await fetch(`${nu}/api/coatings/library`);if(t.ok){const n=await t.json();if(Array.isArray(n)){const r=e(n);if(r.length>0)return r}}}catch{}try{const t=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=t.endsWith("/")?`${t}coatings_library.json`:`${t}/coatings_library.json`,r=typeof location<"u"?new URL(n,location.href).href:n,i=await fetch(r);if(i.ok){const o=await i.json();if(Array.isArray(o))return e(o)}}catch{}return N7}async function v_(e){try{const t=await fetch(`${nu}/api/coatings/${encodeURIComponent(e)}/definition`);if(!t.ok)return null;const n=await t.json();return{name:n.name??e,data_type:n.data_type??"constant",constant_value:n.constant_value,data_points:n.data_points,is_hr:n.is_hr??!1}}catch{return null}}async function j7(e){const t=await fetch(`${nu}/api/coatings/custom`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.text();throw new Error(r||"Failed to create coating")}const n=await t.json();return{name:n.name??"",description:n.description??"",is_hr:n.type==="HR"}}async function y_(e,t,n,r=5){try{const i=new URLSearchParams({min_nm:String(t),max_nm:String(n),step_nm:String(r)}),o=await fetch(`${nu}/api/coatings/${encodeURIComponent(e)}/reflectivity?${i}`);if(!o.ok)throw new Error("Failed to fetch");const l=(await o.json())?.points;if(!Array.isArray(l))throw new Error("Invalid response");return l.map(u=>({wavelength:Number(u.wavelength)||0,reflectivity:Number(u.reflectivity)??0}))}catch{return D7(e,t,n,r)}}function D7(e,t,n,r){const i=[],o=s=>{switch(e){case"Uncoated":case"None":return .04;case"MgF2":return .013*(1+.1*(s/550-1)**2);case"BBAR":return s>=400&&s<=700?.004+.001*Math.abs(s-550)/150:.01;case"V-Coat 355":return .0025+.01*Math.min(Math.abs(s-355)/30,1);case"V-Coat 532":return .0025+.01*Math.min(Math.abs(s-532)/50,1);case"V-Coat 633":return .0025+.01*Math.min(Math.abs(s-633)/50,1);case"V-Coat 1064":return .0025+.01*Math.min(Math.abs(s-1064)/100,1);case"V-Coat 1550":return .0025+.01*Math.min(Math.abs(s-1550)/100,1);case"Protected Silver":return .975;case"Protected Gold":return .98;case"Protected Aluminum":return .92;case"Enhanced Silver":return .985;case"HR":case"HR 355":case"HR 532":case"HR 633":case"HR 1064":case"HR 355nm":case"HR 1064nm":case"HR Broadband":return .995;case"Dielectric MaxReflect":return .999;case"Beamsplitter 50/50":case"Cube 50/50":return .5;case"Beamsplitter 70/30":case"Cube 70/30":return .7;case"Beamsplitter 90/10":return .9;case"Beamsplitter 60/40":return .6;case"Beamsplitter 80/20":return .8;case"Beamsplitter 30/70":return .3;case"Beamsplitter 10/90":return .1;case"Pellicle 8%":return .08;case"Pellicle 45%":return .45;case"Neutral Density 50%":return .25;case"Neutral Density 10%":return .45;case"Neutral Density 1%":return .495;default:return .04}};for(let s=t;s<=n;s+=r)i.push({wavelength:s,reflectivity:o(s)});return i}const cs=180,Sr=80,ht={left:36,right:8,top:6,bottom:24};function _7({points:e,systemWavelengthNm:t,minNm:n,maxNm:r,coatingName:i,className:o=""}){if(!e.length)return null;const s=n,l=r,u=l-s||1,d=cs-ht.left-ht.right,f=Sr-ht.top-ht.bottom,p=E=>ht.left+(E-s)/u*d,m=Math.max(...e.map(E=>E.reflectivity),.01),v=Math.min(1,m*1.2),x=e.map((E,N)=>`${N===0?"M":"L"} ${p(E.wavelength)} ${ht.top+f-E.reflectivity/v*f}`).join(" "),w=p(t),b=t>=s&&t<=l,k=e.reduce((E,N)=>Math.abs(E.wavelength-t)<=Math.abs(N.wavelength-t)?E:N).reflectivity;return y.jsxs("div",{className:o,children:[i&&y.jsx("div",{className:"text-[10px] font-medium text-slate-300 mb-0.5 truncate",title:i,children:i}),y.jsxs("svg",{width:cs,height:Sr,className:"block",viewBox:`0 0 ${cs} ${Sr}`,children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"reflectivityGrad",x1:"0",y1:"1",x2:"0",y2:"0",children:[y.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:"0.3"}),y.jsx("stop",{offset:"100%",stopColor:"#22d3ee",stopOpacity:"0"})]})}),y.jsx("line",{x1:ht.left,y1:ht.top,x2:ht.left,y2:Sr-ht.bottom,stroke:"#334155",strokeWidth:"0.5"}),y.jsx("line",{x1:ht.left,y1:Sr-ht.bottom,x2:cs-ht.right,y2:Sr-ht.bottom,stroke:"#334155",strokeWidth:"0.5"}),y.jsx("text",{x:ht.left-4,y:ht.top+4,className:"fill-slate-500",fontSize:"8",textAnchor:"end",children:"R"}),y.jsx("text",{x:ht.left,y:Sr-4,className:"fill-slate-500",fontSize:"8",textAnchor:"middle",children:s}),y.jsx("text",{x:cs-ht.right,y:Sr-4,className:"fill-slate-500",fontSize:"8",textAnchor:"middle",children:l}),y.jsx("text",{x:(ht.left+cs-ht.right)/2,y:Sr-4,className:"fill-slate-500",fontSize:"8",textAnchor:"middle",children:" (nm)"}),b&&y.jsx("line",{x1:w,y1:ht.top,x2:w,y2:Sr-ht.bottom,stroke:"#22d3ee",strokeWidth:"1",strokeDasharray:"3 2",opacity:.8}),y.jsx("path",{d:`${x} L ${p(e[e.length-1].wavelength)} ${Sr-ht.bottom} L ${p(e[0].wavelength)} ${Sr-ht.bottom} Z`,fill:"url(#reflectivityGrad)"}),y.jsx("path",{d:x,fill:"none",stroke:"#22d3ee",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),b&&y.jsxs("g",{children:[y.jsx("circle",{cx:w,cy:ht.top+f-k/v*f,r:"2.5",fill:"#22d3ee"}),y.jsxs("text",{x:w,y:ht.top-2,className:"fill-cyan-electric",fontSize:"7",textAnchor:"middle",fontWeight:"600",children:[t," nm"]}),y.jsxs("text",{x:w+2,y:ht.top+f-k/v*f,className:"fill-slate-300",fontSize:"7",textAnchor:"start",children:["R=",(k*100).toFixed(2),"%"]})]})]})]})}function T7(e){const t=e.surfaceQuality?.trim()||"3/2",n=e.radiusTolerance??e.thicknessTolerance;return n!=null&&n>0?`${t}(${n.toFixed(2)})`:t}function M7(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(n),n+=e[r].thickness??0;return t}function Vg(e,t,n,r=24){const i=[];if(Math.abs(t)<.1)i.push([e,-n],[e,n]);else{const o=t;for(let s=0;s<=r;s++){const u=(s/r-.5)*2*n,d=Math.max(0,o*o-u*u),f=o-Math.sign(o)*Math.sqrt(d);i.push([e+f,u])}}return i}function I7(e,t){return e.length<=t?e:e.slice(0,t-1)+""}function df(e,t){const{projectName:n,date:r,drawnBy:i="MacOptics",width:o=1400,height:s=1e3}=t,l=e.surfaces,u=e.entrancePupilDiameter??10,d=M7(l),f=d.length?d[d.length-1]+(l[l.length-1]?.thickness??0):0,m=(l.length?Math.max(u,...l.map(ge=>ge.diameter??u)):u)/2+8,v=50,x=50,w=(o-v*2-x)/2,b=s-v*2-120,C=Math.max(f+50,60),k=(w-80)/C,E=b/(2*m+30),N=Math.min(k,E,10),D=v+60,O=v+50+b/2,_=(ge,Me)=>`${(D+ge*N).toFixed(2)},${(O-Me*N).toFixed(2)}`,T=[];for(let ge=0;ge<l.length;ge++){const Me=l[ge],He=d[ge]??0,Ke=(Me.diameter??u)/2,pt=Vg(He,Me.radius,Ke);if(pt.length>=2){T.push(`M ${_(pt[0][0],pt[0][1])}`);for(let at=1;at<pt.length;at++)T.push(`L ${_(pt[at][0],pt[at][1])}`)}}const V=T.join(" "),Y=[];for(let ge=0;ge<l.length-1;ge++){const Me=l[ge],He=l[ge+1];if((Me.refractiveIndex??1)<=1.01)continue;const Ke=d[ge]??0,pt=d[ge+1]??Ke+Me.thickness,at=(Me.diameter??u)/2,ln=Vg(Ke,Me.radius,at),Ot=Vg(pt,He.radius,(He.diameter??u)/2).reverse(),jn=[...ln,...Ot];if(jn.length>=3){const pr="M "+jn.map(([qn,Uo])=>_(qn,Uo)).join(" L ")+" Z";Y.push(pr)}}const K=[],B=[],U=4,ue=6,oe=22,we=32,Q=O-m*N-35,G=O+m*N+28,ne=[];for(let ge=0;ge<l.length-1;ge++){const Me=l[ge],He=d[ge]??0,Ke=d[ge+1]??He+Me.thickness,pt=D+He*N,at=D+Ke*N;ne.push({i:ge,midX:(pt+at)/2,x1:pt,x2:at,ct:Me.thickness??0})}const te=[];for(const ge of ne){const Me=ge.midX-we,He=ge.midX+we;let Ke=0;for(;Ke<ue;Ke++){const Ot=te.find(jn=>jn.band===Ke);if(!Ot||Ot.maxRight<Me){Ot?Ot.maxRight=He:te.push({band:Ke,maxRight:He});break}}if(Ke>=ue){Ke=0;const Ot=te.find(jn=>jn.band===0);Ot?Ot.maxRight=Math.max(Ot.maxRight,He):te.push({band:0,maxRight:He})}const pt=Ke<ue/2,at=pt?Q+14+Ke%3*(oe/2):G-14-Ke%3*(oe/2),ln=pt?Q+Ke%3*(oe/2)-2:G+Ke%3*(oe/2)+14;K.push(`M ${ge.x1.toFixed(2)} ${O} L ${ge.x1.toFixed(2)} ${at}`,`M ${ge.x2.toFixed(2)} ${O} L ${ge.x2.toFixed(2)} ${at}`,`M ${ge.x1.toFixed(2)} ${at} L ${ge.x2.toFixed(2)} ${at}`,`M ${ge.x1.toFixed(2)} ${(at-U).toFixed(2)} L ${ge.x1.toFixed(2)} ${(at+U).toFixed(2)}`,`M ${ge.x2.toFixed(2)} ${(at-U).toFixed(2)} L ${ge.x2.toFixed(2)} ${(at+U).toFixed(2)}`),B.push({x:ge.midX,y:ln,text:`CT ${ge.ct.toFixed(2)} mm`})}const L=O+m*N+68,W=D,ie=D+f*N;K.push(`M ${W.toFixed(2)} ${O} L ${W.toFixed(2)} ${L}`,`M ${ie.toFixed(2)} ${O} L ${ie.toFixed(2)} ${L}`,`M ${W.toFixed(2)} ${L} L ${ie.toFixed(2)} ${L}`,`M ${W.toFixed(2)} ${(L-U).toFixed(2)} L ${W.toFixed(2)} ${(L+U).toFixed(2)}`,`M ${ie.toFixed(2)} ${(L-U).toFixed(2)} L ${ie.toFixed(2)} ${(L+U).toFixed(2)}`),B.push({x:(W+ie)/2,y:L+14,text:`TOTAL ${f.toFixed(2)} mm`});const se=v+w+x+10,de=v+36,X=26,$=[44,56,100,72],ee=$.reduce((ge,Me)=>ge+Me,0),R=["Surf","S/D 3/2","Material","CT (mm)"];let re=`<text x="${se}" y="${v+22}" font-size="9" fill="#64748b">Surface Quality (Scratch/Dig) per ISO 10110  see S/D column</text>`;for(let ge=0;ge<=l.length;ge++){const Me=de+ge*X;let He=se;for(let Ke=0;Ke<$.length;Ke++){const pt=$[Ke];re+=`<rect x="${He}" y="${Me}" width="${pt}" height="${X}" fill="${ge===0?"rgba(30,41,59,0.95)":"rgba(15,23,42,0.95)"}" stroke="#475569" stroke-width="0.8"/>`;const at=He+pt/2,ln=Me+X/2+4;if(ge===0)re+=`<text x="${at}" y="${ln}" font-size="11" font-weight="bold" fill="#94a3b8" text-anchor="middle">${Wd(R[Ke])}</text>`;else{const Ot=l[ge-1],jn=ge>1?l[ge-2]?.thickness??0:null,pr=T7(Ot),qn=I7(Ot.material||(Ot.type==="Air"?"Air":""),14),Uo=Ke===0?String(ge):Ke===1?pr:Ke===2?qn:jn!=null?jn.toFixed(2):"";re+=`<text x="${at}" y="${ln}" font-size="10" fill="#e2e8f0" text-anchor="middle">${Wd(Uo)}</text>`}He+=pt}}const fe=(l.length+1)*X,I=se,Ce=de+fe+20,be=ee,Ye=98,ze=28,rt=12,ye=82,it=[{label:"Project Name:",value:n||""},{label:"Date:",value:r},{label:"Drawn By:",value:i}];let On=`<rect x="${I}" y="${Ce}" width="${be}" height="${Ye}" fill="rgba(30,41,59,0.95)" stroke="#475569" stroke-width="1" rx="4"/>`;return it.forEach((ge,Me)=>{const He=Ce+rt+Me*ze,Ke=I+rt,pt=I+ye+rt,at=be-ye-rt*2;On+=`<text x="${Ke}" y="${He+18}" font-size="10" fill="#94a3b8">${Wd(ge.label)}</text>`,On+=`<rect x="${pt}" y="${He+2}" width="${at}" height="${ze-4}" fill="rgba(15,23,42,0.9)" stroke="#334155" stroke-width="0.5" rx="2"/>`,On+=`<text x="${pt+8}" y="${He+18}" font-size="10" fill="#e2e8f0">${Wd(ge.value)}</text>`}),`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${o} ${s}" width="${o}" height="${s}">
  <defs>
    <style>.dim-line { stroke: #64748b; stroke-width: 0.8; fill: none; }</style>
  </defs>
  <rect width="100%" height="100%" fill="#0f172a"/>
  <text x="${v}" y="${v+12}" font-size="14" font-weight="bold" fill="#22D3EE">ISO 10110 Optical Drawing</text>

  <!-- Cross-section (left) - data-type="optical-surface" for LENS-X SVG import -->
  <path d="${V}" fill="none" stroke="#22D3EE" stroke-width="1.5" data-type="optical-surface"/>
  ${Y.map(ge=>`<path d="${ge}" fill="rgba(34,211,238,0.15)" stroke="#22D3EE" stroke-width="1" data-type="optical-surface"/>`).join(`
  `)}

  <!-- Dimension lines -->
  ${K.map(ge=>`<path d="${ge}" class="dim-line"/>`).join(`
  `)}
  ${B.map(ge=>`<text x="${ge.x}" y="${ge.y}" font-size="10" fill="#94a3b8" text-anchor="middle">${ge.text}</text>`).join(`
  `)}

  <!-- Data table (right)  Surface Quality note placed here to avoid overlap with dimension labels -->
  ${re}

  <!-- Title block -->
  ${On}
</svg>`}function Wd(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const EC=["1.0"];function x_(e,t={}){const{projectName:n="Untitled",date:r=new Date().toISOString().slice(0,10),drawnBy:i="MacOptics",entrancePupilDiameter:o=10,referenceWavelengthNm:s=587.6,mcIterations:l=1e3,mcSeed:u=42,targetYield:d=.95,width:f=800,height:p=570,customCoatingData:m={}}=t,v=e.map(b=>{const C={};b.refractiveIndex!=null&&(C.refractive_index=b.refractiveIndex),b.sellmeierCoefficients&&(C.sellmeier=b.sellmeierCoefficients),b.coating&&(C.coating=b.coating);const k=b.coatingDataPoints!=null?"table":"constant",E=b.coatingDataPoints!=null||b.coatingConstantValue!=null?{data_type:k,data_points:b.coatingDataPoints,constant_value:b.coatingConstantValue,is_hr:b.coatingIsHr}:b.coating?m[b.coating]:void 0;E&&(E.data_type==="table"&&E.data_points?.length?C.coating_r_table=E.data_points:E.data_type==="constant"&&E.constant_value!=null&&(C.coating_constant_r=E.constant_value),E.is_hr!=null&&(C.coating_is_hr=E.is_hr));const N=b.radius??0,D=N===0||typeof N=="number"&&Math.abs(N)<.01,O=b.tiltTolerance??0;return{radius:D?"infinity":N,thickness:b.thickness??0,aperture:(b.diameter??25)/2,material:b.material??(b.type==="Air"?"Air":"N-BK7"),type:b.type??(b.refractiveIndex>1.01?"Glass":"Air"),description:b.description??"",...b.semanticName&&{semantic_name:b.semanticName},...b.aiContext&&{ai_context:b.aiContext},physics:Object.keys(C).length>0?C:void 0,manufacturing:{surface_quality:b.surfaceQuality??"3/2",radius_tolerance:b.radiusTolerance??0,thickness_tolerance:b.thicknessTolerance??0,tilt_tolerance:O},tolerances:{radius_tol:b.radiusTolerance??0,thickness_tol:b.thicknessTolerance??0,decenter_x:b.decenterX??0,decenter_y:b.decenterY??0,tilt_x:O,tilt_y:O,index_tol:0}}}),x=s??587.6,w=df({surfaces:e,entrancePupilDiameter:o},{projectName:n,date:r,drawnBy:i,width:f,height:p});return{lens_x_version:"1.0",metadata:{project_name:n,date:r,drawn_by:i},system_settings:{mc_iterations:l,mc_seed:u,target_yield:d},optics:{surfaces:v,entrance_pupil_diameter:o,reference_wavelength_nm:x},geometry:{svg_path:w}}}function R7(e){if(!e||typeof e!="object")throw new Error("Invalid LENS-X: expected an object");const t=e,n=t.lens_x_version;if(typeof n!="string"||!EC.includes(n))throw new Error(`Invalid LENS-X: missing or unsupported lens_x_version. Expected one of: ${EC.join(", ")}`);const r=t.optics;if(!r||typeof r!="object")throw new Error("Invalid LENS-X: missing optics block");const i=r,o=i.surfaces;if(!Array.isArray(o))throw new Error("Invalid LENS-X: optics.surfaces must be an array");let s=!0;const l=o.map((v,x)=>{if(!v||typeof v!="object")throw new Error(`Invalid LENS-X: surface ${x+1} is not an object`);const w=v,b=w.radius,C=b==="infinity"||b==="inf"||b==="flat"||b===0?0:typeof b=="number"?b:0,k=typeof w.thickness=="number"?w.thickness:0,E=typeof w.aperture=="number"?w.aperture:12.5,N=Math.max(.1,2*E),D=String(w.material||(w.type==="Air"?"Air":"N-BK7")).trim(),_=String(w.type||"Glass").trim().toLowerCase()==="air"||D.toLowerCase()==="air",T=_?"Air":"Glass",V=w.physics||{},Y=T==="Air"?1:typeof V.refractive_index=="number"?V.refractive_index:1.52,K=w.manufacturing||{},B={id:crypto.randomUUID(),type:T,radius:C,thickness:k,refractiveIndex:Y,diameter:N,material:_?"Air":D,description:String(w.description||`Surface ${x+1}`),...typeof w.semantic_name=="string"&&w.semantic_name&&{semanticName:w.semantic_name},...typeof w.ai_context=="string"&&{aiContext:w.ai_context}};if(V.sellmeier&&typeof V.sellmeier=="object"){const oe=V.sellmeier;Array.isArray(oe.B)&&Array.isArray(oe.C)&&(B.sellmeierCoefficients={B:oe.B,C:oe.C})}V.coating&&typeof V.coating=="string"&&(B.coating=V.coating.trim()),Array.isArray(V.coating_r_table)&&V.coating_r_table.length>0&&(B.coatingDataPoints=V.coating_r_table.map(oe=>({wavelength:Number(oe?.wavelength)||0,reflectivity:Number(oe?.reflectivity)??0}))),typeof V.coating_constant_r=="number"&&(B.coatingConstantValue=V.coating_constant_r),typeof V.coating_is_hr=="boolean"&&(B.coatingIsHr=V.coating_is_hr),K.surface_quality&&(B.surfaceQuality=String(K.surface_quality)),typeof K.radius_tolerance=="number"&&(B.radiusTolerance=K.radius_tolerance),typeof K.thickness_tolerance=="number"&&(B.thicknessTolerance=K.thickness_tolerance),typeof K.tilt_tolerance=="number"&&(B.tiltTolerance=K.tilt_tolerance);const U=w.tolerances||{};return U&&typeof U=="object"&&Object.keys(U).length>0?(B.radiusTolerance=typeof U.radius_tol=="number"?U.radius_tol:B.radiusTolerance??0,B.thicknessTolerance=typeof U.thickness_tol=="number"?U.thickness_tol:B.thicknessTolerance??0,B.tiltTolerance=typeof U.tilt_x=="number"?U.tilt_x:typeof U.tilt_y=="number"?U.tilt_y:B.tiltTolerance??0,B.decenterX=typeof U.decenter_x=="number"?U.decenter_x:0,B.decenterY=typeof U.decenter_y=="number"?U.decenter_y:0):(s=!1,B.radiusTolerance=B.radiusTolerance??0,B.thicknessTolerance=B.thicknessTolerance??0,B.tiltTolerance=B.tiltTolerance??0,B.decenterX=0,B.decenterY=0),B}),u=typeof i.entrance_pupil_diameter=="number"?i.entrance_pupil_diameter:Be.defaults.entrancePupilDiameter,d=typeof i.reference_wavelength_nm=="number"?i.reference_wavelength_nm:Be.defaults.defaultWavelength,f=t.metadata||{},p=typeof f.project_name=="string"?f.project_name:void 0,m=t.system_settings||{};return{surfaces:l,entrancePupilDiameter:u,wavelengths:[d],projectName:p,mc_iterations:typeof m.mc_iterations=="number"?m.mc_iterations:void 0,mc_seed:typeof m.mc_seed=="number"?m.mc_seed:void 0,target_yield:typeof m.target_yield=="number"?m.target_yield:void 0,hasTolerancesData:s}}function Jy(e){let t;try{t=JSON.parse(e)}catch(n){throw new Error(`Invalid JSON: ${n instanceof Error?n.message:String(n)}`)}return R7(t)}async function L7(e){const t=await e.text();try{return{surfaces:Jy(t).surfaces}}catch(n){const r=n instanceof Error?n.message:String(n);throw new Error(`Invalid LENS-X file: ${r}`)}}async function F7(e){const t=(e.name||"").toLowerCase().split(".").pop()??"",n=e.name.toLowerCase().endsWith(".lensx"),r=t==="json",i=t==="svg";if(n||r)try{return await L7(e)}catch(o){throw o}throw i?new Error("SVG import requires the backend server. Use .lensx or .json for standalone mode."):t==="csv"?new Error("CSV import requires the backend server. Use .lensx or .json for standalone mode."):new Error(`Unsupported file type .${t}. Use .lensx, .json, or .svg.`)}function $7(e){if(e.radius===0)return null;const t=e.refractiveIndex??1;return Math.abs(t-1)<1e-9?null:e.radius/(t-1)}function B7(e){const t=e.refractiveIndex??1;if(t<=1)return null;const n=1/t;return n>1?null:Math.asin(n)*180/Math.PI}function b_(e){const t=$7(e),n=B7(e);return{...e,effective_focal_length:t??void 0,critical_angle:n??void 0}}function z7(e,t){return e<=1?0:(e-1)/e*t}function W7(e,t,n){if(e===0||t===0||Math.abs(n-1)<1e-9)return null;const r=e/(n-1);return t/(n-1)-r}function V7(e,t,n,r,i){const o=e.semanticName??`S${i+1}`,s=e.refractiveIndex??1;switch(t){case"thickness":{const l=Number(n)||0,d=(Number(r)||0)-l;if(Math.abs(d)<1e-6)return"";const f=d>0?"Increasing":"Decreasing",p=z7(s,d);if(e.type==="Glass"&&Math.abs(p)>.001){const m=p>=0?`+${p.toFixed(2)}`:p.toFixed(2);return`${f} thickness of ${o} by ${Math.abs(d).toFixed(2)}mm; likely shifting focus by ${m}mm`}return`${f} thickness of ${o} by ${Math.abs(d).toFixed(2)}mm`}case"radius":{const l=Number(n)??0,u=Number(r)??0,d=u-l;if(Math.abs(d)<1e-6)return"";const f=W7(l,u,s);if(f!=null&&Math.abs(f)>.1){const p=f>0?"longer":"shorter";return`Changing curvature of ${o}; effective focal length becomes ${p} by ~${Math.abs(f).toFixed(1)}mm`}return`Changing radius of ${o} from ${l.toFixed(1)} to ${u.toFixed(1)}mm`}case"refractiveIndex":case"material":{const d=(typeof r=="number"?r:s)-(typeof n=="number"?n:1);if(Math.abs(d)<1e-4)return"";const f=d>0?"increases power; shorter focal length":"decreases power; longer focal length";return`Material change on ${o}: n ${d>0?"+":""}${d.toFixed(3)}; ${f}`}case"diameter":{const l=Number(n)??0,d=(Number(r)??0)-l;return Math.abs(d)<1e-6?"":`${d>0?"Larger":"Smaller"} aperture on ${o} by ${Math.abs(d).toFixed(1)}mm; affects vignetting and edge rays`}case"coating":return`Coating change on ${o}; affects reflectivity and power loss`;default:return`Updated ${t} on ${o}`}}const U7=[{name:"Air",n:1},{name:"N-BK7",n:1.5168},{name:"Fused Silica",n:1.458},{name:"N-SF11",n:1.78472},{name:"N-SF5",n:1.6727}],ws="w-full bg-white/5 border border-white/10 rounded px-2 py-1 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50 focus:shadow-[0_0_8px_rgba(34,211,238,0.25)] transition-shadow",ii="w-full bg-white/5 border border-white/10 rounded px-2 py-1 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50 focus:shadow-[0_0_8px_rgba(34,211,238,0.25)] transition-shadow font-mono tabular-nums",NC=["N-BK7","Fused Silica"],OC=["Uncoated","MgF2","BBAR"];function H7({value:e,onChange:t,onClick:n,materials:r,wavelengthNm:i,fallbackN:o}){const[s,l]=P.useState(!1),[u,d]=P.useState(""),f=P.useRef(null),p=P.useRef(null),[m,v]=P.useState({top:0,left:0,width:0}),x=P.useRef(()=>{if(f.current){const _=f.current.getBoundingClientRect();v({top:_.bottom,left:_.left,width:_.width})}}),w=u.trim()?r.filter(_=>_.name.toLowerCase().includes(u.toLowerCase())):r,b=w.filter(_=>NC.includes(_.name)),C=w.filter(_=>!NC.includes(_.name)),k=r.find(_=>_.name.toLowerCase()===e.toLowerCase()),E=k?.coefficients?g_(i,k.coefficients):o,N=P.useRef(t);N.current=t,P.useLayoutEffect(()=>{s&&f.current&&(x.current(),f.current.focus())},[s]),P.useEffect(()=>{if(!s)return;const _=()=>x.current();return window.addEventListener("scroll",_,!0),window.addEventListener("resize",_),()=>{window.removeEventListener("scroll",_,!0),window.removeEventListener("resize",_)}},[s]),P.useEffect(()=>{const _=T=>{const V=T.target;f.current?.contains(V)||p.current?.contains(V)||(u.trim()&&u!==e&&N.current(u.trim()),d(""),l(!1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[u,e,s]);const D=_=>{const T=_.coefficients,V=T&&Array.isArray(T.B)&&Array.isArray(T.C)&&T.B.length>=3&&T.C.length>=3?{B:T.B,C:T.C}:void 0;t(_.name,_.n,V),d(""),l(!1)},O=s&&Ms.createPortal(y.jsxs(Ze.div,{ref:p,initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:"fixed z-[9999] min-w-[12rem] max-h-64 overflow-auto rounded-lg border border-slate-700 bg-slate-900/95 shadow-2xl backdrop-blur-xl",style:{top:m.top+4,left:m.left,width:Math.max(m.width,192)},children:[y.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-2 border-b border-slate-700 bg-slate-900/95 px-2 py-1.5",children:[y.jsx(js,{className:"w-4 h-4 shrink-0 text-slate-400",strokeWidth:2}),y.jsx("input",{type:"text",value:u,onChange:_=>d(_.target.value),placeholder:"Search materials...",className:"flex-1 bg-transparent text-sm text-slate-200 placeholder:text-slate-500 focus:outline-none",autoComplete:"off"})]}),y.jsxs("div",{className:"py-1",children:[b.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"Common"}),b.map(_=>y.jsxs("button",{type:"button",onClick:T=>{T.stopPropagation(),D(_)},className:"w-full text-left px-2 py-1.5 text-sm hover:bg-cyan-electric/20 text-slate-200 rounded",children:[_.name," ",y.jsxs("span",{className:"text-slate-500",children:["(n=",_.n,")"]})]},_.name))]}),C.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[b.length>0&&y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"All"}),C.map(_=>y.jsxs("button",{type:"button",onClick:T=>{T.stopPropagation(),D(_)},className:"w-full text-left px-2 py-1.5 text-sm hover:bg-cyan-electric/20 text-slate-200 rounded",children:[_.name," ",y.jsxs("span",{className:"text-slate-500",children:["(n=",_.n,")"]})]},_.name))]}),w.length===0&&y.jsx("div",{className:"px-2 py-3 text-sm text-slate-500",children:"No matches"})]})]}),document.body);return y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"flex gap-0.5 flex-1 min-w-0",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(js,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"}),y.jsx("input",{ref:f,type:"text",value:s?u:e,onChange:_=>{d(_.target.value),s||l(!0)},onFocus:()=>{d(e),l(!0)},onClick:n,placeholder:"Material...",className:`${ws} pl-8`})]}),y.jsx("button",{type:"button",onClick:_=>{_.stopPropagation(),s||(d(e),x.current(),setTimeout(()=>f.current?.focus(),0)),l(T=>!T)},className:"p-1 rounded bg-white/5 border border-white/10 text-slate-400 hover:text-cyan-electric shrink-0","aria-label":"Toggle material list",children:y.jsx(As,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,strokeWidth:2})})]}),y.jsxs("span",{className:"shrink-0 text-xs font-mono tabular-nums text-slate-500 min-w-[3.5rem]",title:`n at ${(i/1e3).toFixed(3)} m`,children:["n",E.toFixed(3)]}),O]})}function G7({value:e,onChange:t,onClick:n,coatings:r,wavelengthNm:i,wavelengths:o}){const[s,l]=P.useState(!1),[u,d]=P.useState(""),[f,p]=P.useState(null),[m,v]=P.useState({}),[x,w]=P.useState(!1),b=P.useRef(null),C=P.useRef(null),[k,E]=P.useState({top:0,left:0,width:0}),N=e==="None"||!e?"Uncoated":e,D=o.length?Math.max(350,Math.min(...o)-80):400,O=o.length?Math.min(1200,Math.max(...o)+80):700,_=P.useRef(()=>{if(b.current){const Q=b.current.getBoundingClientRect();E({top:Q.bottom,left:Q.left,width:Q.width})}}),T=u.trim()?r.filter(Q=>Q.name.toLowerCase().includes(u.toLowerCase())||Q.description&&Q.description.toLowerCase().includes(u.toLowerCase())):r,V=T.filter(Q=>OC.includes(Q.name)),Y=T.filter(Q=>!OC.includes(Q.name)),K=P.useRef(t);K.current=t,P.useLayoutEffect(()=>{s&&b.current&&(_.current(),b.current.focus())},[s]),P.useEffect(()=>{if(!s)return;const Q=()=>_.current();return window.addEventListener("scroll",Q,!0),window.addEventListener("resize",Q),()=>{window.removeEventListener("scroll",Q,!0),window.removeEventListener("resize",Q)}},[s]),P.useEffect(()=>{const Q=G=>{const ne=G.target;b.current?.contains(ne)||C.current?.contains(ne)||(d(""),l(!1),p(null))};return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[s]),P.useEffect(()=>{if(!f||m[f])return;let Q=!1;return w(!0),y_(f,D,O,5).then(G=>{Q||v(ne=>({...ne,[f]:G})),w(!1)}).catch(()=>w(!1)),()=>{Q=!0}},[f,D,O,m]);const B=Q=>{t(Q.name),d(""),l(!1)},U=Q=>y.jsx("div",{className:"relative",onMouseEnter:()=>p(Q.name),onMouseLeave:()=>p(null),children:y.jsxs("button",{type:"button","data-testid":`coating-option-${Q.name.replace(/\s+/g,"-")}`,onClick:G=>{G.stopPropagation(),B(Q)},className:"w-full text-left px-2 py-1.5 text-sm hover:bg-cyan-electric/20 text-slate-200 rounded flex items-center gap-2",children:[y.jsx("span",{className:"shrink-0 w-3 h-3 rounded-full border border-white/20",style:kC(Q.name),title:Q.description}),y.jsx("span",{children:Q.name})]})},Q.name),ue=Math.max(k.width,192),oe=s&&f&&Ms.createPortal(y.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.15},className:"fixed z-[10000] rounded-lg border border-slate-700 bg-slate-900/95 shadow-2xl backdrop-blur-xl p-2",style:{top:k.top+4,left:k.left+ue+8},children:x?y.jsx("div",{className:"w-[180px] h-[80px] flex items-center justify-center text-slate-500 text-xs",children:"Loading"}):m[f]?y.jsx(_7,{points:m[f],systemWavelengthNm:i,minNm:D,maxNm:O,coatingName:f}):null}),document.body),we=s&&Ms.createPortal(y.jsxs(Ze.div,{ref:C,initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:"fixed z-[9999] min-w-[12rem] max-h-64 overflow-auto rounded-lg border border-slate-700 bg-slate-900/95 shadow-2xl backdrop-blur-xl",style:{top:k.top+4,left:k.left,width:ue},children:[y.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-2 border-b border-slate-700 bg-slate-900/95 px-2 py-1.5",children:[y.jsx(js,{className:"w-4 h-4 shrink-0 text-slate-400",strokeWidth:2}),y.jsx("input",{type:"text",value:u,onChange:Q=>d(Q.target.value),placeholder:"Search coatings...",className:"flex-1 bg-transparent text-sm text-slate-200 placeholder:text-slate-500 focus:outline-none",autoComplete:"off"})]}),y.jsxs("div",{className:"py-1",children:[V.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"Common"}),V.map(U)]}),Y.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[V.length>0&&y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"All"}),Y.map(U)]}),T.length===0&&y.jsx("div",{className:"px-2 py-3 text-sm text-slate-500",children:"No matches"})]})]}),document.body);return y.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[y.jsxs("div",{className:"flex gap-0.5 flex-1 min-w-0",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(js,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"}),y.jsx("input",{ref:b,type:"text",value:s?u:N,onChange:Q=>{d(Q.target.value),s||l(!0)},onFocus:()=>{d(N),l(!0)},onClick:n,placeholder:"Coating...",className:`${ws} pl-8`})]}),y.jsx("button",{type:"button",onClick:Q=>{Q.stopPropagation(),s||(d(N),_.current(),setTimeout(()=>b.current?.focus(),0)),l(G=>!G)},className:"p-1 rounded bg-white/5 border border-white/10 text-slate-400 hover:text-cyan-electric shrink-0","aria-label":"Toggle coating list",children:y.jsx(As,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,strokeWidth:2})})]}),y.jsx("span",{className:"shrink-0 w-3 h-3 rounded-full border border-white/20",style:kC(N),title:r.find(Q=>Q.name===N)?.description}),we,oe]})}function K7(e){if(!e?.length)return new Set;const t=Math.max(...e);if(t<=0)return new Set;const n=new Set;return e.forEach((r,i)=>{r>=t*.9&&n.add(i)}),n}function q7({systemState:e,onSystemStateChange:t,onLoadComplete:n,selectedSurfaceId:r,onSelectSurface:i,sensitivityBySurface:o,onSemanticDelta:s}){const l=e.surfaces,u=K7(o),[d,f]=P.useState(U7),[p,m]=P.useState(ib),[v,x]=P.useState(null),[w,b]=P.useState(null),[C,k]=P.useState(new Set),[E,N]=P.useState(null),D=P.useRef(null),O=P.useRef(null);P.useEffect(()=>{k7().then(f)},[]),P.useEffect(()=>{E7().then(m)},[]),P.useEffect(()=>{if(d.length<=5||!l.some(R=>R.type==="Glass"&&R.material&&R.material!=="Air"&&!(R.sellmeierCoefficients?.B&&R.sellmeierCoefficients.B.length>=3)))return;const $=new Map(d.map(R=>[R.name.toLowerCase(),R])),ee=l.map(R=>{if(R.type!=="Glass"||!R.material||R.material==="Air"||R.sellmeierCoefficients?.B&&R.sellmeierCoefficients.B.length>=3)return R;const fe=$.get(R.material.toLowerCase())?.coefficients;return!fe?.B||!fe?.C||fe.B.length<3?R:{...R,sellmeierCoefficients:{B:fe.B,C:fe.C}}});ee.some((R,re)=>R!==l[re])&&t(R=>({...R,surfaces:ee}))},[d,l,t]),P.useEffect(()=>{if(!v)return;const X=setTimeout(()=>x(null),Be.toastDuration);return()=>clearTimeout(X)},[v]);const _=r!=null?l.findIndex(X=>X.id===r):l.length,T=_>=0?_:l.length,V=()=>{D.current?.click()},Y=()=>{O.current?.click()},K=async X=>{const $=X.target.files?.[0];if(X.target.value="",!$)return;if(!($.name.toLowerCase().endsWith(".lensx")||$.name.toLowerCase().endsWith(".json"))){x("Please select a .lensx or .json file.");return}try{const R=await $.text();Jy(R),N({content:R,fileName:$.name})}catch(R){x(R instanceof Error?R.message:"Invalid LENS-X file")}},B=()=>{if(E)try{const{surfaces:X,entrancePupilDiameter:$,wavelengths:ee,projectName:R,mc_iterations:re,mc_seed:fe,target_yield:I,hasTolerancesData:Ce}=Jy(E.content);t(be=>({...be,surfaces:X,entrancePupilDiameter:$,wavelengths:ee,projectName:R,...re!=null&&{mc_iterations:re},...fe!=null&&{mc_seed:fe},...I!=null&&{target_yield:I},traceResult:null,traceError:null,pendingTrace:!0})),x(Ce?"Project loaded successfully.":"Project loaded without tolerance data."),N(null)}catch(X){x(X instanceof Error?X.message:"Failed to load project")}},U=()=>{N(null)},ue=async()=>{const X=new Date().toISOString().slice(0,10),$={},ee=[...new Set(l.map(Ce=>Ce.coating).filter(Boolean))];for(const Ce of ee){const be=l.find(ze=>ze.coating===Ce);if(be?.coatingDataPoints!=null||be?.coatingConstantValue!=null)continue;const Ye=await v_(Ce);Ye&&($[Ce]={data_type:Ye.data_type,constant_value:Ye.constant_value,data_points:Ye.data_points,is_hr:Ye.is_hr})}const R=x_(l,{projectName:e.projectName??"Untitled",date:X,drawnBy:"MacOptics",entrancePupilDiameter:e.entrancePupilDiameter,referenceWavelengthNm:e.wavelengths[0]??587.6,mcIterations:e.mc_iterations??1e3,mcSeed:e.mc_seed??42,targetYield:e.target_yield??.95,customCoatingData:$}),re=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),fe=URL.createObjectURL(re),I=document.createElement("a");I.href=fe,I.download=`project_${X}.lensx`,I.click(),URL.revokeObjectURL(fe),x("Project saved successfully as Lens-X.")},oe=async X=>{const $=X.target.files?.[0];if(X.target.value="",!!$){console.log("File selected:",$.name),x("Processing Drawing...");try{console.log("Reading file content locally (no fetch)...");const{surfaces:ee}=await F7($);if(x(null),ee.length===0){x("No surfaces found in file.");return}k(new Set),b({surfaces:ee,insertIndex:T})}catch(ee){x(ee instanceof Error?ee.message:"Import failed")}}},we=X=>{k($=>{const ee=new Set($);return ee.has(X)?ee.delete(X):ee.add(X),ee})},Q=X=>{const $=(X.description||"").toLowerCase();return!!(/arrow|text|dimension|label|annot|axis|tick|mark/.test($)||X.diameter<2.5||X.radius===0&&X.thickness<.5)},G=()=>{if(!w)return;const X=w.surfaces.filter(Q).map($=>$.id);k($=>{const ee=new Set($);return X.forEach(R=>ee.add(R)),ee})},ne=()=>{if(!w)return;const X=w.surfaces.filter($=>!C.has($.id));X.length>0&&(t($=>{const ee=[...$.surfaces];return ee.splice(w.insertIndex,0,...X),{...$,surfaces:ee,traceResult:null,traceError:null}}),x(X.length>1?`Imported ${X.length} surfaces from ISO drawing.`:"Imported 1 surface from ISO drawing.")),b(null),k(new Set)},te=()=>{b(null),k(new Set)},L=()=>W(0),W=X=>{const $=Be.surfaceDefaults,ee={id:crypto.randomUUID(),semanticName:`S${X+1}`,aiContext:"",type:"Air",radius:0,thickness:$.thickness,refractiveIndex:1,diameter:$.diameter,material:"Air",description:"New surface",coating:"Uncoated"};t(R=>{const re=[...R.surfaces];return re.splice(X,0,ee),{...R,surfaces:re,traceResult:null,traceError:null}})},ie=X=>{t($=>({...$,surfaces:$.surfaces.filter(ee=>ee.id!==X),traceResult:null,traceError:null})),r===X&&i(null)},se=(X,$,ee)=>{const R=l.find(fe=>fe.id===X),re=R!=null?l.indexOf(R):-1;if(R!=null&&s&&re>=0){const fe=new Set(["semanticName","aiContext"]),I=ee?[ee]:Object.keys($);for(const Ce of I){if(fe.has(Ce))continue;const be=$[Ce];if(be!==void 0&&R[Ce]!==be){const Ye=V7(R,Ce,R[Ce],be,re);Ye&&s({surfaceId:X,surfaceIndex:re,semanticName:R.semanticName??`S${re+1}`,field:Ce,oldValue:R[Ce],newValue:be,physicalImplication:Ye});break}}}t(fe=>({...fe,surfaces:fe.surfaces.map(I=>I.id===X?{...I,...$}:I),traceResult:null,traceError:null}))},de=X=>{if(!X.destination||X.source.index===X.destination.index)return;const $=X.source.index,ee=X.destination.index;t(R=>{const re=[...R.surfaces],[fe]=re.splice($,1);return re.splice(ee,0,fe),{...R,surfaces:re,traceResult:null,traceError:null,pendingTrace:!0}})};return y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg",children:"System Editor"}),y.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-slate-800/50 backdrop-blur-sm border border-white/10 px-2 py-1.5",children:[y.jsx("input",{ref:O,type:"file",accept:".lensx,.json",onChange:K,className:"hidden","aria-hidden":!0,"data-testid":"load-project-input"}),y.jsx("input",{ref:D,type:"file",accept:".json,.svg,.csv",onChange:oe,className:"hidden","aria-hidden":!0}),y.jsxs("button",{type:"button","data-testid":"load-project",onClick:Y,className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium text-slate-200 hover:text-cyan-electric hover:bg-white/5 transition-colors",children:[y.jsx(N3,{className:"w-4 h-4"}),"Load Project"]}),y.jsxs("button",{type:"button",onClick:ue,className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium text-slate-200 hover:text-cyan-electric hover:bg-white/5 transition-colors",children:[y.jsx(F3,{className:"w-4 h-4"}),"Save Project"]})]})]}),y.jsx("div",{className:"flex items-center gap-2 rounded-lg bg-slate-800/50 backdrop-blur-sm border border-white/10 px-2 py-1.5",children:y.jsxs("button",{type:"button",onClick:V,className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium text-slate-200 hover:text-cyan-electric hover:bg-white/5 transition-colors",children:[y.jsx(E3,{className:"w-4 h-4"}),"Add Surface from File"]})})]}),y.jsx("div",{className:"overflow-x-auto overflow-y-visible rounded-lg",children:y.jsx(F9,{onDragEnd:de,children:y.jsxs("table",{className:"w-full text-sm border-collapse overflow-visible",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-left text-slate-400 border-b border-white/10 bg-slate-900/40 backdrop-blur-[4px]",children:[y.jsx("th",{className:"w-8 py-2 pr-1","aria-label":"Drag handle"}),y.jsx("th",{className:"py-2 pr-4",children:"#"}),y.jsx("th",{className:"py-2 pr-3",title:"Semantic name for AI (e.g. Primary_Objective)",children:"Name"}),y.jsx("th",{className:"py-2 pr-3",title:"AI-Context: reason for this surface",children:"AI Context"}),y.jsx("th",{className:"py-2 pr-4",children:"Type"}),y.jsx("th",{className:"py-2 pr-4",children:"Radius (mm)"}),y.jsx("th",{className:"py-2 pr-4",children:"Thickness (mm)"}),y.jsx("th",{className:"py-2 pr-4",children:"n"}),y.jsx("th",{className:"py-2 pr-4",children:"Diameter (mm)"}),y.jsx("th",{className:"py-2 pr-4",children:"Material"}),y.jsx("th",{className:"py-2 pr-3",title:"Coating (affects power loss)",children:"Coating"}),y.jsx("th",{className:"py-2 pr-3",title:"Radius  (mm)",children:"R "}),y.jsx("th",{className:"py-2 pr-3",title:"Thickness  (mm)",children:"T "}),y.jsx("th",{className:"py-2 pr-3",title:"Tilt  (deg)",children:"Tilt "}),y.jsx("th",{className:"py-2 pr-3",title:"Decenter X (mm)",children:"Dec X"}),y.jsx("th",{className:"py-2 pr-3",title:"Decenter Y (mm)",children:"Dec Y"}),y.jsx("th",{className:"py-2 pr-3",title:"Absorption (1/cm) thermal",children:""}),y.jsx("th",{className:"py-2 pr-3",title:"ISO 10110 scratch/dig",children:"S/D"}),y.jsx("th",{className:"py-2 w-10"})]})}),y.jsx(C7,{droppableId:"surfaces",children:X=>y.jsxs("tbody",{ref:X.innerRef,...X.droppableProps,children:[y.jsx("tr",{"data-testid":"insert-surface-at-start",onClick:L,className:"border-b border-dashed border-white/20 cursor-pointer bg-slate-900/30 backdrop-blur-[4px] hover:bg-slate-900/50 text-slate-500 hover:text-cyan-electric transition-colors",children:y.jsx("td",{colSpan:19,className:"py-2",children:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Os,{className:"w-4 h-4"}),"Insert surface at start"]})})}),l.map(($,ee)=>{const R=u.has(ee);return y.jsx(r7,{draggableId:$.id,index:ee,children:(re,fe)=>y.jsxs(Ze.tr,{ref:re.innerRef,...re.draggableProps,layout:!0,initial:{opacity:0,y:-8},animate:R?{opacity:1,y:0,backgroundColor:["rgba(239, 68, 68, 0.08)","rgba(239, 68, 68, 0.18)","rgba(239, 68, 68, 0.08)"]}:{opacity:1,y:0},transition:R?{duration:2.5,repeat:1/0,repeatType:"reverse"}:{duration:.2},className:`border-b border-white/10 cursor-pointer transition-all backdrop-blur-[4px] ${fe.isDragging?"opacity-90 shadow-lg":""} ${r===$.id?"border-l-4 border-l-cyan-electric bg-slate-900/50":"border-l-4 border-l-transparent hover:bg-slate-900/50"} ${R?"bg-red-500/10":"bg-slate-900/30"}`,children:[y.jsx("td",{...re.dragHandleProps,className:"py-2 pr-1 text-slate-500 hover:text-cyan-electric cursor-grab active:cursor-grabbing",onClick:I=>I.stopPropagation(),children:y.jsx(O3,{className:"w-4 h-4"})}),y.jsx("td",{className:"py-2 pr-4 text-slate-400",children:ee+1}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"text",value:$.semanticName??"",placeholder:`S${ee+1}`,onChange:I=>se($.id,{semanticName:I.target.value.trim()||void 0}),onClick:I=>I.stopPropagation(),className:`${ws} min-w-[7rem]`,title:"Semantic name for AI context"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"text",value:$.aiContext??"",onChange:I=>se($.id,{aiContext:I.target.value.trim()||void 0}),onClick:I=>I.stopPropagation(),placeholder:"e.g. Corrects coma from S1",className:`${ws} min-w-[8rem] text-xs`,title:"AI-Context: hidden context describing surface purpose (for AI)"})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsxs("select",{value:$.type,onChange:I=>se($.id,{type:I.target.value}),onClick:I=>I.stopPropagation(),className:ws,children:[y.jsx("option",{value:"Glass",children:"Glass"}),y.jsx("option",{value:"Air",children:"Air"})]})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number","data-testid":`surface-${ee}-radius`,value:$.radius,onChange:I=>se($.id,{radius:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:ii})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number",value:$.thickness,onChange:I=>se($.id,{thickness:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:ii})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number",value:$.refractiveIndex,onChange:I=>se($.id,{refractiveIndex:Number(I.target.value)||1}),onClick:I=>I.stopPropagation(),className:ii,step:.01})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number",value:$.diameter,onChange:I=>se($.id,{diameter:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:ii})}),y.jsx("td",{className:"py-2 pr-4 overflow-visible",children:y.jsx(H7,{value:$.material,materials:d,wavelengthNm:e.wavelengths[0]??587.6,fallbackN:$.refractiveIndex,onChange:(I,Ce,be)=>{const Ye=d.find(ye=>ye.name.toLowerCase()===I.toLowerCase()),ze=be??Ye?.coefficients,rt=ze&&Array.isArray(ze.B)&&Array.isArray(ze.C)?{B:ze.B,C:ze.C}:void 0;se($.id,{material:I,...Ce!=null&&{refractiveIndex:Ce},sellmeierCoefficients:rt,type:I==="Air"?"Air":"Glass"},"material")},onClick:I=>I.stopPropagation()})}),y.jsx("td",{className:"py-2 pr-3 min-w-[8rem]","data-testid":`surface-${ee}-coating-cell`,children:y.jsx(G7,{value:$.coating??"",coatings:p,wavelengthNm:e.wavelengths[0]??587.6,wavelengths:e.wavelengths,onChange:I=>se($.id,{coating:I||void 0}),onClick:I=>I.stopPropagation()})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:$.radiusTolerance??"",placeholder:"0",min:0,step:.01,onChange:I=>se($.id,{radiusTolerance:I.target.value===""?void 0:Math.max(0,Number(I.target.value)||0)}),onClick:I=>I.stopPropagation(),className:`${ii} min-w-[3.5rem]`,title:"Radius tolerance  (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:$.thicknessTolerance??"",placeholder:"0",min:0,step:.01,onChange:I=>se($.id,{thicknessTolerance:I.target.value===""?void 0:Math.max(0,Number(I.target.value)||0)}),onClick:I=>I.stopPropagation(),className:`${ii} min-w-[3.5rem]`,title:"Thickness tolerance  (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number","data-testid":`surface-${ee}-tilt`,value:$.tiltTolerance??"",placeholder:"0",min:0,step:.01,onChange:I=>se($.id,{tiltTolerance:I.target.value===""?void 0:Math.max(0,Number(I.target.value)||0)}),onClick:I=>I.stopPropagation(),className:`${ii} min-w-[3.5rem]`,title:"Tilt tolerance  (deg)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:$.decenterX??"",placeholder:"0",step:.01,onChange:I=>se($.id,{decenterX:I.target.value===""?void 0:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:`${ii} min-w-[3.5rem]`,title:"Decenter X (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:$.decenterY??"",placeholder:"0",step:.01,onChange:I=>se($.id,{decenterY:I.target.value===""?void 0:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:`${ii} min-w-[3.5rem]`,title:"Decenter Y (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:$.type==="Glass"?y.jsx("input",{type:"number",value:$.absorptionCoefficient??"",placeholder:"0",min:0,step:.001,onChange:I=>se($.id,{absorptionCoefficient:I.target.value===""?void 0:Math.max(0,Number(I.target.value)||0)}),onClick:I=>I.stopPropagation(),className:`${ii} min-w-[3.5rem]`,title:"Absorption coefficient (1/cm) for thermal lensing"}):y.jsx("span",{className:"text-slate-600 text-xs",children:""})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"text",value:$.surfaceQuality??"",placeholder:"3/2",onChange:I=>se($.id,{surfaceQuality:I.target.value.trim()||void 0}),onClick:I=>I.stopPropagation(),className:`${ws} min-w-[3rem]`,title:"Surface quality (scratch/dig) per ISO 10110"})}),y.jsx("td",{className:"py-2",children:y.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),ie($.id)},className:"p-1.5 rounded text-slate-500 hover:text-red-400 hover:bg-white/5","aria-label":"Remove surface",children:y.jsx(xf,{className:"w-4 h-4"})})})]})},$.id)}),X.placeholder,y.jsx("tr",{"data-testid":"insert-surface-at-end",onClick:()=>W(l.length),className:"border-b border-dashed border-white/20 cursor-pointer bg-slate-900/30 backdrop-blur-[4px] hover:bg-slate-900/50 text-slate-500 hover:text-cyan-electric transition-colors",children:y.jsx("td",{colSpan:19,className:"py-2",children:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Os,{className:"w-4 h-4"}),"Insert surface at end"]})})})]})})]})})}),v&&y.jsx(Ze.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0},className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 px-4 py-2 rounded-lg bg-slate-800/95 border border-slate-600 text-slate-200 text-sm shadow-xl backdrop-blur-sm",role:"status","aria-live":"polite",children:v}),Ms.createPortal(y.jsx(zi,{children:w&&y.jsx(Ze.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-xl p-4 sm:p-6",onClick:X=>X.target===X.currentTarget&&te(),role:"dialog","aria-modal":"true","aria-labelledby":"import-preview-title",children:y.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] rounded-xl border border-slate-600/80 bg-slate-900/80 shadow-2xl backdrop-blur-xl overflow-hidden flex flex-col",onClick:X=>X.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 px-4 py-3 shrink-0",children:[y.jsx("h3",{id:"import-preview-title",className:"text-lg font-semibold text-cyan-electric",children:"Import Preview"}),y.jsx("button",{type:"button",onClick:te,className:"p-1 rounded text-slate-400 hover:text-slate-200 hover:bg-white/5","aria-label":"Cancel import",children:y.jsx(vc,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"flex-1 overflow-auto p-4 min-h-0",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs("section",{className:"space-y-3",children:[y.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Surfaces to Import"}),y.jsxs("p",{className:"text-xs text-slate-500",children:[w.surfaces.length," surface",w.surfaces.length!==1?"s":""," found. Click a row to toggle. Green = included, gray = ignored."]}),y.jsx("button",{type:"button",onClick:G,className:"px-3 py-1.5 rounded-lg text-xs font-medium text-slate-400 hover:text-slate-200 hover:bg-white/5 border border-slate-600",children:"Clear All Annotations"}),y.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-700",children:y.jsxs("table",{className:"w-full text-sm min-w-[280px]",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-slate-800/80 text-left text-slate-400",children:[y.jsx("th",{className:"py-2 px-3 w-12",children:"Import"}),y.jsx("th",{className:"py-2 px-3 w-10",children:"#"}),y.jsx("th",{className:"py-2 px-3",children:"Radius (mm)"}),y.jsx("th",{className:"py-2 px-3",children:"Material"}),y.jsx("th",{className:"py-2 px-3",children:"Thickness (mm)"})]})}),y.jsx("tbody",{children:w.surfaces.map((X,$)=>{const ee=C.has(X.id);return y.jsxs("tr",{onClick:()=>we(X.id),className:`border-t border-slate-700/80 cursor-pointer transition-colors ${ee?"opacity-50 bg-slate-800/40 hover:bg-slate-800/60":"bg-emerald-500/10 hover:bg-emerald-500/10 border-l-2 border-l-emerald-500"}`,role:"button",tabIndex:0,onKeyDown:R=>{(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),we(X.id))},"aria-label":`Surface ${$+1}: ${ee?"ignored":"included"}, click to toggle`,children:[y.jsx("td",{className:"py-2 px-3",children:y.jsx("input",{type:"checkbox",checked:!ee,onChange:()=>we(X.id),onClick:R=>R.stopPropagation(),className:"rounded border-slate-600 bg-slate-800 text-cyan-electric focus:ring-cyan-electric/50","aria-label":`Include surface ${$+1}`})}),y.jsx("td",{className:"py-2 px-3 text-slate-400",children:$+1}),y.jsx("td",{className:"py-2 px-3 text-slate-200 font-mono",children:X.radius===0?"":X.radius.toFixed(2)}),y.jsx("td",{className:"py-2 px-3 text-slate-200",children:X.material}),y.jsx("td",{className:"py-2 px-3 text-slate-200 font-mono",children:X.thickness.toFixed(2)})]},X.id)})})]})})]}),y.jsxs("section",{className:"space-y-3",children:[y.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Target Location"}),y.jsx("p",{className:"text-xs text-slate-500",children:"Click a drop zone to choose where to insert the imported surfaces."}),y.jsx("div",{className:"rounded-lg border border-slate-700 overflow-hidden space-y-0",children:(()=>{const X=w.surfaces.length-C.size,$=ee=>b(R=>R?{...R,insertIndex:ee}:null);return y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",onClick:()=>$(0),className:`w-full py-3 px-4 text-left text-sm border-2 border-dashed transition-all hover:bg-cyan-500/20 hover:shadow-[0_0_12px_rgba(34,211,238,0.12)] ${w.insertIndex===0?"bg-cyan-500/20 border-cyan-electric/50":"border-slate-600/80 text-slate-400 hover:border-cyan-electric/30"}`,children:[y.jsx("span",{className:"font-medium text-slate-300",children:"Top of Stack"}),y.jsxs("span",{className:"block text-xs mt-0.5 text-slate-500",children:["Insert ",X," surface",X!==1?"s":""," here"]})]}),l.map((ee,R)=>y.jsxs("div",{children:[y.jsxs("div",{className:"py-2 px-4 bg-slate-800/50 border-b border-slate-700/80 text-sm text-slate-300",children:[R+1,". ",ee.material,"  R: ",ee.radius===0?"":ee.radius.toFixed(2)," mm"]}),y.jsx("button",{type:"button",onClick:()=>$(R+1),className:`w-full py-3 px-4 text-left text-sm border-2 border-dashed transition-all hover:bg-cyan-500/20 hover:shadow-[0_0_12px_rgba(34,211,238,0.12)] ${w.insertIndex===R+1?"bg-cyan-500/20 border-cyan-electric/50":"border-slate-600/80 text-slate-400 hover:border-cyan-electric/30"}`,children:y.jsxs("span",{className:"block text-xs text-slate-500",children:["Insert ",X," surface",X!==1?"s":""," here"]})})]},ee.id)),y.jsxs("button",{type:"button",onClick:()=>$(l.length),className:`w-full py-3 px-4 text-left text-sm border-2 border-dashed transition-all hover:bg-cyan-500/20 hover:shadow-[0_0_12px_rgba(34,211,238,0.12)] ${w.insertIndex===l.length?"bg-cyan-500/20 border-cyan-electric/50":"border-slate-600/80 text-slate-400 hover:border-cyan-electric/30"}`,children:[y.jsx("span",{className:"font-medium text-slate-300",children:"End of Stack"}),y.jsxs("span",{className:"block text-xs mt-0.5 text-slate-500",children:["Insert ",X," surface",X!==1?"s":""," here"]})]})]})})()})]})]})}),y.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 border-t border-slate-700 px-4 py-3 shrink-0",children:[y.jsx("button",{type:"button",onClick:te,className:"px-4 py-2 rounded-lg text-sm text-slate-400 hover:text-slate-200 hover:bg-white/5",children:"Cancel"}),y.jsx("button",{type:"button",onClick:ne,disabled:w.surfaces.length-C.size===0,className:"px-4 py-2 rounded-lg text-sm font-medium text-slate-900 bg-cyan-electric hover:bg-cyan-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Import"})]})]})},"import-preview-modal")}),document.body),Ms.createPortal(y.jsx(zi,{children:E&&y.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-xl p-4",onClick:X=>X.target===X.currentTarget&&U(),role:"dialog","aria-modal":"true","aria-labelledby":"load-confirm-title",children:y.jsxs(Ze.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md rounded-xl border border-slate-600/80 bg-slate-900/80 shadow-2xl backdrop-blur-xl p-6",onClick:X=>X.stopPropagation(),children:[y.jsx("h3",{id:"load-confirm-title",className:"text-lg font-semibold text-cyan-electric mb-3",children:"Load Project"}),y.jsx("p",{className:"text-slate-300 text-sm mb-6",children:"Loading a project will overwrite your current surfaces. Do you want to proceed?"}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{type:"button",onClick:U,className:"px-4 py-2 rounded-lg text-sm text-slate-400 hover:text-slate-200 hover:bg-white/5",children:"Cancel"}),y.jsx("button",{type:"button","data-testid":"load-confirm-proceed",onClick:B,className:"px-4 py-2 rounded-lg text-sm font-medium text-slate-900 bg-cyan-electric hover:bg-cyan-400",children:"Proceed"})]})]})},"load-confirm-modal")}),document.body)]})}function Lf(e){if(e.traceResult?.performance){const l=e.traceResult.performance;return{rmsSpotRadius:l.rmsSpotRadius,totalLength:l.totalLength,fNumber:l.fNumber}}const t=e.surfaces.reduce((l,u)=>l+u.thickness,0),n=e.surfaces[0],r=e.surfaces[1],i=n&&r&&n.radius!==0&&r.radius!==0?1/((n.refractiveIndex-1)*(1/n.radius-1/-r.radius)):100,o=e.entrancePupilDiameter>0?i/e.entrancePupilDiameter:0;return{rmsSpotRadius:e.fieldAngles.length>0?.01*Math.sqrt(e.fieldAngles.reduce((l,u)=>l+u*u,0)/e.fieldAngles.length):0,totalLength:t,fNumber:o}}const hc={entrancePupilDiameter:Be.defaults.entrancePupilDiameter,wavelengths:[...Be.defaults.wavelengths],fieldAngles:[...Be.defaults.fieldAngles],numRays:Be.defaults.numRays,focusMode:"On-Axis",m2Factor:1,pulseWidthFs:100,hasTraced:!1,surfaces:[{id:crypto.randomUUID(),semanticName:"Primary_Objective_Front",aiContext:"",type:"Glass",radius:100,thickness:5,refractiveIndex:1.5168,diameter:25,material:"N-BK7",description:"Front surface",coating:"Uncoated"},{id:crypto.randomUUID(),semanticName:"Primary_Objective_Back",aiContext:"",type:"Air",radius:-100,thickness:95,refractiveIndex:1,diameter:25,material:"Air",description:"Back surface",coating:"Uncoated"}],rmsSpotRadius:0,totalLength:100,fNumber:10,traceResult:null,traceError:null},oa="px-1.5 py-0.5 rounded bg-slate-800/90 text-slate-200 font-mono text-[10px] shadow-[0_1px_0_0_rgba(255,255,255,0.1),inset_0_-1px_0_0_rgba(0,0,0,0.3)]",Y7=[{id:"nav",title:"Navigation Shortcuts",icon:M3},{id:"lensx",title:"Understanding Lens-X",icon:sO},{id:"laser",title:"Laser & Gaussian Optics",icon:$3},{id:"coatings",title:"Coatings & Reflectivity",icon:uO},{id:"ultrafast",title:"Ultrafast / Femtosecond Design",icon:U3},{id:"chromatic",title:"Chromatic Analysis & Optimization",icon:I3},{id:"montecarlo",title:"Manufacturing Reliability (Monte Carlo)",icon:lO},{id:"export",title:"Manufacturing Export",icon:cO}];function X7({id:e,title:t,icon:n,isOpen:r,onToggle:i,children:o}){return y.jsxs("div",{className:"border-b border-white/10 last:border-b-0",children:[y.jsxs("button",{type:"button",onClick:i,className:"w-full flex items-center justify-between gap-3 px-4 py-3.5 text-left hover:bg-white/5 transition-colors rounded-lg","aria-expanded":r,"aria-controls":`accordion-content-${e}`,id:`accordion-header-${e}`,children:[y.jsxs("div",{className:"flex items-center gap-2.5",children:[y.jsx(n,{className:"w-5 h-5 text-cyan-electric shrink-0",strokeWidth:2}),y.jsx("span",{className:"font-semibold text-slate-200",children:t})]}),y.jsx(Ze.span,{animate:{rotate:r?180:0},transition:{duration:.2},className:"text-slate-400 shrink-0",children:y.jsx(As,{className:"w-5 h-5",strokeWidth:2})})]}),y.jsx(zi,{initial:!1,children:r&&y.jsx(Ze.div,{id:`accordion-content-${e}`,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:[.32,.72,0,1]},className:"overflow-hidden",role:"region","aria-labelledby":`accordion-header-${e}`,children:y.jsx("div",{className:"px-4 pb-4 pt-0 text-slate-400 text-sm leading-relaxed",children:o})},e)})]})}function Z7({title:e,explanation:t,formula:n,isHighlighted:r,onMouseEnter:i,onMouseLeave:o}){return y.jsxs("div",{onMouseEnter:i,onMouseLeave:o,className:`p-3 rounded-lg border transition-all duration-200 ${r?"border-cyan-electric/60 bg-cyan-electric/5":"border-white/10 bg-white/5"}`,children:[y.jsx("h4",{className:"font-medium text-cyan-electric text-sm mb-1",children:e}),y.jsx("p",{className:"text-slate-400 text-xs leading-relaxed mb-2",children:t}),y.jsx("code",{className:"block font-mono text-xs text-slate-500 bg-black/20 rounded px-2 py-1 w-fit",children:n})]})}const Q7=[{title:"Z-Position",metricId:"z",explanation:"Axial distance from the global coordinate origin along the optical axis.",formula:"z    (mm)"},{title:"RMS Radius",metricId:"rms",explanation:"Root mean square of ray distances from the centroideffective 'blur' size.",formula:"R_rms = ((1/n)  (y_i  ))"},{title:"Beam Width",metricId:"beamWidth",explanation:"Full aperture: total vertical spread of the ray bundle at the current Z-plane.",formula:"W = max(y)  min(y)"},{title:"Chief Ray Angle (CRA)",metricId:"cra",explanation:"Angle of the ray through the aperture stop center relative to the optical axis.",formula:"CRA = arctan(dy/dz)  []"},{title:"Spot Size (w) at focus",metricId:"spotSize",explanation:"Beam waist radius (1/e radius) at the best focus. Derived from the on-axis RMS of ray intercepts.",formula:"w = 2  R_rms  (1/e radius = 2)"},{title:"Rayleigh (z_R) at focus",metricId:"rayleigh",explanation:"Distance from the waist where the beam cross-section doubles. Uses M from System Properties.",formula:"z_R =   w / (  M)  [mm]"}];function J7(){const e={entrancePupilDiameter:10,wavelengths:[587.6,486.1,656.3],fieldAngles:[0,7,14],numRays:9,focusMode:"On-Axis",m2Factor:1,pulseWidthFs:100,hasTraced:!1,surfaces:[{id:crypto.randomUUID(),type:"Glass",radius:80,thickness:6,refractiveIndex:1.458,diameter:25,material:"Fused Silica",description:"Low-dispersion front"},{id:crypto.randomUUID(),type:"Air",radius:-80,thickness:94,refractiveIndex:1,diameter:25,material:"Air",description:"Back surface"}],rmsSpotRadius:0,totalLength:100,fNumber:10,traceResult:null,traceError:null};return{...e,...Lf(e)}}function eH({highlightedMetric:e,onHighlightMetric:t,onSystemStateChange:n,onRunSampleAnalysis:r,onOpenOptimizer:i}){const[o,s]=P.useState("nav");return y.jsx("div",{className:"h-full overflow-y-auto",children:y.jsx("div",{className:"p-4 pb-8",children:y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-md rounded-xl border border-white/10 overflow-hidden shadow-xl",children:[y.jsxs("div",{className:"px-4 py-4 border-b border-white/10",children:[y.jsx("h2",{className:"text-lg font-bold text-cyan-electric",children:"User Guide"}),y.jsx("p",{className:"text-slate-400 text-xs mt-0.5",children:"Documentation for optical design workflows"})]}),y.jsx("div",{className:"p-2",children:Y7.map(({id:l,title:u,icon:d})=>y.jsxs(X7,{id:l,title:u,icon:d,isOpen:o===l,onToggle:()=>s(f=>f===l?null:l),children:[l==="nav"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider mb-2",children:"Keyboard shortcuts"}),y.jsxs("ul",{className:"space-y-2 text-slate-400",children:[y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:oa,children:"Space"}),"+",y.jsx("kbd",{className:oa,children:"Drag"}),y.jsx("span",{className:"text-slate-500",children:" Pan viewport"})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:oa,children:"Scroll"}),y.jsx("span",{className:"text-slate-500",children:" Zoom in/out"})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:oa,children:"Double Click"}),y.jsx("span",{className:"text-slate-500",children:" Reset view"})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:oa,children:dO?" Option":"Alt"}),y.jsx("span",{className:"text-slate-500",children:" Override Snap-to-Focus"})]})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider mb-2",children:"Scan line"}),y.jsx("p",{children:"Drag the scan line in the viewport to sweep Z and inspect RMS, beam width, and CRA. Use Snap to Focus / Snap to Surface to jump to key positions."})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider mb-2",children:"HUD & metrics"}),y.jsx("p",{children:"Hover glossary cards in this guide to highlight the corresponding metric in the viewport HUD."})]})]}),l==="laser"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Laser systems typically use Gaussian or near-Gaussian beam profiles. The scan metrics help you locate the beam waist, minimize spot size, and control divergence."}),y.jsxs("p",{children:["The HUD now displays Beam Waist (w) and Rayleigh Range (z",y.jsx("sub",{children:"R"}),"). For laser design, ensure your M factor is set in System Properties to simulate real-world beam quality."]}),y.jsx("div",{className:"space-y-2",children:Q7.map(f=>y.jsx(Z7,{...f,isHighlighted:e===f.metricId,onMouseEnter:()=>t(f.metricId),onMouseLeave:()=>t(null)},f.title))}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"Tip:"})," Minimize RMS at the image plane to reduce blur; use the scan line to find where beam width is smallest."]}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-0.5",children:"Pro-Tip"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Note: The Gold Diamond indicates the point of minimum beam waist, which may shift based on lens dispersion."})]})]}),l==="lensx"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider",children:"Physics-Aware Interchange Format"}),y.jsxs("p",{children:["MacOptics uses a ",y.jsx("strong",{className:"text-cyan-electric",children:"Physics-Aware"})," format called ",y.jsx("strong",{className:"text-slate-300",children:"Lens-X"}),". Unlike a simple drawing file, Lens-X carries ",y.jsx("strong",{className:"text-slate-300",children:"glass chemistry"})," (Sellmeier coefficients for n()) and ",y.jsx("strong",{className:"text-slate-300",children:"coating data"})," within the file itself."]}),y.jsx("p",{children:"When you export a design, the JSON includes radius, thickness, material, coating, and manufacturing tolerances for every surface. When you import, the software restores the full optical modelno manual re-entry of refractive indices or coating choices."}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-0.5",children:"Why it matters"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"A Lens-X file is a Digital Twin: the same data drives ray tracing, chromatic analysis, and manufacturing export. Share a single JSON to hand off a complete, executable specification."})]})]}),l==="coatings"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider",children:"Reflectivity Curve R()"}),y.jsxs("p",{children:["When you ",y.jsx("strong",{className:"text-slate-300",children:"hover over a coating option"})," in the System Editor (e.g. BBAR, MgF, V-Coat 532), a small graph appears showing its reflectivity R() across the wavelength range."]}),y.jsxs("p",{children:["A ",y.jsx("strong",{className:"text-cyan-electric",children:"vertical dashed line"})," marks your system's current operating wavelength. Use it to verify that your chosen coating is effective at your design colorfor AR coatings, lower R at your wavelength means less power loss."]}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-0.5",children:"Tip"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"V-Coat 532 is optimized for 532 nm; BBAR is broadband (400700 nm). HR coatings reflect instead of refractthe ray follows the reflected path."})]})]}),l==="ultrafast"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Ultrafast and femtosecond optics introduce dispersion, group delay, and pulse broadening. This app models chromatic dispersion and thermal lensing to support pulsed-laser system design."}),y.jsxs("p",{children:["Designing for femtosecond pulses? Monitor the ",y.jsx("strong",{className:"text-slate-300",children:"GDD"})," (Group Delay Dispersion) value in the HUD. Most common glasses add positive GDD, which stretches your pulse. Aim for zero net GDD for transform-limited pulses."]}),y.jsxs("ul",{className:"space-y-1.5",children:[y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Dispersion"}),"  wavelength-dependent refractive index (Abbe V) affects pulse temporal shape"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Thermal lensing"}),"  absorption + dn/dT cause focal shift at high power (use Heat Map in System Properties)"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Ultrafast HUD"}),"  view GDD and pulse metrics when the scan line is active"]})]}),n&&y.jsx("button",{type:"button",onClick:()=>n(J7()),className:"mt-2 px-3 py-2 rounded-lg text-sm font-medium text-cyan-electric border border-cyan-electric/50 hover:bg-cyan-electric/10 transition-colors",children:"Load Low-Dispersion Presets"})]}),l==="chromatic"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider",children:"Chromatic Control & Color Correction"}),y.jsx("p",{className:"text-slate-500 text-xs italic",children:"Managing focal shift across the visible and IR spectrum."}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"Longitudinal Chromatic Aberration (LCA):"})," Different colors of light refract at different angles because the refractive index n is a function of wavelength . The LCA graph plots the focus shift (z) relative to your design wavelength."]}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"Reading the Graph:"}),' A steep vertical line indicates high dispersion (common in single-lens systems). A "folded" or flatter curve indicates an Achromatic design, where multiple wavelengths share a common focus.']}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"One-Click Optimization:"}),' The Optimize Colors tool uses a heuristic search through the Schott and Ohara glass catalogs. It identifies the ideal "Flint" glass to pair with your current "Crown" glass to neutralize dispersion without changing your effective focal length.']}),y.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-slate-400 mb-1.5",children:"Legend"}),y.jsxs("ul",{className:"space-y-1 text-slate-400 text-xs",children:[y.jsxs("li",{children:[y.jsx("kbd",{className:oa,children:"Y-Axis"})," = Wavelength ()"]}),y.jsxs("li",{children:[y.jsx("kbd",{className:oa,children:"X-Axis"})," = Focus Shift (z)"]})]}),y.jsx("p",{className:"text-slate-400 text-xs mt-2 leading-relaxed",children:"The zero-point on the X-axis represents the focus position of your primary system wavelength."})]}),y.jsxs("div",{className:"rounded-lg border border-slate-600 bg-slate-800/50 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-slate-400 mb-0.5",children:"Tech Note"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Note: Optimization requires a multi-surface system. For best results, use a doublet configuration (two lenses with different glass types)."})]}),i&&y.jsx("button",{type:"button",onClick:i,title:"Click the gradient button in the viewport HUD to run the glass-pairing algorithm.",className:"w-full mt-2 px-3 py-2 rounded-lg text-sm font-medium text-white bg-gradient-to-r from-cyan-500 to-indigo-500 hover:from-cyan-400 hover:to-indigo-400 transition-colors",children:"Open Optimizer"})]}),l==="montecarlo"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Monte Carlo sensitivity analysis simulates manufacturing variability by jittering surface parameters (radius, thickness) within their tolerances over many iterations. Each iteration produces a slightly different optical system; the combined spot positions at the image plane form a point cloud that shows how robust your design is to fabrication errors."}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-1",children:"RMS Spot Radius"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"The root-mean-square distance of all rays from the centroid at the image plane. Lower values indicate tighter manufacturing tolerance and a more robust design."})]}),y.jsx("p",{children:"Set R, T, and Tilt tolerances in the System Editor, then run the analysis to see the point cloud and RMS spread at focus."}),r&&y.jsx("button",{type:"button",onClick:r,className:"mt-2 px-3 py-2 rounded-lg text-sm font-medium text-cyan-electric border border-cyan-electric/50 hover:bg-cyan-electric/10 transition-colors",children:"Run Sample Analysis"})]}),l==="export"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Export your optical system as an ISO 10110style technical drawing for manufacturing and documentation."}),y.jsxs("ul",{className:"space-y-1.5",children:[y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Export tab"}),"  cross-section, dimensions (CT), data table (Surf, S/D, Material, CT), and title block"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"S/D (Scratch/Dig)"}),"  surface quality per ISO 10110; editable in System Editor"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"SVG / PDF"}),"  high-resolution export via Export Drawing and browser print"]})]})]})]},l))})]})})})}const Ug="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50";function tH({systemState:e,onSystemStateChange:t}){const[n,r]=P.useState(e.projectName??"My Optical Design"),[i,o]=P.useState(()=>new Date().toISOString().slice(0,10)),[s,l]=P.useState("MacOptics"),u=P.useCallback(()=>{const v=df(e,{projectName:n||"Untitled",date:i,drawnBy:s,width:1400,height:1e3}),x=new Blob([v],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(x),b=document.createElement("a");b.href=w,b.download=`optical-drawing-${i}.svg`,b.click(),URL.revokeObjectURL(w)},[e,n,i,s]),d=P.useCallback(async()=>{const v=e.surfaces,x={},w=[...new Set(v.map(N=>N.coating).filter(Boolean))];for(const N of w){const D=v.find(_=>_.coating===N);if(D?.coatingDataPoints!=null||D?.coatingConstantValue!=null)continue;const O=await v_(N);O&&(x[N]={data_type:O.data_type,constant_value:O.constant_value,data_points:O.data_points,is_hr:O.is_hr})}const b=x_(v,{projectName:n||"Untitled",date:i,drawnBy:s,entrancePupilDiameter:e.entrancePupilDiameter??10,customCoatingData:x}),C=new Blob([JSON.stringify(b,null,2)],{type:"application/json;charset=utf-8"}),k=URL.createObjectURL(C),E=document.createElement("a");E.href=k,E.download=`lens-x-${n.replace(/\s+/g,"-")}-${i}.json`,E.click(),URL.revokeObjectURL(k)},[e,n,i,s]),f=P.useCallback(()=>{const v=df(e,{projectName:n||"Untitled",date:i,drawnBy:s,width:1122,height:794}),x=new Blob([v],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(x),b=window.open(w,"_blank","width=1200,height=850");if(!b){URL.revokeObjectURL(w);return}b.addEventListener("load",()=>{setTimeout(()=>{b.print(),b.onbeforeunload=()=>URL.revokeObjectURL(w),b.onafterprint=()=>b.close()},300)})},[e,n,i,s]),p=df(e,{projectName:n||"Untitled",date:i,drawnBy:s,width:800,height:570}),m=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(p)))}`;return y.jsxs("div",{className:"h-full flex flex-col p-4 gap-4",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg",children:"ISO 10110 Export"}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Drawing Details"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Project Name"}),y.jsx("input",{type:"text",value:n,onChange:v=>{r(v.target.value),t(x=>({...x,projectName:v.target.value}))},placeholder:"My Optical Design",className:Ug})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Date"}),y.jsx("input",{type:"date",value:i,onChange:v=>o(v.target.value),className:Ug})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Drawn By"}),y.jsx("input",{type:"text",value:s,onChange:v=>l(v.target.value),placeholder:"MacOptics",className:Ug})]})]})]}),y.jsxs("section",{className:"glass-card p-4 flex-1 min-h-0 flex flex-col",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Preview"}),y.jsx("div",{className:"flex-1 min-h-[300px] rounded-lg overflow-auto bg-slate-900/50 border border-white/10",children:y.jsx("img",{src:m,alt:"ISO 10110 blueprint preview",className:"w-full h-auto object-contain",style:{minHeight:300}})})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Export Drawing"}),y.jsx("p",{className:"text-xs text-slate-500 mb-4",children:'Technical blueprint with cross-section, dimensions, data table (S/D, Material, CT), and title block. LENS-X JSON includes radius, thickness, material, coating per surface; flat surfaces export radius as "infinity".'}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[y.jsxs("button",{type:"button","data-testid":"export-lensx-json",onClick:d,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all bg-cyan-electric/20 text-cyan-electric border border-cyan-electric/50 hover:bg-cyan-electric/30",children:[y.jsx(hP,{className:"w-4 h-4"}),"Download LENS-X JSON"]}),y.jsxs("button",{type:"button",onClick:u,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all bg-white/10 text-slate-200 border border-white/20 hover:bg-white/20",children:[y.jsx(hP,{className:"w-4 h-4"}),"Download SVG"]}),y.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all bg-white/10 text-slate-200 border border-white/20 hover:bg-white/20",children:[y.jsx(L3,{className:"w-4 h-4"}),"Print / Save as PDF"]})]})]})]})}function w_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=w_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=w_(e))&&(r&&(r+=" "),r+=t);return r}var nH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ob(e){if(typeof e!="string")return!1;var t=nH;return t.includes(e)}var rH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],iH=new Set(rH);function S_(e){return typeof e!="string"?!1:iH.has(e)}function P_(e){return typeof e=="string"&&e.startsWith("data-")}function qr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(S_(n)||P_(n))&&(t[n]=e[n]);return t}function Vp(e){if(e==null)return null;if(P.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return qr(t)}return typeof e=="object"&&!Array.isArray(e)?qr(e):null}function jr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(S_(n)||P_(n)||ob(n))&&(t[n]=e[n]);return t}function oH(e){return e==null?null:P.isValidElement(e)?jr(e.props):typeof e=="object"&&!Array.isArray(e)?jr(e):null}var aH=["children","width","height","viewBox","className","style","title","desc"];function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e0.apply(null,arguments)}function sH(e,t){if(e==null)return{};var n,r,i=lH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var C_=P.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:l,title:u,desc:d}=e,f=sH(e,aH),p=o||{width:r,height:i,x:0,y:0},m=Pt("recharts-surface",s);return P.createElement("svg",e0({},jr(f),{className:m,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),P.createElement("title",null,u),P.createElement("desc",null,d),n)}),cH=["children","className"];function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t0.apply(null,arguments)}function uH(e,t){if(e==null)return{};var n,r,i=dH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mi=P.forwardRef((e,t)=>{var{children:n,className:r}=e,i=uH(e,cH),o=Pt("recharts-layer",r);return P.createElement("g",t0({className:o},jr(i),{ref:t}),n)}),fH=P.createContext(null);function It(e){return function(){return e}}const n0=Math.PI,r0=2*n0,ua=1e-6,pH=r0-ua;function A_(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function hH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return A_;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class mH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?A_:hH(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,u=r-t,d=i-n,f=s-t,p=l-n,m=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>ua)if(!(Math.abs(p*u-d*f)>ua)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-s,x=i-l,w=u*u+d*d,b=v*v+x*x,C=Math.sqrt(w),k=Math.sqrt(m),E=o*Math.tan((n0-Math.acos((w+m-b)/(2*C*k)))/2),N=E/k,D=E/C;Math.abs(N-1)>ua&&this._append`L${t+N*f},${n+N*p}`,this._append`A${o},${o},0,0,${+(p*v>f*x)},${this._x1=t+D*u},${this._y1=n+D*d}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=t+l,f=n+u,p=1^s,m=s?i-o:o-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>ua||Math.abs(this._y1-f)>ua)&&this._append`L${d},${f}`,r&&(m<0&&(m=m%r0+r0),m>pH?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:m>ua&&this._append`A${r},${r},0,${+(m>=n0)},${p},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function k_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new mH(t)}function ab(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function E_(e){this._context=e}E_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Up(e){return new E_(e)}function N_(e){return e[0]}function O_(e){return e[1]}function j_(e,t){var n=It(!0),r=null,i=Up,o=null,s=k_(l);e=typeof e=="function"?e:e===void 0?N_:It(e),t=typeof t=="function"?t:t===void 0?O_:It(t);function l(u){var d,f=(u=ab(u)).length,p,m=!1,v;for(r==null&&(o=i(v=s())),d=0;d<=f;++d)!(d<f&&n(p=u[d],d,u))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+e(p,d,u),+t(p,d,u));if(v)return o=null,v+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:It(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:It(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:It(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),l):r},l}function Vd(e,t,n){var r=null,i=It(!0),o=null,s=Up,l=null,u=k_(d);e=typeof e=="function"?e:e===void 0?N_:It(+e),t=typeof t=="function"?t:It(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?O_:It(+n);function d(p){var m,v,x,w=(p=ab(p)).length,b,C=!1,k,E=new Array(w),N=new Array(w);for(o==null&&(l=s(k=u())),m=0;m<=w;++m){if(!(m<w&&i(b=p[m],m,p))===C)if(C=!C)v=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=v;--x)l.point(E[x],N[x]);l.lineEnd(),l.areaEnd()}C&&(E[m]=+e(b,m,p),N[m]=+t(b,m,p),l.point(r?+r(b,m,p):E[m],n?+n(b,m,p):N[m]))}if(k)return l=null,k+""||null}function f(){return j_().defined(i).curve(s).context(o)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:It(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:It(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:It(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:It(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:It(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:It(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(n)},d.lineX1=function(){return f().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:It(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,o!=null&&(l=s(o)),d):s},d.context=function(p){return arguments.length?(p==null?o=l=null:l=s(o=p),d):o},d}class D_{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function gH(e){return new D_(e,!0)}function vH(e){return new D_(e,!1)}function Ff(){}function $f(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function __(e){this._context=e}__.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$f(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$f(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yH(e){return new __(e)}function T_(e){this._context=e}T_.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$f(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xH(e){return new T_(e)}function M_(e){this._context=e}M_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$f(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bH(e){return new M_(e)}function I_(e){this._context=e}I_.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function wH(e){return new I_(e)}function jC(e){return e<0?-1:1}function DC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(jC(o)+jC(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function _C(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Hg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,l=(o-r)/3;e._context.bezierCurveTo(r+l,i+l*t,o-l,s-l*n,o,s)}function Bf(e){this._context=e}Bf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hg(this,this._t0,_C(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hg(this,_C(this,n=DC(this,e,t)),n);break;default:Hg(this,this._t0,n=DC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function R_(e){this._context=new L_(e)}(R_.prototype=Object.create(Bf.prototype)).point=function(e,t){Bf.prototype.point.call(this,t,e)};function L_(e){this._context=e}L_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function SH(e){return new Bf(e)}function PH(e){return new R_(e)}function F_(e){this._context=e}F_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=TC(e),i=TC(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function TC(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function CH(e){return new F_(e)}function Hp(e,t){this._context=e,this._t=t}Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function AH(e){return new Hp(e,.5)}function kH(e){return new Hp(e,0)}function EH(e){return new Hp(e,1)}function ka(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,l=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function i0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function NH(e,t){return e[t]}function OH(e){const t=[];return t.key=e,t}function jH(){var e=It([]),t=i0,n=ka,r=NH;function i(o){var s=Array.from(e.apply(this,arguments),OH),l,u=s.length,d=-1,f;for(const p of o)for(l=0,++d;l<u;++l)(s[l][d]=[0,+r(p,s[l].key,d,o)]).data=p;for(l=0,f=ab(t(s));l<u;++l)s[f[l]].index=l;return n(s,f),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:It(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:It(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?i0:typeof o=="function"?o:It(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??ka,i):n},i}function DH(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}ka(e,t)}}function _H(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,l=0;s<i;++s)l+=e[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}ka(e,t)}}function TH(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var l=0,u=0,d=0;l<s;++l){for(var f=e[t[l]],p=f[r][1]||0,m=f[r-1][1]||0,v=(p-m)/2,x=0;x<l;++x){var w=e[t[x]],b=w[r][1]||0,C=w[r-1][1]||0;v+=b-C}u+=p,d+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,ka(e,t)}}var Gg={},Kg={},MC;function MH(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Kg)),Kg}var qg={},IC;function $_(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(qg)),qg}var Yg={},RC;function sb(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Yg)),Yg}var Xg={},Zg={},LC;function IH(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Zg)),Zg}var FC;function lb(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IH(),n=sb();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],s=i.length;if(s===0)return o;let l=0,u="",d="",f=!1;for(i.charCodeAt(0)===46&&(o.push(""),l++);l<s;){const p=i[l];d?p==="\\"&&l+1<s?(l++,u+=i[l]):p===d?d="":u+=p:f?p==='"'||p==="'"?d=p:p==="]"?(f=!1,o.push(u),u=""):u+=p:p==="["?(f=!0,u&&(o.push(u),u="")):p==="."?u&&(o.push(u),u=""):u+=p,l++}return u&&o.push(u),o}e.toPath=r})(Xg)),Xg}var $C;function cb(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MH(),n=$_(),r=sb(),i=lb();function o(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?n.isDeepKey(u)?o(l,i.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return s(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function s(l,u,d){if(u.length===0)return d;let f=l;for(let p=0;p<u.length;p++){if(f==null||t.isUnsafeProperty(u[p]))return d;f=f[u[p]]}return f===void 0?d:f}e.get=o})(Gg)),Gg}var Qg,BC;function RH(){return BC||(BC=1,Qg=cb().get),Qg}var LH=RH();const Gp=Yi(LH);var FH=4;function Oo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:FH,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function pn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,s)=>{var l=n[s-1];return typeof l=="string"?i+l+o:l!==void 0?i+Oo(l)+o:i+o},"")}var Er=e=>e===0?0:e>0?1:-1,gi=e=>typeof e=="number"&&e!=+e,Ea=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,_e=e=>(typeof e=="number"||e instanceof Number)&&!gi(e),vi=e=>_e(e)||typeof e=="string",$H=0,Dc=e=>{var t=++$H;return"".concat(e||"").concat(t)},$o=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&typeof t!="string")return r;var o;if(Ea(t)){if(n==null)return r;var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return gi(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},B_=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function ci(e,t,n){return _e(e)&&_e(t)?Oo(e+n*(t-e)):t}function z_(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Gp(r,t))===n)}var Nn=e=>e===null||typeof e>"u",ub=e=>Nn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Un(e){return e!=null}function Ys(){}var W_=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,db=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{ob(i)&&(r[i]=(o=>n[i](n,o)))}),r},BH=(e,t,n)=>r=>(e(t,n,r),null),zH=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];ob(i)&&typeof o=="function"&&(r||(r={}),r[i]=BH(o,t,n))}),r};function zC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(n),!0).forEach(function(r){VH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VH(e,t,n){return(t=UH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UH(e){var t=HH(e,"string");return typeof t=="symbol"?t:t+""}function HH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(e,t){var n=WH({},e),r=t,i=Object.keys(t),o=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return o}var Jg={},ev={},WC;function GH(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],l=r(s,o,n);i.has(l)||i.set(l,s)}return Array.from(i.values())}e.uniqBy=t})(ev)),ev}var tv={},VC;function KH(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(tv)),tv}var nv={},UC;function V_(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(nv)),nv}var rv={},iv={},ov={},HC;function qH(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(ov)),ov}var GC;function fb(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qH();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(iv)),iv}var av={},KC;function YH(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(av)),av}var qC;function XH(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fb(),n=YH();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(rv)),rv}var sv={},lv={},YC;function ZH(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(lv)),lv}var cv={},uv={},dv={},fv={},XC;function U_(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(fv)),fv}var pv={},ZC;function H_(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(pv)),pv}var hv={},QC;function G_(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(hv)),hv}var JC;function QH(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U_(),n=H_(),r=G_();function i(f,p,m){return typeof m!="function"?i(f,p,()=>{}):o(f,p,function v(x,w,b,C,k,E){const N=m(x,w,b,C,k,E);return N!==void 0?!!N:o(x,w,v,E)},new Map)}function o(f,p,m,v){if(p===f)return!0;switch(typeof p){case"object":return s(f,p,m,v);case"function":return Object.keys(p).length>0?o(f,{...p},m,v):r.isEqualsSameValueZero(f,p);default:return t.isObject(f)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(f,p)}}function s(f,p,m,v){if(p==null)return!0;if(Array.isArray(p))return u(f,p,m,v);if(p instanceof Map)return l(f,p,m,v);if(p instanceof Set)return d(f,p,m,v);const x=Object.keys(p);if(f==null||n.isPrimitive(f))return x.length===0;if(x.length===0)return!0;if(v?.has(p))return v.get(p)===f;v?.set(p,f);try{for(let w=0;w<x.length;w++){const b=x[w];if(!n.isPrimitive(f)&&!(b in f)||p[b]===void 0&&f[b]!==void 0||p[b]===null&&f[b]!==null||!m(f[b],p[b],b,f,p,v))return!1}return!0}finally{v?.delete(p)}}function l(f,p,m,v){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,w]of p.entries()){const b=f.get(x);if(m(b,w,x,f,p,v)===!1)return!1}return!0}function u(f,p,m,v){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let w=0;w<p.length;w++){const b=p[w];let C=!1;for(let k=0;k<f.length;k++){if(x.has(k))continue;const E=f[k];let N=!1;if(m(E,b,w,f,p,v)&&(N=!0),N){x.add(k),C=!0;break}}if(!C)return!1}return!0}function d(f,p,m,v){return p.size===0?!0:f instanceof Set?u([...f],[...p],m,v):!1}e.isMatchWith=i,e.isSetMatch=d})(dv)),dv}var eA;function K_(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QH();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(uv)),uv}var mv={},gv={},vv={},tA;function JH(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(vv)),vv}var yv={},nA;function pb(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(yv)),yv}var xv={},rA;function q_(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",m="[object ArrayBuffer]",v="[object Object]",x="[object Error]",w="[object DataView]",b="[object Uint8Array]",C="[object Uint8ClampedArray]",k="[object Uint16Array]",E="[object Uint32Array]",N="[object BigUint64Array]",D="[object Int8Array]",O="[object Int16Array]",_="[object Int32Array]",T="[object BigInt64Array]",V="[object Float32Array]",Y="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=m,e.arrayTag=f,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=x,e.float32ArrayTag=V,e.float64ArrayTag=Y,e.functionTag=p,e.int16ArrayTag=O,e.int32ArrayTag=_,e.int8ArrayTag=D,e.mapTag=u,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=k,e.uint32ArrayTag=E,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=C})(xv)),xv}var bv={},iA;function eG(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(bv)),bv}var oA;function Y_(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JH(),n=pb(),r=q_(),i=H_(),o=eG();function s(f,p){return l(f,void 0,f,new Map,p)}function l(f,p,m,v=new Map,x=void 0){const w=x?.(f,p,m,v);if(w!==void 0)return w;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const b=new Array(f.length);v.set(f,b);for(let C=0;C<f.length;C++)b[C]=l(f[C],C,m,v,x);return Object.hasOwn(f,"index")&&(b.index=f.index),Object.hasOwn(f,"input")&&(b.input=f.input),b}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const b=new RegExp(f.source,f.flags);return b.lastIndex=f.lastIndex,b}if(f instanceof Map){const b=new Map;v.set(f,b);for(const[C,k]of f)b.set(C,l(k,C,m,v,x));return b}if(f instanceof Set){const b=new Set;v.set(f,b);for(const C of f)b.add(l(C,void 0,m,v,x));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const b=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,b);for(let C=0;C<f.length;C++)b[C]=l(f[C],C,m,v,x);return b}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const b=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,b),u(b,f,m,v,x),b}if(typeof File<"u"&&f instanceof File){const b=new File([f],f.name,{type:f.type});return v.set(f,b),u(b,f,m,v,x),b}if(typeof Blob<"u"&&f instanceof Blob){const b=new Blob([f],{type:f.type});return v.set(f,b),u(b,f,m,v,x),b}if(f instanceof Error){const b=new f.constructor;return v.set(f,b),b.message=f.message,b.name=f.name,b.stack=f.stack,b.cause=f.cause,u(b,f,m,v,x),b}if(f instanceof Boolean){const b=new Boolean(f.valueOf());return v.set(f,b),u(b,f,m,v,x),b}if(f instanceof Number){const b=new Number(f.valueOf());return v.set(f,b),u(b,f,m,v,x),b}if(f instanceof String){const b=new String(f.valueOf());return v.set(f,b),u(b,f,m,v,x),b}if(typeof f=="object"&&d(f)){const b=Object.create(Object.getPrototypeOf(f));return v.set(f,b),u(b,f,m,v,x),b}return f}function u(f,p,m=f,v,x){const w=[...Object.keys(p),...t.getSymbols(p)];for(let b=0;b<w.length;b++){const C=w[b],k=Object.getOwnPropertyDescriptor(f,C);(k==null||k.writable)&&(f[C]=l(p[C],C,m,v,x))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=u})(gv)),gv}var aA;function tG(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y_();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(mv)),mv}var sA;function nG(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K_(),n=tG();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(cv)),cv}var wv={},Sv={},Pv={},lA;function rG(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y_(),n=pb(),r=q_();function i(o,s){return t.cloneDeepWith(o,(l,u,d,f)=>{const p=s?.(l,u,d,f);if(p!==void 0)return p;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const m={};return f.set(o,m),t.copyProperties(m,o,d,f),m}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new o.constructor(o?.valueOf());return t.copyProperties(m,o),m}case r.argumentsTag:{const m={};return t.copyProperties(m,o),m.length=o.length,m[Symbol.iterator]=o[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=i})(Pv)),Pv}var cA;function iG(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rG();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Sv)),Sv}var Cv={},Av={},uA;function X_(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Av)),Av}var kv={},dA;function oG(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pb();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(kv)),kv}var fA;function aG(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$_(),n=X_(),r=oG(),i=lb();function o(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&s?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=s;for(let f=0;f<u.length;f++){const p=u[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=o})(Cv)),Cv}var pA;function sG(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K_(),n=sb(),r=iG(),i=cb(),o=aG();function s(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const f=i.get(d,l);return f===void 0?o.has(d,l):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=s})(wv)),wv}var hA;function lG(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V_(),n=ZH(),r=nG(),i=sG();function o(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=o})(sv)),sv}var mA;function cG(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GH(),n=KH(),r=V_(),i=XH(),o=lG();function s(l,u=r.identity){return i.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.ary(o.iteratee(u),1)):[]}e.uniqBy=s})(Jg)),Jg}var Ev,gA;function uG(){return gA||(gA=1,Ev=cG().uniqBy),Ev}var dG=uG();const vA=Yi(dG);function fG(e,t,n){return t===!0?vA(e,n):typeof t=="function"?vA(e,t):e}var Nv={exports:{}},Ov={},jv={exports:{}},Dv={};var yA;function pG(){if(yA)return Dv;yA=1;var e=Vs();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function l(p,m){var v=m(),x=r({inst:{value:v,getSnapshot:m}}),w=x[0].inst,b=x[1];return o(function(){w.value=v,w.getSnapshot=m,u(w)&&b({inst:w})},[p,v,m]),i(function(){return u(w)&&b({inst:w}),p(function(){u(w)&&b({inst:w})})},[p]),s(v),v}function u(p){var m=p.getSnapshot;p=p.value;try{var v=m();return!n(p,v)}catch{return!0}}function d(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Dv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Dv}var xA;function hG(){return xA||(xA=1,jv.exports=pG()),jv.exports}var bA;function mG(){if(bA)return Ov;bA=1;var e=Vs(),t=hG();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Ov.useSyncExternalStoreWithSelector=function(d,f,p,m,v){var x=o(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function C(O){if(!k){if(k=!0,E=O,O=m(O),v!==void 0&&w.hasValue){var _=w.value;if(v(_,O))return N=_}return N=O}if(_=N,r(E,O))return _;var T=m(O);return v!==void 0&&v(_,T)?(E=O,_):(E=O,N=T)}var k=!1,E,N,D=p===void 0?null:p;return[function(){return C(f())},D===null?void 0:function(){return C(D())}]},[f,p,m,v]);var b=i(d,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=b},[b]),u(b),b},Ov}var wA;function gG(){return wA||(wA=1,Nv.exports=mG()),Nv.exports}var vG=gG(),hb=P.createContext(null),yG=e=>e,rn=()=>{var e=P.useContext(hb);return e?e.store.dispatch:yG},ff=()=>{},xG=()=>ff,bG=(e,t)=>e===t;function Le(e){var t=P.useContext(hb),n=P.useMemo(()=>t?r=>{if(r!=null)return e(r)}:ff,[t,e]);return vG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:xG,t?t.store.getState:ff,t?t.store.getState:ff,n,bG)}function wG(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function SG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function PG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var SA=e=>Array.isArray(e)?e:[e];function CG(e){const t=Array.isArray(e[0])?e[0]:e;return PG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function AG(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var kG=class{constructor(e){this.value=e}deref(){return this.value}},EG=typeof WeakRef<"u"?WeakRef:kG,NG=0,PA=1;function Ud(){return{s:NG,v:void 0,o:null,p:null}}function Z_(e,t={}){let n=Ud();const{resultEqualityCheck:r}=t;let i,o=0;function s(){let l=n;const{length:u}=arguments;for(let p=0,m=u;p<m;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(v);w===void 0?(l=Ud(),x.set(v,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(v);w===void 0?(l=Ud(),x.set(v,l)):l=w}}const d=l;let f;if(l.s===PA)f=l.v;else if(f=e.apply(null,arguments),o++,r){const p=i?.deref?.()??i;p!=null&&r(p,f)&&(f=p,o!==0&&o--),i=typeof f=="object"&&f!==null||typeof f=="function"?new EG(f):f}return d.s=PA,d.v=f,f}return s.clearCache=()=>{n=Ud(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function OG(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),wG(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...u},{memoize:p,memoizeOptions:m=[],argsMemoize:v=Z_,argsMemoizeOptions:x=[]}=f,w=SA(m),b=SA(x),C=CG(i),k=p(function(){return o++,d.apply(null,arguments)},...w),E=v(function(){s++;const D=AG(C,arguments);return l=k.apply(null,D),l},...b);return Object.assign(E,{resultFunc:d,memoizedResultFunc:k,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var J=OG(Z_),jG=Object.assign((e,t=J)=>{SG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,l,u)=>(s[n[u]]=l,s),{}))},{withTypes:()=>jG}),_v={},Tv={},Mv={},CA;function DG(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=t(r),l=t(i);if(s===l&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?l-s:s-l}return 0};e.compareValues=n})(Mv)),Mv}var Iv={},Rv={},AA;function Q_(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Rv)),Rv}var kA;function _G(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q_(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}e.isKey=i})(Iv)),Iv}var EA;function TG(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DG(),n=_G(),r=lb();function i(o,s,l,u){if(o==null)return[];l=u?void 0:l,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const d=(v,x)=>{let w=v;for(let b=0;b<x.length&&w!=null;++b)w=w[x[b]];return w},f=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:d(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?d(x,v):typeof x=="object"?x[v]:x,p=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return o.map(v=>({original:v,criteria:p.map(x=>f(x,v))})).slice().sort((v,x)=>{for(let w=0;w<p.length;w++){const b=t.compareValues(v.criteria[w],x.criteria[w],l[w]);if(b!==0)return b}return 0}).map(v=>v.original)}e.orderBy=i})(Tv)),Tv}var Lv={},NA;function MG(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),s=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<o?s(f,u+1):i.push(f)}};return s(n,0),i}e.flatten=t})(Lv)),Lv}var Fv={},OA;function J_(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X_(),n=fb(),r=U_(),i=G_();function o(s,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.isEqualsSameValueZero(u[l],s):!1}e.isIterateeCall=o})(Fv)),Fv}var jA;function IG(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TG(),n=MG(),r=J_();function i(o,...s){const l=s.length;return l>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(o,n.flatten(s),["asc"])}e.sortBy=i})(_v)),_v}var $v,DA;function RG(){return DA||(DA=1,$v=IG().sortBy),$v}var LG=RG();const Kp=Yi(LG);var eT=e=>e.legend.settings,FG=e=>e.legend.size,$G=e=>e.legend.payload;J([$G,eT],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Kp(r,n):r});var Hd=1;function BG(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=P.useState({height:0,left:0,top:0,width:0}),r=P.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-t.height)>Hd||Math.abs(s.left-t.left)>Hd||Math.abs(s.top-t.top)>Hd||Math.abs(s.width-t.width)>Hd)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var tT=Symbol.for("immer-nothing"),_A=Symbol.for("immer-draftable"),Rn=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var or=Object,Fs=or.getPrototypeOf,zf="constructor",qp="prototype",o0="configurable",Wf="enumerable",pf="writable",_c="value",Vi=e=>!!e&&!!e[Rn];function Yr(e){return e?nT(e)||Xp(e)||!!e[_A]||!!e[zf]?.[_A]||Zp(e)||Qp(e):!1}var zG=or[qp][zf].toString(),TA=new WeakMap;function nT(e){if(!e||!mb(e))return!1;const t=Fs(e);if(t===null||t===or[qp])return!0;const n=or.hasOwnProperty.call(t,zf)&&t[zf];if(n===Object)return!0;if(!ms(n))return!1;let r=TA.get(n);return r===void 0&&(r=Function.toString.call(n),TA.set(n,r)),r===zG}function Yp(e,t,n=!0){ru(e)===0?(n?Reflect.ownKeys(e):or.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ru(e){const t=e[Rn];return t?t.type_:Xp(e)?1:Zp(e)?2:Qp(e)?3:0}var MA=(e,t,n=ru(e))=>n===2?e.has(t):or[qp].hasOwnProperty.call(e,t),a0=(e,t,n=ru(e))=>n===2?e.get(t):e[t],Vf=(e,t,n,r=ru(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function WG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Xp=Array.isArray,Zp=e=>e instanceof Map,Qp=e=>e instanceof Set,mb=e=>typeof e=="object",ms=e=>typeof e=="function",Bv=e=>typeof e=="boolean";function VG(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ti=e=>e.copy_||e.base_,gb=e=>e.modified_?e.copy_:e.base_;function s0(e,t){if(Zp(e))return new Map(e);if(Qp(e))return new Set(e);if(Xp(e))return Array[qp].slice.call(e);const n=nT(e);if(t===!0||t==="class_only"&&!n){const r=or.getOwnPropertyDescriptors(e);delete r[Rn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],l=r[s];l[pf]===!1&&(l[pf]=!0,l[o0]=!0),(l.get||l.set)&&(r[s]={[o0]:!0,[pf]:!0,[Wf]:l[Wf],[_c]:e[s]})}return or.create(Fs(e),r)}else{const r=Fs(e);if(r!==null&&n)return{...e};const i=or.create(r);return or.assign(i,e)}}function vb(e,t=!1){return Jp(e)||Vi(e)||!Yr(e)||(ru(e)>1&&or.defineProperties(e,{set:Gd,add:Gd,clear:Gd,delete:Gd}),or.freeze(e),t&&Yp(e,(n,r)=>{vb(r,!0)},!1)),e}function UG(){Vr(2)}var Gd={[_c]:UG};function Jp(e){return e===null||!mb(e)?!0:or.isFrozen(e)}var Uf="MapSet",l0="Patches",IA="ArrayMethods",rT={};function Na(e){const t=rT[e];return t||Vr(0,e),t}var RA=e=>!!rT[e],Tc,iT=()=>Tc,HG=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:RA(Uf)?Na(Uf):void 0,arrayMethodsPlugin_:RA(IA)?Na(IA):void 0});function LA(e,t){t&&(e.patchPlugin_=Na(l0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function c0(e){u0(e),e.drafts_.forEach(GG),e.drafts_=null}function u0(e){e===Tc&&(Tc=e.parent_)}var FA=e=>Tc=HG(Tc,e);function GG(e){const t=e[Rn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $A(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Rn].modified_&&(c0(t),Vr(4)),Yr(e)&&(e=BA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Rn].base_,e,t)}else e=BA(t,n);return KG(t,e,!0),c0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tT?e:void 0}function BA(e,t){if(Jp(t))return t;const n=t[Rn];if(!n)return Hf(t,e.handledSet_,e);if(!eh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);sT(n,e)}return n.copy_}function KG(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vb(t,n)}function oT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var eh=(e,t)=>e.scope_===t,qG=[];function aT(e,t,n,r){const i=Ti(e),o=e.type_;if(r!==void 0&&a0(i,r,o)===t){Vf(i,r,n,o);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Yp(i,(u,d)=>{if(Vi(d)){const f=l.get(d)||[];f.push(u),l.set(d,f)}})}const s=e.draftLocations_.get(t)??qG;for(const l of s)Vf(i,l,n,o)}function YG(e,t,n){e.callbacks_.push(function(i){const o=t;if(!o||!eh(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const s=gb(o);aT(e,o.draft_??o,s,n),sT(o,i)})}function sT(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}oT(e)}}function XG(e,t,n){const{scope_:r}=e;if(Vi(n)){const i=n[Rn];eh(i,r)&&i.callbacks_.push(function(){hf(e);const s=gb(i);aT(e,n,s,t)})}else Yr(n)&&e.callbacks_.push(function(){const o=Ti(e);e.type_===3?o.has(n)&&Hf(n,r.handledSet_,r):a0(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Hf(a0(e.copy_,t,e.type_),r.handledSet_,r)})}function Hf(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Vi(e)||t.has(e)||!Yr(e)||Jp(e)||(t.add(e),Yp(e,(r,i)=>{if(Vi(i)){const o=i[Rn];if(eh(o,n)){const s=gb(o);Vf(e,r,s,e.type_),oT(o)}}else Yr(i)&&Hf(i,t,n)})),e}function ZG(e,t){const n=Xp(e),r={type_:n?1:0,scope_:t?t.scope_:iT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=Gf;n&&(i=[r],o=Mc);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=s,[l,r]}var Gf={get(e,t){if(t===Rn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Ti(e);if(!MA(i,t,e.type_))return QG(e,i,t);const o=i[t];if(e.finalized_||!Yr(o)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&VG(t))return o;if(o===zv(e.base_,t)){hf(e);const s=e.type_===1?+t:t,l=f0(e.scope_,o,e,s);return e.copy_[s]=l}return o},has(e,t){return t in Ti(e)},ownKeys(e){return Reflect.ownKeys(Ti(e))},set(e,t,n){const r=lT(Ti(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=zv(Ti(e),t),o=i?.[Rn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(WG(n,i)&&(n!==void 0||MA(e.base_,t,e.type_)))return!0;hf(e),d0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),XG(e,t,n)),!0},deleteProperty(e,t){return hf(e),zv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),d0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ti(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[pf]:!0,[o0]:e.type_!==1||t!=="length",[Wf]:r[Wf],[_c]:n[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return Fs(e.base_)},setPrototypeOf(){Vr(12)}},Mc={};for(let e in Gf){let t=Gf[e];Mc[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Mc.deleteProperty=function(e,t){return Mc.set.call(this,e,t,void 0)};Mc.set=function(e,t,n){return Gf.set.call(this,e[0],t,n,e[0])};function zv(e,t){const n=e[Rn];return(n?Ti(n):e)[t]}function QG(e,t,n){const r=lT(t,n);return r?_c in r?r[_c]:r.get?.call(e.draft_):void 0}function lT(e,t){if(!(t in e))return;let n=Fs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Fs(n)}}function d0(e){e.modified_||(e.modified_=!0,e.parent_&&d0(e.parent_))}function hf(e){e.copy_||(e.assigned_=new Map,e.copy_=s0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var JG=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ms(n)&&!ms(r)){const s=r;r=n;const l=this;return function(d=s,...f){return l.produce(d,p=>r.call(this,p,...f))}}ms(r)||Vr(6),i!==void 0&&!ms(i)&&Vr(7);let o;if(Yr(n)){const s=FA(this),l=f0(s,n,void 0);let u=!0;try{o=r(l),u=!1}finally{u?c0(s):u0(s)}return LA(s,i),$A(o,s)}else if(!n||!mb(n)){if(o=r(n),o===void 0&&(o=n),o===tT&&(o=void 0),this.autoFreeze_&&vb(o,!0),i){const s=[],l=[];Na(l0).generateReplacementPatches_(n,o,{patches_:s,inversePatches_:l}),i(s,l)}return o}else Vr(1,n)},this.produceWithPatches=(n,r)=>{if(ms(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,o;return[this.produce(n,r,(l,u)=>{i=l,o=u}),i,o]},Bv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Bv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Bv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Yr(t)||Vr(8),Vi(t)&&(t=Kr(t));const n=FA(this),r=f0(n,t,void 0);return r[Rn].isManual_=!0,u0(n),r}finishDraft(t,n){const r=t&&t[Rn];(!r||!r.isManual_)&&Vr(9);const{scope_:i}=r;return LA(i,n),$A(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Na(l0).applyPatches_;return Vi(t)?i(t,n):this.produce(t,o=>i(o,n))}};function f0(e,t,n,r){const[i,o]=Zp(t)?Na(Uf).proxyMap_(t,n):Qp(t)?Na(Uf).proxySet_(t,n):ZG(t,n);return(n?.scope_??iT()).drafts_.push(i),o.callbacks_=n?.callbacks_??[],o.key_=r,n&&r!==void 0?YG(n,o,r):o.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:d}=u;o.modified_&&d&&d.generatePatches_(o,[],u)}),i}function Kr(e){return Vi(e)||Vr(10,e),cT(e)}function cT(e){if(!Yr(e)||Jp(e))return e;const t=e[Rn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=s0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=s0(e,!0);return Yp(n,(i,o)=>{Vf(n,i,cT(o))},r),t&&(t.finalized_=!1),n}var eK=new JG,uT=eK.produce;function dT(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var tK=dT(),nK=dT,rK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pc:Pc.apply(null,arguments)};function Dr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(cr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>aD(r)&&r.type===e,n}var fT=class oc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,oc.prototype)}static get[Symbol.species](){return oc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new oc(...t[0].concat(this)):new oc(...t.concat(this))}};function zA(e){return Yr(e)?uT(e,()=>{}):e}function Kd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function iK(e){return typeof e=="boolean"}var oK=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new fT;return n&&(iK(n)?s.push(tK):s.push(nK(n.extraArgument))),s},pT="RTK_autoBatch",kt=()=>e=>({payload:e,meta:{[pT]:!0}}),WA=e=>t=>{setTimeout(t,e)},hT=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:WA(10):e.type==="callback"?e.queueNotification:WA(e.timeout),d=()=>{s=!1,o&&(o=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),m=r.subscribe(p);return l.add(f),()=>{m(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[pT],o=!i,o&&(s||(s=!0,u(d))),r.dispatch(f)}finally{i=!0}}})},aK=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new fT(e);return r&&i.push(hT(typeof r=="object"?r:void 0)),i};function sK(e){const t=oK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Mx(n))l=iD(n);else throw new Error(cr(1));let u;typeof r=="function"?u=r(t):u=t();let d=Pc;i&&(d=rK({trace:!1,...typeof i=="object"&&i}));const f=oD(...u),p=aK(f);let m=typeof s=="function"?s(p):p();const v=d(...m);return Ix(l,o,v)}function mT(e){const t={},n=[];let r;const i={addCase(o,s){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(cr(28));if(l in t)throw new Error(cr(29));return t[l]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function lK(e){return typeof e=="function"}function cK(e,t){let[n,r,i]=mT(t),o;if(lK(e))o=()=>zA(e());else{const l=zA(e);o=()=>l}function s(l=o(),u){let d=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(Vi(f)){const v=p(f,u);return v===void 0?f:v}else{if(Yr(f))return uT(f,m=>p(m,u));{const m=p(f,u);if(m===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return f},l)}return s.getInitialState=o,s}var uK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dK=(e=21)=>{let t="",n=e;for(;n--;)t+=uK[Math.random()*64|0];return t},fK=Symbol.for("rtk-slice-createasyncthunk");function pK(e,t){return`${e}/${t}`}function hK({creators:e}={}){const t=e?.asyncThunk?.[fK];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(cr(11));const s=(typeof r.reducers=="function"?r.reducers(gK()):r.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,N){const D=typeof E=="string"?E:E.type;if(!D)throw new Error(cr(12));if(D in u.sliceCaseReducersByType)throw new Error(cr(13));return u.sliceCaseReducersByType[D]=N,d},addMatcher(E,N){return u.sliceMatchers.push({matcher:E,reducer:N}),d},exposeAction(E,N){return u.actionCreators[E]=N,d},exposeCaseReducer(E,N){return u.sliceCaseReducersByName[E]=N,d}};l.forEach(E=>{const N=s[E],D={reducerName:E,type:pK(i,E),createNotation:typeof r.reducers=="function"};yK(N)?bK(D,N,d,t):vK(D,N,d)});function f(){const[E={},N=[],D=void 0]=typeof r.extraReducers=="function"?mT(r.extraReducers):[r.extraReducers],O={...E,...u.sliceCaseReducersByType};return cK(r.initialState,_=>{for(let T in O)_.addCase(T,O[T]);for(let T of u.sliceMatchers)_.addMatcher(T.matcher,T.reducer);for(let T of N)_.addMatcher(T.matcher,T.reducer);D&&_.addDefaultCase(D)})}const p=E=>E,m=new Map,v=new WeakMap;let x;function w(E,N){return x||(x=f()),x(E,N)}function b(){return x||(x=f()),x.getInitialState()}function C(E,N=!1){function D(_){let T=_[E];return typeof T>"u"&&N&&(T=Kd(v,D,b)),T}function O(_=p){const T=Kd(m,N,()=>new WeakMap);return Kd(T,_,()=>{const V={};for(const[Y,K]of Object.entries(r.selectors??{}))V[Y]=mK(K,_,()=>Kd(v,_,b),N);return V})}return{reducerPath:E,getSelectors:O,get selectors(){return O(D)},selectSlice:D}}const k={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...C(o),injectInto(E,{reducerPath:N,...D}={}){const O=N??o;return E.inject({reducerPath:O,reducer:w},D),{...k,...C(O,!0)}}};return k}}function mK(e,t,n,r){function i(o,...s){let l=t(o);return typeof l>"u"&&r&&(l=n()),e(l,...s)}return i.unwrapped=e,i}var Gn=hK();function gK(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function vK({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!xK(r))throw new Error(cr(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?Dr(e,s):Dr(e))}function yK(e){return e._reducerDefinitionType==="asyncThunk"}function xK(e){return e._reducerDefinitionType==="reducerWithPrepare"}function bK({type:e,reducerName:t},n,r,i){if(!i)throw new Error(cr(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:u,settled:d,options:f}=n,p=i(e,o,f);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:s||qd,pending:l||qd,rejected:u||qd,settled:d||qd})}function qd(){}var wK="task",gT="listener",vT="completed",yb="cancelled",SK=`task-${yb}`,PK=`task-${vT}`,p0=`${gT}-${yb}`,CK=`${gT}-${vT}`,th=class{constructor(e){this.code=e,this.message=`${wK} ${yb} (reason: ${e})`}name="TaskAbortError";message},xb=(e,t)=>{if(typeof e!="function")throw new TypeError(cr(32))},Kf=()=>{},yT=(e,t=Kf)=>(e.catch(t),e),xT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),wa=e=>{if(e.aborted)throw new th(e.reason)};function bT(e,t){let n=Kf;return new Promise((r,i)=>{const o=()=>i(new th(e.reason));if(e.aborted){o();return}n=xT(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Kf})}var AK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof th?"cancelled":"rejected",error:n}}finally{t?.()}},qf=e=>t=>yT(bT(e,t).then(n=>(wa(e),n))),wT=e=>{const t=qf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Es}=Object,VA={},nh="listenerMiddleware",kK=(e,t)=>{const n=r=>xT(e,()=>r.abort(e.reason));return(r,i)=>{xb(r);const o=new AbortController;n(o);const s=AK(async()=>{wa(e),wa(o.signal);const l=await r({pause:qf(o.signal),delay:wT(o.signal),signal:o.signal});return wa(o.signal),l},()=>o.abort(PK));return i?.autoJoin&&t.push(s.catch(Kf)),{result:qf(e)(s),cancel(){o.abort(SK)}}}},EK=(e,t)=>{const n=async(r,i)=>{wa(t);let o=()=>{};const l=[new Promise((u,d)=>{let f=e({predicate:r,effect:(p,m)=>{m.unsubscribe(),u([p,m.getState(),m.getOriginalState()])}});o=()=>{f(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await bT(t,Promise.race(l));return wa(t),u}finally{o()}};return(r,i)=>yT(n(r,i))},ST=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Dr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(cr(21));return xb(o),{predicate:i,type:t,effect:o}},PT=Es(e=>{const{type:t,predicate:n,effect:r}=ST(e);return{id:dK(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(cr(22))}}},{withTypes:()=>PT}),UA=(e,t)=>{const{type:n,effect:r,predicate:i}=ST(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},h0=e=>{e.pending.forEach(t=>{t.abort(p0)})},NK=(e,t)=>()=>{for(const n of t.keys())h0(n);e.clear()},HA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},CT=Es(Dr(`${nh}/add`),{withTypes:()=>CT}),OK=Dr(`${nh}/removeAll`),AT=Es(Dr(`${nh}/remove`),{withTypes:()=>AT}),jK=(...e)=>{console.error(`${nh}/error`,...e)},iu=(e={})=>{const t=new Map,n=new Map,r=v=>{const x=n.get(v)??0;n.set(v,x+1)},i=v=>{const x=n.get(v)??1;x===1?n.delete(v):n.set(v,x-1)},{extra:o,onError:s=jK}=e;xb(s);const l=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),x=>{v.unsubscribe(),x?.cancelActive&&h0(v)}),u=v=>{const x=UA(t,v)??PT(v);return l(x)};Es(u,{withTypes:()=>u});const d=v=>{const x=UA(t,v);return x&&(x.unsubscribe(),v.cancelActive&&h0(x)),!!x};Es(d,{withTypes:()=>d});const f=async(v,x,w,b)=>{const C=new AbortController,k=EK(u,C.signal),E=[];try{v.pending.add(C),r(v),await Promise.resolve(v.effect(x,Es({},w,{getOriginalState:b,condition:(N,D)=>k(N,D).then(Boolean),take:k,delay:wT(C.signal),pause:qf(C.signal),extra:o,signal:C.signal,fork:kK(C.signal,E),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((N,D,O)=>{N!==C&&(N.abort(p0),O.delete(N))})},cancel:()=>{C.abort(p0),v.pending.delete(C)},throwIfCancelled:()=>{wa(C.signal)}})))}catch(N){N instanceof th||HA(s,N,{raisedBy:"effect"})}finally{await Promise.all(E),C.abort(CK),i(v),v.pending.delete(C)}},p=NK(t,n);return{middleware:v=>x=>w=>{if(!aD(w))return x(w);if(CT.match(w))return u(w.payload);if(OK.match(w)){p();return}if(AT.match(w))return d(w.payload);let b=v.getState();const C=()=>{if(b===VA)throw new Error(cr(23));return b};let k;try{if(k=x(w),t.size>0){const E=v.getState(),N=Array.from(t.values());for(const D of N){let O=!1;try{O=D.predicate(w,E,b)}catch(_){O=!1,HA(s,_,{raisedBy:"predicate"})}O&&f(D,w,v,C)}}}finally{b=VA}return k},startListening:u,stopListening:d,clearListeners:p}};function cr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var DK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},kT=Gn({name:"chartLayout",initialState:DK,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:_K,setLayout:TK,setChartSize:MK,setScale:IK}=kT.actions,RK=kT.reducer;function ET(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Qe(e){return Number.isFinite(e)}function yi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){LK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LK(e,t,n){return(t=FK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FK(e){var t=$K(e,"string");return typeof t=="symbol"?t:t+""}function $K(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vn(e,t,n){return Nn(e)||Nn(t)?n:vi(t)?Gp(e,t,n):typeof t=="function"?t(e):n}var BK=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&o!=="center"&&_e(e[o]))return Ss(Ss({},e),{},{[o]:e[o]+(r||0)});if((l==="horizontal"||l==="vertical"&&o==="center")&&s!=="middle"&&_e(e[s]))return Ss(Ss({},e),{},{[s]:e[s]+(i||0)})}return e},bi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",NT=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,o,s=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate));return i||s.push(t),o||s.push(n),s},OT=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:m,axisType:v}=e;if(!s)return null;var x=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(w=v==="angleAxis"&&o&&o.length>=2?Er(o[0]-o[1])*2*w:w,p||m){var b=(p||m||[]).map((C,k)=>{var E=r?r.indexOf(C):C,N=s.map(E);return Qe(N)?{coordinate:N+w,value:C,offset:w,index:k}:null}).filter(Un);return b}return u&&d?d.map((C,k)=>{var E=s.map(C);return Qe(E)?{coordinate:E+w,value:C,index:k,offset:w}:null}).filter(Un):s.ticks&&f!=null?s.ticks(f).map((C,k)=>{var E=s.map(C);return Qe(E)?{coordinate:E+w,value:C,index:k,offset:w}:null}).filter(Un):s.domain().map((C,k)=>{var E=s.map(C);return Qe(E)?{coordinate:E+w,value:r?r[C]:C,index:k,offset:w}:null}).filter(Un)},zK=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0,l=0;l<n;++l){var u=e[l],d=u?.[i];if(d!=null){var f=d[1],p=d[0],m=gi(f)?p:f;m>=0?(d[0]=o,o+=m,d[1]=o):(d[0]=s,s+=m,d[1]=s)}}}},WK=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0;s<n;++s){var l=e[s],u=l?.[i];if(u!=null){var d=gi(u[1])?u[0]:u[1];d>=0?(u[0]=o,o+=d,u[1]=o):(u[0]=0,u[1]=0)}}}},VK={sign:zK,expand:DH,none:ka,silhouette:_H,wiggle:TH,positive:WK},UK=(e,t,n)=>{var r,i=(r=VK[n])!==null&&r!==void 0?r:ka,o=jH().keys(t).value((l,u)=>Number(vn(l,u,0))).order(i0).offset(i),s=o(e);return s.forEach((l,u)=>{l.forEach((d,f)=>{var p=vn(e[f],t[u],0);Array.isArray(p)&&p.length===2&&_e(p[0])&&_e(p[1])&&(d[0]=p[0],d[1]=p[1])})}),s};function HK(e){return e==null?void 0:String(e)}function KA(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nn(i[t.dataKey])){var l=z_(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var u=vn(i,Nn(s)?t.dataKey:s),d=t.scale.map(u);return _e(d)?d:null}var GK=e=>{var t=e.flat(2).filter(_e);return[Math.min(...t),Math.max(...t)]},KK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],qK=(e,t,n)=>{if(e!=null)return KK(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:s}=o,l=s.reduce((u,d)=>{var f=ET(d,t,n),p=GK(f);return!Qe(p[0])||!Qe(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},qA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Kp(t,f=>f.coordinate),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];o=Math.min((u?.coordinate||0)-(d?.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function XA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return Ss(Ss({},t),{},{dataKey:n,payload:r,value:i,name:o})}function jT(e,t){if(e)return String(e);if(typeof t=="string")return t}var YK=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},XK=(e,t)=>t==="centric"?e.angle:e.radius,Xi=e=>e.layout.width,Zi=e=>e.layout.height,ZK=e=>e.layout.scale,DT=e=>e.layout.margin,rh=J(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ih=J(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),QK="data-recharts-item-index",JK="data-recharts-item-id",ou=60;function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(n),!0).forEach(function(r){eq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eq(e,t,n){return(t=tq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tq(e){var t=nq(e,"string");return typeof t=="symbol"?t:t+""}function nq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rq=e=>e.brush.height;function iq(e){var t=ih(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ou;return n+i}return n},0)}function oq(e){var t=ih(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ou;return n+i}return n},0)}function aq(e){var t=rh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function sq(e){var t=rh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var yn=J([Xi,Zi,DT,rq,iq,oq,aq,sq,eT,FG],(e,t,n,r,i,o,s,l,u,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+o},p={top:(n.top||0)+s,bottom:(n.bottom||0)+l},m=Yd(Yd({},p),f),v=m.bottom;m.bottom+=r,m=BK(m,u,d);var x=e-m.left-m.right,w=t-m.top-m.bottom;return Yd(Yd({brushBottom:v},m),{},{width:Math.max(x,0),height:Math.max(w,0)})}),lq=J(yn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),_T=J(Xi,Zi,(e,t)=>({x:0,y:0,width:e,height:t})),cq=P.createContext(null),Kn=()=>P.useContext(cq)!=null,oh=e=>e.brush,ah=J([oh,yn,DT],(e,t,n)=>({height:e.height,x:_e(e.x)?e.x:t.left,y:_e(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:_e(e.width)?e.width:t.width})),Wv={},Vv={},Uv={},QA;function uq(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let s,l=null;const u=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),f=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},p=()=>{d&&f(),w()};let m=null;const v=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,p()},r)},x=()=>{m!==null&&(clearTimeout(m),m=null)},w=()=>{x(),s=void 0,l=null},b=()=>{f()},C=function(...k){if(i?.aborted)return;s=this,l=k;const E=m==null;v(),u&&E&&f()};return C.schedule=v,C.cancel=w,C.flush=b,i?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(Uv)),Uv}var JA;function dq(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uq();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:l=!0,maxWait:u}=o,d=Array(2);s&&(d[0]="leading"),l&&(d[1]="trailing");let f,p=null;const m=t.debounce(function(...w){f=r.apply(this,w),p=null},i,{edges:d}),v=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(f=r.apply(this,w),p=Date.now(),m.cancel(),m.schedule(),f):(m.apply(this,w),f)},x=()=>(m.flush(),f);return v.cancel=m.cancel,v.flush=x,v}e.debounce=n})(Vv)),Vv}var ek;function fq(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dq();function n(r,i=0,o={}){const{leading:s=!0,trailing:l=!0}=o;return t.debounce(r,i,{leading:s,maxWait:i,trailing:l})}e.throttle=n})(Wv)),Wv}var Hv,tk;function pq(){return tk||(tk=1,Hv=fq().throttle),Hv}var hq=pq();const mq=Yi(hq);var Xf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},ui={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},TT=(e,t,n)=>{var{width:r=ui.width,height:i=ui.height,aspect:o,maxHeight:s}=n,l=Ea(r)?e:Number(r),u=Ea(i)?t:Number(i);return o&&o>0&&(l?u=l/o:u&&(l=u*o),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},gq={width:0,height:0,overflow:"visible"},vq={width:0,overflowX:"visible"},yq={height:0,overflowY:"visible"},xq={},bq=e=>{var{width:t,height:n}=e,r=Ea(t),i=Ea(n);return r&&i?gq:r?vq:i?yq:xq};function wq(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i=ui.width,o=ui.height):i===void 0?i=r&&r>0?void 0:ui.width:o===void 0&&(o=r&&r>0?void 0:ui.height),{width:i,height:o}}function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m0.apply(null,arguments)}function nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(n),!0).forEach(function(r){Sq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sq(e,t,n){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pq(e){var t=Cq(e,"string");return typeof t=="symbol"?t:t+""}function Cq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MT=P.createContext(ui.initialDimension);function Aq(e){return yi(e.width)&&yi(e.height)}function IT(e){var{children:t,width:n,height:r}=e,i=P.useMemo(()=>({width:n,height:r}),[n,r]);return Aq(i)?P.createElement(MT.Provider,{value:i},t):null}var bb=()=>P.useContext(MT),kq=P.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=ui.initialDimension,width:i,height:o,minWidth:s=ui.minWidth,minHeight:l,maxHeight:u,children:d,debounce:f=ui.debounce,id:p,className:m,onResize:v,style:x={}}=e,w=P.useRef(null),b=P.useRef();b.current=v,P.useImperativeHandle(t,()=>w.current);var[C,k]=P.useState({containerWidth:r.width,containerHeight:r.height}),E=P.useCallback((T,V)=>{k(Y=>{var K=Math.round(T),B=Math.round(V);return Y.containerWidth===K&&Y.containerHeight===B?Y:{containerWidth:K,containerHeight:B}})},[]);P.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Ys;var T=B=>{var U,ue=B[0];if(ue!=null){var{width:oe,height:we}=ue.contentRect;E(oe,we),(U=b.current)===null||U===void 0||U.call(b,oe,we)}};f>0&&(T=mq(T,f,{trailing:!0,leading:!1}));var V=new ResizeObserver(T),{width:Y,height:K}=w.current.getBoundingClientRect();return E(Y,K),V.observe(w.current),()=>{V.disconnect()}},[E,f]);var{containerWidth:N,containerHeight:D}=C;Xf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:_}=TT(N,D,{width:i,height:o,aspect:n,maxHeight:u});return Xf(O!=null&&O>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,_,i,o,s,l,n),P.createElement("div",{id:p?"".concat(p):void 0,className:Pt("recharts-responsive-container",m),style:rk(rk({},x),{},{width:i,height:o,minWidth:s,minHeight:l,maxHeight:u}),ref:w},P.createElement("div",{style:bq({width:i,height:o})},P.createElement(IT,{width:O,height:_},d)))}),Eq=P.forwardRef((e,t)=>{var n=bb();if(yi(n.width)&&yi(n.height))return e.children;var{width:r,height:i}=wq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:s}=TT(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return _e(o)&&_e(s)?P.createElement(IT,{width:o,height:s},e.children):P.createElement(kq,m0({},e,{width:r,height:i,ref:t}))});function wb(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var sh=()=>{var e,t=Kn(),n=Le(lq),r=Le(ah),i=(e=Le(oh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Nq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RT=()=>{var e;return(e=Le(yn))!==null&&e!==void 0?e:Nq},LT=()=>Le(Xi),FT=()=>Le(Zi),Nt=e=>e.layout.layoutType,Xs=()=>Le(Nt),Sb=()=>{var e=Xs();if(e==="horizontal"||e==="vertical")return e},$T=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Oq=()=>{var e=Xs();return e!==void 0},au=e=>{var t=rn(),n=Kn(),{width:r,height:i}=e,o=bb(),s=r,l=i;return o&&(s=o.width>0?o.width:r,l=o.height>0?o.height:i),P.useEffect(()=>{!n&&yi(s)&&yi(l)&&t(MK({width:s,height:l}))},[t,n,s,l]),null},BT=Symbol.for("immer-nothing"),ik=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function Ur(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ic=Object.getPrototypeOf;function $s(e){return!!e&&!!e[dr]}function Oa(e){return e?zT(e)||Array.isArray(e)||!!e[ik]||!!e.constructor?.[ik]||su(e)||ch(e):!1}var jq=Object.prototype.constructor.toString(),ok=new WeakMap;function zT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=ok.get(n);return r===void 0&&(r=Function.toString.call(n),ok.set(n,r)),r===jq}function Zf(e,t,n=!0){lh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function lh(e){const t=e[dr];return t?t.type_:Array.isArray(e)?1:su(e)?2:ch(e)?3:0}function g0(e,t){return lh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function WT(e,t,n){const r=lh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Dq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function su(e){return e instanceof Map}function ch(e){return e instanceof Set}function da(e){return e.copy_||e.base_}function v0(e,t){if(su(e))return new Map(e);if(ch(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=zT(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[dr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(Ic(e),r)}else{const r=Ic(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Pb(e,t=!1){return uh(e)||$s(e)||!Oa(e)||(lh(e)>1&&Object.defineProperties(e,{set:Xd,add:Xd,clear:Xd,delete:Xd}),Object.freeze(e),t&&Object.values(e).forEach(n=>Pb(n,!0))),e}function _q(){Ur(2)}var Xd={value:_q};function uh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Tq={};function ja(e){const t=Tq[e];return t||Ur(0,e),t}var Rc;function VT(){return Rc}function Mq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ak(e,t){t&&(ja("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function y0(e){x0(e),e.drafts_.forEach(Iq),e.drafts_=null}function x0(e){e===Rc&&(Rc=e.parent_)}function sk(e){return Rc=Mq(Rc,e)}function Iq(e){const t=e[dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[dr].modified_&&(y0(t),Ur(4)),Oa(e)&&(e=Qf(t,e),t.parent_||Jf(t,e)),t.patches_&&ja("Patches").generateReplacementPatches_(n[dr].base_,e,t.patches_,t.inversePatches_)):e=Qf(t,n,[]),y0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==BT?e:void 0}function Qf(e,t,n){if(uh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[dr];if(!i)return Zf(t,(o,s)=>ck(e,i,t,o,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Jf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,l=!1;i.type_===3&&(s=new Set(o),o.clear(),l=!0),Zf(s,(u,d)=>ck(e,i,o,u,d,n,l),r),Jf(e,o,!1),n&&e.patches_&&ja("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function ck(e,t,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const l=uh(i);if(!(l&&!s)){if($s(i)){const u=o&&t&&t.type_!==3&&!g0(t.assigned_,r)?o.concat(r):void 0,d=Qf(e,i,u);if(WT(n,r,d),$s(d))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Oa(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Qf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(su(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Jf(e,i)}}}function Jf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Pb(t,n)}function Rq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:VT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Cb;n&&(i=[r],o=Lc);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=s,l}var Cb={get(e,t){if(t===dr)return e;const n=da(e);if(!g0(n,t))return Lq(e,n,t);const r=n[t];return e.finalized_||!Oa(r)?r:r===Gv(e.base_,t)?(Kv(e),e.copy_[t]=w0(r,e)):r},has(e,t){return t in da(e)},ownKeys(e){return Reflect.ownKeys(da(e))},set(e,t,n){const r=UT(da(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Gv(da(e),t),o=i?.[dr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Dq(n,i)&&(n!==void 0||g0(e.base_,t)))return!0;Kv(e),b0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Gv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Kv(e),b0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=da(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ur(11)},getPrototypeOf(e){return Ic(e.base_)},setPrototypeOf(){Ur(12)}},Lc={};Zf(Cb,(e,t)=>{Lc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Lc.deleteProperty=function(e,t){return Lc.set.call(this,e,t,void 0)};Lc.set=function(e,t,n){return Cb.set.call(this,e[0],t,n,e[0])};function Gv(e,t){const n=e[dr];return(n?da(n):e)[t]}function Lq(e,t,n){const r=UT(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function UT(e,t){if(!(t in e))return;let n=Ic(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ic(n)}}function b0(e){e.modified_||(e.modified_=!0,e.parent_&&b0(e.parent_))}function Kv(e){e.copy_||(e.copy_=v0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Fq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(u=o,...d){return s.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&Ur(6),r!==void 0&&typeof r!="function"&&Ur(7);let i;if(Oa(t)){const o=sk(this),s=w0(t,void 0);let l=!0;try{i=n(s),l=!1}finally{l?y0(o):x0(o)}return ak(o,r),lk(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===BT&&(i=void 0),this.autoFreeze_&&Pb(i,!0),r){const o=[],s=[];ja("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Ur(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,u=>t(u,...l));let r,i;return[this.produce(t,n,(s,l)=>{r=s,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Oa(e)||Ur(8),$s(e)&&(e=$q(e));const t=sk(this),n=w0(e,void 0);return n[dr].isManual_=!0,x0(t),n}finishDraft(e,t){const n=e&&e[dr];(!n||!n.isManual_)&&Ur(9);const{scope_:r}=n;return ak(r,t),lk(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ja("Patches").applyPatches_;return $s(e)?r(e,t):this.produce(e,i=>r(i,t))}};function w0(e,t){const n=su(e)?ja("MapSet").proxyMap_(e,t):ch(e)?ja("MapSet").proxySet_(e,t):Rq(e,t);return(t?t.scope_:VT()).drafts_.push(n),n}function $q(e){return $s(e)||Ur(10,e),HT(e)}function HT(e){if(!Oa(e)||uh(e))return e;const t=e[dr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=v0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=v0(e,!0);return Zf(n,(i,o)=>{WT(n,i,HT(o))},r),t&&(t.finalized_=!1),n}var Bq=new Fq;Bq.produce;var zq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},GT=Gn({name:"legend",initialState:zq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:kt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Kr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:kt()},removeLegendPayload:{reducer(e,t){var n=Kr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:kt()}}}),{setLegendSize:cle,setLegendSettings:ule,addLegendPayload:Wq,replaceLegendPayload:Vq,removeLegendPayload:Uq}=GT.actions,Hq=GT.reducer;function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(null,arguments)}function uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ql(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(n),!0).forEach(function(r){Gq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gq(e,t,n){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kq(e){var t=qq(e,"string");return typeof t=="symbol"?t:t+""}function qq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yq(e){return Array.isArray(e)&&vi(e[0])&&vi(e[1])?e.join(" ~ "):e}var us={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Xq=e=>{var{separator:t=us.separator,contentStyle:n,itemStyle:r,labelStyle:i=us.labelStyle,payload:o,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:m=us.accessibilityLayer}=e,v=()=>{if(o&&o.length){var D={padding:0,margin:0},O=(l?Kp(o,l):o).map((_,T)=>{if(_.type==="none")return null;var V=_.formatter||s||Yq,{value:Y,name:K}=_,B=Y,U=K;if(V){var ue=V(Y,K,_,T,o);if(Array.isArray(ue))[B,U]=ue;else if(ue!=null)B=ue;else return null}var oe=ql(ql({},us.itemStyle),{},{color:_.color||us.itemStyle.color},r);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:oe},vi(U)?P.createElement("span",{className:"recharts-tooltip-item-name"},U):null,vi(U)?P.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,P.createElement("span",{className:"recharts-tooltip-item-value"},B),P.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:D},O)}return null},x=ql(ql({},us.contentStyle),n),w=ql({margin:0},i),b=!Nn(f),C=b?f:"",k=Pt("recharts-default-tooltip",u),E=Pt("recharts-tooltip-label",d);b&&p&&o!==void 0&&o!==null&&(C=p(f,o));var N=m?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",S0({className:k,style:x},N),P.createElement("p",{className:E,style:w},P.isValidElement(C)?C:"".concat(C)),v())},Yl="recharts-tooltip-wrapper",Zq={visibility:"hidden"};function Qq(e){var{coordinate:t,translateX:n,translateY:r}=e;return Pt(Yl,{["".concat(Yl,"-right")]:_e(n)&&t&&_e(t.x)&&n>=t.x,["".concat(Yl,"-left")]:_e(n)&&t&&_e(t.x)&&n<t.x,["".concat(Yl,"-bottom")]:_e(r)&&t&&_e(t.y)&&r>=t.y,["".concat(Yl,"-top")]:_e(r)&&t&&_e(t.y)&&r<t.y})}function dk(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:o,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(o&&_e(o[r]))return o[r];var f=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return s[r]?f:p;var m=u[r];if(m==null)return 0;if(s[r]){var v=f,x=m;return v<x?Math.max(p,m):Math.max(f,m)}if(d==null)return 0;var w=p+l,b=m+d;return w>b?Math.max(f,m):Math.max(p,m)}function Jq(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function eY(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,p,m;return l.height>0&&l.width>0&&n?(p=dk({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=dk({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=Jq({translateX:p,translateY:m,useTranslate3d:u})):f=Zq,{cssProperties:f,cssClasses:Qq({translateX:p,translateY:m,coordinate:n})}}function fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(n),!0).forEach(function(r){P0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P0(e,t,n){return(t=tY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tY(e){var t=nY(e,"string");return typeof t=="symbol"?t:t+""}function nY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rY extends P.PureComponent{constructor(){super(...arguments),P0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),P0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:p,useTranslate3d:m,viewBox:v,wrapperStyle:x,lastBoundingBox:w,innerRef:b,hasPortalFromProps:C}=this.props,k=typeof d=="number"?d:d.x,E=typeof d=="number"?d:d.y,{cssClasses:N,cssProperties:D}=eY({allowEscapeViewBox:n,coordinate:s,offsetLeft:k,offsetTop:E,position:f,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:m,viewBox:v}),O=C?{}:Zd(Zd({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),_=Zd(Zd({},O),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},x);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:_,ref:b},o)}}var KT=()=>{var e;return(e=Le(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C0.apply(null,arguments)}function pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(n),!0).forEach(function(r){iY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iY(e,t,n){return(t=oY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mk={curveBasisClosed:xH,curveBasisOpen:bH,curveBasis:yH,curveBumpX:gH,curveBumpY:vH,curveLinearClosed:wH,curveLinear:Up,curveMonotoneX:SH,curveMonotoneY:PH,curveNatural:CH,curveStep:AH,curveStepAfter:EH,curveStepBefore:kH},ep=e=>Qe(e.x)&&Qe(e.y),gk=e=>e.base!=null&&ep(e.base)&&ep(e),Xl=e=>e.x,Zl=e=>e.y,sY=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(ub(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=mk["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return mk[n]||Up},vk={connectNulls:!1,type:"linear"},lY=e=>{var{type:t=vk.type,points:n=[],baseLine:r,layout:i,connectNulls:o=vk.connectNulls}=e,s=sY(t,i),l=o?n.filter(ep):n;if(Array.isArray(r)){var u,d=n.map((x,w)=>hk(hk({},x),{},{base:r[w]}));i==="vertical"?u=Vd().y(Zl).x1(Xl).x0(x=>x.base.x):u=Vd().x(Xl).y1(Zl).y0(x=>x.base.y);var f=u.defined(gk).curve(s),p=o?d.filter(gk):d;return f(p)}var m;i==="vertical"&&_e(r)?m=Vd().y(Zl).x1(Xl).x0(r):_e(r)?m=Vd().x(Xl).y1(Zl).y0(r):m=j_().x(Xl).y(Zl);var v=m.defined(ep).curve(s);return v(l)},mf=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=Xs();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},l=n&&n.length?lY(s):r;return P.createElement("path",C0({},qr(e),db(e),{className:Pt("recharts-curve",t),d:l===null?void 0:l,ref:i}))},cY=["x","y","top","left","width","height","className"];function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0.apply(null,arguments)}function yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(n),!0).forEach(function(r){dY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dY(e,t,n){return(t=fY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hY(e,t){if(e==null)return{};var n,r,i=mY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gY=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),vY=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:l}=e,u=hY(e,cY),d=uY({x:t,y:n,top:r,left:i,width:o,height:s},u);return!_e(t)||!_e(n)||!_e(o)||!_e(s)||!_e(r)||!_e(i)?null:P.createElement("path",A0({},jr(d),{className:Pt("recharts-cross",l),d:gY(t,n,o,s,r,i)}))};function yY(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(n),!0).forEach(function(r){xY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xY(e,t,n){return(t=bY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bY(e){var t=wY(e,"string");return typeof t=="symbol"?t:t+""}function wY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),PY=(e,t,n)=>e.map(r=>"".concat(SY(r)," ").concat(t,"ms ").concat(n)).join(","),CY=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Fc=(e,t)=>Object.keys(t).reduce((n,r)=>bk(bk({},n),{},{[r]:e(r,t[r])}),{});function wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(n),!0).forEach(function(r){AY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AY(e,t,n){return(t=kY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kY(e){var t=EY(e,"string");return typeof t=="symbol"?t:t+""}function EY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp=(e,t,n)=>e+(t-e)*n,k0=e=>{var{from:t,to:n}=e;return t!==n},qT=(e,t,n)=>{var r=Fc((i,o)=>{if(k0(o)){var[s,l]=e(o.from,o.to,o.velocity);return Ht(Ht({},o),{},{from:s,velocity:l})}return o},t);return n<1?Fc((i,o)=>k0(o)&&r[i]!=null?Ht(Ht({},o),{},{velocity:tp(o.velocity,r[i].velocity,n),from:tp(o.from,r[i].from,n)}):o,t):qT(e,r,n-1)};function NY(e,t,n,r,i,o){var s,l=r.reduce((m,v)=>Ht(Ht({},m),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>Fc((m,v)=>v.from,l),d=()=>!Object.values(l).filter(k0).length,f=null,p=m=>{s||(s=m);var v=m-s,x=v/n.dt;l=qT(n,l,x),i(Ht(Ht(Ht({},e),t),u())),s=m,d()||(f=o.setTimeout(p))};return()=>(f=o.setTimeout(p),()=>{var m;(m=f)===null||m===void 0||m()})}function OY(e,t,n,r,i,o,s){var l=null,u=i.reduce((p,m)=>{var v=e[m],x=t[m];return v==null||x==null?p:Ht(Ht({},p),{},{[m]:[v,x]})},{}),d,f=p=>{d||(d=p);var m=(p-d)/r,v=Fc((w,b)=>tp(...b,n(m)),u);if(o(Ht(Ht(Ht({},e),t),v)),m<1)l=s.setTimeout(f);else{var x=Fc((w,b)=>tp(...b,n(1)),u);o(Ht(Ht(Ht({},e),t),x))}};return()=>(l=s.setTimeout(f),()=>{var p;(p=l)===null||p===void 0||p()})}const jY=(e,t,n,r,i,o)=>{var s=CY(e,t);return n==null?()=>(i(Ht(Ht({},e),t)),()=>{}):n.isStepper===!0?NY(e,t,n,s,i,o):OY(e,t,n,r,s,i,o)};var np=1e-4,YT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],XT=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Sk=(e,t)=>n=>{var r=YT(e,t);return XT(r,n)},DY=(e,t)=>n=>{var r=YT(e,t),i=[...r.map((o,s)=>o*s).slice(1),0];return XT(i,n)},_Y=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},TY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=_Y(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},MY=(e,t,n,r)=>{var i=Sk(e,n),o=Sk(t,r),s=DY(e,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,p=f,m=0;m<8;++m){var v=i(p)-f,x=s(p);if(Math.abs(v-f)<np||x<np)return o(p);p=l(p-v/x)}return o(p)};return u.isStepper=!1,u},Pk=function(){return MY(...TY(...arguments))},IY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(s,l,u)=>{var d=-(s-l)*n,f=u*r,p=u+(d-f)*i/1e3,m=u*i/1e3+s;return Math.abs(m-l)<np&&Math.abs(p)<np?[l,0]:[m,p]};return o.isStepper=!0,o.dt=i,o},RY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Pk(e);case"spring":return IY();default:if(e.split("(")[0]==="cubic-bezier")return Pk(e)}return typeof e=="function"?e:null};function LY(e){var t,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(o.bind(null,d),u);return}o(u),i=e.setTimeout(o.bind(null,d));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class FY{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function $Y(){return LY(new FY)}var BY=P.createContext($Y);function zY(e,t){var n=P.useContext(BY);return P.useMemo(()=>t??n(e),[e,t,n])}var WY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),lu={isSsr:WY()},VY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Ck={t:0},qv={t:1};function ZT(e){var t=fr(e,VY),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:u,children:d}=t,f=n==="auto"?!lu.isSsr:n,p=zY(t.animationId,t.animationManager),[m,v]=P.useState(f?Ck:qv),x=P.useRef(null);return P.useEffect(()=>{f||v(qv)},[f]),P.useEffect(()=>{if(!f||!r)return Ys;var w=jY(Ck,qv,RY(o),i,v,p.getTimeoutController()),b=()=>{x.current=w()};return p.start([u,s,b,i,l]),()=>{p.stop(),x.current&&x.current(),l()}},[f,r,i,o,s,u,l,p]),d(m.t)}function QT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=P.useRef(Dc(t)),r=P.useRef(e);return r.current!==e&&(n.current=Dc(t),r.current=e),n.current}var UY=["radius"],HY=["radius"],Ak,kk,Ek,Nk,Ok,jk,Dk,_k,Tk,Mk;function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(n),!0).forEach(function(r){GY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GY(e,t,n){return(t=KY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KY(e){var t=qY(e,"string");return typeof t=="symbol"?t:t+""}function qY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rp.apply(null,arguments)}function Lk(e,t){if(e==null)return{};var n,r,i=YY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Fk=(e,t,n,r,i)=>{var o=Oo(n),s=Oo(r),l=Math.min(Math.abs(o)/2,Math.abs(s)/2),u=s>=0?1:-1,d=o>=0?1:-1,f=s>=0&&o>=0||s<0&&o<0?1:0,p;if(l>0&&Array.isArray(i)){for(var m=[0,0,0,0],v=0,x=4;v<x;v++){var w,b=(w=i[v])!==null&&w!==void 0?w:0;m[v]=b>l?l:b}p=pn(Ak||(Ak=oi(["M",",",""])),e,t+u*m[0]),m[0]>0&&(p+=pn(kk||(kk=oi(["A ",",",",0,0,",",",",",""])),m[0],m[0],f,e+d*m[0],t)),p+=pn(Ek||(Ek=oi(["L ",",",""])),e+n-d*m[1],t),m[1]>0&&(p+=pn(Nk||(Nk=oi(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],f,e+n,t+u*m[1])),p+=pn(Ok||(Ok=oi(["L ",",",""])),e+n,t+r-u*m[2]),m[2]>0&&(p+=pn(jk||(jk=oi(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],f,e+n-d*m[2],t+r)),p+=pn(Dk||(Dk=oi(["L ",",",""])),e+d*m[3],t+r),m[3]>0&&(p+=pn(_k||(_k=oi(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],f,e,t+r-u*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var C=Math.min(l,i);p=pn(Tk||(Tk=oi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*C,C,C,f,e+d*C,t,e+n-d*C,t,C,C,f,e+n,t+u*C,e+n,t+r-u*C,C,C,f,e+n-d*C,t+r,e+d*C,t+r,C,C,f,e,t+r-u*C)}else p=pn(Mk||(Mk=oi(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return p},$k={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XY=e=>{var t=fr(e,$k),n=P.useRef(null),[r,i]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:o,y:s,width:l,height:u,radius:d,className:f}=t,{animationEasing:p,animationDuration:m,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:w}=t,b=P.useRef(l),C=P.useRef(u),k=P.useRef(o),E=P.useRef(s),N=P.useMemo(()=>({x:o,y:s,width:l,height:u,radius:d}),[o,s,l,u,d]),D=QT(N,"rectangle-");if(o!==+o||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var O=Pt("recharts-rectangle",f);if(!w){var _=jr(t),{radius:T}=_,V=Lk(_,UY);return P.createElement("path",rp({},V,{x:Oo(o),y:Oo(s),width:Oo(l),height:Oo(u),radius:typeof d=="number"?d:void 0,className:O,d:Fk(o,s,l,u,d)}))}var Y=b.current,K=C.current,B=k.current,U=E.current,ue="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),we=PY(["strokeDasharray"],m,typeof p=="string"?p:$k.animationEasing);return P.createElement(ZT,{animationId:D,key:D,canBegin:r>0,duration:m,easing:p,isActive:w,begin:v},Q=>{var G=ci(Y,l,Q),ne=ci(K,u,Q),te=ci(B,o,Q),L=ci(U,s,Q);n.current&&(b.current=G,C.current=ne,k.current=te,E.current=L);var W;x?Q>0?W={transition:we,strokeDasharray:oe}:W={strokeDasharray:ue}:W={strokeDasharray:oe};var ie=jr(t),{radius:se}=ie,de=Lk(ie,HY);return P.createElement("path",rp({},de,{radius:typeof d=="number"?d:void 0,className:O,d:Fk(te,L,G,ne,d),ref:n,style:Rk(Rk({},W),t.style)}))})};function Bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(n),!0).forEach(function(r){ZY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZY(e,t,n){return(t=QY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QY(e){var t=JY(e,"string");return typeof t=="symbol"?t:t+""}function JY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ip=Math.PI/180,eX=e=>e*180/Math.PI,gn=(e,t,n,r)=>({x:e+Math.cos(-ip*r)*n,y:t+Math.sin(-ip*r)*n}),tX=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},nX=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},rX=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,s=nX({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,u=Math.acos(l);return r>o&&(u=2*Math.PI-u),{radius:s,angle:eX(u),angleInRadian:u}},iX=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},oX=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return e+s*360},aX=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=rX({x:n,y:r},t),{innerRadius:s,outerRadius:l}=t;if(i<s||i>l||i===0)return null;var{startAngle:u,endAngle:d}=iX(t),f=o,p;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;p=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=u}return p?zk(zk({},t),{},{radius:i,angle:oX(f,t)}):null};function JT(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,s=gn(t,n,r,i),l=gn(t,n,r,o);return{points:[s,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var Wk,Vk,Uk,Hk,Gk,Kk,qk;function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E0.apply(null,arguments)}function ma(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var sX=(e,t)=>{var n=Er(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Qd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:l,cornerIsExternal:u}=e,d=l*(s?1:-1)+r,f=Math.asin(l/d)/ip,p=u?i:i+o*f,m=gn(t,n,d,p),v=gn(t,n,r,p),x=u?i-o*f:i,w=gn(t,n,d*Math.cos(f*ip),x);return{center:m,circleTangency:v,lineTangency:w,theta:f}},eM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=e,l=sX(o,s),u=o+l,d=gn(t,n,i,o),f=gn(t,n,i,u),p=pn(Wk||(Wk=ma(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(l)>180),+(o>u),f.x,f.y);if(r>0){var m=gn(t,n,r,o),v=gn(t,n,r,u);p+=pn(Vk||(Vk=ma(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(l)>180),+(o<=u),m.x,m.y)}else p+=pn(Uk||(Uk=ma(["L ",","," Z"])),t,n);return p},lX=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}=e,f=Er(d-u),{circleTangency:p,lineTangency:m,theta:v}=Qd({cx:t,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),{circleTangency:x,lineTangency:w,theta:b}=Qd({cx:t,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),C=l?Math.abs(u-d):Math.abs(u-d)-v-b;if(C<0)return s?pn(Hk||(Hk=ma(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,o,o,o*2,o,o,-o*2):eM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var k=pn(Gk||(Gk=ma(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,o,o,+(f<0),p.x,p.y,i,i,+(C>180),+(f<0),x.x,x.y,o,o,+(f<0),w.x,w.y);if(r>0){var{circleTangency:E,lineTangency:N,theta:D}=Qd({cx:t,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),{circleTangency:O,lineTangency:_,theta:T}=Qd({cx:t,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),V=l?Math.abs(u-d):Math.abs(u-d)-D-T;if(V<0&&o===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+=pn(Kk||(Kk=ma(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),_.x,_.y,o,o,+(f<0),O.x,O.y,r,r,+(V>180),+(f>0),E.x,E.y,o,o,+(f<0),N.x,N.y)}else k+=pn(qk||(qk=ma(["L",",","Z"])),t,n);return k},cX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uX=e=>{var t=fr(e,cX),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:p}=t;if(o<i||d===f)return null;var m=Pt("recharts-sector",p),v=o-i,x=$o(s,v,0,!0),w;return x>0&&Math.abs(d-f)<360?w=lX({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):w=eM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),P.createElement("path",E0({},jr(t),{className:m,d:w}))};function dX(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(W_(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:s,angle:l}=t,u=gn(r,i,o,l),d=gn(r,i,s,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return JT(t)}}var Yv={},Xv={},Zv={},Yk;function fX(){return Yk||(Yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q_();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Zv)),Zv}var Xk;function pX(){return Xk||(Xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fX();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Xv)),Xv}var Zk;function hX(){return Zk||(Zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J_(),n=pX();function r(i,o,s){s&&typeof s!="number"&&t.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((o-i)/(s||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=s;return u}e.range=r})(Yv)),Yv}var Qv,Qk;function mX(){return Qk||(Qk=1,Qv=hX().range),Qv}var gX=mX();const tM=Yi(gX);function To(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ab(e){let t,n,r;e.length!==2?(t=To,n=(l,u)=>To(e(l),u),r=(l,u)=>e(l)-u):(t=e===To||e===vX?e:yX,n=e,r=e);function i(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<0?d=p+1:f=p}while(d<f)}return d}function o(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<=0?d=p+1:f=p}while(d<f)}return d}function s(l,u,d=0,f=l.length){const p=i(l,u,d,f-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:s,right:o}}function yX(){return 0}function nM(e){return e===null?NaN:+e}function*xX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const bX=Ab(To),cu=bX.right;Ab(nM).center;class Jk extends Map{constructor(t,n=PX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(eE(this,t))}has(t){return super.has(eE(this,t))}set(t,n){return super.set(wX(this,t),n)}delete(t){return super.delete(SX(this,t))}}function eE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function wX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function SX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function PX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CX(e=To){if(e===To)return rM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function rM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const AX=Math.sqrt(50),kX=Math.sqrt(10),EX=Math.sqrt(2);function op(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=AX?10:o>=kX?5:o>=EX?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*s,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?op(e,t,n*2):[l,u,d]}function N0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?op(t,e,n):op(e,t,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(s<0)for(let d=0;d<l;++d)u[d]=(o-d)/-s;else for(let d=0;d<l;++d)u[d]=(o-d)*s;else if(s<0)for(let d=0;d<l;++d)u[d]=(i+d)/-s;else for(let d=0;d<l;++d)u[d]=(i+d)*s;return u}function O0(e,t,n){return t=+t,e=+e,n=+n,op(e,t,n)[2]}function j0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?O0(t,e,n):O0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function tE(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function nE(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function iM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?rM:CX(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,f=Math.log(u),p=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*p*(u-p)/u)*(d-u/2<0?-1:1),v=Math.max(n,Math.floor(t-d*p/u+m)),x=Math.min(r,Math.floor(t+(u-d)*p/u+m));iM(e,t,v,x,i)}const o=e[t];let s=n,l=r;for(Ql(e,n,t),i(e[r],o)>0&&Ql(e,n,r);s<l;){for(Ql(e,s,l),++s,--l;i(e[s],o)<0;)++s;for(;i(e[l],o)>0;)--l}i(e[n],o)===0?Ql(e,n,l):(++l,Ql(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Ql(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function NX(e,t,n){if(e=Float64Array.from(xX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return nE(e);if(t>=1)return tE(e);var r,i=(r-1)*t,o=Math.floor(i),s=tE(iM(e,o).subarray(0,o+1)),l=nE(e.subarray(o+1));return s+(l-s)*(i-o)}}function OX(e,t,n=nM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),l=+n(e[o+1],o+1,e);return s+(l-s)*(i-o)}}function jX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Tr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const D0=Symbol("implicit");function kb(){var e=new Jk,t=[],n=[],r=D0;function i(o){let s=e.get(o);if(s===void 0){if(r!==D0)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Jk;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return kb(t,n).unknown(r)},Tr.apply(i,arguments),i}function Eb(){var e=kb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,l=!1,u=0,d=0,f=.5;delete e.unknown;function p(){var m=t().length,v=i<r,x=v?i:r,w=v?r:i;o=(w-x)/Math.max(1,m-u+d*2),l&&(o=Math.floor(o)),x+=(w-x-o*(m-u))*f,s=o*(1-u),l&&(x=Math.round(x),s=Math.round(s));var b=jX(m).map(function(C){return x+o*C});return n(v?b.reverse():b)}return e.domain=function(m){return arguments.length?(t(m),p()):t()},e.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(m){return arguments.length?(l=!!m,p()):l},e.padding=function(m){return arguments.length?(u=Math.min(1,d=+m),p()):u},e.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),p()):u},e.paddingOuter=function(m){return arguments.length?(d=+m,p()):d},e.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),p()):f},e.copy=function(){return Eb(t(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(f)},Tr.apply(p(),arguments)}function oM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oM(t())},e}function DX(){return oM(Eb.apply(null,arguments).paddingInner(1))}function Nb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function aM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function uu(){}var $c=.7,ap=1/$c,Ns="\\s*([+-]?\\d+)\\s*",Bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_X=/^#([0-9a-f]{3,8})$/,TX=new RegExp(`^rgb\\(${Ns},${Ns},${Ns}\\)$`),MX=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),IX=new RegExp(`^rgba\\(${Ns},${Ns},${Ns},${Bc}\\)$`),RX=new RegExp(`^rgba\\(${hi},${hi},${hi},${Bc}\\)$`),LX=new RegExp(`^hsl\\(${Bc},${hi},${hi}\\)$`),FX=new RegExp(`^hsla\\(${Bc},${hi},${hi},${Bc}\\)$`),rE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nb(uu,zc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iE,formatHex:iE,formatHex8:$X,formatHsl:BX,formatRgb:oE,toString:oE});function iE(){return this.rgb().formatHex()}function $X(){return this.rgb().formatHex8()}function BX(){return sM(this).formatHsl()}function oE(){return this.rgb().formatRgb()}function zc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_X.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?aE(t):n===3?new Hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Jd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Jd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TX.exec(e))?new Hn(t[1],t[2],t[3],1):(t=MX.exec(e))?new Hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IX.exec(e))?Jd(t[1],t[2],t[3],t[4]):(t=RX.exec(e))?Jd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LX.exec(e))?cE(t[1],t[2]/100,t[3]/100,1):(t=FX.exec(e))?cE(t[1],t[2]/100,t[3]/100,t[4]):rE.hasOwnProperty(e)?aE(rE[e]):e==="transparent"?new Hn(NaN,NaN,NaN,0):null}function aE(e){return new Hn(e>>16&255,e>>8&255,e&255,1)}function Jd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Hn(e,t,n,r)}function zX(e){return e instanceof uu||(e=zc(e)),e?(e=e.rgb(),new Hn(e.r,e.g,e.b,e.opacity)):new Hn}function _0(e,t,n,r){return arguments.length===1?zX(e):new Hn(e,t,n,r??1)}function Hn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Nb(Hn,_0,aM(uu,{brighter(e){return e=e==null?ap:Math.pow(ap,e),new Hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$c:Math.pow($c,e),new Hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Hn(Sa(this.r),Sa(this.g),Sa(this.b),sp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sE,formatHex:sE,formatHex8:WX,formatRgb:lE,toString:lE}));function sE(){return`#${ga(this.r)}${ga(this.g)}${ga(this.b)}`}function WX(){return`#${ga(this.r)}${ga(this.g)}${ga(this.b)}${ga((isNaN(this.opacity)?1:this.opacity)*255)}`}function lE(){const e=sp(this.opacity);return`${e===1?"rgb(":"rgba("}${Sa(this.r)}, ${Sa(this.g)}, ${Sa(this.b)}${e===1?")":`, ${e})`}`}function sp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ga(e){return e=Sa(e),(e<16?"0":"")+e.toString(16)}function cE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hr(e,t,n,r)}function sM(e){if(e instanceof Hr)return new Hr(e.h,e.s,e.l,e.opacity);if(e instanceof uu||(e=zc(e)),!e)return new Hr;if(e instanceof Hr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new Hr(s,l,u,e.opacity)}function VX(e,t,n,r){return arguments.length===1?sM(e):new Hr(e,t,n,r??1)}function Hr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Nb(Hr,VX,aM(uu,{brighter(e){return e=e==null?ap:Math.pow(ap,e),new Hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$c:Math.pow($c,e),new Hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Hn(Jv(e>=240?e-240:e+120,i,r),Jv(e,i,r),Jv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Hr(uE(this.h),ef(this.s),ef(this.l),sp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sp(this.opacity);return`${e===1?"hsl(":"hsla("}${uE(this.h)}, ${ef(this.s)*100}%, ${ef(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uE(e){return e=(e||0)%360,e<0?e+360:e}function ef(e){return Math.max(0,Math.min(1,e||0))}function Jv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ob=e=>()=>e;function UX(e,t){return function(n){return e+n*t}}function HX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function GX(e){return(e=+e)==1?lM:function(t,n){return n-t?HX(t,n,e):Ob(isNaN(t)?n:t)}}function lM(e,t){var n=t-e;return n?UX(e,n):Ob(isNaN(e)?t:e)}const dE=(function e(t){var n=GX(t);function r(i,o){var s=n((i=_0(i)).r,(o=_0(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),d=lM(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=u(f),i.opacity=d(f),i+""}}return r.gamma=e,r})(1);function KX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function qX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Zs(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function XX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function lp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ZX(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Zs(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var T0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ey=new RegExp(T0.source,"g");function QX(e){return function(){return e}}function JX(e){return function(t){return e(t)+""}}function eZ(e,t){var n=T0.lastIndex=ey.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(e=e+"",t=t+"";(r=T0.exec(e))&&(i=ey.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:lp(r,i)})),n=ey.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?JX(u[0].x):QX(t):(t=u.length,function(d){for(var f=0,p;f<t;++f)l[(p=u[f]).i]=p.x(d);return l.join("")})}function Zs(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ob(t):(n==="number"?lp:n==="string"?(r=zc(t))?(t=r,dE):eZ:t instanceof zc?dE:t instanceof Date?XX:qX(t)?KX:Array.isArray(t)?YX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ZX:lp)(e,t)}function jb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function tZ(e,t){t===void 0&&(t=e,e=Zs);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[l](s-l)}}function nZ(e){return function(){return e}}function cp(e){return+e}var fE=[0,1];function Mn(e){return e}function M0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:nZ(isNaN(t)?NaN:.5)}function rZ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function iZ(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=M0(i,r),o=n(s,o)):(r=M0(r,i),o=n(o,s)),function(l){return o(r(l))}}function oZ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=M0(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(l){var u=cu(e,l,1,r)-1;return o[u](i[u](l))}}function du(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dh(){var e=fE,t=fE,n=Zs,r,i,o,s=Mn,l,u,d;function f(){var m=Math.min(e.length,t.length);return s!==Mn&&(s=rZ(e[0],e[m-1])),l=m>2?oZ:iZ,u=d=null,p}function p(m){return m==null||isNaN(m=+m)?o:(u||(u=l(e.map(r),t,n)))(r(s(m)))}return p.invert=function(m){return s(i((d||(d=l(t,e.map(r),lp)))(m)))},p.domain=function(m){return arguments.length?(e=Array.from(m,cp),f()):e.slice()},p.range=function(m){return arguments.length?(t=Array.from(m),f()):t.slice()},p.rangeRound=function(m){return t=Array.from(m),n=jb,f()},p.clamp=function(m){return arguments.length?(s=m?!0:Mn,f()):s!==Mn},p.interpolate=function(m){return arguments.length?(n=m,f()):n},p.unknown=function(m){return arguments.length?(o=m,p):o},function(m,v){return r=m,i=v,f()}}function Db(){return dh()(Mn,Mn)}function aZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function up(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Bs(e){return e=up(Math.abs(e)),e?e[1]:NaN}function sZ(e,t){return function(n,r){for(var i=n.length,o=[],s=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[s=(s+1)%e.length];return o.reverse().join(t)}}function lZ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var cZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wc(e){if(!(t=cZ.exec(e)))throw new Error("invalid format: "+e);var t;return new _b({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wc.prototype=_b.prototype;function _b(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_b.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uZ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var dp;function dZ(e,t){var n=up(e,t);if(!n)return dp=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(dp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+up(e,Math.max(0,t+o-1))[0]}function pE(e,t){var n=up(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:aZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pE(e*100,t),r:pE,s:dZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function mE(e){return e}var gE=Array.prototype.map,vE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fZ(e){var t=e.grouping===void 0||e.thousands===void 0?mE:sZ(gE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?mE:lZ(gE.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(p,m){p=Wc(p);var v=p.fill,x=p.align,w=p.sign,b=p.symbol,C=p.zero,k=p.width,E=p.comma,N=p.precision,D=p.trim,O=p.type;O==="n"?(E=!0,O="g"):hE[O]||(N===void 0&&(N=12),D=!0,O="g"),(C||v==="0"&&x==="=")&&(C=!0,v="0",x="=");var _=(m&&m.prefix!==void 0?m.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),T=(b==="$"?r:/[%p]/.test(O)?s:"")+(m&&m.suffix!==void 0?m.suffix:""),V=hE[O],Y=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function K(B){var U=_,ue=T,oe,we,Q;if(O==="c")ue=V(B)+ue,B="";else{B=+B;var G=B<0||1/B<0;if(B=isNaN(B)?u:V(Math.abs(B),N),D&&(B=uZ(B)),G&&+B==0&&w!=="+"&&(G=!1),U=(G?w==="("?w:l:w==="-"||w==="("?"":w)+U,ue=(O==="s"&&!isNaN(B)&&dp!==void 0?vE[8+dp/3]:"")+ue+(G&&w==="("?")":""),Y){for(oe=-1,we=B.length;++oe<we;)if(Q=B.charCodeAt(oe),48>Q||Q>57){ue=(Q===46?i+B.slice(oe+1):B.slice(oe))+ue,B=B.slice(0,oe);break}}}E&&!C&&(B=t(B,1/0));var ne=U.length+B.length+ue.length,te=ne<k?new Array(k-ne+1).join(v):"";switch(E&&C&&(B=t(te+B,te.length?k-ue.length:1/0),te=""),x){case"<":B=U+B+ue+te;break;case"=":B=U+te+B+ue;break;case"^":B=te.slice(0,ne=te.length>>1)+U+B+ue+te.slice(ne);break;default:B=te+U+B+ue;break}return o(B)}return K.toString=function(){return p+""},K}function f(p,m){var v=Math.max(-8,Math.min(8,Math.floor(Bs(m)/3)))*3,x=Math.pow(10,-v),w=d((p=Wc(p),p.type="f",p),{suffix:vE[8+v/3]});return function(b){return w(x*b)}}return{format:d,formatPrefix:f}}var tf,Tb,cM;pZ({thousands:",",grouping:[3],currency:["$",""]});function pZ(e){return tf=fZ(e),Tb=tf.format,cM=tf.formatPrefix,tf}function hZ(e){return Math.max(0,-Bs(Math.abs(e)))}function mZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bs(t)/3)))*3-Bs(Math.abs(e)))}function gZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bs(t)-Bs(e))+1}function uM(e,t,n,r){var i=j0(e,t,n),o;switch(r=Wc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=mZ(i,s))&&(r.precision=o),cM(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=gZ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=hZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Tb(r)}function Wo(e){var t=e.domain;return e.ticks=function(n){var r=t();return N0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return uM(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],l=r[o],u,d,f=10;for(l<s&&(d=s,s=l,l=d,d=i,i=o,o=d);f-- >0;){if(d=O0(s,l,n),d===u)return r[i]=s,r[o]=l,t(r);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function dM(){var e=Db();return e.copy=function(){return du(e,dM())},Tr.apply(e,arguments),Wo(e)}function fM(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,cp),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return fM(e).unknown(t)},e=arguments.length?Array.from(e,cp):[0,1],Wo(n)}function pM(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function yE(e){return Math.log(e)}function xE(e){return Math.exp(e)}function vZ(e){return-Math.log(-e)}function yZ(e){return-Math.exp(-e)}function xZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bZ(e){return e===10?xZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bE(e){return(t,n)=>-e(-t,n)}function Mb(e){const t=e(yE,xE),n=t.domain;let r=10,i,o;function s(){return i=wZ(r),o=bZ(r),n()[0]<0?(i=bE(i),o=bE(o),e(vZ,yZ)):e(yE,xE),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(n(l),s()):n()},t.ticks=l=>{const u=n();let d=u[0],f=u[u.length-1];const p=f<d;p&&([d,f]=[f,d]);let m=i(d),v=i(f),x,w;const b=l==null?10:+l;let C=[];if(!(r%1)&&v-m<b){if(m=Math.floor(m),v=Math.ceil(v),d>0){for(;m<=v;++m)for(x=1;x<r;++x)if(w=m<0?x/o(-m):x*o(m),!(w<d)){if(w>f)break;C.push(w)}}else for(;m<=v;++m)for(x=r-1;x>=1;--x)if(w=m>0?x/o(-m):x*o(m),!(w<d)){if(w>f)break;C.push(w)}C.length*2<b&&(C=N0(d,f,b))}else C=N0(m,v,Math.min(v-m,b)).map(o);return p?C.reverse():C},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Wc(u)).precision==null&&(u.trim=!0),u=Tb(u)),l===1/0)return u;const d=Math.max(1,r*l/t.ticks().length);return f=>{let p=f/o(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=d?u(f):""}},t.nice=()=>n(pM(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function hM(){const e=Mb(dh()).domain([1,10]);return e.copy=()=>du(e,hM()).base(e.base()),Tr.apply(e,arguments),e}function wE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function SE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ib(e){var t=1,n=e(wE(t),SE(t));return n.constant=function(r){return arguments.length?e(wE(t=+r),SE(t)):t},Wo(n)}function mM(){var e=Ib(dh());return e.copy=function(){return du(e,mM()).constant(e.constant())},Tr.apply(e,arguments)}function PE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function SZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PZ(e){return e<0?-e*e:e*e}function Rb(e){var t=e(Mn,Mn),n=1;function r(){return n===1?e(Mn,Mn):n===.5?e(SZ,PZ):e(PE(n),PE(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Wo(t)}function Lb(){var e=Rb(dh());return e.copy=function(){return du(e,Lb()).exponent(e.exponent())},Tr.apply(e,arguments),e}function CZ(){return Lb.apply(null,arguments).exponent(.5)}function CE(e){return Math.sign(e)*e*e}function AZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function gM(){var e=Db(),t=[0,1],n=!1,r;function i(o){var s=AZ(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(CE(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,cp)).map(CE)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return gM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Tr.apply(i,arguments),Wo(i)}function vM(){var e=[],t=[],n=[],r;function i(){var s=0,l=Math.max(1,t.length);for(n=new Array(l-1);++s<l;)n[s-1]=OX(e,s/l);return o}function o(s){return s==null||isNaN(s=+s)?r:t[cu(n,s)]}return o.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(To),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return vM().domain(e).range(t).unknown(r)},Tr.apply(o,arguments)}function yM(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(u){return u!=null&&u<=u?i[cu(r,u,0,n)]:o}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return yM().domain([e,t]).range(i).unknown(o)},Tr.apply(Wo(s),arguments)}function xM(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[cu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return xM().domain(e).range(t).unknown(n)},Tr.apply(i,arguments)}const ty=new Date,ny=new Date;function Gt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const u=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return u;let d;do u.push(d=new Date(+o)),t(o,l),e(o);while(d<o&&o<s);return u},i.filter=o=>Gt(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!o(s););else for(;--l>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(ty.setTime(+o),ny.setTime(+s),e(ty),e(ny),Math.floor(n(ty,ny))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const fp=Gt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fp);fp.range;const Ii=1e3,Nr=Ii*60,Ri=Nr*60,Ui=Ri*24,Fb=Ui*7,AE=Ui*30,ry=Ui*365,va=Gt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCSeconds());va.range;const $b=Gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ii)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getMinutes());$b.range;const Bb=Gt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getUTCMinutes());Bb.range;const zb=Gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ii-e.getMinutes()*Nr)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getHours());zb.range;const Wb=Gt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCHours());Wb.range;const fu=Gt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nr)/Ui,e=>e.getDate()-1);fu.range;const fh=Gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ui,e=>e.getUTCDate()-1);fh.range;const bM=Gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ui,e=>Math.floor(e/Ui));bM.range;function Ma(e){return Gt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Nr)/Fb)}const ph=Ma(0),pp=Ma(1),kZ=Ma(2),EZ=Ma(3),zs=Ma(4),NZ=Ma(5),OZ=Ma(6);ph.range;pp.range;kZ.range;EZ.range;zs.range;NZ.range;OZ.range;function Ia(e){return Gt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Fb)}const hh=Ia(0),hp=Ia(1),jZ=Ia(2),DZ=Ia(3),Ws=Ia(4),_Z=Ia(5),TZ=Ia(6);hh.range;hp.range;jZ.range;DZ.range;Ws.range;_Z.range;TZ.range;const Vb=Gt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Vb.range;const Ub=Gt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ub.range;const Hi=Gt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Hi.range;const Gi=Gt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Gi.range;function wM(e,t,n,r,i,o){const s=[[va,1,Ii],[va,5,5*Ii],[va,15,15*Ii],[va,30,30*Ii],[o,1,Nr],[o,5,5*Nr],[o,15,15*Nr],[o,30,30*Nr],[i,1,Ri],[i,3,3*Ri],[i,6,6*Ri],[i,12,12*Ri],[r,1,Ui],[r,2,2*Ui],[n,1,Fb],[t,1,AE],[t,3,3*AE],[e,1,ry]];function l(d,f,p){const m=f<d;m&&([d,f]=[f,d]);const v=p&&typeof p.range=="function"?p:u(d,f,p),x=v?v.range(d,+f+1):[];return m?x.reverse():x}function u(d,f,p){const m=Math.abs(f-d)/p,v=Ab(([,,b])=>b).right(s,m);if(v===s.length)return e.every(j0(d/ry,f/ry,p));if(v===0)return fp.every(Math.max(j0(d,f,p),1));const[x,w]=s[m/s[v-1][2]<s[v][2]/m?v-1:v];return x.every(w)}return[l,u]}const[MZ,IZ]=wM(Gi,Ub,hh,bM,Wb,Bb),[RZ,LZ]=wM(Hi,Vb,ph,fu,zb,$b);function iy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function oy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function FZ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,d=ec(i),f=tc(i),p=ec(o),m=tc(o),v=ec(s),x=tc(s),w=ec(l),b=tc(l),C=ec(u),k=tc(u),E={a:Q,A:G,b:ne,B:te,c:null,d:DE,e:DE,f:sQ,g:vQ,G:xQ,H:iQ,I:oQ,j:aQ,L:SM,m:lQ,M:cQ,p:L,q:W,Q:ME,s:IE,S:uQ,u:dQ,U:fQ,V:pQ,w:hQ,W:mQ,x:null,X:null,y:gQ,Y:yQ,Z:bQ,"%":TE},N={a:ie,A:se,b:de,B:X,c:null,d:_E,e:_E,f:CQ,g:MQ,G:RQ,H:wQ,I:SQ,j:PQ,L:CM,m:AQ,M:kQ,p:$,q:ee,Q:ME,s:IE,S:EQ,u:NQ,U:OQ,V:jQ,w:DQ,W:_Q,x:null,X:null,y:TQ,Y:IQ,Z:LQ,"%":TE},D={a:Y,A:K,b:B,B:U,c:ue,d:OE,e:OE,f:eQ,g:NE,G:EE,H:jE,I:jE,j:XZ,L:JZ,m:YZ,M:ZZ,p:V,q:qZ,Q:nQ,s:rQ,S:QZ,u:VZ,U:UZ,V:HZ,w:WZ,W:GZ,x:oe,X:we,y:NE,Y:EE,Z:KZ,"%":tQ};E.x=O(n,E),E.X=O(r,E),E.c=O(t,E),N.x=O(n,N),N.X=O(r,N),N.c=O(t,N);function O(R,re){return function(fe){var I=[],Ce=-1,be=0,Ye=R.length,ze,rt,ye;for(fe instanceof Date||(fe=new Date(+fe));++Ce<Ye;)R.charCodeAt(Ce)===37&&(I.push(R.slice(be,Ce)),(rt=kE[ze=R.charAt(++Ce)])!=null?ze=R.charAt(++Ce):rt=ze==="e"?" ":"0",(ye=re[ze])&&(ze=ye(fe,rt)),I.push(ze),be=Ce+1);return I.push(R.slice(be,Ce)),I.join("")}}function _(R,re){return function(fe){var I=Jl(1900,void 0,1),Ce=T(I,R,fe+="",0),be,Ye;if(Ce!=fe.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(re&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(be=oy(Jl(I.y,0,1)),Ye=be.getUTCDay(),be=Ye>4||Ye===0?hp.ceil(be):hp(be),be=fh.offset(be,(I.V-1)*7),I.y=be.getUTCFullYear(),I.m=be.getUTCMonth(),I.d=be.getUTCDate()+(I.w+6)%7):(be=iy(Jl(I.y,0,1)),Ye=be.getDay(),be=Ye>4||Ye===0?pp.ceil(be):pp(be),be=fu.offset(be,(I.V-1)*7),I.y=be.getFullYear(),I.m=be.getMonth(),I.d=be.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),Ye="Z"in I?oy(Jl(I.y,0,1)).getUTCDay():iy(Jl(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(Ye+5)%7:I.w+I.U*7-(Ye+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,oy(I)):iy(I)}}function T(R,re,fe,I){for(var Ce=0,be=re.length,Ye=fe.length,ze,rt;Ce<be;){if(I>=Ye)return-1;if(ze=re.charCodeAt(Ce++),ze===37){if(ze=re.charAt(Ce++),rt=D[ze in kE?re.charAt(Ce++):ze],!rt||(I=rt(R,fe,I))<0)return-1}else if(ze!=fe.charCodeAt(I++))return-1}return I}function V(R,re,fe){var I=d.exec(re.slice(fe));return I?(R.p=f.get(I[0].toLowerCase()),fe+I[0].length):-1}function Y(R,re,fe){var I=v.exec(re.slice(fe));return I?(R.w=x.get(I[0].toLowerCase()),fe+I[0].length):-1}function K(R,re,fe){var I=p.exec(re.slice(fe));return I?(R.w=m.get(I[0].toLowerCase()),fe+I[0].length):-1}function B(R,re,fe){var I=C.exec(re.slice(fe));return I?(R.m=k.get(I[0].toLowerCase()),fe+I[0].length):-1}function U(R,re,fe){var I=w.exec(re.slice(fe));return I?(R.m=b.get(I[0].toLowerCase()),fe+I[0].length):-1}function ue(R,re,fe){return T(R,t,re,fe)}function oe(R,re,fe){return T(R,n,re,fe)}function we(R,re,fe){return T(R,r,re,fe)}function Q(R){return s[R.getDay()]}function G(R){return o[R.getDay()]}function ne(R){return u[R.getMonth()]}function te(R){return l[R.getMonth()]}function L(R){return i[+(R.getHours()>=12)]}function W(R){return 1+~~(R.getMonth()/3)}function ie(R){return s[R.getUTCDay()]}function se(R){return o[R.getUTCDay()]}function de(R){return u[R.getUTCMonth()]}function X(R){return l[R.getUTCMonth()]}function $(R){return i[+(R.getUTCHours()>=12)]}function ee(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var re=O(R+="",E);return re.toString=function(){return R},re},parse:function(R){var re=_(R+="",!1);return re.toString=function(){return R},re},utcFormat:function(R){var re=O(R+="",N);return re.toString=function(){return R},re},utcParse:function(R){var re=_(R+="",!0);return re.toString=function(){return R},re}}}var kE={"-":"",_:" ",0:"0"},on=/^\s*\d+/,$Z=/^%/,BZ=/[\\^$*+?|[\]().{}]/g;function nt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function zZ(e){return e.replace(BZ,"\\$&")}function ec(e){return new RegExp("^(?:"+e.map(zZ).join("|")+")","i")}function tc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function WZ(e,t,n){var r=on.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function VZ(e,t,n){var r=on.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function UZ(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function HZ(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function GZ(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function EE(e,t,n){var r=on.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function NE(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function KZ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qZ(e,t,n){var r=on.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function YZ(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function OE(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function XZ(e,t,n){var r=on.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function jE(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ZZ(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function QZ(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function JZ(e,t,n){var r=on.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function eQ(e,t,n){var r=on.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tQ(e,t,n){var r=$Z.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function nQ(e,t,n){var r=on.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function rQ(e,t,n){var r=on.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function DE(e,t){return nt(e.getDate(),t,2)}function iQ(e,t){return nt(e.getHours(),t,2)}function oQ(e,t){return nt(e.getHours()%12||12,t,2)}function aQ(e,t){return nt(1+fu.count(Hi(e),e),t,3)}function SM(e,t){return nt(e.getMilliseconds(),t,3)}function sQ(e,t){return SM(e,t)+"000"}function lQ(e,t){return nt(e.getMonth()+1,t,2)}function cQ(e,t){return nt(e.getMinutes(),t,2)}function uQ(e,t){return nt(e.getSeconds(),t,2)}function dQ(e){var t=e.getDay();return t===0?7:t}function fQ(e,t){return nt(ph.count(Hi(e)-1,e),t,2)}function PM(e){var t=e.getDay();return t>=4||t===0?zs(e):zs.ceil(e)}function pQ(e,t){return e=PM(e),nt(zs.count(Hi(e),e)+(Hi(e).getDay()===4),t,2)}function hQ(e){return e.getDay()}function mQ(e,t){return nt(pp.count(Hi(e)-1,e),t,2)}function gQ(e,t){return nt(e.getFullYear()%100,t,2)}function vQ(e,t){return e=PM(e),nt(e.getFullYear()%100,t,2)}function yQ(e,t){return nt(e.getFullYear()%1e4,t,4)}function xQ(e,t){var n=e.getDay();return e=n>=4||n===0?zs(e):zs.ceil(e),nt(e.getFullYear()%1e4,t,4)}function bQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nt(t/60|0,"0",2)+nt(t%60,"0",2)}function _E(e,t){return nt(e.getUTCDate(),t,2)}function wQ(e,t){return nt(e.getUTCHours(),t,2)}function SQ(e,t){return nt(e.getUTCHours()%12||12,t,2)}function PQ(e,t){return nt(1+fh.count(Gi(e),e),t,3)}function CM(e,t){return nt(e.getUTCMilliseconds(),t,3)}function CQ(e,t){return CM(e,t)+"000"}function AQ(e,t){return nt(e.getUTCMonth()+1,t,2)}function kQ(e,t){return nt(e.getUTCMinutes(),t,2)}function EQ(e,t){return nt(e.getUTCSeconds(),t,2)}function NQ(e){var t=e.getUTCDay();return t===0?7:t}function OQ(e,t){return nt(hh.count(Gi(e)-1,e),t,2)}function AM(e){var t=e.getUTCDay();return t>=4||t===0?Ws(e):Ws.ceil(e)}function jQ(e,t){return e=AM(e),nt(Ws.count(Gi(e),e)+(Gi(e).getUTCDay()===4),t,2)}function DQ(e){return e.getUTCDay()}function _Q(e,t){return nt(hp.count(Gi(e)-1,e),t,2)}function TQ(e,t){return nt(e.getUTCFullYear()%100,t,2)}function MQ(e,t){return e=AM(e),nt(e.getUTCFullYear()%100,t,2)}function IQ(e,t){return nt(e.getUTCFullYear()%1e4,t,4)}function RQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ws(e):Ws.ceil(e),nt(e.getUTCFullYear()%1e4,t,4)}function LQ(){return"+0000"}function TE(){return"%"}function ME(e){return+e}function IE(e){return Math.floor(+e/1e3)}var ds,kM,EM;FQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FQ(e){return ds=FZ(e),kM=ds.format,ds.parse,EM=ds.utcFormat,ds.utcParse,ds}function $Q(e){return new Date(e)}function BQ(e){return e instanceof Date?+e:+new Date(+e)}function Hb(e,t,n,r,i,o,s,l,u,d){var f=Db(),p=f.invert,m=f.domain,v=d(".%L"),x=d(":%S"),w=d("%I:%M"),b=d("%I %p"),C=d("%a %d"),k=d("%b %d"),E=d("%B"),N=d("%Y");function D(O){return(u(O)<O?v:l(O)<O?x:s(O)<O?w:o(O)<O?b:r(O)<O?i(O)<O?C:k:n(O)<O?E:N)(O)}return f.invert=function(O){return new Date(p(O))},f.domain=function(O){return arguments.length?m(Array.from(O,BQ)):m().map($Q)},f.ticks=function(O){var _=m();return e(_[0],_[_.length-1],O??10)},f.tickFormat=function(O,_){return _==null?D:d(_)},f.nice=function(O){var _=m();return(!O||typeof O.range!="function")&&(O=t(_[0],_[_.length-1],O??10)),O?m(pM(_,O)):f},f.copy=function(){return du(f,Hb(e,t,n,r,i,o,s,l,u,d))},f}function zQ(){return Tr.apply(Hb(RZ,LZ,Hi,Vb,ph,fu,zb,$b,va,kM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WQ(){return Tr.apply(Hb(MZ,IZ,Gi,Ub,hh,fh,Wb,Bb,va,EM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mh(){var e=0,t=1,n,r,i,o,s=Mn,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:s(i===0?.5:(p=(o(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(s=p,d):s};function f(p){return function(m){var v,x;return arguments.length?([v,x]=m,s=p(v,x),d):[s(0),s(1)]}}return d.range=f(Zs),d.rangeRound=f(jb),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return o=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),d}}function Vo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function NM(){var e=Wo(mh()(Mn));return e.copy=function(){return Vo(e,NM())},Qi.apply(e,arguments)}function OM(){var e=Mb(mh()).domain([1,10]);return e.copy=function(){return Vo(e,OM()).base(e.base())},Qi.apply(e,arguments)}function jM(){var e=Ib(mh());return e.copy=function(){return Vo(e,jM()).constant(e.constant())},Qi.apply(e,arguments)}function Gb(){var e=Rb(mh());return e.copy=function(){return Vo(e,Gb()).exponent(e.exponent())},Qi.apply(e,arguments)}function VQ(){return Gb.apply(null,arguments).exponent(.5)}function DM(){var e=[],t=Mn;function n(r){if(r!=null&&!isNaN(r=+r))return t((cu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(To),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>NX(e,o/r))},n.copy=function(){return DM(t).domain(e)},Qi.apply(n,arguments)}function gh(){var e=0,t=.5,n=1,r=1,i,o,s,l,u,d=Mn,f,p=!1,m;function v(w){return isNaN(w=+w)?m:(w=.5+((w=+f(w))-o)*(r*w<r*o?l:u),d(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,n]=w,i=f(e=+e),o=f(t=+t),s=f(n=+n),l=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,v):[e,t,n]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(d=w,v):d};function x(w){return function(b){var C,k,E;return arguments.length?([C,k,E]=b,d=tZ(w,[C,k,E]),v):[d(0),d(.5),d(1)]}}return v.range=x(Zs),v.rangeRound=x(jb),v.unknown=function(w){return arguments.length?(m=w,v):m},function(w){return f=w,i=w(e),o=w(t),s=w(n),l=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,v}}function _M(){var e=Wo(gh()(Mn));return e.copy=function(){return Vo(e,_M())},Qi.apply(e,arguments)}function TM(){var e=Mb(gh()).domain([.1,1,10]);return e.copy=function(){return Vo(e,TM()).base(e.base())},Qi.apply(e,arguments)}function MM(){var e=Ib(gh());return e.copy=function(){return Vo(e,MM()).constant(e.constant())},Qi.apply(e,arguments)}function Kb(){var e=Rb(gh());return e.copy=function(){return Vo(e,Kb()).exponent(e.exponent())},Qi.apply(e,arguments)}function UQ(){return Kb.apply(null,arguments).exponent(.5)}const ac=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Eb,scaleDiverging:_M,scaleDivergingLog:TM,scaleDivergingPow:Kb,scaleDivergingSqrt:UQ,scaleDivergingSymlog:MM,scaleIdentity:fM,scaleImplicit:D0,scaleLinear:dM,scaleLog:hM,scaleOrdinal:kb,scalePoint:DX,scalePow:Lb,scaleQuantile:vM,scaleQuantize:yM,scaleRadial:gM,scaleSequential:NM,scaleSequentialLog:OM,scaleSequentialPow:Gb,scaleSequentialQuantile:DM,scaleSequentialSqrt:VQ,scaleSequentialSymlog:jM,scaleSqrt:CZ,scaleSymlog:mM,scaleThreshold:xM,scaleTime:zQ,scaleUtc:WQ,tickFormat:uM},Symbol.toStringTag,{value:"Module"}));var Ji=e=>e.chartData,IM=J([Ji],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),RM=(e,t,n,r)=>r?IM(e):Ji(e),HQ=(e,t,n)=>n?IM(e):Ji(e);function Ki(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Qe(t)&&Qe(n))return!0}return!1}function RE(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function LM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(Qe(n))i=n;else if(typeof n=="function")return;if(Qe(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Ki(s))return s}}function GQ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ki(r))return RE(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,s,l;if(i==="auto")t!=null&&(s=Math.min(...t));else if(_e(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&qA.test(i)){var u=qA.exec(i);if(u==null||u[1]==null||t==null)s=void 0;else{var d=+u[1];s=t[0]-d}}else s=t?.[0];if(o==="auto")t!=null&&(l=Math.max(...t));else if(_e(o))l=o;else if(typeof o=="function")try{t!=null&&(l=o(t?.[1]))}catch{}else if(typeof o=="string"&&YA.test(o)){var f=YA.exec(o);if(f==null||f[1]==null||t==null)l=void 0;else{var p=+f[1];l=t[1]+p}}else l=t?.[1];var m=[s,l];if(Ki(m))return t==null?m:RE(m,t,n)}}}var Qs=1e9,KQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Yb,Et=!0,_r="[DecimalError] ",Pa=_r+"Invalid argument: ",qb=_r+"Exponent out of range: ",Js=Math.floor,fa=Math.pow,qQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rr,en=1e7,wt=7,FM=9007199254740991,mp=Js(FM/wt),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*wt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(e){return $i(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,n=t.constructor;return mt($i(t,new n(e),0,1),n.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return Wt(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(rr))throw Error(_r+"NaN");if(n.s<1)throw Error(_r+(n.s?"NaN":"-Infinity"));return n.eq(rr)?new r(0):(Et=!1,t=$i(Vc(n,o),Vc(e,o),o),Et=!0,mt(t,i))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zM(t,e):$M(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(_r+"NaN");return n.s?(Et=!1,t=$i(n,e,0,1).times(e),Et=!0,n.minus(t)):mt(new r(n),i)};ke.naturalExponential=ke.exp=function(){return BM(this)};ke.naturalLogarithm=ke.ln=function(){return Vc(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$M(t,e):zM(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Pa+e);if(t=Wt(i)+1,r=i.d.length-1,n=r*wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ke.squareRoot=ke.sqrt=function(){var e,t,n,r,i,o,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(_r+"NaN")}for(e=Wt(l),Et=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=di(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Js((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(o=r,r=o.plus($i(l,o,s+2)).times(.5),di(o.d).slice(0,s)===(t=di(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(mt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(t!="9999")break;s+=4}return Et=!0,mt(r,n)};ke.times=ke.mul=function(e){var t,n,r,i,o,s,l,u,d,f=this,p=f.constructor,m=f.d,v=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,n=f.e+e.e,u=m.length,d=v.length,u<d&&(o=m,m=v,v=o,s=u,u=d,d=s),o=[],s=u+d,r=s;r--;)o.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)l=o[i]+v[r]*m[i-r-1]+t,o[i--]=l%en|0,t=l/en|0;o[i]=(o[i]+t)%en|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Et?mt(e,p.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(xi(e,0,Qs),t===void 0?t=r.rounding:xi(t,0,8),mt(n,e+Wt(n)+1,t))};ke.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Da(r,!0):(xi(e,0,Qs),t===void 0?t=i.rounding:xi(t,0,8),r=mt(new i(r),e+1,t),n=Da(r,!0,e+1)),n};ke.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Da(i):(xi(e,0,Qs),t===void 0?t=o.rounding:xi(t,0,8),r=mt(new o(i),e+Wt(i)+1,t),n=Da(r.abs(),!1,e+Wt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return mt(new t(e),Wt(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,n,r,i,o,s,l=this,u=l.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(rr);if(l=new u(l),!l.s){if(e.s<1)throw Error(_r+"Infinity");return l}if(l.eq(rr))return l;if(r=u.precision,e.eq(rr))return mt(l,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=l.s,s){if((n=f<0?-f:f)<=FM){for(i=new u(rr),t=Math.ceil(r/wt+4),Et=!1;n%2&&(i=i.times(l),FE(i.d,t)),n=Js(n/2),n!==0;)l=l.times(l),FE(l.d,t);return Et=!0,e.s<0?new u(rr).div(i):mt(i,r)}}else if(o<0)throw Error(_r+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Et=!1,i=e.times(Vc(l,r+d)),Et=!0,i=BM(i),i.s=o,i};ke.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Wt(i),r=Da(i,n<=o.toExpNeg||n>=o.toExpPos)):(xi(e,1,Qs),t===void 0?t=o.rounding:xi(t,0,8),i=mt(new o(i),e,t),n=Wt(i),r=Da(i,e<=n||n<=o.toExpNeg,e)),r};ke.toSignificantDigits=ke.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(xi(e,1,Qs),t===void 0?t=r.rounding:xi(t,0,8)),mt(new r(n),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wt(e),n=e.constructor;return Da(e,t<=n.toExpNeg||t>=n.toExpPos)};function $M(e,t){var n,r,i,o,s,l,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Et?mt(t,p):t;if(u=e.d,d=t.d,s=e.e,i=t.e,u=u.slice(),o=s-i,o){for(o<0?(r=u,o=-o,l=d.length):(r=d,i=s,l=u.length),s=Math.ceil(p/wt),l=s>l?s+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=u.length,o=d.length,l-o<0&&(o=l,r=d,d=u,u=r),n=0;o;)n=(u[--o]=u[o]+d[o]+n)/en|0,u[o]%=en;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,Et?mt(t,p):t}function xi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Pa+e)}function di(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=wt-r.length,n&&(o+=ko(n)),o+=r;s=e[t],r=s+"",n=wt-r.length,n&&(o+=ko(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var $i=(function(){function e(r,i){var o,s=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+s,r[l]=o%en|0,s=o/en|0;return s&&r.unshift(s),r}function t(r,i,o,s){var l,u;if(o!=s)u=o>s?1:-1;else for(l=u=0;l<o;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*en+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var l,u,d,f,p,m,v,x,w,b,C,k,E,N,D,O,_,T,V=r.constructor,Y=r.s==i.s?1:-1,K=r.d,B=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(_r+"Division by zero");for(u=r.e-i.e,_=B.length,D=K.length,v=new V(Y),x=v.d=[],d=0;B[d]==(K[d]||0);)++d;if(B[d]>(K[d]||0)&&--u,o==null?k=o=V.precision:s?k=o+(Wt(r)-Wt(i))+1:k=o,k<0)return new V(0);if(k=k/wt+2|0,d=0,_==1)for(f=0,B=B[0],k++;(d<D||f)&&k--;d++)E=f*en+(K[d]||0),x[d]=E/B|0,f=E%B|0;else{for(f=en/(B[0]+1)|0,f>1&&(B=e(B,f),K=e(K,f),_=B.length,D=K.length),N=_,w=K.slice(0,_),b=w.length;b<_;)w[b++]=0;T=B.slice(),T.unshift(0),O=B[0],B[1]>=en/2&&++O;do f=0,l=t(B,w,_,b),l<0?(C=w[0],_!=b&&(C=C*en+(w[1]||0)),f=C/O|0,f>1?(f>=en&&(f=en-1),p=e(B,f),m=p.length,b=w.length,l=t(p,w,m,b),l==1&&(f--,n(p,_<m?T:B,m))):(f==0&&(l=f=1),p=B.slice()),m=p.length,m<b&&p.unshift(0),n(w,p,b),l==-1&&(b=w.length,l=t(B,w,_,b),l<1&&(f++,n(w,_<b?T:B,b))),b=w.length):l===0&&(f++,w=[0]),x[d++]=f,l&&w[0]?w[b++]=K[N]||0:(w=[K[N]],b=1);while((N++<D||w[0]!==void 0)&&k--)}return x[0]||x.shift(),v.e=u,mt(v,s?o+Wt(v)+1:o)}})();function BM(e,t){var n,r,i,o,s,l,u=0,d=0,f=e.constructor,p=f.precision;if(Wt(e)>16)throw Error(qb+Wt(e));if(!e.s)return new f(rr);for(Et=!1,l=p,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(r=Math.log(fa(2,d))/Math.LN10*2+5|0,l+=r,n=i=o=new f(rr),f.precision=l;;){if(i=mt(i.times(e),l),n=n.times(++u),s=o.plus($i(i,n,l)),di(s.d).slice(0,l)===di(o.d).slice(0,l)){for(;d--;)o=mt(o.times(o),l);return f.precision=p,t==null?(Et=!0,mt(o,p)):o}o=s}}function Wt(e){for(var t=e.e*wt,n=e.d[0];n>=10;n/=10)t++;return t}function ay(e,t,n){if(t>e.LN10.sd())throw Et=!0,n&&(e.precision=n),Error(_r+"LN10 precision limit exceeded");return mt(new e(e.LN10),t)}function ko(e){for(var t="";e--;)t+="0";return t}function Vc(e,t){var n,r,i,o,s,l,u,d,f,p=1,m=10,v=e,x=v.d,w=v.constructor,b=w.precision;if(v.s<1)throw Error(_r+(v.s?"NaN":"-Infinity"));if(v.eq(rr))return new w(0);if(t==null?(Et=!1,d=b):d=t,v.eq(10))return t==null&&(Et=!0),ay(w,d);if(d+=m,w.precision=d,n=di(x),r=n.charAt(0),o=Wt(v),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=di(v.d),r=n.charAt(0),p++;o=Wt(v),r>1?(v=new w("0."+n),o++):v=new w(r+"."+n.slice(1))}else return u=ay(w,d+2,b).times(o+""),v=Vc(new w(r+"."+n.slice(1)),d-m).plus(u),w.precision=b,t==null?(Et=!0,mt(v,b)):v;for(l=s=v=$i(v.minus(rr),v.plus(rr),d),f=mt(v.times(v),d),i=3;;){if(s=mt(s.times(f),d),u=l.plus($i(s,new w(i),d)),di(u.d).slice(0,d)===di(l.d).slice(0,d))return l=l.times(2),o!==0&&(l=l.plus(ay(w,d+2,b).times(o+""))),l=$i(l,new w(p),d),w.precision=b,t==null?(Et=!0,mt(l,b)):l;l=u,i+=2}}function LE(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Js(n/wt),e.d=[],r=(n+1)%wt,n<0&&(r+=wt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=wt;r<i;)e.d.push(+t.slice(r,r+=wt));t=t.slice(r),r=wt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Et&&(e.e>mp||e.e<-mp))throw Error(qb+n)}else e.s=0,e.e=0,e.d=[0];return e}function mt(e,t,n){var r,i,o,s,l,u,d,f,p=e.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=wt,i=t,d=p[f=0];else{if(f=Math.ceil((r+1)/wt),o=p.length,f>=o)return e;for(d=o=p[f],s=1;o>=10;o/=10)s++;r%=wt,i=r-wt+s}if(n!==void 0&&(o=fa(10,s-i-1),l=d/o%10|0,u=t<0||p[f+1]!==void 0||d%o,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/fa(10,s-i):0:p[f-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(o=Wt(e),p.length=1,t=t-o-1,p[0]=fa(10,(wt-t%wt)%wt),e.e=Js(-t/wt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=f,o=1,f--):(p.length=f+1,o=fa(10,wt-r),p[f]=i>0?(d/fa(10,s-i)%fa(10,i)|0)*o:0),u)for(;;)if(f==0){(p[0]+=o)==en&&(p[0]=1,++e.e);break}else{if(p[f]+=o,p[f]!=en)break;p[f--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Et&&(e.e>mp||e.e<-mp))throw Error(qb+Wt(e));return e}function zM(e,t){var n,r,i,o,s,l,u,d,f,p,m=e.constructor,v=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Et?mt(t,v):t;if(u=e.d,p=t.d,r=t.e,d=e.e,u=u.slice(),s=d-r,s){for(f=s<0,f?(n=u,s=-s,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(v/wt),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){f=u[i]<p[i];break}s=0}for(f&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>s;){if(u[--i]<p[i]){for(o=i;o&&u[--o]===0;)u[o]=en-1;--u[o],u[i]+=en}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,Et?mt(t,v):t):new m(0)}function Da(e,t,n){var r,i=Wt(e),o=di(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ko(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ko(-i-1)+o,n&&(r=n-s)>0&&(o+=ko(r))):i>=s?(o+=ko(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ko(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ko(r))),e.s<0?"-"+o:o}function FE(e,t){if(e.length>t)return e.length=t,!0}function WM(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Pa+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return LE(s,o.toString())}else if(typeof o!="string")throw Error(Pa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,qQ.test(o))LE(s,o);else throw Error(Pa+o)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=WM,i.config=i.set=YQ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function YQ(e){if(!e||typeof e!="object")throw Error(_r+"Object expected");var t,n,r,i=["precision",1,Qs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Js(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Pa+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Pa+n+": "+r);return this}var Yb=WM(KQ);rr=new Yb(1);const ct=Yb;function VM(e){var t;return e===0?t=1:t=Math.floor(new ct(e).abs().log(10).toNumber())+1,t}function UM(e,t,n){for(var r=new ct(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var HM=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},GM=(e,t,n)=>{if(e.lte(0))return new ct(0);var r=VM(e.toNumber()),i=new ct(10).pow(r),o=e.div(i),s=r!==1?.05:.1,l=new ct(Math.ceil(o.div(s).toNumber())).add(n).mul(s),u=l.mul(i);return t?new ct(u.toNumber()):new ct(Math.ceil(u.toNumber()))},XQ=(e,t,n)=>{var r=new ct(1),i=new ct(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new ct(10).pow(VM(e)-1),i=new ct(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ct(Math.floor(e)))}else e===0?i=new ct(Math.floor((t-1)/2)):n||(i=new ct(Math.floor(e)));for(var s=Math.floor((t-1)/2),l=[],u=0;u<t;u++)l.push(i.add(new ct(u-s).mul(r)).toNumber());return l},KM=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var s=GM(new ct(n).sub(t).div(r-1),i,o),l;t<=0&&n>=0?l=new ct(0):(l=new ct(t).add(n).div(2),l=l.sub(new ct(l).mod(s)));var u=Math.ceil(l.sub(t).div(s).toNumber()),d=Math.ceil(new ct(n).sub(l).div(s).toNumber()),f=u+d+1;return f>r?KM(t,n,r,i,o+1):(f<r&&(d=n>0?d+(r-f):d,u=n>0?u:u+(r-f)),{step:s,tickMin:l.sub(new ct(u).mul(s)),tickMax:l.add(new ct(d).mul(s))})},ZQ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[l,u]=HM([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return n>r?d.reverse():d}if(l===u)return XQ(l,i,o);var{step:f,tickMin:p,tickMax:m}=KM(l,u,s,o,0),v=UM(p,m.add(new ct(.1).mul(f)),f);return n>r?v.reverse():v},QQ=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=HM([r,i]);if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var u=Math.max(n,2),d=GM(new ct(l).sub(s).div(u-1),o,0),f=[...UM(new ct(s),new ct(l),d),l];return o===!1&&(f=f.map(p=>Math.round(p))),r>i?f.reverse():f},JQ=e=>e.rootProps.barCategoryGap,vh=e=>e.rootProps.stackOffset,qM=e=>e.rootProps.reverseStackOrder,Xb=e=>e.options.chartName,Zb=e=>e.rootProps.syncId,YM=e=>e.rootProps.syncMethod,Qb=e=>e.options.eventEmitter,eJ=e=>e.rootProps.baseValue,In={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},aa={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ai={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},yh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function xh(e,t,n){if(n!=="auto")return n;if(e!=null)return bi(e,t)?"category":"number"}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(r){tJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tJ(e,t,n){return(t=nJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nJ(e){var t=rJ(e,"string");return typeof t=="symbol"?t:t+""}function rJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BE={allowDataOverflow:aa.allowDataOverflow,allowDecimals:aa.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:aa.angleAxisId,includeHidden:!1,name:void 0,reversed:aa.reversed,scale:aa.scale,tick:aa.tick,tickCount:void 0,ticks:void 0,type:aa.type,unit:void 0},zE={allowDataOverflow:ai.allowDataOverflow,allowDecimals:ai.allowDecimals,allowDuplicatedCategory:ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ai.radiusAxisId,includeHidden:ai.includeHidden,name:void 0,reversed:ai.reversed,scale:ai.scale,tick:ai.tick,tickCount:ai.tickCount,ticks:void 0,type:ai.type,unit:void 0},iJ=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Jb=J([iJ,$T],(e,t)=>{var n;if(e!=null)return e;var r=(n=xh(t,"angleAxis",BE.type))!==null&&n!==void 0?n:"category";return gp(gp({},BE),{},{type:r})}),oJ=(e,t)=>e.polarAxis.radiusAxis[t],e1=J([oJ,$T],(e,t)=>{var n;if(e!=null)return e;var r=(n=xh(t,"radiusAxis",zE.type))!==null&&n!==void 0?n:"category";return gp(gp({},zE),{},{type:r})}),bh=e=>e.polarOptions,t1=J([Xi,Zi,yn],tX),XM=J([bh,t1],(e,t)=>{if(e!=null)return $o(e.innerRadius,t,0)}),ZM=J([bh,t1],(e,t)=>{if(e!=null)return $o(e.outerRadius,t,t*.8)}),aJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},QM=J([bh],aJ);J([Jb,QM],yh);var JM=J([t1,XM,ZM],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});J([e1,JM],yh);var eI=J([Nt,bh,XM,ZM,Xi,Zi],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:l,startAngle:u,endAngle:d}=t;return{cx:$o(s,i,i/2),cy:$o(l,o,o/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),an=(e,t)=>t,wh=(e,t,n)=>n;function n1(e){return e?.id}function tI(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var f=n1(l);d.forEach((p,m)=>{var v=o==null||i?m:String(vn(p,o,null)),x=vn(p,l.dataKey,0),w;s.has(v)?w=s.get(v):w={},Object.assign(w,{[f]:x}),s.set(v,w)})}}),Array.from(s.values())}function r1(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Sh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ph(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function sJ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var sn=e=>{var t=Nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},el=e=>e.tooltip.settings.axisId;function lJ(e){if(e in ac)return ac[e]();var t="scale".concat(ub(e));if(t in ac)return ac[t]()}function WE(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(o){function s(){return o.apply(this,arguments)}return s.toString=function(){return o.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var s=i[0],l=i[1];return s<=l?o>=s&&o<=l:o>=l&&o<=s},bandwidth:n?()=>n.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,s)=>{var l=e(o);if(l!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var u=e.bandwidth();switch(s.position){case"middle":l+=u/2;break;case"end":l+=u;break}}return l}}}}function VE(e,t,n){if(typeof e=="function")return WE(e.copy().domain(t).range(n));if(e!=null){var r=lJ(e);if(r!=null)return r.domain(t).range(n),WE(r)}}var cJ=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ki(t)){for(var n,r,i=0;i<t.length;i++){var o=t[i];Qe(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function UE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(n),!0).forEach(function(r){uJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uJ(e,t,n){return(t=dJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dJ(e){var t=fJ(e,"string");return typeof t=="symbol"?t:t+""}function fJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I0=[0,"auto"],Zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},nI=(e,t)=>e.cartesianAxis.xAxis[t],eo=(e,t)=>{var n=nI(e,t);return n??Zt},Qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:I0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ou},rI=(e,t)=>e.cartesianAxis.yAxis[t],to=(e,t)=>{var n=rI(e,t);return n??Qt},pJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},i1=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??pJ},Ln=(e,t,n)=>{switch(t){case"xAxis":return eo(e,n);case"yAxis":return to(e,n);case"zAxis":return i1(e,n);case"angleAxis":return Jb(e,n);case"radiusAxis":return e1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},hJ=(e,t,n)=>{switch(t){case"xAxis":return eo(e,n);case"yAxis":return to(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pu=(e,t,n)=>{switch(t){case"xAxis":return eo(e,n);case"yAxis":return to(e,n);case"angleAxis":return Jb(e,n);case"radiusAxis":return e1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},iI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function oI(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var aI=e=>e.graphicalItems.cartesianItems,mJ=J([an,wh],oI),sI=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),hu=J([aI,Ln,mJ],sI,{memoizeOptions:{resultEqualityCheck:Ph}}),lI=J([hu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(r1)),cI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),gJ=J([hu],cI),uI=e=>e.map(t=>t.data).filter(Boolean).flat(1),vJ=J([hu],uI,{memoizeOptions:{resultEqualityCheck:Ph}}),dI=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},o1=J([vJ,RM],dI),fI=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:vn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:vn(i,r)}))):e.map(r=>({value:r})),Ch=J([o1,Ln,hu],fI);function pI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function gf(e){if(vi(e)||e instanceof Date){var t=Number(e);if(Qe(t))return t}}function HE(e){if(Array.isArray(e)){var t=[gf(e[0]),gf(e[1])];return Ki(t)?t:void 0}var n=gf(e);if(n!=null)return[n,n]}function qi(e){return e.map(gf).filter(Un)}function yJ(e,t,n){return!n||typeof t!="number"||gi(t)?[]:n.length?qi(n.flatMap(r=>{var i=vn(e,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!Qe(o)||!Qe(s)))return[t-o,t+s]})):[]}var Kt=e=>{var t=sn(e),n=el(e);return pu(e,t,n)},mu=J([Kt],e=>e?.dataKey),xJ=J([lI,RM,Kt],tI),hI=(e,t,n,r)=>{var i={},o=t.reduce((s,l)=>{if(l.stackId==null)return s;var u=s[l.stackId];return u==null&&(u=[]),u.push(l),s[l.stackId]=u,s},i);return Object.fromEntries(Object.entries(o).map(s=>{var[l,u]=s,d=r?[...u].reverse():u,f=d.map(n1);return[l,{stackedData:UK(e,f,n),graphicalItems:d}]}))},mI=J([xJ,lI,vh,qM],hI),gI=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var s=qK(e,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},bJ=J([Ln],e=>e.allowDataOverflow),a1=e=>{var t;if(e==null||!("domain"in e))return I0;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=qi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:I0},vI=J([Ln],a1),yI=J([vI,bJ],LM),wJ=J([mI,Ji,an,yI],gI,{memoizeOptions:{resultEqualityCheck:Sh}}),s1=e=>e.errorBars,SJ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>pI(n,r)),yp=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),l=Math.max(...o);return[s,l]}},xI=(e,t,n,r,i)=>{var o,s;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var d,f,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(C=>pI(i,C)),m=vn(l,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),v=yJ(l,m,p);if(v.length>=2){var x=Math.min(...v),w=Math.max(...v);(o==null||x<o)&&(o=x),(s==null||w>s)&&(s=w)}var b=HE(m);b!=null&&(o=o==null?b[0]:Math.min(o,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=HE(vn(l,t.dataKey));u!=null&&(o=o==null?u[0]:Math.min(o,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),Qe(o)&&Qe(s))return[o,s]},PJ=J([o1,Ln,gJ,s1,an],xI,{memoizeOptions:{resultEqualityCheck:Sh}});function CJ(e){var{value:t}=e;if(vi(t)||t instanceof Date)return t}var AJ=(e,t,n)=>{var r=e.map(CJ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&B_(r))?tM(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},bI=e=>e.referenceElements.dots,tl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),kJ=J([bI,an,wh],tl),wI=e=>e.referenceElements.areas,EJ=J([wI,an,wh],tl),SI=e=>e.referenceElements.lines,NJ=J([SI,an,wh],tl),PI=(e,t)=>{if(e!=null){var n=qi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},OJ=J(kJ,an,PI),CI=(e,t)=>{if(e!=null){var n=qi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jJ=J([EJ,an],CI);function DJ(e){var t;if(e.x!=null)return qi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:qi(n)}function _J(e){var t;if(e.y!=null)return qi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:qi(n)}var AI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?DJ(r):_J(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},TJ=J([NJ,an],AI),MJ=J(OJ,TJ,jJ,(e,t,n)=>yp(e,n,t)),kI=(e,t,n,r,i,o,s,l)=>{if(n!=null)return n;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",d=u?yp(r,o,i):yp(o,i);return GQ(t,d,e.allowDataOverflow)},IJ=J([Ln,vI,yI,wJ,PJ,MJ,Nt,an],kI,{memoizeOptions:{resultEqualityCheck:Sh}}),RJ=[0,1],EI=(e,t,n,r,i,o,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:u}=e,d=bi(t,o);if(d&&l==null){var f;return tM(0,(f=n?.length)!==null&&f!==void 0?f:0)}return u==="category"?AJ(r,e,d):i==="expand"?RJ:s}},l1=J([Ln,Nt,o1,Ch,vh,an,IJ],EI);function LJ(e){return e in ac}var NI=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(ub(r));return LJ(o)?o:"point"}}},nl=J([Ln,iI,Xb],NI);function c1(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?VE(e.scale,n,r):VE(t,n,r)}var OI=(e,t,n)=>{var r=a1(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ki(e))return ZQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ki(e))return QQ(e,t.tickCount,t.allowDecimals)}},u1=J([l1,pu,nl],OI),jI=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Ki(t)&&Array.isArray(n)&&n.length>0){var i,o,s=t[0],l=(i=n[0])!==null&&i!==void 0?i:0,u=t[1],d=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(s,l),Math.max(u,d)]}return t},FJ=J([Ln,l1,u1,an],jI),$J=J(Ch,Ln,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(qi(e.map(p=>p.value))).sort((p,m)=>p-m),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var s=o-i;if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var u=r[l],d=r[l+1];if(!(u==null||d==null)){var f=d-u;n=Math.min(n,f)}}return n/s}}),DI=J($J,Nt,JQ,yn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Qe(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var s=$o(n,e*o),l=e*o/2;return l-s-(l-s)/o*s}return 0}),BJ=(e,t,n)=>{var r=eo(e,t);return r==null||typeof r.padding!="string"?0:DI(e,"xAxis",t,n,r.padding)},zJ=(e,t,n)=>{var r=to(e,t);return r==null||typeof r.padding!="string"?0:DI(e,"yAxis",t,n,r.padding)},WJ=J(eo,BJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),VJ=J(to,zJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),UJ=J([yn,WJ,ah,oh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),HJ=J([yn,Nt,VJ,ah,oh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),gu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return UJ(e,n,r);case"yAxis":return HJ(e,n,r);case"zAxis":return(i=i1(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return QM(e);case"radiusAxis":return JM(e,n);default:return}},_I=J([Ln,gu],yh),GJ=J([nl,FJ],cJ),Ah=J([Ln,nl,GJ,_I],c1);J([hu,s1,an],SJ);function TI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var kh=(e,t)=>t,Eh=(e,t,n)=>n,KJ=J(rh,kh,Eh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(TI)),qJ=J(ih,kh,Eh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(TI)),MI=(e,t)=>({width:e.width,height:t.height}),YJ=(e,t)=>{var n=typeof t.width=="number"?t.width:ou;return{width:n,height:e.height}},XJ=J(yn,eo,MI),ZJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},QJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},JJ=J(Zi,yn,KJ,kh,Eh,(e,t,n,r,i)=>{var o={},s;return n.forEach(l=>{var u=MI(t,l);s==null&&(s=ZJ(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;o[l.id]=s-Number(d)*u.height,s+=(d?-1:1)*u.height}),o}),eee=J(Xi,yn,qJ,kh,Eh,(e,t,n,r,i)=>{var o={},s;return n.forEach(l=>{var u=YJ(t,l);s==null&&(s=QJ(t,r,e));var d=r==="left"&&!i||r==="right"&&i;o[l.id]=s-Number(d)*u.width,s+=(d?-1:1)*u.width}),o}),tee=(e,t)=>{var n=eo(e,t);if(n!=null)return JJ(e,n.orientation,n.mirror)},nee=J([yn,eo,tee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),ree=(e,t)=>{var n=to(e,t);if(n!=null)return eee(e,n.orientation,n.mirror)},iee=J([yn,to,ree,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),oee=J(yn,to,(e,t)=>{var n=typeof t.width=="number"?t.width:ou;return{width:n,height:e.height}}),II=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,l=bi(e,r),u=t.map(d=>d.value);if(s&&l&&o==="category"&&i&&B_(u))return u}},d1=J([Nt,Ch,Ln,an],II),RI=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=bi(e,r);if(s&&(i==="number"||o!=="auto"))return t.map(l=>l.value)}},f1=J([Nt,Ch,pu,an],RI),GE=J([Nt,hJ,nl,Ah,d1,f1,gu,u1,an],(e,t,n,r,i,o,s,l,u)=>{if(t!=null){var d=bi(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:l,range:s,realScaleType:n,scale:r}}}),aee=(e,t,n,r,i,o,s,l,u)=>{if(!(t==null||r==null)){var d=bi(e,u),{type:f,ticks:p,tickCount:m}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/v:0;x=u==="angleAxis"&&o!=null&&o.length>=2?Er(o[0]-o[1])*2*x:x;var w=p||i;return w?w.map((b,C)=>{var k=s?s.indexOf(b):b,E=r.map(k);return Qe(E)?{index:C,coordinate:E+x,value:b,offset:x}:null}).filter(Un):d&&l?l.map((b,C)=>{var k=r.map(b);return Qe(k)?{coordinate:k+x,value:b,index:C,offset:x}:null}).filter(Un):r.ticks?r.ticks(m).map((b,C)=>{var k=r.map(b);return Qe(k)?{coordinate:k+x,value:b,index:C,offset:x}:null}).filter(Un):r.domain().map((b,C)=>{var k=r.map(b);return Qe(k)?{coordinate:k+x,value:s?s[b]:b,index:C,offset:x}:null}).filter(Un)}},LI=J([Nt,pu,nl,Ah,u1,gu,d1,f1,an],aee),see=(e,t,n,r,i,o,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=bi(e,s),{tickCount:u}=t,d=0;return d=s==="angleAxis"&&r?.length>=2?Er(r[0]-r[1])*2*d:d,l&&o?o.map((f,p)=>{var m=n.map(f);return Qe(m)?{coordinate:m+d,value:f,index:p,offset:d}:null}).filter(Un):n.ticks?n.ticks(u).map((f,p)=>{var m=n.map(f);return Qe(m)?{coordinate:m+d,value:f,index:p,offset:d}:null}).filter(Un):n.domain().map((f,p)=>{var m=n.map(f);return Qe(m)?{coordinate:m+d,value:i?i[f]:f,index:p,offset:d}:null}).filter(Un)}},FI=J([Nt,pu,Ah,gu,d1,f1,an],see),$I=J(Ln,Ah,(e,t)=>{if(!(e==null||t==null))return vp(vp({},e),{},{scale:t})}),lee=J([Ln,nl,l1,_I],c1);J((e,t,n)=>i1(e,n),lee,(e,t)=>{if(!(e==null||t==null))return vp(vp({},e),{},{scale:t})});var cee=J([Nt,rh,ih],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),BI=e=>e.options.defaultTooltipEventType,zI=e=>e.options.validateTooltipEventTypes;function WI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function p1(e,t){var n=BI(e),r=zI(e);return WI(t,n,r)}function uee(e){return Le(t=>p1(t,e))}var VI=(e,t)=>{var n,r=Number(t);if(!(gi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},dee=e=>e.tooltip.settings,No={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},fee={itemInteraction:{click:No,hover:No},axisInteraction:{click:No,hover:No},keyboardInteraction:No,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},UI=Gn({name:"tooltip",initialState:fee,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:kt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Kr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:kt()},removeTooltipEntrySettings:{reducer(e,t){var n=Kr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:kt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:pee,replaceTooltipEntrySettings:hee,removeTooltipEntrySettings:mee,setTooltipSettingsState:gee,setActiveMouseOverItemIndex:vee,mouseLeaveItem:dle,mouseLeaveChart:HI,setActiveClickItemIndex:fle,setMouseOverAxisIndex:GI,setMouseClickAxisIndex:yee,setSyncInteraction:R0,setKeyboardInteraction:L0}=UI.actions,xee=UI.reducer;function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(r){bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bee(e,t,n){return(t=wee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pee(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Cee(e){return e.index!=null}var KI=(e,t,n,r)=>{if(t==null)return No;var i=Pee(e,t,n);if(i==null)return No;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Cee(i)){if(o)return nf(nf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return nf(nf({},No),{},{coordinate:i.coordinate})};function Aee(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function kee(e,t){var n=Aee(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),s=Math.max(r,i);return n>=o&&n<=s}function Eee(e,t,n){if(n==null||t==null)return!0;var r=vn(e,t);return r==null||!Ki(n)?!0:kee(r,n)}var h1=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var o=Number(i);if(!Qe(o))return i;var s=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(s,Math.min(o,l)),d=t[u];return d==null||Eee(d,n,r)?String(u):null},qI=(e,t,n,r,i,o,s)=>{if(o!=null){var l=s[0],u=l?.getPosition(o);if(u!=null)return u;var d=i?.[Number(o)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:d.coordinate}}},YI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},XI=e=>e.options.tooltipPayloadSearcher,rl=e=>e.tooltip;function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(n),!0).forEach(function(r){Nee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nee(e,t,n){return(t=Oee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dee(e,t){return e??t}var ZI=(e,t,n,r,i,o,s)=>{if(!(t==null||o==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=n,p=[];return e.reduce((m,v)=>{var x,{dataDefinedOnItem:w,settings:b}=v,C=Dee(w,l),k=Array.isArray(C)?ET(C,d,f):C,E=(x=b?.dataKey)!==null&&x!==void 0?x:r,N=b?.nameKey,D;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&s==="axis"?D=z_(k,r,i):D=o(k,t,u,N),Array.isArray(D))D.forEach(_=>{var T=YE(YE({},b),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});m.push(XA({tooltipEntrySettings:T,dataKey:_.dataKey,payload:_.payload,value:vn(_.payload,_.dataKey),name:_.name}))});else{var O;m.push(XA({tooltipEntrySettings:b,dataKey:E,payload:D,value:vn(D,E),name:(O=vn(D,N))!==null&&O!==void 0?O:b?.name}))}return m},p)}},m1=J([Kt,iI,Xb],NI),_ee=J([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Tee=J([sn,el],oI),il=J([_ee,Kt,Tee],sI,{memoizeOptions:{resultEqualityCheck:Ph}}),Mee=J([il],e=>e.filter(r1)),Iee=J([il],uI,{memoizeOptions:{resultEqualityCheck:Ph}}),ol=J([Iee,Ji],dI),Ree=J([Mee,Ji,Kt],tI),g1=J([ol,Kt,il],fI),QI=J([Kt],a1),Lee=J([Kt],e=>e.allowDataOverflow),JI=J([QI,Lee],LM),Fee=J([il],e=>e.filter(r1)),$ee=J([Ree,Fee,vh,qM],hI),Bee=J([$ee,Ji,sn,JI],gI),zee=J([il],cI),Wee=J([ol,Kt,zee,s1,sn],xI,{memoizeOptions:{resultEqualityCheck:Sh}}),Vee=J([bI,sn,el],tl),Uee=J([Vee,sn],PI),Hee=J([wI,sn,el],tl),Gee=J([Hee,sn],CI),Kee=J([SI,sn,el],tl),qee=J([Kee,sn],AI),Yee=J([Uee,qee,Gee],yp),Xee=J([Kt,QI,JI,Bee,Wee,Yee,Nt,sn],kI),vu=J([Kt,Nt,ol,g1,vh,sn,Xee],EI),Zee=J([vu,Kt,m1],OI),Qee=J([Kt,vu,Zee,sn],jI),eR=e=>{var t=sn(e),n=el(e),r=!1;return gu(e,t,n,r)},tR=J([Kt,eR],yh),nR=J([Kt,m1,Qee,tR],c1),Jee=J([Nt,g1,Kt,sn],II),ete=J([Nt,g1,Kt,sn],RI),tte=(e,t,n,r,i,o,s,l)=>{if(t){var{type:u}=t,d=bi(e,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?Er(i[0]-i[1])*2*p:p,d&&s?s.map((m,v)=>{var x=r.map(m);return Qe(x)?{coordinate:x+p,value:m,index:v,offset:p}:null}).filter(Un):r.domain().map((m,v)=>{var x=r.map(m);return Qe(x)?{coordinate:x+p,value:o?o[m]:m,index:v,offset:p}:null}).filter(Un)}}},no=J([Nt,Kt,m1,nR,eR,Jee,ete,sn],tte),v1=J([BI,zI,dee],(e,t,n)=>WI(n.shared,e,t)),rR=e=>e.tooltip.settings.trigger,y1=e=>e.tooltip.settings.defaultIndex,yu=J([rl,v1,rR,y1],KI),Uc=J([yu,ol,mu,vu],h1),iR=J([no,Uc],VI),nte=J([yu],e=>{if(e)return e.dataKey});J([yu],e=>{if(e)return e.graphicalItemId});var oR=J([rl,v1,rR,y1],YI),rte=J([Xi,Zi,Nt,yn,no,y1,oR],qI),ite=J([yu,rte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),ote=J([yu],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),ate=J([oR,Uc,Ji,mu,iR,XI,v1],ZI),ste=J([ate],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(r){lte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lte(e,t,n){return(t=cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cte(e){var t=ute(e,"string");return typeof t=="symbol"?t:t+""}function ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dte=()=>Le(Kt),fte=()=>{var e=dte(),t=Le(no),n=Le(nR);return Yf(!e||!n?void 0:ZE(ZE({},e),{},{scale:n}),t)};function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(n),!0).forEach(function(r){pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pte(e,t,n){return(t=hte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hte(e){var t=mte(e,"string");return typeof t=="symbol"?t:t+""}function mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gte=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},vte=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:s}=r;return fs(fs(fs({},r),gn(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,{angle:u}=r;return fs(fs(fs({},r),gn(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yte(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var aR=(e,t,n,r,i)=>{var o,s=(o=t?.length)!==null&&o!==void 0?o:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u,d,f,p,m,v=l>0?(u=n[l-1])===null||u===void 0?void 0:u.coordinate:(d=n[s-1])===null||d===void 0?void 0:d.coordinate,x=(f=n[l])===null||f===void 0?void 0:f.coordinate,w=l>=s-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(m=n[l+1])===null||m===void 0?void 0:m.coordinate,b=void 0;if(!(v==null||x==null||w==null))if(Er(x-v)!==Er(w-x)){var C=[];if(Er(w-x)===Er(i[1]-i[0])){b=w;var k=x+i[1]-i[0];C[0]=Math.min(k,(k+v)/2),C[1]=Math.max(k,(k+v)/2)}else{b=v;var E=w+i[1]-i[0];C[0]=Math.min(x,(E+x)/2),C[1]=Math.max(x,(E+x)/2)}var N=[Math.min(x,(b+x)/2),Math.max(x,(b+x)/2)];if(e>N[0]&&e<=N[1]||e>=C[0]&&e<=C[1]){var D;return(D=n[l])===null||D===void 0?void 0:D.index}}else{var O=Math.min(v,w),_=Math.max(v,w);if(e>(O+x)/2&&e<=(_+x)/2){var T;return(T=n[l])===null||T===void 0?void 0:T.index}}}else if(t)for(var V=0;V<s;V++){var Y=t[V];if(Y!=null){var K=t[V+1],B=t[V-1];if(V===0&&K!=null&&e<=(Y.coordinate+K.coordinate)/2||V===s-1&&B!=null&&e>(Y.coordinate+B.coordinate)/2||V>0&&V<s-1&&B!=null&&K!=null&&e>(Y.coordinate+B.coordinate)/2&&e<=(Y.coordinate+K.coordinate)/2)return Y.index}}return-1},sR=()=>Le(Xb),x1=(e,t)=>t,lR=(e,t,n)=>n,b1=(e,t,n,r)=>r,xte=J(no,e=>Kp(e,t=>t.coordinate)),w1=J([rl,x1,lR,b1],KI),S1=J([w1,ol,mu,vu],h1),bte=(e,t,n)=>{if(t!=null){var r=rl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},cR=J([rl,x1,lR,b1],YI),xp=J([Xi,Zi,Nt,yn,no,b1,cR],qI),wte=J([w1,xp],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),uR=J([no,S1],VI),Ste=J([cR,S1,Ji,mu,uR,XI,x1],ZI),Pte=J([w1,S1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Cte=(e,t,n,r,i,o,s)=>{if(!(!e||!n||!r||!i)&&yte(e,s)){var l=YK(e,t),u=aR(l,o,i,n,r),d=gte(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},Ate=(e,t,n,r,i,o,s)=>{if(!(!e||!r||!i||!o||!n)){var l=aX(e,n);if(l){var u=XK(l,t),d=aR(u,s,o,r,i),f=vte(t,o,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},kte=(e,t,n,r,i,o,s,l)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?Cte(e,t,r,i,o,s,l):Ate(e,t,n,r,i,o,s)},Ete=J(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),Nte=J(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(In)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:sJ}});function JE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(n),!0).forEach(function(r){Ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ote(e,t,n){return(t=jte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jte(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _te={},Tte={zIndexMap:Object.values(In).reduce((e,t)=>eN(eN({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),_te)},Mte=new Set(Object.values(In));function Ite(e){return Mte.has(e)}var dR=Gn({name:"zIndex",initialState:Tte,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:kt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Ite(n)&&delete e.zIndexMap[n])},prepare:kt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:kt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:kt()}}}),{registerZIndexPortal:Rte,unregisterZIndexPortal:Lte,registerZIndexPortalElement:Fte,unregisterZIndexPortalElement:$te}=dR.actions,Bte=dR.reducer;function ro(e){var{zIndex:t,children:n}=e,r=Oq(),i=r&&t!==void 0&&t!==0,o=Kn(),s=rn();P.useLayoutEffect(()=>i?(s(Rte({zIndex:t})),()=>{s(Lte({zIndex:t}))}):Ys,[s,t,i]);var l=Le(u=>Ete(u,t,o));return i?l?Jc.createPortal(n,l):null:n}function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F0.apply(null,arguments)}function tN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(n),!0).forEach(function(r){zte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zte(e,t,n){return(t=Wte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wte(e){var t=Vte(e,"string");return typeof t=="symbol"?t:t+""}function Vte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ute(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return P.isValidElement(t)?P.cloneElement(t,r):P.createElement(n,r)}function Hte(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:d,chartName:f}=e,p=n,m=r,v=i;if(!u||!p||f!=="ScatterChart"&&d!=="axis")return null;var x,w,b;if(f==="ScatterChart")x=p,w=vY,b=In.cursorLine;else if(f==="BarChart")x=yY(l,p,o,s),w=XY,b=In.cursorRectangle;else if(l==="radial"&&W_(p)){var{cx:C,cy:k,radius:E,startAngle:N,endAngle:D}=JT(p);x={cx:C,cy:k,startAngle:N,endAngle:D,innerRadius:E,outerRadius:E},w=uX,b=In.cursorLine}else x={points:dX(l,p,o)},w=mf,b=In.cursorLine;var O=typeof u=="object"&&"className"in u?u.className:void 0,_=rf(rf(rf(rf({stroke:"#ccc",pointerEvents:"none"},o),x),Vp(u)),{},{payload:m,payloadIndex:v,className:Pt("recharts-tooltip-cursor",O)});return P.createElement(ro,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},P.createElement(Ute,{cursor:u,cursorComp:w,cursorProps:_}))}function Gte(e){var t=fte(),n=RT(),r=Xs(),i=sR();return t==null||n==null||r==null||i==null?null:P.createElement(Hte,F0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var fR=P.createContext(null),Kte=()=>P.useContext(fR),sy={exports:{}},nN;function qte(){return nN||(nN=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function o(u,d,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||u,m),x=n?n+d:d;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],v]:u._events[x].push(v):(u._events[x]=v,u._eventsCount++),u}function s(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)t.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,v=p.length,x=new Array(v);m<v;m++)x[m]=p[m].fn;return x},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,m,v,x){var w=n?n+d:d;if(!this._events[w])return!1;var b=this._events[w],C=arguments.length,k,E;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),C){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,m),!0;case 5:return b.fn.call(b.context,f,p,m,v),!0;case 6:return b.fn.call(b.context,f,p,m,v,x),!0}for(E=1,k=new Array(C-1);E<C;E++)k[E-1]=arguments[E];b.fn.apply(b.context,k)}else{var N=b.length,D;for(E=0;E<N;E++)switch(b[E].once&&this.removeListener(d,b[E].fn,void 0,!0),C){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,f);break;case 3:b[E].fn.call(b[E].context,f,p);break;case 4:b[E].fn.call(b[E].context,f,p,m);break;default:if(!k)for(D=1,k=new Array(C-1);D<C;D++)k[D-1]=arguments[D];b[E].fn.apply(b[E].context,k)}}return!0},l.prototype.on=function(d,f,p){return o(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return o(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,m){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return s(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!m||x.once)&&(!p||x.context===p)&&s(this,v);else{for(var w=0,b=[],C=x.length;w<C;w++)(x[w].fn!==f||m&&!x[w].once||p&&x[w].context!==p)&&b.push(x[w]);b.length?this._events[v]=b.length===1?b[0]:b:s(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(sy)),sy.exports}var Yte=qte();const Xte=Yi(Yte);var Hc=new Xte,$0="recharts.syncEvent.tooltip",rN="recharts.syncEvent.brush",Zte=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!gi(n))return e[n]}},Qte={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},pR=Gn({name:"options",initialState:Qte,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Jte=pR.reducer,{createEventEmitter:ene}=pR.actions;function tne(e){return e.tooltip.syncInteraction}var nne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},hR=Gn({name:"chartData",initialState:nne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:iN,setDataStartEndIndexes:rne,setComputedData:ple}=hR.actions,ine=hR.reducer,one=["x","y"];function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(r){ane(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ane(e,t,n){return(t=sne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sne(e){var t=lne(e,"string");return typeof t=="symbol"?t:t+""}function lne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cne(e,t){if(e==null)return{};var n,r,i=une(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function une(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dne(){var e=Le(Zb),t=Le(Qb),n=rn(),r=Le(YM),i=Le(no),o=Xs(),s=sh(),l=Le(u=>u.rootProps.className);P.useEffect(()=>{if(e==null)return Ys;var u=(d,f,p)=>{if(t!==p&&e===d){if(r==="index"){var m;if(s&&f!==null&&f!==void 0&&(m=f.payload)!==null&&m!==void 0&&m.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x,y:w}=v,b=cne(v,one),{x:C,y:k,width:E,height:N}=f.payload.sourceViewBox,D=ps(ps({},b),{},{x:s.x+(E?(x-C)/E:0)*s.width,y:s.y+(N?(w-k)/N:0)*s.height});n(ps(ps({},f),{},{payload:ps(ps({},f.payload),{},{coordinate:D})}))}else n(f);return}if(i!=null){var O;if(typeof r=="function"){var _={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},T=r(i,_);O=i[T]}else r==="value"&&(O=i.find(we=>String(we.value)===f.payload.label));var{coordinate:V}=f.payload;if(O==null||f.payload.active===!1||V==null||s==null){n(R0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Y,y:K}=V,B=Math.min(Y,s.x+s.width),U=Math.min(K,s.y+s.height),ue={x:o==="horizontal"?O.coordinate:B,y:o==="horizontal"?U:O.coordinate},oe=R0({active:f.payload.active,coordinate:ue,dataKey:f.payload.dataKey,index:String(O.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(oe)}}};return Hc.on($0,u),()=>{Hc.off($0,u)}},[l,n,t,e,r,i,o,s])}function fne(){var e=Le(Zb),t=Le(Qb),n=rn();P.useEffect(()=>{if(e==null)return Ys;var r=(i,o,s)=>{t!==s&&e===i&&n(rne(o))};return Hc.on(rN,r),()=>{Hc.off(rN,r)}},[n,t,e])}function pne(){var e=rn();P.useEffect(()=>{e(ene())},[e]),dne(),fne()}function hne(e,t,n,r,i,o){var s=Le(v=>bte(v,e,t)),l=Le(Qb),u=Le(Zb),d=Le(YM),f=Le(tne),p=f?.active,m=sh();P.useEffect(()=>{if(!p&&u!=null&&l!=null){var v=R0({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});Hc.emit($0,u,v,l)}},[p,n,s,i,r,l,u,d,o,m])}function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(n),!0).forEach(function(r){mne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mne(e,t,n){return(t=gne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gne(e){var t=vne(e,"string");return typeof t=="symbol"?t:t+""}function vne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yne(e){return e.dataKey}function xne(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(Xq,t)}var lN=[],bne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wne(e){var t,n,r=fr(e,bne),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:l,content:u,filterNull:d,isAnimationActive:f,offset:p,payloadUniqBy:m,position:v,reverseDirection:x,useTranslate3d:w,wrapperStyle:b,cursor:C,shared:k,trigger:E,defaultIndex:N,portal:D,axisId:O}=r,_=rn(),T=typeof N=="number"?String(N):N;P.useEffect(()=>{_(gee({shared:k,trigger:E,axisId:O,active:i,defaultIndex:T}))},[_,k,E,O,i,T]);var V=sh(),Y=KT(),K=uee(k),{activeIndex:B,isActive:U}=(t=Le($=>Pte($,K,E,T)))!==null&&t!==void 0?t:{},ue=Le($=>Ste($,K,E,T)),oe=Le($=>uR($,K,E,T)),we=Le($=>wte($,K,E,T)),Q=ue,G=Kte(),ne=(n=i??U)!==null&&n!==void 0?n:!1,[te,L]=BG([Q,ne]),W=K==="axis"?oe:void 0;hne(K,E,we,W,B,ne);var ie=D??G;if(ie==null||V==null||K==null)return null;var se=Q??lN;ne||(se=lN),d&&se.length&&(se=fG(se.filter($=>$.value!=null&&($.hide!==!0||r.includeHidden)),m,yne));var de=se.length>0,X=P.createElement(rY,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:f,active:ne,coordinate:we,hasPayload:de,offset:p,position:v,reverseDirection:x,useTranslate3d:w,viewBox:V,wrapperStyle:b,lastBoundingBox:te,innerRef:L,hasPortalFromProps:!!D},xne(u,sN(sN({},r),{},{payload:se,label:W,active:ne,activeIndex:B,coordinate:we,accessibilityLayer:Y})));return P.createElement(P.Fragment,null,Jc.createPortal(X,ie),ne&&P.createElement(Gte,{cursor:C,tooltipEventType:K,coordinate:we,payload:se,index:B}))}function Sne(e,t,n){return(t=Pne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pne(e){var t=Cne(e,"string");return typeof t=="symbol"?t:t+""}function Cne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ane{constructor(t){Sne(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function cN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(n),!0).forEach(function(r){Ene(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ene(e,t,n){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nne(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jne={cacheSize:2e3,enableCache:!0},mR=kne({},jne),uN=new Ane(mR.cacheSize),Dne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dN="recharts_measurement_span";function _ne(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(l)}var fN=(e,t)=>{try{var n=document.getElementById(dN);n||(n=document.createElement("span"),n.setAttribute("id",dN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Dne,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},mc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||lu.isSsr)return{width:0,height:0};if(!mR.enableCache)return fN(t,n);var r=_ne(t,n),i=uN.get(r);if(i)return i;var o=fN(t,n);return uN.set(r,o),o},gR;function Tne(e,t,n){return(t=Mne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mne(e){var t=Ine(e,"string");return typeof t=="symbol"?t:t+""}function Ine(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Lne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Fne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$ne=["cm","mm","pt","pc","in","Q","px"];function Bne(e){return $ne.includes(e)}var Ps="NaN";function zne(e,t){return e*Fne[t]}class hn{static parse(t){var n,[,r,i]=(n=Lne.exec(t))!==null&&n!==void 0?n:[];return r==null?hn.NaN:new hn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,gi(t)&&(this.unit=""),n!==""&&!Rne.test(n)&&(this.num=NaN,this.unit=""),Bne(n)&&(this.num=zne(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new hn(NaN,""):new hn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new hn(NaN,""):new hn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hn(NaN,""):new hn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hn(NaN,""):new hn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return gi(this.num)}}gR=hn;Tne(hn,"NaN",new gR(NaN,""));function vR(e){if(e==null||e.includes(Ps))return Ps;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=pN.exec(t))!==null&&n!==void 0?n:[],s=hn.parse(r??""),l=hn.parse(o??""),u=i==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return Ps;t=t.replace(pN,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,p,m]=(d=hN.exec(t))!==null&&d!==void 0?d:[],v=hn.parse(f??""),x=hn.parse(m??""),w=p==="+"?v.add(x):v.subtract(x);if(w.isNaN())return Ps;t=t.replace(hN,w.toString())}return t}var mN=/\(([^()]*)\)/;function Wne(e){for(var t=e,n;(n=mN.exec(t))!=null;){var[,r]=n;t=t.replace(mN,vR(r))}return t}function Vne(e){var t=e.replace(/\s+/g,"");return t=Wne(t),t=vR(t),t}function Une(e){try{return Vne(e)}catch{return Ps}}function ly(e){var t=Une(e.slice(5,-1));return t===Ps?"":t}var Hne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Gne=["dx","dy","angle","className","breakAll"];function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0.apply(null,arguments)}function gN(e,t){if(e==null)return{};var n,r,i=Kne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yR=/[ \f\n\r\t\v\u2028\u2029]+/,xR=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Nn(t)||(n?i=t.toString().split(""):i=t.toString().split(yR));var o=i.map(l=>({word:l,width:mc(l,r).width})),s=n?0:mc("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}};function qne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var bR=(e,t,n,r)=>e.reduce((i,o)=>{var{word:s,width:l}=o,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(s),u.width+=l+n;else{var d={words:[s],width:l};i.push(d)}return i},[]),wR=e=>e.reduce((t,n)=>t.width>n.width?t:n),Yne="",vN=(e,t,n,r,i,o,s,l)=>{var u=e.slice(0,t),d=xR({breakAll:n,style:r,children:u+Yne});if(!d)return[!1,[]];var f=bR(d.wordsWithComputedWidth,o,s,l),p=f.length>i||wR(f).width>Number(o);return[p,f]},Xne=(e,t,n,r,i)=>{var{maxLines:o,children:s,style:l,breakAll:u}=e,d=_e(o),f=String(s),p=bR(t,r,n,i);if(!d||i)return p;var m=p.length>o||wR(p).width>Number(r);if(!m)return p;for(var v=0,x=f.length-1,w=0,b;v<=x&&w<=f.length-1;){var C=Math.floor((v+x)/2),k=C-1,[E,N]=vN(f,k,u,l,o,r,n,i),[D]=vN(f,C,u,l,o,r,n,i);if(!E&&!D&&(v=C+1),E&&D&&(x=C-1),!E&&D){b=N;break}w++}return b||p},yN=e=>{var t=Nn(e)?[]:e.toString().split(yR);return[{words:t,width:void 0}]},Zne=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=e;if((t||n)&&!lu.isSsr){var l,u,d=xR({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;l=f,u=p}else return yN(r);return Xne({breakAll:o,children:r,maxLines:s,style:i},l,u,t,!!n)}return yN(r)},SR="#808080",Qne={angle:0,breakAll:!1,capHeight:"0.71em",fill:SR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},P1=P.forwardRef((e,t)=>{var n=fr(e,Qne),{x:r,y:i,lineHeight:o,capHeight:s,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:f}=n,p=gN(n,Hne),m=P.useMemo(()=>Zne({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:x,angle:w,className:b,breakAll:C}=p,k=gN(p,Gne);if(!vi(r)||!vi(i)||m.length===0)return null;var E=Number(r)+(_e(v)?v:0),N=Number(i)+(_e(x)?x:0);if(!Qe(E)||!Qe(N))return null;var D;switch(f){case"start":D=ly("calc(".concat(s,")"));break;case"middle":D=ly("calc(".concat((m.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:D=ly("calc(".concat(m.length-1," * -").concat(o,")"));break}var O=[],_=m[0];if(u&&_!=null){var T=_.width,{width:V}=p;O.push("scale(".concat(_e(V)&&_e(T)?V/T:1,")"))}return w&&O.push("rotate(".concat(w,", ").concat(E,", ").concat(N,")")),O.length&&(k.transform=O.join(" ")),P.createElement("text",B0({},jr(k),{ref:t,x:E,y:N,className:Pt("recharts-text",b),textAnchor:d,fill:l.includes("url")?SR:l}),m.map((Y,K)=>{var B=Y.words.join(C?"":" ");return P.createElement("tspan",{x:E,dy:K===0?D:o,key:"".concat(B,"-").concat(K)},B)}))});P1.displayName="Text";function xN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(n),!0).forEach(function(r){Jne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jne(e,t,n){return(t=ere(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ere(e){var t=tre(e,"string");return typeof t=="symbol"?t:t+""}function tre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nre=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:o,y:s,height:l,upperWidth:u,lowerWidth:d}=wb(t),f=o,p=o+(u-d)/2,m=(f+p)/2,v=(u+d)/2,x=f+u/2,w=l>=0?1:-1,b=w*r,C=w>0?"end":"start",k=w>0?"start":"end",E=u>=0?1:-1,N=E*r,D=E>0?"end":"start",O=E>0?"start":"end",_=i;if(n==="top"){var T={x:f+u/2,y:s-b,horizontalAnchor:"middle",verticalAnchor:C};return _&&(T.height=Math.max(s-_.y,0),T.width=u),T}if(n==="bottom"){var V={x:p+d/2,y:s+l+b,horizontalAnchor:"middle",verticalAnchor:k};return _&&(V.height=Math.max(_.y+_.height-(s+l),0),V.width=d),V}if(n==="left"){var Y={x:m-N,y:s+l/2,horizontalAnchor:D,verticalAnchor:"middle"};return _&&(Y.width=Math.max(Y.x-_.x,0),Y.height=l),Y}if(n==="right"){var K={x:m+v+N,y:s+l/2,horizontalAnchor:O,verticalAnchor:"middle"};return _&&(K.width=Math.max(_.x+_.width-K.x,0),K.height=l),K}var B=_?{width:v,height:l}:{};return n==="insideLeft"?si({x:m+N,y:s+l/2,horizontalAnchor:O,verticalAnchor:"middle"},B):n==="insideRight"?si({x:m+v-N,y:s+l/2,horizontalAnchor:D,verticalAnchor:"middle"},B):n==="insideTop"?si({x:f+u/2,y:s+b,horizontalAnchor:"middle",verticalAnchor:k},B):n==="insideBottom"?si({x:p+d/2,y:s+l-b,horizontalAnchor:"middle",verticalAnchor:C},B):n==="insideTopLeft"?si({x:f+N,y:s+b,horizontalAnchor:O,verticalAnchor:k},B):n==="insideTopRight"?si({x:f+u-N,y:s+b,horizontalAnchor:D,verticalAnchor:k},B):n==="insideBottomLeft"?si({x:p+N,y:s+l-b,horizontalAnchor:O,verticalAnchor:C},B):n==="insideBottomRight"?si({x:p+d-N,y:s+l-b,horizontalAnchor:D,verticalAnchor:C},B):n&&typeof n=="object"&&(_e(n.x)||Ea(n.x))&&(_e(n.y)||Ea(n.y))?si({x:o+$o(n.x,v),y:s+$o(n.y,l),horizontalAnchor:"end",verticalAnchor:"end"},B):si({x,y:s+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},B)},rre=["labelRef"],ire=["content"];function bN(e,t){if(e==null)return{};var n,r,i=ore(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ore(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(n),!0).forEach(function(r){are(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function are(e,t,n){return(t=sre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sre(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mi.apply(null,arguments)}var PR=P.createContext(null),cre=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s,children:l}=e,u=P.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s}),[t,n,r,i,o,s]);return P.createElement(PR.Provider,{value:u},l)},CR=()=>{var e=P.useContext(PR),t=sh();return e||(t?wb(t):void 0)},ure=P.createContext(null),dre=()=>{var e=P.useContext(ure),t=Le(eI);return e||t},fre=e=>{var{value:t,formatter:n}=e,r=Nn(e.children)?t:e.children;return typeof n=="function"?n(r):r},C1=e=>e!=null&&typeof e=="function",pre=(e,t)=>{var n=Er(t-e),r=Math.min(Math.abs(t-e),360);return n*r},hre=(e,t,n,r,i)=>{var{offset:o,className:s}=e,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:p,endAngle:m,clockWise:v}=i,x=(d+f)/2,w=pre(p,m),b=w>=0?1:-1,C,k;switch(t){case"insideStart":C=p+b*o,k=v;break;case"insideEnd":C=m-b*o,k=!v;break;case"end":C=m+b*o,k=v;break;default:throw new Error("Unsupported position ".concat(t))}k=w<=0?k:!k;var E=gn(l,u,x,C),N=gn(l,u,x,C+(k?1:-1)*359),D="M".concat(E.x,",").concat(E.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(N.x,",").concat(N.y),O=Nn(e.id)?Dc("recharts-radial-line-"):e.id;return P.createElement("text",Mi({},r,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",s)}),P.createElement("defs",null,P.createElement("path",{id:O,d:D})),P.createElement("textPath",{xlinkHref:"#".concat(O)},n))},mre=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(n==="outside"){var{x:f,y:p}=gn(r,i,s+t,d);return{x:f,y:p,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(o+s)/2,{x:v,y:x}=gn(r,i,m,d);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},vf=e=>e!=null&&"cx"in e&&_e(e.cx),gre={angle:0,offset:5,zIndex:In.label,position:"middle",textBreakAll:!1};function vre(e){if(!vf(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Eo(e){var t=fr(e,gre),{viewBox:n,parentViewBox:r,position:i,value:o,children:s,content:l,className:u="",textBreakAll:d,labelRef:f}=t,p=dre(),m=CR(),v=i==="center"?m:p??m,x,w,b;n==null?x=v:vf(n)?x=n:x=wb(n);var C=vre(x);if(!x||Nn(o)&&Nn(s)&&!P.isValidElement(l)&&typeof l!="function")return null;var k=sc(sc({},t),{},{viewBox:x});if(P.isValidElement(l)){var{labelRef:E}=k,N=bN(k,rre);return P.cloneElement(l,N)}if(typeof l=="function"){var{content:D}=k,O=bN(k,ire);if(w=P.createElement(l,O),P.isValidElement(w))return w}else w=fre(t);var _=jr(t);if(vf(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return hre(t,i,w,_,x);b=mre(x,t.offset,t.position)}else{if(!C)return null;var T=nre({viewBox:C,position:i,offset:t.offset,parentViewBox:vf(r)?void 0:r});b=sc(sc({x:T.x,y:T.y,textAnchor:T.horizontalAnchor,verticalAnchor:T.verticalAnchor},T.width!==void 0?{width:T.width}:{}),T.height!==void 0?{height:T.height}:{})}return P.createElement(ro,{zIndex:t.zIndex},P.createElement(P1,Mi({ref:f,className:Pt("recharts-label",u)},_,b,{textAnchor:qne(_.textAnchor)?_.textAnchor:b.textAnchor,breakAll:d}),w))}Eo.displayName="Label";var yre=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?P.createElement(Eo,Mi({key:"label-implicit"},r)):vi(e)?P.createElement(Eo,Mi({key:"label-implicit",value:e},r)):P.isValidElement(e)?e.type===Eo?P.cloneElement(e,sc({key:"label-implicit"},r)):P.createElement(Eo,Mi({key:"label-implicit",content:e},r)):C1(e)?P.createElement(Eo,Mi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?P.createElement(Eo,Mi({},e,{key:"label-implicit"},r)):null};function xre(e){var{label:t,labelRef:n}=e,r=CR();return yre(t,r,n)||null}var cy={},uy={},SN;function bre(){return SN||(SN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(uy)),uy}var dy={},PN;function wre(){return PN||(PN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(dy)),dy}var CN;function Sre(){return CN||(CN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bre(),n=wre(),r=fb();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(cy)),cy}var fy,AN;function Pre(){return AN||(AN=1,fy=Sre().last),fy}var Cre=Pre();const Are=Yi(Cre);var kre=["valueAccessor"],Ere=["dataKey","clockWise","id","textBreakAll","zIndex"];function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bp.apply(null,arguments)}function kN(e,t){if(e==null)return{};var n,r,i=Nre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ore=e=>Array.isArray(e.value)?Are(e.value):e.value,AR=P.createContext(void 0),jre=AR.Provider,kR=P.createContext(void 0);kR.Provider;function Dre(){return P.useContext(AR)}function _re(){return P.useContext(kR)}function yf(e){var{valueAccessor:t=Ore}=e,n=kN(e,kre),{dataKey:r,clockWise:i,id:o,textBreakAll:s,zIndex:l}=n,u=kN(n,Ere),d=Dre(),f=_re(),p=d||f;return!p||!p.length?null:P.createElement(ro,{zIndex:l??In.label},P.createElement(mi,{className:"recharts-label-list"},p.map((m,v)=>{var x,w=Nn(r)?t(m,v):vn(m.payload,r),b=Nn(o)?{}:{id:"".concat(o,"-").concat(v)};return P.createElement(Eo,bp({key:"label-".concat(v)},jr(m),u,b,{fill:(x=n.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:w,textBreakAll:s,viewBox:m.viewBox,index:v,zIndex:0}))})))}yf.displayName="LabelList";function Tre(e){var{label:t}=e;return t?t===!0?P.createElement(yf,{key:"labelList-implicit"}):P.isValidElement(t)||C1(t)?P.createElement(yf,{key:"labelList-implicit",content:t}):typeof t=="object"?P.createElement(yf,bp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z0.apply(null,arguments)}var ER=e=>{var{cx:t,cy:n,r,className:i}=e,o=Pt("recharts-dot",i);return _e(t)&&_e(n)&&_e(r)?P.createElement("circle",z0({},qr(e),db(e),{className:o,cx:t,cy:n,r})):null},Mre={radiusAxis:{},angleAxis:{}},NR=Gn({name:"polarAxis",initialState:Mre,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:hle,removeRadiusAxis:mle,addAngleAxis:gle,removeAngleAxis:vle}=NR.actions,Ire=NR.reducer;function Rre(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var py={exports:{}},ft={};var EN;function Lre(){if(EN)return ft;EN=1;var e=60103,t=60106,n=60107,r=60108,i=60114,o=60109,s=60110,l=60112,u=60113,d=60120,f=60115,p=60116,m=60121,v=60122,x=60117,w=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;e=C("react.element"),t=C("react.portal"),n=C("react.fragment"),r=C("react.strict_mode"),i=C("react.profiler"),o=C("react.provider"),s=C("react.context"),l=C("react.forward_ref"),u=C("react.suspense"),d=C("react.suspense_list"),f=C("react.memo"),p=C("react.lazy"),m=C("react.block"),v=C("react.server.block"),x=C("react.fundamental"),w=C("react.debug_trace_mode"),b=C("react.legacy_hidden")}function k(U){if(typeof U=="object"&&U!==null){var ue=U.$$typeof;switch(ue){case e:switch(U=U.type,U){case n:case i:case r:case u:case d:return U;default:switch(U=U&&U.$$typeof,U){case s:case l:case p:case f:case o:return U;default:return ue}}case t:return ue}}}var E=o,N=e,D=l,O=n,_=p,T=f,V=t,Y=i,K=r,B=u;return ft.ContextConsumer=s,ft.ContextProvider=E,ft.Element=N,ft.ForwardRef=D,ft.Fragment=O,ft.Lazy=_,ft.Memo=T,ft.Portal=V,ft.Profiler=Y,ft.StrictMode=K,ft.Suspense=B,ft.isAsyncMode=function(){return!1},ft.isConcurrentMode=function(){return!1},ft.isContextConsumer=function(U){return k(U)===s},ft.isContextProvider=function(U){return k(U)===o},ft.isElement=function(U){return typeof U=="object"&&U!==null&&U.$$typeof===e},ft.isForwardRef=function(U){return k(U)===l},ft.isFragment=function(U){return k(U)===n},ft.isLazy=function(U){return k(U)===p},ft.isMemo=function(U){return k(U)===f},ft.isPortal=function(U){return k(U)===t},ft.isProfiler=function(U){return k(U)===i},ft.isStrictMode=function(U){return k(U)===r},ft.isSuspense=function(U){return k(U)===u},ft.isValidElementType=function(U){return typeof U=="string"||typeof U=="function"||U===n||U===i||U===w||U===r||U===u||U===d||U===b||typeof U=="object"&&U!==null&&(U.$$typeof===p||U.$$typeof===f||U.$$typeof===o||U.$$typeof===s||U.$$typeof===l||U.$$typeof===x||U.$$typeof===m||U[0]===v)},ft.typeOf=k,ft}var NN;function Fre(){return NN||(NN=1,py.exports=Lre()),py.exports}Fre();var OR=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function $re(e){var{tooltipEntrySettings:t}=e,n=rn(),r=Kn(),i=P.useRef(null);return P.useLayoutEffect(()=>{r||(i.current===null?n(pee(t)):i.current!==t&&n(hee({prev:i.current,next:t})),i.current=t)},[t,n,r]),P.useLayoutEffect(()=>()=>{i.current&&(n(mee(i.current)),i.current=null)},[n]),null}function Bre(e){var{legendPayload:t}=e,n=rn(),r=Kn(),i=P.useRef(null);return P.useLayoutEffect(()=>{r||(i.current===null?n(Wq(t)):i.current!==t&&n(Vq({prev:i.current,next:t})),i.current=t)},[n,r,t]),P.useLayoutEffect(()=>()=>{i.current&&(n(Uq(i.current)),i.current=null)},[n]),null}var hy,zre=()=>{var[e]=P.useState(()=>Dc("uid-"));return e},Wre=(hy=c3.useId)!==null&&hy!==void 0?hy:zre;function Vre(e,t){var n=Wre();return t||(e?"".concat(e,"-").concat(n):n)}var Ure=P.createContext(void 0),Hre=e=>{var{id:t,type:n,children:r}=e,i=Vre("recharts-".concat(n),t);return P.createElement(Ure.Provider,{value:i},r(i))},Gre={cartesianItems:[],polarItems:[]},jR=Gn({name:"graphicalItems",initialState:Gre,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:kt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Kr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:kt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Kr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:kt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:kt()},removePolarGraphicalItem:{reducer(e,t){var n=Kr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:kt()}}}),{addCartesianGraphicalItem:Kre,replaceCartesianGraphicalItem:qre,removeCartesianGraphicalItem:Yre,addPolarGraphicalItem:yle,removePolarGraphicalItem:xle}=jR.actions,Xre=jR.reducer,Zre=e=>{var t=rn(),n=P.useRef(null);return P.useLayoutEffect(()=>{n.current===null?t(Kre(e)):n.current!==e&&t(qre({prev:n.current,next:e})),n.current=e},[t,e]),P.useLayoutEffect(()=>()=>{n.current&&(t(Yre(n.current)),n.current=null)},[t]),null},Qre=P.memo(Zre),Jre=["points"];function ON(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function my(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(n),!0).forEach(function(r){eie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eie(e,t,n){return(t=tie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tie(e){var t=nie(e,"string");return typeof t=="symbol"?t:t+""}function nie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wp.apply(null,arguments)}function rie(e,t){if(e==null)return{};var n,r,i=iie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oie(e){var{option:t,dotProps:n,className:r}=e;if(P.isValidElement(t))return P.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Pt(r,typeof t!="boolean"?t.className:""),o=n??{},{points:s}=o,l=rie(o,Jre);return P.createElement(ER,wp({},l,{className:i}))}function aie(e,t){return e==null?!1:t?!0:e.length===1}function sie(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:s,needClip:l,clipPathId:u,zIndex:d=In.scatter}=e;if(!aie(t,n))return null;var f=OR(n),p=oH(n),m=t.map((x,w)=>{var b,C,k=my(my(my({r:3},s),p),{},{index:w,cx:(b=x.x)!==null&&b!==void 0?b:void 0,cy:(C=x.y)!==null&&C!==void 0?C:void 0,dataKey:o,value:x.value,payload:x.payload,points:t});return P.createElement(oie,{key:"dot-".concat(w),option:n,dotProps:k,className:i})}),v={};return l&&u!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),P.createElement(ro,{zIndex:d},P.createElement(mi,wp({className:r},v),m))}function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(n),!0).forEach(function(r){lie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lie(e,t,n){return(t=cie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cie(e){var t=uie(e,"string");return typeof t=="symbol"?t:t+""}function uie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DR=0,die={xAxis:{},yAxis:{},zAxis:{}},_R=Gn({name:"cartesianAxis",initialState:die,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:kt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:kt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:kt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:kt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:kt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:kt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:kt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:kt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:kt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((o=s[0])!==null&&o!==void 0?o:0))<=1)return;var l=[...s,r].slice(-3);e.yAxis[n]=DN(DN({},i),{},{width:r,widthHistory:l})}}}}),{addXAxis:fie,replaceXAxis:pie,removeXAxis:hie,addYAxis:mie,replaceYAxis:gie,removeYAxis:vie,addZAxis:ble,replaceZAxis:wle,removeZAxis:Sle,updateYAxisWidth:yie}=_R.actions,xie=_R.reducer,bie=J([yn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),wie=J([bie,Xi,Zi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),A1=()=>Le(wie),Sie=()=>Le(ste);function _N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(n),!0).forEach(function(r){Pie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pie(e,t,n){return(t=Cie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kie=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=gy(gy(gy({},l),Vp(i)),db(i)),d;return P.isValidElement(i)?d=P.cloneElement(i,u):typeof i=="function"?d=i(u):d=P.createElement(ER,u),P.createElement(mi,{className:"recharts-active-dot",clipPath:s},d)};function TN(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:s=In.activeDot}=e,l=Le(Uc),u=Sie();if(t==null||u==null)return null;var d=t.find(f=>u.includes(f.payload));return Nn(d)?null:P.createElement(ro,{zIndex:s},P.createElement(kie,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var Eie=e=>{var{chartData:t}=e,n=rn(),r=Kn();return P.useEffect(()=>r?()=>{}:(n(iN(t)),()=>{n(iN(void 0))}),[t,n,r]),null},MN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},TR=Gn({name:"brush",initialState:MN,reducers:{setBrushSettings(e,t){return t.payload==null?MN:t.payload}}}),{setBrushSettings:Ple}=TR.actions,Nie=TR.reducer;function Oie(e){return(e%180+180)%180}var jie=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Oie(i),s=o*Math.PI/180,l=Math.atan(r/n),u=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},Die={dots:[],areas:[],lines:[]},MR=Gn({name:"referenceElements",initialState:Die,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Kr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Kr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Kr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Cle,removeDot:Ale,addArea:kle,removeArea:Ele,addLine:Nle,removeLine:Ole}=MR.actions,_ie=MR.reducer,Tie=P.createContext(void 0),Mie=e=>{var{children:t}=e,[n]=P.useState("".concat(Dc("recharts"),"-clip")),r=A1();if(r==null)return null;var{x:i,y:o,width:s,height:l}=r;return P.createElement(Tie.Provider,{value:n},P.createElement("defs",null,P.createElement("clipPath",{id:n},P.createElement("rect",{x:i,y:o,height:l,width:s}))),t)};function IR(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function Iie(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return jie(r,n)}function Rie(e,t,n){var r=n==="width",{x:i,y:o,width:s,height:l}=e;return t===1?{start:r?i:o,end:r?i+s:o+l}:{start:r?i+s:o+l,end:r?i:o}}function Gc(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Lie(e,t){return IR(e,t+1)}function Fie(e,t,n,r,i){for(var o=(r||[]).slice(),{start:s,end:l}=t,u=0,d=1,f=s,p=function(){var x=r?.[u];if(x===void 0)return{v:IR(r,d)};var w=u,b,C=()=>(b===void 0&&(b=n(x,w)),b),k=x.coordinate,E=u===0||Gc(e,k,C,f,l);E||(u=0,f=s,d+=1),E&&(f=k+e*(C()/2+i),u+=d)},m;d<=o.length;)if(m=p(),m)return m.v;return[]}function $ie(e,t,n,r,i){var o=(r||[]).slice(),s=o.length;if(s===0)return[];for(var{start:l,end:u}=t,d=1;d<=s;d++){for(var f=(s-1)%d,p=l,m=!0,v=function(){var N=r[w];if(N==null)return 0;var D=w,O,_=()=>(O===void 0&&(O=n(N,D)),O),T=N.coordinate,V=w===f||Gc(e,T,_,p,u);if(!V)return m=!1,1;V&&(p=T+e*(_()/2+i))},x,w=f;w<s&&(x=v(),!(x!==0&&x===1));w+=d);if(m){for(var b=[],C=f;C<s;C+=d){var k=r[C];k!=null&&b.push(k)}return b}}return[]}function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(r){Bie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bie(e,t,n){return(t=zie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zie(e){var t=Wie(e,"string");return typeof t=="symbol"?t:t+""}function Wie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vie(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:l}=t,{end:u}=t,d=function(m){var v=o[m];if(v==null)return 1;var x=v,w,b=()=>(w===void 0&&(w=n(v,m)),w);if(m===s-1){var C=e*(x.coordinate+e*b()/2-u);o[m]=x=An(An({},x),{},{tickCoord:C>0?x.coordinate-C*e:x.coordinate})}else o[m]=x=An(An({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var k=Gc(e,x.tickCoord,b,l,u);k&&(u=x.tickCoord-e*(b()/2+i),o[m]=An(An({},x),{},{isShow:!0}))}},f=s-1;f>=0;f--)d(f);return o}function Uie(e,t,n,r,i,o){var s=(r||[]).slice(),l=s.length,{start:u,end:d}=t;if(o){var f=r[l-1];if(f!=null){var p=n(f,l-1),m=e*(f.coordinate+e*p/2-d);if(s[l-1]=f=An(An({},f),{},{tickCoord:m>0?f.coordinate-m*e:f.coordinate}),f.tickCoord!=null){var v=Gc(e,f.tickCoord,()=>p,u,d);v&&(d=f.tickCoord-e*(p/2+i),s[l-1]=An(An({},f),{},{isShow:!0}))}}}for(var x=o?l-1:l,w=function(k){var E=s[k];if(E==null)return 1;var N=E,D,O=()=>(D===void 0&&(D=n(E,k)),D);if(k===0){var _=e*(N.coordinate-e*O()/2-u);s[k]=N=An(An({},N),{},{tickCoord:_<0?N.coordinate-_*e:N.coordinate})}else s[k]=N=An(An({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var T=Gc(e,N.tickCoord,O,u,d);T&&(u=N.tickCoord+e*(O()/2+i),s[k]=An(An({},N),{},{isShow:!0}))}},b=0;b<x;b++)w(b);return s}function k1(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:l,interval:u,tickFormatter:d,unit:f,angle:p}=e;if(!i||!i.length||!r)return[];if(_e(u)||lu.isSsr){var m;return(m=Lie(i,_e(u)?u:0))!==null&&m!==void 0?m:[]}var v=[],x=l==="top"||l==="bottom"?"width":"height",w=f&&x==="width"?mc(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(D,O)=>{var _=typeof d=="function"?d(D.value,O):D.value;return x==="width"?Iie(mc(_,{fontSize:t,letterSpacing:n}),w,p):mc(_,{fontSize:t,letterSpacing:n})[x]},C=i[0],k=i[1],E=i.length>=2&&C!=null&&k!=null?Er(k.coordinate-C.coordinate):1,N=Rie(o,E,x);return u==="equidistantPreserveStart"?Fie(E,N,b,i,s):u==="equidistantPreserveEnd"?$ie(E,N,b,i,s):(u==="preserveStart"||u==="preserveStartEnd"?v=Uie(E,N,b,i,s,u==="preserveStartEnd"):v=Vie(E,N,b,i,s),v.filter(D=>D.isShow))}var Hie=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,s=0;if(t){Array.from(t).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>s&&(s=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+o,d=s+u+l+(n?r:0);return Math.round(d)}return 0},Gie=["axisLine","width","height","className","hide","ticks","axisType"];function Kie(e,t){if(e==null)return{};var n,r,i=qie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(null,arguments)}function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(n),!0).forEach(function(r){Yie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yie(e,t,n){return(t=Xie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xie(e){var t=Zie(e,"string");return typeof t=="symbol"?t:t+""}function Zie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:In.axis};function Qie(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=Rt(Rt(Rt({},u),qr(l)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!s||o==="bottom"&&s);d=Rt(Rt({},d),{},{x1:t,y1:n+f*i,x2:t+r,y2:n+f*i})}else{var p=+(o==="left"&&!s||o==="right"&&s);d=Rt(Rt({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return P.createElement("line",_a({},d,{className:Pt("recharts-cartesian-axis-line",Gp(l,"className"))}))}function Jie(e,t,n,r,i,o,s,l,u){var d,f,p,m,v,x,w=l?-1:1,b=e.tickSize||s,C=_e(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":d=f=e.coordinate,m=n+ +!l*i,p=m-w*b,x=p-w*u,v=C;break;case"left":p=m=e.coordinate,f=t+ +!l*r,d=f-w*b,v=d-w*u,x=C;break;case"right":p=m=e.coordinate,f=t+ +l*r,d=f+w*b,v=d+w*u,x=C;break;default:d=f=e.coordinate,m=n+ +l*i,p=m+w*b,x=p+w*u,v=C;break}return{line:{x1:d,y1:p,x2:f,y2:m},tick:{x:v,y:x}}}function eoe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function toe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function noe(e){var{option:t,tickProps:n,value:r}=e,i,o=Pt(n.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(t))i=P.cloneElement(t,Rt(Rt({},n),{},{className:o}));else if(typeof t=="function")i=t(Rt(Rt({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Pt(s,Rre(t))),i=P.createElement(P1,_a({},n,{className:s}),r)}return i}var roe=P.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:s,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:p,x:m,y:v,width:x,height:w,tickSize:b,tickMargin:C,fontSize:k,letterSpacing:E,getTicksConfig:N,events:D,axisType:O}=e,_=k1(Rt(Rt({},N),{},{ticks:n}),k,E),T=eoe(f,p),V=toe(f,p),Y=qr(N),K=Vp(r),B={};typeof i=="object"&&(B=i);var U=Rt(Rt({},Y),{},{fill:"none"},B),ue=_.map(Q=>Rt({entry:Q},Jie(Q,m,v,x,w,f,b,p,C))),oe=ue.map(Q=>{var{entry:G,line:ne}=Q;return P.createElement(mi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&P.createElement("line",_a({},U,ne,{className:Pt("recharts-cartesian-axis-tick-line",Gp(i,"className"))})))}),we=ue.map((Q,G)=>{var ne,te,{entry:L,tick:W}=Q,ie=Rt(Rt(Rt(Rt({verticalAnchor:V},Y),{},{textAnchor:T,stroke:"none",fill:o},W),{},{index:G,payload:L,visibleTicksCount:_.length,tickFormatter:s,padding:u},d),{},{angle:(ne=(te=d?.angle)!==null&&te!==void 0?te:Y.angle)!==null&&ne!==void 0?ne:0}),se=Rt(Rt({},ie),K);return P.createElement(mi,_a({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},zH(D,L,G)),r&&P.createElement(noe,{option:r,tickProps:se,value:"".concat(typeof s=="function"?s(L.value,G):L.value).concat(l||"")}))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},we.length>0&&P.createElement(ro,{zIndex:In.label},P.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},we)),oe.length>0&&P.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},oe))}),ioe=P.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:s,ticks:l,axisType:u}=e,d=Kie(e,Gie),[f,p]=P.useState(""),[m,v]=P.useState(""),x=P.useRef(null);P.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return Hie({ticks:x.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=P.useCallback(b=>{if(b){var C=b.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=C;var k=C[0];if(k){var E=window.getComputedStyle(k),N=E.fontSize,D=E.letterSpacing;(N!==f||D!==m)&&(p(N),v(D))}}},[f,m]);return s||r!=null&&r<=0||i!=null&&i<=0?null:P.createElement(ro,{zIndex:e.zIndex},P.createElement(mi,{className:Pt("recharts-cartesian-axis",o)},P.createElement(Qie,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:qr(e)}),P.createElement(roe,{ref:w,axisType:u,events:d,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),P.createElement(cre,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},P.createElement(xre,{label:e.label,labelRef:e.labelRef}),e.children)))}),E1=P.forwardRef((e,t)=>{var n=fr(e,Bi);return P.createElement(ioe,_a({},n,{ref:t}))});E1.displayName="CartesianAxis";var ooe=["x1","y1","x2","y2","key"],aoe=["offset"],soe=["xAxisId","yAxisId"],loe=["xAxisId","yAxisId"];function LN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(n),!0).forEach(function(r){coe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function coe(e,t,n){return(t=uoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uoe(e){var t=doe(e,"string");return typeof t=="symbol"?t:t+""}function doe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ya.apply(null,arguments)}function Sp(e,t){if(e==null)return{};var n,r,i=foe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function foe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var poe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:l}=e;return P.createElement("rect",{x:r,y:i,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RR(e){var{option:t,lineItemProps:n}=e,r;if(P.isValidElement(t))r=P.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:s,x2:l,y2:u,key:d}=n,f=Sp(n,ooe),p=(i=qr(f))!==null&&i!==void 0?i:{},{offset:m}=p,v=Sp(p,aoe);r=P.createElement("line",ya({},v,{x1:o,y1:s,x2:l,y2:u,fill:"none",key:d}))}return r}function hoe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=Sp(e,soe),u=i.map((d,f)=>{var p=kn(kn({},l),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(f),index:f});return P.createElement(RR,{key:"line-".concat(f),option:r,lineItemProps:p})});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function moe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=Sp(e,loe),u=i.map((d,f)=>{var p=kn(kn({},l),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(f),index:f});return P.createElement(RR,{option:r,lineItemProps:p,key:"line-".concat(f)})});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function goe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==d[0]&&d.unshift(0);var f=d.map((p,m)=>{var v=d[m+1],x=v==null,w=x?i+s-p:v-p;if(w<=0)return null;var b=m%t.length;return P.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:w,width:o,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function voe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==d[0]&&d.unshift(0);var f=d.map((p,m)=>{var v=d[m+1],x=v==null,w=x?i+s-p:v-p;if(w<=0)return null;var b=m%n.length;return P.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:w,height:l,stroke:"none",fill:n[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var yoe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return NT(k1(kn(kn(kn({},Bi),n),{},{ticks:OT(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},xoe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return NT(k1(kn(kn(kn({},Bi),n),{},{ticks:OT(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},boe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:In.grid};function LR(e){var t=LT(),n=FT(),r=RT(),i=kn(kn({},fr(e,boe)),{},{x:_e(e.x)?e.x:r.left,y:_e(e.y)?e.y:r.top,width:_e(e.width)?e.width:r.width,height:_e(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:s,x:l,y:u,width:d,height:f,syncWithTicks:p,horizontalValues:m,verticalValues:v}=i,x=Kn(),w=Le(V=>GE(V,"xAxis",o,x)),b=Le(V=>GE(V,"yAxis",s,x));if(!yi(d)||!yi(f)||!_e(l)||!_e(u))return null;var C=i.verticalCoordinatesGenerator||yoe,k=i.horizontalCoordinatesGenerator||xoe,{horizontalPoints:E,verticalPoints:N}=i;if((!E||!E.length)&&typeof k=="function"){var D=m&&m.length,O=k({yAxis:b?kn(kn({},b),{},{ticks:D?m:b.ticks}):void 0,width:t??d,height:n??f,offset:r},D?!0:p);Xf(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(E=O)}if((!N||!N.length)&&typeof C=="function"){var _=v&&v.length,T=C({xAxis:w?kn(kn({},w),{},{ticks:_?v:w.ticks}):void 0,width:t??d,height:n??f,offset:r},_?!0:p);Xf(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(N=T)}return P.createElement(ro,{zIndex:i.zIndex},P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(poe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),P.createElement(goe,ya({},i,{horizontalPoints:E})),P.createElement(voe,ya({},i,{verticalPoints:N})),P.createElement(hoe,ya({},i,{offset:r,horizontalPoints:E,xAxis:w,yAxis:b})),P.createElement(moe,ya({},i,{offset:r,verticalPoints:N,xAxis:w,yAxis:b}))))}LR.displayName="CartesianGrid";var woe={},FR=Gn({name:"errorBars",initialState:woe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:jle,replaceErrorBar:Dle,removeErrorBar:_le}=FR.actions,Soe=FR.reducer;function $R(e,t){var n,r,i=Le(d=>eo(d,e)),o=Le(d=>to(d,t)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Zt.allowDataOverflow,l=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Qt.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function Poe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=A1(),{needClipX:o,needClipY:s,needClip:l}=$R(t,n);if(!l||!i)return null;var{x:u,y:d,width:f,height:p}=i;return P.createElement("clipPath",{id:"clipPath-".concat(r)},P.createElement("rect",{x:o?u:u-f/2,y:s?d:d-p/2,width:o?f:f*2,height:s?p:p*2}))}function Coe(e){var t=Vp(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,s=Number(i),l=Number(o);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(l)||l<0)&&(l=r),{r:s,strokeWidth:l}}return{r:n,strokeWidth:r}}var Aoe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function koe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function N1(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Aoe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!cf(e[r],t[r]))return!1}else if(!koe(e[r],t[r]))return!1;return!0}function O1(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:DR}function j1(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:DR}var BR=(e,t,n)=>$I(e,"xAxis",O1(e,t),n),zR=(e,t,n)=>FI(e,"xAxis",O1(e,t),n),WR=(e,t,n)=>$I(e,"yAxis",j1(e,t),n),VR=(e,t,n)=>FI(e,"yAxis",j1(e,t),n),Eoe=J([Nt,BR,WR,zR,VR],(e,t,n,r,i)=>bi(e,"xAxis")?Yf(t,r,!1):Yf(n,i,!1)),Noe=(e,t)=>t,UR=J([aI,Noe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),HR=e=>{var t=Nt(e),n=bi(t,"xAxis");return n?"yAxis":"xAxis"},Ooe=(e,t)=>{var n=HR(e);return n==="yAxis"?j1(e,t):O1(e,t)},joe=(e,t,n)=>mI(e,HR(e),Ooe(e,t),n),Doe=J([UR,joe],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=n1(e);if(!(r==null||i==null)){var o=(n=t[r])===null||n===void 0?void 0:n.stackedData,s=o?.find(l=>l.key===i);if(s!=null)return s.map(l=>[l[0],l[1]])}}}),_oe=J([Nt,BR,WR,zR,VR,Doe,HQ,Eoe,UR,eJ],(e,t,n,r,i,o,s,l,u,d)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=s;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:v}=u,x;if(v&&v.length>0?x=v:x=f?.slice(p,m+1),x!=null)return Zoe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:o,displayedData:x,chartBaseValue:d,bandSize:l})}}),Toe=["id"],Moe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ca.apply(null,arguments)}function GR(e,t){if(e==null)return{};var n,r,i=Ioe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ioe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(n),!0).forEach(function(r){Roe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Roe(e,t,n){return(t=Loe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Loe(e){var t=Foe(e,"string");return typeof t=="symbol"?t:t+""}function Foe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pp(e,t){return e&&e!=="none"?e:t}var $oe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:o,hide:s}=e;return[{inactive:s,dataKey:t,type:o,color:Pp(r,i),value:jT(n,t),payload:e}]},Boe=P.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:l,unit:u,tooltipType:d,id:f}=e,p={dataDefinedOnItem:n,getPosition:Ys,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:jT(s,t),hide:l,type:d,color:Pp(r,o),unit:u,graphicalItemId:f}};return P.createElement($re,{tooltipEntrySettings:p})});function zoe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:o,dataKey:s}=r,l=qr(r);return P.createElement(sie,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:i,clipPathId:t})}function Woe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(o=>{var s,l,u={x:(s=o.x)!==null&&s!==void 0?s:0,y:(l=o.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Cs(Cs({},u),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return P.createElement(jre,{value:t?i:void 0},n)}function $N(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:o}=e,{layout:s,type:l,stroke:u,connectNulls:d,isRange:f}=o,{id:p}=o,m=GR(o,Toe),v=qr(m),x=jr(m);return P.createElement(P.Fragment,null,t?.length>1&&P.createElement(mi,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},P.createElement(mf,Ca({},x,{id:p,points:t,connectNulls:d,type:l,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&P.createElement(mf,Ca({},v,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&f&&P.createElement(mf,Ca({},v,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:n}))),P.createElement(zoe,{points:t,props:m,clipPathId:i}))}function Voe(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=e,l=(t=o[0])===null||t===void 0?void 0:t.y,u=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!Qe(l)||!Qe(u))return null;var d=r*Math.abs(l-u),f=Math.max(...o.map(p=>p.x||0));return _e(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(p=>p.x||0),f)),_e(f)?P.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function Uoe(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=e,l=(t=o[0])===null||t===void 0?void 0:t.x,u=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!Qe(l)||!Qe(u))return null;var d=r*Math.abs(l-u),f=Math.max(...o.map(p=>p.y||0));return _e(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(p=>p.y||0),f)),_e(f)?P.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}function Hoe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:o}=e;return n==="vertical"?P.createElement(Voe,{alpha:t,points:r,baseLine:i,strokeWidth:o}):P.createElement(Uoe,{alpha:t,points:r,baseLine:i,strokeWidth:o})}function Goe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=e,{points:s,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:p,onAnimationStart:m,onAnimationEnd:v}=r,x=P.useMemo(()=>({points:s,baseLine:l}),[s,l]),w=QT(x,"recharts-area-"),b=Sb(),[C,k]=P.useState(!1),E=!C,N=P.useCallback(()=>{typeof v=="function"&&v(),k(!1)},[v]),D=P.useCallback(()=>{typeof m=="function"&&m(),k(!0)},[m]);if(b==null)return null;var O=i.current,_=o.current;return P.createElement(Woe,{showLabels:E,points:s},r.children,P.createElement(ZT,{animationId:w,begin:d,duration:f,isActive:u,easing:p,onAnimationEnd:N,onAnimationStart:D,key:w},T=>{if(O){var V=O.length/s.length,Y=T===1?s:s.map((B,U)=>{var ue=Math.floor(U*V);if(O[ue]){var oe=O[ue];return Cs(Cs({},B),{},{x:ci(oe.x,B.x,T),y:ci(oe.y,B.y,T)})}return B}),K;return _e(l)?K=ci(_,l,T):Nn(l)||gi(l)?K=ci(_,0,T):K=l.map((B,U)=>{var ue=Math.floor(U*V);if(Array.isArray(_)&&_[ue]){var oe=_[ue];return Cs(Cs({},B),{},{x:ci(oe.x,B.x,T),y:ci(oe.y,B.y,T)})}return B}),T>0&&(i.current=Y,o.current=K),P.createElement($N,{points:Y,baseLine:K,needClip:t,clipPathId:n,props:r})}return T>0&&(i.current=s,o.current=l),P.createElement(mi,null,u&&P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(n)},P.createElement(Hoe,{alpha:T,points:s,baseLine:l,layout:b,strokeWidth:r.strokeWidth}))),P.createElement(mi,{clipPath:"url(#animationClipPath-".concat(n,")")},P.createElement($N,{points:s,baseLine:l,needClip:t,clipPathId:n,props:r})))}),P.createElement(Tre,{label:r.label}))}function Koe(e){var{needClip:t,clipPathId:n,props:r}=e,i=P.useRef(null),o=P.useRef();return P.createElement(Goe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class qoe extends P.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:o,left:s,needClip:l,xAxisId:u,yAxisId:d,width:f,height:p,id:m,baseLine:v,zIndex:x}=this.props;if(t)return null;var w=Pt("recharts-area",i),b=m,{r:C,strokeWidth:k}=Coe(n),E=OR(n),N=C*2+k,D=l?"url(#clipPath-".concat(E?"":"dots-").concat(b,")"):void 0;return P.createElement(ro,{zIndex:x},P.createElement(mi,{className:w},l&&P.createElement("defs",null,P.createElement(Poe,{clipPathId:b,xAxisId:u,yAxisId:d}),!E&&P.createElement("clipPath",{id:"clipPath-dots-".concat(b)},P.createElement("rect",{x:s-N/2,y:o-N/2,width:f+N,height:p+N}))),P.createElement(Koe,{needClip:l,clipPathId:b,props:this.props})),P.createElement(TN,{points:r,mainColor:Pp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(v)&&P.createElement(TN,{points:v,mainColor:Pp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var KR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:In.area};function Yoe(e){var t,n=fr(e,KR),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:l,dot:u,fill:d,fillOpacity:f,hide:p,isAnimationActive:m,legendType:v,stroke:x,xAxisId:w,yAxisId:b}=n,C=GR(n,Moe),k=Xs(),E=sR(),{needClip:N}=$R(w,b),D=Kn(),{points:O,isRange:_,baseLine:T}=(t=Le(ue=>_oe(ue,e.id,D)))!==null&&t!==void 0?t:{},V=A1();if(k!=="horizontal"&&k!=="vertical"||V==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:Y,width:K,x:B,y:U}=V;return!O||!O.length?null:P.createElement(qoe,Ca({},C,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,baseLine:T,connectNulls:l,dot:u,fill:d,fillOpacity:f,height:Y,hide:p,layout:k,isAnimationActive:m==="auto"?!lu.isSsr:m,isRange:_,legendType:v,needClip:N,points:O,stroke:x,width:K,left:B,top:U,xAxisId:w,yAxisId:b}))}var Xoe=(e,t,n,r,i)=>{var o=n??t;if(_e(o))return o;var s=e==="horizontal"?i:r,l=s.scale.domain();if(s.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return o==="dataMin"?l[0]:o==="dataMax"?l[1]:l[0]};function Zoe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:s,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:f,xAxisTicks:p,yAxisTicks:m,bandSize:v}=e,x=i&&i.length,w=Xoe(o,s,n,l,u),b=o==="horizontal",C=!1,k=d.map((N,D)=>{var O,_,T,V;if(x)V=i[f+D];else{var Y=vn(N,r);Array.isArray(Y)?(V=Y,C=!0):V=[w,Y]}var K=(O=(_=V)===null||_===void 0?void 0:_[1])!==null&&O!==void 0?O:null,B=K==null||x&&!t&&vn(N,r)==null;if(b){var U;return{x:KA({axis:l,ticks:p,bandSize:v,entry:N,index:D}),y:B?null:(U=u.scale.map(K))!==null&&U!==void 0?U:null,value:V,payload:N}}return{x:B?null:(T=l.scale.map(K))!==null&&T!==void 0?T:null,y:KA({axis:u,ticks:m,bandSize:v,entry:N,index:D}),value:V,payload:N}}),E;return x||C?E=k.map(N=>{var D,O=Array.isArray(N.value)?N.value[0]:null;if(b){var _;return{x:N.x,y:O!=null&&N.y!=null&&(_=u.scale.map(O))!==null&&_!==void 0?_:null,payload:N.payload}}return{x:O!=null&&(D=l.scale.map(O))!==null&&D!==void 0?D:null,y:N.y,payload:N.payload}}):E=b?u.scale.map(w):l.scale.map(w),{points:k,baseLine:E??0,isRange:C}}function Qoe(e){var t=fr(e,KR),n=Kn();return P.createElement(Hre,{id:t.id,type:"area"},r=>P.createElement(P.Fragment,null,P.createElement(Bre,{legendPayload:$oe(t)}),P.createElement(Boe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),P.createElement(Qre,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:HK(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),P.createElement(Yoe,Ca({},t,{id:r}))))}var qR=P.memo(Qoe,N1);qR.displayName="Area";var Joe=["domain","range"],eae=["domain","range"];function BN(e,t){if(e==null)return{};var n,r,i=tae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zN(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function YR(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=BN(e,Joe),{domain:o,range:s}=t,l=BN(t,eae);return!zN(n,o)||!zN(r,s)?!1:N1(i,l)}var nae=["type"],rae=["dangerouslySetInnerHTML","ticks","scale"],iae=["id","scale"];function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W0.apply(null,arguments)}function WN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(n),!0).forEach(function(r){oae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oae(e,t,n){return(t=aae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aae(e){var t=sae(e,"string");return typeof t=="symbol"?t:t+""}function sae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V0(e,t){if(e==null)return{};var n,r,i=lae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cae(e){var t=rn(),n=P.useRef(null),r=Sb(),{type:i}=e,o=V0(e,nae),s=xh(r,"xAxis",i),l=P.useMemo(()=>{if(s!=null)return VN(VN({},o),{},{type:s})},[o,s]);return P.useLayoutEffect(()=>{l!=null&&(n.current===null?t(fie(l)):n.current!==l&&t(pie({prev:n.current,next:l})),n.current=l)},[l,t]),P.useLayoutEffect(()=>()=>{n.current&&(t(hie(n.current)),n.current=null)},[t]),null}var uae=e=>{var{xAxisId:t,className:n}=e,r=Le(_T),i=Kn(),o="xAxis",s=Le(C=>LI(C,o,t,i)),l=Le(C=>XJ(C,t)),u=Le(C=>nee(C,t)),d=Le(C=>nI(C,t));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p,scale:m}=e,v=V0(e,rae),{id:x,scale:w}=d,b=V0(d,iae);return P.createElement(E1,W0({},v,b,{x:u.x,y:u.y,width:l.width,height:l.height,className:Pt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s,axisType:o}))},dae={allowDataOverflow:Zt.allowDataOverflow,allowDecimals:Zt.allowDecimals,allowDuplicatedCategory:Zt.allowDuplicatedCategory,angle:Zt.angle,axisLine:Bi.axisLine,height:Zt.height,hide:!1,includeHidden:Zt.includeHidden,interval:Zt.interval,label:!1,minTickGap:Zt.minTickGap,mirror:Zt.mirror,orientation:Zt.orientation,padding:Zt.padding,reversed:Zt.reversed,scale:Zt.scale,tick:Zt.tick,tickCount:Zt.tickCount,tickLine:Bi.tickLine,tickSize:Bi.tickSize,type:Zt.type,xAxisId:0},fae=e=>{var t=fr(e,dae);return P.createElement(P.Fragment,null,P.createElement(cae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),P.createElement(uae,t))},XR=P.memo(fae,YR);XR.displayName="XAxis";var pae=["type"],hae=["dangerouslySetInnerHTML","ticks","scale"],mae=["id","scale"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(null,arguments)}function UN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(n),!0).forEach(function(r){gae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gae(e,t,n){return(t=vae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H0(e,t){if(e==null)return{};var n,r,i=xae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bae(e){var t=rn(),n=P.useRef(null),r=Sb(),{type:i}=e,o=H0(e,pae),s=xh(r,"yAxis",i),l=P.useMemo(()=>{if(s!=null)return HN(HN({},o),{},{type:s})},[s,o]);return P.useLayoutEffect(()=>{l!=null&&(n.current===null?t(mie(l)):n.current!==l&&t(gie({prev:n.current,next:l})),n.current=l)},[l,t]),P.useLayoutEffect(()=>()=>{n.current&&(t(vie(n.current)),n.current=null)},[t]),null}function wae(e){var{yAxisId:t,className:n,width:r,label:i}=e,o=P.useRef(null),s=P.useRef(null),l=Le(_T),u=Kn(),d=rn(),f="yAxis",p=Le(O=>oee(O,t)),m=Le(O=>iee(O,t)),v=Le(O=>LI(O,f,t,u)),x=Le(O=>rI(O,t));if(P.useLayoutEffect(()=>{if(!(r!=="auto"||!p||C1(i)||P.isValidElement(i)||x==null)){var O=o.current;if(O){var _=O.getCalculatedWidth();Math.round(p.width)!==Math.round(_)&&d(yie({id:t,width:_}))}}},[v,p,d,i,t,r,x]),p==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:w,ticks:b,scale:C}=e,k=H0(e,hae),{id:E,scale:N}=x,D=H0(x,mae);return P.createElement(E1,U0({},k,D,{ref:o,labelRef:s,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:Pt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:v,axisType:f}))}var Sae={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:Qt.allowDecimals,allowDuplicatedCategory:Qt.allowDuplicatedCategory,angle:Qt.angle,axisLine:Bi.axisLine,hide:!1,includeHidden:Qt.includeHidden,interval:Qt.interval,label:!1,minTickGap:Qt.minTickGap,mirror:Qt.mirror,orientation:Qt.orientation,padding:Qt.padding,reversed:Qt.reversed,scale:Qt.scale,tick:Qt.tick,tickCount:Qt.tickCount,tickLine:Bi.tickLine,tickSize:Bi.tickSize,type:Qt.type,width:Qt.width,yAxisId:0},Pae=e=>{var t=fr(e,Sae);return P.createElement(P.Fragment,null,P.createElement(bae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),P.createElement(wae,t))},ZR=P.memo(Pae,YR);ZR.displayName="YAxis";var Cae=(e,t)=>t,D1=J([Cae,Nt,eI,sn,tR,no,xte,yn],kte),_1=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},QR=Dr("mouseClick"),JR=iu();JR.startListening({actionCreator:QR,effect:(e,t)=>{var n=e.payload,r=D1(t.getState(),_1(n));r?.activeIndex!=null&&t.dispatch(yee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var G0=Dr("mouseMove"),eL=iu(),of=null;eL.startListening({actionCreator:G0,effect:(e,t)=>{var n=e.payload;of!==null&&cancelAnimationFrame(of);var r=_1(n);of=requestAnimationFrame(()=>{var i=t.getState(),o=p1(i,i.tooltip.settings.shared);if(o==="axis"){var s=D1(i,r);s?.activeIndex!=null?t.dispatch(GI({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(HI())}of=null})}});function Aae(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var GN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},tL=Gn({name:"rootProps",initialState:GN,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:GN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),kae=tL.reducer,{updateOptions:Eae}=tL.actions,Nae=null,Oae={updatePolarOptions:(e,t)=>t.payload},nL=Gn({name:"polarOptions",initialState:Nae,reducers:Oae}),{updatePolarOptions:Tle}=nL.actions,jae=nL.reducer,rL=Dr("keyDown"),iL=Dr("focus"),T1=iu();T1.startListening({actionCreator:rL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=h1(i,ol(n),mu(n),vu(n)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var u=no(n);if(o==="Enter"){var d=xp(n,"axis","hover",String(i.index));t.dispatch(L0({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=cee(n),p=f==="left-to-right"?1:-1,m=o==="ArrowRight"?1:-1,v=l+m*p;if(!(u==null||v>=u.length||v<0)){var x=xp(n,"axis","hover",String(v));t.dispatch(L0({active:!0,activeIndex:v.toString(),activeCoordinate:x}))}}}}}});T1.startListening({actionCreator:iL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=xp(n,"axis","hover",String(o));t.dispatch(L0({active:!0,activeIndex:o,activeCoordinate:s}))}}}});var Pr=Dr("externalEvent"),oL=iu(),vy=new Map;oL.startListening({actionCreator:Pr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=vy.get(i);o!==void 0&&cancelAnimationFrame(o);var s=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:ite(l),activeDataKey:nte(l),activeIndex:Uc(l),activeLabel:iR(l),activeTooltipIndex:Uc(l),isTooltipActive:ote(l)};n(u,r)}finally{vy.delete(i)}});vy.set(i,s)}}});var Dae=J([rl],e=>e.tooltipItemPayloads),_ae=J([Dae,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),aL=Dr("touchMove"),sL=iu();sL.startListening({actionCreator:aL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=p1(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var s=D1(r,_1({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&t.dispatch(GI({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(QK),p=(l=d.getAttribute(JK))!==null&&l!==void 0?l:void 0,m=il(r).find(w=>w.id===p);if(f==null||m==null||p==null)return;var{dataKey:v}=m,x=_ae(r,f,p);t.dispatch(vee({activeDataKey:v,activeIndex:f,activeCoordinate:x,activeGraphicalItemId:p}))}}}});var Tae=iD({brush:Nie,cartesianAxis:xie,chartData:ine,errorBars:Soe,graphicalItems:Xre,layout:RK,legend:Hq,options:Jte,polarAxis:Ire,polarOptions:jae,referenceElements:_ie,rootProps:kae,tooltip:xee,zIndex:Bte}),Mae=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return sK({reducer:Tae,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([JR.middleware,eL.middleware,T1.middleware,oL.middleware,sL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(hT({type:"raf"}))},devTools:{serialize:{replacer:Aae},name:"recharts-".concat(n)}})};function Iae(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Kn(),o=P.useRef(null);if(i)return n;o.current==null&&(o.current=Mae(t,r));var s=hb;return P.createElement(pD,{context:s,store:o.current},n)}function Rae(e){var{layout:t,margin:n}=e,r=rn(),i=Kn();return P.useEffect(()=>{i||(r(TK(t)),r(_K(n)))},[r,i,t,n]),null}var Lae=P.memo(Rae,N1);function Fae(e){var t=rn();return P.useEffect(()=>{t(Eae(e))},[t,e]),null}function KN(e){var{zIndex:t,isPanorama:n}=e,r=P.useRef(null),i=rn();return P.useLayoutEffect(()=>(r.current&&i(Fte({zIndex:t,element:r.current,isPanorama:n})),()=>{i($te({zIndex:t,isPanorama:n}))}),[i,t,n]),P.createElement("g",{tabIndex:-1,ref:r})}function qN(e){var{children:t,isPanorama:n}=e,r=Le(Nte);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),o=r.filter(s=>s>0);return P.createElement(P.Fragment,null,i.map(s=>P.createElement(KN,{key:s,zIndex:s,isPanorama:n})),t,o.map(s=>P.createElement(KN,{key:s,zIndex:s,isPanorama:n})))}var $ae=["children"];function Bae(e,t){if(e==null)return{};var n,r,i=zae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp.apply(null,arguments)}var Wae={width:"100%",height:"100%",display:"block"},Vae=P.forwardRef((e,t)=>{var n=LT(),r=FT(),i=KT();if(!yi(n)||!yi(r))return null;var{children:o,otherAttributes:s,title:l,desc:u}=e,d,f;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),P.createElement(C_,Cp({},s,{title:l,desc:u,role:f,tabIndex:d,width:n,height:r,style:Wae,ref:t}),o)}),Uae=e=>{var{children:t}=e,n=Le(ah);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return P.createElement(C_,{width:r,height:i,x:s,y:o},t)},YN=P.forwardRef((e,t)=>{var{children:n}=e,r=Bae(e,$ae),i=Kn();return i?P.createElement(Uae,null,P.createElement(qN,{isPanorama:!0},n)):P.createElement(Vae,Cp({ref:t},r),P.createElement(qN,{isPanorama:!1},n))});function Hae(){var e=rn(),[t,n]=P.useState(null),r=Le(ZK);return P.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;Qe(o)&&o!==r&&e(IK(o))}},[t,e,r]),n}function XN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(n),!0).forEach(function(r){Kae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kae(e,t,n){return(t=qae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qae(e){var t=Yae(e,"string");return typeof t=="symbol"?t:t+""}function Yae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mo.apply(null,arguments)}var Xae=()=>(pne(),null);function Ap(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Zae=P.forwardRef((e,t)=>{var n,r,i=P.useRef(null),[o,s]=P.useState({containerWidth:Ap((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Ap((r=e.style)===null||r===void 0?void 0:r.height)}),l=P.useCallback((d,f)=>{s(p=>{var m=Math.round(d),v=Math.round(f);return p.containerWidth===m&&p.containerHeight===v?p:{containerWidth:m,containerHeight:v}})},[]),u=P.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=d.getBoundingClientRect();l(f,p);var m=x=>{var w=x[0];if(w!=null){var{width:b,height:C}=w.contentRect;l(b,C)}},v=new ResizeObserver(m);v.observe(d),i.current=v}},[t,l]);return P.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),P.createElement(P.Fragment,null,P.createElement(au,{width:o.containerWidth,height:o.containerHeight}),P.createElement("div",Mo({ref:u},e)))}),Qae=P.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=P.useState({containerWidth:Ap(n),containerHeight:Ap(r)}),s=P.useCallback((u,d)=>{o(f=>{var p=Math.round(u),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=P.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();s(d,f)}},[t,s]);return P.createElement(P.Fragment,null,P.createElement(au,{width:i.containerWidth,height:i.containerHeight}),P.createElement("div",Mo({ref:l},e)))}),Jae=P.forwardRef((e,t)=>{var{width:n,height:r}=e;return P.createElement(P.Fragment,null,P.createElement(au,{width:n,height:r}),P.createElement("div",Mo({ref:t},e)))}),ese=P.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?P.createElement(Qae,Mo({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?P.createElement(Jae,Mo({},e,{width:n,height:r,ref:t})):P.createElement(P.Fragment,null,P.createElement(au,{width:n,height:r}),P.createElement("div",Mo({ref:t},e)))});function tse(e){return e?Zae:ese}var nse=P.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:m,onTouchEnd:v,onTouchMove:x,onTouchStart:w,style:b,width:C,responsive:k,dispatchTouchEvents:E=!0}=e,N=P.useRef(null),D=rn(),[O,_]=P.useState(null),[T,V]=P.useState(null),Y=Hae(),K=bb(),B=K?.width>0?K.width:C,U=K?.height>0?K.height:i,ue=P.useCallback(R=>{Y(R),typeof t=="function"&&t(R),_(R),V(R),R!=null&&(N.current=R)},[Y,t,_,V]),oe=P.useCallback(R=>{D(QR(R)),D(Pr({handler:o,reactEvent:R}))},[D,o]),we=P.useCallback(R=>{D(G0(R)),D(Pr({handler:d,reactEvent:R}))},[D,d]),Q=P.useCallback(R=>{D(HI()),D(Pr({handler:f,reactEvent:R}))},[D,f]),G=P.useCallback(R=>{D(G0(R)),D(Pr({handler:p,reactEvent:R}))},[D,p]),ne=P.useCallback(()=>{D(iL())},[D]),te=P.useCallback(R=>{D(rL(R.key))},[D]),L=P.useCallback(R=>{D(Pr({handler:s,reactEvent:R}))},[D,s]),W=P.useCallback(R=>{D(Pr({handler:l,reactEvent:R}))},[D,l]),ie=P.useCallback(R=>{D(Pr({handler:u,reactEvent:R}))},[D,u]),se=P.useCallback(R=>{D(Pr({handler:m,reactEvent:R}))},[D,m]),de=P.useCallback(R=>{D(Pr({handler:w,reactEvent:R}))},[D,w]),X=P.useCallback(R=>{E&&D(aL(R)),D(Pr({handler:x,reactEvent:R}))},[D,E,x]),$=P.useCallback(R=>{D(Pr({handler:v,reactEvent:R}))},[D,v]),ee=tse(k);return P.createElement(fR.Provider,{value:O},P.createElement(fH.Provider,{value:T},P.createElement(ee,{width:B??b?.width,height:U??b?.height,className:Pt("recharts-wrapper",r),style:Gae({position:"relative",cursor:"default",width:B,height:U},b),onClick:oe,onContextMenu:L,onDoubleClick:W,onFocus:ne,onKeyDown:te,onMouseDown:ie,onMouseEnter:we,onMouseLeave:Q,onMouseMove:G,onMouseUp:se,onTouchEnd:$,onTouchMove:X,onTouchStart:de,ref:ue},P.createElement(Xae,null),n)))}),rse=["width","height","responsive","children","className","style","compact","title","desc"];function ise(e,t){if(e==null)return{};var n,r,i=ose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ose(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ase=P.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:s,style:l,compact:u,title:d,desc:f}=e,p=ise(e,rse),m=qr(p);return u?P.createElement(P.Fragment,null,P.createElement(au,{width:n,height:r}),P.createElement(YN,{otherAttributes:m,title:d,desc:f},o)):P.createElement(nse,{className:s,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},P.createElement(YN,{otherAttributes:m,title:d,desc:f,ref:t},P.createElement(Mie,null,o)))});function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K0.apply(null,arguments)}var sse={top:5,right:5,bottom:5,left:5},lse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:sse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},cse=P.forwardRef(function(t,n){var r,i=fr(t.categoricalChartProps,lse),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,f={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return P.createElement(Iae,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},P.createElement(Eie,{chartData:d.data}),P.createElement(Lae,{layout:i.layout,margin:i.margin}),P.createElement(Fae,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),P.createElement(ase,K0({},i,{ref:n})))}),use=["axis"],dse=P.forwardRef((e,t)=>P.createElement(cse,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:use,tooltipPayloadSearcher:Zte,categoricalChartProps:e,ref:t}));const fse=["AR","HR","Metallic","Beamsplitter","Specialty","Base","Custom"],pse=["Gold","Silver","Aluminum","Enhanced Silver","Protected Gold","Protected Silver","Protected Aluminum"];function hse(e){return e.category==="HR"&&pse.some(t=>e.name.includes(t))?"Metallic":e.category}function mse(e){const t=new Map;for(const n of e){const r=hse(n);t.has(r)||t.set(r,[]),t.get(r).push(n)}for(const n of t.values())n.sort((r,i)=>r.name.localeCompare(i.name));return t}function gse(e){const t=e.trim().split(/\r?\n/).filter(u=>u.trim());if(t.length<1)return[];const n=t[0].includes("	")?"	":",",r=t[0].split(n).map(u=>u.toLowerCase().trim()),i=r.findIndex(u=>u.includes("wavelength")||u==="wl"||u==="lambda"||u==="nm"),o=r.findIndex(u=>u.includes("reflectivity")||u==="r"||u==="ref"),s=i>=0||o>=0?1:0,l=[];for(let u=s;u<t.length;u++){const d=t[u].split(n),f=parseFloat(d[i>=0?i:0]?.trim()??""),p=parseFloat(d[o>=0?o:1]?.trim()??"");!Number.isNaN(f)&&!Number.isNaN(p)&&l.push({wavelength:f,reflectivity:Math.max(0,Math.min(1,p))})}return l.sort((u,d)=>u.wavelength-d.wavelength)}function vse(){const[e,t]=P.useState([]),[n,r]=P.useState(""),[i,o]=P.useState(null),[s,l]=P.useState([]),[u,d]=P.useState(!1),[f,p]=P.useState(!1),[m,v]=P.useState("type"),[x,w]=P.useState("constant"),[b,C]=P.useState(.005),[k,E]=P.useState(""),[N,D]=P.useState([]),[O,_]=P.useState(""),[T,V]=P.useState(""),[Y,K]=P.useState(null),[B,U]=P.useState(!1),ue=P.useCallback(async()=>{const W=await O7();t(W)},[]);P.useEffect(()=>{ue()},[ue]);const oe=P.useCallback(async W=>{const ie=W.data_points,se=W.constant_value;if(Array.isArray(ie)&&ie.length>0){const X=Math.min(...ie.map(re=>re.wavelength)),$=Math.max(...ie.map(re=>re.wavelength)),ee=Math.max(1,($-X)/100),R=[];for(let re=X;re<=$;re+=ee){const fe=ie.filter(be=>be.wavelength<=re).pop(),I=ie.find(be=>be.wavelength>=re);let Ce=fe?.reflectivity??I?.reflectivity??0;if(fe&&I&&fe.wavelength!==I.wavelength){const be=(re-fe.wavelength)/(I.wavelength-fe.wavelength);Ce=fe.reflectivity+be*(I.reflectivity-fe.reflectivity)}R.push({wavelength:Math.round(re*10)/10,reflectivity:Ce})}l(R);return}if(typeof se=="number"){const X=[];for(let $=350;$<=1100;$+=5)X.push({wavelength:$,reflectivity:se});l(X);return}const de=await y_(W.name,350,1100,5);l(de)},[]);P.useEffect(()=>{i?oe(i):l([])},[i,oe]);const we=n.trim()?e.filter(W=>W.name.toLowerCase().includes(n.toLowerCase())||W.description.toLowerCase().includes(n.toLowerCase())||W.category.toLowerCase().includes(n.toLowerCase())):e,Q=mse(we),G=()=>{w("constant"),v("constant"),C(.005)},ne=()=>{w("table"),v("table"),E(""),D([])},te=W=>{E(W);const ie=gse(W);D(ie)},L=async()=>{if(K(null),!O.trim()){K("Name is required");return}U(!0);try{const W={name:O.trim(),category:"Custom",description:T.trim(),is_hr:!1,data_type:x==="constant"?"constant":"table"};if(x==="constant")W.constant_value=Math.max(0,Math.min(1,b));else{if(N.length<2){K("At least 2 data points required for table");return}W.data_points=N}await j7(W),await ue();const ie={name:O.trim(),description:T.trim(),is_hr:!1,category:"Custom",source:"custom"};o(ie),oe(x==="constant"?{name:O,constant_value:W.constant_value}:{name:O,data_points:N}),p(!1),v("type"),_(""),V("")}catch(W){K(W instanceof Error?W.message:"Failed to create coating")}finally{U(!1)}};return y.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h2",{className:"text-2xl font-semibold text-cyan-400 flex items-center gap-2",children:[y.jsx(aO,{className:"w-7 h-7"}),"Coating Lab"]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{type:"button","data-testid":"coating-browse-catalog",onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800/80 backdrop-blur-md border border-white/10 text-slate-200 hover:border-cyan-400/40 hover:bg-slate-800 transition-colors",children:[y.jsx(js,{className:"w-4 h-4"}),"Browse Catalog"]}),y.jsxs("button",{type:"button",onClick:()=>{p(!0),v("type")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 backdrop-blur-md border border-cyan-400/50 text-cyan-400 hover:bg-cyan-500/30 transition-colors shadow-[0_0_12px_rgba(34,211,238,0.15)]",children:[y.jsx(Os,{className:"w-4 h-4"}),"New Custom Coating"]})]})]}),y.jsxs("div",{"data-testid":"spectral-performance-graph",className:"rounded-xl border border-white/10 bg-slate-900/80 backdrop-blur-md p-6 shadow-xl",children:[y.jsxs("h3",{className:"text-lg font-medium text-slate-200 mb-4 flex items-center gap-2",children:[y.jsx(W3,{className:"w-5 h-5 text-cyan-400"}),"Spectral Performance R()"]}),s.length>0?y.jsx("div",{className:"h-72",children:y.jsx(Eq,{width:"100%",height:"100%",children:y.jsxs(dse,{data:s,margin:{top:10,right:20,left:0,bottom:0},children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"spectralGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:.4}),y.jsx("stop",{offset:"100%",stopColor:"#22d3ee",stopOpacity:0})]})}),y.jsx(LR,{strokeDasharray:"3 3",stroke:"#334155"}),y.jsx(XR,{dataKey:"wavelength",type:"number",domain:[350,1100],tick:{fill:"#94a3b8",fontSize:11},stroke:"#64748b"}),y.jsx(ZR,{domain:[0,1],tickFormatter:W=>`${(W*100).toFixed(0)}%`,tick:{fill:"#94a3b8",fontSize:11},stroke:"#64748b"}),y.jsx(wne,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid #334155",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"},formatter:W=>[`${((W??0)*100).toFixed(2)}%`,"R"],labelFormatter:W=>` = ${W} nm`}),y.jsx(qR,{type:"monotone",dataKey:"reflectivity",stroke:"#22d3ee",strokeWidth:2,fill:"url(#spectralGrad)"})]})})}):y.jsx("div",{className:"h-72 flex items-center justify-center text-slate-500 border border-dashed border-slate-600 rounded-lg",children:"Select a coating from the catalog or create a custom one to view R()"}),i&&y.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-slate-400",children:"Showing:"}),y.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-medium ${i.source==="custom"?"bg-cyan-500/20 border border-cyan-400/50 text-cyan-400 shadow-[0_0_8px_rgba(34,211,238,0.2)]":"bg-slate-800 border border-white/10 text-slate-200"}`,children:i.name}),y.jsx("button",{type:"button",onClick:()=>o(null),className:"text-slate-500 hover:text-slate-300 text-sm",children:"Clear"})]})]}),y.jsx(zi,{children:u&&y.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-md p-4",onClick:()=>d(!1),children:y.jsxs(Ze.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl max-h-[85vh] rounded-xl border border-white/10 bg-slate-900/95 backdrop-blur-xl shadow-2xl overflow-hidden flex flex-col",onClick:W=>W.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 px-6 py-4",children:[y.jsx("h3",{className:"text-xl font-semibold text-cyan-400",children:"Coating Catalog"}),y.jsx("button",{type:"button",onClick:()=>d(!1),className:"p-2 rounded-lg text-slate-400 hover:text-slate-200 hover:bg-white/5",children:y.jsx(vc,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"p-4 border-b border-slate-700",children:y.jsxs("div",{className:"relative",children:[y.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),y.jsx("input",{type:"text",placeholder:"Search coatings...",value:n,onChange:W=>r(W.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-slate-800/80 border border-white/10 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-400/50 focus:ring-1 focus:ring-cyan-400/30"})]})}),y.jsx("div",{className:"flex-1 overflow-auto p-4 space-y-6",children:fse.filter(W=>Q.has(W)).map(W=>y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-2 uppercase tracking-wider",children:W}),y.jsx("div",{className:"flex flex-wrap gap-2",children:Q.get(W).map(ie=>y.jsxs("button",{type:"button","data-testid":`coating-catalog-${ie.name.replace(/\s+/g,"-")}`,onClick:()=>{o(ie),d(!1)},className:`px-4 py-2.5 rounded-lg text-left transition-all flex items-center gap-2 ${i?.name===ie.name?"bg-cyan-500/20 border-2 border-cyan-400/60 text-cyan-400 shadow-[0_0_12px_rgba(34,211,238,0.25)]":"bg-slate-800/80 border border-white/10 text-slate-200 hover:border-cyan-400/30 hover:bg-slate-800"}`,children:[y.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold uppercase ${ie.is_hr?"bg-amber-500/30 text-amber-400":"bg-cyan-500/20 text-cyan-400"}`,children:ie.is_hr?"HR":"AR"}),y.jsx("span",{className:"font-medium",children:ie.name}),ie.source==="custom"&&y.jsx("span",{className:"text-[10px] text-slate-500",children:"custom"})]},ie.name))})]},W))})]})})}),y.jsx(zi,{children:f&&y.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-md p-4",onClick:()=>!B&&p(!1),children:y.jsxs(Ze.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-lg rounded-xl border border-white/10 bg-slate-900/95 backdrop-blur-xl shadow-2xl overflow-hidden",onClick:W=>W.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 px-6 py-4",children:[y.jsx("h3",{className:"text-xl font-semibold text-cyan-400",children:"New Custom Coating"}),y.jsx("button",{type:"button",onClick:()=>!B&&p(!1),className:"p-2 rounded-lg text-slate-400 hover:text-slate-200",children:y.jsx(vc,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[m==="type"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-400 text-sm",children:"Choose how to define reflectivity:"}),y.jsxs("button",{type:"button",onClick:G,className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-800/80 border border-white/10 hover:border-cyan-400/40 transition-colors text-left",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:y.jsx(cO,{className:"w-5 h-5 text-cyan-400"})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-slate-200",children:"Constant Reflectivity"}),y.jsx("div",{className:"text-sm text-slate-500",children:"Same R at all wavelengths (e.g. 0.5%)"})]})]}),y.jsx(Sy,{className:"w-5 h-5 text-slate-500"})]}),y.jsxs("button",{type:"button",onClick:ne,className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-800/80 border border-white/10 hover:border-cyan-400/40 transition-colors text-left",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:y.jsx(gP,{className:"w-5 h-5 text-cyan-400"})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-slate-200",children:"Table Upload"}),y.jsx("div",{className:"text-sm text-slate-500",children:"Paste or upload CSV: wavelength_nm, reflectivity"})]})]}),y.jsx(Sy,{className:"w-5 h-5 text-slate-500"})]})]}),m==="constant"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Reflectivity (0100%)"}),y.jsx("input",{type:"number",min:0,max:100,step:.01,value:b*100,onChange:W=>C(Math.max(0,Math.min(100,Number(W.target.value)||0))/100),className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 focus:border-cyan-400/50"}),y.jsxs("p",{className:"text-slate-500 text-sm",children:["R = ",(b*100).toFixed(2),"% at all wavelengths"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>v("type"),className:"px-4 py-2 rounded-lg text-slate-400 hover:bg-white/5",children:"Back"}),y.jsx("button",{type:"button",onClick:()=>{v("name"),_(""),V("")},className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/50 hover:bg-cyan-500/30",children:"Next"})]})]}),m==="table"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Paste CSV (wavelength_nm, reflectivity)"}),y.jsx("textarea",{value:k,onChange:W=>te(W.target.value),placeholder:`wavelength_nm,reflectivity
400,0.02
550,0.01
700,0.03`,rows:8,className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 font-mono text-sm placeholder-slate-500 focus:border-cyan-400/50 resize-none"}),y.jsx("input",{type:"file",accept:".csv,.txt",onChange:W=>{const ie=W.target.files?.[0];if(ie){const se=new FileReader;se.onload=()=>te(String(se.result)),se.readAsText(ie)}W.target.value=""},className:"hidden",id:"csv-upload"}),y.jsxs("label",{htmlFor:"csv-upload",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800 border border-white/10 text-slate-300 hover:bg-slate-700 cursor-pointer text-sm",children:[y.jsx(gP,{className:"w-4 h-4"}),"Upload CSV"]}),N.length>0&&y.jsxs("p",{className:"text-cyan-400 text-sm",children:[N.length," points loaded"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>v("type"),className:"px-4 py-2 rounded-lg text-slate-400 hover:bg-white/5",children:"Back"}),y.jsx("button",{type:"button",onClick:()=>{v("name"),_(""),V("")},disabled:N.length<2,className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/50 hover:bg-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),m==="name"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Name"}),y.jsx("input",{type:"text",value:O,onChange:W=>_(W.target.value),placeholder:"My Custom Coating",className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 placeholder-slate-500 focus:border-cyan-400/50"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description (optional)"}),y.jsx("input",{type:"text",value:T,onChange:W=>V(W.target.value),placeholder:"e.g. Optimized for 532 nm",className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 placeholder-slate-500 focus:border-cyan-400/50"})]}),Y&&y.jsx("p",{className:"text-red-400 text-sm",children:Y}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>v(x),className:"px-4 py-2 rounded-lg text-slate-400 hover:bg-white/5",children:"Back"}),y.jsx("button",{type:"button",onClick:L,disabled:B||!O.trim(),className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/50 hover:bg-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:B?"Creating":"Create Coating"})]})]})]})]})})})]})}const yse=28e-7,xse=1.05;function bse(e,t){const n=e.laserPowerW??0,r=e.entrancePupilDiameter??10,i=e.surfaces.find(N=>N.type==="Glass");if(!i||n<=0)return{eflCold:t,fThermal:1/0,eflEffective:t,deltaEfl:0,pAbsorbed:0,hasSignificantHeating:!1};const o=i.absorptionCoefficient??0,l=(i.thickness??0)/10,u=o>0&&l>0?n*(1-Math.exp(-o*l)):0;if(u<=0)return{eflCold:t,fThermal:1/0,eflEffective:t,deltaEfl:0,pAbsorbed:0,hasSignificantHeating:!1};const d=r/2/1e3,f=d*d,p=Math.PI*xse*f/(u*yse),m=p*1e3,x=1/(t/1e3),w=1/p,k=1/(x+w)*1e3,E=k-t;return{eflCold:t,fThermal:m,eflEffective:k,deltaEfl:E,pAbsorbed:u,hasSignificantHeating:!0}}const hs="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50";function wse({systemState:e,onSystemStateChange:t,selectedSurfaceId:n,onSelectSurface:r,showBestFocus:i,onShowBestFocusChange:o,snapToFocus:s,onSnapToFocusChange:l,snapToSurface:u,onSnapToSurfaceChange:d}){const f=C=>{t(k=>({...k,...C}))},p=()=>{t(C=>({...C,wavelengths:[...C.wavelengths,Be.defaults.defaultWavelength]}))},m=C=>{t(k=>({...k,wavelengths:k.wavelengths.filter((E,N)=>N!==C)}))},v=(C,k)=>{t(E=>({...E,wavelengths:E.wavelengths.map((N,D)=>D===C?k:N)}))},x=()=>{t(C=>C.fieldAngles.length>=Be.maxFieldAngles?C:{...C,fieldAngles:[...C.fieldAngles,Be.defaults.defaultFieldAngle]})},w=C=>{t(k=>({...k,fieldAngles:k.fieldAngles.filter((E,N)=>N!==C)}))},b=(C,k)=>{t(E=>({...E,fieldAngles:E.fieldAngles.map((N,D)=>D===C?k:N)}))};return y.jsxs("div",{className:"h-full glass-card rounded-none border-l border-white/10 p-4 overflow-y-auto",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg mb-4",children:"System Properties"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Entrance Pupil Diameter"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:e.entrancePupilDiameter,onChange:C=>f({entrancePupilDiameter:Number(C.target.value)||0}),min:.1,step:.5,className:hs}),y.jsx("span",{className:"text-slate-500 text-sm",children:"mm"})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Wavelengths"}),y.jsx("div",{className:"space-y-2",children:e.wavelengths.map((C,k)=>y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:C,onChange:E=>v(k,Number(E.target.value)||0),min:300,max:2e3,step:1,className:hs}),y.jsx("span",{className:"text-slate-500 text-sm w-8",children:"nm"}),e.wavelengths.length>1&&y.jsx("button",{onClick:()=>m(k),className:"p-1.5 rounded text-slate-500 hover:text-red-400 hover:bg-white/5 transition-colors","aria-label":"Remove wavelength",children:y.jsx(xf,{className:"w-4 h-4"})})]},k))}),y.jsxs("button",{onClick:p,className:"mt-2 w-full flex items-center justify-center gap-1 py-2 rounded-lg border border-dashed border-white/20 text-slate-400 hover:text-cyan-electric hover:border-cyan-electric/50 transition-colors text-sm",children:[y.jsx(Os,{className:"w-4 h-4"}),"Add wavelength"]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Field Angles"}),y.jsx("div",{className:"space-y-2",children:e.fieldAngles.map((C,k)=>y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:C,onChange:E=>b(k,Number(E.target.value)||0),min:0,max:90,step:.5,className:hs}),y.jsx("span",{className:"text-slate-500 text-sm w-8",children:""}),e.fieldAngles.length>1&&y.jsx("button",{onClick:()=>w(k),className:"p-1.5 rounded text-slate-500 hover:text-red-400 hover:bg-white/5 transition-colors","aria-label":"Remove field angle",children:y.jsx(xf,{className:"w-4 h-4"})})]},k))}),y.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Maximum of ",Be.maxFieldAngles," field angles allowed for this simulation."]}),y.jsxs("button",{onClick:x,disabled:e.fieldAngles.length>=Be.maxFieldAngles,title:e.fieldAngles.length>=Be.maxFieldAngles?"Maximum of 3 field angles allowed for this simulation.":"Add field angle",className:"mt-2 w-full flex items-center justify-center gap-1 py-2 rounded-lg border border-dashed border-white/20 text-slate-400 hover:text-cyan-electric hover:border-cyan-electric/50 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:text-slate-400 disabled:hover:border-white/20",children:[y.jsx(Os,{className:"w-4 h-4"}),"Add field angle"]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Ray Count"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("input",{type:"range",min:Be.rayCount.min,max:Be.rayCount.max,value:e.numRays,onChange:C=>f({numRays:Number(C.target.value)}),className:"flex-1 accent-cyan-electric"}),y.jsx("span",{className:"text-cyan-electric text-sm font-mono w-6",children:e.numRays})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Focus Configuration"}),y.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-white/10 bg-white/5",children:[y.jsx("button",{type:"button",onClick:()=>f({focusMode:"On-Axis"}),className:`flex-1 px-3 py-2.5 text-sm font-medium transition-colors ${(e.focusMode??"On-Axis")==="On-Axis"?"bg-cyan-electric/20 text-cyan-electric border-r border-white/10":"text-slate-400 hover:text-slate-200 hover:bg-white/5"}`,children:"Paraxial (On-Axis)"}),y.jsx("button",{type:"button",onClick:()=>f({focusMode:"Balanced"}),className:`flex-1 px-3 py-2.5 text-sm font-medium transition-colors ${(e.focusMode??"On-Axis")==="Balanced"?"bg-amber-500/20 text-amber-400 border-l border-white/10":"text-slate-400 hover:text-slate-200 hover:bg-white/5"}`,children:"Best Composite"})]}),y.jsx("p",{className:"mt-2 text-xs text-slate-500",children:(e.focusMode??"On-Axis")==="Balanced"?"Circle of Least Confusion across the entire field of view.":"Ignores off-axis aberrations when placing the focus diamond."})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-3 flex items-center gap-2",children:[y.jsx(D3,{className:"w-4 h-4 text-cyan-electric",strokeWidth:2}),"Snapping & Precision"]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("label",{className:"flex items-center justify-between gap-3 cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:"Snap to Focus"}),y.jsx("span",{role:"switch","aria-checked":s,tabIndex:0,onClick:()=>l(!s),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),l(!s))},className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full transition-colors duration-200 ease-in-out hover:opacity-90 ${s?"bg-cyan-electric/40":"bg-white/10"}`,children:y.jsx("span",{className:`pointer-events-none absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-lg transition-all duration-200 ease-in-out ${s?"left-5 bg-cyan-electric":"left-0.5"}`})})]}),y.jsxs("label",{className:"flex items-center justify-between gap-3 cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:"Snap to Surface"}),y.jsx("span",{role:"switch","aria-checked":u,tabIndex:0,onClick:()=>d(!u),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),d(!u))},className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full transition-colors duration-200 ease-in-out hover:opacity-90 ${u?"bg-cyan-electric/40":"bg-white/10"}`,children:y.jsx("span",{className:`pointer-events-none absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-lg transition-all duration-200 ease-in-out ${u?"left-5 bg-cyan-electric":"left-0.5"}`})})]})]}),y.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Snap to Focus: Gold Diamond. Snap to Surface: lens vertices. Hold"," ",y.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-slate-800/90 text-slate-200 font-mono text-[10px] shadow-[0_1px_0_0_rgba(255,255,255,0.1),inset_0_-1px_0_0_rgba(0,0,0,0.3)]",children:dO?" Option":"Alt"})," ","to disable snapping."]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Visualization Settings"}),y.jsxs("label",{className:"flex items-center justify-between gap-3 cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:"Show Best Focus Diamond"}),y.jsx("span",{role:"switch","aria-checked":i,tabIndex:0,onClick:()=>o(!i),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),o(!i))},className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full transition-colors duration-200 ease-in-out hover:opacity-90 ${i?"bg-cyan-electric/40":"bg-white/10"}`,children:y.jsx("span",{className:`pointer-events-none absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-lg transition-all duration-200 ease-in-out ${i?"left-5 bg-cyan-electric":"left-0.5"}`})})]})]}),y.jsxs("section",{className:"glass-card p-4 border-orange-500/20",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Thermal Lensing"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Laser Power (W)"}),y.jsx("input",{type:"number",min:0,max:1e4,step:1,value:e.laserPowerW??"",onChange:C=>t(k=>({...k,laserPowerW:C.target.value===""?void 0:Math.max(0,Number(C.target.value)||0)})),placeholder:"0",className:hs}),y.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"CW power for thermo-optic (dn/dT) analysis. Absorption  set per lens in System Editor."})]}),(()=>{const C=e.traceResult?.performance?.fNumber!=null&&e.entrancePupilDiameter>0?e.traceResult.performance.fNumber*e.entrancePupilDiameter:(()=>{const E=e.surfaces[0],N=e.surfaces[1];return E&&N&&E.radius!==0&&N.radius!==0?1/((E.refractiveIndex-1)*(1/E.radius-1/-N.radius)):100})(),k=bse(e,C);return k.hasSignificantHeating?y.jsxs("div",{className:"text-xs space-y-1 pt-1 border-t border-white/10",children:[y.jsxs("div",{className:"flex justify-between text-slate-400",children:[y.jsx("span",{children:"Cold EFL"}),y.jsxs("span",{className:"tabular-nums text-slate-300",children:[k.eflCold.toFixed(2)," mm"]})]}),y.jsxs("div",{className:"flex justify-between text-slate-400",children:[y.jsx("span",{children:"Effective EFL (heated)"}),y.jsxs("span",{className:"tabular-nums text-orange-400",children:[k.eflEffective.toFixed(2)," mm"]})]}),y.jsxs("div",{className:"flex justify-between text-orange-400 font-medium",children:[y.jsx("span",{children:"f (thermo-optic)"}),y.jsxs("span",{className:"tabular-nums",children:[k.deltaEfl.toFixed(3)," mm"]})]}),y.jsxs("div",{className:"flex justify-between text-slate-500",children:[y.jsx("span",{children:"P absorbed"}),y.jsxs("span",{className:"tabular-nums",children:[(k.pAbsorbed*1e3).toFixed(2)," mW"]})]})]}):null})()]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Physical Optics"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm text-slate-400",children:"Laser M Factor"}),y.jsx("input",{type:"number",min:.1,max:10,step:.1,value:e.m2Factor??1,onChange:C=>t(k=>({...k,m2Factor:Math.max(.1,Math.min(10,Number(C.target.value)||1))})),className:hs}),y.jsx("p",{className:"text-xs text-slate-500",children:"M = 1.0 for perfect Gaussian. Higher values show how beam quality affects focus."})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Ultrafast Pulse"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm text-slate-400",children:"Pulse Width (fs)"}),y.jsx("input",{type:"number",min:5,max:1e4,step:10,value:e.pulseWidthFs??100,onChange:C=>t(k=>({...k,pulseWidthFs:Math.max(5,Math.min(1e4,Number(C.target.value)||100))})),className:hs,placeholder:"100"}),y.jsx("p",{className:"text-xs text-slate-500",children:"Input pulse width for dispersion analysis. Sellmeier equation used for glass."})]})]}),y.jsxs("section",{className:"glass-card p-4 border-cyan-electric/20",children:[y.jsx("h3",{className:"text-sm font-medium text-cyan-electric mb-3",children:"Performance"}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-slate-400",children:"RMS Spot Radius"}),y.jsxs("span",{className:"text-slate-200 font-mono",children:[e.rmsSpotRadius.toFixed(4)," mm"]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-slate-400",children:"Total Length"}),y.jsxs("span",{className:"text-slate-200 font-mono",children:[e.totalLength.toFixed(2)," mm"]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-slate-400",children:"F-Number"}),y.jsxs("span",{className:"text-slate-200 font-mono",children:["f/",e.fNumber.toFixed(2)]})]})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Surfaces"}),y.jsx("div",{className:"space-y-2",children:e.surfaces.map(C=>y.jsxs(Ze.div,{layout:!0,transition:{type:"spring",stiffness:400,damping:30},onClick:()=>r(C.id),className:`flex cursor-pointer items-center justify-between rounded-lg px-3 py-2 border transition-colors ${n===C.id?"bg-cyan-electric/20 border-cyan-electric/50 ring-1 ring-cyan-electric/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[y.jsxs("span",{className:"text-sm",children:[C.material??C.type," R=",C.radius]}),y.jsxs("span",{className:"text-cyan-electric text-xs",children:["t=",C.thickness]})]},C.id))})]})]})]})}function Sse(){return{handshakeSent:!1,lastSurfaces:[],lastRmsUm:null,episodic:{currentGoal:"",constraintsMet:[],failedIterations:[]}}}const Pse=["radius","thickness","refractiveIndex","diameter","material","description","coating","type"];function Cse(e,t,n,r){const i=n?.performance?.rmsSpotRadius!=null?n.performance.rmsSpotRadius*1e3:null;if(!e.handshakeSent)return{isHandshake:!0,delta:{optical_stack:{surfaces:t.map((f,p)=>{const m=b_(f);return{id:m.id,semanticName:m.semanticName??`S${p+1}`,aiContext:m.aiContext??"",type:m.type,radius:m.radius,thickness:m.thickness,refractiveIndex:m.refractiveIndex,diameter:m.diameter,material:m.material,description:m.description,coating:m.coating,effective_focal_length:m.effective_focal_length??null,critical_angle:m.critical_angle??null}}),entrancePupilDiameter:r.entrancePupilDiameter,wavelengths:r.wavelengths,fieldAngles:r.fieldAngles,numRays:r.numRays,focusMode:r.focusMode,m2Factor:r.m2Factor},traceResult:n?{focusZ:n.focusZ,bestFocusZ:n.bestFocusZ,performance:n.performance,gaussianBeam:n.gaussianBeam}:null}};const s=new Map(e.lastSurfaces.map(f=>[f.id,f])),l=[];for(const f of t){const p=s.get(f.id);if(!p)continue;const m={id:f.id};let v=!1;for(const x of Pse){const w=f[x],b=p[x];w!==b&&(m[x]=w,v=!0)}v&&l.push(m)}const u=i!=null?{rmsUm:i,totalLength:n?.performance?.totalLength,fNumber:n?.performance?.fNumber}:null;return{isHandshake:!1,delta:{surfaces:t.map(f=>({id:f.id,type:f.type,radius:f.radius,thickness:f.thickness,material:f.material,diameter:f.diameter})),changesSinceLast:l.length>0?l:void 0,perf:u,episodic:e.episodic}}}function ZN(e,t,n){e.handshakeSent=!0,e.lastSurfaces=t.map(r=>({...r})),e.lastRmsUm=n?.performance?.rmsSpotRadius!=null?n.performance.rmsSpotRadius*1e3:null}function yy(e,t){t.currentGoal&&(e.episodic.currentGoal=t.currentGoal),t.constraintsMet?.length&&(e.episodic.constraintsMet=[...e.episodic.constraintsMet,...t.constraintsMet].slice(-5)),t.failedIterations?.length&&(e.episodic.failedIterations=[...e.episodic.failedIterations,...t.failedIterations].slice(-3))}function Ase(e,t){e.episodic.currentGoal=t}const kse=[/^\s*(hi|hello|hey|yo)\s*[!.]?\s*$/i,/^\s*(thanks|thank you|thx|ty)\s*[!.]?\s*$/i,/^\s*(ok|okay|k)\s*[!.]?\s*$/i,/^\s*(yes|no)\s*[!.]?\s*$/i,/^\s*(cool|nice|great|awesome)\s*[!.]?\s*$/i,/^\s*(\?|\.\.\.)\s*$/];function Ese(e){const t=e.trim();return t.length<3?!0:kse.some(n=>n.test(t))}function Nse(e){const t=e.trim();return!t||Ese(t)?null:t}const Ose=["optimize","optimization","minimize","maximize","zero coma","zero spherical","aberration","seidel","strehl","rms","best focus","optimise","design a","design an","create a","create an","suggest","recommend","improve","fix","correct","troubleshoot","analyze","analyse","why","explain","how does","what if","compare"],jse=["thicker","thinner","make lens","change","set","update","radius","thickness","diameter","material","glass","lens 1","lens 2","surface 1","surface 2","first lens","second lens","mm","millimeter"];function Dse(e,t){const n=e.toLowerCase().trim(),r=Ose.some(o=>n.includes(o)),i=jse.some(o=>n.includes(o));return r&&!i?"deepseek-reasoner":i&&!r?"gpt-4o-mini":i&&r?"deepseek-reasoner":t}function _se(e){try{const t=JSON.parse(e);if(Array.isArray(t)){const n=t.filter(r=>r&&typeof r=="object"&&typeof r.op=="string"&&typeof r.path=="string");return n.length>0?n:null}if(t&&typeof t=="object"&&"patch"in t){const n=t.patch;return Array.isArray(n)?n:null}return null}catch{return null}}function Tse(e,t){const n=new Map;for(const r of e){const i=r.path.match(/^\/(?:surfaces|optical_stack\/surfaces)\/([^/]+)\/(.+)$/);if(!i)continue;const o=i[1],s=i[2].replace(/^\//,"");if(!t.find(d=>d.id===o))continue;let u=n.get(o);if(u||(u={id:o},n.set(o,u)),r.op==="replace"||r.op==="add"){const d=s;if(d==="id")continue;u[d]=r.value}}return Array.from(n.values())}const gc=[],Mse=100;function QN(e,t,n){n.trim()&&(gc.push({timestamp:new Date().toISOString(),model:e,promptPreview:t.slice(0,80),rawThought:n}),gc.length>Mse&&gc.shift())}function Ise(){return gc.map(e=>`[${e.timestamp}] ${e.model}
Prompt: ${e.promptPreview}
---
${e.rawThought}
---
`).join(`
`)}function Rse(){gc.length=0}typeof window<"u"&&(window.__thoughtTrace={get:Ise,clear:Rse});function Lse(e,t){return t?e.startsWith("claude")?!!t.anthropic?.trim():e.startsWith("gpt")||e.startsWith("o1")?!!t.openai?.trim():e.startsWith("deepseek")?!!t.deepseek?.trim():!1:!1}const lL=`Role: You are the PhotonLeap Lead Physicist, an expert in classical ray optics, wave propagation, and quantum information science. Your goal is to design, optimize, and troubleshoot physical systems within the PhotonLeap environment.

## Core Competencies
- Geometric Optics: Expert in Snell's Law, the Lensmaker's Equation, and Seidel aberrations (Spherical, Coma, Astigmatism, Field Curvature, Distortion).
- Physical Optics: Mastery of Gaussian beam propagation (M factors, beam waist, Rayleigh range) and diffraction limits.
- Quantum States: Expertise in polarization (Jones Calculus), photon entanglement, and Bloch sphere mapping.

## Operational Protocol
- Zero-Error Physics: Every design must respect the Law of Conservation of Energy and the Second Law of Thermodynamics. You cannot "create" light without a defined source.
- Metric-Driven Design: When asked to optimize, minimize the Root Mean Square (RMS) spot size or maximize the Strehl Ratio.
- Manufacturing Awareness: Favor "buildable" designs. Avoid center thicknesses <1mm or curvatures that create "knife-edges" on lens peripheries. |radius| must be >= diameter to avoid impossible curves.

## Optical Stack Schema (Dual-Purpose Semantic Lattice)
Each surface has:
- id (string, required): unique identifier  MUST match existing surface ids exactly
- semanticName (string): e.g. "Primary_Objective", "Field_Flattener"
- aiContext (string): reason for surface, e.g. "Corrects coma from S1"
- type: "Glass" | "Air"
- radius (mm): curvature radius; positive = convex toward +z, negative = concave; 0 = flat
- thickness (mm): distance to next surface
- refractiveIndex: n at primary wavelength
- diameter (mm): clear aperture
- material (string): must be from glass library
- description, coating
- effective_focal_length (mm): computed R/(n-1) for curved surfaces; null for plano
- critical_angle (deg): TIR angle for glassair; null for air

## Glass Library (exact names)
N-BK7, N-SF11, N-SF5, N-SF6, N-SF10, N-SF14, N-F2, N-SK2, Fused Silica, N-BAF10, N-LAK9, H-LAF7, Calcium Fluoride, Magnesium Fluoride, Sapphire, N-K5, N-SK16, N-BAF4, N-SF6HT, N-LAK14, N-BK10, N-SF57, N-SF66, N-SF15

## Output Format
Your response must be a valid JSON object. Do not include any text outside of the JSON structure.
Return ONLY valid JSON. No conversational filler unless requested.

Preferred (token-efficient): JSON Patch RFC 6902  e.g. [{"op":"replace","path":"/surfaces/<id>/thickness","value":8}]
Full format: {"surfaceDeltas":[{"id":"surf-uuid","radius":50,"thickness":5,"material":"N-BK7",...}],"reasoning":"brief physics explanation"}

Optional: If design is physically impossible (e.g. TIR preventing beam exit), include:
{"physicsViolation":true,"reason":"description","suggestedAlternative":"geometry hint","surfaceDeltas":[],"reasoning":"..."}

## Constraints
- radius must be non-zero for Glass surfaces
- thickness > 0, diameter > 0
- |radius| >= diameter to avoid knife-edges (impossible curves)
- If design fails (RMS too high), you will receive error context; propose a new transaction.`;function cL(e,t){const n={optical_stack:{surfaces:e.surfaces.map(r=>{const i=b_(r);return{id:i.id,semanticName:i.semanticName??`S${e.surfaces.indexOf(r)+1}`,aiContext:i.aiContext??"",type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,coating:i.coating,effective_focal_length:i.effective_focal_length??null,critical_angle:i.critical_angle??null}}),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays},traceResult:t?{focusZ:t.focusZ,bestFocusZ:t.bestFocusZ,performance:t.performance,gaussianBeam:t.gaussianBeam}:null};return`${lL}

## Current System State (JSON)
\`\`\`json
${JSON.stringify(n,null,2)}
\`\`\``}function Fse(e,t,n){const r=n.currentGoal||n.constraintsMet.length||n.failedIterations.length?`
## Episodic Memory
- Current Goal: ${n.currentGoal||"None"}
- Constraints Met: ${n.constraintsMet.join("; ")||"None"}
- Failed Iterations: ${n.failedIterations.join("; ")||"None"}`:"";return`${lL}${r}

## ${t?"Full Handshake (JSON)":"State Delta (compact)"}
\`\`\`json
${JSON.stringify(e)}
\`\`\``}function uL(e,t){const n="(?:<think>|<<think>>)",r="(?:</think>|<<\\/think>>)",i=new RegExp(n,"gi");if(t?.saveThoughts&&t.model&&t.promptPreview){const s=e.matchAll(new RegExp(n+"([\\s\\S]*?)"+r,"gi"));for(const u of s)u[1]&&QN(t.model,t.promptPreview,u[1]);const l=e.match(new RegExp(n+"[\\s\\S]*$","i"));if(l){const u=l[0].replace(i,"").trim();u&&QN(t.model,t.promptPreview,u)}}let o=e;return o=o.replace(new RegExp(n+"[\\s\\S]*?"+r,"gi"),""),o=o.replace(new RegExp(n+"[\\s\\S]*$","gi"),""),o.trim()}function JN(e,t){const r=uL(e,t).trim(),i=r.match(/```(?:json)?\s*([\s\S]*?)```/);if(i){const s=i[1].trim();if(s)return s}const o=r.match(/\{[\s\S]*\}/);return o?o[0]:r.startsWith("{")?r:null}function $se(e,t,n){const r=n?.saveThoughts&&n.model&&n.promptPreview?{model:n.model,promptPreview:n.promptPreview,saveThoughts:!0}:void 0,i=uL(e,r),o=[()=>JN(e,r),()=>JN(i,r),()=>{const s=i.matchAll(/```(?:json)?\s*([\s\S]*?)```/g);for(const l of s){const u=l[1]?.trim();if(u?.startsWith("{")||u?.startsWith("["))return u}return null}];for(const s of o){const l=s();if(l)try{const u=JSON.parse(l);if(Array.isArray(u)){const f=_se(l);if(f&&f.length>0){const p=Tse(f,t);if(p.length>0)return{surfaceDeltas:p,reasoning:"Applied via JSON Patch"}}}const d=u.surfaceDeltas??u.surface_deltas;if(u&&typeof u=="object"&&Array.isArray(d)){const f=u;return{surfaceDeltas:d.filter(p=>p!=null&&typeof p=="object"&&typeof p.id=="string"),reasoning:f.reasoning,physicsViolation:f.physicsViolation,reason:f.reason,suggestedAlternative:f.suggestedAlternative}}}catch{continue}}return null}function dL(e,t){const n=new Map(e.map(r=>[r.id,{...r}]));for(const r of t.surfaceDeltas){const i=n.get(r.id);i&&(r.semanticName!==void 0&&(i.semanticName=r.semanticName),r.aiContext!==void 0&&(i.aiContext=r.aiContext),r.radius!==void 0&&(i.radius=r.radius),r.thickness!==void 0&&(i.thickness=r.thickness),r.refractiveIndex!==void 0&&(i.refractiveIndex=r.refractiveIndex),r.diameter!==void 0&&(i.diameter=r.diameter),r.material!==void 0&&(i.material=r.material),r.description!==void 0&&(i.description=r.description),r.type!==void 0&&(i.type=r.type),r.coating!==void 0&&(i.coating=r.coating),r.sellmeierCoefficients!==void 0&&(i.sellmeierCoefficients=r.sellmeierCoefficients))}return Array.from(n.values())}function Bse(e,t){const n=dL(e,t);for(const r of n){if(r.type==="Glass"&&r.radius===0)return{valid:!1,error:`Surface ${r.id} (Glass) cannot have radius 0`};if(r.thickness<0)return{valid:!1,error:`Surface ${r.id} has negative thickness`};if(r.diameter<=0)return{valid:!1,error:`Surface ${r.id} has invalid diameter`};if(r.radius!==0&&Math.abs(r.radius)<r.diameter)return{valid:!1,error:`Surface ${r.id} impossible curve: |radius| ${Math.abs(r.radius)}mm < diameter ${r.diameter}mm  would create knife-edge`}}return{valid:!0}}function zse(e){const n=(e instanceof Error?e.message:String(e)).toLowerCase();return n.includes("failed to fetch")||n.includes("network")||n.includes("connection refused")||n.includes("net::err_")||n.includes("load failed")||n.includes("could not connect")}function Wse(){return`${Be.localAgent.apiBase.replace(/\/v1\/?$/,"")}/api/v1`}function fL(e){return e?.trim()||Be.localAgent.modelId}async function Vse(e,t,n,r,i,o,s){const l={model:t,max_tokens:2048,stream:!0,system:n,messages:[{role:"user",content:r}]};s&&(l.thinking={type:"enabled",budget_tokens:4e3});const u=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",signal:o,headers:{"Content-Type":"application/json","x-api-key":e,"anthropic-version":"2023-06-01"},body:JSON.stringify(l)});if(!u.ok){const v=await u.text();throw new Error(`Anthropic API error: ${u.status} ${v}`)}const d=u.body?.getReader();if(!d)throw new Error("No response body");const f=new TextDecoder;let p="",m="";for(;;){const{done:v,value:x}=await d.read();if(v)break;p+=f.decode(x,{stream:!0});const w=p.split(`
`);p=w.pop()??"";for(const b of w)if(b.startsWith("data: ")){const C=b.slice(6).trim();if(!C||C==="[DONE]")continue;try{const k=JSON.parse(C);k.type==="content_block_delta"&&k.delta&&(k.delta.type==="thinking_delta"&&typeof k.delta.thinking=="string"?i(k.delta.thinking):k.delta.type==="text_delta"&&typeof k.delta.text=="string"&&(i(k.delta.text),m+=k.delta.text))}catch{}}}for(const v of p.split(`
`))if(v.startsWith("data: ")){const x=v.slice(6).trim();if(!x||x==="[DONE]")continue;try{const w=JSON.parse(x);w.type==="content_block_delta"&&w.delta?.type==="text_delta"&&typeof w.delta.text=="string"&&(m+=w.delta.text)}catch{}}return m}async function Use(e,t,n,r,i,o){const s={model:t,max_tokens:2048,stream:!0,messages:[{role:"system",content:n},{role:"user",content:r}]};t.startsWith("o1")&&(s.reasoning_effort="medium");const l=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",signal:o,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(s)});if(!l.ok){const m=await l.text();throw new Error(`OpenAI API error: ${l.status} ${m}`)}const u=l.body?.getReader();if(!u)throw new Error("No response body");const d=new TextDecoder;let f="",p="";for(;;){const{done:m,value:v}=await u.read();if(m)break;f+=d.decode(v,{stream:!0});const x=f.split(`
`);f=x.pop()??"";for(const w of x)if(w.startsWith("data: ")){const b=w.slice(6).trim();if(!b||b==="[DONE]")continue;try{const k=JSON.parse(b).choices?.[0]?.delta;k&&(typeof k.reasoning_content=="string"&&i(k.reasoning_content),typeof k.content=="string"&&(i(k.content),p+=k.content))}catch{}}}for(const m of f.split(`
`))if(m.startsWith("data: ")){const v=m.slice(6).trim();if(!v||v==="[DONE]")continue;try{const x=JSON.parse(v).choices?.[0]?.delta;x?.content&&(p+=x.content)}catch{}}return p}async function Hse(e,t,n,r,i,o,s=0){const l=Math.min(16384*(1<<Math.min(s,2)),65536),u=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",signal:o,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({model:t,max_tokens:l,stream:!0,messages:[{role:"system",content:n},{role:"user",content:r}]})});if(!u.ok){const v=await u.text();throw new Error(`DeepSeek API error: ${u.status} ${v}`)}const d=u.body?.getReader();if(!d)throw new Error("No response body");const f=new TextDecoder;let p="",m="";for(;;){const{done:v,value:x}=await d.read();if(v)break;p+=f.decode(x,{stream:!0});const w=p.split(`
`);p=w.pop()??"";for(const b of w)if(b.startsWith("data: ")){const C=b.slice(6).trim();if(!C||C==="[DONE]")continue;try{const E=JSON.parse(C).choices?.[0]?.delta;E&&(typeof E.reasoning_content=="string"&&i(E.reasoning_content),typeof E.content=="string"&&(i(E.content),m+=E.content))}catch{}}}for(const v of p.split(`
`))if(v.startsWith("data: ")){const x=v.slice(6).trim();if(!x||x==="[DONE]")continue;try{const w=JSON.parse(x).choices?.[0]?.delta;w?.content&&(m+=w.content)}catch{}}return m}function q0(e,t,n){const r=t.pending+e;t.pending="";let i="";if(t.inThink){const u=r.indexOf("</think>");return u>=0?(n(r.slice(0,u)),i=r.slice(u+8),t.inThink=!1,q0(i,t,n)):(n(r),"")}const o=r.indexOf("<think>");if(o>=0){i=r.slice(0,o);const u=r.slice(o+8),d=u.indexOf("</think>");return d>=0?(n(u.slice(0,d)),i+q0(u.slice(d+8),t,n)):(t.inThink=!0,n(u),i)}const s=r.lastIndexOf("<think>");if(s>=0&&s>r.length-8)return t.pending=r.slice(s),r.slice(0,s);const l=r.lastIndexOf("</think>");return l>=0&&l>r.length-8?(t.pending=r.slice(l),r.slice(0,l)):r}async function Gse(e,t,n,r,i){const{apiKey:o}=Be.localAgent,s=`${Wse()}/chat`,l=await fetch(s,{method:"POST",signal:i,headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({model:fL(e),input:n,system_prompt:t,stream:!0,max_output_tokens:2048})});if(!l.ok){const x=await l.text();throw new Error(`Local API error: ${l.status} ${x}`)}const u=l.body?.getReader();if(!u)throw new Error("No response body");const d=new TextDecoder;let f="",p="";const m={inThink:!1,pending:""};let v=!1;for(;;){const{done:x,value:w}=await u.read();if(x)break;f+=d.decode(w,{stream:!0});const b=f.split(`
`);f=b.pop()??"";for(const C of b)if(C.startsWith("data: ")){const k=C.slice(6).trim();if(!k||k==="[DONE]")continue;try{const E=JSON.parse(k);if(E.type==="reasoning.delta"&&typeof E.content=="string")v=!0,r(E.content);else if(E.type==="message.delta"&&typeof E.content=="string")v?p+=E.content:p+=q0(E.content,m,r);else if(E.type==="chat.end"&&E.result?.output){p="";for(const N of E.result.output)(N.type==="reasoning"||N.type==="message")&&N.content&&(p+=N.content)}}catch{}}}if(!p&&f)try{for(const x of f.split(`
`))if(x.startsWith("data: ")){const w=x.slice(6).trim(),b=JSON.parse(w);if(b.type==="chat.end"&&b.result?.output)for(const C of b.result.output)(C.type==="reasoning"||C.type==="message")&&C.content&&(p+=C.content)}}catch{}return p}async function Kse(e,t,n,r,i,o,s,l){if(i&&o)return Gse(e,t,n,o,s);if(i){const{apiBase:p,apiKey:m}=Be.localAgent,v=`${p}/chat/completions`,x=await fetch(v,{method:"POST",signal:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({model:fL(e),max_tokens:2048,messages:[{role:"system",content:t},{role:"user",content:n}]})});if(!x.ok){const b=await x.text();throw new Error(`Local API error: ${x.status} ${b}`)}return(await x.json()).choices?.[0]?.message?.content??""}const u=r?.anthropic?.trim()||"",d=r?.openai?.trim()||"",f=r?.deepseek?.trim()||"";if(e.startsWith("claude")){if(!u)throw new Error("API key required for Anthropic. Add your key in Agent Uplink.");const p=/claude-(opus-4|sonnet-4|haiku-4|3-7-sonnet)/.test(e);if(o)return Vse(u,e,t,n,o,s,p);const m=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",signal:s,headers:{"Content-Type":"application/json","x-api-key":u,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:e,max_tokens:2048,system:t,messages:[{role:"user",content:n}]})});if(!m.ok){const w=await m.text();throw new Error(`Anthropic API error: ${m.status} ${w}`)}return(await m.json()).content?.find(w=>w.type==="text")?.text??""}if(e.startsWith("gpt")||e.startsWith("o1")){if(!d)throw new Error("API key required for OpenAI. Add your key in Agent Uplink.");if(o)return Use(d,e,t,n,o,s);const p={model:e,max_tokens:2048,messages:[{role:"system",content:t},{role:"user",content:n}]};e.startsWith("o1")&&(p.reasoning_effort="medium");const m=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",signal:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify(p)});if(!m.ok){const w=await m.text();throw new Error(`OpenAI API error: ${m.status} ${w}`)}return(await m.json()).choices?.[0]?.message?.content??""}if(e.startsWith("deepseek")){if(!f)throw new Error("API key required for DeepSeek. Add your key in Agent Uplink.");if(o)return Hse(f,e,t,n,o,s,l??0);const m=Math.min(16384*(1<<Math.min(l??0,2)),65536),v=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",signal:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({model:e,max_tokens:m,messages:[{role:"system",content:t},{role:"user",content:n}]})});if(!v.ok){const C=await v.text();throw new Error(`DeepSeek API error: ${v.status} ${C}`)}return(await v.json()).choices?.[0]?.message?.content??""}throw new Error(`Unknown model: ${e}`)}async function xy(e){return tD(e)}async function qse(e,t,n){const{model:r,maxRetries:i=3,onProgress:o,onProposal:s,apiKeys:l,localMode:u,onThinking:d,onThinkingClear:f,signal:p,session:m,useRouter:v=!0}=n,x=Be.agentRmsThresholdUm,w=Nse(t);if(w===null){const _=e.traceResult??await xy({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays});return{success:!0,surfaces:e.surfaces,transaction:{surfaceDeltas:[]},traceResult:_}}const b=w;let C=v?Dse(b,r):r;C!==r&&!u&&l&&!Lse(C,l)&&(C=r),m&&Ase(m,b.slice(0,120));const k={surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays,focusMode:e.focusMode,m2Factor:e.m2Factor};let E=[...e.surfaces],N=null,D=null,O="";for(let _=0;_<i;_++){f?.(),o?.(_===0?"Thinking...":`Retrying (${_+1}/${i})...`);const T=N?{...e.traceResult,...N}:e.traceResult,V={entrancePupilDiameter:k.entrancePupilDiameter,wavelengths:k.wavelengths,fieldAngles:k.fieldAngles,numRays:k.numRays,focusMode:k.focusMode,m2Factor:k.m2Factor};let Y;if(m){const{delta:G,isHandshake:ne}=Cse(m,E,T,V);Y=Fse(G,ne,m.episodic)}else Y=cL({...k,surfaces:E},T);const K=O==="Could not parse valid transaction from LLM response",B=_>0&&O?K?'\n\nYour previous response was not valid JSON. Return ONLY a raw JSON object with "surfaceDeltas" (array) and optional "reasoning". No markdown, no ```json``` blocks, no text before or after. Example: {"surfaceDeltas":[{"id":"...","radius":50}],"reasoning":"..."}':`

Previous attempt failed: ${O}. Propose a different transaction to fix this.`:"";m&&_>0&&yy(m,{failedIterations:[K?"Parse error (invalid JSON)":O]});let U;try{U=await Kse(C,Y,b+B,l,u,d,p,_)}catch(G){const ne=G instanceof Error&&G.name==="AbortError",te=G instanceof Error?G.message:String(G),L=!ne&&u&&zse(G);return{success:!1,error:ne?"Stopped by user":te,lastTransaction:D??void 0,localUnreachable:L,aborted:ne}}const oe=$se(U,E,u?{model:C,promptPreview:b,saveThoughts:!0}:void 0);if(!oe){O="Could not parse valid transaction from LLM response";continue}if(oe.physicsViolation){O=[oe.reason,oe.suggestedAlternative].filter(Boolean).join(". ")||"Agent flagged PHYSICS_VIOLATION",D=oe;continue}if(oe.surfaceDeltas.length===0){const G=N??await xy({...k,surfaces:E});return m&&(ZN(m,E,G),yy(m,{constraintsMet:["No changes needed"]})),{success:!0,surfaces:E,transaction:oe,traceResult:G}}D=oe;const we=Bse(E,oe);if(!we.valid){O=we.error??"Validation failed";continue}o?.("Applying changes..."),E=dL(E,oe),s?.(E),o?.("Validating with ray trace...");try{N=await xy({...k,surfaces:E})}catch(G){O=G instanceof Error?G.message:String(G);continue}const Q=N?.performance?.rmsSpotRadius!=null?N.performance.rmsSpotRadius*1e3:0;if(Q<=x)return m&&(ZN(m,E,N),yy(m,{constraintsMet:[`RMS ${Q.toFixed(1)} m within threshold`]})),{success:!0,surfaces:E,transaction:oe,traceResult:N};O=`Design failed: RMS spot radius ${Q.toFixed(1)} m exceeds threshold ${x} m. Try aspheric on Surface 2, different glass, or adjust curvature.`}return{success:!1,error:O||"Agent did not converge",lastTransaction:D??void 0}}const Y0="photonleap_agent_keys",pL="photonleap_agent_local_mode",hL="photonleap_agent_local_models",kp={openai:"",anthropic:"",deepseek:""};function eO(){try{const e=localStorage.getItem(Y0);if(!e)return kp;const t=JSON.parse(e);return{openai:t.openai??"",anthropic:t.anthropic??"",deepseek:t.deepseek??""}}catch{return kp}}function tO(){try{return localStorage.getItem(pL)==="true"}catch{return!1}}function nO(){try{const e=localStorage.getItem(hL);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.filter(n=>typeof n=="string"&&n.trim().length>0):[]}catch{return[]}}const mL=P.createContext(null);function Yse({children:e}){const[t,n]=P.useState(eO),[r,i]=P.useState(tO),[o,s]=P.useState(nO);P.useEffect(()=>{n(eO()),i(tO()),s(nO())},[]);const l=P.useCallback(v=>{n(v);try{localStorage.setItem(Y0,JSON.stringify(v))}catch{}},[]),u=P.useCallback(()=>{try{localStorage.removeItem(Y0)}catch{}n({openai:"",anthropic:"",deepseek:""})},[]),d=P.useCallback(v=>t[v]||"",[t]),f=P.useCallback(v=>{i(v);try{localStorage.setItem(pL,String(v))}catch{}},[]),p=P.useCallback(v=>{const x=v.map(w=>w.trim()).filter(Boolean);s(x);try{localStorage.setItem(hL,JSON.stringify(x))}catch{}},[]),m=P.useMemo(()=>({keys:t,setKeys:l,clearAllKeys:u,getKey:d,localMode:r,setLocalMode:f,localModels:o,setLocalModels:p}),[t,l,u,d,r,f,o,p]);return y.jsx(mL.Provider,{value:m,children:e})}function rO(e){return{openai:!!e.openai?.trim(),anthropic:!!e.anthropic?.trim(),deepseek:!!e.deepseek?.trim()}}function Xse(){const e=P.useContext(mL);if(!e)return{keys:kp,hasKeys:rO(kp),setKeys:()=>{},clearAllKeys:()=>{},getKey:n=>"",localMode:!1,setLocalMode:()=>{},localModels:[],setLocalModels:()=>{}};const t=P.useMemo(()=>rO(e.keys),[e.keys]);return{keys:e.keys,hasKeys:t,setKeys:e.setKeys,clearAllKeys:e.clearAllKeys,getKey:e.getKey,localMode:e.localMode,setLocalMode:e.setLocalMode,localModels:e.localModels,setLocalModels:e.setLocalModels}}const Zse=[{id:"openai",label:"OpenAI (GPT-4o / o1)",placeholder:"sk-...",dashboardUrl:"https://platform.openai.com/api-keys"},{id:"anthropic",label:"Anthropic (Claude 3.5 / Opus)",placeholder:"sk-ant-...",dashboardUrl:"https://console.anthropic.com/settings/keys"},{id:"deepseek",label:"DeepSeek",placeholder:"sk-...",dashboardUrl:"https://platform.deepseek.com/api_keys"}];function Qse({open:e,onClose:t,initialKeys:n={},onSyncKeys:r,onClearAllKeys:i,requiredMessage:o,localMode:s=!1,onLocalModeChange:l,localModels:u=[],onLocalModelsChange:d}){const[f,p]=P.useState({openai:n.openai??"",anthropic:n.anthropic??"",deepseek:n.deepseek??""}),[m,v]=P.useState(""),[x,w]=P.useState({openai:!0,anthropic:!0,deepseek:!0}),[b,C]=P.useState(!1);P.useEffect(()=>{e&&p({openai:n.openai??"",anthropic:n.anthropic??"",deepseek:n.deepseek??""})},[e,n.openai,n.anthropic,n.deepseek]);const k=P.useCallback((O,_)=>{p(T=>({...T,[O]:_}))},[]),E=P.useCallback(O=>{w(_=>({..._,[O]:!_[O]}))},[]),N=P.useCallback(async()=>{C(!0),await new Promise(O=>setTimeout(O,600)),r?.(f),C(!1),t()},[f,r,t]),D=P.useCallback(()=>{p({openai:"",anthropic:"",deepseek:""}),i?.(),t()},[i,t]);return e?y.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t,"aria-hidden":!0}),y.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-white/20 bg-white/5 shadow-2xl",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 50%, rgba(34,211,238,0.03) 100%)",boxShadow:"0 0 40px rgba(34, 211, 238, 0.08), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[y.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl overflow-hidden opacity-[0.03]",style:{background:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.3) 2px, rgba(0,0,0,0.3) 4px)"}}),y.jsxs("div",{className:"relative p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h2",{className:"text-xl font-bold tracking-widest uppercase text-cyan-electric",style:{fontFamily:"'Orbitron', 'Rajdhani', monospace"},children:"Agent Uplink"}),y.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-colors","aria-label":"Close",children:y.jsx(vc,{className:"w-5 h-5"})})]}),o&&y.jsx("p",{className:"text-amber-400/90 text-sm mb-4 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/30",children:o}),l&&y.jsxs("div",{className:"flex items-center justify-between mb-6 p-3 rounded-xl border border-white/10 bg-black/20",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(P3,{className:"w-4 h-4 text-cyan-electric"}),y.jsx("span",{className:"text-sm font-medium text-slate-200",children:"Local Mode"}),y.jsx("span",{className:"text-xs text-slate-500",children:"(LM Studio @ localhost:1234)"})]}),y.jsx("button",{type:"button",role:"switch","aria-checked":s,onClick:()=>l(!s),className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-electric/50 focus:ring-offset-2 focus:ring-offset-slate-900 ${s?"bg-cyan-electric":"bg-slate-600"}`,children:y.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition ${s?"translate-x-5":"translate-x-0.5"}`})})]}),s&&d&&y.jsxs("div",{className:"mb-6 p-4 rounded-xl border border-cyan-electric/30 bg-black/20",children:[y.jsx("p",{className:"text-cyan-electric/90 text-sm font-medium mb-2",children:"Local Models"}),y.jsx("p",{className:"text-slate-400 text-xs mb-3",children:"Enter the exact model name(s) from LM Studio (e.g. deepseek-r1-distill-qwen-32b-mlx). These are sent to localhost only."}),y.jsxs("div",{className:"flex gap-2 mb-3",children:[y.jsx("input",{type:"text",value:m,onChange:O=>v(O.target.value),onKeyDown:O=>{if(O.key==="Enter"){O.preventDefault();const _=m.trim();_&&!u.includes(_)&&(d([...u,_]),v(""))}},placeholder:"e.g. deepseek-r1-distill-qwen-32b-mlx",className:"flex-1 px-3 py-2 rounded-lg bg-black/30 border border-white/10 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-electric/50 font-mono text-sm"}),y.jsxs("button",{type:"button",onClick:()=>{const O=m.trim();O&&!u.includes(O)&&(d([...u,O]),v(""))},className:"px-3 py-2 rounded-lg bg-cyan-electric/20 text-cyan-electric border border-cyan-electric/40 hover:bg-cyan-electric/30 transition-colors flex items-center gap-1",children:[y.jsx(Os,{className:"w-4 h-4"}),"Add"]})]}),u.length>0?y.jsx("ul",{className:"space-y-2",children:u.map(O=>y.jsxs("li",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-black/30 border border-white/10",children:[y.jsx("span",{className:"text-slate-200 font-mono text-sm truncate",children:O}),y.jsx("button",{type:"button",onClick:()=>d(u.filter(_=>_!==O)),className:"p-1.5 rounded text-slate-400 hover:text-amber-400 hover:bg-amber-500/10 transition-colors","aria-label":`Remove ${O}`,children:y.jsx(T3,{className:"w-4 h-4"})})]},O))}):y.jsx("p",{className:"text-slate-500 text-xs italic",children:"No models added yet. Add at least one to use Local Mode."})]}),y.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Configure API keys for LeapOS agents. Keys are stored locally and never sent except to the respective provider."}),y.jsx("div",{className:"space-y-4",children:Zse.map(({id:O,label:_,placeholder:T,dashboardUrl:V})=>y.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 bg-black/20",children:[y.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${f[O]?.trim()?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.8)]":"bg-slate-500"}`}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:_}),y.jsxs("div",{className:"relative flex items-center gap-2",children:[y.jsx("input",{type:x[O]?"password":"text",value:f[O],onChange:Y=>k(O,Y.target.value),placeholder:T,className:"w-full px-3 py-2 rounded-lg bg-black/30 border border-white/10 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-electric/50 focus:ring-1 focus:ring-cyan-electric/30 font-mono text-sm"}),y.jsx("button",{type:"button",onClick:()=>E(O),className:"p-2 rounded-lg text-slate-400 hover:text-cyan-electric transition-colors shrink-0","aria-label":x[O]?"Show key":"Hide key",children:x[O]?y.jsx(A3,{className:"w-4 h-4"}):y.jsx(C3,{className:"w-4 h-4"})}),y.jsx("a",{href:V,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg text-slate-400 hover:text-cyan-electric transition-colors shrink-0","aria-label":`Open ${_} dashboard`,children:y.jsx(j3,{className:"w-4 h-4"})})]})]})]},O))}),y.jsxs("button",{type:"button",onClick:N,disabled:b,className:"mt-6 w-full py-3 rounded-xl font-semibold tracking-wider uppercase text-cyan-electric border border-cyan-electric/50 bg-cyan-electric/10 hover:bg-cyan-electric/20 disabled:opacity-50 transition-all relative overflow-hidden uplink-sync-btn",style:{fontFamily:"'Orbitron', 'Rajdhani', monospace"},children:[y.jsx("div",{className:"absolute inset-0 pointer-events-none uplink-scanline","aria-hidden":!0}),y.jsx("span",{className:"relative",children:b?"Syncing...":"Sync Keys"})]}),i&&y.jsxs("button",{type:"button",onClick:D,className:"mt-3 w-full py-2 rounded-xl font-medium text-sm text-slate-400 hover:text-amber-400 hover:bg-amber-500/10 border border-transparent hover:border-amber-500/30 transition-all flex items-center justify-center gap-2",style:{fontFamily:"'Orbitron', 'Rajdhani', monospace"},children:[y.jsx(xf,{className:"w-4 h-4"}),"Clear All Keys"]})]})]}),y.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap');
        .uplink-scanline {
          background: repeating-linear-gradient(
            0deg,
            transparent 0px,
            transparent 3px,
            rgba(34, 211, 238, 0.08) 3px,
            rgba(34, 211, 238, 0.08) 4px
          );
          animation: uplink-scanline 2s linear infinite;
          opacity: 0.8;
        }
        .uplink-sync-btn:hover .uplink-scanline,
        .uplink-sync-btn:focus .uplink-scanline {
          animation-duration: 1s;
          opacity: 1;
        }
        @keyframes uplink-scanline {
          0% { transform: translateY(-100%); }
          100% { transform: translateY(100%); }
        }
      `})]}):null}const by=[{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",provider:"anthropic",role:"physicist",description:"Master Consultant  highest reasoning ceiling"},{id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",provider:"anthropic",role:"physicist",description:"The Physicist  Goldilocks for coding/math"},{id:"gpt-4o",name:"GPT-4o",provider:"openai",role:"visionary",description:"The Visionary  multimodal, vision-to-physics"},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"openai",description:"Lightweight"},{id:"o1-2024-12-17",name:"OpenAI o1",provider:"openai",role:"optimizer",description:"The Optimizer  chain-of-thought reasoning"},{id:"deepseek-chat",name:"DeepSeek Chat",provider:"deepseek",description:"DeepSeek"},{id:"deepseek-reasoner",name:"DeepSeek Reasoner",provider:"deepseek",role:"optimizer",description:"Reasoning-heavy for quantum"}];function Jse(e,t){if(e.startsWith("claude"))return t.anthropic?.trim()||void 0;if(e.startsWith("gpt")||e.startsWith("o1"))return t.openai?.trim()||void 0;if(e.startsWith("deepseek"))return t.deepseek?.trim()||void 0}function ele({systemState:e,onSystemStateChange:t,recentSemanticDeltas:n=[],onClearSemanticDeltas:r}){const{keys:i,setKeys:o,clearAllKeys:s,localMode:l,setLocalMode:u,localModels:d,setLocalModels:f}=Xse(),[p,m]=P.useState(!1),[v,x]=P.useState(null),[w,b]=P.useState(""),[C,k]=P.useState("claude-3-5-sonnet-20241022"),[E,N]=P.useState(""),[D,O]=P.useState(!1),[_,T]=P.useState(null),[V,Y]=P.useState(null),[K,B]=P.useState(null),[U,ue]=P.useState(null),[oe,we]=P.useState(""),[Q,G]=P.useState(!1),[ne,te]=P.useState(!1),[L,W]=P.useState([]),[ie,se]=P.useState(-1),de=P.useRef(""),X=P.useRef(null),$=P.useRef(null),ee=P.useRef(null),R=P.useRef(Sse()),re=50;P.useEffect(()=>{const ye=it=>{X.current&&!X.current.contains(it.target)&&G(!1)};return Q&&document.addEventListener("click",ye),()=>document.removeEventListener("click",ye)},[Q]),P.useEffect(()=>{$.current?.scrollTo({top:$.current.scrollHeight,behavior:"smooth"})},[oe]),P.useEffect(()=>{l&&N(ye=>d.length===0?"":!ye||!d.includes(ye)?d[0]:ye)},[l,d]);const fe={surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays,focusMode:e.focusMode,m2Factor:e.m2Factor},I=cL(fe,e.traceResult),Ce=Jse(C,i),be=l?d.length>0:!!Ce,Ye=l?E:C,ze=P.useCallback(async()=>{const ye=w.trim();if(!ye)return;if(!be){if(l)x("Local Mode: Add at least one model name in Agent Uplink (Manage keys) to proceed.");else{const Me=by.find(He=>He.id===C)?.name??C;x(`Neural Link Required: Please provide an API key for ${Me} to proceed.`)}m(!0);return}if(l&&!E){x("Local Mode: Select a model from the dropdown, or add models in Agent Uplink."),m(!0);return}T("Thinking..."),Y(null),B(null),ue(null),we(""),te(!1),b(""),de.current="",se(-1),W(Me=>[ye,...Me.filter(Ke=>Ke!==ye)].slice(0,re));const it=new AbortController;ee.current=it;const On=n.length>0?`[Recent edits: ${n.map(Me=>Me.physicalImplication).join("; ")}]

${ye}`:ye,ge=await qse(e,On,{model:Ye,maxRetries:3,onProgress:T,apiKeys:i.openai||i.anthropic||i.deepseek?i:void 0,onProposal:Me=>{t(He=>({...He,ghostSurfaces:Me}))},localMode:l,onThinking:Me=>we(He=>He+Me),onThinkingClear:()=>we(""),signal:it.signal,session:R.current,useRouter:!l});if(ee.current=null,T(null),ge.success){r?.(),Y("success"),B(ge.transaction.reasoning??null);const Me=ge.traceResult;t(He=>({...He,surfaces:ge.surfaces,ghostSurfaces:null,traceResult:Me?{rays:Me.rays??He.traceResult?.rays??[],surfaces:Me.surfaces??He.traceResult?.surfaces??[],focusZ:Me.focusZ??He.traceResult?.focusZ??0,bestFocusZ:Me.bestFocusZ??He.traceResult?.bestFocusZ,zOrigin:Me.zOrigin??He.traceResult?.zOrigin,performance:Me.performance??He.traceResult?.performance,metricsSweep:Me.metricsSweep??He.traceResult?.metricsSweep,gaussianBeam:Me.gaussianBeam??He.traceResult?.gaussianBeam}:He.traceResult,hasTraced:!0,traceError:null,...Me?.performance?{rmsSpotRadius:Me.performance.rmsSpotRadius,totalLength:Me.performance.totalLength,fNumber:Me.performance.fNumber}:{}}))}else Y("error"),ue(ge.aborted?"Stopped by user":ge.error),ge.localUnreachable&&te(!0),t(Me=>({...Me,ghostSurfaces:null}))},[w,C,E,Ye,be,e,t,i,l,n,r]),rt=P.useCallback(()=>{ee.current?.abort()},[]);return y.jsxs("div",{className:"h-full flex flex-col bg-slate-900/50 rounded-lg border border-white/10 overflow-hidden",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg",children:"LeapOS Command Deck"}),y.jsx("p",{className:"text-slate-400 text-sm mt-0.5",children:"Describe your optical design intent. The agent will propose surface changes and validate via ray trace."})]}),y.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-slate-400 text-xs font-medium mb-1.5",children:"Model"}),y.jsx("div",{className:"relative",ref:X,children:l?y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",onClick:()=>d.length>0&&G(ye=>!ye),disabled:d.length===0,className:"w-full flex items-center justify-between gap-2 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-slate-200 text-sm hover:border-cyan-electric/30 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:[y.jsx("span",{className:"font-mono truncate",children:E||(d.length===0?"Add models in Uplink":"Select local model")}),y.jsx(As,{className:`w-4 h-4 shrink-0 transition-transform ${Q?"rotate-180":""}`})]}),Q&&d.length>0&&y.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 py-1 bg-slate-800 border border-white/10 rounded-lg shadow-xl z-10 max-h-48 overflow-y-auto",children:d.map(ye=>y.jsx("button",{type:"button",onClick:()=>{N(ye),G(!1)},className:`w-full px-3 py-2 text-left text-sm font-mono hover:bg-white/5 transition-colors ${E===ye?"text-cyan-electric bg-white/5":"text-slate-300"}`,children:ye},ye))})]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",onClick:()=>G(ye=>!ye),className:"w-full flex items-center justify-between gap-2 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-slate-200 text-sm hover:border-cyan-electric/30 transition-colors",children:[y.jsx("span",{children:by.find(ye=>ye.id===C)?.name??C}),y.jsx(As,{className:`w-4 h-4 transition-transform ${Q?"rotate-180":""}`})]}),Q&&y.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 py-1 bg-slate-800 border border-white/10 rounded-lg shadow-xl z-10",children:by.map(ye=>y.jsxs("button",{type:"button",onClick:()=>{k(ye.id),G(!1)},className:`w-full px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors ${C===ye.id?"text-cyan-electric bg-white/5":"text-slate-300"}`,children:[y.jsx("span",{className:"font-medium",children:ye.name}),ye.role&&y.jsxs("span",{className:"text-cyan-electric/70 text-xs ml-2",children:["[",ye.role,"]"]}),y.jsx("span",{className:"text-slate-500 text-xs ml-2 block mt-0.5",children:ye.description})]},ye.id))})]})}),l&&y.jsx("p",{className:"text-cyan-electric/80 text-xs mt-1.5",children:"Local Mode  LM Studio @ localhost:1234"}),!be&&!l&&y.jsxs("p",{className:"text-amber-500/90 text-xs mt-1.5 flex items-center gap-2",children:[y.jsxs("button",{type:"button",onClick:()=>{x(null),m(!0)},className:"inline-flex items-center gap-1 text-cyan-electric hover:underline",children:[y.jsx(mP,{className:"w-3.5 h-3.5"}),"Configure Uplink"]}),"to add an API key"]}),(be||l)&&y.jsxs("button",{type:"button",onClick:()=>{x(null),m(!0)},className:"text-slate-500 hover:text-cyan-electric text-xs mt-1 flex items-center gap-1",children:[y.jsx(mP,{className:"w-3 h-3"}),l?"Manage keys & models":"Manage keys"]})]}),y.jsx(Qse,{open:p,onClose:()=>{m(!1),x(null)},initialKeys:i,onSyncKeys:ye=>o(ye),onClearAllKeys:s,requiredMessage:v??void 0,localMode:l,onLocalModeChange:u,localModels:d,onLocalModelsChange:f}),ne&&l&&y.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30 flex flex-col gap-2",children:[y.jsx("p",{className:"text-amber-400/90 text-sm font-medium",children:"Local Node Offline"}),y.jsx("p",{className:"text-slate-400 text-xs",children:"Unable to reach LM Studio at localhost:1234. If LM Studio is running, enable CORS in its Developer tab (Server Settings  Enable CORS). Otherwise switch back to Cloud API?"}),y.jsx("button",{type:"button",onClick:()=>{u(!1),te(!1),ue(null)},className:"self-start px-3 py-1.5 text-sm font-medium text-cyan-electric hover:bg-cyan-electric/10 rounded-lg transition-colors",children:"Switch to Cloud API"})]}),L.length>0&&y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-slate-500/80 text-[10px] font-medium uppercase tracking-wider",children:"Recent commands"}),y.jsx("div",{className:"space-y-0.5 max-h-20 overflow-y-auto",children:L.slice(0,5).map((ye,it)=>y.jsxs("div",{className:"px-2.5 py-1.5 rounded-md bg-slate-800/40 border border-white/[0.04] text-slate-500 text-[11px] font-mono leading-relaxed truncate",title:ye,children:[y.jsx("span",{className:"text-slate-600 mr-1.5",children:""}),ye.length>80?`${ye.slice(0,80)}`:ye]},`${it}-${ye.slice(0,20)}`))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-slate-400 text-xs font-medium mb-1.5",children:"Command"}),y.jsx("textarea",{value:w,onChange:ye=>{b(ye.target.value),ie>=0&&se(-1)},onKeyDown:ye=>{if(ye.key==="Enter"&&!ye.shiftKey){ye.preventDefault(),w.trim()&&ze();return}if(ye.key==="ArrowUp"){if(ye.preventDefault(),L.length===0)return;ie===-1&&(de.current=w);const it=Math.min(ie+1,L.length-1);se(it),b(L[it]);return}if(ye.key==="ArrowDown"){if(ye.preventDefault(),ie<=-1)return;const it=ie-1;se(it),b(it>=0?L[it]:de.current)}},placeholder:"e.g. Design a beam expander for 532nm laser, 50mm tube length",rows:4,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-slate-200 text-sm font-mono placeholder-slate-500 focus:outline-none focus:border-cyan-electric/50 focus:shadow-[0_0_8px_rgba(34,211,238,0.25)] resize-none"}),L.length>0&&y.jsx("p",{className:"text-slate-600/80 text-[10px] mt-1",children:" browse history"})]}),y.jsxs("div",{children:[y.jsxs("button",{type:"button",onClick:()=>O(ye=>!ye),className:"flex items-center gap-2 text-slate-400 text-xs font-medium hover:text-cyan-electric/80 transition-colors",children:[D?y.jsx(As,{className:"w-3.5 h-3.5"}):y.jsx(Sy,{className:"w-3.5 h-3.5"}),"System context (optical_stack + traceResult)"]}),D&&y.jsx("pre",{className:"mt-2 p-3 bg-black/30 border border-white/10 rounded-lg text-xs text-slate-400 font-mono overflow-auto max-h-48",children:I})]}),oe&&y.jsxs("div",{className:"p-2.5 rounded-lg bg-slate-800/50 border border-white/[0.06]",children:[y.jsx("p",{className:"text-slate-500/90 text-[10px] font-medium uppercase tracking-wider mb-1",children:"Thinking"}),y.jsx("div",{ref:$,className:"text-slate-500/90 text-[11px] leading-relaxed whitespace-pre-wrap font-mono max-h-36 overflow-y-auto",children:oe})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{type:"button",onClick:ze,disabled:!w.trim()||!!_,className:"flex items-center gap-2 px-4 py-2 bg-cyan-electric/20 text-cyan-electric rounded-lg font-medium text-sm hover:bg-cyan-electric/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:_?y.jsxs(y.Fragment,{children:[y.jsx(ks,{className:"w-4 h-4 animate-spin"}),_]}):y.jsxs(y.Fragment,{children:[y.jsx(B3,{className:"w-4 h-4"}),"Send"]})}),_&&y.jsxs("button",{type:"button",onClick:rt,className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 text-amber-400 rounded-lg font-medium text-sm hover:bg-amber-500/30 transition-colors",children:[y.jsx(V3,{className:"w-4 h-4 fill-current"}),"Stop"]}),V==="success"&&y.jsxs("span",{className:"flex items-center gap-1.5 text-emerald-400 text-sm",children:[y.jsx(b3,{className:"w-4 h-4"}),"Design applied"]}),V==="error"&&y.jsxs("span",{className:"flex items-center gap-1.5 text-amber-500 text-sm",children:[y.jsx(w3,{className:"w-4 h-4"}),"Failed"]})]}),V==="success"&&K&&y.jsxs("div",{className:"p-3 rounded-lg bg-emerald-500/5 border border-emerald-500/20",children:[y.jsx("p",{className:"text-emerald-400/90 text-xs font-medium mb-1.5",children:"Agent explanation"}),y.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:K})]}),U&&y.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:y.jsx("p",{className:"text-amber-500/90 text-sm font-mono",children:U})})]})]})}const gL="last_design";function tle(e,t){const n=Number(e.refractiveIndex??e.n??1)||1,r=Be.surfaceDefaults;return{id:typeof e.id=="string"&&e.id?e.id:crypto.randomUUID(),semanticName:typeof e.semanticName=="string"?e.semanticName:void 0,aiContext:typeof e.aiContext=="string"?e.aiContext:void 0,type:e.type==="Glass"||e.type==="Air"?e.type:n>1.01?"Glass":"Air",radius:Number(e.radius)||0,thickness:Number(e.thickness)||r.thickness,refractiveIndex:n,diameter:Number(e.diameter)||r.diameter,material:String(e.material??"Air"),description:String(e.description??""),radiusTolerance:e.radiusTolerance!=null?Number(e.radiusTolerance):void 0,thicknessTolerance:e.thicknessTolerance!=null?Number(e.thicknessTolerance):void 0,tiltTolerance:e.tiltTolerance!=null?Number(e.tiltTolerance):void 0,absorptionCoefficient:e.absorptionCoefficient!=null?Number(e.absorptionCoefficient):void 0,surfaceQuality:e.surfaceQuality!=null?String(e.surfaceQuality):void 0,coating:e.coating!=null?String(e.coating):void 0}}function nle(){try{const e=localStorage.getItem(gL);if(!e)return null;const t=JSON.parse(e);if(!t||!Array.isArray(t.surfaces))return null;const r=t.surfaces.filter(o=>typeof o=="object"&&o!==null).map((o,s)=>tle(o,s)),i={...hc,surfaces:r,entrancePupilDiameter:Number(t.entrancePupilDiameter)||Be.defaults.entrancePupilDiameter,wavelengths:Array.isArray(t.wavelengths)?t.wavelengths.map(Number):hc.wavelengths,fieldAngles:Array.isArray(t.fieldAngles)?t.fieldAngles.map(Number).slice(0,Be.maxFieldAngles):hc.fieldAngles,numRays:Number(t.numRays)||9,focusMode:t.focusMode==="Balanced"?"Balanced":"On-Axis",m2Factor:Math.max(.1,Math.min(10,Number(t.m2Factor)||1)),pulseWidthFs:Math.max(5,Math.min(1e4,Number(t.pulseWidthFs)||100)),laserPowerW:t.laserPowerW!=null?Number(t.laserPowerW):void 0,projectName:typeof t.projectName=="string"?t.projectName:void 0,hasTraced:!1,traceResult:null,traceError:null};return{...i,...Lf(i)}}catch{return null}}const wy=["[ SYSTEM ] Initializing WebAssembly Runtime...","[ CORE ] Downloading Optical Physics Libraries (NumPy)...","[ NEURAL ] Establishing Local Memory Bridge...","[ READY ] Photon Leap V3.0 Active."];function rle({onReady:e}){const[t,n]=P.useState(0),[r,i]=P.useState(0),[o,s]=P.useState(!1),l=P.useRef();return P.useEffect(()=>{let u=!1,d;return e4().then(()=>{u||(n(wy.length-1),i(100),s(!0),d=setTimeout(e,800))}),()=>{u=!0,clearTimeout(d)}},[e]),P.useEffect(()=>{if(o)return;const u=setInterval(()=>{n(d=>Math.min(d+1,wy.length-2))},2200);return()=>clearInterval(u)},[o]),P.useEffect(()=>{if(o)return;const u=performance.now(),d=()=>{const f=performance.now()-u,p=Math.min(92,f/12e3*92);i(p),p<92&&(l.current=requestAnimationFrame(d))};return l.current=requestAnimationFrame(d),()=>{l.current&&cancelAnimationFrame(l.current)}},[o]),y.jsx("div",{className:"fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center",children:y.jsxs("div",{className:"w-full max-w-md px-8",children:[y.jsx("p",{className:"font-mono text-sm text-cyan-400 mb-6 tracking-widest min-h-[2.5rem]",style:{textShadow:"0 0 12px rgba(34, 211, 238, 0.6)"},children:wy[t]}),y.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full rounded-full transition-all duration-300 ease-out",style:{width:`${r}%`,background:"linear-gradient(90deg, #0891b2 0%, #22d3ee 50%, #67e8f9 100%)",boxShadow:"0 0 20px rgba(34, 211, 238, 0.8), 0 0 40px rgba(34, 211, 238, 0.4)"}})})]})})}function ile(){const[e,t]=P.useState("agent"),[n,r]=P.useState(null),[i,o]=P.useState(null),[s,l]=P.useState(null),[u,d]=P.useState(!0),[f,p]=P.useState(!0),[m,v]=P.useState(!0),x=P.useRef(null),w=P.useRef(null),[b,C]=P.useState(null),[k,E]=P.useState([]),[N,D]=P.useState(()=>nle()??{...hc,...Lf(hc)}),[O,_]=P.useState(()=>J3());P.useEffect(()=>{C(null)},[N.surfaces]),P.useEffect(()=>{const V={surfaces:N.surfaces,entrancePupilDiameter:N.entrancePupilDiameter,wavelengths:N.wavelengths,fieldAngles:N.fieldAngles,numRays:N.numRays,focusMode:N.focusMode??"On-Axis",m2Factor:N.m2Factor??1,pulseWidthFs:N.pulseWidthFs??100,laserPowerW:N.laserPowerW,projectName:N.projectName,totalLength:N.totalLength,fNumber:N.fNumber,rmsSpotRadius:N.rmsSpotRadius};localStorage.setItem(gL,JSON.stringify(V))},[N]);const T=P.useCallback(V=>{D(Y=>{const K=typeof V=="function"?V(Y):{...Y,...V},B={...K,fieldAngles:(K.fieldAngles??[0]).slice(0,Be.maxFieldAngles)},U=Lf(B);return{...B,...U}})},[]);return y.jsx(Yse,{children:y.jsxs("div",{className:"min-h-screen bg-midnight flex flex-col",children:[O&&y.jsx(rle,{onReady:()=>_(!1)}),y.jsx(q3,{activeTab:e,onTabChange:t,loadedFileName:n}),y.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[y.jsxs("main",{className:"flex-1 overflow-auto p-4",children:[e==="lens"&&y.jsx(jg,{systemState:N,onSystemStateChange:T,selectedSurfaceId:i,onSelectSurface:o,highlightedMetric:null,showBestFocus:u,snapToFocus:f,snapToSurface:m,onMonteCarloSensitivity:C}),e==="coating"&&y.jsx(vse,{}),y.jsxs("div",{className:"flex flex-1 min-h-0 gap-4",style:{display:e==="agent"?"flex":"none"},children:[y.jsx("div",{className:"w-96 shrink-0 overflow-y-auto",children:y.jsx(ele,{systemState:N,onSystemStateChange:T,recentSemanticDeltas:k,onClearSemanticDeltas:()=>E([])})}),y.jsx("div",{className:"flex-1 min-w-0 min-h-[400px]",children:y.jsx(jg,{systemState:N,onSystemStateChange:T,selectedSurfaceId:i,onSelectSurface:o,highlightedMetric:null,showBestFocus:u,snapToFocus:f,snapToSurface:m,onMonteCarloSensitivity:C})})]}),e==="system"&&y.jsx(q7,{systemState:N,onSystemStateChange:T,onLoadComplete:r,selectedSurfaceId:i,onSelectSurface:o,sensitivityBySurface:b,onSemanticDelta:V=>E(Y=>[...Y.slice(-4),V])}),e==="info"&&y.jsxs("div",{className:"flex flex-1 min-h-0 gap-4",children:[y.jsx("div",{className:"w-96 shrink-0 overflow-y-auto",children:y.jsx(eH,{highlightedMetric:s,onHighlightMetric:l,onSystemStateChange:T,onRunSampleAnalysis:()=>x.current?.(),onOpenOptimizer:()=>w.current?.()})}),y.jsx("div",{className:"flex-1 min-w-0 min-h-[400px]",children:y.jsx(jg,{systemState:N,onSystemStateChange:T,selectedSurfaceId:i,onSelectSurface:o,highlightedMetric:s,showPersistentHud:!0,showBestFocus:u,snapToFocus:f,snapToSurface:m,runSampleAnalysisRef:x,pulseOptimizeRef:w,onMonteCarloSensitivity:C})})]}),e==="properties"&&y.jsx("div",{className:"h-full flex items-center justify-center text-slate-400",children:"Properties view  use the right sidebar"}),e==="export"&&y.jsx(tH,{systemState:N,onSystemStateChange:T})]}),y.jsx("aside",{className:"w-80 shrink-0 overflow-auto",children:y.jsx(wse,{systemState:N,onSystemStateChange:T,selectedSurfaceId:i,onSelectSurface:o,showBestFocus:u,onShowBestFocusChange:d,snapToFocus:f,onSnapToFocusChange:p,snapToSurface:m,onSnapToSurfaceChange:v})})]})]})})}class ole extends P.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("App error:",t,n.componentStack)}render(){return this.state.hasError&&this.state.error?y.jsxs("div",{className:"min-h-screen bg-[#0B1120] text-slate-200 p-8 font-mono",children:[y.jsx("h1",{className:"text-xl font-bold text-red-400 mb-4",children:"Something went wrong"}),y.jsx("pre",{className:"text-sm overflow-auto bg-black/30 p-4 rounded-lg",children:this.state.error.toString()}),y.jsx("p",{className:"mt-4 text-slate-400 text-sm",children:"Check the browser console for more details."})]}):this.props.children}}h3.createRoot(document.getElementById("root")).render(y.jsx(P.StrictMode,{children:y.jsx(ole,{children:y.jsx(ile,{})})}));
