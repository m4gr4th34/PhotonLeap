function a3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Yi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ug={exports:{}},Wl={},dg={exports:{}},Xe={};var aP;function s3(){if(aP)return Xe;aP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(L){return L===null||typeof L!="object"?null:(L=p&&L[p]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function b(L,W,ie){this.props=L,this.context=W,this.refs=w,this.updater=ie||v}b.prototype.isReactComponent={},b.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},b.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=b.prototype;function k(L,W,ie){this.props=L,this.context=W,this.refs=w,this.updater=ie||v}var E=k.prototype=new C;E.constructor=k,x(E,b.prototype),E.isPureReactComponent=!0;var N=Array.isArray,T=Object.prototype.hasOwnProperty,O={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function D(L,W,ie){var ae,de={},X=null,B=null;if(W!=null)for(ae in W.ref!==void 0&&(B=W.ref),W.key!==void 0&&(X=""+W.key),W)T.call(W,ae)&&!_.hasOwnProperty(ae)&&(de[ae]=W[ae]);var te=arguments.length-2;if(te===1)de.children=ie;else if(1<te){for(var R=Array(te),re=0;re<te;re++)R[re]=arguments[re+2];de.children=R}if(L&&L.defaultProps)for(ae in te=L.defaultProps,te)de[ae]===void 0&&(de[ae]=te[ae]);return{$$typeof:e,type:L,key:X,ref:B,props:de,_owner:O.current}}function V(L,W){return{$$typeof:e,type:L.type,key:W,ref:L.ref,props:L.props,_owner:L._owner}}function q(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function G(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ie){return W[ie]})}var $=/\/+/g;function U(L,W){return typeof L=="object"&&L!==null&&L.key!=null?G(""+L.key):W.toString(36)}function ce(L,W,ie,ae,de){var X=typeof L;(X==="undefined"||X==="boolean")&&(L=null);var B=!1;if(L===null)B=!0;else switch(X){case"string":case"number":B=!0;break;case"object":switch(L.$$typeof){case e:case t:B=!0}}if(B)return B=L,de=de(B),L=ae===""?"."+U(B,0):ae,N(de)?(ie="",L!=null&&(ie=L.replace($,"$&/")+"/"),ce(de,W,ie,"",function(re){return re})):de!=null&&(q(de)&&(de=V(de,ie+(!de.key||B&&B.key===de.key?"":(""+de.key).replace($,"$&/")+"/")+L)),W.push(de)),1;if(B=0,ae=ae===""?".":ae+":",N(L))for(var te=0;te<L.length;te++){X=L[te];var R=ae+U(X,te);B+=ce(X,W,ie,R,de)}else if(R=m(L),typeof R=="function")for(L=R.call(L),te=0;!(X=L.next()).done;)X=X.value,R=ae+U(X,te++),B+=ce(X,W,ie,R,de);else if(X==="object")throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return B}function ue(L,W,ie){if(L==null)return L;var ae=[],de=0;return ce(L,ae,"","",function(X){return W.call(ie,X,de++)}),ae}function ge(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(ie){(L._status===0||L._status===-1)&&(L._status=1,L._result=ie)},function(ie){(L._status===0||L._status===-1)&&(L._status=2,L._result=ie)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var Q={current:null},Y={transition:null},ee={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:Y,ReactCurrentOwner:O};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:ue,forEach:function(L,W,ie){ue(L,function(){W.apply(this,arguments)},ie)},count:function(L){var W=0;return ue(L,function(){W++}),W},toArray:function(L){return ue(L,function(W){return W})||[]},only:function(L){if(!q(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Xe.Component=b,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=k,Xe.StrictMode=r,Xe.Suspense=u,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Xe.act=ne,Xe.cloneElement=function(L,W,ie){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ae=x({},L.props),de=L.key,X=L.ref,B=L._owner;if(W!=null){if(W.ref!==void 0&&(X=W.ref,B=O.current),W.key!==void 0&&(de=""+W.key),L.type&&L.type.defaultProps)var te=L.type.defaultProps;for(R in W)T.call(W,R)&&!_.hasOwnProperty(R)&&(ae[R]=W[R]===void 0&&te!==void 0?te[R]:W[R])}var R=arguments.length-2;if(R===1)ae.children=ie;else if(1<R){te=Array(R);for(var re=0;re<R;re++)te[re]=arguments[re+2];ae.children=te}return{$$typeof:e,type:L.type,key:de,ref:X,props:ae,_owner:B}},Xe.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:o,_context:L},L.Consumer=L},Xe.createElement=D,Xe.createFactory=function(L){var W=D.bind(null,L);return W.type=L,W},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(L){return{$$typeof:l,render:L}},Xe.isValidElement=q,Xe.lazy=function(L){return{$$typeof:f,_payload:{_status:-1,_result:L},_init:ge}},Xe.memo=function(L,W){return{$$typeof:d,type:L,compare:W===void 0?null:W}},Xe.startTransition=function(L){var W=Y.transition;Y.transition={};try{L()}finally{Y.transition=W}},Xe.unstable_act=ne,Xe.useCallback=function(L,W){return Q.current.useCallback(L,W)},Xe.useContext=function(L){return Q.current.useContext(L)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(L){return Q.current.useDeferredValue(L)},Xe.useEffect=function(L,W){return Q.current.useEffect(L,W)},Xe.useId=function(){return Q.current.useId()},Xe.useImperativeHandle=function(L,W,ie){return Q.current.useImperativeHandle(L,W,ie)},Xe.useInsertionEffect=function(L,W){return Q.current.useInsertionEffect(L,W)},Xe.useLayoutEffect=function(L,W){return Q.current.useLayoutEffect(L,W)},Xe.useMemo=function(L,W){return Q.current.useMemo(L,W)},Xe.useReducer=function(L,W,ie){return Q.current.useReducer(L,W,ie)},Xe.useRef=function(L){return Q.current.useRef(L)},Xe.useState=function(L){return Q.current.useState(L)},Xe.useSyncExternalStore=function(L,W,ie){return Q.current.useSyncExternalStore(L,W,ie)},Xe.useTransition=function(){return Q.current.useTransition()},Xe.version="18.3.1",Xe}var sP;function Vs(){return sP||(sP=1,dg.exports=s3()),dg.exports}var lP;function l3(){if(lP)return Wl;lP=1;var e=Vs(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,u,d){var f,p={},m=null,v=null;d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(v=u.ref);for(f in u)r.call(u,f)&&!o.hasOwnProperty(f)&&(p[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:t,type:l,key:m,ref:v,props:p,_owner:i.current}}return Wl.Fragment=n,Wl.jsx=s,Wl.jsxs=s,Wl}var cP;function c3(){return cP||(cP=1,ug.exports=l3()),ug.exports}var y=c3(),P=Vs();const ut=Yi(P),u3=a3({__proto__:null,default:ut},[P]);var Od={},fg={exports:{}},Vn={},pg={exports:{}},hg={};var uP;function d3(){return uP||(uP=1,(function(e){function t(Y,ee){var ne=Y.length;Y.push(ee);e:for(;0<ne;){var L=ne-1>>>1,W=Y[L];if(0<i(W,ee))Y[L]=ee,Y[ne]=W,ne=L;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ee=Y[0],ne=Y.pop();if(ne!==ee){Y[0]=ne;e:for(var L=0,W=Y.length,ie=W>>>1;L<ie;){var ae=2*(L+1)-1,de=Y[ae],X=ae+1,B=Y[X];if(0>i(de,ne))X<W&&0>i(B,de)?(Y[L]=B,Y[X]=ne,L=X):(Y[L]=de,Y[ae]=ne,L=ae);else if(X<W&&0>i(B,ne))Y[L]=B,Y[X]=ne,L=X;else break e}}return ee}function i(Y,ee){var ne=Y.sortIndex-ee.sortIndex;return ne!==0?ne:Y.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],d=[],f=1,p=null,m=3,v=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=Y)r(d),ee.sortIndex=ee.expirationTime,t(u,ee);else break;ee=n(d)}}function N(Y){if(w=!1,E(Y),!x)if(n(u)!==null)x=!0,ge(T);else{var ee=n(d);ee!==null&&Q(N,ee.startTime-Y)}}function T(Y,ee){x=!1,w&&(w=!1,C(D),D=-1),v=!0;var ne=m;try{for(E(ee),p=n(u);p!==null&&(!(p.expirationTime>ee)||Y&&!G());){var L=p.callback;if(typeof L=="function"){p.callback=null,m=p.priorityLevel;var W=L(p.expirationTime<=ee);ee=e.unstable_now(),typeof W=="function"?p.callback=W:p===n(u)&&r(u),E(ee)}else r(u);p=n(u)}if(p!==null)var ie=!0;else{var ae=n(d);ae!==null&&Q(N,ae.startTime-ee),ie=!1}return ie}finally{p=null,m=ne,v=!1}}var O=!1,_=null,D=-1,V=5,q=-1;function G(){return!(e.unstable_now()-q<V)}function $(){if(_!==null){var Y=e.unstable_now();q=Y;var ee=!0;try{ee=_(!0,Y)}finally{ee?U():(O=!1,_=null)}}else O=!1}var U;if(typeof k=="function")U=function(){k($)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ue=ce.port2;ce.port1.onmessage=$,U=function(){ue.postMessage(null)}}else U=function(){b($,0)};function ge(Y){_=Y,O||(O=!0,U())}function Q(Y,ee){D=b(function(){Y(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,ge(T))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(Y){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var ne=m;m=ee;try{return Y()}finally{m=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,ee){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=m;m=Y;try{return ee()}finally{m=ne}},e.unstable_scheduleCallback=function(Y,ee,ne){var L=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?L+ne:L):ne=L,Y){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ne+W,Y={id:f++,callback:ee,priorityLevel:Y,startTime:ne,expirationTime:W,sortIndex:-1},ne>L?(Y.sortIndex=ne,t(d,Y),n(u)===null&&Y===n(d)&&(w?(C(D),D=-1):w=!0,Q(N,ne-L))):(Y.sortIndex=W,t(u,Y),x||v||(x=!0,ge(T))),Y},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(Y){var ee=m;return function(){var ne=m;m=ee;try{return Y.apply(this,arguments)}finally{m=ne}}}})(hg)),hg}var dP;function f3(){return dP||(dP=1,pg.exports=d3()),pg.exports}var fP;function p3(){if(fP)return Vn;fP=1;var e=Vs(),t=f3();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,c){s(a,c),s(a+"Capture",c)}function s(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(a){return u.call(p,a)?!0:u.call(f,a)?!1:d.test(a)?p[a]=!0:(f[a]=!0,!1)}function v(a,c,h,g){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function x(a,c,h,g){if(c===null||typeof c>"u"||v(a,c,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(a,c,h,g,S,A,j){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=S,this.mustUseProperty=h,this.propertyName=a,this.type=c,this.sanitizeURL=A,this.removeEmptyString=j}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];b[c]=new w(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(C,k);b[c]=new w(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(C,k);b[c]=new w(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(C,k);b[c]=new w(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,c,h,g){var S=b.hasOwnProperty(c)?b[c]:null;(S!==null?S.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(x(c,h,S,g)&&(h=null),g||S===null?m(c)&&(h===null?a.removeAttribute(c):a.setAttribute(c,""+h)):S.mustUseProperty?a[S.propertyName]=h===null?S.type===3?!1:"":h:(c=S.attributeName,g=S.attributeNamespace,h===null?a.removeAttribute(c):(S=S.type,h=S===3||S===4&&h===!0?"":""+h,g?a.setAttributeNS(g,c,h):a.setAttribute(c,h))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),O=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),G=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ee(a){return a===null||typeof a!="object"?null:(a=Y&&a[Y]||a["@@iterator"],typeof a=="function"?a:null)}var ne=Object.assign,L;function W(a){if(L===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);L=c&&c[1]||""}return`
`+L+a}var ie=!1;function ae(a,c){if(!a||ie)return"";ie=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Z){var g=Z}Reflect.construct(a,[],c)}else{try{c.call()}catch(Z){g=Z}a.call(c.prototype)}else{try{throw Error()}catch(Z){g=Z}a()}}catch(Z){if(Z&&g&&typeof Z.stack=="string"){for(var S=Z.stack.split(`
`),A=g.stack.split(`
`),j=S.length-1,M=A.length-1;1<=j&&0<=M&&S[j]!==A[M];)M--;for(;1<=j&&0<=M;j--,M--)if(S[j]!==A[M]){if(j!==1||M!==1)do if(j--,M--,0>M||S[j]!==A[M]){var F=`
`+S[j].replace(" at new "," at ");return a.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",a.displayName)),F}while(1<=j&&0<=M);break}}}finally{ie=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?W(a):""}function de(a){switch(a.tag){case 5:return W(a.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return a=ae(a.type,!1),a;case 11:return a=ae(a.type.render,!1),a;case 1:return a=ae(a.type,!0),a;default:return""}}function X(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case O:return"Portal";case V:return"Profiler";case D:return"StrictMode";case U:return"Suspense";case ce:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case G:return(a.displayName||"Context")+".Consumer";case q:return(a._context.displayName||"Context")+".Provider";case $:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ue:return c=a.displayName||null,c!==null?c:X(a.type)||"Memo";case ge:c=a._payload,a=a._init;try{return X(a(c))}catch{}}return null}function B(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(c);case 8:return c===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function te(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function R(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function re(a){var c=R(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),g=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var S=h.get,A=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return S.call(this)},set:function(j){g=""+j,A.call(this,j)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(j){g=""+j},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function fe(a){a._valueTracker||(a._valueTracker=re(a))}function I(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return a&&(g=R(a)?a.checked?"true":"false":a.value),a=g,a!==h?(c.setValue(a),!0):!1}function Ce(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function we(a,c){var h=c.checked;return ne({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Ye(a,c){var h=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;h=te(c.value!=null?c.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ze(a,c){c=c.checked,c!=null&&E(a,"checked",c,!1)}function rt(a,c){ze(a,c);var h=te(c.value),g=c.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?it(a,c.type,h):c.hasOwnProperty("defaultValue")&&it(a,c.type,te(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function xe(a,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,h||c===a.value||(a.value=c),a.defaultValue=c}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function it(a,c,h){(c!=="number"||Ce(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var On=Array.isArray;function ve(a,c,h,g){if(a=a.options,c){c={};for(var S=0;S<h.length;S++)c["$"+h[S]]=!0;for(h=0;h<a.length;h++)S=c.hasOwnProperty("$"+a[h].value),a[h].selected!==S&&(a[h].selected=S),S&&g&&(a[h].defaultSelected=!0)}else{for(h=""+te(h),c=null,S=0;S<a.length;S++){if(a[S].value===h){a[S].selected=!0,g&&(a[S].defaultSelected=!0);return}c!==null||a[S].disabled||(c=a[S])}c!==null&&(c.selected=!0)}}function Me(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function He(a,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(On(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}a._wrapperState={initialValue:te(h)}}function Ke(a,c){var h=te(c.value),g=te(c.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),c.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function pt(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function at(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ln(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?at(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ot,jn=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,g,S){MSApp.execUnsafeLocalFunction(function(){return a(c,h,g,S)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Ot.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function pr(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uo=["Webkit","ms","Moz","O"];Object.keys(qn).forEach(function(a){Uo.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),qn[c]=qn[a]})});function Xr(a,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||qn.hasOwnProperty(a)&&qn[a]?(""+c).trim():c+"px"}function Yn(a,c){a=a.style;for(var h in c)if(c.hasOwnProperty(h)){var g=h.indexOf("--")===0,S=Xr(h,c[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,S):a[h]=S}}var xu=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(a,c){if(c){if(xu[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function La(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fa=null;function $a(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var st=null,wi=null,Si=null;function bu(a){if(a=El(a)){if(typeof st!="function")throw Error(n(280));var c=a.stateNode;c&&(c=Uu(c),st(a.stateNode,a.type,c))}}function wu(a){wi?Si?Si.push(a):Si=[a]:wi=a}function Su(){if(wi){var a=wi,c=Si;if(Si=wi=null,bu(a),c)for(a=0;a<c.length;a++)bu(c[a])}}function al(a,c){return a(c)}function Pu(){}var sl=!1;function Xn(a,c,h){if(sl)return a(c,h);sl=!0;try{return al(a,c,h)}finally{sl=!1,(wi!==null||Si!==null)&&(Pu(),Su())}}function Zr(a,c){var h=a.stateNode;if(h===null)return null;var g=Uu(h);if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var io=!1;if(l)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){io=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{io=!1}function he(a,c,h,g,S,A,j,M,F){var Z=Array.prototype.slice.call(arguments,3);try{c.apply(h,Z)}catch(se){this.onError(se)}}var Pe=!1,be=null,je=!1,Ue=null,ye={onError:function(a){Pe=!0,be=a}};function Ne(a,c,h,g,S,A,j,M,F){Pe=!1,be=null,he.apply(ye,arguments)}function We(a,c,h,g,S,A,j,M,F){if(Ne.apply(this,arguments),Pe){if(Pe){var Z=be;Pe=!1,be=null}else throw Error(n(198));je||(je=!0,Ue=Z)}}function qe(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function Be(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function dt(a){if(qe(a)!==a)throw Error(n(188))}function Dt(a){var c=a.alternate;if(!c){if(c=qe(a),c===null)throw Error(n(188));return c!==a?null:a}for(var h=a,g=c;;){var S=h.return;if(S===null)break;var A=S.alternate;if(A===null){if(g=S.return,g!==null){h=g;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===h)return dt(S),a;if(A===g)return dt(S),c;A=A.sibling}throw Error(n(188))}if(h.return!==g.return)h=S,g=A;else{for(var j=!1,M=S.child;M;){if(M===h){j=!0,h=S,g=A;break}if(M===g){j=!0,g=S,h=A;break}M=M.sibling}if(!j){for(M=A.child;M;){if(M===h){j=!0,h=A,g=S;break}if(M===g){j=!0,g=A,h=S;break}M=M.sibling}if(!j)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:c}function yt(a){return a=Dt(a),a!==null?cn(a):null}function cn(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=cn(a);if(c!==null)return c;a=a.sibling}return null}var xn=t.unstable_scheduleCallback,Qr=t.unstable_cancelCallback,ll=t.unstable_shouldYield,yL=t.unstable_requestPaint,Ft=t.unstable_now,xL=t.unstable_getCurrentPriorityLevel,jh=t.unstable_ImmediatePriority,I1=t.unstable_UserBlockingPriority,Cu=t.unstable_NormalPriority,bL=t.unstable_LowPriority,R1=t.unstable_IdlePriority,Au=null,Jr=null;function wL(a){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Au,a,void 0,(a.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:CL,SL=Math.log,PL=Math.LN2;function CL(a){return a>>>=0,a===0?32:31-(SL(a)/PL|0)|0}var ku=64,Eu=4194304;function cl(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Nu(a,c){var h=a.pendingLanes;if(h===0)return 0;var g=0,S=a.suspendedLanes,A=a.pingedLanes,j=h&268435455;if(j!==0){var M=j&~S;M!==0?g=cl(M):(A&=j,A!==0&&(g=cl(A)))}else j=h&~S,j!==0?g=cl(j):A!==0&&(g=cl(A));if(g===0)return 0;if(c!==0&&c!==g&&(c&S)===0&&(S=g&-g,A=c&-c,S>=A||S===16&&(A&4194240)!==0))return c;if((g&4)!==0&&(g|=h&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=g;0<c;)h=31-Mr(c),S=1<<h,g|=a[h],c&=~S;return g}function AL(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kL(a,c){for(var h=a.suspendedLanes,g=a.pingedLanes,S=a.expirationTimes,A=a.pendingLanes;0<A;){var j=31-Mr(A),M=1<<j,F=S[j];F===-1?((M&h)===0||(M&g)!==0)&&(S[j]=AL(M,c)):F<=c&&(a.expiredLanes|=M),A&=~M}}function Th(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function L1(){var a=ku;return ku<<=1,(ku&4194240)===0&&(ku=64),a}function _h(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function ul(a,c,h){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Mr(c),a[c]=h}function EL(a,c){var h=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var S=31-Mr(h),A=1<<S;c[S]=0,g[S]=-1,a[S]=-1,h&=~A}}function Dh(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var g=31-Mr(h),S=1<<g;S&c|a[g]&c&&(a[g]|=c),h&=~S}}var lt=0;function F1(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var $1,Mh,B1,z1,W1,Ih=!1,Ou=[],oo=null,ao=null,so=null,dl=new Map,fl=new Map,lo=[],NL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V1(a,c){switch(a){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":dl.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(c.pointerId)}}function pl(a,c,h,g,S,A){return a===null||a.nativeEvent!==A?(a={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:A,targetContainers:[S]},c!==null&&(c=El(c),c!==null&&Mh(c)),a):(a.eventSystemFlags|=g,c=a.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),a)}function OL(a,c,h,g,S){switch(c){case"focusin":return oo=pl(oo,a,c,h,g,S),!0;case"dragenter":return ao=pl(ao,a,c,h,g,S),!0;case"mouseover":return so=pl(so,a,c,h,g,S),!0;case"pointerover":var A=S.pointerId;return dl.set(A,pl(dl.get(A)||null,a,c,h,g,S)),!0;case"gotpointercapture":return A=S.pointerId,fl.set(A,pl(fl.get(A)||null,a,c,h,g,S)),!0}return!1}function U1(a){var c=Ho(a.target);if(c!==null){var h=qe(c);if(h!==null){if(c=h.tag,c===13){if(c=Be(h),c!==null){a.blockedOn=c,W1(a.priority,function(){B1(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ju(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=Lh(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);Fa=g,h.target.dispatchEvent(g),Fa=null}else return c=El(h),c!==null&&Mh(c),a.blockedOn=h,!1;c.shift()}return!0}function H1(a,c,h){ju(a)&&h.delete(c)}function jL(){Ih=!1,oo!==null&&ju(oo)&&(oo=null),ao!==null&&ju(ao)&&(ao=null),so!==null&&ju(so)&&(so=null),dl.forEach(H1),fl.forEach(H1)}function hl(a,c){a.blockedOn===c&&(a.blockedOn=null,Ih||(Ih=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jL)))}function ml(a){function c(S){return hl(S,a)}if(0<Ou.length){hl(Ou[0],a);for(var h=1;h<Ou.length;h++){var g=Ou[h];g.blockedOn===a&&(g.blockedOn=null)}}for(oo!==null&&hl(oo,a),ao!==null&&hl(ao,a),so!==null&&hl(so,a),dl.forEach(c),fl.forEach(c),h=0;h<lo.length;h++)g=lo[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<lo.length&&(h=lo[0],h.blockedOn===null);)U1(h),h.blockedOn===null&&lo.shift()}var Ba=N.ReactCurrentBatchConfig,Tu=!0;function TL(a,c,h,g){var S=lt,A=Ba.transition;Ba.transition=null;try{lt=1,Rh(a,c,h,g)}finally{lt=S,Ba.transition=A}}function _L(a,c,h,g){var S=lt,A=Ba.transition;Ba.transition=null;try{lt=4,Rh(a,c,h,g)}finally{lt=S,Ba.transition=A}}function Rh(a,c,h,g){if(Tu){var S=Lh(a,c,h,g);if(S===null)em(a,c,g,_u,h),V1(a,g);else if(OL(S,a,c,h,g))g.stopPropagation();else if(V1(a,g),c&4&&-1<NL.indexOf(a)){for(;S!==null;){var A=El(S);if(A!==null&&$1(A),A=Lh(a,c,h,g),A===null&&em(a,c,g,_u,h),A===S)break;S=A}S!==null&&g.stopPropagation()}else em(a,c,g,null,h)}}var _u=null;function Lh(a,c,h,g){if(_u=null,a=$a(g),a=Ho(a),a!==null)if(c=qe(a),c===null)a=null;else if(h=c.tag,h===13){if(a=Be(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return _u=a,null}function G1(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xL()){case jh:return 1;case I1:return 4;case Cu:case bL:return 16;case R1:return 536870912;default:return 16}default:return 16}}var co=null,Fh=null,Du=null;function K1(){if(Du)return Du;var a,c=Fh,h=c.length,g,S="value"in co?co.value:co.textContent,A=S.length;for(a=0;a<h&&c[a]===S[a];a++);var j=h-a;for(g=1;g<=j&&c[h-g]===S[A-g];g++);return Du=S.slice(a,1<g?1-g:void 0)}function Mu(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Iu(){return!0}function q1(){return!1}function Zn(a){function c(h,g,S,A,j){this._reactName=h,this._targetInst=S,this.type=g,this.nativeEvent=A,this.target=j,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(h=a[M],this[M]=h?h(A):A[M]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Iu:q1,this.isPropagationStopped=q1,this}return ne(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),c}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$h=Zn(za),gl=ne({},za,{view:0,detail:0}),DL=Zn(gl),Bh,zh,vl,Ru=ne({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==vl&&(vl&&a.type==="mousemove"?(Bh=a.screenX-vl.screenX,zh=a.screenY-vl.screenY):zh=Bh=0,vl=a),Bh)},movementY:function(a){return"movementY"in a?a.movementY:zh}}),Y1=Zn(Ru),ML=ne({},Ru,{dataTransfer:0}),IL=Zn(ML),RL=ne({},gl,{relatedTarget:0}),Wh=Zn(RL),LL=ne({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),FL=Zn(LL),$L=ne({},za,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),BL=Zn($L),zL=ne({},za,{data:0}),X1=Zn(zL),WL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HL(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=UL[a])?!!c[a]:!1}function Vh(){return HL}var GL=ne({},gl,{key:function(a){if(a.key){var c=WL[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Mu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?VL[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vh,charCode:function(a){return a.type==="keypress"?Mu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Mu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),KL=Zn(GL),qL=ne({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z1=Zn(qL),YL=ne({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vh}),XL=Zn(YL),ZL=ne({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),QL=Zn(ZL),JL=ne({},Ru,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),e5=Zn(JL),t5=[9,13,27,32],Uh=l&&"CompositionEvent"in window,yl=null;l&&"documentMode"in document&&(yl=document.documentMode);var n5=l&&"TextEvent"in window&&!yl,Q1=l&&(!Uh||yl&&8<yl&&11>=yl),J1=" ",ew=!1;function tw(a,c){switch(a){case"keyup":return t5.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Wa=!1;function r5(a,c){switch(a){case"compositionend":return nw(c);case"keypress":return c.which!==32?null:(ew=!0,J1);case"textInput":return a=c.data,a===J1&&ew?null:a;default:return null}}function i5(a,c){if(Wa)return a==="compositionend"||!Uh&&tw(a,c)?(a=K1(),Du=Fh=co=null,Wa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Q1&&c.locale!=="ko"?null:c.data;default:return null}}var o5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!o5[a.type]:c==="textarea"}function iw(a,c,h,g){wu(g),c=zu(c,"onChange"),0<c.length&&(h=new $h("onChange","change",null,h,g),a.push({event:h,listeners:c}))}var xl=null,bl=null;function a5(a){Sw(a,0)}function Lu(a){var c=Ka(a);if(I(c))return a}function s5(a,c){if(a==="change")return c}var ow=!1;if(l){var Hh;if(l){var Gh="oninput"in document;if(!Gh){var aw=document.createElement("div");aw.setAttribute("oninput","return;"),Gh=typeof aw.oninput=="function"}Hh=Gh}else Hh=!1;ow=Hh&&(!document.documentMode||9<document.documentMode)}function sw(){xl&&(xl.detachEvent("onpropertychange",lw),bl=xl=null)}function lw(a){if(a.propertyName==="value"&&Lu(bl)){var c=[];iw(c,bl,a,$a(a)),Xn(a5,c)}}function l5(a,c,h){a==="focusin"?(sw(),xl=c,bl=h,xl.attachEvent("onpropertychange",lw)):a==="focusout"&&sw()}function c5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Lu(bl)}function u5(a,c){if(a==="click")return Lu(c)}function d5(a,c){if(a==="input"||a==="change")return Lu(c)}function f5(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Ir=typeof Object.is=="function"?Object.is:f5;function wl(a,c){if(Ir(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var S=h[g];if(!u.call(c,S)||!Ir(a[S],c[S]))return!1}return!0}function cw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function uw(a,c){var h=cw(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=c&&g>=c)return{node:h,offset:c-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=cw(h)}}function dw(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?dw(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function fw(){for(var a=window,c=Ce();c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=Ce(a.document)}return c}function Kh(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function p5(a){var c=fw(),h=a.focusedElem,g=a.selectionRange;if(c!==h&&h&&h.ownerDocument&&dw(h.ownerDocument.documentElement,h)){if(g!==null&&Kh(h)){if(c=g.start,a=g.end,a===void 0&&(a=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(a,h.value.length);else if(a=(c=h.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var S=h.textContent.length,A=Math.min(g.start,S);g=g.end===void 0?A:Math.min(g.end,S),!a.extend&&A>g&&(S=g,g=A,A=S),S=uw(h,A);var j=uw(h,g);S&&j&&(a.rangeCount!==1||a.anchorNode!==S.node||a.anchorOffset!==S.offset||a.focusNode!==j.node||a.focusOffset!==j.offset)&&(c=c.createRange(),c.setStart(S.node,S.offset),a.removeAllRanges(),A>g?(a.addRange(c),a.extend(j.node,j.offset)):(c.setEnd(j.node,j.offset),a.addRange(c)))}}for(c=[],a=h;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)a=c[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var h5=l&&"documentMode"in document&&11>=document.documentMode,Va=null,qh=null,Sl=null,Yh=!1;function pw(a,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Yh||Va==null||Va!==Ce(g)||(g=Va,"selectionStart"in g&&Kh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Sl&&wl(Sl,g)||(Sl=g,g=zu(qh,"onSelect"),0<g.length&&(c=new $h("onSelect","select",null,c,h),a.push({event:c,listeners:g}),c.target=Va)))}function Fu(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var Ua={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},Xh={},hw={};l&&(hw=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function $u(a){if(Xh[a])return Xh[a];if(!Ua[a])return a;var c=Ua[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in hw)return Xh[a]=c[h];return a}var mw=$u("animationend"),gw=$u("animationiteration"),vw=$u("animationstart"),yw=$u("transitionend"),xw=new Map,bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(a,c){xw.set(a,c),o(c,[a])}for(var Zh=0;Zh<bw.length;Zh++){var Qh=bw[Zh],m5=Qh.toLowerCase(),g5=Qh[0].toUpperCase()+Qh.slice(1);uo(m5,"on"+g5)}uo(mw,"onAnimationEnd"),uo(gw,"onAnimationIteration"),uo(vw,"onAnimationStart"),uo("dblclick","onDoubleClick"),uo("focusin","onFocus"),uo("focusout","onBlur"),uo(yw,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function ww(a,c,h){var g=a.type||"unknown-event";a.currentTarget=h,We(g,c,void 0,a),a.currentTarget=null}function Sw(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],S=g.event;g=g.listeners;e:{var A=void 0;if(c)for(var j=g.length-1;0<=j;j--){var M=g[j],F=M.instance,Z=M.currentTarget;if(M=M.listener,F!==A&&S.isPropagationStopped())break e;ww(S,M,Z),A=F}else for(j=0;j<g.length;j++){if(M=g[j],F=M.instance,Z=M.currentTarget,M=M.listener,F!==A&&S.isPropagationStopped())break e;ww(S,M,Z),A=F}}}if(je)throw a=Ue,je=!1,Ue=null,a}function xt(a,c){var h=c[am];h===void 0&&(h=c[am]=new Set);var g=a+"__bubble";h.has(g)||(Pw(c,a,2,!1),h.add(g))}function Jh(a,c,h){var g=0;c&&(g|=4),Pw(h,a,g,c)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Cl(a){if(!a[Bu]){a[Bu]=!0,r.forEach(function(h){h!=="selectionchange"&&(v5.has(h)||Jh(h,!1,a),Jh(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Bu]||(c[Bu]=!0,Jh("selectionchange",!1,c))}}function Pw(a,c,h,g){switch(G1(c)){case 1:var S=TL;break;case 4:S=_L;break;default:S=Rh}h=S.bind(null,c,h,a),S=void 0,!io||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),g?S!==void 0?a.addEventListener(c,h,{capture:!0,passive:S}):a.addEventListener(c,h,!0):S!==void 0?a.addEventListener(c,h,{passive:S}):a.addEventListener(c,h,!1)}function em(a,c,h,g,S){var A=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var j=g.tag;if(j===3||j===4){var M=g.stateNode.containerInfo;if(M===S||M.nodeType===8&&M.parentNode===S)break;if(j===4)for(j=g.return;j!==null;){var F=j.tag;if((F===3||F===4)&&(F=j.stateNode.containerInfo,F===S||F.nodeType===8&&F.parentNode===S))return;j=j.return}for(;M!==null;){if(j=Ho(M),j===null)return;if(F=j.tag,F===5||F===6){g=A=j;continue e}M=M.parentNode}}g=g.return}Xn(function(){var Z=A,se=$a(h),le=[];e:{var oe=xw.get(a);if(oe!==void 0){var Se=$h,Ee=a;switch(a){case"keypress":if(Mu(h)===0)break e;case"keydown":case"keyup":Se=KL;break;case"focusin":Ee="focus",Se=Wh;break;case"focusout":Ee="blur",Se=Wh;break;case"beforeblur":case"afterblur":Se=Wh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Y1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=IL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=XL;break;case mw:case gw:case vw:Se=FL;break;case yw:Se=QL;break;case"scroll":Se=DL;break;case"wheel":Se=e5;break;case"copy":case"cut":case"paste":Se=BL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=Z1}var Oe=(c&4)!==0,$t=!Oe&&a==="scroll",H=Oe?oe!==null?oe+"Capture":null:oe;Oe=[];for(var z=Z,K;z!==null;){K=z;var pe=K.stateNode;if(K.tag===5&&pe!==null&&(K=pe,H!==null&&(pe=Zr(z,H),pe!=null&&Oe.push(Al(z,pe,K)))),$t)break;z=z.return}0<Oe.length&&(oe=new Se(oe,Ee,null,h,se),le.push({event:oe,listeners:Oe}))}}if((c&7)===0){e:{if(oe=a==="mouseover"||a==="pointerover",Se=a==="mouseout"||a==="pointerout",oe&&h!==Fa&&(Ee=h.relatedTarget||h.fromElement)&&(Ho(Ee)||Ee[Ci]))break e;if((Se||oe)&&(oe=se.window===se?se:(oe=se.ownerDocument)?oe.defaultView||oe.parentWindow:window,Se?(Ee=h.relatedTarget||h.toElement,Se=Z,Ee=Ee?Ho(Ee):null,Ee!==null&&($t=qe(Ee),Ee!==$t||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(Se=null,Ee=Z),Se!==Ee)){if(Oe=Y1,pe="onMouseLeave",H="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Oe=Z1,pe="onPointerLeave",H="onPointerEnter",z="pointer"),$t=Se==null?oe:Ka(Se),K=Ee==null?oe:Ka(Ee),oe=new Oe(pe,z+"leave",Se,h,se),oe.target=$t,oe.relatedTarget=K,pe=null,Ho(se)===Z&&(Oe=new Oe(H,z+"enter",Ee,h,se),Oe.target=K,Oe.relatedTarget=$t,pe=Oe),$t=pe,Se&&Ee)t:{for(Oe=Se,H=Ee,z=0,K=Oe;K;K=Ha(K))z++;for(K=0,pe=H;pe;pe=Ha(pe))K++;for(;0<z-K;)Oe=Ha(Oe),z--;for(;0<K-z;)H=Ha(H),K--;for(;z--;){if(Oe===H||H!==null&&Oe===H.alternate)break t;Oe=Ha(Oe),H=Ha(H)}Oe=null}else Oe=null;Se!==null&&Cw(le,oe,Se,Oe,!1),Ee!==null&&$t!==null&&Cw(le,$t,Ee,Oe,!0)}}e:{if(oe=Z?Ka(Z):window,Se=oe.nodeName&&oe.nodeName.toLowerCase(),Se==="select"||Se==="input"&&oe.type==="file")var Te=s5;else if(rw(oe))if(ow)Te=d5;else{Te=c5;var Ie=l5}else(Se=oe.nodeName)&&Se.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Te=u5);if(Te&&(Te=Te(a,Z))){iw(le,Te,h,se);break e}Ie&&Ie(a,oe,Z),a==="focusout"&&(Ie=oe._wrapperState)&&Ie.controlled&&oe.type==="number"&&it(oe,"number",oe.value)}switch(Ie=Z?Ka(Z):window,a){case"focusin":(rw(Ie)||Ie.contentEditable==="true")&&(Va=Ie,qh=Z,Sl=null);break;case"focusout":Sl=qh=Va=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,pw(le,h,se);break;case"selectionchange":if(h5)break;case"keydown":case"keyup":pw(le,h,se)}var Re;if(Uh)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Wa?tw(a,h)&&(Ve="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ve="onCompositionStart");Ve&&(Q1&&h.locale!=="ko"&&(Wa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Wa&&(Re=K1()):(co=se,Fh="value"in co?co.value:co.textContent,Wa=!0)),Ie=zu(Z,Ve),0<Ie.length&&(Ve=new X1(Ve,a,null,h,se),le.push({event:Ve,listeners:Ie}),Re?Ve.data=Re:(Re=nw(h),Re!==null&&(Ve.data=Re)))),(Re=n5?r5(a,h):i5(a,h))&&(Z=zu(Z,"onBeforeInput"),0<Z.length&&(se=new X1("onBeforeInput","beforeinput",null,h,se),le.push({event:se,listeners:Z}),se.data=Re))}Sw(le,c)})}function Al(a,c,h){return{instance:a,listener:c,currentTarget:h}}function zu(a,c){for(var h=c+"Capture",g=[];a!==null;){var S=a,A=S.stateNode;S.tag===5&&A!==null&&(S=A,A=Zr(a,h),A!=null&&g.unshift(Al(a,A,S)),A=Zr(a,c),A!=null&&g.push(Al(a,A,S))),a=a.return}return g}function Ha(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Cw(a,c,h,g,S){for(var A=c._reactName,j=[];h!==null&&h!==g;){var M=h,F=M.alternate,Z=M.stateNode;if(F!==null&&F===g)break;M.tag===5&&Z!==null&&(M=Z,S?(F=Zr(h,A),F!=null&&j.unshift(Al(h,F,M))):S||(F=Zr(h,A),F!=null&&j.push(Al(h,F,M)))),h=h.return}j.length!==0&&a.push({event:c,listeners:j})}var y5=/\r\n?/g,x5=/\u0000|\uFFFD/g;function Aw(a){return(typeof a=="string"?a:""+a).replace(y5,`
`).replace(x5,"")}function Wu(a,c,h){if(c=Aw(c),Aw(a)!==c&&h)throw Error(n(425))}function Vu(){}var tm=null,nm=null;function rm(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var im=typeof setTimeout=="function"?setTimeout:void 0,b5=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,w5=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(a){return kw.resolve(null).then(a).catch(S5)}:im;function S5(a){setTimeout(function(){throw a})}function om(a,c){var h=c,g=0;do{var S=h.nextSibling;if(a.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(g===0){a.removeChild(S),ml(c);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=S}while(h);ml(c)}function fo(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function Ew(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}var Ga=Math.random().toString(36).slice(2),ei="__reactFiber$"+Ga,kl="__reactProps$"+Ga,Ci="__reactContainer$"+Ga,am="__reactEvents$"+Ga,P5="__reactListeners$"+Ga,C5="__reactHandles$"+Ga;function Ho(a){var c=a[ei];if(c)return c;for(var h=a.parentNode;h;){if(c=h[Ci]||h[ei]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=Ew(a);a!==null;){if(h=a[ei])return h;a=Ew(a)}return c}a=h,h=a.parentNode}return null}function El(a){return a=a[ei]||a[Ci],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ka(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Uu(a){return a[kl]||null}var sm=[],qa=-1;function po(a){return{current:a}}function bt(a){0>qa||(a.current=sm[qa],sm[qa]=null,qa--)}function gt(a,c){qa++,sm[qa]=a.current,a.current=c}var ho={},bn=po(ho),Fn=po(!1),Go=ho;function Ya(a,c){var h=a.type.contextTypes;if(!h)return ho;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var S={},A;for(A in h)S[A]=c[A];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=S),S}function $n(a){return a=a.childContextTypes,a!=null}function Hu(){bt(Fn),bt(bn)}function Nw(a,c,h){if(bn.current!==ho)throw Error(n(168));gt(bn,c),gt(Fn,h)}function Ow(a,c,h){var g=a.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var S in g)if(!(S in c))throw Error(n(108,B(a)||"Unknown",S));return ne({},h,g)}function Gu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ho,Go=bn.current,gt(bn,a),gt(Fn,Fn.current),!0}function jw(a,c,h){var g=a.stateNode;if(!g)throw Error(n(169));h?(a=Ow(a,c,Go),g.__reactInternalMemoizedMergedChildContext=a,bt(Fn),bt(bn),gt(bn,a)):bt(Fn),gt(Fn,h)}var Ai=null,Ku=!1,lm=!1;function Tw(a){Ai===null?Ai=[a]:Ai.push(a)}function A5(a){Ku=!0,Tw(a)}function mo(){if(!lm&&Ai!==null){lm=!0;var a=0,c=lt;try{var h=Ai;for(lt=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}Ai=null,Ku=!1}catch(S){throw Ai!==null&&(Ai=Ai.slice(a+1)),xn(jh,mo),S}finally{lt=c,lm=!1}}return null}var Xa=[],Za=0,qu=null,Yu=0,hr=[],mr=0,Ko=null,ki=1,Ei="";function qo(a,c){Xa[Za++]=Yu,Xa[Za++]=qu,qu=a,Yu=c}function _w(a,c,h){hr[mr++]=ki,hr[mr++]=Ei,hr[mr++]=Ko,Ko=a;var g=ki;a=Ei;var S=32-Mr(g)-1;g&=~(1<<S),h+=1;var A=32-Mr(c)+S;if(30<A){var j=S-S%5;A=(g&(1<<j)-1).toString(32),g>>=j,S-=j,ki=1<<32-Mr(c)+S|h<<S|g,Ei=A+a}else ki=1<<A|h<<S|g,Ei=a}function cm(a){a.return!==null&&(qo(a,1),_w(a,1,0))}function um(a){for(;a===qu;)qu=Xa[--Za],Xa[Za]=null,Yu=Xa[--Za],Xa[Za]=null;for(;a===Ko;)Ko=hr[--mr],hr[mr]=null,Ei=hr[--mr],hr[mr]=null,ki=hr[--mr],hr[mr]=null}var Qn=null,Jn=null,Ct=!1,Rr=null;function Dw(a,c){var h=xr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=a,c=a.deletions,c===null?(a.deletions=[h],a.flags|=16):c.push(h)}function Mw(a,c){switch(a.tag){case 5:var h=a.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Qn=a,Jn=fo(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Qn=a,Jn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ko!==null?{id:ki,overflow:Ei}:null,a.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=xr(18,null,null,0),h.stateNode=c,h.return=a,a.child=h,Qn=a,Jn=null,!0):!1;default:return!1}}function dm(a){return(a.mode&1)!==0&&(a.flags&128)===0}function fm(a){if(Ct){var c=Jn;if(c){var h=c;if(!Mw(a,c)){if(dm(a))throw Error(n(418));c=fo(h.nextSibling);var g=Qn;c&&Mw(a,c)?Dw(g,h):(a.flags=a.flags&-4097|2,Ct=!1,Qn=a)}}else{if(dm(a))throw Error(n(418));a.flags=a.flags&-4097|2,Ct=!1,Qn=a}}}function Iw(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Qn=a}function Xu(a){if(a!==Qn)return!1;if(!Ct)return Iw(a),Ct=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!rm(a.type,a.memoizedProps)),c&&(c=Jn)){if(dm(a))throw Rw(),Error(n(418));for(;c;)Dw(a,c),c=fo(c.nextSibling)}if(Iw(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(c===0){Jn=fo(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}a=a.nextSibling}Jn=null}}else Jn=Qn?fo(a.stateNode.nextSibling):null;return!0}function Rw(){for(var a=Jn;a;)a=fo(a.nextSibling)}function Qa(){Jn=Qn=null,Ct=!1}function pm(a){Rr===null?Rr=[a]:Rr.push(a)}var k5=N.ReactCurrentBatchConfig;function Nl(a,c,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,a));var S=g,A=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(j){var M=S.refs;j===null?delete M[A]:M[A]=j},c._stringRef=A,c)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function Zu(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function Lw(a){var c=a._init;return c(a._payload)}function Fw(a){function c(H,z){if(a){var K=H.deletions;K===null?(H.deletions=[z],H.flags|=16):K.push(z)}}function h(H,z){if(!a)return null;for(;z!==null;)c(H,z),z=z.sibling;return null}function g(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function S(H,z){return H=Po(H,z),H.index=0,H.sibling=null,H}function A(H,z,K){return H.index=K,a?(K=H.alternate,K!==null?(K=K.index,K<z?(H.flags|=2,z):K):(H.flags|=2,z)):(H.flags|=1048576,z)}function j(H){return a&&H.alternate===null&&(H.flags|=2),H}function M(H,z,K,pe){return z===null||z.tag!==6?(z=ig(K,H.mode,pe),z.return=H,z):(z=S(z,K),z.return=H,z)}function F(H,z,K,pe){var Te=K.type;return Te===_?se(H,z,K.props.children,pe,K.key):z!==null&&(z.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ge&&Lw(Te)===z.type)?(pe=S(z,K.props),pe.ref=Nl(H,z,K),pe.return=H,pe):(pe=wd(K.type,K.key,K.props,null,H.mode,pe),pe.ref=Nl(H,z,K),pe.return=H,pe)}function Z(H,z,K,pe){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=og(K,H.mode,pe),z.return=H,z):(z=S(z,K.children||[]),z.return=H,z)}function se(H,z,K,pe,Te){return z===null||z.tag!==7?(z=na(K,H.mode,pe,Te),z.return=H,z):(z=S(z,K),z.return=H,z)}function le(H,z,K){if(typeof z=="string"&&z!==""||typeof z=="number")return z=ig(""+z,H.mode,K),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return K=wd(z.type,z.key,z.props,null,H.mode,K),K.ref=Nl(H,null,z),K.return=H,K;case O:return z=og(z,H.mode,K),z.return=H,z;case ge:var pe=z._init;return le(H,pe(z._payload),K)}if(On(z)||ee(z))return z=na(z,H.mode,K,null),z.return=H,z;Zu(H,z)}return null}function oe(H,z,K,pe){var Te=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Te!==null?null:M(H,z,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return K.key===Te?F(H,z,K,pe):null;case O:return K.key===Te?Z(H,z,K,pe):null;case ge:return Te=K._init,oe(H,z,Te(K._payload),pe)}if(On(K)||ee(K))return Te!==null?null:se(H,z,K,pe,null);Zu(H,K)}return null}function Se(H,z,K,pe,Te){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return H=H.get(K)||null,M(z,H,""+pe,Te);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case T:return H=H.get(pe.key===null?K:pe.key)||null,F(z,H,pe,Te);case O:return H=H.get(pe.key===null?K:pe.key)||null,Z(z,H,pe,Te);case ge:var Ie=pe._init;return Se(H,z,K,Ie(pe._payload),Te)}if(On(pe)||ee(pe))return H=H.get(K)||null,se(z,H,pe,Te,null);Zu(z,pe)}return null}function Ee(H,z,K,pe){for(var Te=null,Ie=null,Re=z,Ve=z=0,Xt=null;Re!==null&&Ve<K.length;Ve++){Re.index>Ve?(Xt=Re,Re=null):Xt=Re.sibling;var tt=oe(H,Re,K[Ve],pe);if(tt===null){Re===null&&(Re=Xt);break}a&&Re&&tt.alternate===null&&c(H,Re),z=A(tt,z,Ve),Ie===null?Te=tt:Ie.sibling=tt,Ie=tt,Re=Xt}if(Ve===K.length)return h(H,Re),Ct&&qo(H,Ve),Te;if(Re===null){for(;Ve<K.length;Ve++)Re=le(H,K[Ve],pe),Re!==null&&(z=A(Re,z,Ve),Ie===null?Te=Re:Ie.sibling=Re,Ie=Re);return Ct&&qo(H,Ve),Te}for(Re=g(H,Re);Ve<K.length;Ve++)Xt=Se(Re,H,Ve,K[Ve],pe),Xt!==null&&(a&&Xt.alternate!==null&&Re.delete(Xt.key===null?Ve:Xt.key),z=A(Xt,z,Ve),Ie===null?Te=Xt:Ie.sibling=Xt,Ie=Xt);return a&&Re.forEach(function(Co){return c(H,Co)}),Ct&&qo(H,Ve),Te}function Oe(H,z,K,pe){var Te=ee(K);if(typeof Te!="function")throw Error(n(150));if(K=Te.call(K),K==null)throw Error(n(151));for(var Ie=Te=null,Re=z,Ve=z=0,Xt=null,tt=K.next();Re!==null&&!tt.done;Ve++,tt=K.next()){Re.index>Ve?(Xt=Re,Re=null):Xt=Re.sibling;var Co=oe(H,Re,tt.value,pe);if(Co===null){Re===null&&(Re=Xt);break}a&&Re&&Co.alternate===null&&c(H,Re),z=A(Co,z,Ve),Ie===null?Te=Co:Ie.sibling=Co,Ie=Co,Re=Xt}if(tt.done)return h(H,Re),Ct&&qo(H,Ve),Te;if(Re===null){for(;!tt.done;Ve++,tt=K.next())tt=le(H,tt.value,pe),tt!==null&&(z=A(tt,z,Ve),Ie===null?Te=tt:Ie.sibling=tt,Ie=tt);return Ct&&qo(H,Ve),Te}for(Re=g(H,Re);!tt.done;Ve++,tt=K.next())tt=Se(Re,H,Ve,tt.value,pe),tt!==null&&(a&&tt.alternate!==null&&Re.delete(tt.key===null?Ve:tt.key),z=A(tt,z,Ve),Ie===null?Te=tt:Ie.sibling=tt,Ie=tt);return a&&Re.forEach(function(o3){return c(H,o3)}),Ct&&qo(H,Ve),Te}function $t(H,z,K,pe){if(typeof K=="object"&&K!==null&&K.type===_&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case T:e:{for(var Te=K.key,Ie=z;Ie!==null;){if(Ie.key===Te){if(Te=K.type,Te===_){if(Ie.tag===7){h(H,Ie.sibling),z=S(Ie,K.props.children),z.return=H,H=z;break e}}else if(Ie.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ge&&Lw(Te)===Ie.type){h(H,Ie.sibling),z=S(Ie,K.props),z.ref=Nl(H,Ie,K),z.return=H,H=z;break e}h(H,Ie);break}else c(H,Ie);Ie=Ie.sibling}K.type===_?(z=na(K.props.children,H.mode,pe,K.key),z.return=H,H=z):(pe=wd(K.type,K.key,K.props,null,H.mode,pe),pe.ref=Nl(H,z,K),pe.return=H,H=pe)}return j(H);case O:e:{for(Ie=K.key;z!==null;){if(z.key===Ie)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){h(H,z.sibling),z=S(z,K.children||[]),z.return=H,H=z;break e}else{h(H,z);break}else c(H,z);z=z.sibling}z=og(K,H.mode,pe),z.return=H,H=z}return j(H);case ge:return Ie=K._init,$t(H,z,Ie(K._payload),pe)}if(On(K))return Ee(H,z,K,pe);if(ee(K))return Oe(H,z,K,pe);Zu(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,z!==null&&z.tag===6?(h(H,z.sibling),z=S(z,K),z.return=H,H=z):(h(H,z),z=ig(K,H.mode,pe),z.return=H,H=z),j(H)):h(H,z)}return $t}var Ja=Fw(!0),$w=Fw(!1),Qu=po(null),Ju=null,es=null,hm=null;function mm(){hm=es=Ju=null}function gm(a){var c=Qu.current;bt(Qu),a._currentValue=c}function vm(a,c,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),a===h)break;a=a.return}}function ts(a,c){Ju=a,hm=es=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Bn=!0),a.firstContext=null)}function gr(a){var c=a._currentValue;if(hm!==a)if(a={context:a,memoizedValue:c,next:null},es===null){if(Ju===null)throw Error(n(308));es=a,Ju.dependencies={lanes:0,firstContext:a}}else es=es.next=a;return c}var Yo=null;function ym(a){Yo===null?Yo=[a]:Yo.push(a)}function Bw(a,c,h,g){var S=c.interleaved;return S===null?(h.next=h,ym(c)):(h.next=S.next,S.next=h),c.interleaved=h,Ni(a,g)}function Ni(a,c){a.lanes|=c;var h=a.alternate;for(h!==null&&(h.lanes|=c),h=a,a=a.return;a!==null;)a.childLanes|=c,h=a.alternate,h!==null&&(h.childLanes|=c),h=a,a=a.return;return h.tag===3?h.stateNode:null}var go=!1;function xm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zw(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Oi(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function vo(a,c,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(et&2)!==0){var S=g.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),g.pending=c,Ni(a,h)}return S=g.interleaved,S===null?(c.next=c,ym(g)):(c.next=S.next,S.next=c),g.interleaved=c,Ni(a,h)}function ed(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,Dh(a,h)}}function Ww(a,c){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var S=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var j={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};A===null?S=A=j:A=A.next=j,h=h.next}while(h!==null);A===null?S=A=c:A=A.next=c}else S=A=c;h={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}function td(a,c,h,g){var S=a.updateQueue;go=!1;var A=S.firstBaseUpdate,j=S.lastBaseUpdate,M=S.shared.pending;if(M!==null){S.shared.pending=null;var F=M,Z=F.next;F.next=null,j===null?A=Z:j.next=Z,j=F;var se=a.alternate;se!==null&&(se=se.updateQueue,M=se.lastBaseUpdate,M!==j&&(M===null?se.firstBaseUpdate=Z:M.next=Z,se.lastBaseUpdate=F))}if(A!==null){var le=S.baseState;j=0,se=Z=F=null,M=A;do{var oe=M.lane,Se=M.eventTime;if((g&oe)===oe){se!==null&&(se=se.next={eventTime:Se,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ee=a,Oe=M;switch(oe=c,Se=h,Oe.tag){case 1:if(Ee=Oe.payload,typeof Ee=="function"){le=Ee.call(Se,le,oe);break e}le=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Oe.payload,oe=typeof Ee=="function"?Ee.call(Se,le,oe):Ee,oe==null)break e;le=ne({},le,oe);break e;case 2:go=!0}}M.callback!==null&&M.lane!==0&&(a.flags|=64,oe=S.effects,oe===null?S.effects=[M]:oe.push(M))}else Se={eventTime:Se,lane:oe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},se===null?(Z=se=Se,F=le):se=se.next=Se,j|=oe;if(M=M.next,M===null){if(M=S.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,S.lastBaseUpdate=oe,S.shared.pending=null}}while(!0);if(se===null&&(F=le),S.baseState=F,S.firstBaseUpdate=Z,S.lastBaseUpdate=se,c=S.shared.interleaved,c!==null){S=c;do j|=S.lane,S=S.next;while(S!==c)}else A===null&&(S.shared.lanes=0);Qo|=j,a.lanes=j,a.memoizedState=le}}function Vw(a,c,h){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var g=a[c],S=g.callback;if(S!==null){if(g.callback=null,g=h,typeof S!="function")throw Error(n(191,S));S.call(g)}}}var Ol={},ti=po(Ol),jl=po(Ol),Tl=po(Ol);function Xo(a){if(a===Ol)throw Error(n(174));return a}function bm(a,c){switch(gt(Tl,c),gt(jl,a),gt(ti,Ol),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:ln(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=ln(c,a)}bt(ti),gt(ti,c)}function ns(){bt(ti),bt(jl),bt(Tl)}function Uw(a){Xo(Tl.current);var c=Xo(ti.current),h=ln(c,a.type);c!==h&&(gt(jl,a),gt(ti,h))}function wm(a){jl.current===a&&(bt(ti),bt(jl))}var jt=po(0);function nd(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Sm=[];function Pm(){for(var a=0;a<Sm.length;a++)Sm[a]._workInProgressVersionPrimary=null;Sm.length=0}var rd=N.ReactCurrentDispatcher,Cm=N.ReactCurrentBatchConfig,Zo=0,Tt=null,Vt=null,qt=null,id=!1,_l=!1,Dl=0,E5=0;function wn(){throw Error(n(321))}function Am(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!Ir(a[h],c[h]))return!1;return!0}function km(a,c,h,g,S,A){if(Zo=A,Tt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,rd.current=a===null||a.memoizedState===null?T5:_5,a=h(g,S),_l){A=0;do{if(_l=!1,Dl=0,25<=A)throw Error(n(301));A+=1,qt=Vt=null,c.updateQueue=null,rd.current=D5,a=h(g,S)}while(_l)}if(rd.current=sd,c=Vt!==null&&Vt.next!==null,Zo=0,qt=Vt=Tt=null,id=!1,c)throw Error(n(300));return a}function Em(){var a=Dl!==0;return Dl=0,a}function ni(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Tt.memoizedState=qt=a:qt=qt.next=a,qt}function vr(){if(Vt===null){var a=Tt.alternate;a=a!==null?a.memoizedState:null}else a=Vt.next;var c=qt===null?Tt.memoizedState:qt.next;if(c!==null)qt=c,Vt=a;else{if(a===null)throw Error(n(310));Vt=a,a={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},qt===null?Tt.memoizedState=qt=a:qt=qt.next=a}return qt}function Ml(a,c){return typeof c=="function"?c(a):c}function Nm(a){var c=vr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=Vt,S=g.baseQueue,A=h.pending;if(A!==null){if(S!==null){var j=S.next;S.next=A.next,A.next=j}g.baseQueue=S=A,h.pending=null}if(S!==null){A=S.next,g=g.baseState;var M=j=null,F=null,Z=A;do{var se=Z.lane;if((Zo&se)===se)F!==null&&(F=F.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),g=Z.hasEagerState?Z.eagerState:a(g,Z.action);else{var le={lane:se,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};F===null?(M=F=le,j=g):F=F.next=le,Tt.lanes|=se,Qo|=se}Z=Z.next}while(Z!==null&&Z!==A);F===null?j=g:F.next=M,Ir(g,c.memoizedState)||(Bn=!0),c.memoizedState=g,c.baseState=j,c.baseQueue=F,h.lastRenderedState=g}if(a=h.interleaved,a!==null){S=a;do A=S.lane,Tt.lanes|=A,Qo|=A,S=S.next;while(S!==a)}else S===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Om(a){var c=vr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=h.dispatch,S=h.pending,A=c.memoizedState;if(S!==null){h.pending=null;var j=S=S.next;do A=a(A,j.action),j=j.next;while(j!==S);Ir(A,c.memoizedState)||(Bn=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),h.lastRenderedState=A}return[A,g]}function Hw(){}function Gw(a,c){var h=Tt,g=vr(),S=c(),A=!Ir(g.memoizedState,S);if(A&&(g.memoizedState=S,Bn=!0),g=g.queue,jm(Yw.bind(null,h,g,a),[a]),g.getSnapshot!==c||A||qt!==null&&qt.memoizedState.tag&1){if(h.flags|=2048,Il(9,qw.bind(null,h,g,S,c),void 0,null),Yt===null)throw Error(n(349));(Zo&30)!==0||Kw(h,c,S)}return S}function Kw(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=Tt.updateQueue,c===null?(c={lastEffect:null,stores:null},Tt.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function qw(a,c,h,g){c.value=h,c.getSnapshot=g,Xw(c)&&Zw(a)}function Yw(a,c,h){return h(function(){Xw(c)&&Zw(a)})}function Xw(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!Ir(a,h)}catch{return!0}}function Zw(a){var c=Ni(a,1);c!==null&&Br(c,a,1,-1)}function Qw(a){var c=ni();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:a},c.queue=a,a=a.dispatch=j5.bind(null,Tt,a),[c.memoizedState,a]}function Il(a,c,h,g){return a={tag:a,create:c,destroy:h,deps:g,next:null},c=Tt.updateQueue,c===null?(c={lastEffect:null,stores:null},Tt.updateQueue=c,c.lastEffect=a.next=a):(h=c.lastEffect,h===null?c.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,c.lastEffect=a)),a}function Jw(){return vr().memoizedState}function od(a,c,h,g){var S=ni();Tt.flags|=a,S.memoizedState=Il(1|c,h,void 0,g===void 0?null:g)}function ad(a,c,h,g){var S=vr();g=g===void 0?null:g;var A=void 0;if(Vt!==null){var j=Vt.memoizedState;if(A=j.destroy,g!==null&&Am(g,j.deps)){S.memoizedState=Il(c,h,A,g);return}}Tt.flags|=a,S.memoizedState=Il(1|c,h,A,g)}function eS(a,c){return od(8390656,8,a,c)}function jm(a,c){return ad(2048,8,a,c)}function tS(a,c){return ad(4,2,a,c)}function nS(a,c){return ad(4,4,a,c)}function rS(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function iS(a,c,h){return h=h!=null?h.concat([a]):null,ad(4,4,rS.bind(null,c,a),h)}function Tm(){}function oS(a,c){var h=vr();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&Am(c,g[1])?g[0]:(h.memoizedState=[a,c],a)}function aS(a,c){var h=vr();c=c===void 0?null:c;var g=h.memoizedState;return g!==null&&c!==null&&Am(c,g[1])?g[0]:(a=a(),h.memoizedState=[a,c],a)}function sS(a,c,h){return(Zo&21)===0?(a.baseState&&(a.baseState=!1,Bn=!0),a.memoizedState=h):(Ir(h,c)||(h=L1(),Tt.lanes|=h,Qo|=h,a.baseState=!0),c)}function N5(a,c){var h=lt;lt=h!==0&&4>h?h:4,a(!0);var g=Cm.transition;Cm.transition={};try{a(!1),c()}finally{lt=h,Cm.transition=g}}function lS(){return vr().memoizedState}function O5(a,c,h){var g=wo(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},cS(a))uS(c,h);else if(h=Bw(a,c,h,g),h!==null){var S=_n();Br(h,a,g,S),dS(h,c,g)}}function j5(a,c,h){var g=wo(a),S={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(cS(a))uS(c,S);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var j=c.lastRenderedState,M=A(j,h);if(S.hasEagerState=!0,S.eagerState=M,Ir(M,j)){var F=c.interleaved;F===null?(S.next=S,ym(c)):(S.next=F.next,F.next=S),c.interleaved=S;return}}catch{}h=Bw(a,c,S,g),h!==null&&(S=_n(),Br(h,a,g,S),dS(h,c,g))}}function cS(a){var c=a.alternate;return a===Tt||c!==null&&c===Tt}function uS(a,c){_l=id=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function dS(a,c,h){if((h&4194240)!==0){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,Dh(a,h)}}var sd={readContext:gr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},T5={readContext:gr,useCallback:function(a,c){return ni().memoizedState=[a,c===void 0?null:c],a},useContext:gr,useEffect:eS,useImperativeHandle:function(a,c,h){return h=h!=null?h.concat([a]):null,od(4194308,4,rS.bind(null,c,a),h)},useLayoutEffect:function(a,c){return od(4194308,4,a,c)},useInsertionEffect:function(a,c){return od(4,2,a,c)},useMemo:function(a,c){var h=ni();return c=c===void 0?null:c,a=a(),h.memoizedState=[a,c],a},useReducer:function(a,c,h){var g=ni();return c=h!==void 0?h(c):c,g.memoizedState=g.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},g.queue=a,a=a.dispatch=O5.bind(null,Tt,a),[g.memoizedState,a]},useRef:function(a){var c=ni();return a={current:a},c.memoizedState=a},useState:Qw,useDebugValue:Tm,useDeferredValue:function(a){return ni().memoizedState=a},useTransition:function(){var a=Qw(!1),c=a[0];return a=N5.bind(null,a[1]),ni().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,h){var g=Tt,S=ni();if(Ct){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),Yt===null)throw Error(n(349));(Zo&30)!==0||Kw(g,c,h)}S.memoizedState=h;var A={value:h,getSnapshot:c};return S.queue=A,eS(Yw.bind(null,g,A,a),[a]),g.flags|=2048,Il(9,qw.bind(null,g,A,h,c),void 0,null),h},useId:function(){var a=ni(),c=Yt.identifierPrefix;if(Ct){var h=Ei,g=ki;h=(g&~(1<<32-Mr(g)-1)).toString(32)+h,c=":"+c+"R"+h,h=Dl++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=E5++,c=":"+c+"r"+h.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},_5={readContext:gr,useCallback:oS,useContext:gr,useEffect:jm,useImperativeHandle:iS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:aS,useReducer:Nm,useRef:Jw,useState:function(){return Nm(Ml)},useDebugValue:Tm,useDeferredValue:function(a){var c=vr();return sS(c,Vt.memoizedState,a)},useTransition:function(){var a=Nm(Ml)[0],c=vr().memoizedState;return[a,c]},useMutableSource:Hw,useSyncExternalStore:Gw,useId:lS,unstable_isNewReconciler:!1},D5={readContext:gr,useCallback:oS,useContext:gr,useEffect:jm,useImperativeHandle:iS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:aS,useReducer:Om,useRef:Jw,useState:function(){return Om(Ml)},useDebugValue:Tm,useDeferredValue:function(a){var c=vr();return Vt===null?c.memoizedState=a:sS(c,Vt.memoizedState,a)},useTransition:function(){var a=Om(Ml)[0],c=vr().memoizedState;return[a,c]},useMutableSource:Hw,useSyncExternalStore:Gw,useId:lS,unstable_isNewReconciler:!1};function Lr(a,c){if(a&&a.defaultProps){c=ne({},c),a=a.defaultProps;for(var h in a)c[h]===void 0&&(c[h]=a[h]);return c}return c}function _m(a,c,h,g){c=a.memoizedState,h=h(g,c),h=h==null?c:ne({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var ld={isMounted:function(a){return(a=a._reactInternals)?qe(a)===a:!1},enqueueSetState:function(a,c,h){a=a._reactInternals;var g=_n(),S=wo(a),A=Oi(g,S);A.payload=c,h!=null&&(A.callback=h),c=vo(a,A,S),c!==null&&(Br(c,a,S,g),ed(c,a,S))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var g=_n(),S=wo(a),A=Oi(g,S);A.tag=1,A.payload=c,h!=null&&(A.callback=h),c=vo(a,A,S),c!==null&&(Br(c,a,S,g),ed(c,a,S))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=_n(),g=wo(a),S=Oi(h,g);S.tag=2,c!=null&&(S.callback=c),c=vo(a,S,g),c!==null&&(Br(c,a,g,h),ed(c,a,g))}};function fS(a,c,h,g,S,A,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,A,j):c.prototype&&c.prototype.isPureReactComponent?!wl(h,g)||!wl(S,A):!0}function pS(a,c,h){var g=!1,S=ho,A=c.contextType;return typeof A=="object"&&A!==null?A=gr(A):(S=$n(c)?Go:bn.current,g=c.contextTypes,A=(g=g!=null)?Ya(a,S):ho),c=new c(h,A),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ld,a.stateNode=c,c._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=S,a.__reactInternalMemoizedMaskedChildContext=A),c}function hS(a,c,h,g){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==a&&ld.enqueueReplaceState(c,c.state,null)}function Dm(a,c,h,g){var S=a.stateNode;S.props=h,S.state=a.memoizedState,S.refs={},xm(a);var A=c.contextType;typeof A=="object"&&A!==null?S.context=gr(A):(A=$n(c)?Go:bn.current,S.context=Ya(a,A)),S.state=a.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(_m(a,c,A,h),S.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(c=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),c!==S.state&&ld.enqueueReplaceState(S,S.state,null),td(a,h,S,g),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308)}function rs(a,c){try{var h="",g=c;do h+=de(g),g=g.return;while(g);var S=h}catch(A){S=`
Error generating stack: `+A.message+`
`+A.stack}return{value:a,source:c,stack:S,digest:null}}function Mm(a,c,h){return{value:a,source:null,stack:h??null,digest:c??null}}function Im(a,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var M5=typeof WeakMap=="function"?WeakMap:Map;function mS(a,c,h){h=Oi(-1,h),h.tag=3,h.payload={element:null};var g=c.value;return h.callback=function(){md||(md=!0,Xm=g),Im(a,c)},h}function gS(a,c,h){h=Oi(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var S=c.value;h.payload=function(){return g(S)},h.callback=function(){Im(a,c)}}var A=a.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(h.callback=function(){Im(a,c),typeof g!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var j=c.stack;this.componentDidCatch(c.value,{componentStack:j!==null?j:""})}),h}function vS(a,c,h){var g=a.pingCache;if(g===null){g=a.pingCache=new M5;var S=new Set;g.set(c,S)}else S=g.get(c),S===void 0&&(S=new Set,g.set(c,S));S.has(h)||(S.add(h),a=q5.bind(null,a,c,h),c.then(a,a))}function yS(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function xS(a,c,h,g,S){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=Oi(-1,1),c.tag=2,vo(h,c,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=S,a)}var I5=N.ReactCurrentOwner,Bn=!1;function Tn(a,c,h,g){c.child=a===null?$w(c,null,h,g):Ja(c,a.child,h,g)}function bS(a,c,h,g,S){h=h.render;var A=c.ref;return ts(c,S),g=km(a,c,h,g,A,S),h=Em(),a!==null&&!Bn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~S,ji(a,c,S)):(Ct&&h&&cm(c),c.flags|=1,Tn(a,c,g,S),c.child)}function wS(a,c,h,g,S){if(a===null){var A=h.type;return typeof A=="function"&&!rg(A)&&A.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=A,SS(a,c,A,g,S)):(a=wd(h.type,null,g,c,c.mode,S),a.ref=c.ref,a.return=c,c.child=a)}if(A=a.child,(a.lanes&S)===0){var j=A.memoizedProps;if(h=h.compare,h=h!==null?h:wl,h(j,g)&&a.ref===c.ref)return ji(a,c,S)}return c.flags|=1,a=Po(A,g),a.ref=c.ref,a.return=c,c.child=a}function SS(a,c,h,g,S){if(a!==null){var A=a.memoizedProps;if(wl(A,g)&&a.ref===c.ref)if(Bn=!1,c.pendingProps=g=A,(a.lanes&S)!==0)(a.flags&131072)!==0&&(Bn=!0);else return c.lanes=a.lanes,ji(a,c,S)}return Rm(a,c,h,g,S)}function PS(a,c,h){var g=c.pendingProps,S=g.children,A=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(os,er),er|=h;else{if((h&1073741824)===0)return a=A!==null?A.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,gt(os,er),er|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:h,gt(os,er),er|=g}else A!==null?(g=A.baseLanes|h,c.memoizedState=null):g=h,gt(os,er),er|=g;return Tn(a,c,S,h),c.child}function CS(a,c){var h=c.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Rm(a,c,h,g,S){var A=$n(h)?Go:bn.current;return A=Ya(c,A),ts(c,S),h=km(a,c,h,g,A,S),g=Em(),a!==null&&!Bn?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~S,ji(a,c,S)):(Ct&&g&&cm(c),c.flags|=1,Tn(a,c,h,S),c.child)}function AS(a,c,h,g,S){if($n(h)){var A=!0;Gu(c)}else A=!1;if(ts(c,S),c.stateNode===null)ud(a,c),pS(c,h,g),Dm(c,h,g,S),g=!0;else if(a===null){var j=c.stateNode,M=c.memoizedProps;j.props=M;var F=j.context,Z=h.contextType;typeof Z=="object"&&Z!==null?Z=gr(Z):(Z=$n(h)?Go:bn.current,Z=Ya(c,Z));var se=h.getDerivedStateFromProps,le=typeof se=="function"||typeof j.getSnapshotBeforeUpdate=="function";le||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(M!==g||F!==Z)&&hS(c,j,g,Z),go=!1;var oe=c.memoizedState;j.state=oe,td(c,g,j,S),F=c.memoizedState,M!==g||oe!==F||Fn.current||go?(typeof se=="function"&&(_m(c,h,se,g),F=c.memoizedState),(M=go||fS(c,h,M,g,oe,F,Z))?(le||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(c.flags|=4194308)):(typeof j.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=F),j.props=g,j.state=F,j.context=Z,g=M):(typeof j.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{j=c.stateNode,zw(a,c),M=c.memoizedProps,Z=c.type===c.elementType?M:Lr(c.type,M),j.props=Z,le=c.pendingProps,oe=j.context,F=h.contextType,typeof F=="object"&&F!==null?F=gr(F):(F=$n(h)?Go:bn.current,F=Ya(c,F));var Se=h.getDerivedStateFromProps;(se=typeof Se=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(M!==le||oe!==F)&&hS(c,j,g,F),go=!1,oe=c.memoizedState,j.state=oe,td(c,g,j,S);var Ee=c.memoizedState;M!==le||oe!==Ee||Fn.current||go?(typeof Se=="function"&&(_m(c,h,Se,g),Ee=c.memoizedState),(Z=go||fS(c,h,Z,g,oe,Ee,F)||!1)?(se||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(g,Ee,F),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(g,Ee,F)),typeof j.componentDidUpdate=="function"&&(c.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof j.componentDidUpdate!="function"||M===a.memoizedProps&&oe===a.memoizedState||(c.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&oe===a.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Ee),j.props=g,j.state=Ee,j.context=F,g=Z):(typeof j.componentDidUpdate!="function"||M===a.memoizedProps&&oe===a.memoizedState||(c.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&oe===a.memoizedState||(c.flags|=1024),g=!1)}return Lm(a,c,h,g,A,S)}function Lm(a,c,h,g,S,A){CS(a,c);var j=(c.flags&128)!==0;if(!g&&!j)return S&&jw(c,h,!1),ji(a,c,A);g=c.stateNode,I5.current=c;var M=j&&typeof h.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,a!==null&&j?(c.child=Ja(c,a.child,null,A),c.child=Ja(c,null,M,A)):Tn(a,c,M,A),c.memoizedState=g.state,S&&jw(c,h,!0),c.child}function kS(a){var c=a.stateNode;c.pendingContext?Nw(a,c.pendingContext,c.pendingContext!==c.context):c.context&&Nw(a,c.context,!1),bm(a,c.containerInfo)}function ES(a,c,h,g,S){return Qa(),pm(S),c.flags|=256,Tn(a,c,h,g),c.child}var Fm={dehydrated:null,treeContext:null,retryLane:0};function $m(a){return{baseLanes:a,cachePool:null,transitions:null}}function NS(a,c,h){var g=c.pendingProps,S=jt.current,A=!1,j=(c.flags&128)!==0,M;if((M=j)||(M=a!==null&&a.memoizedState===null?!1:(S&2)!==0),M?(A=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(S|=1),gt(jt,S&1),a===null)return fm(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(j=g.children,a=g.fallback,A?(g=c.mode,A=c.child,j={mode:"hidden",children:j},(g&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=j):A=Sd(j,g,0,null),a=na(a,g,h,null),A.return=c,a.return=c,A.sibling=a,c.child=A,c.child.memoizedState=$m(h),c.memoizedState=Fm,a):Bm(c,j));if(S=a.memoizedState,S!==null&&(M=S.dehydrated,M!==null))return R5(a,c,j,g,M,S,h);if(A){A=g.fallback,j=c.mode,S=a.child,M=S.sibling;var F={mode:"hidden",children:g.children};return(j&1)===0&&c.child!==S?(g=c.child,g.childLanes=0,g.pendingProps=F,c.deletions=null):(g=Po(S,F),g.subtreeFlags=S.subtreeFlags&14680064),M!==null?A=Po(M,A):(A=na(A,j,h,null),A.flags|=2),A.return=c,g.return=c,g.sibling=A,c.child=g,g=A,A=c.child,j=a.child.memoizedState,j=j===null?$m(h):{baseLanes:j.baseLanes|h,cachePool:null,transitions:j.transitions},A.memoizedState=j,A.childLanes=a.childLanes&~h,c.memoizedState=Fm,g}return A=a.child,a=A.sibling,g=Po(A,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=h),g.return=c,g.sibling=null,a!==null&&(h=c.deletions,h===null?(c.deletions=[a],c.flags|=16):h.push(a)),c.child=g,c.memoizedState=null,g}function Bm(a,c){return c=Sd({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function cd(a,c,h,g){return g!==null&&pm(g),Ja(c,a.child,null,h),a=Bm(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function R5(a,c,h,g,S,A,j){if(h)return c.flags&256?(c.flags&=-257,g=Mm(Error(n(422))),cd(a,c,j,g)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(A=g.fallback,S=c.mode,g=Sd({mode:"visible",children:g.children},S,0,null),A=na(A,S,j,null),A.flags|=2,g.return=c,A.return=c,g.sibling=A,c.child=g,(c.mode&1)!==0&&Ja(c,a.child,null,j),c.child.memoizedState=$m(j),c.memoizedState=Fm,A);if((c.mode&1)===0)return cd(a,c,j,null);if(S.data==="$!"){if(g=S.nextSibling&&S.nextSibling.dataset,g)var M=g.dgst;return g=M,A=Error(n(419)),g=Mm(A,g,void 0),cd(a,c,j,g)}if(M=(j&a.childLanes)!==0,Bn||M){if(g=Yt,g!==null){switch(j&-j){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(g.suspendedLanes|j))!==0?0:S,S!==0&&S!==A.retryLane&&(A.retryLane=S,Ni(a,S),Br(g,a,S,-1))}return ng(),g=Mm(Error(n(421))),cd(a,c,j,g)}return S.data==="$?"?(c.flags|=128,c.child=a.child,c=Y5.bind(null,a),S._reactRetry=c,null):(a=A.treeContext,Jn=fo(S.nextSibling),Qn=c,Ct=!0,Rr=null,a!==null&&(hr[mr++]=ki,hr[mr++]=Ei,hr[mr++]=Ko,ki=a.id,Ei=a.overflow,Ko=c),c=Bm(c,g.children),c.flags|=4096,c)}function OS(a,c,h){a.lanes|=c;var g=a.alternate;g!==null&&(g.lanes|=c),vm(a.return,c,h)}function zm(a,c,h,g,S){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:S}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=h,A.tailMode=S)}function jS(a,c,h){var g=c.pendingProps,S=g.revealOrder,A=g.tail;if(Tn(a,c,g.children,h),g=jt.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&OS(a,h,c);else if(a.tag===19)OS(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(gt(jt,g),(c.mode&1)===0)c.memoizedState=null;else switch(S){case"forwards":for(h=c.child,S=null;h!==null;)a=h.alternate,a!==null&&nd(a)===null&&(S=h),h=h.sibling;h=S,h===null?(S=c.child,c.child=null):(S=h.sibling,h.sibling=null),zm(c,!1,S,h,A);break;case"backwards":for(h=null,S=c.child,c.child=null;S!==null;){if(a=S.alternate,a!==null&&nd(a)===null){c.child=S;break}a=S.sibling,S.sibling=h,h=S,S=a}zm(c,!0,h,null,A);break;case"together":zm(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ud(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function ji(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),Qo|=c.lanes,(h&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,h=Po(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=Po(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function L5(a,c,h){switch(c.tag){case 3:kS(c),Qa();break;case 5:Uw(c);break;case 1:$n(c.type)&&Gu(c);break;case 4:bm(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,S=c.memoizedProps.value;gt(Qu,g._currentValue),g._currentValue=S;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(gt(jt,jt.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?NS(a,c,h):(gt(jt,jt.current&1),a=ji(a,c,h),a!==null?a.sibling:null);gt(jt,jt.current&1);break;case 19:if(g=(h&c.childLanes)!==0,(a.flags&128)!==0){if(g)return jS(a,c,h);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),gt(jt,jt.current),g)break;return null;case 22:case 23:return c.lanes=0,PS(a,c,h)}return ji(a,c,h)}var TS,Wm,_S,DS;TS=function(a,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Wm=function(){},_S=function(a,c,h,g){var S=a.memoizedProps;if(S!==g){a=c.stateNode,Xo(ti.current);var A=null;switch(h){case"input":S=we(a,S),g=we(a,g),A=[];break;case"select":S=ne({},S,{value:void 0}),g=ne({},g,{value:void 0}),A=[];break;case"textarea":S=Me(a,S),g=Me(a,g),A=[];break;default:typeof S.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Vu)}Ra(h,g);var j;h=null;for(Z in S)if(!g.hasOwnProperty(Z)&&S.hasOwnProperty(Z)&&S[Z]!=null)if(Z==="style"){var M=S[Z];for(j in M)M.hasOwnProperty(j)&&(h||(h={}),h[j]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?A||(A=[]):(A=A||[]).push(Z,null));for(Z in g){var F=g[Z];if(M=S?.[Z],g.hasOwnProperty(Z)&&F!==M&&(F!=null||M!=null))if(Z==="style")if(M){for(j in M)!M.hasOwnProperty(j)||F&&F.hasOwnProperty(j)||(h||(h={}),h[j]="");for(j in F)F.hasOwnProperty(j)&&M[j]!==F[j]&&(h||(h={}),h[j]=F[j])}else h||(A||(A=[]),A.push(Z,h)),h=F;else Z==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,M=M?M.__html:void 0,F!=null&&M!==F&&(A=A||[]).push(Z,F)):Z==="children"?typeof F!="string"&&typeof F!="number"||(A=A||[]).push(Z,""+F):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(F!=null&&Z==="onScroll"&&xt("scroll",a),A||M===F||(A=[])):(A=A||[]).push(Z,F))}h&&(A=A||[]).push("style",h);var Z=A;(c.updateQueue=Z)&&(c.flags|=4)}},DS=function(a,c,h,g){h!==g&&(c.flags|=4)};function Rl(a,c){if(!Ct)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Sn(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(c)for(var S=a.child;S!==null;)h|=S.lanes|S.childLanes,g|=S.subtreeFlags&14680064,g|=S.flags&14680064,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)h|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=g,a.childLanes=h,c}function F5(a,c,h){var g=c.pendingProps;switch(um(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(c),null;case 1:return $n(c.type)&&Hu(),Sn(c),null;case 3:return g=c.stateNode,ns(),bt(Fn),bt(bn),Pm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Xu(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Rr!==null&&(Jm(Rr),Rr=null))),Wm(a,c),Sn(c),null;case 5:wm(c);var S=Xo(Tl.current);if(h=c.type,a!==null&&c.stateNode!=null)_S(a,c,h,g,S),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(n(166));return Sn(c),null}if(a=Xo(ti.current),Xu(c)){g=c.stateNode,h=c.type;var A=c.memoizedProps;switch(g[ei]=c,g[kl]=A,a=(c.mode&1)!==0,h){case"dialog":xt("cancel",g),xt("close",g);break;case"iframe":case"object":case"embed":xt("load",g);break;case"video":case"audio":for(S=0;S<Pl.length;S++)xt(Pl[S],g);break;case"source":xt("error",g);break;case"img":case"image":case"link":xt("error",g),xt("load",g);break;case"details":xt("toggle",g);break;case"input":Ye(g,A),xt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},xt("invalid",g);break;case"textarea":He(g,A),xt("invalid",g)}Ra(h,A),S=null;for(var j in A)if(A.hasOwnProperty(j)){var M=A[j];j==="children"?typeof M=="string"?g.textContent!==M&&(A.suppressHydrationWarning!==!0&&Wu(g.textContent,M,a),S=["children",M]):typeof M=="number"&&g.textContent!==""+M&&(A.suppressHydrationWarning!==!0&&Wu(g.textContent,M,a),S=["children",""+M]):i.hasOwnProperty(j)&&M!=null&&j==="onScroll"&&xt("scroll",g)}switch(h){case"input":fe(g),xe(g,A,!0);break;case"textarea":fe(g),pt(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=Vu)}g=S,c.updateQueue=g,g!==null&&(c.flags|=4)}else{j=S.nodeType===9?S:S.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=at(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=j.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=j.createElement(h,{is:g.is}):(a=j.createElement(h),h==="select"&&(j=a,g.multiple?j.multiple=!0:g.size&&(j.size=g.size))):a=j.createElementNS(a,h),a[ei]=c,a[kl]=g,TS(a,c,!1,!1),c.stateNode=a;e:{switch(j=La(h,g),h){case"dialog":xt("cancel",a),xt("close",a),S=g;break;case"iframe":case"object":case"embed":xt("load",a),S=g;break;case"video":case"audio":for(S=0;S<Pl.length;S++)xt(Pl[S],a);S=g;break;case"source":xt("error",a),S=g;break;case"img":case"image":case"link":xt("error",a),xt("load",a),S=g;break;case"details":xt("toggle",a),S=g;break;case"input":Ye(a,g),S=we(a,g),xt("invalid",a);break;case"option":S=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},S=ne({},g,{value:void 0}),xt("invalid",a);break;case"textarea":He(a,g),S=Me(a,g),xt("invalid",a);break;default:S=g}Ra(h,S),M=S;for(A in M)if(M.hasOwnProperty(A)){var F=M[A];A==="style"?Yn(a,F):A==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&jn(a,F)):A==="children"?typeof F=="string"?(h!=="textarea"||F!=="")&&pr(a,F):typeof F=="number"&&pr(a,""+F):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?F!=null&&A==="onScroll"&&xt("scroll",a):F!=null&&E(a,A,F,j))}switch(h){case"input":fe(a),xe(a,g,!1);break;case"textarea":fe(a),pt(a);break;case"option":g.value!=null&&a.setAttribute("value",""+te(g.value));break;case"select":a.multiple=!!g.multiple,A=g.value,A!=null?ve(a,!!g.multiple,A,!1):g.defaultValue!=null&&ve(a,!!g.multiple,g.defaultValue,!0);break;default:typeof S.onClick=="function"&&(a.onclick=Vu)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Sn(c),null;case 6:if(a&&c.stateNode!=null)DS(a,c,a.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(h=Xo(Tl.current),Xo(ti.current),Xu(c)){if(g=c.stateNode,h=c.memoizedProps,g[ei]=c,(A=g.nodeValue!==h)&&(a=Qn,a!==null))switch(a.tag){case 3:Wu(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Wu(g.nodeValue,h,(a.mode&1)!==0)}A&&(c.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[ei]=c,c.stateNode=g}return Sn(c),null;case 13:if(bt(jt),g=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ct&&Jn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Rw(),Qa(),c.flags|=98560,A=!1;else if(A=Xu(c),g!==null&&g.dehydrated!==null){if(a===null){if(!A)throw Error(n(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[ei]=c}else Qa(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Sn(c),A=!1}else Rr!==null&&(Jm(Rr),Rr=null),A=!0;if(!A)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(jt.current&1)!==0?Ut===0&&(Ut=3):ng())),c.updateQueue!==null&&(c.flags|=4),Sn(c),null);case 4:return ns(),Wm(a,c),a===null&&Cl(c.stateNode.containerInfo),Sn(c),null;case 10:return gm(c.type._context),Sn(c),null;case 17:return $n(c.type)&&Hu(),Sn(c),null;case 19:if(bt(jt),A=c.memoizedState,A===null)return Sn(c),null;if(g=(c.flags&128)!==0,j=A.rendering,j===null)if(g)Rl(A,!1);else{if(Ut!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(j=nd(a),j!==null){for(c.flags|=128,Rl(A,!1),g=j.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=h,h=c.child;h!==null;)A=h,a=g,A.flags&=14680066,j=A.alternate,j===null?(A.childLanes=0,A.lanes=a,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=j.childLanes,A.lanes=j.lanes,A.child=j.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=j.memoizedProps,A.memoizedState=j.memoizedState,A.updateQueue=j.updateQueue,A.type=j.type,a=j.dependencies,A.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return gt(jt,jt.current&1|2),c.child}a=a.sibling}A.tail!==null&&Ft()>as&&(c.flags|=128,g=!0,Rl(A,!1),c.lanes=4194304)}else{if(!g)if(a=nd(j),a!==null){if(c.flags|=128,g=!0,h=a.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Rl(A,!0),A.tail===null&&A.tailMode==="hidden"&&!j.alternate&&!Ct)return Sn(c),null}else 2*Ft()-A.renderingStartTime>as&&h!==1073741824&&(c.flags|=128,g=!0,Rl(A,!1),c.lanes=4194304);A.isBackwards?(j.sibling=c.child,c.child=j):(h=A.last,h!==null?h.sibling=j:c.child=j,A.last=j)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=Ft(),c.sibling=null,h=jt.current,gt(jt,g?h&1|2:h&1),c):(Sn(c),null);case 22:case 23:return tg(),g=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(er&1073741824)!==0&&(Sn(c),c.subtreeFlags&6&&(c.flags|=8192)):Sn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function $5(a,c){switch(um(c),c.tag){case 1:return $n(c.type)&&Hu(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return ns(),bt(Fn),bt(bn),Pm(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return wm(c),null;case 13:if(bt(jt),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Qa()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return bt(jt),null;case 4:return ns(),null;case 10:return gm(c.type._context),null;case 22:case 23:return tg(),null;case 24:return null;default:return null}}var dd=!1,Pn=!1,B5=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function is(a,c){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Mt(a,c,g)}else h.current=null}function Vm(a,c,h){try{h()}catch(g){Mt(a,c,g)}}var MS=!1;function z5(a,c){if(tm=Tu,a=fw(),Kh(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var S=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var j=0,M=-1,F=-1,Z=0,se=0,le=a,oe=null;t:for(;;){for(var Se;le!==h||S!==0&&le.nodeType!==3||(M=j+S),le!==A||g!==0&&le.nodeType!==3||(F=j+g),le.nodeType===3&&(j+=le.nodeValue.length),(Se=le.firstChild)!==null;)oe=le,le=Se;for(;;){if(le===a)break t;if(oe===h&&++Z===S&&(M=j),oe===A&&++se===g&&(F=j),(Se=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=Se}h=M===-1||F===-1?null:{start:M,end:F}}else h=null}h=h||{start:0,end:0}}else h=null;for(nm={focusedElem:a,selectionRange:h},Tu=!1,Ae=c;Ae!==null;)if(c=Ae,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Ae=a;else for(;Ae!==null;){c=Ae;try{var Ee=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Oe=Ee.memoizedProps,$t=Ee.memoizedState,H=c.stateNode,z=H.getSnapshotBeforeUpdate(c.elementType===c.type?Oe:Lr(c.type,Oe),$t);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var K=c.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){Mt(c,c.return,pe)}if(a=c.sibling,a!==null){a.return=c.return,Ae=a;break}Ae=c.return}return Ee=MS,MS=!1,Ee}function Ll(a,c,h){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&a)===a){var A=S.destroy;S.destroy=void 0,A!==void 0&&Vm(c,h,A)}S=S.next}while(S!==g)}}function fd(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==c)}}function Um(a){var c=a.ref;if(c!==null){var h=a.stateNode;a.tag,a=h,typeof c=="function"?c(a):c.current=a}}function IS(a){var c=a.alternate;c!==null&&(a.alternate=null,IS(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[ei],delete c[kl],delete c[am],delete c[P5],delete c[C5])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function RS(a){return a.tag===5||a.tag===3||a.tag===4}function LS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||RS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Hm(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(a,c):h.insertBefore(a,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(a,h)):(c=h,c.appendChild(a)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Vu));else if(g!==4&&(a=a.child,a!==null))for(Hm(a,c,h),a=a.sibling;a!==null;)Hm(a,c,h),a=a.sibling}function Gm(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Gm(a,c,h),a=a.sibling;a!==null;)Gm(a,c,h),a=a.sibling}var un=null,Fr=!1;function yo(a,c,h){for(h=h.child;h!==null;)FS(a,c,h),h=h.sibling}function FS(a,c,h){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Au,h)}catch{}switch(h.tag){case 5:Pn||is(h,c);case 6:var g=un,S=Fr;un=null,yo(a,c,h),un=g,Fr=S,un!==null&&(Fr?(a=un,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):un.removeChild(h.stateNode));break;case 18:un!==null&&(Fr?(a=un,h=h.stateNode,a.nodeType===8?om(a.parentNode,h):a.nodeType===1&&om(a,h),ml(a)):om(un,h.stateNode));break;case 4:g=un,S=Fr,un=h.stateNode.containerInfo,Fr=!0,yo(a,c,h),un=g,Fr=S;break;case 0:case 11:case 14:case 15:if(!Pn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){S=g=g.next;do{var A=S,j=A.destroy;A=A.tag,j!==void 0&&((A&2)!==0||(A&4)!==0)&&Vm(h,c,j),S=S.next}while(S!==g)}yo(a,c,h);break;case 1:if(!Pn&&(is(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(M){Mt(h,c,M)}yo(a,c,h);break;case 21:yo(a,c,h);break;case 22:h.mode&1?(Pn=(g=Pn)||h.memoizedState!==null,yo(a,c,h),Pn=g):yo(a,c,h);break;default:yo(a,c,h)}}function $S(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new B5),c.forEach(function(g){var S=X5.bind(null,a,g);h.has(g)||(h.add(g),g.then(S,S))})}}function $r(a,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var S=h[g];try{var A=a,j=c,M=j;e:for(;M!==null;){switch(M.tag){case 5:un=M.stateNode,Fr=!1;break e;case 3:un=M.stateNode.containerInfo,Fr=!0;break e;case 4:un=M.stateNode.containerInfo,Fr=!0;break e}M=M.return}if(un===null)throw Error(n(160));FS(A,j,S),un=null,Fr=!1;var F=S.alternate;F!==null&&(F.return=null),S.return=null}catch(Z){Mt(S,c,Z)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)BS(c,a),c=c.sibling}function BS(a,c){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if($r(c,a),ri(a),g&4){try{Ll(3,a,a.return),fd(3,a)}catch(Oe){Mt(a,a.return,Oe)}try{Ll(5,a,a.return)}catch(Oe){Mt(a,a.return,Oe)}}break;case 1:$r(c,a),ri(a),g&512&&h!==null&&is(h,h.return);break;case 5:if($r(c,a),ri(a),g&512&&h!==null&&is(h,h.return),a.flags&32){var S=a.stateNode;try{pr(S,"")}catch(Oe){Mt(a,a.return,Oe)}}if(g&4&&(S=a.stateNode,S!=null)){var A=a.memoizedProps,j=h!==null?h.memoizedProps:A,M=a.type,F=a.updateQueue;if(a.updateQueue=null,F!==null)try{M==="input"&&A.type==="radio"&&A.name!=null&&ze(S,A),La(M,j);var Z=La(M,A);for(j=0;j<F.length;j+=2){var se=F[j],le=F[j+1];se==="style"?Yn(S,le):se==="dangerouslySetInnerHTML"?jn(S,le):se==="children"?pr(S,le):E(S,se,le,Z)}switch(M){case"input":rt(S,A);break;case"textarea":Ke(S,A);break;case"select":var oe=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!A.multiple;var Se=A.value;Se!=null?ve(S,!!A.multiple,Se,!1):oe!==!!A.multiple&&(A.defaultValue!=null?ve(S,!!A.multiple,A.defaultValue,!0):ve(S,!!A.multiple,A.multiple?[]:"",!1))}S[kl]=A}catch(Oe){Mt(a,a.return,Oe)}}break;case 6:if($r(c,a),ri(a),g&4){if(a.stateNode===null)throw Error(n(162));S=a.stateNode,A=a.memoizedProps;try{S.nodeValue=A}catch(Oe){Mt(a,a.return,Oe)}}break;case 3:if($r(c,a),ri(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{ml(c.containerInfo)}catch(Oe){Mt(a,a.return,Oe)}break;case 4:$r(c,a),ri(a);break;case 13:$r(c,a),ri(a),S=a.child,S.flags&8192&&(A=S.memoizedState!==null,S.stateNode.isHidden=A,!A||S.alternate!==null&&S.alternate.memoizedState!==null||(Ym=Ft())),g&4&&$S(a);break;case 22:if(se=h!==null&&h.memoizedState!==null,a.mode&1?(Pn=(Z=Pn)||se,$r(c,a),Pn=Z):$r(c,a),ri(a),g&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!se&&(a.mode&1)!==0)for(Ae=a,se=a.child;se!==null;){for(le=Ae=se;Ae!==null;){switch(oe=Ae,Se=oe.child,oe.tag){case 0:case 11:case 14:case 15:Ll(4,oe,oe.return);break;case 1:is(oe,oe.return);var Ee=oe.stateNode;if(typeof Ee.componentWillUnmount=="function"){g=oe,h=oe.return;try{c=g,Ee.props=c.memoizedProps,Ee.state=c.memoizedState,Ee.componentWillUnmount()}catch(Oe){Mt(g,h,Oe)}}break;case 5:is(oe,oe.return);break;case 22:if(oe.memoizedState!==null){VS(le);continue}}Se!==null?(Se.return=oe,Ae=Se):VS(le)}se=se.sibling}e:for(se=null,le=a;;){if(le.tag===5){if(se===null){se=le;try{S=le.stateNode,Z?(A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(M=le.stateNode,F=le.memoizedProps.style,j=F!=null&&F.hasOwnProperty("display")?F.display:null,M.style.display=Xr("display",j))}catch(Oe){Mt(a,a.return,Oe)}}}else if(le.tag===6){if(se===null)try{le.stateNode.nodeValue=Z?"":le.memoizedProps}catch(Oe){Mt(a,a.return,Oe)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===a)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===a)break e;for(;le.sibling===null;){if(le.return===null||le.return===a)break e;se===le&&(se=null),le=le.return}se===le&&(se=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:$r(c,a),ri(a),g&4&&$S(a);break;case 21:break;default:$r(c,a),ri(a)}}function ri(a){var c=a.flags;if(c&2){try{e:{for(var h=a.return;h!==null;){if(RS(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var S=g.stateNode;g.flags&32&&(pr(S,""),g.flags&=-33);var A=LS(a);Gm(a,A,S);break;case 3:case 4:var j=g.stateNode.containerInfo,M=LS(a);Hm(a,M,j);break;default:throw Error(n(161))}}catch(F){Mt(a,a.return,F)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function W5(a,c,h){Ae=a,zS(a)}function zS(a,c,h){for(var g=(a.mode&1)!==0;Ae!==null;){var S=Ae,A=S.child;if(S.tag===22&&g){var j=S.memoizedState!==null||dd;if(!j){var M=S.alternate,F=M!==null&&M.memoizedState!==null||Pn;M=dd;var Z=Pn;if(dd=j,(Pn=F)&&!Z)for(Ae=S;Ae!==null;)j=Ae,F=j.child,j.tag===22&&j.memoizedState!==null?US(S):F!==null?(F.return=j,Ae=F):US(S);for(;A!==null;)Ae=A,zS(A),A=A.sibling;Ae=S,dd=M,Pn=Z}WS(a)}else(S.subtreeFlags&8772)!==0&&A!==null?(A.return=S,Ae=A):WS(a)}}function WS(a){for(;Ae!==null;){var c=Ae;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Pn||fd(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Pn)if(h===null)g.componentDidMount();else{var S=c.elementType===c.type?h.memoizedProps:Lr(c.type,h.memoizedProps);g.componentDidUpdate(S,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&Vw(c,A,g);break;case 3:var j=c.updateQueue;if(j!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}Vw(c,j,h)}break;case 5:var M=c.stateNode;if(h===null&&c.flags&4){h=M;var F=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&h.focus();break;case"img":F.src&&(h.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Z=c.alternate;if(Z!==null){var se=Z.memoizedState;if(se!==null){var le=se.dehydrated;le!==null&&ml(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pn||c.flags&512&&Um(c)}catch(oe){Mt(c,c.return,oe)}}if(c===a){Ae=null;break}if(h=c.sibling,h!==null){h.return=c.return,Ae=h;break}Ae=c.return}}function VS(a){for(;Ae!==null;){var c=Ae;if(c===a){Ae=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Ae=h;break}Ae=c.return}}function US(a){for(;Ae!==null;){var c=Ae;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{fd(4,c)}catch(F){Mt(c,h,F)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var S=c.return;try{g.componentDidMount()}catch(F){Mt(c,S,F)}}var A=c.return;try{Um(c)}catch(F){Mt(c,A,F)}break;case 5:var j=c.return;try{Um(c)}catch(F){Mt(c,j,F)}}}catch(F){Mt(c,c.return,F)}if(c===a){Ae=null;break}var M=c.sibling;if(M!==null){M.return=c.return,Ae=M;break}Ae=c.return}}var V5=Math.ceil,pd=N.ReactCurrentDispatcher,Km=N.ReactCurrentOwner,yr=N.ReactCurrentBatchConfig,et=0,Yt=null,zt=null,dn=0,er=0,os=po(0),Ut=0,Fl=null,Qo=0,hd=0,qm=0,$l=null,zn=null,Ym=0,as=1/0,Ti=null,md=!1,Xm=null,xo=null,gd=!1,bo=null,vd=0,Bl=0,Zm=null,yd=-1,xd=0;function _n(){return(et&6)!==0?Ft():yd!==-1?yd:yd=Ft()}function wo(a){return(a.mode&1)===0?1:(et&2)!==0&&dn!==0?dn&-dn:k5.transition!==null?(xd===0&&(xd=L1()),xd):(a=lt,a!==0||(a=window.event,a=a===void 0?16:G1(a.type)),a)}function Br(a,c,h,g){if(50<Bl)throw Bl=0,Zm=null,Error(n(185));ul(a,h,g),((et&2)===0||a!==Yt)&&(a===Yt&&((et&2)===0&&(hd|=h),Ut===4&&So(a,dn)),Wn(a,g),h===1&&et===0&&(c.mode&1)===0&&(as=Ft()+500,Ku&&mo()))}function Wn(a,c){var h=a.callbackNode;kL(a,c);var g=Nu(a,a===Yt?dn:0);if(g===0)h!==null&&Qr(h),a.callbackNode=null,a.callbackPriority=0;else if(c=g&-g,a.callbackPriority!==c){if(h!=null&&Qr(h),c===1)a.tag===0?A5(GS.bind(null,a)):Tw(GS.bind(null,a)),w5(function(){(et&6)===0&&mo()}),h=null;else{switch(F1(g)){case 1:h=jh;break;case 4:h=I1;break;case 16:h=Cu;break;case 536870912:h=R1;break;default:h=Cu}h=eP(h,HS.bind(null,a))}a.callbackPriority=c,a.callbackNode=h}}function HS(a,c){if(yd=-1,xd=0,(et&6)!==0)throw Error(n(327));var h=a.callbackNode;if(ss()&&a.callbackNode!==h)return null;var g=Nu(a,a===Yt?dn:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||c)c=bd(a,g);else{c=g;var S=et;et|=2;var A=qS();(Yt!==a||dn!==c)&&(Ti=null,as=Ft()+500,ea(a,c));do try{G5();break}catch(M){KS(a,M)}while(!0);mm(),pd.current=A,et=S,zt!==null?c=0:(Yt=null,dn=0,c=Ut)}if(c!==0){if(c===2&&(S=Th(a),S!==0&&(g=S,c=Qm(a,S))),c===1)throw h=Fl,ea(a,0),So(a,g),Wn(a,Ft()),h;if(c===6)So(a,g);else{if(S=a.current.alternate,(g&30)===0&&!U5(S)&&(c=bd(a,g),c===2&&(A=Th(a),A!==0&&(g=A,c=Qm(a,A))),c===1))throw h=Fl,ea(a,0),So(a,g),Wn(a,Ft()),h;switch(a.finishedWork=S,a.finishedLanes=g,c){case 0:case 1:throw Error(n(345));case 2:ta(a,zn,Ti);break;case 3:if(So(a,g),(g&130023424)===g&&(c=Ym+500-Ft(),10<c)){if(Nu(a,0)!==0)break;if(S=a.suspendedLanes,(S&g)!==g){_n(),a.pingedLanes|=a.suspendedLanes&S;break}a.timeoutHandle=im(ta.bind(null,a,zn,Ti),c);break}ta(a,zn,Ti);break;case 4:if(So(a,g),(g&4194240)===g)break;for(c=a.eventTimes,S=-1;0<g;){var j=31-Mr(g);A=1<<j,j=c[j],j>S&&(S=j),g&=~A}if(g=S,g=Ft()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*V5(g/1960))-g,10<g){a.timeoutHandle=im(ta.bind(null,a,zn,Ti),g);break}ta(a,zn,Ti);break;case 5:ta(a,zn,Ti);break;default:throw Error(n(329))}}}return Wn(a,Ft()),a.callbackNode===h?HS.bind(null,a):null}function Qm(a,c){var h=$l;return a.current.memoizedState.isDehydrated&&(ea(a,c).flags|=256),a=bd(a,c),a!==2&&(c=zn,zn=h,c!==null&&Jm(c)),a}function Jm(a){zn===null?zn=a:zn.push.apply(zn,a)}function U5(a){for(var c=a;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var S=h[g],A=S.getSnapshot;S=S.value;try{if(!Ir(A(),S))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function So(a,c){for(c&=~qm,c&=~hd,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var h=31-Mr(c),g=1<<h;a[h]=-1,c&=~g}}function GS(a){if((et&6)!==0)throw Error(n(327));ss();var c=Nu(a,0);if((c&1)===0)return Wn(a,Ft()),null;var h=bd(a,c);if(a.tag!==0&&h===2){var g=Th(a);g!==0&&(c=g,h=Qm(a,g))}if(h===1)throw h=Fl,ea(a,0),So(a,c),Wn(a,Ft()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,ta(a,zn,Ti),Wn(a,Ft()),null}function eg(a,c){var h=et;et|=1;try{return a(c)}finally{et=h,et===0&&(as=Ft()+500,Ku&&mo())}}function Jo(a){bo!==null&&bo.tag===0&&(et&6)===0&&ss();var c=et;et|=1;var h=yr.transition,g=lt;try{if(yr.transition=null,lt=1,a)return a()}finally{lt=g,yr.transition=h,et=c,(et&6)===0&&mo()}}function tg(){er=os.current,bt(os)}function ea(a,c){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,b5(h)),zt!==null)for(h=zt.return;h!==null;){var g=h;switch(um(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Hu();break;case 3:ns(),bt(Fn),bt(bn),Pm();break;case 5:wm(g);break;case 4:ns();break;case 13:bt(jt);break;case 19:bt(jt);break;case 10:gm(g.type._context);break;case 22:case 23:tg()}h=h.return}if(Yt=a,zt=a=Po(a.current,null),dn=er=c,Ut=0,Fl=null,qm=hd=Qo=0,zn=$l=null,Yo!==null){for(c=0;c<Yo.length;c++)if(h=Yo[c],g=h.interleaved,g!==null){h.interleaved=null;var S=g.next,A=h.pending;if(A!==null){var j=A.next;A.next=S,g.next=j}h.pending=g}Yo=null}return a}function KS(a,c){do{var h=zt;try{if(mm(),rd.current=sd,id){for(var g=Tt.memoizedState;g!==null;){var S=g.queue;S!==null&&(S.pending=null),g=g.next}id=!1}if(Zo=0,qt=Vt=Tt=null,_l=!1,Dl=0,Km.current=null,h===null||h.return===null){Ut=1,Fl=c,zt=null;break}e:{var A=a,j=h.return,M=h,F=c;if(c=dn,M.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Z=F,se=M,le=se.tag;if((se.mode&1)===0&&(le===0||le===11||le===15)){var oe=se.alternate;oe?(se.updateQueue=oe.updateQueue,se.memoizedState=oe.memoizedState,se.lanes=oe.lanes):(se.updateQueue=null,se.memoizedState=null)}var Se=yS(j);if(Se!==null){Se.flags&=-257,xS(Se,j,M,A,c),Se.mode&1&&vS(A,Z,c),c=Se,F=Z;var Ee=c.updateQueue;if(Ee===null){var Oe=new Set;Oe.add(F),c.updateQueue=Oe}else Ee.add(F);break e}else{if((c&1)===0){vS(A,Z,c),ng();break e}F=Error(n(426))}}else if(Ct&&M.mode&1){var $t=yS(j);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),xS($t,j,M,A,c),pm(rs(F,M));break e}}A=F=rs(F,M),Ut!==4&&(Ut=2),$l===null?$l=[A]:$l.push(A),A=j;do{switch(A.tag){case 3:A.flags|=65536,c&=-c,A.lanes|=c;var H=mS(A,F,c);Ww(A,H);break e;case 1:M=F;var z=A.type,K=A.stateNode;if((A.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(xo===null||!xo.has(K)))){A.flags|=65536,c&=-c,A.lanes|=c;var pe=gS(A,M,c);Ww(A,pe);break e}}A=A.return}while(A!==null)}XS(h)}catch(Te){c=Te,zt===h&&h!==null&&(zt=h=h.return);continue}break}while(!0)}function qS(){var a=pd.current;return pd.current=sd,a===null?sd:a}function ng(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Yt===null||(Qo&268435455)===0&&(hd&268435455)===0||So(Yt,dn)}function bd(a,c){var h=et;et|=2;var g=qS();(Yt!==a||dn!==c)&&(Ti=null,ea(a,c));do try{H5();break}catch(S){KS(a,S)}while(!0);if(mm(),et=h,pd.current=g,zt!==null)throw Error(n(261));return Yt=null,dn=0,Ut}function H5(){for(;zt!==null;)YS(zt)}function G5(){for(;zt!==null&&!ll();)YS(zt)}function YS(a){var c=JS(a.alternate,a,er);a.memoizedProps=a.pendingProps,c===null?XS(a):zt=c,Km.current=null}function XS(a){var c=a;do{var h=c.alternate;if(a=c.return,(c.flags&32768)===0){if(h=F5(h,c,er),h!==null){zt=h;return}}else{if(h=$5(h,c),h!==null){h.flags&=32767,zt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Ut=6,zt=null;return}}if(c=c.sibling,c!==null){zt=c;return}zt=c=a}while(c!==null);Ut===0&&(Ut=5)}function ta(a,c,h){var g=lt,S=yr.transition;try{yr.transition=null,lt=1,K5(a,c,h,g)}finally{yr.transition=S,lt=g}return null}function K5(a,c,h,g){do ss();while(bo!==null);if((et&6)!==0)throw Error(n(327));h=a.finishedWork;var S=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var A=h.lanes|h.childLanes;if(EL(a,A),a===Yt&&(zt=Yt=null,dn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||gd||(gd=!0,eP(Cu,function(){return ss(),null})),A=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||A){A=yr.transition,yr.transition=null;var j=lt;lt=1;var M=et;et|=4,Km.current=null,z5(a,h),BS(h,a),p5(nm),Tu=!!tm,nm=tm=null,a.current=h,W5(h),yL(),et=M,lt=j,yr.transition=A}else a.current=h;if(gd&&(gd=!1,bo=a,vd=S),A=a.pendingLanes,A===0&&(xo=null),wL(h.stateNode),Wn(a,Ft()),c!==null)for(g=a.onRecoverableError,h=0;h<c.length;h++)S=c[h],g(S.value,{componentStack:S.stack,digest:S.digest});if(md)throw md=!1,a=Xm,Xm=null,a;return(vd&1)!==0&&a.tag!==0&&ss(),A=a.pendingLanes,(A&1)!==0?a===Zm?Bl++:(Bl=0,Zm=a):Bl=0,mo(),null}function ss(){if(bo!==null){var a=F1(vd),c=yr.transition,h=lt;try{if(yr.transition=null,lt=16>a?16:a,bo===null)var g=!1;else{if(a=bo,bo=null,vd=0,(et&6)!==0)throw Error(n(331));var S=et;for(et|=4,Ae=a.current;Ae!==null;){var A=Ae,j=A.child;if((Ae.flags&16)!==0){var M=A.deletions;if(M!==null){for(var F=0;F<M.length;F++){var Z=M[F];for(Ae=Z;Ae!==null;){var se=Ae;switch(se.tag){case 0:case 11:case 15:Ll(8,se,A)}var le=se.child;if(le!==null)le.return=se,Ae=le;else for(;Ae!==null;){se=Ae;var oe=se.sibling,Se=se.return;if(IS(se),se===Z){Ae=null;break}if(oe!==null){oe.return=Se,Ae=oe;break}Ae=Se}}}var Ee=A.alternate;if(Ee!==null){var Oe=Ee.child;if(Oe!==null){Ee.child=null;do{var $t=Oe.sibling;Oe.sibling=null,Oe=$t}while(Oe!==null)}}Ae=A}}if((A.subtreeFlags&2064)!==0&&j!==null)j.return=A,Ae=j;else e:for(;Ae!==null;){if(A=Ae,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Ll(9,A,A.return)}var H=A.sibling;if(H!==null){H.return=A.return,Ae=H;break e}Ae=A.return}}var z=a.current;for(Ae=z;Ae!==null;){j=Ae;var K=j.child;if((j.subtreeFlags&2064)!==0&&K!==null)K.return=j,Ae=K;else e:for(j=z;Ae!==null;){if(M=Ae,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:fd(9,M)}}catch(Te){Mt(M,M.return,Te)}if(M===j){Ae=null;break e}var pe=M.sibling;if(pe!==null){pe.return=M.return,Ae=pe;break e}Ae=M.return}}if(et=S,mo(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Au,a)}catch{}g=!0}return g}finally{lt=h,yr.transition=c}}return!1}function ZS(a,c,h){c=rs(h,c),c=mS(a,c,1),a=vo(a,c,1),c=_n(),a!==null&&(ul(a,1,c),Wn(a,c))}function Mt(a,c,h){if(a.tag===3)ZS(a,a,h);else for(;c!==null;){if(c.tag===3){ZS(c,a,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(xo===null||!xo.has(g))){a=rs(h,a),a=gS(c,a,1),c=vo(c,a,1),a=_n(),c!==null&&(ul(c,1,a),Wn(c,a));break}}c=c.return}}function q5(a,c,h){var g=a.pingCache;g!==null&&g.delete(c),c=_n(),a.pingedLanes|=a.suspendedLanes&h,Yt===a&&(dn&h)===h&&(Ut===4||Ut===3&&(dn&130023424)===dn&&500>Ft()-Ym?ea(a,0):qm|=h),Wn(a,c)}function QS(a,c){c===0&&((a.mode&1)===0?c=1:(c=Eu,Eu<<=1,(Eu&130023424)===0&&(Eu=4194304)));var h=_n();a=Ni(a,c),a!==null&&(ul(a,c,h),Wn(a,h))}function Y5(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),QS(a,h)}function X5(a,c){var h=0;switch(a.tag){case 13:var g=a.stateNode,S=a.memoizedState;S!==null&&(h=S.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(c),QS(a,h)}var JS;JS=function(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps||Fn.current)Bn=!0;else{if((a.lanes&h)===0&&(c.flags&128)===0)return Bn=!1,L5(a,c,h);Bn=(a.flags&131072)!==0}else Bn=!1,Ct&&(c.flags&1048576)!==0&&_w(c,Yu,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;ud(a,c),a=c.pendingProps;var S=Ya(c,bn.current);ts(c,h),S=km(null,c,g,a,S,h);var A=Em();return c.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,$n(g)?(A=!0,Gu(c)):A=!1,c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,xm(c),S.updater=ld,c.stateNode=S,S._reactInternals=c,Dm(c,g,a,h),c=Lm(null,c,g,!0,A,h)):(c.tag=0,Ct&&A&&cm(c),Tn(null,c,S,h),c=c.child),c;case 16:g=c.elementType;e:{switch(ud(a,c),a=c.pendingProps,S=g._init,g=S(g._payload),c.type=g,S=c.tag=Q5(g),a=Lr(g,a),S){case 0:c=Rm(null,c,g,a,h);break e;case 1:c=AS(null,c,g,a,h);break e;case 11:c=bS(null,c,g,a,h);break e;case 14:c=wS(null,c,g,Lr(g.type,a),h);break e}throw Error(n(306,g,""))}return c;case 0:return g=c.type,S=c.pendingProps,S=c.elementType===g?S:Lr(g,S),Rm(a,c,g,S,h);case 1:return g=c.type,S=c.pendingProps,S=c.elementType===g?S:Lr(g,S),AS(a,c,g,S,h);case 3:e:{if(kS(c),a===null)throw Error(n(387));g=c.pendingProps,A=c.memoizedState,S=A.element,zw(a,c),td(c,g,null,h);var j=c.memoizedState;if(g=j.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){S=rs(Error(n(423)),c),c=ES(a,c,g,h,S);break e}else if(g!==S){S=rs(Error(n(424)),c),c=ES(a,c,g,h,S);break e}else for(Jn=fo(c.stateNode.containerInfo.firstChild),Qn=c,Ct=!0,Rr=null,h=$w(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Qa(),g===S){c=ji(a,c,h);break e}Tn(a,c,g,h)}c=c.child}return c;case 5:return Uw(c),a===null&&fm(c),g=c.type,S=c.pendingProps,A=a!==null?a.memoizedProps:null,j=S.children,rm(g,S)?j=null:A!==null&&rm(g,A)&&(c.flags|=32),CS(a,c),Tn(a,c,j,h),c.child;case 6:return a===null&&fm(c),null;case 13:return NS(a,c,h);case 4:return bm(c,c.stateNode.containerInfo),g=c.pendingProps,a===null?c.child=Ja(c,null,g,h):Tn(a,c,g,h),c.child;case 11:return g=c.type,S=c.pendingProps,S=c.elementType===g?S:Lr(g,S),bS(a,c,g,S,h);case 7:return Tn(a,c,c.pendingProps,h),c.child;case 8:return Tn(a,c,c.pendingProps.children,h),c.child;case 12:return Tn(a,c,c.pendingProps.children,h),c.child;case 10:e:{if(g=c.type._context,S=c.pendingProps,A=c.memoizedProps,j=S.value,gt(Qu,g._currentValue),g._currentValue=j,A!==null)if(Ir(A.value,j)){if(A.children===S.children&&!Fn.current){c=ji(a,c,h);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var M=A.dependencies;if(M!==null){j=A.child;for(var F=M.firstContext;F!==null;){if(F.context===g){if(A.tag===1){F=Oi(-1,h&-h),F.tag=2;var Z=A.updateQueue;if(Z!==null){Z=Z.shared;var se=Z.pending;se===null?F.next=F:(F.next=se.next,se.next=F),Z.pending=F}}A.lanes|=h,F=A.alternate,F!==null&&(F.lanes|=h),vm(A.return,h,c),M.lanes|=h;break}F=F.next}}else if(A.tag===10)j=A.type===c.type?null:A.child;else if(A.tag===18){if(j=A.return,j===null)throw Error(n(341));j.lanes|=h,M=j.alternate,M!==null&&(M.lanes|=h),vm(j,h,c),j=A.sibling}else j=A.child;if(j!==null)j.return=A;else for(j=A;j!==null;){if(j===c){j=null;break}if(A=j.sibling,A!==null){A.return=j.return,j=A;break}j=j.return}A=j}Tn(a,c,S.children,h),c=c.child}return c;case 9:return S=c.type,g=c.pendingProps.children,ts(c,h),S=gr(S),g=g(S),c.flags|=1,Tn(a,c,g,h),c.child;case 14:return g=c.type,S=Lr(g,c.pendingProps),S=Lr(g.type,S),wS(a,c,g,S,h);case 15:return SS(a,c,c.type,c.pendingProps,h);case 17:return g=c.type,S=c.pendingProps,S=c.elementType===g?S:Lr(g,S),ud(a,c),c.tag=1,$n(g)?(a=!0,Gu(c)):a=!1,ts(c,h),pS(c,g,S),Dm(c,g,S,h),Lm(null,c,g,!0,a,h);case 19:return jS(a,c,h);case 22:return PS(a,c,h)}throw Error(n(156,c.tag))};function eP(a,c){return xn(a,c)}function Z5(a,c,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(a,c,h,g){return new Z5(a,c,h,g)}function rg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Q5(a){if(typeof a=="function")return rg(a)?1:0;if(a!=null){if(a=a.$$typeof,a===$)return 11;if(a===ue)return 14}return 2}function Po(a,c){var h=a.alternate;return h===null?(h=xr(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function wd(a,c,h,g,S,A){var j=2;if(g=a,typeof a=="function")rg(a)&&(j=1);else if(typeof a=="string")j=5;else e:switch(a){case _:return na(h.children,S,A,c);case D:j=8,S|=8;break;case V:return a=xr(12,h,c,S|2),a.elementType=V,a.lanes=A,a;case U:return a=xr(13,h,c,S),a.elementType=U,a.lanes=A,a;case ce:return a=xr(19,h,c,S),a.elementType=ce,a.lanes=A,a;case Q:return Sd(h,S,A,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case q:j=10;break e;case G:j=9;break e;case $:j=11;break e;case ue:j=14;break e;case ge:j=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=xr(j,h,c,S),c.elementType=a,c.type=g,c.lanes=A,c}function na(a,c,h,g){return a=xr(7,a,g,c),a.lanes=h,a}function Sd(a,c,h,g){return a=xr(22,a,g,c),a.elementType=Q,a.lanes=h,a.stateNode={isHidden:!1},a}function ig(a,c,h){return a=xr(6,a,null,c),a.lanes=h,a}function og(a,c,h){return c=xr(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function J5(a,c,h,g,S){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_h(0),this.expirationTimes=_h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.identifierPrefix=g,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function ag(a,c,h,g,S,A,j,M,F){return a=new J5(a,c,h,M,F),c===1?(c=1,A===!0&&(c|=8)):c=0,A=xr(3,null,null,c),a.current=A,A.stateNode=a,A.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},xm(A),a}function e3(a,c,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:g==null?null:""+g,children:a,containerInfo:c,implementation:h}}function tP(a){if(!a)return ho;a=a._reactInternals;e:{if(qe(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if($n(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if($n(h))return Ow(a,h,c)}return c}function nP(a,c,h,g,S,A,j,M,F){return a=ag(h,g,!0,a,S,A,j,M,F),a.context=tP(null),h=a.current,g=_n(),S=wo(h),A=Oi(g,S),A.callback=c??null,vo(h,A,S),a.current.lanes=S,ul(a,S,g),Wn(a,g),a}function Pd(a,c,h,g){var S=c.current,A=_n(),j=wo(S);return h=tP(h),c.context===null?c.context=h:c.pendingContext=h,c=Oi(A,j),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=vo(S,c,j),a!==null&&(Br(a,S,j,A),ed(a,S,j)),j}function Cd(a){return a=a.current,a.child?(a.child.tag===5,a.child.stateNode):null}function rP(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function sg(a,c){rP(a,c),(a=a.alternate)&&rP(a,c)}function t3(){return null}var iP=typeof reportError=="function"?reportError:function(a){console.error(a)};function lg(a){this._internalRoot=a}Ad.prototype.render=lg.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));Pd(a,c,null,null)},Ad.prototype.unmount=lg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Jo(function(){Pd(null,a,null,null)}),c[Ci]=null}};function Ad(a){this._internalRoot=a}Ad.prototype.unstable_scheduleHydration=function(a){if(a){var c=z1();a={blockedOn:null,target:a,priority:c};for(var h=0;h<lo.length&&c!==0&&c<lo[h].priority;h++);lo.splice(h,0,a),h===0&&U1(a)}};function cg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function kd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function oP(){}function n3(a,c,h,g,S){if(S){if(typeof g=="function"){var A=g;g=function(){var Z=Cd(j);A.call(Z)}}var j=nP(c,g,a,0,null,!1,!1,"",oP);return a._reactRootContainer=j,a[Ci]=j.current,Cl(a.nodeType===8?a.parentNode:a),Jo(),j}for(;S=a.lastChild;)a.removeChild(S);if(typeof g=="function"){var M=g;g=function(){var Z=Cd(F);M.call(Z)}}var F=ag(a,0,!1,null,null,!1,!1,"",oP);return a._reactRootContainer=F,a[Ci]=F.current,Cl(a.nodeType===8?a.parentNode:a),Jo(function(){Pd(c,F,h,g)}),F}function Ed(a,c,h,g,S){var A=h._reactRootContainer;if(A){var j=A;if(typeof S=="function"){var M=S;S=function(){var F=Cd(j);M.call(F)}}Pd(c,j,a,S)}else j=n3(h,c,a,S,g);return Cd(j)}$1=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var h=cl(c.pendingLanes);h!==0&&(Dh(c,h|1),Wn(c,Ft()),(et&6)===0&&(as=Ft()+500,mo()))}break;case 13:Jo(function(){var g=Ni(a,1);if(g!==null){var S=_n();Br(g,a,1,S)}}),sg(a,1)}},Mh=function(a){if(a.tag===13){var c=Ni(a,134217728);if(c!==null){var h=_n();Br(c,a,134217728,h)}sg(a,134217728)}},B1=function(a){if(a.tag===13){var c=wo(a),h=Ni(a,c);if(h!==null){var g=_n();Br(h,a,c,g)}sg(a,c)}},z1=function(){return lt},W1=function(a,c){var h=lt;try{return lt=a,c()}finally{lt=h}},st=function(a,c,h){switch(c){case"input":if(rt(a,h),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==a&&g.form===a.form){var S=Uu(g);if(!S)throw Error(n(90));I(g),rt(g,S)}}}break;case"textarea":Ke(a,h);break;case"select":c=h.value,c!=null&&ve(a,!!h.multiple,c,!1)}},al=eg,Pu=Jo;var r3={usingClientEntryPoint:!1,Events:[El,Ka,Uu,wu,Su,eg]},zl={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i3={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=yt(a),a===null?null:a.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||t3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{Au=Nd.inject(i3),Jr=Nd}catch{}}return Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r3,Vn.createPortal=function(a,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cg(c))throw Error(n(200));return e3(a,c,null,h)},Vn.createRoot=function(a,c){if(!cg(a))throw Error(n(299));var h=!1,g="",S=iP;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),c=ag(a,1,!1,null,null,h,!1,g,S),a[Ci]=c.current,Cl(a.nodeType===8?a.parentNode:a),new lg(c)},Vn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=yt(c),a=a===null?null:a.stateNode,a},Vn.flushSync=function(a){return Jo(a)},Vn.hydrate=function(a,c,h){if(!kd(c))throw Error(n(200));return Ed(null,a,c,!0,h)},Vn.hydrateRoot=function(a,c,h){if(!cg(a))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,S=!1,A="",j=iP;if(h!=null&&(h.unstable_strictMode===!0&&(S=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&(j=h.onRecoverableError)),c=nP(c,null,a,1,h??null,S,!1,A,j),a[Ci]=c.current,Cl(a),g)for(a=0;a<g.length;a++)h=g[a],S=h._getVersion,S=S(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,S]:c.mutableSourceEagerHydrationData.push(h,S);return new Ad(c)},Vn.render=function(a,c,h){if(!kd(c))throw Error(n(200));return Ed(null,a,c,!1,h)},Vn.unmountComponentAtNode=function(a){if(!kd(a))throw Error(n(40));return a._reactRootContainer?(Jo(function(){Ed(null,null,a,!1,function(){a._reactRootContainer=null,a[Ci]=null})}),!0):!1},Vn.unstable_batchedUpdates=eg,Vn.unstable_renderSubtreeIntoContainer=function(a,c,h,g){if(!kd(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Ed(a,c,h,!1,g)},Vn.version="18.3.1-next-f1338f8080-20240426",Vn}var pP;function oO(){if(pP)return fg.exports;pP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fg.exports=p3(),fg.exports}var hP;function h3(){if(hP)return Od;hP=1;var e=oO();return Od.createRoot=e.createRoot,Od.hydrateRoot=e.hydrateRoot,Od}var m3=h3();const g3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aO=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var v3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const y3=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...l},u)=>P.createElement("svg",{ref:u,...v3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:aO("lucide",i),...l},[...s.map(([d,f])=>P.createElement(d,f)),...Array.isArray(o)?o:[o]]));const Ge=(e,t)=>{const n=P.forwardRef(({className:r,...i},o)=>P.createElement(y3,{ref:o,iconNode:t,className:aO(`lucide-${g3(e)}`,r),...i}));return n.displayName=`${e}`,n};const sO=Ge("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);const lO=Ge("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const x3=Ge("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const b3=Ge("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);const As=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Py=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const w3=Ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const S3=Ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const P3=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const C3=Ge("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const cO=Ge("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);const A3=Ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const k3=Ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const E3=Ge("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);const mP=Ge("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const uO=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const N3=Ge("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);const O3=Ge("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const j3=Ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const gP=Ge("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const dO=Ge("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const T3=Ge("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const ks=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const _3=Ge("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);const D3=Ge("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const M3=Ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const I3=Ge("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);const R3=Ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const L3=Ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const Os=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const F3=Ge("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);const $3=Ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const B3=Ge("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);const js=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const z3=Ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const W3=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const V3=Ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const U3=Ge("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const bf=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const vP=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const vc=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const H3=Ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);const G3=Ge("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const K3=Ge("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),q3=[{id:"agent",label:"LeapOS",icon:x3},{id:"lens",label:"Lens Designer",icon:P3},{id:"system",label:"System Editor",icon:dO},{id:"coating",label:"Coating Lab",icon:sO},{id:"info",label:"User Guide",icon:lO},{id:"properties",label:"Properties",icon:W3},{id:"export",label:"Export",icon:E3}];function Y3({activeTab:e,onTabChange:t,loadedFileName:n}){return y.jsx("div",{className:"glass-card border-b border-white/10 rounded-none",children:y.jsxs("nav",{className:"flex items-center gap-1 px-6 py-3",children:[y.jsxs("div",{className:"flex items-center gap-4 mr-8",children:[y.jsx("span",{className:"text-cyan-electric font-semibold text-lg",children:"Photon Leap"}),n&&y.jsxs("span",{className:"text-slate-400 text-sm font-medium",children:["File: ",n]})]}),q3.map(r=>{const i=r.icon,o=e===r.id;return y.jsxs("button",{"data-testid":`nav-${r.id}`,onClick:()=>t(r.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${o?"text-cyan-electric bg-white/10":"text-slate-300 hover:text-cyan-electric hover:bg-white/5"}`,children:[y.jsx(i,{className:"w-4 h-4",strokeWidth:2}),y.jsx("span",{className:"text-sm font-medium",children:r.label})]},r.id)})]})})}const fO=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0,$e={apiBaseUrl:"http://localhost:8000",viewport:{width:640,height:320},rayCount:{min:3,max:21},defaults:{entrancePupilDiameter:10,wavelengths:[587.6,486.1,656.3],fieldAngles:[0,7,14],numRays:9,defaultWavelength:587.6,defaultFieldAngle:7},surfaceDefaults:{thickness:10,diameter:25,refractiveIndex:1},view:{padding:40,scaleFactor:.9,minZExtent:30,extendZFactor:.2,extendZMin:50},maxFieldAngles:3,rayColors:["#22D3EE","#22C55E","#F97316"],paraxial:{focusYFactor:.15,lensToFocusFactor:.3},toastDuration:2500,thermalPowerThresholdW:1,llm:{anthropicApiKey:"",openaiApiKey:"",deepseekApiKey:""},agentRmsThresholdUm:1e3,localAgent:{apiBase:"http://localhost:1234/v1",apiKey:"lm-studio",modelId:"deepseek-r1-distill-qwen-32b-mlx"}};let tr=null,jd=null;function X3(){const e=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=`${e.endsWith("/")?e:`${e}/`}pyodide/worker.js`;return typeof location<"u"?new URL(n,location.href).href:n.startsWith("http")?n:typeof document<"u"?new URL(n,document.baseURI).href:n}async function Op(){return tr||(jd?(await jd,tr):(jd=(async()=>{tr=new Worker(X3(),{type:"classic"}),tr.addEventListener("message",e=>{e.data?.type==="log"&&(e.data.lines||[]).forEach(t=>console.log("%c[Python]","color: #4CAF50",t))}),await new Promise((e,t)=>{const n=i=>{i.data?.type==="ready"&&(tr.removeEventListener("message",n),tr.removeEventListener("error",r),i.data.error?t(new Error(i.data.error)):e())},r=i=>{tr.removeEventListener("message",n),tr.removeEventListener("error",r),t(i)};tr.addEventListener("message",n),tr.addEventListener("error",r),tr.postMessage({type:"init"})})})(),await jd,tr))}async function Z3(e){const t=await Op(),n={surfaces:e.surfaces.map(i=>({id:i.id,type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,coating:i.coating,sellmeierCoefficients:i.sellmeierCoefficients,coatingDataPoints:i.coatingDataPoints,coatingConstantValue:i.coatingConstantValue,coatingIsHr:i.coatingIsHr})),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:(e.fieldAngles??[0]).slice(0,$e.maxFieldAngles),numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1},r=`trace-${Date.now()}-${Math.random().toString(36).slice(2)}`;return new Promise((i,o)=>{const s=l=>{l.data?.type==="trace"&&l.data.id===r&&(t.removeEventListener("message",s),l.data.error?o(new Error(l.data.error)):i(l.data.result))};t.addEventListener("message",s),t.postMessage({type:"trace",id:r,payload:n})})}async function Q3(e){const t=await Op(),n={surfaces:e.surfaces.map(i=>({id:i.id,type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,sellmeierCoefficients:i.sellmeierCoefficients})),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:(e.fieldAngles??[0]).slice(0,$e.maxFieldAngles),numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1,wavelength_min_nm:e.wavelength_min_nm??400,wavelength_max_nm:e.wavelength_max_nm??1100,wavelength_step_nm:e.wavelength_step_nm??10},r=`chromatic-${Date.now()}-${Math.random().toString(36).slice(2)}`;return new Promise((i,o)=>{const s=l=>{l.data?.type==="chromatic-shift"&&l.data.id===r&&(t.removeEventListener("message",s),l.data.error?o(new Error(l.data.error)):i(l.data.result??[]))};t.addEventListener("message",s),t.postMessage({type:"chromatic-shift",id:r,payload:n})})}async function J3(e){const t=await Op(),n={surfaces:e.surfaces.map(i=>({id:i.id,type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,sellmeierCoefficients:i.sellmeierCoefficients})),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:(e.fieldAngles??[0]).slice(0,$e.maxFieldAngles),numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1},r=`optimize-${Date.now()}-${Math.random().toString(36).slice(2)}`;return new Promise((i,o)=>{const s=l=>{l.data?.type==="optimize-colors"&&l.data.id===r&&(t.removeEventListener("message",s),l.data.error?o(new Error(l.data.error)):i(l.data.result??{recommended_glass:"",estimated_lca_reduction:0}))};t.addEventListener("message",s),t.postMessage({type:"optimize-colors",id:r,payload:n})})}function e4(){return!0}function t4(){return Op().then(()=>{})}const Z0=P.createContext({});function Q0(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const jp=P.createContext(null),J0=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class n4 extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function r4({children:e,isPresent:t}){const n=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=P.useContext(J0);return P.useInsertionEffect(()=>{const{width:s,height:l,top:u,left:d}=i.current;if(t||!r.current||!s||!l)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return o&&(f.nonce=o),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),y.jsx(n4,{isPresent:t,childRef:r,sizeRef:i,children:P.cloneElement(e,{ref:r})})}const i4=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const l=Q0(o4),u=P.useId(),d=P.useCallback(p=>{l.set(p,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),f=P.useMemo(()=>({id:u,initial:t,isPresent:n,custom:i,onExitComplete:d,register:p=>(l.set(p,!1),()=>l.delete(p))}),o?[Math.random(),d]:[n,d]);return P.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),P.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),s==="popLayout"&&(e=y.jsx(r4,{isPresent:n,children:e})),y.jsx(jp.Provider,{value:f,children:e})};function o4(){return new Map}function pO(e=!0){const t=P.useContext(jp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=P.useId();P.useEffect(()=>{e&&i(o)},[e]);const s=P.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}const Td=e=>e.key||"";function yP(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const ex=typeof window<"u",hO=ex?P.useLayoutEffect:P.useEffect,zi=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1})=>{const[l,u]=pO(s),d=P.useMemo(()=>yP(e),[e]),f=s&&!l?[]:d.map(Td),p=P.useRef(!0),m=P.useRef(d),v=Q0(()=>new Map),[x,w]=P.useState(d),[b,C]=P.useState(d);hO(()=>{p.current=!1,m.current=d;for(let N=0;N<b.length;N++){const T=Td(b[N]);f.includes(T)?v.delete(T):v.get(T)!==!0&&v.set(T,!1)}},[b,f.length,f.join("-")]);const k=[];if(d!==x){let N=[...d];for(let T=0;T<b.length;T++){const O=b[T],_=Td(O);f.includes(_)||(N.splice(T,0,O),k.push(O))}o==="wait"&&k.length&&(N=k),C(yP(N)),w(d);return}const{forceRender:E}=P.useContext(Z0);return y.jsx(y.Fragment,{children:b.map(N=>{const T=Td(N),O=s&&!l?!1:d===b||f.includes(T),_=()=>{if(v.has(T))v.set(T,!0);else return;let D=!0;v.forEach(V=>{V||(D=!1)}),D&&(E?.(),C(m.current),s&&u?.(),r&&r())};return y.jsx(i4,{isPresent:O,initial:!p.current||n?void 0:!1,custom:O?void 0:t,presenceAffectsLayout:i,mode:o,onExitComplete:O?void 0:_,children:N},T)})})},ar=e=>e;let mO=ar;function tx(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ts=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Li=e=>e*1e3,Fi=e=>e/1e3,a4={useManualTiming:!1};function s4(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(u.schedule(d),e()),d(s)}const u={schedule:(d,f=!1,p=!1)=>{const v=p&&r?t:n;return f&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(s=d,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,i&&(i=!1,u.process(d))}};return u}const _d=["read","resolveKeyframes","update","preRender","render","postRender"],l4=40;function gO(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=_d.reduce((C,k)=>(C[k]=s4(o),C),{}),{read:l,resolveKeyframes:u,update:d,preRender:f,render:p,postRender:m}=s,v=()=>{const C=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(C-i.timestamp,l4),1),i.timestamp=C,i.isProcessing=!0,l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(v))},x=()=>{n=!0,r=!0,i.isProcessing||e(v)};return{schedule:_d.reduce((C,k)=>{const E=s[k];return C[k]=(N,T=!1,O=!1)=>(n||x(),E.schedule(N,T,O)),C},{}),cancel:C=>{for(let k=0;k<_d.length;k++)s[_d[k]].cancel(C)},state:i,steps:s}}const{schedule:St,cancel:Io,state:fn,steps:mg}=gO(typeof requestAnimationFrame<"u"?requestAnimationFrame:ar,!0),vO=P.createContext({strict:!1}),xP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_s={};for(const e in xP)_s[e]={isEnabled:t=>xP[e].some(n=>!!t[n])};function c4(e){for(const t in e)_s[t]={..._s[t],...e[t]}}const u4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||u4.has(e)}let yO=e=>!wf(e);function d4(e){e&&(yO=t=>t.startsWith("on")?!wf(t):e(t))}try{d4(require("@emotion/is-prop-valid").default)}catch{}function f4(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(yO(i)||n===!0&&wf(i)||!t&&!wf(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function p4(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Tp=P.createContext({});function yc(e){return typeof e=="string"||Array.isArray(e)}function _p(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const nx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rx=["initial",...nx];function Dp(e){return _p(e.animate)||rx.some(t=>yc(e[t]))}function xO(e){return!!(Dp(e)||e.variants)}function h4(e,t){if(Dp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||yc(n)?n:void 0,animate:yc(r)?r:void 0}}return e.inherit!==!1?t:{}}function m4(e){const{initial:t,animate:n}=h4(e,P.useContext(Tp));return P.useMemo(()=>({initial:t,animate:n}),[bP(t),bP(n)])}function bP(e){return Array.isArray(e)?e.join(" "):e}const g4=Symbol.for("motionComponentSymbol");function gs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function v4(e,t,n){return P.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):gs(n)&&(n.current=r))},[t])}const ix=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),y4="framerAppearId",bO="data-"+ix(y4),{schedule:ox}=gO(queueMicrotask,!1),wO=P.createContext({});function x4(e,t,n,r,i){var o,s;const{visualElement:l}=P.useContext(Tp),u=P.useContext(vO),d=P.useContext(jp),f=P.useContext(J0).reducedMotion,p=P.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,v=P.useContext(wO);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&b4(p.current,n,i,v);const x=P.useRef(!1);P.useInsertionEffect(()=>{m&&x.current&&m.update(n,d)});const w=n[bO],b=P.useRef(!!w&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,w))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,w)));return hO(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),ox.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),P.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,w)}),b.current=!1))}),m}function b4(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:l,layoutScroll:u,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:SO(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||l&&gs(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:d})}function SO(e){if(e)return e.options.allowProjection!==!1?e.projection:SO(e.parent)}function w4({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var o,s;e&&c4(e);function l(d,f){let p;const m={...P.useContext(J0),...d,layoutId:S4(d)},{isStatic:v}=m,x=m4(d),w=r(d,v);if(!v&&ex){P4();const b=C4(m);p=b.MeasureLayout,x.visualElement=x4(i,w,m,t,b.ProjectionNode)}return y.jsxs(Tp.Provider,{value:x,children:[p&&x.visualElement?y.jsx(p,{visualElement:x.visualElement,...m}):null,n(i,d,v4(w,x.visualElement,f),w,v,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(s=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&s!==void 0?s:""})`}`;const u=P.forwardRef(l);return u[g4]=i,u}function S4({layoutId:e}){const t=P.useContext(Z0).id;return t&&e!==void 0?t+"-"+e:e}function P4(e,t){P.useContext(vO).strict}function C4(e){const{drag:t,layout:n}=_s;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const A4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ax(e){return typeof e!="string"||e.includes("-")?!1:!!(A4.indexOf(e)>-1||/[A-Z]/u.test(e))}function wP(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function sx(e,t,n,r){if(typeof t=="function"){const[i,o]=wP(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=wP(r);t=t(n!==void 0?n:e.custom,i,o)}return t}const Cy=e=>Array.isArray(e),k4=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),E4=e=>Cy(e)?e[e.length-1]||0:e,En=e=>!!(e&&e.getVelocity);function sf(e){const t=En(e)?e.get():e;return k4(t)?t.toValue():t}function N4({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,o){const s={latestValues:O4(r,i,o,e),renderState:t()};return n&&(s.onMount=l=>n({props:r,current:l,...s}),s.onUpdate=l=>n(l)),s}const PO=e=>(t,n)=>{const r=P.useContext(Tp),i=P.useContext(jp),o=()=>N4(e,t,r,i);return n?o():Q0(o)};function O4(e,t,n,r){const i={},o=r(e,{});for(const m in o)i[m]=sf(o[m]);let{initial:s,animate:l}=e;const u=Dp(e),d=xO(e);t&&d&&!u&&e.inherit!==!1&&(s===void 0&&(s=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||s===!1;const p=f?l:s;if(p&&typeof p!="boolean"&&!_p(p)){const m=Array.isArray(p)?p:[p];for(let v=0;v<m.length;v++){const x=sx(e,m[v]);if(x){const{transitionEnd:w,transition:b,...C}=x;for(const k in C){let E=C[k];if(Array.isArray(E)){const N=f?E.length-1:0;E=E[N]}E!==null&&(i[k]=E)}for(const k in w)i[k]=w[k]}}}return i}const Us=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Da=new Set(Us),CO=e=>t=>typeof t=="string"&&t.startsWith(e),AO=CO("--"),j4=CO("var(--"),lx=e=>j4(e)?T4.test(e.split("/*")[0].trim()):!1,T4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kO=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Wi=(e,t,n)=>n>t?t:n<e?e:n,Hs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},xc={...Hs,transform:e=>Wi(0,1,e)},Dd={...Hs,default:1},Kc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ao=Kc("deg"),fi=Kc("%"),Fe=Kc("px"),_4=Kc("vh"),D4=Kc("vw"),SP={...fi,parse:e=>fi.parse(e)/100,transform:e=>fi.transform(e*100)},M4={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe},I4={rotate:Ao,rotateX:Ao,rotateY:Ao,rotateZ:Ao,scale:Dd,scaleX:Dd,scaleY:Dd,scaleZ:Dd,skew:Ao,skewX:Ao,skewY:Ao,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:xc,originX:SP,originY:SP,originZ:Fe},PP={...Hs,transform:Math.round},cx={...M4,...I4,zIndex:PP,size:Fe,fillOpacity:xc,strokeOpacity:xc,numOctaves:PP},R4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L4=Us.length;function F4(e,t,n){let r="",i=!0;for(let o=0;o<L4;o++){const s=Us[o],l=e[s];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(s.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=kO(l,cx[s]);if(!u){i=!1;const f=R4[s]||s;r+=`${f}(${d}) `}n&&(t[s]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function ux(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,l=!1;for(const u in t){const d=t[u];if(Da.has(u)){s=!0;continue}else if(AO(u)){i[u]=d;continue}else{const f=kO(d,cx[u]);u.startsWith("origin")?(l=!0,o[u]=f):r[u]=f}}if(t.transform||(s||n?r.transform=F4(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=o;r.transformOrigin=`${u} ${d} ${f}`}}const $4={offset:"stroke-dashoffset",array:"stroke-dasharray"},B4={offset:"strokeDashoffset",array:"strokeDasharray"};function z4(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?$4:B4;e[o.offset]=Fe.transform(-r);const s=Fe.transform(t),l=Fe.transform(n);e[o.array]=`${s} ${l}`}function CP(e,t,n){return typeof e=="string"?e:Fe.transform(t+n*e)}function W4(e,t,n){const r=CP(t,e.x,e.width),i=CP(n,e.y,e.height);return`${r} ${i}`}function dx(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:l=1,pathOffset:u=0,...d},f,p){if(ux(e,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:x}=e;m.transform&&(x&&(v.transform=m.transform),delete m.transform),x&&(i!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=W4(x,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&z4(m,s,l,u,!1)}const fx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),EO=()=>({...fx(),attrs:{}}),px=e=>typeof e=="string"&&e.toLowerCase()==="svg";function NO(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const OO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jO(e,t,n,r){NO(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(OO.has(i)?i:ix(i),t.attrs[i])}const Sf={};function V4(e){Object.assign(Sf,e)}function TO(e,{layout:t,layoutId:n}){return Da.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Sf[e]||e==="opacity")}function hx(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(En(i[s])||t.style&&En(t.style[s])||TO(s,e)||((r=n?.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function _O(e,t,n){const r=hx(e,t,n);for(const i in e)if(En(e[i])||En(t[i])){const o=Us.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}function U4(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const AP=["x","y","width","height","cx","cy","r"],H4={useVisualState:PO({scrapeMotionValuesFromProps:_O,createRenderState:EO,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!e.drag;if(!o){for(const l in i)if(Da.has(l)){o=!0;break}}if(!o)return;let s=!t;if(t)for(let l=0;l<AP.length;l++){const u=AP[l];e[u]!==t[u]&&(s=!0)}s&&St.read(()=>{U4(n,r),St.render(()=>{dx(r,i,px(n.tagName),e.transformTemplate),jO(n,r)})})}})},G4={useVisualState:PO({scrapeMotionValuesFromProps:hx,createRenderState:fx})};function DO(e,t,n){for(const r in t)!En(t[r])&&!TO(r,n)&&(e[r]=t[r])}function K4({transformTemplate:e},t){return P.useMemo(()=>{const n=fx();return ux(n,t,e),Object.assign({},n.vars,n.style)},[t])}function q4(e,t){const n=e.style||{},r={};return DO(r,n,e),Object.assign(r,K4(e,t)),r}function Y4(e,t){const n={},r=q4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function X4(e,t,n,r){const i=P.useMemo(()=>{const o=EO();return dx(o,t,px(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};DO(o,e.style,e),i.style={...o,...i.style}}return i}function Z4(e=!1){return(n,r,i,{latestValues:o},s)=>{const u=(ax(n)?X4:Y4)(r,o,s,n),d=f4(r,typeof n=="string",e),f=n!==P.Fragment?{...d,...u,ref:i}:{},{children:p}=r,m=P.useMemo(()=>En(p)?p.get():p,[p]);return P.createElement(n,{...f,children:m})}}function Q4(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...ax(r)?H4:G4,preloadedFeatures:e,useRender:Z4(i),createVisualElement:t,Component:r};return w4(s)}}function MO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Mp(e,t,n){const r=e.getProps();return sx(r,t,n!==void 0?n:r.custom,e)}const J4=tx(()=>window.ScrollTimeline!==void 0);class eF{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(J4()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tF extends eF{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function mx(e,t){return e?e[t]||e.default||e:void 0}const Ay=2e4;function IO(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ay;)t+=n,r=e.next(t);return t>=Ay?1/0:t}function gx(e){return typeof e=="function"}function kP(e,t){e.timeline=t,e.onfinish=null}const vx=e=>Array.isArray(e)&&typeof e[0]=="number",nF={linearEasing:void 0};function rF(e,t){const n=tx(e);return()=>{var r;return(r=nF[t])!==null&&r!==void 0?r:n()}}const Pf=rF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),RO=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(Ts(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function LO(e){return!!(typeof e=="function"&&Pf()||!e||typeof e=="string"&&(e in ky||Pf())||vx(e)||Array.isArray(e)&&e.every(LO))}const nc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ky={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nc([0,.65,.55,1]),circOut:nc([.55,0,1,.45]),backIn:nc([.31,.01,.66,-.59]),backOut:nc([.33,1.53,.69,.99])};function FO(e,t){if(e)return typeof e=="function"&&Pf()?RO(e,t):vx(e)?nc(e):Array.isArray(e)?e.map(n=>FO(n,t)||ky.easeOut):ky[e]}const zr={x:!1,y:!1};function $O(){return zr.x||zr.y}function iF(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function BO(e,t){const n=iF(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function EP(e){return t=>{t.pointerType==="touch"||$O()||e(t)}}function oF(e,t,n={}){const[r,i,o]=BO(e,n),s=EP(l=>{const{target:u}=l,d=t(l);if(typeof d!="function"||!u)return;const f=EP(p=>{d(p),u.removeEventListener("pointerleave",f)});u.addEventListener("pointerleave",f,i)});return r.forEach(l=>{l.addEventListener("pointerenter",s,i)}),o}const zO=(e,t)=>t?e===t?!0:zO(e,t.parentElement):!1,yx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,aF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sF(e){return aF.has(e.tagName)||e.tabIndex!==-1}const rc=new WeakSet;function NP(e){return t=>{t.key==="Enter"&&e(t)}}function gg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lF=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=NP(()=>{if(rc.has(n))return;gg(n,"down");const i=NP(()=>{gg(n,"up")}),o=()=>gg(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function OP(e){return yx(e)&&!$O()}function cF(e,t,n={}){const[r,i,o]=BO(e,n),s=l=>{const u=l.currentTarget;if(!OP(l)||rc.has(u))return;rc.add(u);const d=t(l),f=(v,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),!(!OP(v)||!rc.has(u))&&(rc.delete(u),typeof d=="function"&&d(v,{success:x}))},p=v=>{f(v,n.useGlobalTarget||zO(u,v.target))},m=v=>{f(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(l=>{!sF(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",s,i),l.addEventListener("focus",d=>lF(d,i),i)}),o}function uF(e){return e==="x"||e==="y"?zr[e]?null:(zr[e]=!0,()=>{zr[e]=!1}):zr.x||zr.y?null:(zr.x=zr.y=!0,()=>{zr.x=zr.y=!1})}const WO=new Set(["width","height","top","left","right","bottom",...Us]);let lf;function dF(){lf=void 0}const pi={now:()=>(lf===void 0&&pi.set(fn.isProcessing||a4.useManualTiming?fn.timestamp:performance.now()),lf),set:e=>{lf=e,queueMicrotask(dF)}};function xx(e,t){e.indexOf(t)===-1&&e.push(t)}function bx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class wx{constructor(){this.subscriptions=[]}add(t){return xx(this.subscriptions,t),()=>bx(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function VO(e,t){return t?e*(1e3/t):0}const jP=30,fF=e=>!isNaN(parseFloat(e));class pF{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=pi.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=pi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new wx);const r=this.events[t].add(n);return t==="change"?()=>{r(),St.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jP);return VO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bc(e,t){return new pF(e,t)}function hF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,bc(n))}function mF(e,t){const n=Mp(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const l=E4(o[s]);hF(e,s,l)}}function gF(e){return!!(En(e)&&e.add)}function Ey(e,t){const n=e.getValue("willChange");if(gF(n))return n.add(t)}function UO(e){return e.props[bO]}const HO=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,vF=1e-7,yF=12;function xF(e,t,n,r,i){let o,s,l=0;do s=t+(n-t)/2,o=HO(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>vF&&++l<yF);return s}function qc(e,t,n,r){if(e===t&&n===r)return ar;const i=o=>xF(o,0,1,e,n);return o=>o===0||o===1?o:HO(i(o),t,r)}const GO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,KO=e=>t=>1-e(1-t),qO=qc(.33,1.53,.69,.99),Sx=KO(qO),YO=GO(Sx),XO=e=>(e*=2)<1?.5*Sx(e):.5*(2-Math.pow(2,-10*(e-1))),Px=e=>1-Math.sin(Math.acos(e)),ZO=KO(Px),QO=GO(Px),JO=e=>/^0[^.\s]+$/u.test(e);function bF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||JO(e):!0}const lc=e=>Math.round(e*1e5)/1e5,Cx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wF(e){return e==null}const SF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ax=(e,t)=>n=>!!(typeof n=="string"&&SF.test(n)&&n.startsWith(e)||t&&!wF(n)&&Object.prototype.hasOwnProperty.call(n,t)),ej=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,l]=r.match(Cx);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},PF=e=>Wi(0,255,e),vg={...Hs,transform:e=>Math.round(PF(e))},pa={test:Ax("rgb","red"),parse:ej("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+vg.transform(e)+", "+vg.transform(t)+", "+vg.transform(n)+", "+lc(xc.transform(r))+")"};function CF(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ny={test:Ax("#"),parse:CF,transform:pa.transform},vs={test:Ax("hsl","hue"),parse:ej("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+fi.transform(lc(t))+", "+fi.transform(lc(n))+", "+lc(xc.transform(r))+")"},Cn={test:e=>pa.test(e)||Ny.test(e)||vs.test(e),parse:e=>pa.test(e)?pa.parse(e):vs.test(e)?vs.parse(e):Ny.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?pa.transform(e):vs.transform(e)},AF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kF(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Cx))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(AF))===null||n===void 0?void 0:n.length)||0)>0}const tj="number",nj="color",EF="var",NF="var(",TP="${}",OF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const l=t.replace(OF,u=>(Cn.test(u)?(r.color.push(o),i.push(nj),n.push(Cn.parse(u))):u.startsWith(NF)?(r.var.push(o),i.push(EF),n.push(u)):(r.number.push(o),i.push(tj),n.push(parseFloat(u))),++o,TP)).split(TP);return{values:n,split:l,indexes:r,types:i}}function rj(e){return wc(e).values}function ij(e){const{split:t,types:n}=wc(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const l=n[s];l===tj?o+=lc(i[s]):l===nj?o+=Cn.transform(i[s]):o+=i[s]}return o}}const jF=e=>typeof e=="number"?0:e;function TF(e){const t=rj(e);return ij(e)(t.map(jF))}const Ro={test:kF,parse:rj,createTransformer:ij,getAnimatableNone:TF},_F=new Set(["brightness","contrast","saturate","opacity"]);function DF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Cx)||[];if(!r)return e;const i=n.replace(r,"");let o=_F.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const MF=/\b([a-z-]*)\(.*?\)/gu,Oy={...Ro,getAnimatableNone:e=>{const t=e.match(MF);return t?t.map(DF).join(" "):e}},IF={...cx,color:Cn,backgroundColor:Cn,outlineColor:Cn,fill:Cn,stroke:Cn,borderColor:Cn,borderTopColor:Cn,borderRightColor:Cn,borderBottomColor:Cn,borderLeftColor:Cn,filter:Oy,WebkitFilter:Oy},kx=e=>IF[e];function oj(e,t){let n=kx(e);return n!==Oy&&(n=Ro),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const RF=new Set(["auto","none","0"]);function LF(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!RF.has(o)&&wc(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=oj(n,i)}const _P=e=>e===Hs||e===Fe,DP=(e,t)=>parseFloat(e.split(", ")[t]),MP=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return DP(i[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?DP(o[1],e):0}},FF=new Set(["x","y","z"]),$F=Us.filter(e=>!FF.has(e));function BF(e){const t=[];return $F.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ds={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:MP(4,13),y:MP(5,14)};Ds.translateX=Ds.x;Ds.translateY=Ds.y;const xa=new Set;let jy=!1,Ty=!1;function aj(){if(Ty){const e=Array.from(xa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=BF(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var l;(l=r.getValue(o))===null||l===void 0||l.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ty=!1,jy=!1,xa.forEach(e=>e.complete()),xa.clear()}function sj(){xa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ty=!0)})}function zF(){sj(),aj()}class Ex{constructor(t,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xa.add(this),jy||(jy=!0,St.read(sj),St.resolveKeyframes(aj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const s=i?.get(),l=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const u=r.readValue(n,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),i&&s===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const lj=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),WF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VF(e){const t=WF.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function cj(e,t,n=1){const[r,i]=VF(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return lj(s)?parseFloat(s):s}return lx(i)?cj(i,t,n+1):i}const uj=e=>t=>t.test(e),UF={test:e=>e==="auto",parse:e=>e},dj=[Hs,Fe,fi,Ao,D4,_4,UF],IP=e=>dj.find(uj(e));class fj extends Ex{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),lx(d))){const f=cj(d,n.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!WO.has(r)||t.length!==2)return;const[i,o]=t,s=IP(i),l=IP(o);if(s!==l)if(_P(s)&&_P(l))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)bF(t[i])&&r.push(i);r.length&&LF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ds[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,l=i[s];i[s]=Ds[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,d])=>{n.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const RP=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ro.test(e)||e==="0")&&!e.startsWith("url("));function HF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function GF(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=RP(i,t),l=RP(o,t);return!s||!l?!1:HF(e)||(n==="spring"||gx(n))&&r}const KF=e=>e!==null;function Ip(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(KF),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const qF=40;class pj{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pi.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&zF(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=pi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:l,onUpdate:u,isGenerator:d}=this.options;if(!d&&!GF(t,r,i,o))if(s)this.options.duration=0;else{u&&u(Ip(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const _t=(e,t,n)=>e+(t-e)*n;function yg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function YF({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;i=yg(u,l,e+1/3),o=yg(u,l,e),s=yg(u,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function Cf(e,t){return n=>n>0?t:e}const xg=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},XF=[Ny,pa,vs],ZF=e=>XF.find(t=>t.test(e));function LP(e){const t=ZF(e);if(!t)return!1;let n=t.parse(e);return t===vs&&(n=YF(n)),n}const FP=(e,t)=>{const n=LP(e),r=LP(t);if(!n||!r)return Cf(e,t);const i={...n};return o=>(i.red=xg(n.red,r.red,o),i.green=xg(n.green,r.green,o),i.blue=xg(n.blue,r.blue,o),i.alpha=_t(n.alpha,r.alpha,o),pa.transform(i))},QF=(e,t)=>n=>t(e(n)),Yc=(...e)=>e.reduce(QF),_y=new Set(["none","hidden"]);function JF(e,t){return _y.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function e$(e,t){return n=>_t(e,t,n)}function Nx(e){return typeof e=="number"?e$:typeof e=="string"?lx(e)?Cf:Cn.test(e)?FP:r$:Array.isArray(e)?hj:typeof e=="object"?Cn.test(e)?FP:t$:Cf}function hj(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>Nx(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function t$(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Nx(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function n$(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],l=e.indexes[s][i[s]],u=(n=e.values[l])!==null&&n!==void 0?n:0;r[o]=u,i[s]++}return r}const r$=(e,t)=>{const n=Ro.createTransformer(t),r=wc(e),i=wc(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?_y.has(e)&&!i.values.length||_y.has(t)&&!r.values.length?JF(e,t):Yc(hj(n$(r,i),i.values),n):Cf(e,t)};function mj(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?_t(e,t,n):Nx(e)(e,t)}const i$=5;function gj(e,t,n){const r=Math.max(t-i$,0);return VO(n-e(r),t-r)}const Lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bg=.001;function o$({duration:e=Lt.duration,bounce:t=Lt.bounce,velocity:n=Lt.velocity,mass:r=Lt.mass}){let i,o,s=1-t;s=Wi(Lt.minDamping,Lt.maxDamping,s),e=Wi(Lt.minDuration,Lt.maxDuration,Fi(e)),s<1?(i=d=>{const f=d*s,p=f*e,m=f-n,v=Dy(d,s),x=Math.exp(-p);return bg-m/v*x},o=d=>{const p=d*s*e,m=p*n+n,v=Math.pow(s,2)*Math.pow(d,2)*e,x=Math.exp(-p),w=Dy(Math.pow(d,2),s);return(-i(d)+bg>0?-1:1)*((m-v)*x)/w}):(i=d=>{const f=Math.exp(-d*e),p=(d-n)*e+1;return-bg+f*p},o=d=>{const f=Math.exp(-d*e),p=(n-d)*(e*e);return f*p});const l=5/e,u=s$(i,o,l);if(e=Li(e),isNaN(u))return{stiffness:Lt.stiffness,damping:Lt.damping,duration:e};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:s*2*Math.sqrt(r*d),duration:e}}}const a$=12;function s$(e,t,n){let r=n;for(let i=1;i<a$;i++)r=r-e(r)/t(r);return r}function Dy(e,t){return e*Math.sqrt(1-t*t)}const l$=["duration","bounce"],c$=["stiffness","damping","mass"];function $P(e,t){return t.some(n=>e[n]!==void 0)}function u$(e){let t={velocity:Lt.velocity,stiffness:Lt.stiffness,damping:Lt.damping,mass:Lt.mass,isResolvedFromDuration:!1,...e};if(!$P(e,c$)&&$P(e,l$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Wi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Lt.mass,stiffness:i,damping:o}}else{const n=o$(e);t={...t,...n,mass:Lt.mass},t.isResolvedFromDuration=!0}return t}function vj(e=Lt.visualDuration,t=Lt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:u,damping:d,mass:f,duration:p,velocity:m,isResolvedFromDuration:v}=u$({...n,velocity:-Fi(n.velocity||0)}),x=m||0,w=d/(2*Math.sqrt(u*f)),b=s-o,C=Fi(Math.sqrt(u/f)),k=Math.abs(b)<5;r||(r=k?Lt.restSpeed.granular:Lt.restSpeed.default),i||(i=k?Lt.restDelta.granular:Lt.restDelta.default);let E;if(w<1){const T=Dy(C,w);E=O=>{const _=Math.exp(-w*C*O);return s-_*((x+w*C*b)/T*Math.sin(T*O)+b*Math.cos(T*O))}}else if(w===1)E=T=>s-Math.exp(-C*T)*(b+(x+C*b)*T);else{const T=C*Math.sqrt(w*w-1);E=O=>{const _=Math.exp(-w*C*O),D=Math.min(T*O,300);return s-_*((x+w*C*b)*Math.sinh(D)+T*b*Math.cosh(D))/T}}const N={calculatedDuration:v&&p||null,next:T=>{const O=E(T);if(v)l.done=T>=p;else{let _=0;w<1&&(_=T===0?Li(x):gj(E,T,O));const D=Math.abs(_)<=r,V=Math.abs(s-O)<=i;l.done=D&&V}return l.value=l.done?s:O,l},toString:()=>{const T=Math.min(IO(N),Ay),O=RO(_=>N.next(T*_).value,T,30);return T+"ms "+O}};return N}function BP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:u,restDelta:d=.5,restSpeed:f}){const p=e[0],m={done:!1,value:p},v=D=>l!==void 0&&D<l||u!==void 0&&D>u,x=D=>l===void 0?u:u===void 0||Math.abs(l-D)<Math.abs(u-D)?l:u;let w=n*t;const b=p+w,C=s===void 0?b:s(b);C!==b&&(w=C-p);const k=D=>-w*Math.exp(-D/r),E=D=>C+k(D),N=D=>{const V=k(D),q=E(D);m.done=Math.abs(V)<=d,m.value=m.done?C:q};let T,O;const _=D=>{v(m.value)&&(T=D,O=vj({keyframes:[m.value,x(m.value)],velocity:gj(E,D,m.value),damping:i,stiffness:o,restDelta:d,restSpeed:f}))};return _(0),{calculatedDuration:null,next:D=>{let V=!1;return!O&&T===void 0&&(V=!0,N(D),_(D)),T!==void 0&&D>=T?O.next(D-T):(!V&&N(D),m)}}}const d$=qc(.42,0,1,1),f$=qc(0,0,.58,1),yj=qc(.42,0,.58,1),p$=e=>Array.isArray(e)&&typeof e[0]!="number",h$={linear:ar,easeIn:d$,easeInOut:yj,easeOut:f$,circIn:Px,circInOut:QO,circOut:ZO,backIn:Sx,backInOut:YO,backOut:qO,anticipate:XO},zP=e=>{if(vx(e)){mO(e.length===4);const[t,n,r,i]=e;return qc(t,n,r,i)}else if(typeof e=="string")return h$[e];return e};function m$(e,t,n){const r=[],i=n||mj,o=e.length-1;for(let s=0;s<o;s++){let l=i(e[s],e[s+1]);if(t){const u=Array.isArray(t)?t[s]||ar:t;l=Yc(u,l)}r.push(l)}return r}function g$(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(mO(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=m$(t,r,i),u=l.length,d=f=>{if(s&&f<e[0])return t[0];let p=0;if(u>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const m=Ts(e[p],e[p+1],f);return l[p](m)};return n?f=>d(Wi(e[0],e[o-1],f)):d}function v$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ts(0,t,r);e.push(_t(n,1,i))}}function y$(e){const t=[0];return v$(t,e.length-1),t}function x$(e,t){return e.map(n=>n*t)}function b$(e,t){return e.map(()=>t||yj).splice(0,e.length-1)}function Af({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=p$(r)?r.map(zP):zP(r),o={done:!1,value:t[0]},s=x$(n&&n.length===t.length?n:y$(t),e),l=g$(s,t,{ease:Array.isArray(i)?i:b$(t,i)});return{calculatedDuration:e,next:u=>(o.value=l(u),o.done=u>=e,o)}}const w$=e=>{const t=({timestamp:n})=>e(n);return{start:()=>St.update(t,!0),stop:()=>Io(t),now:()=>fn.isProcessing?fn.timestamp:pi.now()}},S$={decay:BP,inertia:BP,tween:Af,keyframes:Af,spring:vj},P$=e=>e/100;class Ox extends pj{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=i?.KeyframeResolver||Ex,l=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new s(o,l,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,l=gx(n)?n:S$[n]||Af;let u,d;l!==Af&&typeof t[0]!="number"&&(u=Yc(P$,mj(t[0],t[1])),t=[0,100]);const f=l({...this.options,keyframes:t});o==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=IO(f));const{calculatedDuration:p}=f,m=p+i,v=m*(r+1)-i;return{generator:f,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:p,resolvedDuration:m,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:d,totalDuration:f,resolvedDuration:p}=r;if(this.startTime===null)return o.next(0);const{delay:m,repeat:v,repeatType:x,repeatDelay:w,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-m*(this.speed>=0?1:-1),k=this.speed>=0?C<0:C>f;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let E=this.currentTime,N=o;if(v){const D=Math.min(this.currentTime,f)/p;let V=Math.floor(D),q=D%1;!q&&D>=1&&(q=1),q===1&&V--,V=Math.min(V,v+1),V%2&&(x==="reverse"?(q=1-q,w&&(q-=w/p)):x==="mirror"&&(N=s)),E=Wi(0,1,q)*p}const T=k?{done:!1,value:u[0]}:N.next(E);l&&(T.value=l(T.value));let{done:O}=T;!k&&d!==null&&(O=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return _&&i!==void 0&&(T.value=Ip(u,this.options,i)),b&&b(T.value),_&&this.finish(),T}get duration(){const{resolved:t}=this;return t?Fi(t.calculatedDuration):0}get time(){return Fi(this.currentTime)}set time(t){t=Li(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Fi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=w$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const C$=new Set(["opacity","clipPath","filter","transform"]);function A$(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:l="easeInOut",times:u}={}){const d={[t]:n};u&&(d.offset=u);const f=FO(l,i);return Array.isArray(f)&&(d.easing=f),e.animate(d,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const k$=tx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),kf=10,E$=2e4;function N$(e){return gx(e.type)||e.type==="spring"||!LO(e.ease)}function O$(e,t){const n=new Ox({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<E$;)r=n.sample(o),i.push(r.value),o+=kf;return{times:void 0,keyframes:i,duration:o-kf,ease:"linear"}}const xj={anticipate:XO,backInOut:YO,circInOut:QO};function j$(e){return e in xj}class WP extends pj{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new fj(o,(s,l)=>this.onKeyframesResolved(s,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:l,name:u,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof o=="string"&&Pf()&&j$(o)&&(o=xj[o]),N$(this.options)){const{onComplete:p,onUpdate:m,motionValue:v,element:x,...w}=this.options,b=O$(t,w);t=b.keyframes,t.length===1&&(t[1]=t[0]),r=b.duration,i=b.times,o=b.ease,s="keyframes"}const f=A$(l.owner.current,u,t,{...this.options,duration:r,times:i,ease:o});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(kP(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(Ip(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:s,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Fi(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Fi(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Li(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ar;const{animation:r}=n;kP(r,t)}return ar}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:f,onComplete:p,element:m,...v}=this.options,x=new Ox({...v,keyframes:r,duration:i,type:o,ease:s,times:l,isGenerator:!0}),w=Li(this.time);d.setWithVelocity(x.sample(w-kf).value,x.sample(w).value,kf)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=n.owner.getProps();return k$()&&r&&C$.has(r)&&!u&&!d&&!i&&o!=="mirror"&&s!==0&&l!=="inertia"}}const T$={type:"spring",stiffness:500,damping:25,restSpeed:10},_$=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),D$={type:"keyframes",duration:.8},M$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I$=(e,{keyframes:t})=>t.length>2?D$:Da.has(e)?e.startsWith("scale")?_$(t[1]):T$:M$;function R$({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const jx=(e,t,n,r={},i,o)=>s=>{const l=mx(r,e)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Li(u);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:i};R$(l)||(f={...f,...I$(e,f)}),f.duration&&(f.duration=Li(f.duration)),f.repeatDelay&&(f.repeatDelay=Li(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!o&&t.get()!==void 0){const m=Ip(f.keyframes,l);if(m!==void 0)return St.update(()=>{f.onUpdate(m),f.onComplete()}),new tF([])}return!o&&WP.supports(f)?new WP(f):new Ox(f)};function L$({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function bj(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=e.getDefaultTransition(),transitionEnd:l,...u}=t;r&&(s=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in u){const m=e.getValue(p,(o=e.latestValues[p])!==null&&o!==void 0?o:null),v=u[p];if(v===void 0||f&&L$(f,p))continue;const x={delay:n,...mx(s||{},p)};let w=!1;if(window.MotionHandoffAnimation){const C=UO(e);if(C){const k=window.MotionHandoffAnimation(C,p,St);k!==null&&(x.startTime=k,w=!0)}}Ey(e,p),m.start(jx(p,m,v,e.shouldReduceMotion&&WO.has(p)?{type:!1}:x,e,w));const b=m.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{St.update(()=>{l&&mF(e,l)})}),d}function My(e,t,n={}){var r;const i=Mp(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(bj(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=o;return F$(e,t,f+d,p,m,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[d,f]=u==="beforeChildren"?[s,l]:[l,s];return d().then(()=>f())}else return Promise.all([s(),l(n.delay)])}function F$(e,t,n=0,r=0,i=1,o){const s=[],l=(e.variantChildren.size-1)*r,u=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort($$).forEach((d,f)=>{d.notify("AnimationStart",t),s.push(My(d,t,{...o,delay:n+u(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(s)}function $$(e,t){return e.sortNodePosition(t)}function B$(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>My(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=My(e,t,n);else{const i=typeof t=="function"?Mp(e,t,n.custom):t;r=Promise.all(bj(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const z$=rx.length;function wj(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?wj(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<z$;n++){const r=rx[n],i=e.props[r];(yc(i)||i===!1)&&(t[r]=i)}return t}const W$=[...nx].reverse(),V$=nx.length;function U$(e){return t=>Promise.all(t.map(({animation:n,options:r})=>B$(e,n,r)))}function H$(e){let t=U$(e),n=VP(),r=!0;const i=u=>(d,f)=>{var p;const m=Mp(e,f,u==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(m){const{transition:v,transitionEnd:x,...w}=m;d={...d,...w,...x}}return d};function o(u){t=u(e)}function s(u){const{props:d}=e,f=wj(e.parent)||{},p=[],m=new Set;let v={},x=1/0;for(let b=0;b<V$;b++){const C=W$[b],k=n[C],E=d[C]!==void 0?d[C]:f[C],N=yc(E),T=C===u?k.isActive:null;T===!1&&(x=b);let O=E===f[C]&&E!==d[C]&&N;if(O&&r&&e.manuallyAnimateOnMount&&(O=!1),k.protectedKeys={...v},!k.isActive&&T===null||!E&&!k.prevProp||_p(E)||typeof E=="boolean")continue;const _=G$(k.prevProp,E);let D=_||C===u&&k.isActive&&!O&&N||b>x&&N,V=!1;const q=Array.isArray(E)?E:[E];let G=q.reduce(i(C),{});T===!1&&(G={});const{prevResolvedValues:$={}}=k,U={...$,...G},ce=Q=>{D=!0,m.has(Q)&&(V=!0,m.delete(Q)),k.needsAnimating[Q]=!0;const Y=e.getValue(Q);Y&&(Y.liveStyle=!1)};for(const Q in U){const Y=G[Q],ee=$[Q];if(v.hasOwnProperty(Q))continue;let ne=!1;Cy(Y)&&Cy(ee)?ne=!MO(Y,ee):ne=Y!==ee,ne?Y!=null?ce(Q):m.add(Q):Y!==void 0&&m.has(Q)?ce(Q):k.protectedKeys[Q]=!0}k.prevProp=E,k.prevResolvedValues=G,k.isActive&&(v={...v,...G}),r&&e.blockInitialAnimation&&(D=!1),D&&(!(O&&_)||V)&&p.push(...q.map(Q=>({animation:Q,options:{type:C}})))}if(m.size){const b={};m.forEach(C=>{const k=e.getBaseTarget(C),E=e.getValue(C);E&&(E.liveStyle=!0),b[C]=k??null}),p.push({animation:b})}let w=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(p):Promise.resolve()}function l(u,d){var f;if(n[u].isActive===d)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(u,d)}),n[u].isActive=d;const p=s(u);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=VP(),r=!0}}}function G$(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!MO(t,e):!1}function ra(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VP(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class Bo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class K$ extends Bo{constructor(t){super(t),t.animationState||(t.animationState=H$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_p(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let q$=0;class Y$ extends Bo{constructor(){super(...arguments),this.id=q$++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const X$={animation:{Feature:K$},exit:{Feature:Y$}};function Sc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Xc(e){return{point:{x:e.pageX,y:e.pageY}}}const Z$=e=>t=>yx(t)&&e(t,Xc(t));function cc(e,t,n,r){return Sc(e,t,Z$(n),r)}const UP=(e,t)=>Math.abs(e-t);function Q$(e,t){const n=UP(e.x,t.x),r=UP(e.y,t.y);return Math.sqrt(n**2+r**2)}class Sj{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Sg(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=Q$(p.offset,{x:0,y:0})>=3;if(!m&&!v)return;const{point:x}=p,{timestamp:w}=fn;this.history.push({...x,timestamp:w});const{onStart:b,onMove:C}=this.handlers;m||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=wg(m,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Sg(p.type==="pointercancel"?this.lastMoveEventInfo:wg(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,b),x&&x(p,b)},!yx(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Xc(t),l=wg(s,this.transformPagePoint),{point:u}=l,{timestamp:d}=fn;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Sg(l,this.history)),this.removeListeners=Yc(cc(this.contextWindow,"pointermove",this.handlePointerMove),cc(this.contextWindow,"pointerup",this.handlePointerUp),cc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Io(this.updatePoint)}}function wg(e,t){return t?{point:t(e.point)}:e}function HP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sg({point:e},t){return{point:e,delta:HP(e,Pj(t)),offset:HP(e,J$(t)),velocity:eB(t,.1)}}function J$(e){return e[0]}function Pj(e){return e[e.length-1]}function eB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Pj(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Li(t)));)n--;if(!r)return{x:0,y:0};const o=Fi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const Cj=1e-4,tB=1-Cj,nB=1+Cj,Aj=.01,rB=0-Aj,iB=0+Aj;function ur(e){return e.max-e.min}function oB(e,t,n){return Math.abs(e-t)<=n}function GP(e,t,n,r=.5){e.origin=r,e.originPoint=_t(t.min,t.max,e.origin),e.scale=ur(n)/ur(t),e.translate=_t(n.min,n.max,e.origin)-e.originPoint,(e.scale>=tB&&e.scale<=nB||isNaN(e.scale))&&(e.scale=1),(e.translate>=rB&&e.translate<=iB||isNaN(e.translate))&&(e.translate=0)}function uc(e,t,n,r){GP(e.x,t.x,n.x,r?r.originX:void 0),GP(e.y,t.y,n.y,r?r.originY:void 0)}function KP(e,t,n){e.min=n.min+t.min,e.max=e.min+ur(t)}function aB(e,t,n){KP(e.x,t.x,n.x),KP(e.y,t.y,n.y)}function qP(e,t,n){e.min=t.min-n.min,e.max=e.min+ur(t)}function dc(e,t,n){qP(e.x,t.x,n.x),qP(e.y,t.y,n.y)}function sB(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?_t(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?_t(n,e,r.max):Math.min(e,n)),e}function YP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function lB(e,{top:t,left:n,bottom:r,right:i}){return{x:YP(e.x,n,i),y:YP(e.y,t,r)}}function XP(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function cB(e,t){return{x:XP(e.x,t.x),y:XP(e.y,t.y)}}function uB(e,t){let n=.5;const r=ur(e),i=ur(t);return i>r?n=Ts(t.min,t.max-r,e.min):r>i&&(n=Ts(e.min,e.max-i,t.min)),Wi(0,1,n)}function dB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Iy=.35;function fB(e=Iy){return e===!1?e=0:e===!0&&(e=Iy),{x:ZP(e,"left","right"),y:ZP(e,"top","bottom")}}function ZP(e,t,n){return{min:QP(e,t),max:QP(e,n)}}function QP(e,t){return typeof e=="number"?e:e[t]||0}const JP=()=>({translate:0,scale:1,origin:0,originPoint:0}),ys=()=>({x:JP(),y:JP()}),e2=()=>({min:0,max:0}),Bt=()=>({x:e2(),y:e2()});function Cr(e){return[e("x"),e("y")]}function kj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function pB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function hB(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Pg(e){return e===void 0||e===1}function Ry({scale:e,scaleX:t,scaleY:n}){return!Pg(e)||!Pg(t)||!Pg(n)}function sa(e){return Ry(e)||Ej(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ej(e){return t2(e.x)||t2(e.y)}function t2(e){return e&&e!=="0%"}function Ef(e,t,n){const r=e-n,i=t*r;return n+i}function n2(e,t,n,r,i){return i!==void 0&&(e=Ef(e,i,r)),Ef(e,n,r)+t}function Ly(e,t=0,n=1,r,i){e.min=n2(e.min,t,n,r,i),e.max=n2(e.max,t,n,r,i)}function Nj(e,{x:t,y:n}){Ly(e.x,t.translate,t.scale,t.originPoint),Ly(e.y,n.translate,n.scale,n.originPoint)}const r2=.999999999999,i2=1.0000000000001;function mB(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let l=0;l<i;l++){o=n[l],s=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&bs(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Nj(e,s)),r&&sa(o.latestValues)&&bs(e,o.latestValues))}t.x<i2&&t.x>r2&&(t.x=1),t.y<i2&&t.y>r2&&(t.y=1)}function xs(e,t){e.min=e.min+t,e.max=e.max+t}function o2(e,t,n,r,i=.5){const o=_t(e.min,e.max,i);Ly(e,t,n,o,r)}function bs(e,t){o2(e.x,t.x,t.scaleX,t.scale,t.originX),o2(e.y,t.y,t.scaleY,t.scale,t.originY)}function Oj(e,t){return kj(hB(e.getBoundingClientRect(),t))}function gB(e,t,n){const r=Oj(e,n),{scroll:i}=t;return i&&(xs(r.x,i.offset.x),xs(r.y,i.offset.y)),r}const jj=({current:e})=>e?e.ownerDocument.defaultView:null,vB=new WeakMap;class yB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xc(f).point)},o=(f,p)=>{const{drag:m,dragPropagation:v,onDragStart:x}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uF(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cr(b=>{let C=this.getAxisMotionValue(b).get()||0;if(fi.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const E=k.layout.layoutBox[b];E&&(C=ur(E)*(parseFloat(C)/100))}}this.originPoint[b]=C}),x&&St.postRender(()=>x(f,p)),Ey(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},s=(f,p)=>{const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=p;if(v&&this.currentDirection===null){this.currentDirection=xB(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,b),this.updateAxis("y",p.point,b),this.visualElement.render(),w&&w(f,p)},l=(f,p)=>this.stop(f,p),u=()=>Cr(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Sj(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:jj(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&St.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Md(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=sB(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&gs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=lB(i.layoutBox,n):this.constraints=!1,this.elastic=fB(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Cr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=dB(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!gs(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=gB(r,i.root,this.visualElement.getTransformPagePoint());let s=cB(i.layout.layoutBox,o);if(n){const l=n(pB(s));this.hasMutatedConstraints=!!l,l&&(s=kj(l))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Cr(f=>{if(!Md(f,n,this.currentDirection))return;let p=u&&u[f]||{};s&&(p={min:0,max:0});const m=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:r?t[f]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(f,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Ey(this.visualElement,t),r.start(jx(t,r,0,n,this.visualElement,!1))}stopAnimation(){Cr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Cr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Cr(n=>{const{drag:r}=this.getProps();if(!Md(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[n];o.set(t[n]-_t(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Cr(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const u=l.get();i[s]=uB({min:u,max:u},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cr(s=>{if(!Md(s,t,null))return;const l=this.getAxisMotionValue(s),{min:u,max:d}=this.constraints[s];l.set(_t(u,d,i[s]))})}addListeners(){if(!this.visualElement.current)return;vB.set(this.visualElement,this);const t=this.visualElement.current,n=cc(t,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();gs(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),St.read(r);const s=Sc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Cr(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())}));return()=>{s(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Iy,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:l}}}function Md(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function xB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class bB extends Bo{constructor(t){super(t),this.removeGroupControls=ar,this.removeListeners=ar,this.controls=new yB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const a2=e=>(t,n)=>{e&&St.postRender(()=>e(t,n))};class wB extends Bo{constructor(){super(...arguments),this.removePointerDownListener=ar}onPointerDown(t){this.session=new Sj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:a2(t),onStart:a2(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&St.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=cc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Fe.test(e))e=parseFloat(e);else return e;const n=s2(e,t.target.x),r=s2(e,t.target.y);return`${n}% ${r}%`}},SB={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ro.parse(e);if(i.length>5)return r;const o=Ro.createTransformer(e),s=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,u=n.y.scale*t.y;i[0+s]/=l,i[1+s]/=u;const d=_t(l,u,.5);return typeof i[2+s]=="number"&&(i[2+s]/=d),typeof i[3+s]=="number"&&(i[3+s]/=d),o(i)}};class PB extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;V4(CB),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),cf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||St.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ox.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Tj(e){const[t,n]=pO(),r=P.useContext(Z0);return y.jsx(PB,{...e,layoutGroup:r,switchLayoutGroup:P.useContext(wO),isPresent:t,safeToRemove:n})}const CB={borderRadius:{...Vl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vl,borderTopRightRadius:Vl,borderBottomLeftRadius:Vl,borderBottomRightRadius:Vl,boxShadow:SB};function AB(e,t,n){const r=En(e)?e:bc(e);return r.start(jx("",r,t,n)),r.animation}function kB(e){return e instanceof SVGElement&&e.tagName!=="svg"}const EB=(e,t)=>e.depth-t.depth;class NB{constructor(){this.children=[],this.isDirty=!1}add(t){xx(this.children,t),this.isDirty=!0}remove(t){bx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(EB),this.isDirty=!1,this.children.forEach(t)}}function OB(e,t){const n=pi.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Io(r),e(o-t))};return St.read(r,!0),()=>Io(r)}const _j=["TopLeft","TopRight","BottomLeft","BottomRight"],jB=_j.length,l2=e=>typeof e=="string"?parseFloat(e):e,c2=e=>typeof e=="number"||Fe.test(e);function TB(e,t,n,r,i,o){i?(e.opacity=_t(0,n.opacity!==void 0?n.opacity:1,_B(r)),e.opacityExit=_t(t.opacity!==void 0?t.opacity:1,0,DB(r))):o&&(e.opacity=_t(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<jB;s++){const l=`border${_j[s]}Radius`;let u=u2(t,l),d=u2(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||c2(u)===c2(d)?(e[l]=Math.max(_t(l2(u),l2(d),r),0),(fi.test(d)||fi.test(u))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=_t(t.rotate||0,n.rotate||0,r))}function u2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _B=Dj(0,.5,ZO),DB=Dj(.5,.95,ar);function Dj(e,t,n){return r=>r<e?0:r>t?1:n(Ts(e,t,r))}function d2(e,t){e.min=t.min,e.max=t.max}function br(e,t){d2(e.x,t.x),d2(e.y,t.y)}function f2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function p2(e,t,n,r,i){return e-=t,e=Ef(e,1/n,r),i!==void 0&&(e=Ef(e,1/i,r)),e}function MB(e,t=0,n=1,r=.5,i,o=e,s=e){if(fi.test(t)&&(t=parseFloat(t),t=_t(s.min,s.max,t/100)-s.min),typeof t!="number")return;let l=_t(o.min,o.max,r);e===o&&(l-=t),e.min=p2(e.min,t,n,l,i),e.max=p2(e.max,t,n,l,i)}function h2(e,t,[n,r,i],o,s){MB(e,t[n],t[r],t[i],t.scale,o,s)}const IB=["x","scaleX","originX"],RB=["y","scaleY","originY"];function m2(e,t,n,r){h2(e.x,t,IB,n?n.x:void 0,r?r.x:void 0),h2(e.y,t,RB,n?n.y:void 0,r?r.y:void 0)}function g2(e){return e.translate===0&&e.scale===1}function Mj(e){return g2(e.x)&&g2(e.y)}function v2(e,t){return e.min===t.min&&e.max===t.max}function LB(e,t){return v2(e.x,t.x)&&v2(e.y,t.y)}function y2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ij(e,t){return y2(e.x,t.x)&&y2(e.y,t.y)}function x2(e){return ur(e.x)/ur(e.y)}function b2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class FB{constructor(){this.members=[]}add(t){xx(this.members,t),t.scheduleRender()}remove(t){if(bx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $B(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=n?.z||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:m,skewX:v,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),v&&(r+=`skewX(${v}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const la={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ic=typeof window<"u"&&window.MotionDebug!==void 0,Cg=["","X","Y","Z"],BB={visibility:"hidden"},w2=1e3;let zB=0;function Ag(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Rj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=UO(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Rj(r)}function Lj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},l=t?.()){this.id=zB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ic&&(la.totalNodes=la.resolvedTargetDeltas=la.recalculatedProjection=0),this.nodes.forEach(UB),this.nodes.forEach(YB),this.nodes.forEach(XB),this.nodes.forEach(HB),ic&&window.MotionDebug.record(la)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new NB)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new wx),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const u=this.eventHandlers.get(s);u&&u.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kB(s),this.instance=s;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),e){let p;const m=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=OB(m,250),cf.hasAnimatedSinceResize&&(cf.hasAnimatedSinceResize=!1,this.nodes.forEach(P2))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||tz,{onLayoutAnimationStart:b,onLayoutAnimationComplete:C}=f.getProps(),k=!this.targetLayout||!Ij(this.targetLayout,x)||v,E=!m&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||m&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,E);const N={...mx(w,"layout"),onPlay:b,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||P2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Io(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZB),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Rj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S2);return}this.isUpdating||this.nodes.forEach(KB),this.isUpdating=!1,this.nodes.forEach(qB),this.nodes.forEach(WB),this.nodes.forEach(VB),this.clearAllSnapshots();const l=pi.now();fn.delta=Wi(0,1e3/60,l-fn.timestamp),fn.timestamp=l,fn.isProcessing=!0,mg.update.process(fn),mg.preRender.process(fn),mg.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ox.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GB),this.sharedNodes.forEach(QB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Mj(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;s&&(l||sa(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return s&&(u=this.removeTransform(u)),nz(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:l}=this.options;if(!l)return Bt();const u=l.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(rz))){const{scroll:f}=this.root;f&&(xs(u.x,f.offset.x),xs(u.y,f.offset.y))}return u}removeElementScroll(s){var l;const u=Bt();if(br(u,s),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&br(u,s),xs(u.x,p.offset.x),xs(u.y,p.offset.y))}return u}applyTransform(s,l=!1){const u=Bt();br(u,s);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&bs(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),sa(f.latestValues)&&bs(u,f.latestValues)}return sa(this.latestValues)&&bs(u,this.latestValues),u}removeTransform(s){const l=Bt();br(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!sa(d.latestValues))continue;Ry(d.latestValues)&&d.updateSnapshot();const f=Bt(),p=d.measurePageBox();br(f,p),m2(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return sa(this.latestValues)&&m2(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(s||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),dc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):br(this.target,this.layout.layoutBox),Nj(this.target,this.targetDelta)):br(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),dc(this.relativeTargetOrigin,this.target,v.target),br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ic&&la.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ry(this.parent.latestValues)||Ej(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;br(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;mB(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Bt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(f2(this.prevProjectionDelta.x,this.projectionDelta.x),f2(this.prevProjectionDelta.y,this.projectionDelta.y)),uc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!b2(this.projectionDelta.x,this.prevProjectionDelta.x)||!b2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ic&&la.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),s){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ys(),this.projectionDelta=ys(),this.projectionDeltaWithTransform=ys()}setAnimationOrigin(s,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},p=ys();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Bt(),v=u?u.source:void 0,x=this.layout?this.layout.source:void 0,w=v!==x,b=this.getStack(),C=!b||b.members.length<=1,k=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(ez));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const T=N/1e3;C2(p.x,s.x,T),C2(p.y,s.y,T),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JB(this.relativeTarget,this.relativeTargetOrigin,m,T),E&&LB(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Bt()),br(E,this.relativeTarget)),w&&(this.animationValues=f,TB(f,d,this.latestValues,T,k,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Io(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{cf.hasAnimatedSinceResize=!0,this.currentAnimation=AB(0,w2,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=s;if(!(!l||!u||!d)){if(this!==s&&this.layout&&d&&Fj(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Bt();const p=ur(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+p;const m=ur(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+m}br(l,u),bs(l,f),uc(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new FB),this.sharedNodes.get(s).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:l}=this.options;return l?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:l}=this.options;return l?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&Ag("z",s,d,this.animationValues);for(let f=0;f<Cg.length;f++)Ag(`rotate${Cg[f]}`,s,d,this.animationValues),Ag(`skew${Cg[f]}`,s,d,this.animationValues);s.render();for(const f in d)s.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);s.scheduleRender()}getProjectionStyles(s){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return BB;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=sf(s?.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=sf(s?.pointerEvents)||""),this.hasProjected&&!sa(this.latestValues)&&(w.transform=f?f({},""):"none",this.hasProjected=!1),w}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=$B(this.projectionDeltaWithTransform,this.treeScale,m),f&&(d.transform=f(m,d.transform));const{x:v,y:x}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,p.animationValues?d.opacity=p===this?(u=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in Sf){if(m[w]===void 0)continue;const{correct:b,applyTo:C}=Sf[w],k=d.transform==="none"?m[w]:b(m[w],p);if(C){const E=C.length;for(let N=0;N<E;N++)d[C[N]]=k}else d[w]=k}return this.options.layoutId&&(d.pointerEvents=p===this?sf(s?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(S2),this.root.sharedNodes.clear()}}}function WB(e){e.updateLayout()}function VB(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?Cr(p=>{const m=s?n.measuredBox[p]:n.layoutBox[p],v=ur(m);m.min=r[p].min,m.max=m.min+v}):Fj(o,n.layoutBox,r)&&Cr(p=>{const m=s?n.measuredBox[p]:n.layoutBox[p],v=ur(r[p]);m.max=m.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+v)});const l=ys();uc(l,r,n.layoutBox);const u=ys();s?uc(u,e.applyTransform(i,!0),n.measuredBox):uc(u,r,n.layoutBox);const d=!Mj(l);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:v}=p;if(m&&v){const x=Bt();dc(x,n.layoutBox,m.layoutBox);const w=Bt();dc(w,r,v.layoutBox),Ij(x,w)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=x,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function UB(e){ic&&la.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function HB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function GB(e){e.clearSnapshot()}function S2(e){e.clearMeasurements()}function KB(e){e.isLayoutDirty=!1}function qB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function P2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function YB(e){e.resolveTargetDelta()}function XB(e){e.calcProjection()}function ZB(e){e.resetSkewAndRotation()}function QB(e){e.removeLeadSnapshot()}function C2(e,t,n){e.translate=_t(t.translate,0,n),e.scale=_t(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function A2(e,t,n,r){e.min=_t(t.min,n.min,r),e.max=_t(t.max,n.max,r)}function JB(e,t,n,r){A2(e.x,t.x,n.x,r),A2(e.y,t.y,n.y,r)}function ez(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const tz={duration:.45,ease:[.4,0,.1,1]},k2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),E2=k2("applewebkit/")&&!k2("chrome/")?Math.round:ar;function N2(e){e.min=E2(e.min),e.max=E2(e.max)}function nz(e){N2(e.x),N2(e.y)}function Fj(e,t,n){return e==="position"||e==="preserve-aspect"&&!oB(x2(t),x2(n),.2)}function rz(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const iz=Lj({attachResizeListener:(e,t)=>Sc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kg={current:void 0},$j=Lj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kg.current){const e=new iz({});e.mount(window),e.setOptions({layoutScroll:!0}),kg.current=e}return kg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),oz={pan:{Feature:wB},drag:{Feature:bB,ProjectionNode:$j,MeasureLayout:Tj}};function O2(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&St.postRender(()=>o(t,Xc(t)))}class az extends Bo{mount(){const{current:t}=this.node;t&&(this.unmount=oF(t,n=>(O2(this.node,n,"Start"),r=>O2(this.node,r,"End"))))}unmount(){}}class sz extends Bo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yc(Sc(this.node.current,"focus",()=>this.onFocus()),Sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function j2(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&St.postRender(()=>o(t,Xc(t)))}class lz extends Bo{mount(){const{current:t}=this.node;t&&(this.unmount=cF(t,n=>(j2(this.node,n,"Start"),(r,{success:i})=>j2(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fy=new WeakMap,Eg=new WeakMap,cz=e=>{const t=Fy.get(e.target);t&&t(e)},uz=e=>{e.forEach(cz)};function dz({root:e,...t}){const n=e||document;Eg.has(n)||Eg.set(n,{});const r=Eg.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(uz,{root:e,...t})),r[i]}function fz(e,t,n){const r=dz(t);return Fy.set(e,n),r.observe(e),()=>{Fy.delete(e),r.unobserve(e)}}const pz={some:0,all:1};class hz extends Bo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:pz[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),m=d?f:p;m&&m(u)};return fz(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(mz(t,n))&&this.startObserver()}unmount(){}}function mz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const gz={inView:{Feature:hz},tap:{Feature:lz},focus:{Feature:sz},hover:{Feature:az}},vz={layout:{ProjectionNode:$j,MeasureLayout:Tj}},$y={current:null},Bj={current:!1};function yz(){if(Bj.current=!0,!!ex)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$y.current=e.matches;e.addListener(t),t()}else $y.current=!1}const xz=[...dj,Cn,Ro],bz=e=>xz.find(uj(e)),T2=new WeakMap;function wz(e,t,n){for(const r in t){const i=t[r],o=n[r];if(En(i))e.addValue(r,i);else if(En(o))e.addValue(r,bc(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,bc(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const _2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sz{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ex,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=pi.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,St.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:f}=s;this.onUpdate=f,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Dp(n),this.isVariantNode=xO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in m){const x=m[v];u[v]!==void 0&&En(x)&&x.set(u[v],!1)}}mount(t){this.current=t,T2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Bj.current||yz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$y.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){T2.delete(this.current),this.projection&&this.projection.unmount(),Io(this.notifyUpdate),Io(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Da.has(t),i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&St.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _s){const n=_s[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_2.length;r++){const i=_2[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=wz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=bc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(lj(i)||JO(i))?i=parseFloat(i):!bz(i)&&Ro.test(n)&&(i=oj(t,n)),this.setBaseTarget(t,En(i)?i.get():i)),En(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=sx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!En(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new wx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class zj extends Sz{constructor(){super(...arguments),this.KeyframeResolver=fj}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Pz(e){return window.getComputedStyle(e)}class Cz extends zj{constructor(){super(...arguments),this.type="html",this.renderInstance=NO}readValueFromInstance(t,n){if(Da.has(n)){const r=kx(n);return r&&r.default||0}else{const r=Pz(t),i=(AO(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Oj(t,n)}build(t,n,r){ux(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return hx(t,n,r)}}class Az extends zj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Da.has(n)){const r=kx(n);return r&&r.default||0}return n=OO.has(n)?n:ix(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return _O(t,n,r)}build(t,n,r){dx(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){jO(t,n,r,i)}mount(t){this.isSVGTag=px(t.tagName),super.mount(t)}}const kz=(e,t)=>ax(e)?new Az(t):new Cz(t,{allowProjection:e!==P.Fragment}),Ez=Q4({...X$,...gz,...oz,...vz},kz),Ze=p4(Ez);var Ar=function(e,t){return Number(e.toFixed(t))},Nz=function(e,t){return t},At=function(e,t,n){n&&typeof n=="function"&&n(e,t)},Oz=function(e){return-Math.cos(e*Math.PI)/2+.5},jz=function(e){return e},Tz=function(e){return e*e},_z=function(e){return e*(2-e)},Dz=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},Mz=function(e){return e*e*e},Iz=function(e){return--e*e*e+1},Rz=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},Lz=function(e){return e*e*e*e},Fz=function(e){return 1- --e*e*e*e},$z=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},Bz=function(e){return e*e*e*e*e},zz=function(e){return 1+--e*e*e*e*e},Wz=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},Wj={easeOut:Oz,linear:jz,easeInQuad:Tz,easeOutQuad:_z,easeInOutQuad:Dz,easeInCubic:Mz,easeOutCubic:Iz,easeInOutCubic:Rz,easeInQuart:Lz,easeOutQuart:Fz,easeInOutQuart:$z,easeInQuint:Bz,easeOutQuint:zz,easeInOutQuint:Wz},Vj=function(e){typeof e=="number"&&cancelAnimationFrame(e)},Wr=function(e){e.mounted&&(Vj(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function Uj(e,t,n,r){if(e.mounted){var i=new Date().getTime(),o=1;Wr(e),e.animation=function(){if(!e.mounted)return Vj(e.animation);var s=new Date().getTime()-i,l=s/n,u=Wj[t],d=u(l);s>=n?(r(o),e.animation=null):e.animation&&(r(d),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function Vz(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}function zo(e,t,n,r){var i=Vz(t);if(!(!e.mounted||!i)){var o=e.setTransformState,s=e.transformState,l=s.scale,u=s.positionX,d=s.positionY,f=t.scale-l,p=t.positionX-u,m=t.positionY-d;n===0?o(t.scale,t.positionX,t.positionY):Uj(e,r,n,function(v){var x=l+f*v,w=u+p*v,b=d+m*v;o(x,w,b)})}}function Uz(e,t,n){var r=e.offsetWidth,i=e.offsetHeight,o=t.offsetWidth,s=t.offsetHeight,l=o*n,u=s*n,d=r-l,f=i-u;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:l,newDiffWidth:d,newContentHeight:u,newDiffHeight:f}}var Hz=function(e,t,n,r,i,o,s){var l=e>t?n*(s?1:.5):0,u=r>i?o*(s?1:.5):0,d=e-t-l,f=l,p=r-i-u,m=u;return{minPositionX:d,maxPositionX:f,minPositionY:p,maxPositionY:m}},Tx=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,i=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var o=Uz(n,r,t),s=o.wrapperWidth,l=o.wrapperHeight,u=o.newContentWidth,d=o.newDiffWidth,f=o.newContentHeight,p=o.newDiffHeight,m=Hz(s,u,d,l,f,p,!!i);return m},By=function(e,t,n,r){return r?e<t?Ar(t,2):e>n?Ar(n,2):Ar(e,2):Ar(e,2)},ba=function(e,t){var n=Tx(e,t);return e.bounds=n,n};function Zc(e,t,n,r,i,o,s){var l=n.minPositionX,u=n.minPositionY,d=n.maxPositionX,f=n.maxPositionY,p=0,m=0;s&&(p=i,m=o);var v=By(e,l-p,d+p,r),x=By(t,u-m,f+m,r);return{x:v,y:x}}function Rp(e,t,n,r,i,o){var s=e.transformState,l=s.scale,u=s.positionX,d=s.positionY,f=r-l;if(typeof t!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:u,y:d};var p=u-t*f,m=d-n*f,v=Zc(p,m,i,o,0,0,null);return v}function Qc(e,t,n,r,i){var o=i?r:0,s=t-o;return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=s?s:e}var D2=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,i=e.wrapperComponent,o=t.target,s="shadowRoot"in o&&"composedPath"in t,l=s?t.composedPath().some(function(f){return f instanceof Element?i?.contains(f):!1}):i?.contains(o),u=r&&o&&l;if(!u)return!1;var d=Lp(o,n);return!d},M2=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup,i=r.panning.disabled,o=t&&n&&!i;return!!o},Gz=function(e,t){var n=e.transformState,r=n.positionX,i=n.positionY;e.isPanning=!0;var o=t.clientX,s=t.clientY;e.startCoords={x:o-r,y:s-i}},Kz=function(e,t){var n=t.touches,r=e.transformState,i=r.positionX,o=r.positionY;e.isPanning=!0;var s=n.length===1;if(s){var l=n[0].clientX,u=n[0].clientY;e.startCoords={x:l-i,y:u-o}}};function qz(e){var t=e.transformState,n=t.positionX,r=t.positionY,i=t.scale,o=e.setup,s=o.disabled,l=o.limitToBounds,u=o.centerZoomedOut,d=e.wrapperComponent;if(!(s||!d||!e.bounds)){var f=e.bounds,p=f.maxPositionX,m=f.minPositionX,v=f.maxPositionY,x=f.minPositionY,w=n>p||n<m,b=r>v||r<x,C=n>p?d.offsetWidth:e.setup.minPositionX||0,k=r>v?d.offsetHeight:e.setup.minPositionY||0,E=Rp(e,C,k,i,e.bounds,l||u),N=E.x,T=E.y;return{scale:i,positionX:w?N:n,positionY:b?T:r}}}function Hj(e,t,n,r,i){var o=e.setup.limitToBounds,s=e.wrapperComponent,l=e.bounds,u=e.transformState,d=u.scale,f=u.positionX,p=u.positionY;if(!(s===null||l===null||t===f&&n===p)){var m=Zc(t,n,l,o,r,i,s),v=m.x,x=m.y;e.setTransformState(d,v,x)}}var Yz=function(e,t,n){var r=e.startCoords,i=e.transformState,o=e.setup.panning,s=o.lockAxisX,l=o.lockAxisY,u=i.positionX,d=i.positionY;if(!r)return{x:u,y:d};var f=t-r.x,p=n-r.y,m=s?u:f,v=l?d:p;return{x:m,y:v}},Lo=function(e,t){var n=e.setup,r=e.transformState,i=r.scale,o=n.minScale,s=n.disablePadding;return t>0&&i>=o&&!s?t:0},Xz=function(e){var t=e.mounted,n=e.setup,r=n.disabled,i=n.velocityAnimation,o=e.transformState.scale,s=i.disabled,l=!s||o>1||!r||t;return!!l},Zz=function(e){var t=e.mounted,n=e.velocity,r=e.bounds,i=e.setup,o=i.disabled,s=i.velocityAnimation,l=e.transformState.scale,u=s.disabled,d=!u||l>1||!o||t;return!(!d||!n||!r)};function Qz(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,i=n.animationTime,o=n.sensitivity;return r?i*t*o:i}function I2(e,t,n,r,i,o,s,l,u,d){if(i){if(t>s&&n>s){var f=s+(e-s)*d;return f>u?u:f<s?s:f}if(t<o&&n<o){var f=o+(e-o)*d;return f<l?l:f>o?o:f}}return r?t:By(e,o,s,i)}function Jz(e,t){var n=1;return t?Math.min(n,e.offsetWidth/window.innerWidth):n}function e6(e,t){var n=Xz(e);if(n){var r=e.lastMousePosition,i=e.velocityTime,o=e.setup,s=e.wrapperComponent,l=o.velocityAnimation.equalToMove,u=Date.now();if(r&&i&&s){var d=Jz(s,l),f=t.x-r.x,p=t.y-r.y,m=f/d,v=p/d,x=u-i,w=f*f+p*p,b=Math.sqrt(w)/x;e.velocity={velocityX:m,velocityY:v,total:b}}e.lastMousePosition=t,e.velocityTime=u}}function t6(e){var t=e.velocity,n=e.bounds,r=e.setup,i=e.wrapperComponent,o=Zz(e);if(!(!o||!t||!n||!i)){var s=t.velocityX,l=t.velocityY,u=t.total,d=n.maxPositionX,f=n.minPositionX,p=n.maxPositionY,m=n.minPositionY,v=r.limitToBounds,x=r.alignmentAnimation,w=r.zoomAnimation,b=r.panning,C=b.lockAxisY,k=b.lockAxisX,E=w.animationType,N=x.sizeX,T=x.sizeY,O=x.velocityAlignmentTime,_=O,D=Qz(e,u),V=Math.max(D,_),q=Lo(e,N),G=Lo(e,T),$=q*i.offsetWidth/100,U=G*i.offsetHeight/100,ce=d+$,ue=f-$,ge=p+U,Q=m-U,Y=e.transformState,ee=new Date().getTime();Uj(e,E,V,function(ne){var L=e.transformState,W=L.scale,ie=L.positionX,ae=L.positionY,de=new Date().getTime()-ee,X=de/_,B=Wj[x.animationType],te=1-B(Math.min(1,X)),R=1-ne,re=ie+s*R,fe=ae+l*R,I=I2(re,Y.positionX,ie,k,v,f,d,ue,ce,te),Ce=I2(fe,Y.positionY,ae,C,v,m,p,Q,ge,te);(ie!==re||ae!==fe)&&e.setTransformState(W,I,Ce)})}}function R2(e,t){var n=e.transformState.scale;Wr(e),ba(e,n),window.TouchEvent!==void 0&&t instanceof TouchEvent?Kz(e,t):Gz(e,t)}function _x(e,t){var n=e.transformState.scale,r=e.setup,i=r.minScale,o=r.alignmentAnimation,s=o.disabled,l=o.sizeX,u=o.sizeY,d=o.animationTime,f=o.animationType,p=s||n<i||!l&&!u;if(!p){var m=qz(e);m&&zo(e,m,t??d,f)}}function L2(e,t,n){var r=e.startCoords,i=e.setup,o=i.alignmentAnimation,s=o.sizeX,l=o.sizeY;if(r){var u=Yz(e,t,n),d=u.x,f=u.y,p=Lo(e,s),m=Lo(e,l);e6(e,{x:d,y:f}),Hj(e,d,f,p,m)}}function n6(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var o=r?.getBoundingClientRect(),s=i?.getBoundingClientRect(),l=o?.width||0,u=o?.height||0,d=s?.width||0,f=s?.height||0,p=l<d||u<f,m=!t&&n&&n?.total>.1&&p;m?t6(e):_x(e)}}function Dx(e,t,n,r){var i=e.setup,o=i.minScale,s=i.maxScale,l=i.limitToBounds,u=Qc(Ar(t,2),o,s,0,!1),d=ba(e,u),f=Rp(e,n,r,u,d,l),p=f.x,m=f.y;return{scale:u,positionX:p,positionY:m}}function Gj(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,s=o.minScale,l=o.limitToBounds,u=o.zoomAnimation,d=u.disabled,f=u.animationTime,p=u.animationType,m=d||r>=s;if((r>=1||l)&&_x(e),!(m||!i||!e.mounted)){var v=t||i.offsetWidth/2,x=n||i.offsetHeight/2,w=Dx(e,s,v,x);w&&zo(e,w,f,p)}}var jo=function(){return jo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},jo.apply(this,arguments)};function F2(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Id={scale:1,positionX:0,positionY:0},Ul={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},zy={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},Kj=function(e){var t,n,r,i;return{previousScale:(t=e.initialScale)!==null&&t!==void 0?t:Id.scale,scale:(n=e.initialScale)!==null&&n!==void 0?n:Id.scale,positionX:(r=e.initialPositionX)!==null&&r!==void 0?r:Id.positionX,positionY:(i=e.initialPositionY)!==null&&i!==void 0?i:Id.positionY}},$2=function(e){var t=jo({},Ul);return Object.keys(e).forEach(function(n){var r=typeof e[n]<"u",i=typeof Ul[n]<"u";if(i&&r){var o=Object.prototype.toString.call(Ul[n]),s=o==="[object Object]",l=o==="[object Array]";s?t[n]=jo(jo({},Ul[n]),e[n]):l?t[n]=F2(F2([],Ul[n],!0),e[n]):t[n]=e[n]}}),t},qj=function(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,s=o.maxScale,l=o.minScale,u=o.zoomAnimation,d=o.smooth,f=u.size;if(!i)throw new Error("Wrapper is not mounted");var p=d?r*Math.exp(t*n):r+t*n,m=Qc(Ar(p,3),l,s,f,!1);return m};function Yj(e,t,n,r,i){var o=e.wrapperComponent,s=e.transformState,l=s.scale,u=s.positionX,d=s.positionY;if(!o)return console.error("No WrapperComponent found");var f=o.offsetWidth,p=o.offsetHeight,m=(f/2-u)/l,v=(p/2-d)/l,x=qj(e,t,n),w=Dx(e,x,m,v);if(!w)return console.error("Error during zoom event. New transformation state was not calculated.");zo(e,w,r,i)}function Xj(e,t,n,r){var i=e.setup,o=e.wrapperComponent,s=i.limitToBounds,l=Kj(e.props),u=e.transformState,d=u.scale,f=u.positionX,p=u.positionY;if(o){var m=Tx(e,l.scale),v=Zc(l.positionX,l.positionY,m,s,0,0,o),x={scale:l.scale,positionX:v.x,positionY:v.y};d===l.scale&&f===l.positionX&&p===l.positionY||(r?.(),zo(e,x,t,n))}}function r6(e,t,n,r){var i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),s=n.getBoundingClientRect(),l=o.x*r.scale,u=o.y*r.scale;return{x:(i.x-s.x+l)/r.scale,y:(i.y-s.y+u)/r.scale}}function i6(e,t,n){var r=e.wrapperComponent,i=e.contentComponent,o=e.transformState,s=e.setup,l=s.limitToBounds,u=s.minScale,d=s.maxScale;if(!r||!i)return o;var f=r.getBoundingClientRect(),p=t.getBoundingClientRect(),m=r6(t,r,i,o),v=m.x,x=m.y,w=p.width/o.scale,b=p.height/o.scale,C=r.offsetWidth/w,k=r.offsetHeight/b,E=Qc(n||Math.min(C,k),u,d,0,!1),N=(f.width-w*E)/2,T=(f.height-b*E)/2,O=(f.left-v)*E+N,_=(f.top-x)*E+T,D=Tx(e,E),V=Zc(O,_,D,l,0,0,r),q=V.x,G=V.y;return{positionX:q,positionY:G,scale:E}}var o6=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),Yj(e,1,t,n,r)}},a6=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),Yj(e,-1,t,n,r)}},s6=function(e){return function(t,n,r,i,o){i===void 0&&(i=300),o===void 0&&(o="easeOut");var s=e.transformState,l=s.positionX,u=s.positionY,d=s.scale,f=e.wrapperComponent,p=e.contentComponent,m=e.setup.disabled;if(!(m||!f||!p)){var v={positionX:Number.isNaN(t)?l:t,positionY:Number.isNaN(n)?u:n,scale:Number.isNaN(r)?d:r};zo(e,v,i,o)}}},l6=function(e){return function(t,n){t===void 0&&(t=200),n===void 0&&(n="easeOut"),Xj(e,t,n)}},c6=function(e){return function(t,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var i=e.transformState,o=e.wrapperComponent,s=e.contentComponent;if(o&&s){var l=Zj(t||i.scale,o,s);zo(e,l,n,r)}}},u6=function(e){return function(t,n,r,i){r===void 0&&(r=600),i===void 0&&(i="easeOut"),Wr(e);var o=e.wrapperComponent,s=typeof t=="string"?document.getElementById(t):t;if(o&&s&&o.contains(s)){var l=i6(e,s,n);zo(e,l,r,i)}}},Wy=function(e){return{instance:e,zoomIn:o6(e),zoomOut:a6(e),setTransform:s6(e),resetTransform:l6(e),centerView:c6(e),zoomToElement:u6(e)}},d6=function(e){return{instance:e,state:e.transformState}},vt=function(e){var t={};return Object.assign(t,d6(e)),Object.assign(t,Wy(e)),t},Ng=!1;function Og(){try{var e={get passive(){return Ng=!0,!1}};return e}catch{return Ng=!1,Ng}}var Rd=".".concat(zy.wrapperClass),Lp=function(e,t){return t.some(function(n){return e.matches("".concat(Rd," ").concat(n,", ").concat(Rd," .").concat(n,", ").concat(Rd," ").concat(n," *, ").concat(Rd," .").concat(n," *"))})},Vy=function(e){e&&clearTimeout(e)},f6=function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")},Zj=function(e,t,n){var r=n.offsetWidth*e,i=n.offsetHeight*e,o=(t.offsetWidth-r)/2,s=(t.offsetHeight-i)/2;return{scale:e,positionX:o,positionY:s}};function p6(e){return function(t){e.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var h6=function(e,t){var n=e.setup.wheel,r=n.disabled,i=n.wheelDisabled,o=n.touchPadDisabled,s=n.excluded,l=e.isInitialized,u=e.isPanning,d=t.target,f=l&&!u&&!r&&d;if(!f||i&&!t.ctrlKey||o&&t.ctrlKey)return!1;var p=Lp(d,s);return!p},m6=function(e){return e?e.deltaY<0?1:-1:0};function g6(e,t){var n=m6(e),r=Nz(t,n);return r}function Qj(e,t,n){var r=t.getBoundingClientRect(),i=0,o=0;if("clientX"in e)i=(e.clientX-r.left)/n,o=(e.clientY-r.top)/n;else{var s=e.touches[0];i=(s.clientX-r.left)/n,o=(s.clientY-r.top)/n}return(Number.isNaN(i)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:i,y:o}}var v6=function(e,t,n,r,i){var o=e.transformState.scale,s=e.wrapperComponent,l=e.setup,u=l.maxScale,d=l.minScale,f=l.zoomAnimation,p=l.disablePadding,m=f.size,v=f.disabled;if(!s)throw new Error("Wrapper is not mounted");var x=o+t*n,w=r?!1:!v,b=Qc(Ar(x,3),d,u,m,w&&!p);return b},y6=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,i=e.setup,o=i.maxScale,s=i.minScale;return n?r<o||r>s||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY):!1},x6=function(e,t){var n=e.setup.pinch,r=n.disabled,i=n.excluded,o=e.isInitialized,s=t.target,l=o&&!r&&s;if(!l)return!1;var u=Lp(s,i);return!u},b6=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance,i=n&&!t&&r;return!!i},w6=function(e,t,n){var r=n.getBoundingClientRect(),i=e.touches,o=Ar(i[0].clientX-r.left,5),s=Ar(i[0].clientY-r.top,5),l=Ar(i[1].clientX-r.left,5),u=Ar(i[1].clientY-r.top,5);return{x:(o+l)/2/t,y:(s+u)/2/t}},Jj=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},S6=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,i=e.setup,o=i.maxScale,s=i.minScale,l=i.zoomAnimation,u=i.disablePadding,d=l.size,f=l.disabled;if(!n||r===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return e.transformState.scale;var p=t/r,m=p*n;return Qc(Ar(m,2),s,o,d,!f&&!u)},P6=160,C6=100,A6=function(e,t){var n=e.props,r=n.onWheelStart,i=n.onZoomStart;e.wheelStopEventTimer||(Wr(e),At(vt(e),t,r),At(vt(e),t,i))},k6=function(e,t){var n=e.props,r=n.onWheel,i=n.onZoom,o=e.contentComponent,s=e.setup,l=e.transformState,u=l.scale,d=s.limitToBounds,f=s.centerZoomedOut,p=s.zoomAnimation,m=s.wheel,v=s.disablePadding,x=s.smooth,w=p.size,b=p.disabled,C=m.step,k=m.smoothStep;if(!o)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var E=g6(t,null),N=x?k*Math.abs(t.deltaY):C,T=v6(e,E,N,!t.ctrlKey);if(u!==T){var O=ba(e,T),_=Qj(t,o,u),D=b||w===0||f||v,V=d&&D,q=Rp(e,_.x,_.y,T,O,V),G=q.x,$=q.y;e.previousWheelEvent=t,e.setTransformState(T,G,$),At(vt(e),t,r),At(vt(e),t,i)}},E6=function(e,t){var n=e.props,r=n.onWheelStop,i=n.onZoomStop;Vy(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(Gj(e,t.x,t.y),e.wheelAnimationTimer=null)},C6);var o=y6(e,t);o&&(Vy(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,At(vt(e),t,r),At(vt(e),t,i))},P6))},eT=function(e){for(var t=0,n=0,r=0;r<2;r+=1)t+=e.touches[r].clientX,n+=e.touches[r].clientY;var i=t/2,o=n/2;return{x:i,y:o}},N6=function(e,t){var n=Jj(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var r=eT(t);e.pinchLastCenterX=r.x,e.pinchLastCenterY=r.y,Wr(e)},O6=function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,i=e.wrapperComponent,o=e.transformState.scale,s=e.setup,l=s.limitToBounds,u=s.centerZoomedOut,d=s.zoomAnimation,f=s.alignmentAnimation,p=d.disabled,m=d.size;if(!(r===null||!n)){var v=w6(t,o,n);if(!(!Number.isFinite(v.x)||!Number.isFinite(v.y))){var x=Jj(t),w=S6(e,x),b=eT(t),C=b.x-(e.pinchLastCenterX||0),k=b.y-(e.pinchLastCenterY||0);if(!(w===o&&C===0&&k===0)){e.pinchLastCenterX=b.x,e.pinchLastCenterY=b.y;var E=ba(e,w),N=p||m===0||u,T=l&&N,O=Rp(e,v.x,v.y,w,E,T),_=O.x,D=O.y;e.pinchMidpoint=v,e.lastDistance=x;var V=f.sizeX,q=f.sizeY,G=Lo(e,V),$=Lo(e,q),U=_+C,ce=D+k,ue=Zc(U,ce,E,l,G,$,i),ge=ue.x,Q=ue.y;e.setTransformState(w,ge,Q)}}}},j6=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,Gj(e,t?.x,t?.y)},tT=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;Vy(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,At(vt(e),t,n)},r)},T6=function(e,t){var n=e.props,r=n.onZoomStart,i=n.onZoom,o=e.setup.doubleClick,s=o.animationTime,l=o.animationType;At(vt(e),t,r),Xj(e,s,l,function(){return At(vt(e),t,i)}),tT(e,t)};function _6(e,t){return e==="toggle"?t===1?1:-1:e==="zoomOut"?-1:1}function D6(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,i=e.transformState,o=e.contentComponent,s=i.scale,l=e.props,u=l.onZoomStart,d=l.onZoom,f=n.doubleClick,p=f.disabled,m=f.mode,v=f.step,x=f.animationTime,w=f.animationType;if(!p&&!r){if(m==="reset")return T6(e,t);if(!o)return console.error("No ContentComponent found");var b=_6(m,e.transformState.scale),C=qj(e,b,v);if(s!==C){At(vt(e),t,u);var k=Qj(t,o,s),E=Dx(e,C,k.x,k.y);if(!E)return console.error("Error during zoom event. New transformation state was not calculated.");At(vt(e),t,d),zo(e,E,x,w),tT(e,t)}}}var M6=function(e,t){var n=e.isInitialized,r=e.setup,i=e.wrapperComponent,o=r.doubleClick,s=o.disabled,l=o.excluded,u=t.target,d=i?.contains(u),f=n&&u&&d&&!s;if(!f)return!1;var p=Lp(u,l);return!p},I6=(function(){function e(t){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){n.props=r,ba(n,n.transformState.scale),n.setup=$2(r)},this.initializeWindowEvents=function(){var r,i,o=Og(),s=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=s?.defaultView;(i=n.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",n.onWheelPanning,o),l?.addEventListener("mousedown",n.onPanningStart,o),l?.addEventListener("mousemove",n.onPanning,o),l?.addEventListener("mouseup",n.onPanningStop,o),s?.addEventListener("mouseleave",n.clearPanning,o),l?.addEventListener("keyup",n.setKeyUnPressed,o),l?.addEventListener("keydown",n.setKeyPressed,o)},this.cleanupWindowEvents=function(){var r,i,o=Og(),s=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=s?.defaultView;l?.removeEventListener("mousedown",n.onPanningStart,o),l?.removeEventListener("mousemove",n.onPanning,o),l?.removeEventListener("mouseup",n.onPanningStop,o),s?.removeEventListener("mouseleave",n.clearPanning,o),l?.removeEventListener("keyup",n.setKeyUnPressed,o),l?.removeEventListener("keydown",n.setKeyPressed,o),document.removeEventListener("mouseleave",n.clearPanning,o),Wr(n),(i=n.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(r){var i=Og();r.addEventListener("wheel",n.onWheelZoom,i),r.addEventListener("dblclick",n.onDoubleClick,i),r.addEventListener("touchstart",n.onTouchPanningStart,i),r.addEventListener("touchmove",n.onTouchPanning,i),r.addEventListener("touchend",n.onTouchPanningStop,i)},this.handleInitialize=function(r,i){var o=!1,s=n.setup.centerOnInit,l=function(u,d){for(var f=0,p=u;f<p.length;f++){var m=p[f];if(m.target===d)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(u){u(vt(n))}),n.observer=new ResizeObserver(function(u){if(l(u,r)||l(u,i))if(s&&!o){var d=i.offsetWidth,f=i.offsetHeight;(d>0||f>0)&&(o=!0,n.setCenter())}else Wr(n),ba(n,n.transformState.scale),_x(n,0)}),n.observer.observe(r),n.observer.observe(i)},this.onWheelZoom=function(r){var i=n.setup.disabled;if(!i){var o=h6(n,r);if(o){var s=n.isPressingKeys(n.setup.wheel.activationKeys);s&&(A6(n,r),k6(n,r),E6(n,r))}}},this.onWheelPanning=function(r){var i=n.setup,o=i.disabled,s=i.wheel,l=i.panning;if(!(!n.wrapperComponent||!n.contentComponent||o||!s.wheelDisabled||l.disabled||!l.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var u=n.transformState,d=u.positionX,f=u.positionY,p=d-r.deltaX,m=f-r.deltaY,v=l.lockAxisX?d:p,x=l.lockAxisY?f:m,w=n.setup.alignmentAnimation,b=w.sizeX,C=w.sizeY,k=Lo(n,b),E=Lo(n,C);v===d&&x===f||Hj(n,v,x,k,E)}},this.onPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var s=D2(n,r);if(s){var l=n.isPressingKeys(n.setup.panning.activationKeys);l&&(r.button===0&&!n.setup.panning.allowLeftClickPan||r.button===1&&!n.setup.panning.allowMiddleClickPan||r.button===2&&!n.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),Wr(n),R2(n,r),At(vt(n),r,o)))}}},this.onPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(!i){var s=M2(n);if(s){var l=n.isPressingKeys(n.setup.panning.activationKeys);l&&(r.preventDefault(),r.stopPropagation(),L2(n,r.clientX,r.clientY),At(vt(n),r,o))}}},this.onPanningStop=function(r){var i=n.props.onPanningStop;n.isPanning&&(n6(n),At(vt(n),r,i))},this.onPinchStart=function(r){var i=n.setup.disabled,o=n.props,s=o.onPinchingStart,l=o.onZoomStart;if(!i){var u=x6(n,r);u&&(N6(n,r),Wr(n),At(vt(n),r,s),At(vt(n),r,l))}},this.onPinch=function(r){var i=n.setup.disabled,o=n.props,s=o.onPinching,l=o.onZoom;if(!i){var u=b6(n);u&&(r.preventDefault(),r.stopPropagation(),O6(n,r),At(vt(n),r,s),At(vt(n),r,l))}},this.onPinchStop=function(r){var i=n.props,o=i.onPinchingStop,s=i.onZoomStop;n.pinchStartScale&&(j6(n),At(vt(n),r,o),At(vt(n),r,s))},this.onTouchPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var s=D2(n,r);if(s){var l=n.lastTouch&&+new Date-n.lastTouch<200&&r.touches.length===1;if(!l){n.lastTouch=+new Date,Wr(n);var u=r.touches,d=u.length===1,f=u.length===2;d&&(Wr(n),R2(n,r),At(vt(n),r,o)),f&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(i)return;var s=M2(n);if(!s)return;r.preventDefault(),r.stopPropagation();var l=r.touches[0];L2(n,l.clientX,l.clientY),At(vt(n),r,o)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var i=n.setup.disabled;if(!i){var o=M6(n,r);o&&D6(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(i){return n.pressedKeys[i]}):!0},this.setTransformState=function(r,i,o){var s=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=i,n.transformState.positionY=o,n.applyTransformation();var l=vt(n);n.onChangeCallbacks.forEach(function(u){return u(l)}),At(l,{scale:r,positionX:i,positionY:o},s)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=Zj(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,i,o){return n.props.customTransform?n.props.customTransform(r,i,o):f6(r,i,o)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,i=r.scale,o=r.positionX,s=r.positionY,l=n.handleTransformStyles(o,s,i);n.contentComponent.style.transform=l}},this.getContext=function(){return vt(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,i){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=i,ba(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(r,i),n.initializeWindowEvents(),n.isInitialized=!0;var o=vt(n);At(o,void 0,n.props.onInit)},this.props=t,this.setup=$2(this.props),this.transformState=Kj(this.props)}return e})(),Mx=ut.createContext(null),R6=function(e,t){return typeof e=="function"?e(t):e},L6=ut.forwardRef(function(e,t){var n=P.useRef(new I6(e)).current,r=R6(e.children,Wy(n));return P.useImperativeHandle(t,function(){return Wy(n)},[n]),P.useEffect(function(){n.update(e)},[n,e]),ut.createElement(Mx.Provider,{value:n},r)});ut.forwardRef(function(e,t){var n=P.useRef(null),r=P.useContext(Mx);return P.useEffect(function(){return r.onChange(function(i){if(n.current){var o=0,s=0;n.current.style.transform=r.handleTransformStyles(o,s,1/i.instance.transformState.scale)}})},[r]),ut.createElement("div",jo({},e,{ref:p6([n,t])}))});function F6(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var $6=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,B2={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};F6($6);var B6=function(e){var t=e.children,n=e.wrapperClass,r=n===void 0?"":n,i=e.contentClass,o=i===void 0?"":i,s=e.wrapperStyle,l=e.contentStyle,u=e.wrapperProps,d=u===void 0?{}:u,f=e.contentProps,p=f===void 0?{}:f,m=P.useContext(Mx),v=m.init,x=m.cleanupWindowEvents,w=P.useRef(null),b=P.useRef(null);return P.useEffect(function(){var C=w.current,k=b.current;return C!==null&&k!==null&&v&&v?.(C,k),function(){x?.()}},[]),ut.createElement("div",jo({},d,{ref:w,className:"".concat(zy.wrapperClass," ").concat(B2.wrapper," ").concat(r),style:s}),ut.createElement("div",jo({},p,{ref:b,className:"".concat(zy.contentClass," ").concat(B2.content," ").concat(o),style:l}),t))};const z6=$e.apiBaseUrl;async function nT(e){return Z3(e)}async function W6(e){const t={...e,focusMode:e.focusMode??"On-Axis",iterations:e.iterations,surfaces:e.surfaces.map(r=>({id:r.id,type:r.type,radius:r.radius,thickness:r.thickness,refractiveIndex:r.refractiveIndex,diameter:r.diameter,material:r.material,description:r.description,radiusTolerance:r.radiusTolerance??0,thicknessTolerance:r.thicknessTolerance??0,tiltTolerance:r.tiltTolerance??0,decenterX:r.decenterX??0,decenterY:r.decenterY??0,coating:r.coating,coating_r_table:r.coatingDataPoints??void 0,coating_constant_r:r.coatingConstantValue??void 0,coating_is_hr:r.coatingIsHr??void 0}))},n=await fetch(`${z6}/api/monte-carlo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const r=await n.text();throw new Error(r||`Monte Carlo failed: ${n.status}`)}return n.json()}async function V6(e,t){return Q3({...e,wavelength_min_nm:t?.wavelengthMinNm,wavelength_max_nm:t?.wavelengthMaxNm,wavelength_step_nm:t?.wavelengthStepNm})}async function U6(e){return J3({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1})}const rT=220,Uy=150,nr={left:36,right:12,top:8,bottom:24},jg=rT-nr.left-nr.right,ls=Uy-nr.top-nr.bottom,li=[[400,"#8B5CF6"],[450,"#3B82F6"],[500,"#22C55E"],[550,"#84CC16"],[600,"#EAB308"],[650,"#F97316"],[700,"#EF4444"],[800,"#DC2626"],[1100,"#991B1B"]];function H6(e){if(e<=li[0][0])return li[0][1];if(e>=li[li.length-1][0])return li[li.length-1][1];for(let t=0;t<li.length-1;t++){const[n,r]=li[t],[i]=li[t+1];if(e>=n&&e<=i)return r}return"#94A3B8"}function G6({systemState:e,onSystemStateChange:t,pulseOptimizeTrigger:n=0}){const[r,i]=P.useState([]),[o,s]=P.useState(!1),[l,u]=P.useState(null),[d,f]=P.useState(!1),[p,m]=P.useState(null),v=P.useRef(null),x=P.useCallback(()=>{s(!0),u(null),V6({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter??10,wavelengths:e.wavelengths??[587.6],fieldAngles:e.fieldAngles??[0],numRays:e.numRays??9,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1},{wavelengthMinNm:400,wavelengthMaxNm:1100,wavelengthStepNm:10}).then(B=>{const te=(B||[]).map(R=>({wavelength:Number(R.wavelength)||0,focus_shift:Number(R.focus_shift)??NaN}));i(te)}).catch(B=>{u(B instanceof Error?B.message:"Failed to fetch"),i([])}).finally(()=>s(!1))},[e.surfaces,e.entrancePupilDiameter,e.wavelengths,e.fieldAngles,e.numRays,e.focusMode,e.m2Factor]),w=P.useRef(e.surfaces);P.useEffect(()=>{const B=w.current.length!==e.surfaces.length||w.current.some((te,R)=>{const re=e.surfaces[R];return re?.material!==te.material||!!re?.sellmeierCoefficients?.B!=!!te.sellmeierCoefficients?.B});return w.current=e.surfaces,B?(v.current&&clearTimeout(v.current),v.current=null,x()):(v.current&&clearTimeout(v.current),v.current=setTimeout(x,300)),()=>{v.current&&clearTimeout(v.current)}},[x,e.surfaces]);const b=r.filter(B=>Number.isFinite(B.focus_shift)&&Number.isFinite(B.wavelength)).sort((B,te)=>B.wavelength-te.wavelength),C=e.wavelengths?.[0]??587.6,k=C>=400&&C<=1100?C:587.6,N=b.reduce((B,te)=>!B||Math.abs(te.wavelength-k)<Math.abs(B.wavelength-k)?te:B,null)?.focus_shift??(b.length?b[Math.floor(b.length/2)].focus_shift:0),T=Math.min(...b.map(B=>B.focus_shift-N),0),O=Math.max(...b.map(B=>B.focus_shift-N),0),_=Math.max(O-T,.5),D=T-_*.1,V=O+_*.1,q=400,G=1100,$=B=>nr.left+jg*(B-D)/(V-D),U=B=>nr.top+ls-ls*(B-q)/(G-q),ce=b.map(B=>`${$(B.focus_shift-N)},${U(B.wavelength)}`).join(" "),ue=$(0),[ge,Q]=P.useState(null),Y=P.useRef(null),ee=B=>D+(B-nr.left)/jg*(V-D),ne=B=>q+(nr.top+ls-B)/ls*(G-q),L=P.useCallback(B=>{if(!Y.current||b.length<2)return;const te=Y.current.getBoundingClientRect(),R=B.clientX-te.left,re=B.clientY-te.top,fe=ne(re),I=ee(R),Ce=b.reduce((we,Ye)=>{const ze=Math.abs(Ye.wavelength-fe)+Math.abs(Ye.focus_shift-N-I)*.1;return ze<we.dist?{p:Ye,dist:ze}:we},{p:b[0],dist:1/0});Q({wavelength:Ce.p.wavelength,shiftMm:Ce.p.focus_shift-N,x:B.clientX,y:B.clientY})},[b,N,ee,ne]),W=P.useCallback(()=>Q(null),[]),ie=b.length>=2?(()=>{const B=b.find(R=>Math.abs(R.wavelength-486)<20),te=b.find(R=>Math.abs(R.wavelength-656)<20);return!B||!te?null:Math.abs(B.focus_shift-te.focus_shift)})():null,ae=p&&ie!=null&&ie>0?Math.round(p.estimated_lca_reduction/ie*100):null,de=P.useCallback(()=>{f(!0),m(null),U6({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter??10,wavelengths:e.wavelengths??[587.6],fieldAngles:e.fieldAngles??[0],numRays:e.numRays??9,focusMode:e.focusMode??"On-Axis",m2Factor:e.m2Factor??1}).then(B=>m(B)).catch(()=>m({recommended_glass:"",estimated_lca_reduction:0})).finally(()=>f(!1))},[e]),X=P.useCallback(()=>{if(!p?.recommended_glass||e.surfaces.length!==2)return;const B=e.surfaces[0],te=e.surfaces[1];if(B.type!=="Glass"||te.type!=="Air")return;const R={id:crypto.randomUUID(),type:"Glass",radius:te.radius,thickness:B.thickness/2,refractiveIndex:1.6,diameter:B.diameter,material:p.recommended_glass,description:p.recommended_glass,coating:"Uncoated"};t(re=>{const fe=re.surfaces.map((I,Ce)=>Ce===1?{...I,radius:-I.radius}:{...I});return fe.splice(1,0,R),{...re,surfaces:fe,traceResult:null,traceError:null}}),m(null)},[p,e.surfaces,t]);return y.jsxs(Ze.div,{className:"absolute z-[40] flex flex-col gap-2",style:{bottom:16,left:16,width:240,maxWidth:240,pointerEvents:"auto"},initial:{opacity:0,y:12,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:300,damping:24},children:[y.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-900/80 backdrop-blur-md shadow-2xl px-2 py-2 overflow-hidden",children:[y.jsx("div",{className:"text-[10px] font-medium text-slate-400 mb-1 px-1",children:"Chromatic Aberration"}),y.jsx(zi,{mode:"wait",children:o?y.jsxs(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center gap-2 py-8 text-slate-400",children:[y.jsx(ks,{className:"w-4 h-4 animate-spin",strokeWidth:2}),y.jsx("span",{className:"text-xs",children:"Calculating"})]},"loading"):l?y.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-4 px-2 text-xs text-red-400/90",children:l},"error"):b.length<2?y.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-6 text-center text-xs text-slate-500",children:"No data"},"empty"):y.jsxs(Ze.svg,{ref:Y,width:rT,height:Uy,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"block cursor-crosshair",onMouseMove:L,onMouseLeave:W,children:[y.jsx("defs",{children:y.jsx("linearGradient",{id:"chromatic-spectrum-y",x1:"0",y1:"1",x2:"0",y2:"0",children:li.map(([B,te],R)=>y.jsx("stop",{offset:(B-400)/700,stopColor:te},R))})}),y.jsx("rect",{x:4,y:nr.top,width:8,height:ls,fill:"url(#chromatic-spectrum-y)",rx:2,opacity:.9}),[400,550,700,1100].map(B=>y.jsx("text",{x:nr.left-8,y:U(B)+3,textAnchor:"end",className:"fill-slate-500 text-[9px] font-mono",children:B},B)),y.jsx("text",{x:nr.left+jg/2,y:Uy-4,textAnchor:"middle",className:"fill-slate-500 text-[9px] font-mono",children:" focus (mm)"}),y.jsx("line",{x1:ue,y1:nr.top,x2:ue,y2:nr.top+ls,stroke:"rgba(34, 211, 238, 0.8)",strokeWidth:"1.5",strokeDasharray:"4 3"}),y.jsx("polyline",{points:ce,fill:"none",stroke:"#22D3EE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),b.map((B,te)=>y.jsx("circle",{cx:$(B.focus_shift-N),cy:U(B.wavelength),r:2,fill:H6(B.wavelength),stroke:"rgba(255,255,255,0.6)",strokeWidth:"0.5"},te))]},"chart")}),ge&&y.jsxs("div",{className:"fixed z-[50] px-2 py-1.5 rounded text-xs font-mono bg-slate-900/80 backdrop-blur-md border border-slate-700 text-slate-200 pointer-events-none",style:{left:ge.x+12,top:ge.y+8},children:[ge.wavelength," nm  ",(ge.shiftMm*1e3).toFixed(2)," m"]})]}),y.jsx(Ze.button,{type:"button",onClick:de,disabled:d||e.surfaces.length!==2,className:"w-full py-2 px-3 rounded-lg text-sm font-medium text-white bg-gradient-to-r from-cyan-500 to-indigo-500 hover:from-cyan-400 hover:to-indigo-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg",animate:n>0?{scale:[1,1.05,1],boxShadow:["0 10px 15px -3px rgb(0 0 0 / 0.1)","0 0 24px 4px rgba(34, 211, 238, 0.6)","0 10px 15px -3px rgb(0 0 0 / 0.1)"]}:void 0,transition:n>0?{duration:1.2,repeat:2,ease:"easeInOut"}:void 0,children:d?y.jsxs("span",{className:"flex items-center justify-center gap-2",children:[y.jsx(ks,{className:"w-4 h-4 animate-spin",strokeWidth:2}),"Optimizing"]}):"Optimize Colors"}),y.jsx(zi,{children:p?.recommended_glass&&y.jsxs(Ze.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},className:"rounded-lg border border-slate-700 bg-slate-900/80 backdrop-blur-md shadow-2xl p-3",children:[y.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[y.jsxs("p",{className:"text-xs text-slate-300",children:["Pair with ",y.jsx("span",{className:"font-semibold text-cyan-400",children:p.recommended_glass}),ae!=null?` to reduce shift by ${ae}%`:` (${p.estimated_lca_reduction.toFixed(2)} mm)`]}),y.jsx("button",{type:"button",onClick:()=>m(null),className:"p-0.5 rounded text-slate-500 hover:text-slate-300","aria-label":"Close",children:y.jsx(vc,{className:"w-3.5 h-3.5",strokeWidth:2})})]}),y.jsx("button",{type:"button",onClick:X,className:"w-full py-1.5 px-3 rounded text-xs font-medium bg-gradient-to-r from-cyan-500 to-indigo-500 text-white hover:from-cyan-400 hover:to-indigo-400 transition-all",children:"Apply"})]})})]})}const K6={"N-BK7":{B:[1.03961212,.231792344,1.01046945],C:[.00600069867,.0200179144,103.560653]},BK7:{B:[1.03961212,.231792344,1.01046945],C:[.00600069867,.0200179144,103.560653]},"N-SF11":{B:[1.73848403,.31116824,1.17490871],C:[.0133711172,.0619001176,121.419942]},SF11:{B:[1.73848403,.31116824,1.17490871],C:[.0133711172,.0619001176,121.419942]},"Fused Silica":{B:[.6961663,.4079426,.8974794],C:[.004679148,.01351206,97.93432]},Silica:{B:[.6961663,.4079426,.8974794],C:[.004679148,.01351206,97.93432]},F2:{B:[1.31038764,.196681836,.966129764],C:[.00958633072,.0457627625,99.2753302]},"N-SF5":{B:[1.31038764,.196681836,.966129764],C:[.00958633072,.0457627625,99.2753302]},"N-SF10":{B:[1.61625974,.259229334,.96887106],C:[.0106200162,.0473625942,119.248795]},"N-BAF10":{B:[1.5851495,.143571385,1.08521269],C:[.00909730952,.0424520636,105.613573]},"N-LAK9":{B:[1.41673927,.126605356,1.28217827],C:[.00906333117,.0493226978,95.6403971]}},q6={"n-bk7":"N-BK7",bk7:"N-BK7",nbk7:"N-BK7","n-sf11":"N-SF11",sf11:"N-SF11","fused silica":"Fused Silica","fused-silica":"Fused Silica",silica:"Fused Silica",f2:"F2","n-sf5":"N-SF5","n-sf10":"N-SF10","n-baf10":"N-BAF10",baf10:"N-BAF10","n-lak9":"N-LAK9",lak9:"N-LAK9"};function Y6(e){const t=q6[e.toLowerCase().trim()];return t?K6[t]??null:null}function Tg(e,t){const n=e*.001,r=n*n;let i=1;for(let o=0;o<3;o++)i+=t.B[o]*r/(r-t.C[o]);return Math.sqrt(Math.max(i,1))}const ha=.5;function Hy(e,t){const n=Tg(e,t),r=Tg(e+ha,t),i=Tg(e-ha,t);return(r-2*n+i)/(ha*ha)}function X6(e,t){const n=Hy(e+ha,t),r=Hy(e-ha,t);return(n-r)/(2*ha)}const iT=299792458;function Z6(e,t,n){const r=e*1e-9,i=t*1e18,o=iT;return n*.001*Math.pow(r,3)*i/(2*Math.PI*Math.PI*o*o)*1e30}function Q6(e,t,n,r){const i=e*1e-9,o=t*1e18,s=n*1e27,l=iT,u=r*.001,d=i*s-2*o;return u*Math.pow(i,4)*d/(4*Math.pow(Math.PI,3)*Math.pow(l,3))*1e45}function J6(e,t,n){const r=4*Math.LN2,i=e*e,o=r*r*t*t/i,s=r*r*r*n*n/(i*i);return Math.sqrt(Math.max(0,i+o+s))}function e8(e,t,n){let r=0,i=0;for(const s of e){if(s.type==="Air"||s.refractiveIndex<=1.01)continue;const l=Y6(s.material);if(!l)continue;const u=s.thickness,d=Hy(t,l),f=X6(t,l);r+=Z6(t,d,u),i+=Q6(t,d,f,u)}const o=J6(n,r,i);return{gddFs2:r,todFs3:i,predictedExitPulseWidthFs:o}}function t8(e,t){const{centerX:n,centerY:r,scale:i,dotRadius:o=1.2,inSpecOpacity:s=.5,outlierOpacity:l=.6}=t;if(!e.length)return{dots:null,inSpecCount:0,outlierCount:0};const u=e.reduce((C,[k])=>C+k,0)/e.length,d=e.reduce((C,[,k])=>C+k,0)/e.length,f=e.map(([C,k])=>Math.sqrt((C-u)**2+(k-d)**2)),p=f.reduce((C,k)=>C+k,0)/f.length,m=f.reduce((C,k)=>C+(k-p)**2,0)/f.length,v=Math.sqrt(m)||.001;let x=0,w=0;return{dots:e.map(([C,k],E)=>{const T=f[E]>v;T?w++:x++;const O=n+C*i,_=r-k*i;return y.jsx("circle",{cx:O,cy:_,r:o,fill:T?"rgba(239, 68, 68, 0.85)":"rgba(34, 211, 238, 0.85)",opacity:T?l:s},E)}),inSpecCount:x,outlierCount:w}}function n8({sweep:e,cursorZ:t,diamondZ:n,width:r=140,height:i=44}){if(!e.length)return null;const o=5,s=t-o,l=t+o,u=l-s||1,d=e.filter(E=>E.z>=s-.01&&E.z<=l+.01);if(d.length<2)return null;const f=d.map(E=>{const N=E.rmsPerField?.length?(()=>{const T=E.rmsPerField.filter(O=>O!=null);return T.length>0?Math.sqrt(T.reduce((O,_)=>O+_*_,0)/T.length):null})():E.rmsRadius;return{z:E.z,rms:N}}).filter(({rms:E})=>E!=null);if(f.length<2)return null;const p=Math.max(...f.map(E=>E.rms),1e-6),m=4,v=r-2*m,x=i-2*m,b=`M ${f.map(({z:E,rms:N})=>{const T=m+v*(E-s)/u,O=m+x-x*(N/p);return`${T},${O}`}).join(" L ")}`,C=m+v*Math.max(0,Math.min(1,(t-s)/u)),k=n!=null&&n>=s&&n<=l?m+v*(n-s)/u:null;return y.jsxs("svg",{width:r,height:i,className:"block",children:[y.jsx("path",{d:b,fill:"none",stroke:"rgba(34, 211, 238, 0.9)",strokeWidth:"1.5",vectorEffect:"non-scaling-stroke"}),y.jsx("line",{x1:C,y1:m,x2:C,y2:i-m,stroke:"#f97316",strokeWidth:"1",strokeDasharray:"2 2"}),k!=null&&y.jsx("line",{x1:k,y1:m,x2:k,y2:i-m,stroke:"#F59E0B",strokeWidth:"1.5",strokeDasharray:"3 2",opacity:.95})]})}function r8({sweep:e,currentZ:t,width:n=100,height:r=36}){if(!e.length)return null;const i=e[0].z,s=e[e.length-1].z-i||1,l=e.map(w=>{if(w.rmsPerField?.length){const b=w.rmsPerField.filter(C=>C!=null);return b.length>0?Math.sqrt(b.reduce((C,k)=>C+k*k,0)/b.length):null}return w.rmsRadius}).filter(w=>w!=null),u=Math.max(...l,1e-6),d=2,f=n-2*d,p=r-2*d,m=e.map(w=>{const b=w.rmsPerField?.length?(()=>{const C=w.rmsPerField.filter(k=>k!=null);return C.length>0?Math.sqrt(C.reduce((k,E)=>k+E*E,0)/C.length):null})():w.rmsRadius;return{z:w.z,rms:b}}).filter(({rms:w})=>w!=null).map(({z:w,rms:b})=>{const C=d+f*(w-i)/s,k=d+p-p*(b/u);return`${C},${k}`}),v=m.length>=2?`M ${m.join(" L ")}`:"",x=d+f*Math.max(0,Math.min(1,(t-i)/s));return y.jsxs("svg",{width:n,height:r,className:"block",children:[v&&y.jsx("path",{d:v,fill:"none",stroke:"rgba(34, 211, 238, 0.8)",strokeWidth:"1",vectorEffect:"non-scaling-stroke"}),y.jsx("line",{x1:x,y1:d,x2:x,y2:r-d,stroke:"#f97316",strokeWidth:"1",strokeDasharray:"2 2"})]})}function _i({label:e,value:t,metricId:n,highlightedMetric:r,labelColor:i}){const o=r===n;return y.jsxs(y.Fragment,{children:[y.jsx("span",{className:o?"text-cyan-electric":"text-slate-400",style:i&&!o?{color:i}:void 0,children:e}),y.jsx("span",{className:"tabular-nums",style:{color:i??"var(--electric-cyan, #22D3EE)",...o?{boxShadow:"0 0 12px rgba(34, 211, 238, 0.6)",borderRadius:4,padding:"0 4px"}:{}},children:t})]})}const Ld=64,Fd=1e4,z2=10;function i8(e,t,n,r,i){const o=[];for(let s=0;s<e;s++){const l=e===1?.5:s/(e-1),u=(l-.5)*2*i*.9,d=Math.abs(l-.5),f=$e.rayColors,p=d<.15?f[0]:d<.4?f[1]:f[2],m=u*$e.paraxial.focusYFactor,v=[{x:0,y:u},{x:t,y:u},{x:n,y:u+(m-u)*$e.paraxial.lensToFocusFactor},{x:r,y:m}];o.push({points:v,color:p})}return o}function W2(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(n),n+=e[r].thickness??0;return t}function o8(e,t,n,r,i){const{padding:o,scaleFactor:s,minZExtent:l,extendZFactor:u,extendZMin:d}=$e.view,f=i/2,p=t.reduce((O,_)=>O+(_.thickness??0),0),m=t.length?Math.max(n,...t.map(O=>O.diameter??n)):n,v=Math.max(m/2,5);let x=0,w=Math.max(p,d);t.length&&(x=-Math.max(l,p*u),w=p+Math.max(d,p*u));let b=v;if(e?.rays?.length||e?.surfaces?.length){const O=(_,D)=>{x=Math.min(x,_),w=Math.max(w,_),b=Math.max(b,Math.abs(D))};for(const _ of e.rays??[])for(const[D,V]of _)O(D,V);for(const _ of e.surfaces??[])for(const[D,V]of _)O(D,V);e.focusZ!=null&&O(e.focusZ,0)}const C=w-x,k=2*b+10,E=Math.min((r-2*o)/C,(i-2*o)/k)*s,N=(x+w)/2,T=r/2-N*E;return{scale:E,xOffset:T,cy:f}}function a8(e,t,n){const{minZExtent:r,extendZFactor:i,extendZMin:o}=$e.view,s=t.reduce((p,m)=>p+(m.thickness??0),0),l=t.length?Math.max(n,...t.map(p=>p.diameter??n)):n;let u=Math.max(l/2,5),d=0,f=Math.max(s,o);if(t.length&&(d=-Math.max(r,s*i),f=s+Math.max(o,s*i)),e?.rays?.length||e?.surfaces?.length){const p=(m,v)=>{d=Math.min(d,m),f=Math.max(f,m),u=Math.max(u,Math.abs(v))};for(const m of e.rays??[])for(const[v,x]of m)p(v,x);for(const m of e.surfaces??[])for(const[v,x]of m)p(v,x);e.focusZ!=null&&p(e.focusZ,0)}return{zRange:f-d,yExtent:u}}function s8(e,t){if(!e?.length||e.length<2)return null;const n=e.map(s=>s[0]),r=e.map(s=>s[1]),i=Math.min(...n),o=Math.max(...n);if(t<=i){const s=n[1]-n[0],l=r[1]-r[0],u=Math.abs(s)>1e-12?l/s:0;return r[0]+u*(t-n[0])}if(t>=o){const s=n[n.length-1]-n[n.length-2],l=r[r.length-1]-r[r.length-2],u=Math.abs(s)>1e-12?l/s:0;return r[r.length-1]+u*(t-n[n.length-1])}for(let s=0;s<e.length-1;s++){const l=n[s],u=n[s+1];if(l<=t&&t<=u){const d=u-l,f=Math.abs(d)>1e-12?(t-l)/d:0;return r[s]+f*(r[s+1]-r[s])}}return null}function l8(e,t,n=80){if(!e?.length)return null;const r=[];for(const p of e)for(const m of p)r.push(m[0]);const i=Math.min(...r),o=Math.max(...r);if(o<=i)return null;const s=[];for(let p=0;p<=n;p++)s.push(i+p/n*(o-i));const l=[],u=[];for(const p of s){const m=[];for(const v of e){const x=s8(v,p);x!=null&&m.push(x)}if(m.length>0){const v=Math.max(...m),x=Math.min(...m);l.push(t(p,v)),u.push(t(p,x))}}if(l.length<2)return null;const d=`M ${l.join(" L ")}`,f=`L ${[...u].reverse().join(" L ")} Z`;return`${d} ${f}`}function V2(e,t){if(!e?.length)return null;if(t<=e[0].z)return e[0];if(t>=e[e.length-1].z)return e[e.length-1];let n=0;for(;n<e.length-1&&e[n+1].z<t;)n++;const r=e[n],i=e[n+1],o=(t-r.z)/(i.z-r.z),s=(u,d)=>u!=null&&d!=null?u+o*(d-u):u??d??null,l=r.rmsPerField&&i.rmsPerField&&r.rmsPerField.length===i.rmsPerField.length?r.rmsPerField.map((u,d)=>s(u,i.rmsPerField[d])):r.rmsPerField;return{z:t,rmsRadius:s(r.rmsRadius,i.rmsRadius),beamWidth:s(r.beamWidth,i.beamWidth),chiefRayAngle:s(r.chiefRayAngle,i.chiefRayAngle),yCentroid:s(r.yCentroid,i.yCentroid),numRays:r.numRays,rmsPerField:l}}function c8({className:e="",systemState:t,onSystemStateChange:n,selectedSurfaceId:r,onSelectSurface:i,highlightedMetric:o=null,showPersistentHud:s=!1,showBestFocus:l=!0,snapToFocus:u=!0,snapToSurface:d=!0,runSampleAnalysisRef:f,pulseOptimizeRef:p,onMonteCarloSensitivity:m}){const[v,x]=P.useState(!1),[w,b]=P.useState(!1),[C,k]=P.useState(null),[E,N]=P.useState(!1),[T,O]=P.useState(!1),[_,D]=P.useState(!1),[V,q]=P.useState(!1),[G,$]=P.useState(0),[U,ce]=P.useState(null),[ue,ge]=P.useState("geometry"),[Q,Y]=P.useState(!1),ee=P.useRef(null),ne=(t.fieldAngles||[0]).length;P.useEffect(()=>{U!=null&&U>=ne&&ce(null)},[ne,U]),P.useEffect(()=>{E&&(Y(!1),ee.current&&(clearTimeout(ee.current),ee.current=null))},[E]),P.useEffect(()=>()=>{ee.current&&clearTimeout(ee.current)},[]),P.useEffect(()=>{if(p)return p.current=()=>{q(!0),$(he=>he+1)},()=>{p.current=null}},[p]);const L=P.useCallback(()=>{ee.current&&(clearTimeout(ee.current),ee.current=null),Y(!0)},[]),W=P.useCallback(()=>{ee.current=setTimeout(()=>{ee.current=null,Y(!1)},2e3)},[]);P.useEffect(()=>{const he=be=>{be.code==="Space"&&!(be.target instanceof HTMLInputElement||be.target instanceof HTMLTextAreaElement)&&(be.preventDefault(),O(!0))},Pe=be=>{be.code==="Space"&&(be.preventDefault(),O(!1))};return window.addEventListener("keydown",he),window.addEventListener("keyup",Pe),()=>{window.removeEventListener("keydown",he),window.removeEventListener("keyup",Pe)}},[]);const ie=t.numRays,ae=t.hasTraced,de=t.traceResult,X=t.traceError,B=he=>n(Pe=>({...Pe,numRays:he})),te=P.useCallback(async()=>{x(!0),n(he=>({...he,traceError:null}));try{const he=await nT({surfaces:t.surfaces,entrancePupilDiameter:t.entrancePupilDiameter,wavelengths:t.wavelengths,fieldAngles:t.fieldAngles,numRays:t.numRays,focusMode:t.focusMode??"On-Axis",m2Factor:t.m2Factor??1});if(he.error)n(Pe=>({...Pe,hasTraced:!0,traceResult:null,traceError:he.error??null}));else{he.terminationLog?.length&&console.warn("[Trace termination log]",he.terminationLog),he.refractionLog?.length&&(he.refractionLog.forEach(je=>{const Ue=je.mat_name??"?",ye=je.n2??0;Ue.toLowerCase()==="air"&&Math.abs(ye-1)>1e-6&&console.warn("[Trace] Air with n_after1:",je)}),console.log("[Trace refraction audit] MATCH AUDIT per surface:",he.refractionLog));const be=(he.rays??[]).map(je=>[...je].sort((Ue,ye)=>Ue[0]-ye[0]));n(je=>({...je,hasTraced:!0,traceResult:{rays:be,rayFieldIndices:he.rayFieldIndices,rayPower:he.rayPower,surfaces:he.surfaces??[],focusZ:he.focusZ??0,bestFocusZ:he.bestFocusZ,zOrigin:he.zOrigin,performance:he.performance,metricsSweep:he.metricsSweep??[],gaussianBeam:he.gaussianBeam},traceError:null}))}}catch(he){const Pe=he instanceof Error?he.message:"Trace failed",je=/fetch|network|connection|cors|failed to fetch/i.test(Pe)||Pe==="Trace failed"?"Pyodide worker failed to load. Ensure you're serving from the dist folder: cd dist && npx serve . (or use start-mac.command)":Pe;n(Ue=>({...Ue,hasTraced:!0,traceResult:null,traceError:je}))}finally{x(!1)}},[t,n]),R=P.useCallback(async(he=100)=>{if(!t.surfaces.some(be=>(be.radiusTolerance??0)>0||(be.thicknessTolerance??0)>0||(be.tiltTolerance??0)>0)){n(be=>({...be,traceError:"Set tolerances (R, T, Tilt) in System Editor first"}));return}b(!0),k(null),n(be=>({...be,traceError:null}));try{const be=await W6({surfaces:t.surfaces,entrancePupilDiameter:t.entrancePupilDiameter,wavelengths:t.wavelengths,fieldAngles:t.fieldAngles,numRays:t.numRays,focusMode:t.focusMode??"On-Axis",iterations:he});be.error?(n(je=>({...je,traceError:be.error??null})),m?.(null)):(k(be),m?.(be.sensitivityBySurface??null))}catch(be){const je=be instanceof Error?be.message:"Monte Carlo failed";n(Ue=>({...Ue,traceError:je}))}finally{b(!1)}},[t,n]);P.useEffect(()=>{if(f)return f.current=()=>R(10),()=>{f.current=null}},[f,R]),P.useEffect(()=>{k(null),m?.(null)},[t.surfaces,t.entrancePupilDiameter,t.numRays,m]),P.useEffect(()=>{t.pendingTrace&&(n(he=>({...he,pendingTrace:!1})),te())},[t.pendingTrace,n,te]);const re=$e.viewport.width,fe=$e.viewport.height,I=t.surfaces,Ce=t.ghostSurfaces??null,we=t.entrancePupilDiameter??10,Ye=we/2,{scale:ze,xOffset:rt,cy:xe}=P.useMemo(()=>o8(de,I,we,re,fe),[de,I,we,re,fe]),it=P.useMemo(()=>W2(I),[I]),On=it.length?it[it.length-1]+(I[I.length-1]?.thickness??0):0,ve=On*.7,Me=it[0]??0,He=I[0]?(it[0]??0)+(I[0].thickness??0):0,Ke=(he,Pe)=>`${he*ze+rt},${xe-Pe*ze}`,pt=P.useMemo(()=>!_||!de?.rays?.length?null:l8(de.rays,Ke,80),[_,de?.rays,ze,rt,xe]),at=P.useMemo(()=>{const he=de?.gaussianBeam;if(!he?.beamEnvelope?.length)return null;const Pe=he.beamEnvelope,be=Pe.map(([Ue,ye])=>Ke(Ue,-ye)).join(" L "),je=[...Pe].reverse().map(([Ue,ye])=>Ke(Ue,ye)).join(" L ");return`M ${be} L ${je} Z`},[de?.gaussianBeam,ze,rt,xe]);function ln(he,Pe,be,je=24){const Ue=be/2,ye=[];if(Math.abs(Pe)<.1)ye.push(Ke(he,-Ue)),ye.push(Ke(he,Ue));else{const Ne=Pe;for(let We=0;We<=je;We++){const Be=(We/je-.5)*2*Ue,dt=Math.max(0,Ne*Ne-Be*Be),Dt=Ne-Math.sign(Ne)*Math.sqrt(dt),yt=he+Dt;ye.push(Ke(yt,Be))}}return ye.length>=2?`M ${ye[0]} L ${ye.slice(1).join(" L ")}`:""}const Ot=P.useMemo(()=>{const he=[];for(let Pe=0;Pe<I.length;Pe++){const be=I[Pe],je=it[Pe]??0,Ue=be.refractiveIndex??1,ye=ln(je,be.radius,be.diameter??we);if(ye&&he.push({type:"surface",path:ye,key:`surf-${Pe}`,refractiveIndex:Ue,surfaceId:be.id}),Pe<I.length-1){const Ne=I[Pe+1],We=it[Pe+1]??je+be.thickness,qe=ln(je,be.radius,be.diameter??we),Be=ln(We,Ne.radius,Ne.diameter??we);if(qe&&Be){const dt=qe.split(" L ").map(xn=>xn.replace("M ","")),Dt=Be.split(" L ").map(xn=>xn.replace("M ","")).reverse(),yt=`M ${dt.join(" L ")} L ${Dt.join(" L ")} Z`,cn=Ue>1.01?"glass":"air";he.push({type:cn,path:yt,key:`gap-${Pe}`,refractiveIndex:Ue,surfaceId:be.id})}}}return he},[I,it,we,ze,rt,xe]),jn=P.useMemo(()=>{if(!Ce?.length)return[];const he=W2(Ce),Pe=[];for(let be=0;be<Ce.length;be++){const je=Ce[be],Ue=he[be]??0,ye=je.refractiveIndex??1,Ne=ln(Ue,je.radius,je.diameter??we);if(Ne&&Pe.push({type:"surface",path:Ne,key:`ghost-surf-${be}`}),be<Ce.length-1){const We=Ce[be+1],qe=he[be+1]??Ue+je.thickness,Be=ln(Ue,je.radius,je.diameter??we),dt=ln(qe,We.radius,We.diameter??we);if(Be&&dt){const Dt=Be.split(" L ").map(Qr=>Qr.replace("M ","")),yt=dt.split(" L ").map(Qr=>Qr.replace("M ","")).reverse(),cn=`M ${Dt.join(" L ")} L ${yt.join(" L ")} Z`,xn=ye>1.01?"glass":"air";Pe.push({type:xn,path:cn,key:`ghost-gap-${be}`})}}}return Pe},[Ce,we,ze,rt,xe]),pr=P.useMemo(()=>{const he=$e.thermalPowerThresholdW,Pe=t.laserPowerW??0,je=I.find(Ue=>Ue.type==="Glass")?.absorptionCoefficient??0;return Pe<=he||je<=0?null:Ot.find(Ue=>Ue.type==="glass"&&Ue.key==="gap-0")??null},[t.laserPowerW,I,Ot]),qn=P.useMemo(()=>{if(!ae)return[];if(de?.rays?.length){const Pe=t.fieldAngles||[0],be=Math.max(1,Pe.length),je=de.rayFieldIndices,Ue=$e.rayColors,ye=Math.max(1,Math.min(Ue.length,je?.length?Math.max(...je)+1:be)),Ne=new Map;return de.rays.forEach((We,qe)=>{const Be=je&&je[qe]!=null?Math.min(je[qe],ye-1):Math.min(Math.floor(qe/Math.ceil(de.rays.length/ye)),ye-1),dt=Ue[Math.min(Be,Ue.length-1)],Dt={points:We.map(([yt,cn])=>({x:yt,y:cn})),color:dt};Ne.has(Be)||Ne.set(Be,[]),Ne.get(Be).push(Dt)}),Array.from(Ne.entries()).sort(([We],[qe])=>We-qe).map(([We,qe])=>({color:Ue[Math.min(We,Ue.length-1)],rays:qe}))}const he=i8(ie,Me,He,ve,Ye);return[{color:$e.rayColors[0],rays:he}]},[ae,de,ie,Me,He,ve,Ye,t.fieldAngles]),Uo=qn.reduce((he,Pe)=>he+Pe.rays.length,0),Xr=de?.bestFocusZ,Yn=Xr!=null?Xr*ze+rt:null,xu=P.useMemo(()=>a8(de,I,we),[de,I,we]),Ra=P.useRef(null);P.useRef({last:0});const La=P.useRef(null),[Fa,$a]=P.useState(!1),[st,wi]=P.useState({isHovering:!1,mouseX:0,mouseY:0,cursorSvgX:0,cursorSvgY:0,scanSvgX:0,cursorZ:0,snappedSurfaceIndex:null});P.useEffect(()=>{const he=be=>{be.altKey&&$a(!0)},Pe=be=>{be.altKey||$a(!1)};return window.addEventListener("keydown",he),window.addEventListener("keyup",Pe),()=>{window.removeEventListener("keydown",he),window.removeEventListener("keyup",Pe)}},[]);const Si=P.useCallback(he=>{const Pe=Ra.current,be=La.current;if(!Pe)return;let je,Ue;if(be?.contentComponent){const Be=be.contentComponent.getBoundingClientRect(),dt=re,Dt=fe,yt=Math.min(Be.width/dt,Be.height/Dt),cn=dt*yt,xn=Dt*yt,Qr=(Be.width-cn)/2,ll=(Be.height-xn)/2;je=(he.clientX-Be.left-Qr)/yt,Ue=(he.clientY-Be.top-ll)/yt}else{const Be=Pe.getBoundingClientRect(),dt=re,Dt=fe,yt=Math.min(Be.width/dt,Be.height/Dt),cn=dt*yt,xn=Dt*yt,Qr=(Be.width-cn)/2,ll=(Be.height-xn)/2;je=(he.clientX-Be.left-Qr)/yt,Ue=(he.clientY-Be.top-ll)/yt}let ye=je,Ne=null,We="None";if(!Fa){if(d){let Be=z2;for(let dt=0;dt<it.length;dt++){const Dt=it[dt]*ze+rt,yt=Math.abs(je-Dt);yt<Be&&(Be=yt,ye=Dt,Ne=dt,We="Surface")}}if(We!=="Surface"&&u&&de?.bestFocusZ!=null){const Be=de.bestFocusZ*ze+rt;Math.abs(je-Be)<z2&&(ye=Be,We="Focus")}}const qe=(ye-rt)/ze;wi({isHovering:!0,mouseX:he.clientX,mouseY:he.clientY,cursorSvgX:je,cursorSvgY:Ue,scanSvgX:ye,cursorZ:qe,snappedSurfaceIndex:Ne})},[ze,rt,re,fe,it,de?.bestFocusZ,u,d,Fa]),bu=P.useCallback(()=>{wi(he=>({...he,isHovering:!1}))},[]),wu=P.useCallback(()=>{const he=de?.bestFocusZ;if(he==null||I.length<2)return;const Pe=I.reduce((ye,Ne)=>ye+(Ne.thickness??0),0),be=I[I.length-1],je=Pe-(be?.thickness??0),Ue=Math.max(.1,he-je);n(ye=>({...ye,surfaces:ye.surfaces.map((Ne,We)=>We===ye.surfaces.length-1?{...Ne,thickness:Ue}:Ne),traceResult:null,traceError:null}))},[de?.bestFocusZ,I,n]),Su=st.isHovering?V2(de?.metricsSweep??[],st.cursorZ):null,al=Xr??de?.focusZ??On*.8,Pu=s?V2(de?.metricsSweep??[],al):null,sl=st.isHovering||s,Xn=st.isHovering?Su:Pu,Zr=st.isHovering?st.cursorZ:al,io=s&&!st.isHovering,Pi=P.useMemo(()=>{const he=t.wavelengths?.[0]??587.6,Pe=t.pulseWidthFs??100;return e8(I.map(be=>({thickness:be.thickness,material:be.material,type:be.type,refractiveIndex:be.refractiveIndex})),he,Pe)},[I,t.wavelengths,t.pulseWidthFs]);return y.jsxs("div",{className:`relative ${e}`,children:[y.jsxs("div",{className:"absolute top-4 left-4 z-10 flex flex-wrap items-center gap-4 glass-card px-4 py-2 rounded-lg",children:[y.jsxs(Ze.button,{"data-testid":"trace-button",whileHover:{scale:1.05},whileTap:{scale:.98},onClick:te,disabled:v,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all disabled:opacity-70",style:{background:"linear-gradient(135deg, #22D3EE 0%, #0891b2 100%)",color:"#0B1120",boxShadow:"0 0 24px rgba(34, 211, 238, 0.5)"},children:[v?y.jsx(ks,{className:"w-5 h-5 animate-spin",strokeWidth:2}):y.jsx(L3,{className:"w-5 h-5",fill:"currentColor",strokeWidth:0}),v?"Tracing":"Trace"]}),y.jsxs(Ze.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>R(),disabled:w,title:"Run Monte Carlo (100 iterations with tolerance jitter)  set R, T, Tilt in System Editor",className:"flex items-center gap-2 px-3 py-2 rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-cyan-electric/50 hover:bg-cyan-electric/15 text-cyan-electric",children:[w?y.jsx(ks,{className:"w-4 h-4 animate-spin",strokeWidth:2}):y.jsx(cO,{className:"w-4 h-4",strokeWidth:2}),w?"Monte Carlo":"Monte Carlo"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-slate-400 text-sm whitespace-nowrap",children:"Rays"}),y.jsx("input",{type:"range",min:$e.rayCount.min,max:$e.rayCount.max,value:ie,onChange:he=>B(Number(he.target.value)),className:"w-28 h-2 rounded-full accent-cyan-electric bg-white/10 cursor-pointer"}),y.jsx("span",{className:"text-cyan-electric text-sm font-mono w-6",children:ie})]}),ae&&y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-slate-300",children:[y.jsx("input",{type:"checkbox",checked:_,onChange:he=>D(he.target.checked),className:"rounded accent-cyan-electric"}),"Caustic Envelope"]}),y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-slate-300",children:[y.jsx("input",{type:"checkbox",checked:V,onChange:he=>q(he.target.checked),className:"rounded accent-cyan-electric"}),y.jsx(b3,{className:"w-4 h-4 text-slate-400",strokeWidth:2}),"Show LCA Map"]}),ae&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-400 text-sm whitespace-nowrap",children:"Field"}),y.jsx("div",{className:"flex items-center gap-1.5",children:(t.fieldAngles||[0]).slice(0,$e.maxFieldAngles).map((he,Pe)=>{const be=$e.rayColors[Math.min(Pe,$e.rayColors.length-1)],je=U===Pe;return y.jsx("button",{type:"button",onClick:()=>ce(U===Pe?null:Pe),title:U===Pe?"Show all fields":`Show only field ${Pe}${(t.fieldAngles||[])[Pe]!=null?` (${(t.fieldAngles||[])[Pe]})`:""}`,className:`w-3 h-3 rounded-full transition-all ring-offset-2 ring-offset-slate-900 ${je?"ring-2 ring-white scale-125":"ring-0 hover:scale-110 opacity-80 hover:opacity-100"}`,style:{backgroundColor:be,boxShadow:je?`0 0 6px ${be}`:void 0},"aria-label":`Filter to field ${Pe}`,"aria-pressed":je},Pe)})})]})]}),X&&y.jsxs("div",{className:"absolute top-4 right-4 z-20 glass-card px-4 py-3 rounded-lg text-red-400 text-sm max-w-sm border border-red-500/30 bg-slate-900/95",children:[y.jsx("p",{className:"font-medium text-red-300 mb-1",children:"Trace error"}),y.jsx("p",{className:"text-red-200/90",children:X}),y.jsx("button",{type:"button",onClick:()=>n(he=>({...he,traceError:null})),className:"mt-2 text-xs text-slate-400 hover:text-slate-200 underline",children:"Dismiss"})]}),y.jsx(zi,{children:v&&y.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center pointer-events-none","aria-live":"polite",children:y.jsxs(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"glass-card px-4 py-2 rounded-lg flex items-center gap-2 text-cyan-electric/90 text-sm",children:[y.jsx(ks,{className:"w-4 h-4 animate-spin",strokeWidth:2}),y.jsx("span",{children:"Calculating"})]},"calculating")})}),y.jsxs("div",{className:"relative overflow-hidden rounded-xl",style:{backgroundColor:"#0B1120",border:"1px solid rgba(34, 211, 238, 0.2)"},onMouseEnter:L,onMouseLeave:W,children:[V&&y.jsx(G6,{systemState:t,onSystemStateChange:n,pulseOptimizeTrigger:G}),y.jsx(L6,{initialScale:1,minScale:.1,maxScale:20,centerOnInit:!0,limitToBounds:!1,smooth:!0,wheel:{step:.15,smoothStep:.002,wheelDisabled:!1,touchPadDisabled:!1},panning:{disabled:!1,velocityDisabled:!0,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!1,activationKeys:[" "],excluded:[]},onPanningStart:()=>N(!0),onPanningStop:()=>N(!1),zoomAnimation:{animationTime:200,animationType:"easeOut"},doubleClick:{disabled:!0},children:({zoomIn:he,zoomOut:Pe,centerView:be,instance:je})=>{La.current=je?{transformState:je.transformState,contentComponent:je.contentComponent}:null;const Ue=()=>{const ye=je?.wrapperComponent;if(!ye)return;const Ne=ye.offsetWidth,We=ye.offsetHeight,qe=.1,Be=xu.zRange*ze,dt=2*xu.yExtent*ze,Dt=Math.min(Ne*(1-2*qe)/Be,We*(1-2*qe)/dt);be(Dt,450,"easeOutCubic")};return y.jsxs(y.Fragment,{children:[y.jsx(B6,{wrapperStyle:{width:"100%",height:"100%",minHeight:"320px",cursor:E?"grabbing":T?"grab":"default"},contentStyle:{width:"100%",height:"100%",minHeight:"320px"},children:y.jsxs("svg",{ref:Ra,viewBox:`0 0 ${re} ${fe}`,className:"w-full h-full min-h-[320px] block",preserveAspectRatio:"xMidYMid meet",onMouseEnter:Si,onMouseMove:Si,onMouseLeave:bu,onDoubleClick:wu,children:[y.jsxs("defs",{children:[y.jsx("pattern",{id:"infinite-grid",width:Ld,height:Ld,patternUnits:"userSpaceOnUse",children:y.jsx("path",{d:`M ${Ld} 0 L 0 0 0 ${Ld}`,fill:"none",stroke:"#22D3EE",strokeWidth:"0.5",opacity:"0.12"})}),y.jsxs("filter",{id:"lens-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[y.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"blur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("filter",{id:"glow-strong",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[y.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"blur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("filter",{id:"diamond-glow",x:"-100%",y:"-100%",width:"300%",height:"300%",children:[y.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),y.jsxs("feMerge",{children:[y.jsx("feMergeNode",{in:"blur"}),y.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),y.jsxs("linearGradient",{id:"lens-fill",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[y.jsx("stop",{offset:"0%",stopColor:"#22D3EE",stopOpacity:"0.15"}),y.jsx("stop",{offset:"50%",stopColor:"#22D3EE",stopOpacity:"0.25"}),y.jsx("stop",{offset:"100%",stopColor:"#22D3EE",stopOpacity:"0.15"})]}),y.jsxs("linearGradient",{id:"caustic-envelope-fill",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[y.jsx("stop",{offset:"0%",stopColor:"#22D3EE",stopOpacity:"0.08"}),y.jsx("stop",{offset:"50%",stopColor:"#22D3EE",stopOpacity:"0.18"}),y.jsx("stop",{offset:"100%",stopColor:"#22D3EE",stopOpacity:"0.08"})]}),y.jsxs("radialGradient",{id:"thermal-heat-map",cx:"50%",cy:"50%",r:"50%",gradientUnits:"objectBoundingBox",children:[y.jsx("stop",{offset:"0%",stopColor:"#f97316",stopOpacity:"0.9"}),y.jsx("stop",{offset:"40%",stopColor:"#ea580c",stopOpacity:"0.5"}),y.jsx("stop",{offset:"70%",stopColor:"#dc2626",stopOpacity:"0.2"}),y.jsx("stop",{offset:"100%",stopColor:"#7f1d1d",stopOpacity:"0"})]})]}),y.jsx("rect",{x:-Fd,y:-Fd,width:Fd*2,height:Fd*2,fill:"url(#infinite-grid)"}),pt&&y.jsx("path",{d:pt,fill:"url(#caustic-envelope-fill)",stroke:"rgba(34, 211, 238, 0.4)",strokeWidth:"0.5",opacity:"0.6",pointerEvents:"none"}),at&&y.jsx("path",{d:at,fill:"rgba(34, 211, 238, 0.15)",stroke:"rgba(34, 211, 238, 0.5)",strokeWidth:"1",opacity:"0.9",pointerEvents:"none"}),y.jsx("g",{filter:"url(#lens-glow)",children:Ot.map(ye=>{const Ne=r===ye.surfaceId,We=qe=>{qe.stopPropagation(),i(ye.surfaceId)};return ye.type==="glass"?y.jsx("path",{d:ye.path,fill:Ne?"rgba(34, 211, 238, 0.3)":"rgba(34, 211, 238, 0.2)",stroke:"#22D3EE",strokeWidth:Ne?2:1.5,strokeOpacity:Ne?1:.8,strokeDasharray:Ne?"4 2":void 0,style:{filter:Ne?"drop-shadow(0 0 12px rgba(34, 211, 238, 0.8))":"drop-shadow(0 0 6px rgba(34, 211, 238, 0.4))",cursor:"pointer"},onClick:We},ye.key):ye.type==="air"?y.jsx("path",{d:ye.path,fill:Ne?"rgba(255, 255, 255, 0.08)":"rgba(255, 255, 255, 0.03)",stroke:Ne?"#22D3EE":"rgba(148, 163, 184, 0.4)",strokeWidth:Ne?1.5:1,strokeOpacity:Ne?.9:.6,strokeDasharray:Ne?"4 2":void 0,style:{cursor:"pointer"},onClick:We},ye.key):y.jsx("path",{d:ye.path,fill:"none",stroke:"#22D3EE",strokeWidth:Ne?2:1.5,strokeOpacity:Ne?1:.8,strokeDasharray:Ne?"4 2":void 0,style:{filter:Ne?"drop-shadow(0 0 10px rgba(34, 211, 238, 0.9))":void 0,cursor:"pointer"},onClick:We},ye.key)})}),jn.length>0&&y.jsx("g",{opacity:.4,pointerEvents:"none",children:jn.map(ye=>y.jsx("path",{d:ye.path,fill:ye.type==="glass"?"rgba(34, 211, 238, 0.25)":ye.type==="air"?"rgba(255,255,255,0.05)":"none",stroke:"#22D3EE",strokeWidth:1,strokeOpacity:.7},ye.key))}),pr&&y.jsx("path",{d:pr.path,fill:"url(#thermal-heat-map)",stroke:"none",opacity:.6,pointerEvents:"none"}),qn.map((ye,Ne)=>({group:ye,origIdx:Ne})).filter(({origIdx:ye})=>U===null||ye===U).map(({group:ye,origIdx:Ne})=>y.jsx("g",{stroke:ye.color,strokeWidth:"0.5",strokeOpacity:"0.8",fill:"none",style:{filter:`drop-shadow(0 0 1px ${ye.color}40)`},children:ye.rays.map((We,qe)=>{const Be=We.points,Dt=(Be[0]?.x<=Be[Be.length-1]?.x?Be:[...Be].reverse()).map((cn,xn)=>`${xn===0?"M":"L"} ${Ke(cn.x,cn.y)}`).join(" "),yt=qn.slice(0,Ne).reduce((cn,xn)=>cn+xn.rays.length,0)+qe;return y.jsx(Ze.path,{d:Dt,fill:"none",initial:{pathLength:0,opacity:0},animate:v?{pathLength:1,opacity:[.5,1,.5]}:{pathLength:1,opacity:.8},transition:v?{opacity:{duration:.8,repeat:1/0,ease:"easeInOut"}}:{duration:.35,delay:yt*.012,ease:"easeOut"}},`field-${Ne}-ray-${qe}-${Be[0]?.x??0}-${Be[0]?.y??0}`)})},Ne)),C?.spots?.length&&Yn!=null&&(()=>{const Ne=Yn+56,We=xe,{dots:qe}=t8(C.spots,{centerX:Ne,centerY:We,scale:60,dotRadius:1.2,inSpecOpacity:.5,outlierOpacity:.6});return y.jsxs("g",{children:[y.jsx("defs",{children:y.jsx("clipPath",{id:"spot-diagram-clip",children:y.jsx("rect",{x:Yn+12,y:xe-44,width:88,height:88,rx:4})})}),y.jsx("rect",{x:Yn+12,y:xe-44,width:88,height:88,rx:4,fill:"rgba(15, 23, 42, 0.85)",stroke:"rgba(34, 211, 238, 0.5)",strokeWidth:"1"}),y.jsx("g",{clipPath:"url(#spot-diagram-clip)",children:qe}),y.jsx("text",{x:Yn+56,y:xe-32,textAnchor:"middle",fill:"#94a3b8",fontSize:9,children:`Spot (n=${C.numValid??0})`}),y.jsx("text",{x:Yn+56,y:xe+38,textAnchor:"middle",fill:"#22D3EE",fontSize:9,children:`RMS ${((C.rmsSpread??0)*1e3).toFixed(2)} m`})]},"monte-carlo-spot")})(),y.jsx(zi,{children:l&&Yn!=null&&ae&&Uo>0&&y.jsx(Ze.g,{initial:{x:Yn,y:xe,opacity:0,scale:0},animate:{x:Yn,y:xe,opacity:1,scale:1},transition:{duration:.25,ease:"easeOut"},exit:{x:Yn,y:xe,opacity:0,scale:0,transition:{duration:.2}},style:{transformBox:"fill-box",transformOrigin:"center"},children:y.jsx("polygon",{points:"0,-6 6,0 0,6 -6,0",fill:t.focusMode==="Balanced"?"#F59E0B":"white",stroke:t.focusMode==="Balanced"?"rgba(245,158,11,0.95)":"rgba(255,255,255,0.9)",strokeWidth:"1",filter:"url(#diamond-glow)"})},"focus-diamond")}),st.isHovering&&y.jsxs(y.Fragment,{children:[y.jsx(Ze.g,{x:st.scanSvgX,initial:!1,animate:st.snappedSurfaceIndex!=null?{x:[st.scanSvgX,st.scanSvgX+1,st.scanSvgX-1,st.scanSvgX],transition:{duration:.15}}:{x:st.scanSvgX},children:y.jsx("line",{x1:0,y1:0,x2:0,y2:fe,stroke:st.snappedSurfaceIndex!=null?"#ffffff":"#22D3EE",strokeWidth:"1",strokeDasharray:"4 4",strokeOpacity:"0.8",pointerEvents:"none"})},st.snappedSurfaceIndex!=null?`snapped-${st.snappedSurfaceIndex}`:"free"),y.jsx("circle",{cx:st.cursorSvgX,cy:st.cursorSvgY,r:"8",fill:"none",stroke:"#f97316",strokeWidth:"2",opacity:"0.9",pointerEvents:"none"})]})]})}),y.jsxs(Ze.div,{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 flex items-center gap-2 glass-card px-3 py-2 rounded-lg",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:400,damping:25},children:[y.jsx(Ze.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(),className:"flex items-center justify-center w-9 h-9 rounded-lg transition-colors hover:bg-white/10","aria-label":"Zoom In",children:y.jsx(G3,{className:"w-5 h-5 text-cyan-electric",strokeWidth:2})}),y.jsx(Ze.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Pe(),className:"flex items-center justify-center w-9 h-9 rounded-lg transition-colors hover:bg-white/10","aria-label":"Zoom Out",children:y.jsx(K3,{className:"w-5 h-5 text-cyan-electric",strokeWidth:2})}),y.jsxs(Ze.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ue,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-cyan-electric transition-colors hover:bg-white/10","aria-label":"Reset View",children:[y.jsx(D3,{className:"w-4 h-4",strokeWidth:2}),"Reset View"]})]}),C?.spots?.length&&y.jsxs(Ze.div,{className:"absolute bottom-4 right-4 z-[5] px-3 py-2 rounded-lg text-xs pointer-events-none bg-slate-900/70 backdrop-blur-md border border-cyan-electric/30",initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.2},children:[y.jsx("div",{className:"font-medium text-cyan-electric/90 mb-1.5",children:"Monte Carlo Yield Map"}),y.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-electric/60"}),"Within 1"]}),y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500/80"}),"Outliers"]})]})]}),ae&&(t.fieldAngles?.length??0)>0&&y.jsx(Ze.div,{className:"absolute top-3 right-3 z-[5] px-3 py-2 rounded-lg pointer-events-none bg-slate-900/40 backdrop-blur-md border border-white/10 shadow-lg",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:y.jsx("div",{className:"flex flex-col gap-1.5",children:(t.fieldAngles||[0]).slice(0,$e.maxFieldAngles).map((ye,Ne)=>{const We=$e.rayColors[Math.min(Ne,$e.rayColors.length-1)];return y.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-300",children:[y.jsx("span",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:We,boxShadow:`0 0 6px ${We}60`}}),y.jsxs("span",{children:[Number(ye).toFixed(1)," Field"]})]},Ne)})})}),y.jsxs(Ze.div,{className:"absolute bottom-0 left-0 z-[5] ml-5 mb-5 px-4 py-2 rounded-full text-xs text-slate-300 pointer-events-none bg-slate-900/50 backdrop-blur-[8px] border border-white/10",initial:{opacity:0,x:-20},animate:{opacity:Q?1:0,x:Q?0:-20},transition:{duration:.25,ease:"easeOut"},children:["Hold ",y.jsx("kbd",{className:`px-1.5 py-0.5 rounded font-mono text-[10px] transition-all duration-150 ${T?"bg-cyan-500/30 text-cyan-200 shadow-[0_0_8px_rgba(34,211,238,0.5),0_1px_0_0_rgba(255,255,255,0.15)]":"bg-slate-800/90 text-slate-200 shadow-[0_1px_0_0_rgba(255,255,255,0.1),inset_0_-1px_0_0_rgba(0,0,0,0.3)]"}`,children:"Space"})," + Drag to Pan"]}),sl&&y.jsxs(Ze.div,{className:`z-50 rounded-lg px-3 py-2 backdrop-blur-[12px] bg-slate-900/70 border ${st.snappedSurfaceIndex!=null?"border-white/60":"border-cyan-electric/50"} ${io?"absolute bottom-20 left-4":"fixed"}`,style:{fontFamily:"'JetBrains Mono', 'SF Mono', monospace",...io?{}:{left:st.mouseX+16,top:st.mouseY+16}},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:200,damping:20},exit:{opacity:0,scale:.95},children:[y.jsxs("div",{className:"flex gap-1 mb-2 border-b border-white/10 pb-2",style:{pointerEvents:io?"auto":"none"},children:[y.jsx("button",{type:"button",onClick:()=>ge("geometry"),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${ue==="geometry"?"bg-cyan-electric/40 text-cyan-electric":"text-slate-500 hover:text-slate-300"}`,children:"Geometry"}),y.jsx("button",{type:"button",onClick:()=>ge("ultrafast"),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${ue==="ultrafast"?"bg-cyan-electric/40 text-cyan-electric":"text-slate-500 hover:text-slate-300"}`,children:"Ultrafast"})]}),ue==="ultrafast"?y.jsxs("div",{className:"grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-xs pointer-events-none",children:[y.jsx(_i,{label:"GDD:",value:`${Pi.gddFs2.toFixed(2)} fs`,metricId:"gdd",highlightedMetric:o,labelColor:"#22D3EE"}),y.jsx(_i,{label:"TOD:",value:`${Pi.todFs3.toFixed(2)} fs`,metricId:"tod",highlightedMetric:o,labelColor:"#22D3EE"}),y.jsxs("div",{className:"col-span-2 flex justify-between gap-2 border-t border-white/10 mt-1 pt-1",children:[y.jsx("span",{className:"text-slate-400",children:"Input Pulse:"}),y.jsxs("span",{className:"text-slate-300 tabular-nums",children:[t.pulseWidthFs??100," fs"]})]}),y.jsxs("div",{className:"col-span-2 flex justify-between gap-2",children:[y.jsx("span",{className:"text-slate-400 font-medium",children:"Predicted Exit Pulse:"}),y.jsxs("span",{className:"text-cyan-electric tabular-nums font-medium",children:[Pi.predictedExitPulseWidthFs.toFixed(2)," fs"]})]})]}):y.jsxs(y.Fragment,{children:[st.snappedSurfaceIndex!=null&&!io&&(()=>{const ye=st.snappedSurfaceIndex,Ne=ye+1,We=I[ye],qe=We?We.description||We.material||(We.type==="Glass"?"Lens":"Air"):`Surface ${Ne}`;return y.jsxs("div",{className:"text-[10px] font-medium text-white/90 mb-1.5 -mt-0.5",children:["Surface ",Ne,": ",qe]})})(),y.jsxs("div",{className:"grid grid-cols-[auto,1fr] gap-x-4 gap-y-1 text-xs",children:[y.jsx(_i,{label:"Z:",value:`${Zr.toFixed(2)} mm`,metricId:"z",highlightedMetric:o}),Xn?.rmsPerField&&Xn.rmsPerField.length>0?y.jsxs(y.Fragment,{children:[Xn.rmsPerField.map((ye,Ne)=>{const We=["Cyan RMS","Orange RMS","Green RMS"],qe=["#22D3EE","#F97316","#22C55E"],Be=We[Math.min(Ne,We.length-1)],dt=qe[Math.min(Ne,qe.length-1)];return y.jsx(_i,{label:`${Be}:`,value:ye!=null?`${(ye*1e3).toFixed(2)} m`:"",metricId:"rms",highlightedMetric:o,labelColor:dt},Ne)}),(()=>{const ye=Xn.rmsPerField.filter(We=>We!=null),Ne=ye.length>0?Math.sqrt(ye.reduce((We,qe)=>We+qe*qe,0)/ye.length):null;return y.jsxs("div",{className:"col-span-2 flex justify-between gap-2 border-t border-white/10 mt-1 pt-1",children:[y.jsx("span",{className:"text-slate-400 font-medium",children:"System Avg RMS:"}),y.jsx("span",{className:"text-amber-400 tabular-nums font-medium",children:Ne!=null?`${(Ne*1e3).toFixed(2)} m`:""})]})})()]}):y.jsx(_i,{label:"RMS:",value:Xn?.rmsRadius!=null?`${(Xn.rmsRadius*1e3).toFixed(2)} m`:"",metricId:"rms",highlightedMetric:o}),y.jsx(_i,{label:"Width:",value:Xn?.beamWidth!=null?`${Xn.beamWidth.toFixed(3)} mm`:"",metricId:"beamWidth",highlightedMetric:o}),y.jsx(_i,{label:"CRA:",value:Xn?.chiefRayAngle!=null?`${Xn.chiefRayAngle.toFixed(2)}`:"",metricId:"cra",highlightedMetric:o}),Xr!=null&&y.jsxs("div",{className:"col-span-2 flex gap-2",children:[y.jsx("span",{className:"text-slate-400",children:"Dist to Best Focus:"}),y.jsxs("span",{className:"text-cyan-electric tabular-nums",children:[Math.abs(Zr-Xr).toFixed(2)," mm"]})]}),de?.gaussianBeam&&Xr!=null&&y.jsxs(y.Fragment,{children:[y.jsx(_i,{label:"Spot Size (w) at focus:",value:`${(de.gaussianBeam.spotSizeAtFocus*1e3).toFixed(2)} m`,metricId:"spotSize",highlightedMetric:o,labelColor:"#22D3EE"}),y.jsx(_i,{label:"Rayleigh (z_R) at focus:",value:`${de.gaussianBeam.rayleighRange.toFixed(2)} mm`,metricId:"rayleigh",highlightedMetric:o,labelColor:"#22D3EE"})]}),de?.metricsSweep?.length&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"col-span-2 mt-1.5 pt-1.5 border-t border-white/10",children:[y.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"RMS vs Z"}),y.jsx(r8,{sweep:de.metricsSweep,currentZ:Zr,width:120,height:40})]}),y.jsxs("div",{className:"col-span-2 mt-1 pt-1 border-t border-white/10",children:[y.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Through-Focus (10 mm)  gold line = diamond minimum"}),y.jsx(n8,{sweep:de.metricsSweep,cursorZ:Zr,diamondZ:Xr??null,width:140,height:44})]})]})]})]})]})]})}})]})]})}function _g({systemState:e,onSystemStateChange:t,selectedSurfaceId:n,onSelectSurface:r,highlightedMetric:i=null,showPersistentHud:o=!1,showBestFocus:s=!0,snapToFocus:l=!0,snapToSurface:u=!0,runSampleAnalysisRef:d,pulseOptimizeRef:f,onMonteCarloSensitivity:p}){return y.jsx("div",{className:"h-full min-h-[500px] w-full",children:y.jsx(c8,{className:"h-full w-full",systemState:e,onSystemStateChange:t,selectedSurfaceId:n,onSelectSurface:r,highlightedMetric:i,showPersistentHud:o,showBestFocus:s,snapToFocus:l,snapToSurface:u,runSampleAnalysisRef:d,pulseOptimizeRef:f,onMonteCarloSensitivity:p})})}var Jc=oO();const Ms=Yi(Jc);function Jt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var u8=typeof Symbol=="function"&&Symbol.observable||"@@observable",U2=u8,Dg=()=>Math.random().toString(36).substring(7).split("").join("."),d8={INIT:`@@redux/INIT${Dg()}`,REPLACE:`@@redux/REPLACE${Dg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dg()}`},Nf=d8;function Ix(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Rx(e,t,n){if(typeof e!="function")throw new Error(Jt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Jt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Jt(1));return n(Rx)(e,t)}let r=e,i=t,o=new Map,s=o,l=0,u=!1;function d(){s===o&&(s=new Map,o.forEach((b,C)=>{s.set(C,b)}))}function f(){if(u)throw new Error(Jt(3));return i}function p(b){if(typeof b!="function")throw new Error(Jt(4));if(u)throw new Error(Jt(5));let C=!0;d();const k=l++;return s.set(k,b),function(){if(C){if(u)throw new Error(Jt(6));C=!1,d(),s.delete(k),o=null}}}function m(b){if(!Ix(b))throw new Error(Jt(7));if(typeof b.type>"u")throw new Error(Jt(8));if(typeof b.type!="string")throw new Error(Jt(17));if(u)throw new Error(Jt(9));try{u=!0,i=r(i,b)}finally{u=!1}return(o=s).forEach(k=>{k()}),b}function v(b){if(typeof b!="function")throw new Error(Jt(10));r=b,m({type:Nf.REPLACE})}function x(){const b=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Jt(11));function k(){const N=C;N.next&&N.next(f())}return k(),{unsubscribe:b(k)}},[U2](){return this}}}return m({type:Nf.INIT}),{dispatch:m,subscribe:p,getState:f,replaceReducer:v,[U2]:x}}function f8(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Nf.INIT})>"u")throw new Error(Jt(12));if(typeof n(void 0,{type:Nf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jt(13))})}function oT(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{f8(n)}catch(o){i=o}return function(s={},l){if(i)throw i;let u=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],m=n[p],v=s[p],x=m(v,l);if(typeof x>"u")throw l&&l.type,new Error(Jt(14));d[p]=x,u=u||x!==v}return u=u||r.length!==Object.keys(s).length,u?d:s}}function H2(e,t){return function(...n){return t(e.apply(this,n))}}function G2(e,t){if(typeof e=="function")return H2(e,t);if(typeof e!="object"||e===null)throw new Error(Jt(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=H2(i,t))}return n}function Pc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function aT(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Jt(15))};const s={getState:i.getState,dispatch:(u,...d)=>o(u,...d)},l=e.map(u=>u(s));return o=Pc(...l)(i.dispatch),{...i,dispatch:o}}}function sT(e){return Ix(e)&&"type"in e&&typeof e.type=="string"}var Mg={exports:{}},Ig={};var K2;function p8(){if(K2)return Ig;K2=1;var e=Vs();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,l=e.useDebugValue;return Ig.useSyncExternalStoreWithSelector=function(u,d,f,p,m){var v=i(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=s(function(){function b(T){if(!C){if(C=!0,k=T,T=p(T),m!==void 0&&x.hasValue){var O=x.value;if(m(O,T))return E=O}return E=T}if(O=E,n(k,T))return O;var _=p(T);return m!==void 0&&m(O,_)?(k=T,O):(k=T,E=_)}var C=!1,k,E,N=f===void 0?null:f;return[function(){return b(d())},N===null?void 0:function(){return b(N())}]},[d,f,p,m]);var w=r(u,v[0],v[1]);return o(function(){x.hasValue=!0,x.value=w},[w]),l(w),w},Ig}var q2;function h8(){return q2||(q2=1,Mg.exports=p8()),Mg.exports}h8();var m8=P.version.startsWith("19"),g8=Symbol.for(m8?"react.transitional.element":"react.element"),v8=Symbol.for("react.portal"),y8=Symbol.for("react.fragment"),x8=Symbol.for("react.strict_mode"),b8=Symbol.for("react.profiler"),w8=Symbol.for("react.consumer"),S8=Symbol.for("react.context"),lT=Symbol.for("react.forward_ref"),P8=Symbol.for("react.suspense"),C8=Symbol.for("react.suspense_list"),Lx=Symbol.for("react.memo"),A8=Symbol.for("react.lazy"),k8=lT,E8=Lx;function N8(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case g8:switch(e=e.type,e){case y8:case b8:case x8:case P8:case C8:return e;default:switch(e=e&&e.$$typeof,e){case S8:case lT:case A8:case Lx:return e;case w8:return e;default:return t}}case v8:return t}}}function O8(e){return N8(e)===Lx}function j8(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let l=!1,u,d,f,p,m;function v(k,E){return u=k,d=E,f=e(u,d),p=t(r,d),m=n(f,p,d),l=!0,m}function x(){return f=e(u,d),t.dependsOnOwnProps&&(p=t(r,d)),m=n(f,p,d),m}function w(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(p=t(r,d)),m=n(f,p,d),m}function b(){const k=e(u,d),E=!s(k,f);return f=k,E&&(m=n(f,p,d)),m}function C(k,E){const N=!o(E,d),T=!i(k,u,E,d);return u=k,d=E,N&&T?x():N?w():T?b():m}return function(E,N){return l?C(E,N):v(E,N)}}function T8(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const o=t(e,i),s=n(e,i),l=r(e,i);return j8(o,s,l,e,i)}function _8(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function Gy(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Y2(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function cT(e,t){return function(r,{displayName:i}){const o=function(l,u){return o.dependsOnOwnProps?o.mapToProps(l,u):o.mapToProps(l,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(l,u){o.mapToProps=e,o.dependsOnOwnProps=Y2(e);let d=o(l,u);return typeof d=="function"&&(o.mapToProps=d,o.dependsOnOwnProps=Y2(d),d=o(l,u)),d},o}}function Fx(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function D8(e){return e&&typeof e=="object"?Gy(t=>_8(e,t)):e?typeof e=="function"?cT(e):Fx(e,"mapDispatchToProps"):Gy(t=>({dispatch:t}))}function M8(e){return e?typeof e=="function"?cT(e):Fx(e,"mapStateToProps"):Gy(()=>({}))}function I8(e,t,n){return{...n,...e,...t}}function R8(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(u,d,f){const p=e(u,d,f);return o?i(p,s)||(s=p):(o=!0,s=p),s}}}function L8(e){return e?typeof e=="function"?R8(e):Fx(e,"mergeProps"):()=>I8}function F8(e){e()}function $8(){let e=null,t=null;return{clear(){e=null,t=null},notify(){F8(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var X2={notify(){},get:()=>[]};function uT(e,t){let n,r=X2,i=0,o=!1;function s(w){f();const b=r.subscribe(w);let C=!1;return()=>{C||(C=!0,b(),p())}}function l(){r.notify()}function u(){x.onStateChange&&x.onStateChange()}function d(){return o}function f(){i++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=$8())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=X2)}function m(){o||(o=!0,f())}function v(){o&&(o=!1,p())}const x={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:m,tryUnsubscribe:v,getListeners:()=>r};return x}var B8=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z8=B8(),W8=()=>typeof navigator<"u"&&navigator.product==="ReactNative",V8=W8(),U8=()=>z8||V8?P.useLayoutEffect:P.useEffect,Of=U8();function Z2(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function uf(e,t){if(Z2(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Z2(e[n[i]],t[n[i]]))return!1;return!0}var H8={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},G8={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},K8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q8={[k8]:K8,[E8]:dT};function Q2(e){return O8(e)?dT:q8[e.$$typeof]||H8}var Y8=Object.defineProperty,X8=Object.getOwnPropertyNames,J2=Object.getOwnPropertySymbols,Z8=Object.getOwnPropertyDescriptor,Q8=Object.getPrototypeOf,eC=Object.prototype;function Ky(e,t){if(typeof t!="string"){if(eC){const o=Q8(t);o&&o!==eC&&Ky(e,o)}let n=X8(t);J2&&(n=n.concat(J2(t)));const r=Q2(e),i=Q2(t);for(let o=0;o<n.length;++o){const s=n[o];if(!G8[s]&&!(i&&i[s])&&!(r&&r[s])){const l=Z8(t,s);try{Y8(e,s,l)}catch{}}}}return e}var J8=Symbol.for("react-redux-context"),eW=typeof globalThis<"u"?globalThis:{};function tW(){if(!P.createContext)return{};const e=eW[J8]??=new Map;let t=e.get(P.createContext);return t||(t=P.createContext(null),e.set(P.createContext,t)),t}var fT=tW(),nW=[null,null];function rW(e,t,n){Of(()=>e(...t),n)}function iW(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function oW(e,t,n,r,i,o,s,l,u,d,f){if(!e)return()=>{};let p=!1,m=null;const v=()=>{if(p||!l.current)return;const w=t.getState();let b,C;try{b=r(w,i.current)}catch(k){C=k,m=k}C||(m=null),b===o.current?s.current||d():(o.current=b,u.current=b,s.current=!0,f())};return n.onStateChange=v,n.trySubscribe(),v(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}function aW(e,t){return e===t}function sW(e,t,n,{pure:r,areStatesEqual:i=aW,areOwnPropsEqual:o=uf,areStatePropsEqual:s=uf,areMergedPropsEqual:l=uf,forwardRef:u=!1,context:d=fT}={}){const f=d,p=M8(e),m=D8(t),v=L8(n),x=!!e;return b=>{const C=b.displayName||b.name||"Component",k=`Connect(${C})`,E={shouldHandleStateChanges:x,displayName:k,wrappedComponentName:C,WrappedComponent:b,initMapStateToProps:p,initMapDispatchToProps:m,initMergeProps:v,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:l};function N(_){const[D,V,q]=P.useMemo(()=>{const{reactReduxForwardedRef:I,...Ce}=_;return[_.context,I,Ce]},[_]),G=P.useMemo(()=>{let I=f;return D?.Consumer,I},[D,f]),$=P.useContext(G),U=!!_.store&&!!_.store.getState&&!!_.store.dispatch,ce=!!$&&!!$.store,ue=U?_.store:$.store,ge=ce?$.getServerState:ue.getState,Q=P.useMemo(()=>T8(ue.dispatch,E),[ue]),[Y,ee]=P.useMemo(()=>{if(!x)return nW;const I=uT(ue,U?void 0:$.subscription),Ce=I.notifyNestedSubs.bind(I);return[I,Ce]},[ue,U,$]),ne=P.useMemo(()=>U?$:{...$,subscription:Y},[U,$,Y]),L=P.useRef(void 0),W=P.useRef(q),ie=P.useRef(void 0),ae=P.useRef(!1),de=P.useRef(!1),X=P.useRef(void 0);Of(()=>(de.current=!0,()=>{de.current=!1}),[]);const B=P.useMemo(()=>()=>ie.current&&q===W.current?ie.current:Q(ue.getState(),q),[ue,q]),te=P.useMemo(()=>Ce=>Y?oW(x,ue,Y,Q,W,L,ae,de,ie,ee,Ce):()=>{},[Y]);rW(iW,[W,L,ae,q,ie,ee]);let R;try{R=P.useSyncExternalStore(te,B,ge?()=>Q(ge(),q):B)}catch(I){throw X.current&&(I.message+=`
The error may be correlated with this previous error:
${X.current.stack}

`),I}Of(()=>{X.current=void 0,ie.current=void 0,L.current=R});const re=P.useMemo(()=>P.createElement(b,{...R,ref:V}),[V,b,R]);return P.useMemo(()=>x?P.createElement(G.Provider,{value:ne},re):re,[G,re,ne])}const O=P.memo(N);if(O.WrappedComponent=b,O.displayName=N.displayName=k,u){const D=P.forwardRef(function(q,G){return P.createElement(O,{...q,reactReduxForwardedRef:G})});return D.displayName=k,D.WrappedComponent=b,Ky(D,b)}return Ky(O,b)}}var pT=sW;function lW(e){const{children:t,context:n,serverState:r,store:i}=e,o=P.useMemo(()=>{const u=uT(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=P.useMemo(()=>i.getState(),[i]);Of(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,s]);const l=n||fT;return P.createElement(l.Provider,{value:o},t)}var hT=lW,cW="Invariant failed";function uW(e,t){throw new Error(cW)}var Gr=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,l=i-n,u={top:n,right:r,bottom:i,left:o,width:s,height:l,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return u},$x=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},tC=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},dW=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Rg={top:0,right:0,bottom:0,left:0},Bx=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Rg:r,o=t.border,s=o===void 0?Rg:o,l=t.padding,u=l===void 0?Rg:l,d=Gr($x(n,i)),f=Gr(tC(n,s)),p=Gr(tC(f,u));return{marginBox:d,borderBox:Gr(n),paddingBox:f,contentBox:p,margin:i,border:s,padding:u}},wr=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&uW(),i},fW=function(){return{x:window.pageXOffset,y:window.pageYOffset}},jf=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,l=dW(r,n);return Bx({borderBox:l,border:i,margin:o,padding:s})},Tf=function(t,n){return n===void 0&&(n=fW()),jf(t,n)},mT=function(t,n){var r={top:wr(n.marginTop),right:wr(n.marginRight),bottom:wr(n.marginBottom),left:wr(n.marginLeft)},i={top:wr(n.paddingTop),right:wr(n.paddingRight),bottom:wr(n.paddingBottom),left:wr(n.paddingLeft)},o={top:wr(n.borderTopWidth),right:wr(n.borderRightWidth),bottom:wr(n.borderBottomWidth),left:wr(n.borderLeftWidth)};return Bx({borderBox:t,margin:r,padding:i,border:o})},gT=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return mT(n,r)},Cc=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_f.apply(null,arguments)}function vT(e,t){}vT.bind(null,"warn");vT.bind(null,"error");function To(){}function pW(e,t){return{...e,...t}}function kr(e,t,n){const r=t.map(i=>{const o=pW(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const hW="Invariant failed";class Df extends Error{}Df.prototype.toString=function(){return this.message};function me(e,t){throw new Df(hW)}let mW=class extends ut.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=To,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Df&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=kr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Df){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const gW=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Mf=e=>e+1,vW=e=>`
  You have lifted an item in position ${Mf(e.source.index)}
`,yT=(e,t)=>{const n=e.droppableId===t.droppableId,r=Mf(e.index),i=Mf(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},xT=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,yW=e=>{const t=e.destination;if(t)return yT(e.source,t);const n=e.combine;return n?xT(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},nC=e=>`
  The item has returned to its starting position
  of ${Mf(e.index)}
`,xW=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${nC(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${yT(e.source,t)}
    `:n?`
      You have dropped the item.
      ${xT(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${nC(e.source)}
  `},df={dragHandleUsageInstructions:gW,onDragStart:vW,onDragUpdate:yW,onDragEnd:xW};function bW(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function bT(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!bW(e[n],t[n]))return!1;return!0}function Je(e,t){const n=P.useState(()=>({inputs:t,result:e()}))[0],r=P.useRef(!0),i=P.useRef(n),s=r.current||!!(t&&i.current.inputs&&bT(t,i.current.inputs))?i.current:{inputs:t,result:e()};return P.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function De(e,t){return Je(()=>e,t)}const nn={x:0,y:0},mn=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ir=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),_o=(e,t)=>e.x===t.x&&e.y===t.y,Gs=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Aa=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Ac=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),rC=(e,t)=>Math.min(...t.map(n=>Ac(e,n))),wT=e=>t=>({x:e(t.x),y:e(t.y)});var wW=(e,t)=>{const n=Gr({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const eu=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),iC=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],SW={top:0,right:0,bottom:0,left:0},PW=(e,t)=>t?eu(e,t.scroll.diff.displacement):e,CW=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,AW=(e,t)=>t&&t.shouldClipSubject?wW(t.pageMarginBox,e):Gr(e);var Is=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=PW(e.marginBox,r),o=CW(i,n,t),s=AW(o,r);return{page:e,withPlaceholder:t,active:s}},zx=(e,t)=>{e.frame||me();const n=e.frame,r=ir(t,n.scroll.initial),i=Gs(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=Is({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:s}};function tn(e,t=bT){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}const ST=tn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),PT=tn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Fp=tn(e=>Object.values(e)),kW=tn(e=>Object.values(e));var Ks=tn((e,t)=>kW(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function Wx(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function $p(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Bp=tn((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),EW=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!Wx(i))return null;function s(v){const x={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return{...i,at:x}}const l=i.displaced.all,u=l.length?l[0]:null;if(e)return u?s(u):null;const d=Bp(t,r);if(!u){if(!d.length)return null;const v=d[d.length-1];return s(v.descriptor.id)}const f=d.findIndex(v=>v.descriptor.id===u);f===-1&&me();const p=f-1;if(p<0)return null;const m=d[p];return s(m.descriptor.id)},qs=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const CT={point:nn,value:0},kc={invisible:{},visible:{},all:[]},NW={displaced:kc,displacedBy:CT,at:null};var Or=(e,t)=>n=>e<=n&&n<=t,AT=e=>{const t=Or(e.top,e.bottom),n=Or(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const u=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return u&&d?!0:u&&s||d&&o}},OW=e=>{const t=Or(e.top,e.bottom),n=Or(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Vx={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},kT={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var jW=e=>t=>{const n=Or(t.top,t.bottom),r=Or(t.left,t.right);return i=>e===Vx?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const TW=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:nn;return eu(e,n)},_W=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,DW=(e,t,n)=>n(t)(e),Ux=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?TW(e,t):e;return _W(o,t,i)&&DW(o,n,i)},MW=e=>Ux({...e,isVisibleThroughFrameFn:AT}),ET=e=>Ux({...e,isVisibleThroughFrameFn:OW}),IW=e=>Ux({...e,isVisibleThroughFrameFn:jW(e.destination.axis)}),RW=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return o?o.shouldAnimate:!0};function LW(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Gr($x(n,r))}function Ec({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:o}){return e.reduce(function(l,u){const d=LW(u,n),f=u.descriptor.id;if(l.all.push(f),!MW({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const m=RW(f,o,i),v={draggableId:f,shouldAnimate:m};return l.visible[f]=v,l},{all:[],visible:{},invisible:{}})}function FW(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function oC({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=FW(e,{inHomeList:t});return{displaced:kc,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function If({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:o,index:s,forceShouldAnimate:l}){const u=qs(e,n);if(s==null)return oC({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const d=t.find(x=>x.descriptor.index===s);if(!d)return oC({insideDestination:t,inHomeList:u,displacedBy:i,destination:n});const f=Bp(e,t),p=t.indexOf(d),m=f.slice(p);return{displaced:Ec({afterDragging:m,destination:n,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Fo(e,t){return!!t.effected[e]}var $W=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,l=n[o].descriptor.index;return Fo(o,i)?e?l:l-1:e?l+1:l},BW=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,o=e?i+1:i-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=t?l:l+1;return o<s||o>u?null:o},zW=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:o,previousImpact:s,viewport:l,afterCritical:u})=>{const d=s.at;if(d||me(),d.type==="REORDER"){const p=BW({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:o});return p==null?null:If({draggable:n,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})}const f=$W({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:d.combine,afterCritical:u});return f==null?null:If({draggable:n,insideDestination:o,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})},WW=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Fo(n,t)?i?nn:Gs(r.point):i?r.point:nn},VW=({afterCritical:e,impact:t,draggables:n})=>{const r=$p(t);r||me();const i=r.draggableId,o=n[i].page.borderBox.center,s=WW({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return mn(o,s)};const NT=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,UW=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Hx=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,aC=({axis:e,moveRelativeTo:t,isMoving:n})=>Aa(e.line,t.marginBox[e.end]+NT(e,n),Hx(e,t.marginBox,n)),sC=({axis:e,moveRelativeTo:t,isMoving:n})=>Aa(e.line,t.marginBox[e.start]-UW(e,n),Hx(e,t.marginBox,n)),HW=({axis:e,moveInto:t,isMoving:n})=>Aa(e.line,t.contentBox[e.start]+NT(e,n),Hx(e,t.contentBox,n));var GW=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const o=Ks(r.descriptor.id,n),s=t.page,l=r.axis;if(!o.length)return HW({axis:l,moveInto:r.page,isMoving:s});const{displaced:u,displacedBy:d}=e,f=u.all[0];if(f){const m=n[f];if(Fo(f,i))return sC({axis:l,moveRelativeTo:m.page,isMoving:s});const v=jf(m.page,d.point);return sC({axis:l,moveRelativeTo:v,isMoving:s})}const p=o[o.length-1];if(p.descriptor.id===t.descriptor.id)return s.borderBox.center;if(Fo(p.descriptor.id,i)){const m=jf(p.page,Gs(i.displacedBy.point));return aC({axis:l,moveRelativeTo:m,isMoving:s})}return aC({axis:l,moveRelativeTo:p.page,isMoving:s})},qy=(e,t)=>{const n=e.frame;return n?mn(t,n.scroll.diff.displacement):t};const KW=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const o=t.page.borderBox.center,s=e.at;return!n||!s?o:s.type==="REORDER"?GW({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):VW({impact:e,draggables:r,afterCritical:i})};var zp=e=>{const t=KW(e),n=e.droppable;return n?qy(n,t):t},OT=(e,t)=>{const n=ir(t,e.scroll.initial),r=Gs(n);return{frame:Gr({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function lC(e,t){return e.map(n=>t[n])}function qW(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var YW=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const o=OT(t,mn(t.scroll.current,i)),s=n.frame?zx(n,mn(n.frame.scroll.current,i)):n,l=e.displaced,u=Ec({afterDragging:lC(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),d=Ec({afterDragging:lC(l.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),f={},p={},m=[l,u,d];return l.all.forEach(x=>{const w=qW(x,m);if(w){p[x]=w;return}f[x]=!0}),{...e,displaced:{all:l.all,invisible:f,visible:p}}},XW=(e,t)=>mn(e.scroll.diff.displacement,t),Gx=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=XW(n,e),i=ir(r,t.page.borderBox.center);return mn(t.client.borderBox.center,i)},jT=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=ir(n,e.page.borderBox.center),u={target:eu(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return o?IW(u):ET(u)},ZW=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;const d=Ks(n.descriptor.id,r),f=qs(t,n),p=EW({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||zW({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:o,afterCritical:u});if(!p)return null;const m=zp({impact:p,draggable:t,droppable:n,draggables:r,afterCritical:u});if(jT({draggable:t,destination:n,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Gx({pageBorderBoxCenter:m,draggable:t,viewport:o}),impact:p,scrollJumpRequest:null};const x=ir(m,s),w=YW({impact:p,viewport:o,destination:n,draggables:r,maxScrollChange:x});return{clientSelection:l,impact:w,scrollJumpRequest:x}};const Dn=e=>{const t=e.subject.active;return t||me(),t};var QW=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const o=n.subject.active;if(!o)return null;const s=n.axis,l=Or(o[s.start],o[s.end]),u=Fp(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>AT(i.frame)(Dn(f))).filter(f=>{const p=Dn(f);return e?o[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<o[s.crossAxisStart]}).filter(f=>{const p=Dn(f),m=Or(p[s.start],p[s.end]);return l(p[s.start])||l(p[s.end])||m(o[s.start])||m(o[s.end])}).sort((f,p)=>{const m=Dn(f)[s.crossAxisStart],v=Dn(p)[s.crossAxisStart];return e?m-v:v-m}).filter((f,p,m)=>Dn(f)[s.crossAxisStart]===Dn(m[0])[s.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const d=u.filter(f=>Or(Dn(f)[s.start],Dn(f)[s.end])(t[s.line]));return d.length===1?d[0]:d.length>1?d.sort((f,p)=>Dn(f)[s.start]-Dn(p)[s.start])[0]:u.sort((f,p)=>{const m=rC(t,iC(Dn(f))),v=rC(t,iC(Dn(p)));return m!==v?m-v:Dn(f)[s.start]-Dn(p)[s.start]})[0]};const cC=(e,t)=>{const n=e.page.borderBox.center;return Fo(e.descriptor.id,t)?ir(n,t.displacedBy.point):n},JW=(e,t)=>{const n=e.page.borderBox;return Fo(e.descriptor.id,t)?eu(n,Gs(t.displacedBy.point)):n};var eV=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>ET({target:JW(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,l)=>{const u=Ac(e,qy(n,cC(s,i))),d=Ac(e,qy(n,cC(l,i)));return u<d?-1:d<u?1:s.descriptor.index-l.descriptor.index})[0]||null,tu=tn(function(t,n){const r=n[t.line];return{value:r,point:Aa(t.line,r)}});const tV=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Aa(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],u=Ks(e.descriptor.id,n).reduce((d,f)=>d+f.client.marginBox[r.size],0)+t[r.line]-i;return u<=0?null:Aa(r.line,u)},TT=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),_T=(e,t,n)=>{const r=e.frame;qs(t,e)&&me(),e.subject.withPlaceholder&&me();const i=tu(e.axis,t.displaceBy).point,o=tV(e,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=Is({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:f}}const l=o?mn(r.scroll.max,o):r.scroll.max,u=TT(r,l),d=Is({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:u});return{...e,subject:d,frame:u}},nV=e=>{const t=e.subject.withPlaceholder;t||me();const n=e.frame;if(!n){const s=Is({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||me();const i=TT(n,r),o=Is({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}};var rV=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:o,viewport:s,afterCritical:l})=>{if(!t){if(n.length)return null;const p={displaced:kc,displacedBy:CT,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},m=zp({impact:p,draggable:r,droppable:o,draggables:i,afterCritical:l}),v=qs(r,o)?o:_T(o,r,i);return jT({draggable:r,destination:v,newPageBorderBoxCenter:m,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const u=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],d=(()=>{const p=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?p:p+1})(),f=tu(o.axis,r.displaceBy);return If({draggable:r,insideDestination:n,destination:o,viewport:s,displacedBy:f,last:kc,index:d})},iV=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:o,viewport:s,afterCritical:l})=>{const u=QW({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:s});if(!u)return null;const d=Ks(u.descriptor.id,i),f=eV({pageBorderBoxCenter:t,viewport:s,destination:u,insideDestination:d,afterCritical:l}),p=rV({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:i,moveRelativeTo:f,insideDestination:d,viewport:s,afterCritical:l});if(!p)return null;const m=zp({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:l});return{clientSelection:Gx({pageBorderBoxCenter:m,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null}},sr=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const oV=(e,t)=>{const n=sr(e);return n?t[n]:null};var aV=({state:e,type:t})=>{const n=oV(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],o=n||i,s=o.axis.direction,l=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:p,droppables:m}=e.dimensions;return l?ZW({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:o,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):iV({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:o,draggables:p,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function ca(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function DT(e){const t=Or(e.top,e.bottom),n=Or(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function sV(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function lV({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(o=>{const s=o.axis,l=Aa(o.axis.line,e.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:Ac(r,l)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function cV({pageBorderBox:e,draggable:t,droppables:n}){const r=Fp(n).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!sV(e,o))return!1;if(DT(o)(e.center))return!0;const s=i.axis,l=o.center[s.crossAxisLine],u=e[s.crossAxisStart],d=e[s.crossAxisEnd],f=Or(o[s.crossAxisStart],o[s.crossAxisEnd]),p=f(u),m=f(d);return!p&&!m?!0:p?u<l:d>l});return r.length?r.length===1?r[0].descriptor.id:lV({pageBorderBox:e,draggable:t,candidates:r}):null}const MT=(e,t)=>Gr(eu(e,t));var uV=(e,t)=>{const n=e.frame;return n?MT(t,n.scroll.diff.value):t};function IT({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function dV({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var fV=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:o,afterCritical:s})=>{const l=n.axis,u=tu(n.axis,t.displaceBy),d=u.value,f=e[l.start],p=e[l.end],v=Bp(t,r).find(w=>{const b=w.descriptor.id,C=w.page.borderBox.center[l.line],k=Fo(b,s),E=IT({displaced:i,id:b});return k?E?p<=C:f<C-d:E?p<=C+d:f<C})||null,x=dV({draggable:t,closest:v,inHomeList:qs(t,n)});return If({draggable:t,insideDestination:r,destination:n,viewport:o,last:i,displacedBy:u,index:x})};const pV=4;var hV=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const s=r.axis,l=tu(r.axis,e.displaceBy),u=l.value,d=t[s.start],f=t[s.end],m=Bp(e,i).find(x=>{const w=x.descriptor.id,b=x.page.borderBox,k=b[s.size]/pV,E=Fo(w,o),N=IT({displaced:n.displaced,id:w});return E?N?f>b[s.start]+k&&f<b[s.end]-k:d>b[s.start]-u+k&&d<b[s.end]-u-k:N?f>b[s.start]+u+k&&f<b[s.end]+u-k:d>b[s.start]+k&&d<b[s.end]-k});return m?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null},RT=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:o,afterCritical:s})=>{const l=MT(t.page.borderBox,e),u=cV({pageBorderBox:l,draggable:t,droppables:r});if(!u)return NW;const d=r[u],f=Ks(d.descriptor.id,n),p=uV(d,l);return hV({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:i,destination:d,insideDestination:f,afterCritical:s})||fV({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:d,insideDestination:f,last:i.displaced,viewport:o,afterCritical:s})},Kx=(e,t)=>({...e,[t.descriptor.id]:t});const mV=({previousImpact:e,impact:t,droppables:n})=>{const r=sr(e),i=sr(t);if(!r||r===i)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const s=nV(o);return Kx(n,s)};var gV=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const o=mV({previousImpact:r,impact:i,droppables:n}),s=sr(i);if(!s)return o;const l=n[s];if(qs(e,l)||l.subject.withPlaceholder)return o;const u=_T(l,e,t);return Kx(o,u)},fc=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:o})=>{const s=r||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,d=ir(u,e.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:mn(e.initial.client.borderBoxCenter,d)},p={selection:mn(f.selection,s.scroll.current),borderBoxCenter:mn(f.borderBoxCenter,s.scroll.current),offset:mn(f.offset,s.scroll.diff.value)},m={client:f,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:s,current:m};const v=l.draggables[e.critical.draggable.id],x=i||RT({pageOffset:p.offset,draggable:v,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),w=gV({draggable:v,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:w},impact:x,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function vV(e,t){return e.map(n=>t[n])}var LT=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const o=e.displaced,s=vV(o.all,n),l=Ec({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:o});return{...e,displaced:l}},FT=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:o})=>{const s=zp({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return Gx({pageBorderBoxCenter:s,draggable:t,viewport:i})},$T=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&me();const r=e.impact,i=n||e.viewport,o=t||e.dimensions,{draggables:s,droppables:l}=o,u=s[e.critical.draggable.id],d=sr(r);d||me();const f=l[d],p=LT({impact:r,viewport:i,destination:f,draggables:s}),m=FT({impact:p,draggable:u,droppable:f,draggables:s,viewport:i,afterCritical:e.afterCritical});return fc({impact:p,clientSelection:m,state:e,dimensions:o,viewport:i})},yV=e=>({index:e.index,droppableId:e.droppableId}),BT=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=tu(t.axis,e.displaceBy),o=Ks(t.descriptor.id,n),s=o.indexOf(e);s===-1&&me();const l=o.slice(s+1),u=l.reduce((m,v)=>(m[v.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:Ec({afterDragging:l,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:yV(e.descriptor)}},afterCritical:d}},xV=(e,t)=>({draggables:e.draggables,droppables:Kx(e.droppables,t)}),bV=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=jf(e.client,t),i=Tf(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},wV=e=>{const t=e.frame;return t||me(),t},SV=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const o=i.descriptor.droppableId,s=t[o],u=wV(s).scroll.diff.value,d=mn(r,u);return bV({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},PV=({state:e,published:t})=>{const n=t.modified.map(C=>{const k=e.dimensions.droppables[C.droppableId];return zx(k,C.scroll)}),r={...e.dimensions.droppables,...ST(n)},i=PT(SV({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...i};t.removals.forEach(C=>{delete o[C]});const s={droppables:r,draggables:o},l=sr(e.impact),u=l?s.droppables[l]:null,d=s.draggables[e.critical.draggable.id],f=s.droppables[e.critical.droppable.id],{impact:p,afterCritical:m}=BT({draggable:d,home:f,draggables:o,viewport:e.viewport}),v=u&&u.isCombineEnabled?e.impact:p,x=RT({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:v,viewport:e.viewport,afterCritical:m}),w={...e,phase:"DRAGGING",impact:x,onLiftImpact:p,dimensions:s,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Yy=e=>e.movementMode==="SNAP",Lg=(e,t,n)=>{const r=xV(e.dimensions,t);return!Yy(e)||n?fc({state:e,dimensions:r}):$T({state:e,dimensions:r})};function Fg(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const uC={phase:"IDLE",completed:null,shouldFlush:!1};var CV=(e=uC,t)=>{if(t.type==="FLUSH")return{...uC,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&me();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=t.payload,l=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:nn},f={client:d,page:{selection:mn(d.selection,i.scroll.initial),borderBoxCenter:mn(d.selection,i.scroll.initial),offset:mn(d.selection,i.scroll.diff.value)}},p=Fp(o.droppables).every(w=>!w.isFixedOnPage),{impact:m,afterCritical:v}=BT({draggable:l,home:u,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:f,current:f,isWindowScrollAllowed:p,impact:m,afterCritical:v,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&me(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||me(),PV({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ca(e)||me();const{client:n}=t.payload;return _o(n,e.current.client.selection)?e:fc({state:e,clientSelection:n,impact:Yy(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Fg(e);ca(e)||me();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=zx(i,r);return Lg(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ca(e)||me();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||me(),i.isEnabled===r&&me();const o={...i,isEnabled:r};return Lg(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ca(e)||me();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||me(),i.isCombineEnabled===r&&me();const o={...i,isCombineEnabled:r};return Lg(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ca(e)||me(),e.isWindowScrollAllowed||me();const n=t.payload.newScroll;if(_o(e.viewport.scroll.current,n))return Fg(e);const r=OT(e.viewport,n);return Yy(e)?$T({state:e,viewport:r}):fc({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ca(e))return e;const n=t.payload.maxScroll;if(_o(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&me();const n=aV({state:e,type:t.type});return n?fc({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&me(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||me(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function ot(e,t){return e instanceof Object&&"type"in e&&e.type===t}const AV=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),kV=e=>({type:"LIFT",payload:e}),EV=e=>({type:"INITIAL_PUBLISH",payload:e}),NV=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),OV=()=>({type:"COLLECTION_STARTING",payload:null}),jV=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),TV=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),_V=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),zT=e=>({type:"MOVE",payload:e}),DV=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),MV=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),IV=()=>({type:"MOVE_UP",payload:null}),RV=()=>({type:"MOVE_DOWN",payload:null}),LV=()=>({type:"MOVE_RIGHT",payload:null}),FV=()=>({type:"MOVE_LEFT",payload:null}),qx=()=>({type:"FLUSH",payload:null}),$V=e=>({type:"DROP_ANIMATE",payload:e}),Yx=e=>({type:"DROP_COMPLETE",payload:e}),WT=e=>({type:"DROP",payload:e}),BV=e=>({type:"DROP_PENDING",payload:e}),VT=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var zV=e=>({getState:t,dispatch:n})=>r=>i=>{if(!ot(i,"LIFT")){r(i);return}const{id:o,clientSelection:s,movementMode:l}=i.payload,u=t();u.phase==="DROP_ANIMATING"&&n(Yx({completed:u.completed})),t().phase!=="IDLE"&&me(),n(qx()),n(AV({draggableId:o,movementMode:l}));const f={draggableId:o,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:m,viewport:v}=e.startPublishing(f);n(EV({critical:p,dimensions:m,clientSelection:s,movementMode:l,viewport:v}))},WV=e=>()=>t=>n=>{ot(n,"INITIAL_PUBLISH")&&e.dragging(),ot(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(ot(n,"FLUSH")||ot(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Xx={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Nc={opacity:{drop:0,combining:.7},scale:{drop:.75}},UT={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ia=`${UT.outOfTheWay}s ${Xx.outOfTheWay}`,pc={fluid:`opacity ${ia}`,snap:`transform ${ia}, opacity ${ia}`,drop:e=>{const t=`${e}s ${Xx.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${ia}`,placeholder:`height ${ia}, width ${ia}, margin ${ia}`},dC=e=>_o(e,nn)?void 0:`translate(${e.x}px, ${e.y}px)`,Xy={moveTo:dC,drop:(e,t)=>{const n=dC(e);if(n)return t?`${n} scale(${Nc.scale.drop})`:n}},{minDropTime:Zy,maxDropTime:HT}=UT,VV=HT-Zy,fC=1500,UV=.6;var HV=({current:e,destination:t,reason:n})=>{const r=Ac(e,t);if(r<=0)return Zy;if(r>=fC)return HT;const i=r/fC,o=Zy+VV*i,s=n==="CANCEL"?o*UV:o;return Number(s.toFixed(2))},GV=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:o,droppables:s}=n,l=sr(e),u=l?s[l]:null,d=s[t.descriptor.droppableId],f=FT({impact:e,draggable:t,draggables:o,afterCritical:i,droppable:u||d,viewport:r});return ir(f,t.client.borderBox.center)},KV=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:LT({draggables:e,impact:o,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:kc},didDropInsideDroppable:!0};const qV=({getState:e,dispatch:t})=>n=>r=>{if(!ot(r,"DROP")){n(r);return}const i=e(),o=r.payload.reason;if(i.phase==="COLLECTING"){t(BV({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&me(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||me();const l=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],{impact:f,didDropInsideDroppable:p}=KV({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),m=p?Wx(f):null,v=p?$p(f):null,x={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:o,mode:i.movementMode,destination:m,combine:v},b=GV({impact:f,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),C={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:f};if(!(!_o(i.current.client.offset,b)||!!w.combine)){t(Yx({completed:C}));return}const E=HV({current:i.current.client.offset,destination:b,reason:o});t($V({newHomeClientOffset:b,dropDuration:E,completed:C}))};var GT=()=>({x:window.pageXOffset,y:window.pageYOffset});function YV(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function XV({onWindowScroll:e}){function t(){e(GT())}const n=Cc(t),r=YV(n);let i=To;function o(){return i!==To}function s(){o()&&me(),i=kr(window,[r])}function l(){o()||me(),n.cancel(),i(),i=To}return{start:s,stop:l,isActive:o}}const ZV=e=>ot(e,"DROP_COMPLETE")||ot(e,"DROP_ANIMATE")||ot(e,"FLUSH"),QV=e=>{const t=XV({onWindowScroll:n=>{e.dispatch(DV({newScroll:n}))}});return n=>r=>{!t.isActive()&&ot(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&ZV(r)&&t.stop(),n(r)}};var JV=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return i.wasCalled=()=>t,i},eU=()=>{const e=[],t=i=>{const o=e.findIndex(l=>l.timerId===i);o===-1&&me();const[s]=e.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>t(o)),s={timerId:o,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const tU=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,nU=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,rU=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Hl=(e,t)=>{t()},$d=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function $g(e,t,n,r){if(!e){n(r(t));return}const i=JV(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var iU=(e,t)=>{const n=eU();let r=null;const i=(p,m)=>{r&&me(),Hl("onBeforeCapture",()=>{const v=e().onBeforeCapture;v&&v({draggableId:p,mode:m})})},o=(p,m)=>{r&&me(),Hl("onBeforeDragStart",()=>{const v=e().onBeforeDragStart;v&&v($d(p,m))})},s=(p,m)=>{r&&me();const v=$d(p,m);r={mode:m,lastCritical:p,lastLocation:v.source,lastCombine:null},n.add(()=>{Hl("onDragStart",()=>$g(e().onDragStart,v,t,df.onDragStart))})},l=(p,m)=>{const v=Wx(m),x=$p(m);r||me();const w=!rU(p,r.lastCritical);w&&(r.lastCritical=p);const b=!tU(r.lastLocation,v);b&&(r.lastLocation=v);const C=!nU(r.lastCombine,x);if(C&&(r.lastCombine=x),!w&&!b&&!C)return;const k={...$d(p,r.mode),combine:x,destination:v};n.add(()=>{Hl("onDragUpdate",()=>$g(e().onDragUpdate,k,t,df.onDragUpdate))})},u=()=>{r||me(),n.flush()},d=p=>{r||me(),r=null,Hl("onDragEnd",()=>$g(e().onDragEnd,p,t,df.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:l,flush:u,drop:d,abort:()=>{if(!r)return;const p={...$d(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},oU=(e,t)=>{const n=iU(e,t);return r=>i=>o=>{if(ot(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(ot(o,"INITIAL_PUBLISH")){const l=o.payload.critical;n.beforeStart(l,o.payload.movementMode),i(o),n.start(l,o.payload.movementMode);return}if(ot(o,"DROP_COMPLETE")){const l=o.payload.completed.result;n.flush(),i(o),n.drop(l);return}if(i(o),ot(o,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const aU=e=>t=>n=>{if(!ot(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&me(),e.dispatch(Yx({completed:r.completed}))},sU=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>o=>{if((ot(o,"FLUSH")||ot(o,"DROP_COMPLETE")||ot(o,"DROP_ANIMATION_FINISHED"))&&r(),i(o),!ot(o,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(VT())}};n=requestAnimationFrame(()=>{n=null,t=kr(window,[s])})}};var lU=e=>()=>t=>n=>{(ot(n,"DROP_COMPLETE")||ot(n,"FLUSH")||ot(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},cU=e=>{let t=!1;return()=>n=>r=>{if(ot(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(ot(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(ot(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const uU=e=>ot(e,"DROP_COMPLETE")||ot(e,"DROP_ANIMATE")||ot(e,"FLUSH");var dU=e=>t=>n=>r=>{if(uU(r)){e.stop(),n(r);return}if(ot(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&me(),e.start(i);return}n(r),e.scroll(t.getState())};const fU=e=>t=>n=>{if(t(n),!ot(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(WT({reason:r.reason})))},pU=Pc;var hU=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:o})=>Rx(CV,pU(aT(WV(n),lU(e),zV(e),qV,aU,sU,fU,dU(o),QV,cU(t),oU(r,i))));const Bg=()=>({additions:{},removals:{},modified:{}});function mU({registry:e,callbacks:t}){let n=Bg(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:d,modified:f}=n,p=Object.keys(u).map(x=>e.draggable.getById(x).getDimension(nn)).sort((x,w)=>x.descriptor.index-w.descriptor.index),m=Object.keys(f).map(x=>{const b=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:b}}),v={additions:p,removals:Object.keys(d),modified:m};n=Bg(),t.publish(v)}))};return{add:u=>{const d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:u=>{const d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Bg())}}}var KT=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=ir({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},qT=()=>{const e=document.documentElement;return e||me(),e},YT=()=>{const e=qT();return KT({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},gU=()=>{const e=GT(),t=YT(),n=e.y,r=e.x,i=qT(),o=i.clientWidth,s=i.clientHeight,l=r+o,u=n+s;return{frame:Gr({top:n,left:r,right:l,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:nn,displacement:nn}}}},vU=({critical:e,scrollOptions:t,registry:n})=>{const r=gU(),i=r.scroll.current,o=e.droppable,s=n.droppable.getAllByType(o.type).map(f=>f.callbacks.getDimensionAndWatchScroll(i,t)),l=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(i));return{dimensions:{draggables:PT(l),droppables:ST(s)},critical:e,viewport:r}};function pC(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var yU=(e,t)=>{let n=null;const r=mU({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(m,v)=>{e.droppable.exists(m)||me(),n&&t.updateDroppableIsEnabled({id:m,isEnabled:v})},o=(m,v)=>{n&&(e.droppable.exists(m)||me(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:v}))},s=(m,v)=>{n&&(e.droppable.exists(m)||me(),t.updateDroppableScroll({id:m,newScroll:v}))},l=(m,v)=>{n&&e.droppable.getById(m).callbacks.scroll(v)},u=()=>{if(!n)return;r.stop();const m=n.critical.droppable;e.droppable.getAllByType(m.type).forEach(v=>v.callbacks.dragStopped()),n.unsubscribe(),n=null},d=m=>{n||me();const v=n.critical.draggable;m.type==="ADDITION"&&pC(e,v,m.value)&&r.add(m.value),m.type==="REMOVAL"&&pC(e,v,m.value)&&r.remove(m.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:l,updateDroppableScroll:s,startPublishing:m=>{n&&me();const v=e.draggable.getById(m.draggableId),x=e.droppable.getById(v.descriptor.droppableId),w={draggable:v.descriptor,droppable:x.descriptor},b=e.subscribe(d);return n={critical:w,unsubscribe:b},vU({critical:w,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:u}},XT=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",xU=e=>{window.scrollBy(e.x,e.y)};const bU=tn(e=>Fp(e).filter(t=>!(!t.isEnabled||!t.frame))),wU=(e,t)=>bU(t).find(r=>(r.frame||me(),DT(r.frame.pageMarginBox)(e)))||null;var SU=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return wU(e,n)};const Oc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var PU=(e,t,n=()=>Oc)=>{const r=n(),i=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},ZT=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Zx=1,CU=(e,t,n=()=>Oc)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Zx;const o=1-ZT({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)},AU=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,s=t,l=o,d=Date.now()-s;if(d>=o)return e;if(d<i)return Zx;const f=ZT({startOfRange:i,endOfRange:l,current:d}),p=e*r.ease(f);return Math.ceil(p)},hC=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=CU(e,t,i);return o===0?0:r?Math.max(AU(o,n,i),Zx):o},mC=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=PU(e,r,o);return t[r.end]<t[r.start]?hC({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*hC({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},kU=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const EU=wT(e=>e===0?0:e);var QT=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=mC({container:t,distanceToEdges:s,dragStartTime:e,axis:Vx,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),u=mC({container:t,distanceToEdges:s,dragStartTime:e,axis:kT,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),d=EU({x:u,y:l});if(_o(d,nn))return null;const f=kU({container:t,subject:n,proposedScroll:d});return f?_o(f,nn)?null:f:null};const NU=wT(e=>e===0?0:e>0?1:-1),Qx=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=mn(t,r),o={x:e(i.x,n.x),y:e(i.y,n.y)};return _o(o,nn)?null:o}})(),JT=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=NU(n),o=Qx({max:r,current:t,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},Jx=(e,t)=>JT({current:e.scroll.current,max:e.scroll.max,change:t}),OU=(e,t)=>{if(!Jx(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Qx({current:r,max:n,change:t})},eb=(e,t)=>{const n=e.frame;return n?JT({current:n.scroll.current,max:n.scroll.max,change:t}):!1},jU=(e,t)=>{const n=e.frame;return!n||!eb(e,t)?null:Qx({current:n.scroll.current,max:n.scroll.max,change:t})};var TU=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=QT({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&Jx(e,s)?s:null},_U=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=e.frame;if(!s)return null;const l=QT({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return l&&eb(e,l)?l:null},gC=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,m=TU({dragStartTime:t,viewport:p,subject:u,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(m){r(m);return}}const d=SU({center:s,destination:sr(e.impact),droppables:e.dimensions.droppables});if(!d)return;const f=_U({dragStartTime:t,droppable:d,subject:u,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});f&&i(d.descriptor.id,f)},DU=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Oc})=>{const r=Cc(e),i=Cc(t);let o=null;const s=d=>{o||me();const{shouldUseTimeDampening:f,dragStartTime:p}=o;gC({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:d=>{o&&me();const f=Date.now();let p=!1;const m=()=>{p=!0};gC({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:n}),o={dragStartTime:f,shouldUseTimeDampening:p},p&&s(d)},stop:()=>{o&&(r.cancel(),i.cancel(),o=null)},scroll:s}},MU=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,u)=>{const d=mn(l.current.client.selection,u);e({client:d})},i=(l,u)=>{if(!eb(l,u))return u;const d=jU(l,u);if(!d)return t(l.descriptor.id,u),null;const f=ir(u,d);return t(l.descriptor.id,f),ir(u,f)},o=(l,u,d)=>{if(!l||!Jx(u,d))return d;const f=OU(u,d);if(!f)return n(d),null;const p=ir(d,f);return n(p),ir(d,p)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const d=sr(l.impact);d||me();const f=i(l.dimensions.droppables[d],u);if(!f)return;const p=l.viewport,m=o(l.isWindowScrollAllowed,p,f);m&&r(l,m)}},IU=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=DU({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=MU({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&o(u)}},start:i.start,stop:i.stop}};const Rs="data-rfd",Ls=(()=>{const e=`${Rs}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Qy=(()=>{const e=`${Rs}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),RU=(()=>{const e=`${Rs}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),vC={contextId:`${Rs}-scroll-container-context-id`},LU=e=>t=>`[${t}="${e}"]`,Gl=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),FU="pointer-events: none;";var $U=e=>{const t=LU(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ls.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:FU,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${pc.outOfTheWay};
    `;return{selector:t(Qy.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:t(RU.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Gl(s,"always"),resting:Gl(s,"resting"),dragging:Gl(s,"dragging"),dropAnimating:Gl(s,"dropAnimating"),userCancel:Gl(s,"userCancel")}};const lr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect,zg=()=>{const e=document.querySelector("head");return e||me(),e},yC=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function BU(e,t){const n=Je(()=>$U(e),[e]),r=P.useRef(null),i=P.useRef(null),o=De(tn(p=>{const m=i.current;m||me(),m.textContent=p}),[]),s=De(p=>{const m=r.current;m||me(),m.textContent=p},[]);lr(()=>{!r.current&&!i.current||me();const p=yC(t),m=yC(t);return r.current=p,i.current=m,p.setAttribute(`${Rs}-always`,e),m.setAttribute(`${Rs}-dynamic`,e),zg().appendChild(p),zg().appendChild(m),s(n.always),o(n.resting),()=>{const v=x=>{const w=x.current;w||me(),zg().removeChild(w),x.current=null};v(r),v(i)}},[t,s,o,n.always,n.resting,e]);const l=De(()=>o(n.dragging),[o,n.dragging]),u=De(p=>{if(p==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),d=De(()=>{i.current&&o(n.resting)},[o,n.resting]);return Je(()=>({dragging:l,dropping:u,resting:d}),[l,u,d])}function e_(e,t){return Array.from(e.querySelectorAll(t))}var t_=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Wp(e){return e instanceof t_(e).HTMLElement}function zU(e,t){const n=`[${Ls.contextId}="${e}"]`,r=e_(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute(Ls.draggableId)===t);return!i||!Wp(i)?null:i}function WU(e){const t=P.useRef({}),n=P.useRef(null),r=P.useRef(null),i=P.useRef(!1),o=De(function(m,v){const x={id:m,focus:v};return t.current[m]=x,function(){const b=t.current;b[m]!==x&&delete b[m]}},[]),s=De(function(m){const v=zU(e,m);v&&v!==document.activeElement&&v.focus()},[e]),l=De(function(m,v){n.current===m&&(n.current=v)},[]),u=De(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const m=n.current;m&&s(m)}))},[s]),d=De(function(m){n.current=null;const v=document.activeElement;v&&v.getAttribute(Ls.draggableId)===m&&(n.current=m)},[]);return lr(()=>(i.current=!0,function(){i.current=!1;const m=r.current;m&&cancelAnimationFrame(m)}),[]),Je(()=>({register:o,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}),[o,d,u,l])}function VU(){const e={draggables:{},droppables:{}},t=[];function n(p){return t.push(p),function(){const v=t.indexOf(p);v!==-1&&t.splice(v,1)}}function r(p){t.length&&t.forEach(m=>m(p))}function i(p){return e.draggables[p]||null}function o(p){const m=i(p);return m||me(),m}const s={register:p=>{e.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,m)=>{const v=e.draggables[m.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const m=p.descriptor.id,v=i(m);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[m],e.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:o,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(e.draggables).filter(m=>m.descriptor.type===p)};function l(p){return e.droppables[p]||null}function u(p){const m=l(p);return m||me(),m}const d={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const m=l(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete e.droppables[p.descriptor.id]},getById:u,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(e.droppables).filter(m=>m.descriptor.type===p)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:d,subscribe:n,clean:f}}function UU(){const e=Je(VU,[]);return P.useEffect(()=>function(){e.clean()},[e]),e}var tb=ut.createContext(null),Rf=()=>{const e=document.body;return e||me(),e};const HU={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},GU=e=>`rfd-announcement-${e}`;function KU(e){const t=Je(()=>GU(e),[e]),n=P.useRef(null);return P.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),_f(o.style,HU),Rf().appendChild(o),function(){setTimeout(function(){const u=Rf();u.contains(o)&&u.removeChild(o),o===n.current&&(n.current=null)})}},[t]),De(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}const qU={separator:"::"};function nb(e,t=qU){const n=ut.useId();return Je(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function YU({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function XU({contextId:e,text:t}){const n=nb("hidden-text",{separator:"-"}),r=Je(()=>YU({contextId:e,uniqueId:n}),[n,e]);return P.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",Rf().appendChild(o),function(){const l=Rf();l.contains(o)&&l.removeChild(o)}},[r,t]),r}var Vp=ut.createContext(null);function n_(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),t}function ZU(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&me();const l={abandon:s};return e=l,l}function i(){e||me(),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}function jc(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const QU=9,JU=13,rb=27,r_=32,e9=33,t9=34,n9=35,r9=36,i9=37,o9=38,a9=39,s9=40,l9={[JU]:!0,[QU]:!0};var i_=e=>{l9[e.keyCode]&&e.preventDefault()};const Up=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),o_=0,xC=5;function c9(e,t){return Math.abs(t.x-e.x)>=xC||Math.abs(t.y-e.y)>=xC}const bC={type:"IDLE"};function u9({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:l}=i;if(o!==o_)return;const u={x:s,y:l},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&me();const f=d.point;if(!c9(f,u))return;i.preventDefault();const p=d.actions.fluidLift(u);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const o=n();if(o.type!=="DRAGGING"){e();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===rb){i.preventDefault(),e();return}i_(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=n();if(o.type==="IDLE"&&me(),o.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Up,fn:e}]}function d9(e){const t=P.useRef(bC),n=P.useRef(To),r=Je(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==o_||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const m=e.findClosestDraggableId(p);if(!m)return;const v=e.tryGetLock(m,s,{sourceEvent:p});if(!v)return;p.preventDefault();const x={x:p.clientX,y:p.clientY};n.current(),d(v,x)}}),[e]),i=Je(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const p=e.findClosestDraggableId(f);if(!p)return;const m=e.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||e.canGetLock(p)&&f.preventDefault())}}),[e]),o=De(function(){const p={passive:!1,capture:!0};n.current=kr(window,[i,r],p)},[i,r]),s=De(()=>{t.current.type!=="IDLE"&&(t.current=bC,n.current(),o())},[o]),l=De(()=>{const f=t.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),u=De(function(){const p={capture:!0,passive:!1},m=u9({cancel:l,completed:s,getPhase:()=>t.current,setPhase:v=>{t.current=v}});n.current=kr(window,m,p)},[l,s]),d=De(function(p,m){t.current.type!=="IDLE"&&me(),t.current={type:"PENDING",point:m,actions:p},u()},[u]);lr(function(){return o(),function(){n.current()}},[o])}function f9(){}const p9={[t9]:!0,[e9]:!0,[r9]:!0,[n9]:!0};function h9(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===rb){i.preventDefault(),n();return}if(i.keyCode===r_){i.preventDefault(),r();return}if(i.keyCode===s9){i.preventDefault(),e.moveDown();return}if(i.keyCode===o9){i.preventDefault(),e.moveUp();return}if(i.keyCode===a9){i.preventDefault(),e.moveRight();return}if(i.keyCode===i9){i.preventDefault(),e.moveLeft();return}if(p9[i.keyCode]){i.preventDefault();return}i_(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Up,fn:n}]}function m9(e){const t=P.useRef(f9),n=Je(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==r_)return;const s=e.findClosestDraggableId(o);if(!s)return;const l=e.tryGetLock(s,f,{sourceEvent:o});if(!l)return;o.preventDefault();let u=!0;const d=l.snapLift();t.current();function f(){u||me(),u=!1,t.current(),r()}t.current=kr(window,h9(d,f),{capture:!0,passive:!1})}}),[e]),r=De(function(){const o={passive:!1,capture:!0};t.current=kr(window,[n],o)},[n]);lr(function(){return r(),function(){t.current()}},[r])}const Wg={type:"IDLE"},g9=120,v9=.15;function y9({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===rb&&n.preventDefault(),e()}},{eventName:Up,fn:e}]}function x9({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:o,clientY:s}=r.touches[0],l={x:o,y:s};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&me();const o=r.touches[0];if(!o||!(o.force>=v9))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&e();return}if(l){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Up,fn:e}]}function b9(e){const t=P.useRef(Wg),n=P.useRef(To),r=De(function(){return t.current},[]),i=De(function(v){t.current=v},[]),o=Je(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const x=e.findClosestDraggableId(v);if(!x)return;const w=e.tryGetLock(x,l,{sourceEvent:v});if(!w)return;const b=v.touches[0],{clientX:C,clientY:k}=b,E={x:C,y:k};n.current(),p(w,E)}}),[e]),s=De(function(){const v={capture:!0,passive:!1};n.current=kr(window,[o],v)},[o]),l=De(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),i(Wg),n.current(),s())},[s,i]),u=De(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=De(function(){const v={capture:!0,passive:!1},x={cancel:u,completed:l,getPhase:r},w=kr(window,x9(x),v),b=kr(window,y9(x),v);n.current=function(){w(),b()}},[u,r,l]),f=De(function(){const v=r();v.type!=="PENDING"&&me();const x=v.actions.fluidLift(v.point);i({type:"DRAGGING",actions:x,hasMoved:!1})},[r,i]),p=De(function(v,x){r().type!=="IDLE"&&me();const w=setTimeout(f,g9);i({type:"PENDING",point:x,actions:v,longPressTimerId:w}),d()},[d,r,i,f]);lr(function(){return s(),function(){n.current();const x=r();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),i(Wg))}},[r,s,i]),lr(function(){return kr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const w9=["input","button","textarea","select","option","optgroup","video","audio"];function a_(e,t){if(t==null)return!1;if(w9.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:a_(e,t.parentElement)}function S9(e,t){const n=t.target;return Wp(n)?a_(e,n):!1}var P9=e=>Gr(e.getBoundingClientRect()).center;function C9(e){return e instanceof t_(e).Element}const A9=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function s_(e,t){return e==null?null:e[A9](t)?e:s_(e.parentElement,t)}function k9(e,t){return e.closest?e.closest(t):s_(e,t)}function E9(e){return`[${Ls.contextId}="${e}"]`}function N9(e,t){const n=t.target;if(!C9(n))return null;const r=E9(e),i=k9(n,r);return!i||!Wp(i)?null:i}function O9(e,t){const n=N9(e,t);return n?n.getAttribute(Ls.draggableId):null}function j9(e,t){const n=`[${Qy.contextId}="${e}"]`,i=e_(document,n).find(o=>o.getAttribute(Qy.id)===t);return!i||!Wp(i)?null:i}function T9(e){e.preventDefault()}function Bd({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function l_({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!XT(t.getState(),r))}function _9({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!l_({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),d=j9(t,u.descriptor.id);if(!d||s&&!u.options.canDragInteractiveElements&&S9(d,s))return null;const f=e.claim(o||To);let p="PRE_DRAG";function m(){return u.options.shouldRespectForcePress}function v(){return e.isActive(f)}function x(T,O){Bd({expected:T,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(O())}const w=x.bind(null,"DRAGGING");function b(T){function O(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(O(),me()),n.dispatch(kV(T.liftActionArgs)),p="DRAGGING";function _(D,V={shouldBlockNextClick:!1}){if(T.cleanup(),V.shouldBlockNextClick){const q=kr(window,[{eventName:"click",fn:T9,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(q)}O(),n.dispatch(WT({reason:D}))}return{isActive:()=>Bd({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:m,drop:D=>_("DROP",D),cancel:D=>_("CANCEL",D),...T.actions}}function C(T){const O=Cc(D=>{w(()=>zT({client:D}))});return{...b({liftActionArgs:{id:i,clientSelection:T,movementMode:"FLUID"},cleanup:()=>O.cancel(),actions:{move:O}}),move:O}}function k(){const T={moveUp:()=>w(IV),moveRight:()=>w(LV),moveDown:()=>w(RV),moveLeft:()=>w(FV)};return b({liftActionArgs:{id:i,clientSelection:P9(d),movementMode:"SNAP"},cleanup:To,actions:T})}function E(){Bd({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0})&&e.release()}return{isActive:()=>Bd({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:C,snapLift:k,abort:E}}const D9=[d9,m9,b9];function M9({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const o=[...i?D9:[],...r||[]],s=P.useState(()=>ZU())[0],l=De(function(b,C){jc(b)&&!jc(C)&&s.tryAbandon()},[s]);lr(function(){let b=t.getState();return t.subscribe(()=>{const k=t.getState();l(b,k),b=k})},[s,t,l]),lr(()=>s.tryAbandon,[s.tryAbandon]);const u=De(w=>l_({lockAPI:s,registry:n,store:t,draggableId:w}),[s,n,t]),d=De((w,b,C)=>_9({lockAPI:s,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:b||null,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null}),[e,s,n,t]),f=De(w=>O9(e,w),[e]),p=De(w=>{const b=n.draggable.findById(w);return b?b.options:null},[n.draggable]),m=De(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(qx()))},[s,t]),v=De(()=>s.isClaimed(),[s]),x=Je(()=>({canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:v}),[u,d,f,p,m,v]);for(let w=0;w<o.length;w++)o[w](x)}const I9=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Jc.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),R9=e=>({...Oc,...e.autoScrollerOptions,durationDampening:{...Oc.durationDampening,...e.autoScrollerOptions}});function Kl(e){return e.current||me(),e.current}function L9(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=e,s=P.useRef(null),l=n_(e),u=De(()=>I9(l.current),[l]),d=De(()=>R9(l.current),[l]),f=KU(t),p=XU({contextId:t,text:o}),m=BU(t,i),v=De(q=>{Kl(s).dispatch(q)},[]),x=Je(()=>G2({publishWhileDragging:NV,updateDroppableScroll:jV,updateDroppableIsEnabled:TV,updateDroppableIsCombineEnabled:_V,collectionStarting:OV},v),[v]),w=UU(),b=Je(()=>yU(w,x),[w,x]),C=Je(()=>IU({scrollWindow:xU,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:d,...G2({move:zT},v)}),[b.scrollDroppable,v,d]),k=WU(t),E=Je(()=>hU({announce:f,autoScroller:C,dimensionMarshal:b,focusMarshal:k,getResponders:u,styleMarshal:m}),[f,C,b,k,u,m]);s.current=E;const N=De(()=>{const q=Kl(s);q.getState().phase!=="IDLE"&&q.dispatch(qx())},[]),T=De(()=>{const q=Kl(s).getState();return q.phase==="DROP_ANIMATING"?!0:q.phase==="IDLE"?!1:q.isDragging},[]),O=Je(()=>({isDragging:T,tryAbort:N}),[T,N]);n(O);const _=De(q=>XT(Kl(s).getState(),q),[]),D=De(()=>ca(Kl(s).getState()),[]),V=Je(()=>({marshal:b,focus:k,contextId:t,canLift:_,isMovementAllowed:D,dragHandleUsageInstructionsId:p,registry:w}),[t,b,p,k,_,D,w]);return M9({contextId:t,store:E,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),P.useEffect(()=>N,[N]),ut.createElement(Vp.Provider,{value:V},ut.createElement(hT,{context:tb,store:E},e.children))}function F9(){return ut.useId()}function $9(e){const t=F9(),n=e.dragHandleUsageInstructions||df.dragHandleUsageInstructions;return ut.createElement(mW,null,r=>ut.createElement(L9,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const wC={dragging:5e3,dropAnimating:4500},B9=(e,t)=>t?pc.drop(t.duration):e?pc.snap:pc.fluid,z9=(e,t)=>{if(e)return t?Nc.opacity.drop:Nc.opacity.combining},W9=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function V9(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:o}=e,s=!!i,l=W9(e),u=!!o,d=u?Xy.drop(r,s):Xy.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:B9(l,o),transform:d,opacity:z9(s,u),zIndex:u?wC.dropAnimating:wC.dragging,pointerEvents:"none"}}function U9(e){return{transform:Xy.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function H9(e){return e.type==="DRAGGING"?V9(e):U9(e)}function G9(e,t,n=nn){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=mT(i,r),s=Tf(o,n),l={client:o,tagName:t.tagName.toLowerCase(),display:r.display},u={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:u,client:o,page:s}}function K9(e){const t=nb("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:l}=e,u=Je(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:l}),[o,l,s]),d=De(v=>{const x=i();return x||me(),G9(n,x,v)},[n,i]),f=Je(()=>({uniqueId:t,descriptor:n,options:u,getDimension:d}),[n,d,u,t]),p=P.useRef(f),m=P.useRef(!0);lr(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),lr(()=>{if(m.current){m.current=!1;return}const v=p.current;p.current=f,r.draggable.update(f,v)},[f,r.draggable])}var ib=ut.createContext(null);function Lf(e){const t=P.useContext(e);return t||me(),t}function q9(e){e.preventDefault()}const Y9=e=>{const t=P.useRef(null),n=De((O=null)=>{t.current=O},[]),r=De(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=Lf(Vp),{type:l,droppableId:u}=Lf(ib),d=Je(()=>({id:e.draggableId,index:e.index,type:l,droppableId:u}),[e.draggableId,e.index,l,u]),{children:f,draggableId:p,isEnabled:m,shouldRespectForcePress:v,canDragInteractiveElements:x,isClone:w,mapped:b,dropAnimationFinished:C}=e;if(!w){const O=Je(()=>({descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:x,shouldRespectForcePress:v,isEnabled:m}),[d,s,r,x,v,m]);K9(O)}const k=Je(()=>m?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:q9}:null,[i,o,p,m]),E=De(O=>{b.type==="DRAGGING"&&b.dropping&&O.propertyName==="transform"&&Jc.flushSync(C)},[C,b]),N=Je(()=>{const O=H9(b),_=b.type==="DRAGGING"&&b.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:O,onTransitionEnd:_},dragHandleProps:k}},[i,k,p,b,E,n]),T=Je(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return ut.createElement(ut.Fragment,null,f(N,b.snapshot,T))};var c_=(e,t)=>e===t,u_=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const X9=e=>e.combine?e.combine.draggableId:null,Z9=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Q9(){const e=tn((i,o)=>({x:i,y:o})),t=tn((i,o,s=null,l=null,u=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:s,combineWith:l,combineTargetFor:null})),n=tn((i,o,s,l,u=null,d=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:o,offset:i,dimension:s,forceShouldAnimate:f,snapshot:t(o,l,u,d,null)}}));return(i,o)=>{if(jc(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,l=i.dimensions.draggables[o.draggableId],u=sr(i.impact),d=Z9(i.impact),f=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,l,o.isClone,u,d,f)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const l=o.isClone,u=i.dimensions.draggables[o.draggableId],d=s.result,f=d.mode,p=u_(d),m=X9(d),x={duration:i.dropDuration,curve:Xx.drop,moveTo:i.newHomeClientOffset,opacity:m?Nc.opacity.drop:null,scale:m?Nc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:x,draggingOver:p,combineWith:m,mode:f,forceShouldAnimate:null,snapshot:t(f,l,p,m,x)}}}return null}}function d_(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const J9={mapped:{type:"SECONDARY",offset:nn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:d_(null)}};function e7(){const e=tn((s,l)=>({x:s,y:l})),t=tn(d_),n=tn((s,l=null,u)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}})),r=s=>s?n(nn,s,!0):null,i=(s,l,u,d)=>{const f=u.displaced.visible[s],p=!!(d.inVirtualList&&d.effected[s]),m=$p(u),v=m&&m.draggableId===s?l:null;if(!f){if(!p)return r(v);if(u.displaced.invisible[s])return null;const b=Gs(d.displacedBy.point),C=e(b.x,b.y);return n(C,v,!0)}if(p)return r(v);const x=u.displacedBy.point,w=e(x.x,x.y);return n(w,v,f.shouldAnimate)};return(s,l)=>{if(jc(s))return s.critical.draggable.id===l.draggableId?null:i(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const u=s.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const t7=()=>{const e=Q9(),t=e7();return(r,i)=>e(r,i)||t(r,i)||J9},n7={dropAnimationFinished:VT},r7=pT(t7,n7,null,{context:tb,areStatePropsEqual:c_})(Y9);function f_(e){return Lf(ib).isUsingCloneFor===e.draggableId&&!e.isClone?null:ut.createElement(r7,e)}function i7(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return ut.createElement(f_,_f({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const p_=e=>t=>e===t,o7=p_("scroll"),a7=p_("auto"),SC=(e,t)=>t(e.overflowX)||t(e.overflowY),s7=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return SC(n,o7)||SC(n,a7)},l7=()=>!1,h_=e=>e==null?null:e===document.body?l7()?e:null:e===document.documentElement?null:s7(e)?e:h_(e.parentElement);var Jy=e=>({x:e.scrollLeft,y:e.scrollTop});const m_=e=>e?window.getComputedStyle(e).position==="fixed"?!0:m_(e.parentElement):!1;var c7=e=>{const t=h_(e),n=m_(e);return{closestScrollable:t,isFixedOnPage:n}},u7=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:o,page:s,closest:l})=>{const u=(()=>{if(!l)return null;const{scrollSize:m,client:v}=l,x=KT({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:v,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:nn,displacement:nn}}}})(),d=i==="vertical"?Vx:kT,f=Is({page:s,withPlaceholder:null,axis:d,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:o,page:s,frame:u,subject:f}};const d7=(e,t)=>{const n=gT(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,s=i+t.scrollWidth,u=$x({top:r,right:s,bottom:o,left:i},n.border);return Bx({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var f7=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:l})=>{const u=n.closestScrollable,d=d7(e,u),f=Tf(d,r),p=(()=>{if(!u)return null;const v=gT(u),x={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:Tf(v,r),scroll:Jy(u),scrollSize:x,shouldClipSubject:l}})();return u7({descriptor:t,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:f,closest:p})};const p7={passive:!1},h7={passive:!0};var PC=e=>e.shouldPublishImmediately?p7:h7;const zd=e=>e&&e.env.closestScrollable||null;function m7(e){const t=P.useRef(null),n=Lf(Vp),r=nb("droppable"),{registry:i,marshal:o}=n,s=n_(e),l=Je(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=P.useRef(l),d=Je(()=>tn((N,T)=>{t.current||me();const O={x:N,y:T};o.updateDroppableScroll(l.id,O)}),[l.id,o]),f=De(()=>{const N=t.current;return!N||!N.env.closestScrollable?nn:Jy(N.env.closestScrollable)},[]),p=De(()=>{const N=f();d(N.x,N.y)},[f,d]),m=Je(()=>Cc(p),[p]),v=De(()=>{const N=t.current,T=zd(N);if(N&&T||me(),N.scrollOptions.shouldPublishImmediately){p();return}m()},[m,p]),x=De((N,T)=>{t.current&&me();const O=s.current,_=O.getDroppableRef();_||me();const D=c7(_),V={ref:_,descriptor:l,env:D,scrollOptions:T};t.current=V;const q=f7({ref:_,descriptor:l,env:D,windowScroll:N,direction:O.direction,isDropDisabled:O.isDropDisabled,isCombineEnabled:O.isCombineEnabled,shouldClipSubject:!O.ignoreContainerClipping}),G=D.closestScrollable;return G&&(G.setAttribute(vC.contextId,n.contextId),G.addEventListener("scroll",v,PC(V.scrollOptions))),q},[n.contextId,l,v,s]),w=De(()=>{const N=t.current,T=zd(N);return N&&T||me(),Jy(T)},[]),b=De(()=>{const N=t.current;N||me();const T=zd(N);t.current=null,T&&(m.cancel(),T.removeAttribute(vC.contextId),T.removeEventListener("scroll",v,PC(N.scrollOptions)))},[v,m]),C=De(N=>{const T=t.current;T||me();const O=zd(T);O||me(),O.scrollTop+=N.y,O.scrollLeft+=N.x},[]),k=Je(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:w,dragStopped:b,scroll:C}),[b,x,w,C]),E=Je(()=>({uniqueId:r,descriptor:l,callbacks:k}),[k,l,r]);lr(()=>(u.current=E.descriptor,i.droppable.register(E),()=>{t.current&&b(),i.droppable.unregister(E)}),[k,l,b,E,o,i.droppable]),lr(()=>{t.current&&o.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),lr(()=>{t.current&&o.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function Vg(){}const CC={width:0,height:0,margin:SW},g7=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?CC:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},v7=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=g7({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?pc.placeholder:null}},y7=e=>{const t=P.useRef(null),n=De(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=e,[l,u]=P.useState(e.animate==="open");P.useEffect(()=>l?r!=="open"?(n(),u(!1),Vg):t.current?Vg:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):Vg,[r,l,n]);const d=De(p=>{p.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),f=v7({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return ut.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})};var x7=ut.memo(y7);class b7 extends ut.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const w7=e=>{const t=P.useContext(Vp);t||me();const{contextId:n,isMovementAllowed:r}=t,i=P.useRef(null),o=P.useRef(null),{children:s,droppableId:l,type:u,mode:d,direction:f,ignoreContainerClipping:p,isDropDisabled:m,isCombineEnabled:v,snapshot:x,useClone:w,updateViewportMaxScroll:b,getContainerForClone:C}=e,k=De(()=>i.current,[]),E=De((G=null)=>{i.current=G},[]);De(()=>o.current,[]);const N=De((G=null)=>{o.current=G},[]),T=De(()=>{r()&&b({maxScroll:YT()})},[r,b]);m7({droppableId:l,type:u,mode:d,direction:f,isDropDisabled:m,isCombineEnabled:v,ignoreContainerClipping:p,getDroppableRef:k});const O=Je(()=>ut.createElement(b7,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:G,data:$,animate:U})=>ut.createElement(x7,{placeholder:$,onClose:G,innerRef:N,animate:U,contextId:n,onTransitionEnd:T})),[n,T,e.placeholder,e.shouldAnimatePlaceholder,N]),_=Je(()=>({innerRef:E,placeholder:O,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,O,E]),D=w?w.dragging.draggableId:null,V=Je(()=>({droppableId:l,type:u,isUsingCloneFor:D}),[l,D,u]);function q(){if(!w)return null;const{dragging:G,render:$}=w,U=ut.createElement(f_,{draggableId:G.draggableId,index:G.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ce,ue)=>$(ce,ue,G));return Ms.createPortal(U,C())}return ut.createElement(ib.Provider,{value:V},s(_,x),q())};function S7(){return document.body||me(),document.body}const AC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:S7},g_=e=>{let t={...e},n;for(n in AC)e[n]===void 0&&(t={...t,[n]:AC[n]});return t},Ug=(e,t)=>e===t.droppable.type,kC=(e,t)=>t.draggables[e.draggable.id],P7=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=tn(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=tn((o,s,l,u,d,f)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===o){const x=f?{render:f,dragging:n(d.descriptor)}:null,w={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:x}}if(!s)return t;if(!u)return e;const v={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(o,s)=>{const l=g_(s),u=l.droppableId,d=l.type,f=!l.isDropDisabled,p=l.renderClone;if(jc(o)){const m=o.critical;if(!Ug(d,m))return t;const v=kC(m,o.dimensions),x=sr(o.impact)===u;return r(u,f,x,x,v,p)}if(o.phase==="DROP_ANIMATING"){const m=o.completed;if(!Ug(d,m.critical))return t;const v=kC(m.critical,o.dimensions);return r(u,f,u_(m.result)===u,sr(m.impact)===u,v,p)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const m=o.completed;if(!Ug(d,m.critical))return t;const v=sr(m.impact)===u,x=!!(m.impact.at&&m.impact.at.type==="COMBINE"),w=m.critical.droppable.id===u;return v?x?e:t:w?e:t}return t}},C7={updateViewportMaxScroll:MV},A7=pT(P7,C7,(e,t,n)=>({...g_(n),...e,...t}),{context:tb,areStatePropsEqual:c_})(w7),k7=$e.apiBaseUrl;function v_(e,t){const n=t.B,r=t.C;if(!n||!r||n.length<3||r.length<3){const l=t.n;return typeof l=="number"?l:1.5}const i=e*.001,o=i*i;let s=1;for(let l=0;l<3;l++)s+=n[l]*o/(o-r[l]);return Math.sqrt(Math.max(s,1))}async function E7(){const e=t=>t.map(r=>({name:r.name,n:v_(587.6,r.coefficients||{}),coefficients:r.coefficients}));try{const t=await fetch(`${k7}/api/materials`);if(t.ok){const n=await t.json();return e(n)}}catch{}try{const t=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=t.endsWith("/")?`${t}glass_library.json`:`${t}/glass_library.json`,r=typeof location<"u"?new URL(n,location.href).href:n,i=await fetch(r);if(i.ok){const s=(await i.json()).materials||[];return e(s)}}catch{}return[{name:"Air",n:1},{name:"N-BK7",n:1.5168},{name:"Fused Silica",n:1.458},{name:"N-SF11",n:1.78472},{name:"N-SF5",n:1.6727}]}const nu=$e.apiBaseUrl;function EC(e){return{Uncoated:{background:"#94a3b8"},None:{background:"#94a3b8"},MgF2:{background:"#7dd3fc"},BBAR:{background:"#93c5fd"},"V-Coat 532":{background:"#a5b4fc"},"V-Coat 1064":{background:"#67e8f9"},"Protected Silver":{background:"linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 50%, #94a3b8 100%)"},"Protected Gold":{background:"linear-gradient(135deg, #fcd34d 0%, #f59e0b 50%, #d97706 100%)"},"Protected Aluminum":{background:"linear-gradient(135deg, #9ca3af 0%, #6b7280 50%, #4b5563 100%)"},HR:{background:"linear-gradient(135deg, #374151 0%, #1f2937 100%)"}}[e]??{background:"#64748b"}}const ob=[{name:"Uncoated",description:"Uncoated (Fresnel ~4% R for glass)",is_hr:!1},{name:"None",description:"Uncoated (Fresnel ~4%)",is_hr:!1},{name:"MgF2",description:"Single-layer MgF AR coating",is_hr:!1},{name:"BBAR",description:"Broadband anti-reflection (400700 nm)",is_hr:!1},{name:"V-Coat 532",description:"V-coat optimized for 532 nm",is_hr:!1},{name:"V-Coat 1064",description:"V-coat optimized for 1064 nm",is_hr:!1},{name:"Protected Silver",description:"Protected silver mirror (~97.5% R)",is_hr:!1},{name:"Protected Gold",description:"Protected gold mirror (~98% R)",is_hr:!1},{name:"Protected Aluminum",description:"Protected aluminum mirror (~92% R)",is_hr:!1},{name:"HR",description:"High reflectivity mirror (>99.5%)  reflects instead of refracts",is_hr:!0}];async function N7(){const e=t=>t.map(n=>{const r=n;return{name:r.name??"",description:r.description??"",is_hr:r.is_hr??!1}});try{const t=await fetch(`${nu}/api/coatings`);if(t.ok){const n=await t.json();if(Array.isArray(n))return e(n)}}catch{}try{const t=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=t.endsWith("/")?`${t}coatings_library.json`:`${t}/coatings_library.json`,r=typeof location<"u"?new URL(n,location.href).href:n,i=await fetch(r);if(i.ok){const o=await i.json();if(Array.isArray(o))return e(o)}}catch{}return ob}const O7=ob.map(e=>({...e,category:e.is_hr?"HR":"AR",source:"builtin"}));async function j7(){const e=t=>t.map(n=>{const r=n;return{name:r.name??"",description:r.description??"",is_hr:r.is_hr??!1,category:r.category??(r.is_hr?"HR":"AR"),source:r.source==="custom"?"custom":"builtin"}});try{const t=await fetch(`${nu}/api/coatings/library`);if(t.ok){const n=await t.json();if(Array.isArray(n)){const r=e(n);if(r.length>0)return r}}}catch{}try{const t=typeof import.meta<"u"&&"/PhotonLeap/"||"/",n=t.endsWith("/")?`${t}coatings_library.json`:`${t}/coatings_library.json`,r=typeof location<"u"?new URL(n,location.href).href:n,i=await fetch(r);if(i.ok){const o=await i.json();if(Array.isArray(o))return e(o)}}catch{}return O7}async function y_(e){try{const t=await fetch(`${nu}/api/coatings/${encodeURIComponent(e)}/definition`);if(!t.ok)return null;const n=await t.json();return{name:n.name??e,data_type:n.data_type??"constant",constant_value:n.constant_value,data_points:n.data_points,is_hr:n.is_hr??!1}}catch{return null}}async function T7(e){const t=await fetch(`${nu}/api/coatings/custom`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.text();throw new Error(r||"Failed to create coating")}const n=await t.json();return{name:n.name??"",description:n.description??"",is_hr:n.type==="HR"}}async function x_(e,t,n,r=5){try{const i=new URLSearchParams({min_nm:String(t),max_nm:String(n),step_nm:String(r)}),o=await fetch(`${nu}/api/coatings/${encodeURIComponent(e)}/reflectivity?${i}`);if(!o.ok)throw new Error("Failed to fetch");const l=(await o.json())?.points;if(!Array.isArray(l))throw new Error("Invalid response");return l.map(u=>({wavelength:Number(u.wavelength)||0,reflectivity:Number(u.reflectivity)??0}))}catch{return _7(e,t,n,r)}}function _7(e,t,n,r){const i=[],o=s=>{switch(e){case"Uncoated":case"None":return .04;case"MgF2":return .013*(1+.1*(s/550-1)**2);case"BBAR":return s>=400&&s<=700?.004+.001*Math.abs(s-550)/150:.01;case"V-Coat 355":return .0025+.01*Math.min(Math.abs(s-355)/30,1);case"V-Coat 532":return .0025+.01*Math.min(Math.abs(s-532)/50,1);case"V-Coat 633":return .0025+.01*Math.min(Math.abs(s-633)/50,1);case"V-Coat 1064":return .0025+.01*Math.min(Math.abs(s-1064)/100,1);case"V-Coat 1550":return .0025+.01*Math.min(Math.abs(s-1550)/100,1);case"Protected Silver":return .975;case"Protected Gold":return .98;case"Protected Aluminum":return .92;case"Enhanced Silver":return .985;case"HR":case"HR 355":case"HR 532":case"HR 633":case"HR 1064":case"HR 355nm":case"HR 1064nm":case"HR Broadband":return .995;case"Dielectric MaxReflect":return .999;case"Beamsplitter 50/50":case"Cube 50/50":return .5;case"Beamsplitter 70/30":case"Cube 70/30":return .7;case"Beamsplitter 90/10":return .9;case"Beamsplitter 60/40":return .6;case"Beamsplitter 80/20":return .8;case"Beamsplitter 30/70":return .3;case"Beamsplitter 10/90":return .1;case"Pellicle 8%":return .08;case"Pellicle 45%":return .45;case"Neutral Density 50%":return .25;case"Neutral Density 10%":return .45;case"Neutral Density 1%":return .495;default:return .04}};for(let s=t;s<=n;s+=r)i.push({wavelength:s,reflectivity:o(s)});return i}const cs=180,Sr=80,ht={left:36,right:8,top:6,bottom:24};function D7({points:e,systemWavelengthNm:t,minNm:n,maxNm:r,coatingName:i,className:o=""}){if(!e.length)return null;const s=n,l=r,u=l-s||1,d=cs-ht.left-ht.right,f=Sr-ht.top-ht.bottom,p=E=>ht.left+(E-s)/u*d,m=Math.max(...e.map(E=>E.reflectivity),.01),v=Math.min(1,m*1.2),x=e.map((E,N)=>`${N===0?"M":"L"} ${p(E.wavelength)} ${ht.top+f-E.reflectivity/v*f}`).join(" "),w=p(t),b=t>=s&&t<=l,k=e.reduce((E,N)=>Math.abs(E.wavelength-t)<=Math.abs(N.wavelength-t)?E:N).reflectivity;return y.jsxs("div",{className:o,children:[i&&y.jsx("div",{className:"text-[10px] font-medium text-slate-300 mb-0.5 truncate",title:i,children:i}),y.jsxs("svg",{width:cs,height:Sr,className:"block",viewBox:`0 0 ${cs} ${Sr}`,children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"reflectivityGrad",x1:"0",y1:"1",x2:"0",y2:"0",children:[y.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:"0.3"}),y.jsx("stop",{offset:"100%",stopColor:"#22d3ee",stopOpacity:"0"})]})}),y.jsx("line",{x1:ht.left,y1:ht.top,x2:ht.left,y2:Sr-ht.bottom,stroke:"#334155",strokeWidth:"0.5"}),y.jsx("line",{x1:ht.left,y1:Sr-ht.bottom,x2:cs-ht.right,y2:Sr-ht.bottom,stroke:"#334155",strokeWidth:"0.5"}),y.jsx("text",{x:ht.left-4,y:ht.top+4,className:"fill-slate-500",fontSize:"8",textAnchor:"end",children:"R"}),y.jsx("text",{x:ht.left,y:Sr-4,className:"fill-slate-500",fontSize:"8",textAnchor:"middle",children:s}),y.jsx("text",{x:cs-ht.right,y:Sr-4,className:"fill-slate-500",fontSize:"8",textAnchor:"middle",children:l}),y.jsx("text",{x:(ht.left+cs-ht.right)/2,y:Sr-4,className:"fill-slate-500",fontSize:"8",textAnchor:"middle",children:" (nm)"}),b&&y.jsx("line",{x1:w,y1:ht.top,x2:w,y2:Sr-ht.bottom,stroke:"#22d3ee",strokeWidth:"1",strokeDasharray:"3 2",opacity:.8}),y.jsx("path",{d:`${x} L ${p(e[e.length-1].wavelength)} ${Sr-ht.bottom} L ${p(e[0].wavelength)} ${Sr-ht.bottom} Z`,fill:"url(#reflectivityGrad)"}),y.jsx("path",{d:x,fill:"none",stroke:"#22d3ee",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),b&&y.jsxs("g",{children:[y.jsx("circle",{cx:w,cy:ht.top+f-k/v*f,r:"2.5",fill:"#22d3ee"}),y.jsxs("text",{x:w,y:ht.top-2,className:"fill-cyan-electric",fontSize:"7",textAnchor:"middle",fontWeight:"600",children:[t," nm"]}),y.jsxs("text",{x:w+2,y:ht.top+f-k/v*f,className:"fill-slate-300",fontSize:"7",textAnchor:"start",children:["R=",(k*100).toFixed(2),"%"]})]})]})]})}function M7(e){const t=e.surfaceQuality?.trim()||"3/2",n=e.radiusTolerance??e.thicknessTolerance;return n!=null&&n>0?`${t}(${n.toFixed(2)})`:t}function I7(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(n),n+=e[r].thickness??0;return t}function Hg(e,t,n,r=24){const i=[];if(Math.abs(t)<.1)i.push([e,-n],[e,n]);else{const o=t;for(let s=0;s<=r;s++){const u=(s/r-.5)*2*n,d=Math.max(0,o*o-u*u),f=o-Math.sign(o)*Math.sqrt(d);i.push([e+f,u])}}return i}function R7(e,t){return e.length<=t?e:e.slice(0,t-1)+""}function ff(e,t){const{projectName:n,date:r,drawnBy:i="MacOptics",width:o=1400,height:s=1e3}=t,l=e.surfaces,u=e.entrancePupilDiameter??10,d=I7(l),f=d.length?d[d.length-1]+(l[l.length-1]?.thickness??0):0,m=(l.length?Math.max(u,...l.map(ve=>ve.diameter??u)):u)/2+8,v=50,x=50,w=(o-v*2-x)/2,b=s-v*2-120,C=Math.max(f+50,60),k=(w-80)/C,E=b/(2*m+30),N=Math.min(k,E,10),T=v+60,O=v+50+b/2,_=(ve,Me)=>`${(T+ve*N).toFixed(2)},${(O-Me*N).toFixed(2)}`,D=[];for(let ve=0;ve<l.length;ve++){const Me=l[ve],He=d[ve]??0,Ke=(Me.diameter??u)/2,pt=Hg(He,Me.radius,Ke);if(pt.length>=2){D.push(`M ${_(pt[0][0],pt[0][1])}`);for(let at=1;at<pt.length;at++)D.push(`L ${_(pt[at][0],pt[at][1])}`)}}const V=D.join(" "),q=[];for(let ve=0;ve<l.length-1;ve++){const Me=l[ve],He=l[ve+1];if((Me.refractiveIndex??1)<=1.01)continue;const Ke=d[ve]??0,pt=d[ve+1]??Ke+Me.thickness,at=(Me.diameter??u)/2,ln=Hg(Ke,Me.radius,at),Ot=Hg(pt,He.radius,(He.diameter??u)/2).reverse(),jn=[...ln,...Ot];if(jn.length>=3){const pr="M "+jn.map(([qn,Uo])=>_(qn,Uo)).join(" L ")+" Z";q.push(pr)}}const G=[],$=[],U=4,ce=6,ue=22,ge=32,Q=O-m*N-35,Y=O+m*N+28,ee=[];for(let ve=0;ve<l.length-1;ve++){const Me=l[ve],He=d[ve]??0,Ke=d[ve+1]??He+Me.thickness,pt=T+He*N,at=T+Ke*N;ee.push({i:ve,midX:(pt+at)/2,x1:pt,x2:at,ct:Me.thickness??0})}const ne=[];for(const ve of ee){const Me=ve.midX-ge,He=ve.midX+ge;let Ke=0;for(;Ke<ce;Ke++){const Ot=ne.find(jn=>jn.band===Ke);if(!Ot||Ot.maxRight<Me){Ot?Ot.maxRight=He:ne.push({band:Ke,maxRight:He});break}}if(Ke>=ce){Ke=0;const Ot=ne.find(jn=>jn.band===0);Ot?Ot.maxRight=Math.max(Ot.maxRight,He):ne.push({band:0,maxRight:He})}const pt=Ke<ce/2,at=pt?Q+14+Ke%3*(ue/2):Y-14-Ke%3*(ue/2),ln=pt?Q+Ke%3*(ue/2)-2:Y+Ke%3*(ue/2)+14;G.push(`M ${ve.x1.toFixed(2)} ${O} L ${ve.x1.toFixed(2)} ${at}`,`M ${ve.x2.toFixed(2)} ${O} L ${ve.x2.toFixed(2)} ${at}`,`M ${ve.x1.toFixed(2)} ${at} L ${ve.x2.toFixed(2)} ${at}`,`M ${ve.x1.toFixed(2)} ${(at-U).toFixed(2)} L ${ve.x1.toFixed(2)} ${(at+U).toFixed(2)}`,`M ${ve.x2.toFixed(2)} ${(at-U).toFixed(2)} L ${ve.x2.toFixed(2)} ${(at+U).toFixed(2)}`),$.push({x:ve.midX,y:ln,text:`CT ${ve.ct.toFixed(2)} mm`})}const L=O+m*N+68,W=T,ie=T+f*N;G.push(`M ${W.toFixed(2)} ${O} L ${W.toFixed(2)} ${L}`,`M ${ie.toFixed(2)} ${O} L ${ie.toFixed(2)} ${L}`,`M ${W.toFixed(2)} ${L} L ${ie.toFixed(2)} ${L}`,`M ${W.toFixed(2)} ${(L-U).toFixed(2)} L ${W.toFixed(2)} ${(L+U).toFixed(2)}`,`M ${ie.toFixed(2)} ${(L-U).toFixed(2)} L ${ie.toFixed(2)} ${(L+U).toFixed(2)}`),$.push({x:(W+ie)/2,y:L+14,text:`TOTAL ${f.toFixed(2)} mm`});const ae=v+w+x+10,de=v+36,X=26,B=[44,56,100,72],te=B.reduce((ve,Me)=>ve+Me,0),R=["Surf","S/D 3/2","Material","CT (mm)"];let re=`<text x="${ae}" y="${v+22}" font-size="9" fill="#64748b">Surface Quality (Scratch/Dig) per ISO 10110  see S/D column</text>`;for(let ve=0;ve<=l.length;ve++){const Me=de+ve*X;let He=ae;for(let Ke=0;Ke<B.length;Ke++){const pt=B[Ke];re+=`<rect x="${He}" y="${Me}" width="${pt}" height="${X}" fill="${ve===0?"rgba(30,41,59,0.95)":"rgba(15,23,42,0.95)"}" stroke="#475569" stroke-width="0.8"/>`;const at=He+pt/2,ln=Me+X/2+4;if(ve===0)re+=`<text x="${at}" y="${ln}" font-size="11" font-weight="bold" fill="#94a3b8" text-anchor="middle">${Wd(R[Ke])}</text>`;else{const Ot=l[ve-1],jn=ve>1?l[ve-2]?.thickness??0:null,pr=M7(Ot),qn=R7(Ot.material||(Ot.type==="Air"?"Air":""),14),Uo=Ke===0?String(ve):Ke===1?pr:Ke===2?qn:jn!=null?jn.toFixed(2):"";re+=`<text x="${at}" y="${ln}" font-size="10" fill="#e2e8f0" text-anchor="middle">${Wd(Uo)}</text>`}He+=pt}}const fe=(l.length+1)*X,I=ae,Ce=de+fe+20,we=te,Ye=98,ze=28,rt=12,xe=82,it=[{label:"Project Name:",value:n||""},{label:"Date:",value:r},{label:"Drawn By:",value:i}];let On=`<rect x="${I}" y="${Ce}" width="${we}" height="${Ye}" fill="rgba(30,41,59,0.95)" stroke="#475569" stroke-width="1" rx="4"/>`;return it.forEach((ve,Me)=>{const He=Ce+rt+Me*ze,Ke=I+rt,pt=I+xe+rt,at=we-xe-rt*2;On+=`<text x="${Ke}" y="${He+18}" font-size="10" fill="#94a3b8">${Wd(ve.label)}</text>`,On+=`<rect x="${pt}" y="${He+2}" width="${at}" height="${ze-4}" fill="rgba(15,23,42,0.9)" stroke="#334155" stroke-width="0.5" rx="2"/>`,On+=`<text x="${pt+8}" y="${He+18}" font-size="10" fill="#e2e8f0">${Wd(ve.value)}</text>`}),`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${o} ${s}" width="${o}" height="${s}">
  <defs>
    <style>.dim-line { stroke: #64748b; stroke-width: 0.8; fill: none; }</style>
  </defs>
  <rect width="100%" height="100%" fill="#0f172a"/>
  <text x="${v}" y="${v+12}" font-size="14" font-weight="bold" fill="#22D3EE">ISO 10110 Optical Drawing</text>

  <!-- Cross-section (left) - data-type="optical-surface" for LENS-X SVG import -->
  <path d="${V}" fill="none" stroke="#22D3EE" stroke-width="1.5" data-type="optical-surface"/>
  ${q.map(ve=>`<path d="${ve}" fill="rgba(34,211,238,0.15)" stroke="#22D3EE" stroke-width="1" data-type="optical-surface"/>`).join(`
  `)}

  <!-- Dimension lines -->
  ${G.map(ve=>`<path d="${ve}" class="dim-line"/>`).join(`
  `)}
  ${$.map(ve=>`<text x="${ve.x}" y="${ve.y}" font-size="10" fill="#94a3b8" text-anchor="middle">${ve.text}</text>`).join(`
  `)}

  <!-- Data table (right)  Surface Quality note placed here to avoid overlap with dimension labels -->
  ${re}

  <!-- Title block -->
  ${On}
</svg>`}function Wd(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const NC=["1.0"];function b_(e,t={}){const{projectName:n="Untitled",date:r=new Date().toISOString().slice(0,10),drawnBy:i="MacOptics",entrancePupilDiameter:o=10,referenceWavelengthNm:s=587.6,mcIterations:l=1e3,mcSeed:u=42,targetYield:d=.95,width:f=800,height:p=570,customCoatingData:m={}}=t,v=e.map(b=>{const C={};b.refractiveIndex!=null&&(C.refractive_index=b.refractiveIndex),b.sellmeierCoefficients&&(C.sellmeier=b.sellmeierCoefficients),b.coating&&(C.coating=b.coating);const k=b.coatingDataPoints!=null?"table":"constant",E=b.coatingDataPoints!=null||b.coatingConstantValue!=null?{data_type:k,data_points:b.coatingDataPoints,constant_value:b.coatingConstantValue,is_hr:b.coatingIsHr}:b.coating?m[b.coating]:void 0;E&&(E.data_type==="table"&&E.data_points?.length?C.coating_r_table=E.data_points:E.data_type==="constant"&&E.constant_value!=null&&(C.coating_constant_r=E.constant_value),E.is_hr!=null&&(C.coating_is_hr=E.is_hr));const N=b.radius??0,T=N===0||typeof N=="number"&&Math.abs(N)<.01,O=b.tiltTolerance??0;return{radius:T?"infinity":N,thickness:b.thickness??0,aperture:(b.diameter??25)/2,material:b.material??(b.type==="Air"?"Air":"N-BK7"),type:b.type??(b.refractiveIndex>1.01?"Glass":"Air"),description:b.description??"",...b.semanticName&&{semantic_name:b.semanticName},...b.aiContext&&{ai_context:b.aiContext},physics:Object.keys(C).length>0?C:void 0,manufacturing:{surface_quality:b.surfaceQuality??"3/2",radius_tolerance:b.radiusTolerance??0,thickness_tolerance:b.thicknessTolerance??0,tilt_tolerance:O},tolerances:{radius_tol:b.radiusTolerance??0,thickness_tol:b.thicknessTolerance??0,decenter_x:b.decenterX??0,decenter_y:b.decenterY??0,tilt_x:O,tilt_y:O,index_tol:0}}}),x=s??587.6,w=ff({surfaces:e,entrancePupilDiameter:o},{projectName:n,date:r,drawnBy:i,width:f,height:p});return{lens_x_version:"1.0",metadata:{project_name:n,date:r,drawn_by:i},system_settings:{mc_iterations:l,mc_seed:u,target_yield:d},optics:{surfaces:v,entrance_pupil_diameter:o,reference_wavelength_nm:x},geometry:{svg_path:w}}}function L7(e){if(!e||typeof e!="object")throw new Error("Invalid LENS-X: expected an object");const t=e,n=t.lens_x_version;if(typeof n!="string"||!NC.includes(n))throw new Error(`Invalid LENS-X: missing or unsupported lens_x_version. Expected one of: ${NC.join(", ")}`);const r=t.optics;if(!r||typeof r!="object")throw new Error("Invalid LENS-X: missing optics block");const i=r,o=i.surfaces;if(!Array.isArray(o))throw new Error("Invalid LENS-X: optics.surfaces must be an array");let s=!0;const l=o.map((v,x)=>{if(!v||typeof v!="object")throw new Error(`Invalid LENS-X: surface ${x+1} is not an object`);const w=v,b=w.radius,C=b==="infinity"||b==="inf"||b==="flat"||b===0?0:typeof b=="number"?b:0,k=typeof w.thickness=="number"?w.thickness:0,E=typeof w.aperture=="number"?w.aperture:12.5,N=Math.max(.1,2*E),T=String(w.material||(w.type==="Air"?"Air":"N-BK7")).trim(),_=String(w.type||"Glass").trim().toLowerCase()==="air"||T.toLowerCase()==="air",D=_?"Air":"Glass",V=w.physics||{},q=D==="Air"?1:typeof V.refractive_index=="number"?V.refractive_index:1.52,G=w.manufacturing||{},$={id:crypto.randomUUID(),type:D,radius:C,thickness:k,refractiveIndex:q,diameter:N,material:_?"Air":T,description:String(w.description||`Surface ${x+1}`),...typeof w.semantic_name=="string"&&w.semantic_name&&{semanticName:w.semantic_name},...typeof w.ai_context=="string"&&{aiContext:w.ai_context}};if(V.sellmeier&&typeof V.sellmeier=="object"){const ue=V.sellmeier;Array.isArray(ue.B)&&Array.isArray(ue.C)&&($.sellmeierCoefficients={B:ue.B,C:ue.C})}V.coating&&typeof V.coating=="string"&&($.coating=V.coating.trim()),Array.isArray(V.coating_r_table)&&V.coating_r_table.length>0&&($.coatingDataPoints=V.coating_r_table.map(ue=>({wavelength:Number(ue?.wavelength)||0,reflectivity:Number(ue?.reflectivity)??0}))),typeof V.coating_constant_r=="number"&&($.coatingConstantValue=V.coating_constant_r),typeof V.coating_is_hr=="boolean"&&($.coatingIsHr=V.coating_is_hr),G.surface_quality&&($.surfaceQuality=String(G.surface_quality)),typeof G.radius_tolerance=="number"&&($.radiusTolerance=G.radius_tolerance),typeof G.thickness_tolerance=="number"&&($.thicknessTolerance=G.thickness_tolerance),typeof G.tilt_tolerance=="number"&&($.tiltTolerance=G.tilt_tolerance);const U=w.tolerances||{};return U&&typeof U=="object"&&Object.keys(U).length>0?($.radiusTolerance=typeof U.radius_tol=="number"?U.radius_tol:$.radiusTolerance??0,$.thicknessTolerance=typeof U.thickness_tol=="number"?U.thickness_tol:$.thicknessTolerance??0,$.tiltTolerance=typeof U.tilt_x=="number"?U.tilt_x:typeof U.tilt_y=="number"?U.tilt_y:$.tiltTolerance??0,$.decenterX=typeof U.decenter_x=="number"?U.decenter_x:0,$.decenterY=typeof U.decenter_y=="number"?U.decenter_y:0):(s=!1,$.radiusTolerance=$.radiusTolerance??0,$.thicknessTolerance=$.thicknessTolerance??0,$.tiltTolerance=$.tiltTolerance??0,$.decenterX=0,$.decenterY=0),$}),u=typeof i.entrance_pupil_diameter=="number"?i.entrance_pupil_diameter:$e.defaults.entrancePupilDiameter,d=typeof i.reference_wavelength_nm=="number"?i.reference_wavelength_nm:$e.defaults.defaultWavelength,f=t.metadata||{},p=typeof f.project_name=="string"?f.project_name:void 0,m=t.system_settings||{};return{surfaces:l,entrancePupilDiameter:u,wavelengths:[d],projectName:p,mc_iterations:typeof m.mc_iterations=="number"?m.mc_iterations:void 0,mc_seed:typeof m.mc_seed=="number"?m.mc_seed:void 0,target_yield:typeof m.target_yield=="number"?m.target_yield:void 0,hasTolerancesData:s}}function e0(e){let t;try{t=JSON.parse(e)}catch(n){throw new Error(`Invalid JSON: ${n instanceof Error?n.message:String(n)}`)}return L7(t)}async function F7(e){const t=await e.text();try{return{surfaces:e0(t).surfaces}}catch(n){const r=n instanceof Error?n.message:String(n);throw new Error(`Invalid LENS-X file: ${r}`)}}async function $7(e){const t=(e.name||"").toLowerCase().split(".").pop()??"",n=e.name.toLowerCase().endsWith(".lensx"),r=t==="json",i=t==="svg";if(n||r)try{return await F7(e)}catch(o){throw o}throw i?new Error("SVG import requires the backend server. Use .lensx or .json for standalone mode."):t==="csv"?new Error("CSV import requires the backend server. Use .lensx or .json for standalone mode."):new Error(`Unsupported file type .${t}. Use .lensx, .json, or .svg.`)}function B7(e){if(e.radius===0)return null;const t=e.refractiveIndex??1;return Math.abs(t-1)<1e-9?null:e.radius/(t-1)}function z7(e){const t=e.refractiveIndex??1;if(t<=1)return null;const n=1/t;return n>1?null:Math.asin(n)*180/Math.PI}function w_(e){const t=B7(e),n=z7(e);return{...e,effective_focal_length:t??void 0,critical_angle:n??void 0}}function W7(e,t){return e<=1?0:(e-1)/e*t}function V7(e,t,n){if(e===0||t===0||Math.abs(n-1)<1e-9)return null;const r=e/(n-1);return t/(n-1)-r}function U7(e,t,n,r,i){const o=e.semanticName??`S${i+1}`,s=e.refractiveIndex??1;switch(t){case"thickness":{const l=Number(n)||0,d=(Number(r)||0)-l;if(Math.abs(d)<1e-6)return"";const f=d>0?"Increasing":"Decreasing",p=W7(s,d);if(e.type==="Glass"&&Math.abs(p)>.001){const m=p>=0?`+${p.toFixed(2)}`:p.toFixed(2);return`${f} thickness of ${o} by ${Math.abs(d).toFixed(2)}mm; likely shifting focus by ${m}mm`}return`${f} thickness of ${o} by ${Math.abs(d).toFixed(2)}mm`}case"radius":{const l=Number(n)??0,u=Number(r)??0,d=u-l;if(Math.abs(d)<1e-6)return"";const f=V7(l,u,s);if(f!=null&&Math.abs(f)>.1){const p=f>0?"longer":"shorter";return`Changing curvature of ${o}; effective focal length becomes ${p} by ~${Math.abs(f).toFixed(1)}mm`}return`Changing radius of ${o} from ${l.toFixed(1)} to ${u.toFixed(1)}mm`}case"refractiveIndex":case"material":{const d=(typeof r=="number"?r:s)-(typeof n=="number"?n:1);if(Math.abs(d)<1e-4)return"";const f=d>0?"increases power; shorter focal length":"decreases power; longer focal length";return`Material change on ${o}: n ${d>0?"+":""}${d.toFixed(3)}; ${f}`}case"diameter":{const l=Number(n)??0,d=(Number(r)??0)-l;return Math.abs(d)<1e-6?"":`${d>0?"Larger":"Smaller"} aperture on ${o} by ${Math.abs(d).toFixed(1)}mm; affects vignetting and edge rays`}case"coating":return`Coating change on ${o}; affects reflectivity and power loss`;default:return`Updated ${t} on ${o}`}}const H7=[{name:"Air",n:1},{name:"N-BK7",n:1.5168},{name:"Fused Silica",n:1.458},{name:"N-SF11",n:1.78472},{name:"N-SF5",n:1.6727}],ws="w-full bg-white/5 border border-white/10 rounded px-2 py-1 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50 focus:shadow-[0_0_8px_rgba(34,211,238,0.25)] transition-shadow",ii="w-full bg-white/5 border border-white/10 rounded px-2 py-1 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50 focus:shadow-[0_0_8px_rgba(34,211,238,0.25)] transition-shadow font-mono tabular-nums",OC=["N-BK7","Fused Silica"],jC=["Uncoated","MgF2","BBAR"];function G7({value:e,onChange:t,onClick:n,materials:r,wavelengthNm:i,fallbackN:o}){const[s,l]=P.useState(!1),[u,d]=P.useState(""),f=P.useRef(null),p=P.useRef(null),[m,v]=P.useState({top:0,left:0,width:0}),x=P.useRef(()=>{if(f.current){const _=f.current.getBoundingClientRect();v({top:_.bottom,left:_.left,width:_.width})}}),w=u.trim()?r.filter(_=>_.name.toLowerCase().includes(u.toLowerCase())):r,b=w.filter(_=>OC.includes(_.name)),C=w.filter(_=>!OC.includes(_.name)),k=r.find(_=>_.name.toLowerCase()===e.toLowerCase()),E=k?.coefficients?v_(i,k.coefficients):o,N=P.useRef(t);N.current=t,P.useLayoutEffect(()=>{s&&f.current&&(x.current(),f.current.focus())},[s]),P.useEffect(()=>{if(!s)return;const _=()=>x.current();return window.addEventListener("scroll",_,!0),window.addEventListener("resize",_),()=>{window.removeEventListener("scroll",_,!0),window.removeEventListener("resize",_)}},[s]),P.useEffect(()=>{const _=D=>{const V=D.target;f.current?.contains(V)||p.current?.contains(V)||(u.trim()&&u!==e&&N.current(u.trim()),d(""),l(!1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[u,e,s]);const T=_=>{const D=_.coefficients,V=D&&Array.isArray(D.B)&&Array.isArray(D.C)&&D.B.length>=3&&D.C.length>=3?{B:D.B,C:D.C}:void 0;t(_.name,_.n,V),d(""),l(!1)},O=s&&Ms.createPortal(y.jsxs(Ze.div,{ref:p,initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:"fixed z-[9999] min-w-[12rem] max-h-64 overflow-auto rounded-lg border border-slate-700 bg-slate-900/95 shadow-2xl backdrop-blur-xl",style:{top:m.top+4,left:m.left,width:Math.max(m.width,192)},children:[y.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-2 border-b border-slate-700 bg-slate-900/95 px-2 py-1.5",children:[y.jsx(js,{className:"w-4 h-4 shrink-0 text-slate-400",strokeWidth:2}),y.jsx("input",{type:"text",value:u,onChange:_=>d(_.target.value),placeholder:"Search materials...",className:"flex-1 bg-transparent text-sm text-slate-200 placeholder:text-slate-500 focus:outline-none",autoComplete:"off"})]}),y.jsxs("div",{className:"py-1",children:[b.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"Common"}),b.map(_=>y.jsxs("button",{type:"button",onClick:D=>{D.stopPropagation(),T(_)},className:"w-full text-left px-2 py-1.5 text-sm hover:bg-cyan-electric/20 text-slate-200 rounded",children:[_.name," ",y.jsxs("span",{className:"text-slate-500",children:["(n=",_.n,")"]})]},_.name))]}),C.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[b.length>0&&y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"All"}),C.map(_=>y.jsxs("button",{type:"button",onClick:D=>{D.stopPropagation(),T(_)},className:"w-full text-left px-2 py-1.5 text-sm hover:bg-cyan-electric/20 text-slate-200 rounded",children:[_.name," ",y.jsxs("span",{className:"text-slate-500",children:["(n=",_.n,")"]})]},_.name))]}),w.length===0&&y.jsx("div",{className:"px-2 py-3 text-sm text-slate-500",children:"No matches"})]})]}),document.body);return y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"flex gap-0.5 flex-1 min-w-0",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(js,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"}),y.jsx("input",{ref:f,type:"text",value:s?u:e,onChange:_=>{d(_.target.value),s||l(!0)},onFocus:()=>{d(e),l(!0)},onClick:n,placeholder:"Material...",className:`${ws} pl-8`})]}),y.jsx("button",{type:"button",onClick:_=>{_.stopPropagation(),s||(d(e),x.current(),setTimeout(()=>f.current?.focus(),0)),l(D=>!D)},className:"p-1 rounded bg-white/5 border border-white/10 text-slate-400 hover:text-cyan-electric shrink-0","aria-label":"Toggle material list",children:y.jsx(As,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,strokeWidth:2})})]}),y.jsxs("span",{className:"shrink-0 text-xs font-mono tabular-nums text-slate-500 min-w-[3.5rem]",title:`n at ${(i/1e3).toFixed(3)} m`,children:["n",E.toFixed(3)]}),O]})}function K7({value:e,onChange:t,onClick:n,coatings:r,wavelengthNm:i,wavelengths:o}){const[s,l]=P.useState(!1),[u,d]=P.useState(""),[f,p]=P.useState(null),[m,v]=P.useState({}),[x,w]=P.useState(!1),b=P.useRef(null),C=P.useRef(null),[k,E]=P.useState({top:0,left:0,width:0}),N=e==="None"||!e?"Uncoated":e,T=o.length?Math.max(350,Math.min(...o)-80):400,O=o.length?Math.min(1200,Math.max(...o)+80):700,_=P.useRef(()=>{if(b.current){const Q=b.current.getBoundingClientRect();E({top:Q.bottom,left:Q.left,width:Q.width})}}),D=u.trim()?r.filter(Q=>Q.name.toLowerCase().includes(u.toLowerCase())||Q.description&&Q.description.toLowerCase().includes(u.toLowerCase())):r,V=D.filter(Q=>jC.includes(Q.name)),q=D.filter(Q=>!jC.includes(Q.name)),G=P.useRef(t);G.current=t,P.useLayoutEffect(()=>{s&&b.current&&(_.current(),b.current.focus())},[s]),P.useEffect(()=>{if(!s)return;const Q=()=>_.current();return window.addEventListener("scroll",Q,!0),window.addEventListener("resize",Q),()=>{window.removeEventListener("scroll",Q,!0),window.removeEventListener("resize",Q)}},[s]),P.useEffect(()=>{const Q=Y=>{const ee=Y.target;b.current?.contains(ee)||C.current?.contains(ee)||(d(""),l(!1),p(null))};return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[s]),P.useEffect(()=>{if(!f||m[f])return;let Q=!1;return w(!0),x_(f,T,O,5).then(Y=>{Q||v(ee=>({...ee,[f]:Y})),w(!1)}).catch(()=>w(!1)),()=>{Q=!0}},[f,T,O,m]);const $=Q=>{t(Q.name),d(""),l(!1)},U=Q=>y.jsx("div",{className:"relative",onMouseEnter:()=>p(Q.name),onMouseLeave:()=>p(null),children:y.jsxs("button",{type:"button","data-testid":`coating-option-${Q.name.replace(/\s+/g,"-")}`,onClick:Y=>{Y.stopPropagation(),$(Q)},className:"w-full text-left px-2 py-1.5 text-sm hover:bg-cyan-electric/20 text-slate-200 rounded flex items-center gap-2",children:[y.jsx("span",{className:"shrink-0 w-3 h-3 rounded-full border border-white/20",style:EC(Q.name),title:Q.description}),y.jsx("span",{children:Q.name})]})},Q.name),ce=Math.max(k.width,192),ue=s&&f&&Ms.createPortal(y.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.15},className:"fixed z-[10000] rounded-lg border border-slate-700 bg-slate-900/95 shadow-2xl backdrop-blur-xl p-2",style:{top:k.top+4,left:k.left+ce+8},children:x?y.jsx("div",{className:"w-[180px] h-[80px] flex items-center justify-center text-slate-500 text-xs",children:"Loading"}):m[f]?y.jsx(D7,{points:m[f],systemWavelengthNm:i,minNm:T,maxNm:O,coatingName:f}):null}),document.body),ge=s&&Ms.createPortal(y.jsxs(Ze.div,{ref:C,initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:"fixed z-[9999] min-w-[12rem] max-h-64 overflow-auto rounded-lg border border-slate-700 bg-slate-900/95 shadow-2xl backdrop-blur-xl",style:{top:k.top+4,left:k.left,width:ce},children:[y.jsxs("div",{className:"sticky top-0 z-10 flex items-center gap-2 border-b border-slate-700 bg-slate-900/95 px-2 py-1.5",children:[y.jsx(js,{className:"w-4 h-4 shrink-0 text-slate-400",strokeWidth:2}),y.jsx("input",{type:"text",value:u,onChange:Q=>d(Q.target.value),placeholder:"Search coatings...",className:"flex-1 bg-transparent text-sm text-slate-200 placeholder:text-slate-500 focus:outline-none",autoComplete:"off"})]}),y.jsxs("div",{className:"py-1",children:[V.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"Common"}),V.map(U)]}),q.length>0&&y.jsxs("div",{className:"px-2 py-1",children:[V.length>0&&y.jsx("div",{className:"text-[10px] font-medium uppercase tracking-wider text-slate-500 mb-0.5",children:"All"}),q.map(U)]}),D.length===0&&y.jsx("div",{className:"px-2 py-3 text-sm text-slate-500",children:"No matches"})]})]}),document.body);return y.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[y.jsxs("div",{className:"flex gap-0.5 flex-1 min-w-0",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(js,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"}),y.jsx("input",{ref:b,type:"text",value:s?u:N,onChange:Q=>{d(Q.target.value),s||l(!0)},onFocus:()=>{d(N),l(!0)},onClick:n,placeholder:"Coating...",className:`${ws} pl-8`})]}),y.jsx("button",{type:"button",onClick:Q=>{Q.stopPropagation(),s||(d(N),_.current(),setTimeout(()=>b.current?.focus(),0)),l(Y=>!Y)},className:"p-1 rounded bg-white/5 border border-white/10 text-slate-400 hover:text-cyan-electric shrink-0","aria-label":"Toggle coating list",children:y.jsx(As,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,strokeWidth:2})})]}),y.jsx("span",{className:"shrink-0 w-3 h-3 rounded-full border border-white/20",style:EC(N),title:r.find(Q=>Q.name===N)?.description}),ge,ue]})}function q7(e){if(!e?.length)return new Set;const t=Math.max(...e);if(t<=0)return new Set;const n=new Set;return e.forEach((r,i)=>{r>=t*.9&&n.add(i)}),n}function Y7({systemState:e,onSystemStateChange:t,onLoadComplete:n,selectedSurfaceId:r,onSelectSurface:i,sensitivityBySurface:o,onSemanticDelta:s}){const l=e.surfaces,u=q7(o),[d,f]=P.useState(H7),[p,m]=P.useState(ob),[v,x]=P.useState(null),[w,b]=P.useState(null),[C,k]=P.useState(new Set),[E,N]=P.useState(null),T=P.useRef(null),O=P.useRef(null);P.useEffect(()=>{E7().then(f)},[]),P.useEffect(()=>{N7().then(m)},[]),P.useEffect(()=>{if(d.length<=5||!l.some(R=>R.type==="Glass"&&R.material&&R.material!=="Air"&&!(R.sellmeierCoefficients?.B&&R.sellmeierCoefficients.B.length>=3)))return;const B=new Map(d.map(R=>[R.name.toLowerCase(),R])),te=l.map(R=>{if(R.type!=="Glass"||!R.material||R.material==="Air"||R.sellmeierCoefficients?.B&&R.sellmeierCoefficients.B.length>=3)return R;const fe=B.get(R.material.toLowerCase())?.coefficients;return!fe?.B||!fe?.C||fe.B.length<3?R:{...R,sellmeierCoefficients:{B:fe.B,C:fe.C}}});te.some((R,re)=>R!==l[re])&&t(R=>({...R,surfaces:te}))},[d,l,t]),P.useEffect(()=>{if(!v)return;const X=setTimeout(()=>x(null),$e.toastDuration);return()=>clearTimeout(X)},[v]);const _=r!=null?l.findIndex(X=>X.id===r):l.length,D=_>=0?_:l.length,V=()=>{T.current?.click()},q=()=>{O.current?.click()},G=async X=>{const B=X.target.files?.[0];if(X.target.value="",!B)return;if(!(B.name.toLowerCase().endsWith(".lensx")||B.name.toLowerCase().endsWith(".json"))){x("Please select a .lensx or .json file.");return}try{const R=await B.text();e0(R),N({content:R,fileName:B.name})}catch(R){x(R instanceof Error?R.message:"Invalid LENS-X file")}},$=()=>{if(E)try{const{surfaces:X,entrancePupilDiameter:B,wavelengths:te,projectName:R,mc_iterations:re,mc_seed:fe,target_yield:I,hasTolerancesData:Ce}=e0(E.content);t(we=>({...we,surfaces:X,entrancePupilDiameter:B,wavelengths:te,projectName:R,...re!=null&&{mc_iterations:re},...fe!=null&&{mc_seed:fe},...I!=null&&{target_yield:I},traceResult:null,traceError:null,pendingTrace:!0})),x(Ce?"Project loaded successfully.":"Project loaded without tolerance data."),N(null)}catch(X){x(X instanceof Error?X.message:"Failed to load project")}},U=()=>{N(null)},ce=async()=>{const X=new Date().toISOString().slice(0,10),B={},te=[...new Set(l.map(Ce=>Ce.coating).filter(Boolean))];for(const Ce of te){const we=l.find(ze=>ze.coating===Ce);if(we?.coatingDataPoints!=null||we?.coatingConstantValue!=null)continue;const Ye=await y_(Ce);Ye&&(B[Ce]={data_type:Ye.data_type,constant_value:Ye.constant_value,data_points:Ye.data_points,is_hr:Ye.is_hr})}const R=b_(l,{projectName:e.projectName??"Untitled",date:X,drawnBy:"MacOptics",entrancePupilDiameter:e.entrancePupilDiameter,referenceWavelengthNm:e.wavelengths[0]??587.6,mcIterations:e.mc_iterations??1e3,mcSeed:e.mc_seed??42,targetYield:e.target_yield??.95,customCoatingData:B}),re=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),fe=URL.createObjectURL(re),I=document.createElement("a");I.href=fe,I.download=`project_${X}.lensx`,I.click(),URL.revokeObjectURL(fe),x("Project saved successfully as Lens-X.")},ue=async X=>{const B=X.target.files?.[0];if(X.target.value="",!!B){console.log("File selected:",B.name),x("Processing Drawing...");try{console.log("Reading file content locally (no fetch)...");const{surfaces:te}=await $7(B);if(x(null),te.length===0){x("No surfaces found in file.");return}k(new Set),b({surfaces:te,insertIndex:D})}catch(te){x(te instanceof Error?te.message:"Import failed")}}},ge=X=>{k(B=>{const te=new Set(B);return te.has(X)?te.delete(X):te.add(X),te})},Q=X=>{const B=(X.description||"").toLowerCase();return!!(/arrow|text|dimension|label|annot|axis|tick|mark/.test(B)||X.diameter<2.5||X.radius===0&&X.thickness<.5)},Y=()=>{if(!w)return;const X=w.surfaces.filter(Q).map(B=>B.id);k(B=>{const te=new Set(B);return X.forEach(R=>te.add(R)),te})},ee=()=>{if(!w)return;const X=w.surfaces.filter(B=>!C.has(B.id));X.length>0&&(t(B=>{const te=[...B.surfaces];return te.splice(w.insertIndex,0,...X),{...B,surfaces:te,traceResult:null,traceError:null}}),x(X.length>1?`Imported ${X.length} surfaces from ISO drawing.`:"Imported 1 surface from ISO drawing.")),b(null),k(new Set)},ne=()=>{b(null),k(new Set)},L=()=>W(0),W=X=>{const B=$e.surfaceDefaults,te={id:crypto.randomUUID(),semanticName:`S${X+1}`,aiContext:"",type:"Air",radius:0,thickness:B.thickness,refractiveIndex:1,diameter:B.diameter,material:"Air",description:"New surface",coating:"Uncoated"};t(R=>{const re=[...R.surfaces];return re.splice(X,0,te),{...R,surfaces:re,traceResult:null,traceError:null}})},ie=X=>{t(B=>({...B,surfaces:B.surfaces.filter(te=>te.id!==X),traceResult:null,traceError:null})),r===X&&i(null)},ae=(X,B,te)=>{const R=l.find(fe=>fe.id===X),re=R!=null?l.indexOf(R):-1;if(R!=null&&s&&re>=0){const fe=new Set(["semanticName","aiContext"]),I=te?[te]:Object.keys(B);for(const Ce of I){if(fe.has(Ce))continue;const we=B[Ce];if(we!==void 0&&R[Ce]!==we){const Ye=U7(R,Ce,R[Ce],we,re);Ye&&s({surfaceId:X,surfaceIndex:re,semanticName:R.semanticName??`S${re+1}`,field:Ce,oldValue:R[Ce],newValue:we,physicalImplication:Ye});break}}}t(fe=>({...fe,surfaces:fe.surfaces.map(I=>I.id===X?{...I,...B}:I),traceResult:null,traceError:null}))},de=X=>{if(!X.destination||X.source.index===X.destination.index)return;const B=X.source.index,te=X.destination.index;t(R=>{const re=[...R.surfaces],[fe]=re.splice(B,1);return re.splice(te,0,fe),{...R,surfaces:re,traceResult:null,traceError:null,pendingTrace:!0}})};return y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg",children:"System Editor"}),y.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-slate-800/50 backdrop-blur-sm border border-white/10 px-2 py-1.5",children:[y.jsx("input",{ref:O,type:"file",accept:".lensx,.json",onChange:G,className:"hidden","aria-hidden":!0,"data-testid":"load-project-input"}),y.jsx("input",{ref:T,type:"file",accept:".json,.svg,.csv",onChange:ue,className:"hidden","aria-hidden":!0}),y.jsxs("button",{type:"button","data-testid":"load-project",onClick:q,className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium text-slate-200 hover:text-cyan-electric hover:bg-white/5 transition-colors",children:[y.jsx(O3,{className:"w-4 h-4"}),"Load Project"]}),y.jsxs("button",{type:"button",onClick:ce,className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium text-slate-200 hover:text-cyan-electric hover:bg-white/5 transition-colors",children:[y.jsx($3,{className:"w-4 h-4"}),"Save Project"]})]})]}),y.jsx("div",{className:"flex items-center gap-2 rounded-lg bg-slate-800/50 backdrop-blur-sm border border-white/10 px-2 py-1.5",children:y.jsxs("button",{type:"button",onClick:V,className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium text-slate-200 hover:text-cyan-electric hover:bg-white/5 transition-colors",children:[y.jsx(N3,{className:"w-4 h-4"}),"Add Surface from File"]})})]}),y.jsx("div",{className:"overflow-x-auto overflow-y-visible rounded-lg",children:y.jsx($9,{onDragEnd:de,children:y.jsxs("table",{className:"w-full text-sm border-collapse overflow-visible",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-left text-slate-400 border-b border-white/10 bg-slate-900/40 backdrop-blur-[4px]",children:[y.jsx("th",{className:"w-8 py-2 pr-1","aria-label":"Drag handle"}),y.jsx("th",{className:"py-2 pr-4",children:"#"}),y.jsx("th",{className:"py-2 pr-3",title:"Semantic name for AI (e.g. Primary_Objective)",children:"Name"}),y.jsx("th",{className:"py-2 pr-3",title:"AI-Context: reason for this surface",children:"AI Context"}),y.jsx("th",{className:"py-2 pr-4",children:"Type"}),y.jsx("th",{className:"py-2 pr-4",children:"Radius (mm)"}),y.jsx("th",{className:"py-2 pr-4",children:"Thickness (mm)"}),y.jsx("th",{className:"py-2 pr-4",children:"n"}),y.jsx("th",{className:"py-2 pr-4",children:"Diameter (mm)"}),y.jsx("th",{className:"py-2 pr-4",children:"Material"}),y.jsx("th",{className:"py-2 pr-3",title:"Coating (affects power loss)",children:"Coating"}),y.jsx("th",{className:"py-2 pr-3",title:"Radius  (mm)",children:"R "}),y.jsx("th",{className:"py-2 pr-3",title:"Thickness  (mm)",children:"T "}),y.jsx("th",{className:"py-2 pr-3",title:"Tilt  (deg)",children:"Tilt "}),y.jsx("th",{className:"py-2 pr-3",title:"Decenter X (mm)",children:"Dec X"}),y.jsx("th",{className:"py-2 pr-3",title:"Decenter Y (mm)",children:"Dec Y"}),y.jsx("th",{className:"py-2 pr-3",title:"Absorption (1/cm) thermal",children:""}),y.jsx("th",{className:"py-2 pr-3",title:"ISO 10110 scratch/dig",children:"S/D"}),y.jsx("th",{className:"py-2 w-10"})]})}),y.jsx(A7,{droppableId:"surfaces",children:X=>y.jsxs("tbody",{ref:X.innerRef,...X.droppableProps,children:[y.jsx("tr",{"data-testid":"insert-surface-at-start",onClick:L,className:"border-b border-dashed border-white/20 cursor-pointer bg-slate-900/30 backdrop-blur-[4px] hover:bg-slate-900/50 text-slate-500 hover:text-cyan-electric transition-colors",children:y.jsx("td",{colSpan:19,className:"py-2",children:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Os,{className:"w-4 h-4"}),"Insert surface at start"]})})}),l.map((B,te)=>{const R=u.has(te);return y.jsx(i7,{draggableId:B.id,index:te,children:(re,fe)=>y.jsxs(Ze.tr,{ref:re.innerRef,...re.draggableProps,layout:!0,initial:{opacity:0,y:-8},animate:R?{opacity:1,y:0,backgroundColor:["rgba(239, 68, 68, 0.08)","rgba(239, 68, 68, 0.18)","rgba(239, 68, 68, 0.08)"]}:{opacity:1,y:0},transition:R?{duration:2.5,repeat:1/0,repeatType:"reverse"}:{duration:.2},className:`border-b border-white/10 cursor-pointer transition-all backdrop-blur-[4px] ${fe.isDragging?"opacity-90 shadow-lg":""} ${r===B.id?"border-l-4 border-l-cyan-electric bg-slate-900/50":"border-l-4 border-l-transparent hover:bg-slate-900/50"} ${R?"bg-red-500/10":"bg-slate-900/30"}`,children:[y.jsx("td",{...re.dragHandleProps,className:"py-2 pr-1 text-slate-500 hover:text-cyan-electric cursor-grab active:cursor-grabbing",onClick:I=>I.stopPropagation(),children:y.jsx(j3,{className:"w-4 h-4"})}),y.jsx("td",{className:"py-2 pr-4 text-slate-400",children:te+1}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"text",value:B.semanticName??"",placeholder:`S${te+1}`,onChange:I=>ae(B.id,{semanticName:I.target.value.trim()||void 0}),onClick:I=>I.stopPropagation(),className:`${ws} min-w-[7rem]`,title:"Semantic name for AI context"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"text",value:B.aiContext??"",onChange:I=>ae(B.id,{aiContext:I.target.value.trim()||void 0}),onClick:I=>I.stopPropagation(),placeholder:"e.g. Corrects coma from S1",className:`${ws} min-w-[8rem] text-xs`,title:"AI-Context: hidden context describing surface purpose (for AI)"})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsxs("select",{value:B.type,onChange:I=>ae(B.id,{type:I.target.value}),onClick:I=>I.stopPropagation(),className:ws,children:[y.jsx("option",{value:"Glass",children:"Glass"}),y.jsx("option",{value:"Air",children:"Air"})]})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number","data-testid":`surface-${te}-radius`,value:B.radius,onChange:I=>ae(B.id,{radius:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:ii})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number",value:B.thickness,onChange:I=>ae(B.id,{thickness:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:ii})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number",value:B.refractiveIndex,onChange:I=>ae(B.id,{refractiveIndex:Number(I.target.value)||1}),onClick:I=>I.stopPropagation(),className:ii,step:.01})}),y.jsx("td",{className:"py-2 pr-4",children:y.jsx("input",{type:"number",value:B.diameter,onChange:I=>ae(B.id,{diameter:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:ii})}),y.jsx("td",{className:"py-2 pr-4 overflow-visible",children:y.jsx(G7,{value:B.material,materials:d,wavelengthNm:e.wavelengths[0]??587.6,fallbackN:B.refractiveIndex,onChange:(I,Ce,we)=>{const Ye=d.find(xe=>xe.name.toLowerCase()===I.toLowerCase()),ze=we??Ye?.coefficients,rt=ze&&Array.isArray(ze.B)&&Array.isArray(ze.C)?{B:ze.B,C:ze.C}:void 0;ae(B.id,{material:I,...Ce!=null&&{refractiveIndex:Ce},sellmeierCoefficients:rt,type:I==="Air"?"Air":"Glass"},"material")},onClick:I=>I.stopPropagation()})}),y.jsx("td",{className:"py-2 pr-3 min-w-[8rem]","data-testid":`surface-${te}-coating-cell`,children:y.jsx(K7,{value:B.coating??"",coatings:p,wavelengthNm:e.wavelengths[0]??587.6,wavelengths:e.wavelengths,onChange:I=>ae(B.id,{coating:I||void 0}),onClick:I=>I.stopPropagation()})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:B.radiusTolerance??"",placeholder:"0",min:0,step:.01,onChange:I=>ae(B.id,{radiusTolerance:I.target.value===""?void 0:Math.max(0,Number(I.target.value)||0)}),onClick:I=>I.stopPropagation(),className:`${ii} min-w-[3.5rem]`,title:"Radius tolerance  (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:B.thicknessTolerance??"",placeholder:"0",min:0,step:.01,onChange:I=>ae(B.id,{thicknessTolerance:I.target.value===""?void 0:Math.max(0,Number(I.target.value)||0)}),onClick:I=>I.stopPropagation(),className:`${ii} min-w-[3.5rem]`,title:"Thickness tolerance  (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number","data-testid":`surface-${te}-tilt`,value:B.tiltTolerance??"",placeholder:"0",min:0,step:.01,onChange:I=>ae(B.id,{tiltTolerance:I.target.value===""?void 0:Math.max(0,Number(I.target.value)||0)}),onClick:I=>I.stopPropagation(),className:`${ii} min-w-[3.5rem]`,title:"Tilt tolerance  (deg)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:B.decenterX??"",placeholder:"0",step:.01,onChange:I=>ae(B.id,{decenterX:I.target.value===""?void 0:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:`${ii} min-w-[3.5rem]`,title:"Decenter X (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"number",value:B.decenterY??"",placeholder:"0",step:.01,onChange:I=>ae(B.id,{decenterY:I.target.value===""?void 0:Number(I.target.value)||0}),onClick:I=>I.stopPropagation(),className:`${ii} min-w-[3.5rem]`,title:"Decenter Y (mm)"})}),y.jsx("td",{className:"py-2 pr-3",children:B.type==="Glass"?y.jsx("input",{type:"number",value:B.absorptionCoefficient??"",placeholder:"0",min:0,step:.001,onChange:I=>ae(B.id,{absorptionCoefficient:I.target.value===""?void 0:Math.max(0,Number(I.target.value)||0)}),onClick:I=>I.stopPropagation(),className:`${ii} min-w-[3.5rem]`,title:"Absorption coefficient (1/cm) for thermal lensing"}):y.jsx("span",{className:"text-slate-600 text-xs",children:""})}),y.jsx("td",{className:"py-2 pr-3",children:y.jsx("input",{type:"text",value:B.surfaceQuality??"",placeholder:"3/2",onChange:I=>ae(B.id,{surfaceQuality:I.target.value.trim()||void 0}),onClick:I=>I.stopPropagation(),className:`${ws} min-w-[3rem]`,title:"Surface quality (scratch/dig) per ISO 10110"})}),y.jsx("td",{className:"py-2",children:y.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),ie(B.id)},className:"p-1.5 rounded text-slate-500 hover:text-red-400 hover:bg-white/5","aria-label":"Remove surface",children:y.jsx(bf,{className:"w-4 h-4"})})})]})},B.id)}),X.placeholder,y.jsx("tr",{"data-testid":"insert-surface-at-end",onClick:()=>W(l.length),className:"border-b border-dashed border-white/20 cursor-pointer bg-slate-900/30 backdrop-blur-[4px] hover:bg-slate-900/50 text-slate-500 hover:text-cyan-electric transition-colors",children:y.jsx("td",{colSpan:19,className:"py-2",children:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Os,{className:"w-4 h-4"}),"Insert surface at end"]})})})]})})]})})}),v&&y.jsx(Ze.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0},className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 px-4 py-2 rounded-lg bg-slate-800/95 border border-slate-600 text-slate-200 text-sm shadow-xl backdrop-blur-sm",role:"status","aria-live":"polite",children:v}),Ms.createPortal(y.jsx(zi,{children:w&&y.jsx(Ze.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-xl p-4 sm:p-6",onClick:X=>X.target===X.currentTarget&&ne(),role:"dialog","aria-modal":"true","aria-labelledby":"import-preview-title",children:y.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] rounded-xl border border-slate-600/80 bg-slate-900/80 shadow-2xl backdrop-blur-xl overflow-hidden flex flex-col",onClick:X=>X.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 px-4 py-3 shrink-0",children:[y.jsx("h3",{id:"import-preview-title",className:"text-lg font-semibold text-cyan-electric",children:"Import Preview"}),y.jsx("button",{type:"button",onClick:ne,className:"p-1 rounded text-slate-400 hover:text-slate-200 hover:bg-white/5","aria-label":"Cancel import",children:y.jsx(vc,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"flex-1 overflow-auto p-4 min-h-0",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs("section",{className:"space-y-3",children:[y.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Surfaces to Import"}),y.jsxs("p",{className:"text-xs text-slate-500",children:[w.surfaces.length," surface",w.surfaces.length!==1?"s":""," found. Click a row to toggle. Green = included, gray = ignored."]}),y.jsx("button",{type:"button",onClick:Y,className:"px-3 py-1.5 rounded-lg text-xs font-medium text-slate-400 hover:text-slate-200 hover:bg-white/5 border border-slate-600",children:"Clear All Annotations"}),y.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-700",children:y.jsxs("table",{className:"w-full text-sm min-w-[280px]",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-slate-800/80 text-left text-slate-400",children:[y.jsx("th",{className:"py-2 px-3 w-12",children:"Import"}),y.jsx("th",{className:"py-2 px-3 w-10",children:"#"}),y.jsx("th",{className:"py-2 px-3",children:"Radius (mm)"}),y.jsx("th",{className:"py-2 px-3",children:"Material"}),y.jsx("th",{className:"py-2 px-3",children:"Thickness (mm)"})]})}),y.jsx("tbody",{children:w.surfaces.map((X,B)=>{const te=C.has(X.id);return y.jsxs("tr",{onClick:()=>ge(X.id),className:`border-t border-slate-700/80 cursor-pointer transition-colors ${te?"opacity-50 bg-slate-800/40 hover:bg-slate-800/60":"bg-emerald-500/10 hover:bg-emerald-500/10 border-l-2 border-l-emerald-500"}`,role:"button",tabIndex:0,onKeyDown:R=>{(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),ge(X.id))},"aria-label":`Surface ${B+1}: ${te?"ignored":"included"}, click to toggle`,children:[y.jsx("td",{className:"py-2 px-3",children:y.jsx("input",{type:"checkbox",checked:!te,onChange:()=>ge(X.id),onClick:R=>R.stopPropagation(),className:"rounded border-slate-600 bg-slate-800 text-cyan-electric focus:ring-cyan-electric/50","aria-label":`Include surface ${B+1}`})}),y.jsx("td",{className:"py-2 px-3 text-slate-400",children:B+1}),y.jsx("td",{className:"py-2 px-3 text-slate-200 font-mono",children:X.radius===0?"":X.radius.toFixed(2)}),y.jsx("td",{className:"py-2 px-3 text-slate-200",children:X.material}),y.jsx("td",{className:"py-2 px-3 text-slate-200 font-mono",children:X.thickness.toFixed(2)})]},X.id)})})]})})]}),y.jsxs("section",{className:"space-y-3",children:[y.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Target Location"}),y.jsx("p",{className:"text-xs text-slate-500",children:"Click a drop zone to choose where to insert the imported surfaces."}),y.jsx("div",{className:"rounded-lg border border-slate-700 overflow-hidden space-y-0",children:(()=>{const X=w.surfaces.length-C.size,B=te=>b(R=>R?{...R,insertIndex:te}:null);return y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",onClick:()=>B(0),className:`w-full py-3 px-4 text-left text-sm border-2 border-dashed transition-all hover:bg-cyan-500/20 hover:shadow-[0_0_12px_rgba(34,211,238,0.12)] ${w.insertIndex===0?"bg-cyan-500/20 border-cyan-electric/50":"border-slate-600/80 text-slate-400 hover:border-cyan-electric/30"}`,children:[y.jsx("span",{className:"font-medium text-slate-300",children:"Top of Stack"}),y.jsxs("span",{className:"block text-xs mt-0.5 text-slate-500",children:["Insert ",X," surface",X!==1?"s":""," here"]})]}),l.map((te,R)=>y.jsxs("div",{children:[y.jsxs("div",{className:"py-2 px-4 bg-slate-800/50 border-b border-slate-700/80 text-sm text-slate-300",children:[R+1,". ",te.material,"  R: ",te.radius===0?"":te.radius.toFixed(2)," mm"]}),y.jsx("button",{type:"button",onClick:()=>B(R+1),className:`w-full py-3 px-4 text-left text-sm border-2 border-dashed transition-all hover:bg-cyan-500/20 hover:shadow-[0_0_12px_rgba(34,211,238,0.12)] ${w.insertIndex===R+1?"bg-cyan-500/20 border-cyan-electric/50":"border-slate-600/80 text-slate-400 hover:border-cyan-electric/30"}`,children:y.jsxs("span",{className:"block text-xs text-slate-500",children:["Insert ",X," surface",X!==1?"s":""," here"]})})]},te.id)),y.jsxs("button",{type:"button",onClick:()=>B(l.length),className:`w-full py-3 px-4 text-left text-sm border-2 border-dashed transition-all hover:bg-cyan-500/20 hover:shadow-[0_0_12px_rgba(34,211,238,0.12)] ${w.insertIndex===l.length?"bg-cyan-500/20 border-cyan-electric/50":"border-slate-600/80 text-slate-400 hover:border-cyan-electric/30"}`,children:[y.jsx("span",{className:"font-medium text-slate-300",children:"End of Stack"}),y.jsxs("span",{className:"block text-xs mt-0.5 text-slate-500",children:["Insert ",X," surface",X!==1?"s":""," here"]})]})]})})()})]})]})}),y.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 border-t border-slate-700 px-4 py-3 shrink-0",children:[y.jsx("button",{type:"button",onClick:ne,className:"px-4 py-2 rounded-lg text-sm text-slate-400 hover:text-slate-200 hover:bg-white/5",children:"Cancel"}),y.jsx("button",{type:"button",onClick:ee,disabled:w.surfaces.length-C.size===0,className:"px-4 py-2 rounded-lg text-sm font-medium text-slate-900 bg-cyan-electric hover:bg-cyan-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm Import"})]})]})},"import-preview-modal")}),document.body),Ms.createPortal(y.jsx(zi,{children:E&&y.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-xl p-4",onClick:X=>X.target===X.currentTarget&&U(),role:"dialog","aria-modal":"true","aria-labelledby":"load-confirm-title",children:y.jsxs(Ze.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md rounded-xl border border-slate-600/80 bg-slate-900/80 shadow-2xl backdrop-blur-xl p-6",onClick:X=>X.stopPropagation(),children:[y.jsx("h3",{id:"load-confirm-title",className:"text-lg font-semibold text-cyan-electric mb-3",children:"Load Project"}),y.jsx("p",{className:"text-slate-300 text-sm mb-6",children:"Loading a project will overwrite your current surfaces. Do you want to proceed?"}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{type:"button",onClick:U,className:"px-4 py-2 rounded-lg text-sm text-slate-400 hover:text-slate-200 hover:bg-white/5",children:"Cancel"}),y.jsx("button",{type:"button","data-testid":"load-confirm-proceed",onClick:$,className:"px-4 py-2 rounded-lg text-sm font-medium text-slate-900 bg-cyan-electric hover:bg-cyan-400",children:"Proceed"})]})]})},"load-confirm-modal")}),document.body)]})}function Ff(e){if(e.traceResult?.performance){const l=e.traceResult.performance;return{rmsSpotRadius:l.rmsSpotRadius,totalLength:l.totalLength,fNumber:l.fNumber}}const t=e.surfaces.reduce((l,u)=>l+u.thickness,0),n=e.surfaces[0],r=e.surfaces[1],i=n&&r&&n.radius!==0&&r.radius!==0?1/((n.refractiveIndex-1)*(1/n.radius-1/-r.radius)):100,o=e.entrancePupilDiameter>0?i/e.entrancePupilDiameter:0;return{rmsSpotRadius:e.fieldAngles.length>0?.01*Math.sqrt(e.fieldAngles.reduce((l,u)=>l+u*u,0)/e.fieldAngles.length):0,totalLength:t,fNumber:o}}const hc={entrancePupilDiameter:$e.defaults.entrancePupilDiameter,wavelengths:[...$e.defaults.wavelengths],fieldAngles:[...$e.defaults.fieldAngles],numRays:$e.defaults.numRays,focusMode:"On-Axis",m2Factor:1,pulseWidthFs:100,hasTraced:!1,surfaces:[{id:crypto.randomUUID(),semanticName:"Primary_Objective_Front",aiContext:"",type:"Glass",radius:100,thickness:5,refractiveIndex:1.5168,diameter:25,material:"N-BK7",description:"Front surface",coating:"Uncoated"},{id:crypto.randomUUID(),semanticName:"Primary_Objective_Back",aiContext:"",type:"Air",radius:-100,thickness:95,refractiveIndex:1,diameter:25,material:"Air",description:"Back surface",coating:"Uncoated"}],rmsSpotRadius:0,totalLength:100,fNumber:10,traceResult:null,traceError:null},oa="px-1.5 py-0.5 rounded bg-slate-800/90 text-slate-200 font-mono text-[10px] shadow-[0_1px_0_0_rgba(255,255,255,0.1),inset_0_-1px_0_0_rgba(0,0,0,0.3)]",X7=[{id:"nav",title:"Navigation Shortcuts",icon:I3},{id:"lensx",title:"Understanding Lens-X",icon:lO},{id:"laser",title:"Laser & Gaussian Optics",icon:B3},{id:"coatings",title:"Coatings & Reflectivity",icon:dO},{id:"ultrafast",title:"Ultrafast / Femtosecond Design",icon:H3},{id:"chromatic",title:"Chromatic Analysis & Optimization",icon:R3},{id:"montecarlo",title:"Manufacturing Reliability (Monte Carlo)",icon:cO},{id:"export",title:"Manufacturing Export",icon:uO}];function Z7({id:e,title:t,icon:n,isOpen:r,onToggle:i,children:o}){return y.jsxs("div",{className:"border-b border-white/10 last:border-b-0",children:[y.jsxs("button",{type:"button",onClick:i,className:"w-full flex items-center justify-between gap-3 px-4 py-3.5 text-left hover:bg-white/5 transition-colors rounded-lg","aria-expanded":r,"aria-controls":`accordion-content-${e}`,id:`accordion-header-${e}`,children:[y.jsxs("div",{className:"flex items-center gap-2.5",children:[y.jsx(n,{className:"w-5 h-5 text-cyan-electric shrink-0",strokeWidth:2}),y.jsx("span",{className:"font-semibold text-slate-200",children:t})]}),y.jsx(Ze.span,{animate:{rotate:r?180:0},transition:{duration:.2},className:"text-slate-400 shrink-0",children:y.jsx(As,{className:"w-5 h-5",strokeWidth:2})})]}),y.jsx(zi,{initial:!1,children:r&&y.jsx(Ze.div,{id:`accordion-content-${e}`,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:[.32,.72,0,1]},className:"overflow-hidden",role:"region","aria-labelledby":`accordion-header-${e}`,children:y.jsx("div",{className:"px-4 pb-4 pt-0 text-slate-400 text-sm leading-relaxed",children:o})},e)})]})}function Q7({title:e,explanation:t,formula:n,isHighlighted:r,onMouseEnter:i,onMouseLeave:o}){return y.jsxs("div",{onMouseEnter:i,onMouseLeave:o,className:`p-3 rounded-lg border transition-all duration-200 ${r?"border-cyan-electric/60 bg-cyan-electric/5":"border-white/10 bg-white/5"}`,children:[y.jsx("h4",{className:"font-medium text-cyan-electric text-sm mb-1",children:e}),y.jsx("p",{className:"text-slate-400 text-xs leading-relaxed mb-2",children:t}),y.jsx("code",{className:"block font-mono text-xs text-slate-500 bg-black/20 rounded px-2 py-1 w-fit",children:n})]})}const J7=[{title:"Z-Position",metricId:"z",explanation:"Axial distance from the global coordinate origin along the optical axis.",formula:"z    (mm)"},{title:"RMS Radius",metricId:"rms",explanation:"Root mean square of ray distances from the centroideffective 'blur' size.",formula:"R_rms = ((1/n)  (y_i  ))"},{title:"Beam Width",metricId:"beamWidth",explanation:"Full aperture: total vertical spread of the ray bundle at the current Z-plane.",formula:"W = max(y)  min(y)"},{title:"Chief Ray Angle (CRA)",metricId:"cra",explanation:"Angle of the ray through the aperture stop center relative to the optical axis.",formula:"CRA = arctan(dy/dz)  []"},{title:"Spot Size (w) at focus",metricId:"spotSize",explanation:"Beam waist radius (1/e radius) at the best focus. Derived from the on-axis RMS of ray intercepts.",formula:"w = 2  R_rms  (1/e radius = 2)"},{title:"Rayleigh (z_R) at focus",metricId:"rayleigh",explanation:"Distance from the waist where the beam cross-section doubles. Uses M from System Properties.",formula:"z_R =   w / (  M)  [mm]"}];function eH(){const e={entrancePupilDiameter:10,wavelengths:[587.6,486.1,656.3],fieldAngles:[0,7,14],numRays:9,focusMode:"On-Axis",m2Factor:1,pulseWidthFs:100,hasTraced:!1,surfaces:[{id:crypto.randomUUID(),type:"Glass",radius:80,thickness:6,refractiveIndex:1.458,diameter:25,material:"Fused Silica",description:"Low-dispersion front"},{id:crypto.randomUUID(),type:"Air",radius:-80,thickness:94,refractiveIndex:1,diameter:25,material:"Air",description:"Back surface"}],rmsSpotRadius:0,totalLength:100,fNumber:10,traceResult:null,traceError:null};return{...e,...Ff(e)}}function tH({highlightedMetric:e,onHighlightMetric:t,onSystemStateChange:n,onRunSampleAnalysis:r,onOpenOptimizer:i}){const[o,s]=P.useState("nav");return y.jsx("div",{className:"h-full overflow-y-auto",children:y.jsx("div",{className:"p-4 pb-8",children:y.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-md rounded-xl border border-white/10 overflow-hidden shadow-xl",children:[y.jsxs("div",{className:"px-4 py-4 border-b border-white/10",children:[y.jsx("h2",{className:"text-lg font-bold text-cyan-electric",children:"User Guide"}),y.jsx("p",{className:"text-slate-400 text-xs mt-0.5",children:"Documentation for optical design workflows"})]}),y.jsx("div",{className:"p-2",children:X7.map(({id:l,title:u,icon:d})=>y.jsxs(Z7,{id:l,title:u,icon:d,isOpen:o===l,onToggle:()=>s(f=>f===l?null:l),children:[l==="nav"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider mb-2",children:"Keyboard shortcuts"}),y.jsxs("ul",{className:"space-y-2 text-slate-400",children:[y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:oa,children:"Space"}),"+",y.jsx("kbd",{className:oa,children:"Drag"}),y.jsx("span",{className:"text-slate-500",children:" Pan viewport"})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:oa,children:"Scroll"}),y.jsx("span",{className:"text-slate-500",children:" Zoom in/out"})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:oa,children:"Double Click"}),y.jsx("span",{className:"text-slate-500",children:" Reset view"})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("kbd",{className:oa,children:fO?" Option":"Alt"}),y.jsx("span",{className:"text-slate-500",children:" Override Snap-to-Focus"})]})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider mb-2",children:"Scan line"}),y.jsx("p",{children:"Drag the scan line in the viewport to sweep Z and inspect RMS, beam width, and CRA. Use Snap to Focus / Snap to Surface to jump to key positions."})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider mb-2",children:"HUD & metrics"}),y.jsx("p",{children:"Hover glossary cards in this guide to highlight the corresponding metric in the viewport HUD."})]})]}),l==="laser"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Laser systems typically use Gaussian or near-Gaussian beam profiles. The scan metrics help you locate the beam waist, minimize spot size, and control divergence."}),y.jsxs("p",{children:["The HUD now displays Beam Waist (w) and Rayleigh Range (z",y.jsx("sub",{children:"R"}),"). For laser design, ensure your M factor is set in System Properties to simulate real-world beam quality."]}),y.jsx("div",{className:"space-y-2",children:J7.map(f=>y.jsx(Q7,{...f,isHighlighted:e===f.metricId,onMouseEnter:()=>t(f.metricId),onMouseLeave:()=>t(null)},f.title))}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"Tip:"})," Minimize RMS at the image plane to reduce blur; use the scan line to find where beam width is smallest."]}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-0.5",children:"Pro-Tip"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Note: The Gold Diamond indicates the point of minimum beam waist, which may shift based on lens dispersion."})]})]}),l==="lensx"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider",children:"Physics-Aware Interchange Format"}),y.jsxs("p",{children:["MacOptics uses a ",y.jsx("strong",{className:"text-cyan-electric",children:"Physics-Aware"})," format called ",y.jsx("strong",{className:"text-slate-300",children:"Lens-X"}),". Unlike a simple drawing file, Lens-X carries ",y.jsx("strong",{className:"text-slate-300",children:"glass chemistry"})," (Sellmeier coefficients for n()) and ",y.jsx("strong",{className:"text-slate-300",children:"coating data"})," within the file itself."]}),y.jsx("p",{children:"When you export a design, the JSON includes radius, thickness, material, coating, and manufacturing tolerances for every surface. When you import, the software restores the full optical modelno manual re-entry of refractive indices or coating choices."}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-0.5",children:"Why it matters"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"A Lens-X file is a Digital Twin: the same data drives ray tracing, chromatic analysis, and manufacturing export. Share a single JSON to hand off a complete, executable specification."})]})]}),l==="coatings"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider",children:"Reflectivity Curve R()"}),y.jsxs("p",{children:["When you ",y.jsx("strong",{className:"text-slate-300",children:"hover over a coating option"})," in the System Editor (e.g. BBAR, MgF, V-Coat 532), a small graph appears showing its reflectivity R() across the wavelength range."]}),y.jsxs("p",{children:["A ",y.jsx("strong",{className:"text-cyan-electric",children:"vertical dashed line"})," marks your system's current operating wavelength. Use it to verify that your chosen coating is effective at your design colorfor AR coatings, lower R at your wavelength means less power loss."]}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-0.5",children:"Tip"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"V-Coat 532 is optimized for 532 nm; BBAR is broadband (400700 nm). HR coatings reflect instead of refractthe ray follows the reflected path."})]})]}),l==="ultrafast"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Ultrafast and femtosecond optics introduce dispersion, group delay, and pulse broadening. This app models chromatic dispersion and thermal lensing to support pulsed-laser system design."}),y.jsxs("p",{children:["Designing for femtosecond pulses? Monitor the ",y.jsx("strong",{className:"text-slate-300",children:"GDD"})," (Group Delay Dispersion) value in the HUD. Most common glasses add positive GDD, which stretches your pulse. Aim for zero net GDD for transform-limited pulses."]}),y.jsxs("ul",{className:"space-y-1.5",children:[y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Dispersion"}),"  wavelength-dependent refractive index (Abbe V) affects pulse temporal shape"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Thermal lensing"}),"  absorption + dn/dT cause focal shift at high power (use Heat Map in System Properties)"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Ultrafast HUD"}),"  view GDD and pulse metrics when the scan line is active"]})]}),n&&y.jsx("button",{type:"button",onClick:()=>n(eH()),className:"mt-2 px-3 py-2 rounded-lg text-sm font-medium text-cyan-electric border border-cyan-electric/50 hover:bg-cyan-electric/10 transition-colors",children:"Load Low-Dispersion Presets"})]}),l==="chromatic"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:"text-slate-300 font-medium text-xs uppercase tracking-wider",children:"Chromatic Control & Color Correction"}),y.jsx("p",{className:"text-slate-500 text-xs italic",children:"Managing focal shift across the visible and IR spectrum."}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"Longitudinal Chromatic Aberration (LCA):"})," Different colors of light refract at different angles because the refractive index n is a function of wavelength . The LCA graph plots the focus shift (z) relative to your design wavelength."]}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"Reading the Graph:"}),' A steep vertical line indicates high dispersion (common in single-lens systems). A "folded" or flatter curve indicates an Achromatic design, where multiple wavelengths share a common focus.']}),y.jsxs("p",{children:[y.jsx("strong",{className:"text-slate-300",children:"One-Click Optimization:"}),' The Optimize Colors tool uses a heuristic search through the Schott and Ohara glass catalogs. It identifies the ideal "Flint" glass to pair with your current "Crown" glass to neutralize dispersion without changing your effective focal length.']}),y.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-slate-400 mb-1.5",children:"Legend"}),y.jsxs("ul",{className:"space-y-1 text-slate-400 text-xs",children:[y.jsxs("li",{children:[y.jsx("kbd",{className:oa,children:"Y-Axis"})," = Wavelength ()"]}),y.jsxs("li",{children:[y.jsx("kbd",{className:oa,children:"X-Axis"})," = Focus Shift (z)"]})]}),y.jsx("p",{className:"text-slate-400 text-xs mt-2 leading-relaxed",children:"The zero-point on the X-axis represents the focus position of your primary system wavelength."})]}),y.jsxs("div",{className:"rounded-lg border border-slate-600 bg-slate-800/50 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-slate-400 mb-0.5",children:"Tech Note"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Note: Optimization requires a multi-surface system. For best results, use a doublet configuration (two lenses with different glass types)."})]}),i&&y.jsx("button",{type:"button",onClick:i,title:"Click the gradient button in the viewport HUD to run the glass-pairing algorithm.",className:"w-full mt-2 px-3 py-2 rounded-lg text-sm font-medium text-white bg-gradient-to-r from-cyan-500 to-indigo-500 hover:from-cyan-400 hover:to-indigo-400 transition-colors",children:"Open Optimizer"})]}),l==="montecarlo"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Monte Carlo sensitivity analysis simulates manufacturing variability by jittering surface parameters (radius, thickness) within their tolerances over many iterations. Each iteration produces a slightly different optical system; the combined spot positions at the image plane form a point cloud that shows how robust your design is to fabrication errors."}),y.jsxs("div",{className:"rounded-lg border border-cyan-electric/50 bg-cyan-electric/5 px-3 py-2.5",children:[y.jsx("p",{className:"text-xs font-medium text-cyan-electric/90 mb-1",children:"RMS Spot Radius"}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"The root-mean-square distance of all rays from the centroid at the image plane. Lower values indicate tighter manufacturing tolerance and a more robust design."})]}),y.jsx("p",{children:"Set R, T, and Tilt tolerances in the System Editor, then run the analysis to see the point cloud and RMS spread at focus."}),r&&y.jsx("button",{type:"button",onClick:r,className:"mt-2 px-3 py-2 rounded-lg text-sm font-medium text-cyan-electric border border-cyan-electric/50 hover:bg-cyan-electric/10 transition-colors",children:"Run Sample Analysis"})]}),l==="export"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{children:"Export your optical system as an ISO 10110style technical drawing for manufacturing and documentation."}),y.jsxs("ul",{className:"space-y-1.5",children:[y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"Export tab"}),"  cross-section, dimensions (CT), data table (Surf, S/D, Material, CT), and title block"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"S/D (Scratch/Dig)"}),"  surface quality per ISO 10110; editable in System Editor"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{className:"text-slate-300",children:"SVG / PDF"}),"  high-resolution export via Export Drawing and browser print"]})]})]})]},l))})]})})})}const Gg="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50";function nH({systemState:e,onSystemStateChange:t}){const[n,r]=P.useState(e.projectName??"My Optical Design"),[i,o]=P.useState(()=>new Date().toISOString().slice(0,10)),[s,l]=P.useState("MacOptics"),u=P.useCallback(()=>{const v=ff(e,{projectName:n||"Untitled",date:i,drawnBy:s,width:1400,height:1e3}),x=new Blob([v],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(x),b=document.createElement("a");b.href=w,b.download=`optical-drawing-${i}.svg`,b.click(),URL.revokeObjectURL(w)},[e,n,i,s]),d=P.useCallback(async()=>{const v=e.surfaces,x={},w=[...new Set(v.map(N=>N.coating).filter(Boolean))];for(const N of w){const T=v.find(_=>_.coating===N);if(T?.coatingDataPoints!=null||T?.coatingConstantValue!=null)continue;const O=await y_(N);O&&(x[N]={data_type:O.data_type,constant_value:O.constant_value,data_points:O.data_points,is_hr:O.is_hr})}const b=b_(v,{projectName:n||"Untitled",date:i,drawnBy:s,entrancePupilDiameter:e.entrancePupilDiameter??10,customCoatingData:x}),C=new Blob([JSON.stringify(b,null,2)],{type:"application/json;charset=utf-8"}),k=URL.createObjectURL(C),E=document.createElement("a");E.href=k,E.download=`lens-x-${n.replace(/\s+/g,"-")}-${i}.json`,E.click(),URL.revokeObjectURL(k)},[e,n,i,s]),f=P.useCallback(()=>{const v=ff(e,{projectName:n||"Untitled",date:i,drawnBy:s,width:1122,height:794}),x=new Blob([v],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(x),b=window.open(w,"_blank","width=1200,height=850");if(!b){URL.revokeObjectURL(w);return}b.addEventListener("load",()=>{setTimeout(()=>{b.print(),b.onbeforeunload=()=>URL.revokeObjectURL(w),b.onafterprint=()=>b.close()},300)})},[e,n,i,s]),p=ff(e,{projectName:n||"Untitled",date:i,drawnBy:s,width:800,height:570}),m=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(p)))}`;return y.jsxs("div",{className:"h-full flex flex-col p-4 gap-4",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg",children:"ISO 10110 Export"}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Drawing Details"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Project Name"}),y.jsx("input",{type:"text",value:n,onChange:v=>{r(v.target.value),t(x=>({...x,projectName:v.target.value}))},placeholder:"My Optical Design",className:Gg})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Date"}),y.jsx("input",{type:"date",value:i,onChange:v=>o(v.target.value),className:Gg})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Drawn By"}),y.jsx("input",{type:"text",value:s,onChange:v=>l(v.target.value),placeholder:"MacOptics",className:Gg})]})]})]}),y.jsxs("section",{className:"glass-card p-4 flex-1 min-h-0 flex flex-col",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Preview"}),y.jsx("div",{className:"flex-1 min-h-[300px] rounded-lg overflow-auto bg-slate-900/50 border border-white/10",children:y.jsx("img",{src:m,alt:"ISO 10110 blueprint preview",className:"w-full h-auto object-contain",style:{minHeight:300}})})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Export Drawing"}),y.jsx("p",{className:"text-xs text-slate-500 mb-4",children:'Technical blueprint with cross-section, dimensions, data table (S/D, Material, CT), and title block. LENS-X JSON includes radius, thickness, material, coating per surface; flat surfaces export radius as "infinity".'}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[y.jsxs("button",{type:"button","data-testid":"export-lensx-json",onClick:d,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all bg-cyan-electric/20 text-cyan-electric border border-cyan-electric/50 hover:bg-cyan-electric/30",children:[y.jsx(mP,{className:"w-4 h-4"}),"Download LENS-X JSON"]}),y.jsxs("button",{type:"button",onClick:u,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all bg-white/10 text-slate-200 border border-white/20 hover:bg-white/20",children:[y.jsx(mP,{className:"w-4 h-4"}),"Download SVG"]}),y.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all bg-white/10 text-slate-200 border border-white/20 hover:bg-white/20",children:[y.jsx(F3,{className:"w-4 h-4"}),"Print / Save as PDF"]})]})]})]})}function S_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=S_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=S_(e))&&(r&&(r+=" "),r+=t);return r}var rH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ab(e){if(typeof e!="string")return!1;var t=rH;return t.includes(e)}var iH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],oH=new Set(iH);function P_(e){return typeof e!="string"?!1:oH.has(e)}function C_(e){return typeof e=="string"&&e.startsWith("data-")}function qr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(P_(n)||C_(n))&&(t[n]=e[n]);return t}function Hp(e){if(e==null)return null;if(P.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return qr(t)}return typeof e=="object"&&!Array.isArray(e)?qr(e):null}function jr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(P_(n)||C_(n)||ab(n))&&(t[n]=e[n]);return t}function aH(e){return e==null?null:P.isValidElement(e)?jr(e.props):typeof e=="object"&&!Array.isArray(e)?jr(e):null}var sH=["children","width","height","viewBox","className","style","title","desc"];function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t0.apply(null,arguments)}function lH(e,t){if(e==null)return{};var n,r,i=cH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A_=P.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:l,title:u,desc:d}=e,f=lH(e,sH),p=o||{width:r,height:i,x:0,y:0},m=Pt("recharts-surface",s);return P.createElement("svg",t0({},jr(f),{className:m,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),P.createElement("title",null,u),P.createElement("desc",null,d),n)}),uH=["children","className"];function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(null,arguments)}function dH(e,t){if(e==null)return{};var n,r,i=fH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mi=P.forwardRef((e,t)=>{var{children:n,className:r}=e,i=dH(e,uH),o=Pt("recharts-layer",r);return P.createElement("g",n0({className:o},jr(i),{ref:t}),n)}),pH=P.createContext(null);function It(e){return function(){return e}}const r0=Math.PI,i0=2*r0,ua=1e-6,hH=i0-ua;function k_(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function mH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return k_;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?k_:mH(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,u=r-t,d=i-n,f=s-t,p=l-n,m=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>ua)if(!(Math.abs(p*u-d*f)>ua)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-s,x=i-l,w=u*u+d*d,b=v*v+x*x,C=Math.sqrt(w),k=Math.sqrt(m),E=o*Math.tan((r0-Math.acos((w+m-b)/(2*C*k)))/2),N=E/k,T=E/C;Math.abs(N-1)>ua&&this._append`L${t+N*f},${n+N*p}`,this._append`A${o},${o},0,0,${+(p*v>f*x)},${this._x1=t+T*u},${this._y1=n+T*d}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=t+l,f=n+u,p=1^s,m=s?i-o:o-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>ua||Math.abs(this._y1-f)>ua)&&this._append`L${d},${f}`,r&&(m<0&&(m=m%i0+i0),m>hH?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:m>ua&&this._append`A${r},${r},0,${+(m>=r0)},${p},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function E_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new gH(t)}function sb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function N_(e){this._context=e}N_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gp(e){return new N_(e)}function O_(e){return e[0]}function j_(e){return e[1]}function T_(e,t){var n=It(!0),r=null,i=Gp,o=null,s=E_(l);e=typeof e=="function"?e:e===void 0?O_:It(e),t=typeof t=="function"?t:t===void 0?j_:It(t);function l(u){var d,f=(u=sb(u)).length,p,m=!1,v;for(r==null&&(o=i(v=s())),d=0;d<=f;++d)!(d<f&&n(p=u[d],d,u))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+e(p,d,u),+t(p,d,u));if(v)return o=null,v+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:It(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:It(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:It(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),l):r},l}function Vd(e,t,n){var r=null,i=It(!0),o=null,s=Gp,l=null,u=E_(d);e=typeof e=="function"?e:e===void 0?O_:It(+e),t=typeof t=="function"?t:It(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?j_:It(+n);function d(p){var m,v,x,w=(p=sb(p)).length,b,C=!1,k,E=new Array(w),N=new Array(w);for(o==null&&(l=s(k=u())),m=0;m<=w;++m){if(!(m<w&&i(b=p[m],m,p))===C)if(C=!C)v=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=v;--x)l.point(E[x],N[x]);l.lineEnd(),l.areaEnd()}C&&(E[m]=+e(b,m,p),N[m]=+t(b,m,p),l.point(r?+r(b,m,p):E[m],n?+n(b,m,p):N[m]))}if(k)return l=null,k+""||null}function f(){return T_().defined(i).curve(s).context(o)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:It(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:It(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:It(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:It(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:It(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:It(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(n)},d.lineX1=function(){return f().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:It(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,o!=null&&(l=s(o)),d):s},d.context=function(p){return arguments.length?(p==null?o=l=null:l=s(o=p),d):o},d}class __{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function vH(e){return new __(e,!0)}function yH(e){return new __(e,!1)}function $f(){}function Bf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function D_(e){this._context=e}D_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xH(e){return new D_(e)}function M_(e){this._context=e}M_.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bH(e){return new M_(e)}function I_(e){this._context=e}I_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wH(e){return new I_(e)}function R_(e){this._context=e}R_.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SH(e){return new R_(e)}function TC(e){return e<0?-1:1}function _C(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(TC(o)+TC(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function DC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Kg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,l=(o-r)/3;e._context.bezierCurveTo(r+l,i+l*t,o-l,s-l*n,o,s)}function zf(e){this._context=e}zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kg(this,this._t0,DC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kg(this,DC(this,n=_C(this,e,t)),n);break;default:Kg(this,this._t0,n=_C(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function L_(e){this._context=new F_(e)}(L_.prototype=Object.create(zf.prototype)).point=function(e,t){zf.prototype.point.call(this,t,e)};function F_(e){this._context=e}F_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function PH(e){return new zf(e)}function CH(e){return new L_(e)}function $_(e){this._context=e}$_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=MC(e),i=MC(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function MC(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function AH(e){return new $_(e)}function Kp(e,t){this._context=e,this._t=t}Kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function kH(e){return new Kp(e,.5)}function EH(e){return new Kp(e,0)}function NH(e){return new Kp(e,1)}function ka(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,l=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function o0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function OH(e,t){return e[t]}function jH(e){const t=[];return t.key=e,t}function TH(){var e=It([]),t=o0,n=ka,r=OH;function i(o){var s=Array.from(e.apply(this,arguments),jH),l,u=s.length,d=-1,f;for(const p of o)for(l=0,++d;l<u;++l)(s[l][d]=[0,+r(p,s[l].key,d,o)]).data=p;for(l=0,f=sb(t(s));l<u;++l)s[f[l]].index=l;return n(s,f),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:It(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:It(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?o0:typeof o=="function"?o:It(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??ka,i):n},i}function _H(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}ka(e,t)}}function DH(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,l=0;s<i;++s)l+=e[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}ka(e,t)}}function MH(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var l=0,u=0,d=0;l<s;++l){for(var f=e[t[l]],p=f[r][1]||0,m=f[r-1][1]||0,v=(p-m)/2,x=0;x<l;++x){var w=e[t[x]],b=w[r][1]||0,C=w[r-1][1]||0;v+=b-C}u+=p,d+=v*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,ka(e,t)}}var qg={},Yg={},IC;function IH(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Yg)),Yg}var Xg={},RC;function B_(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Xg)),Xg}var Zg={},LC;function lb(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Zg)),Zg}var Qg={},Jg={},FC;function RH(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Jg)),Jg}var $C;function cb(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RH(),n=lb();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],s=i.length;if(s===0)return o;let l=0,u="",d="",f=!1;for(i.charCodeAt(0)===46&&(o.push(""),l++);l<s;){const p=i[l];d?p==="\\"&&l+1<s?(l++,u+=i[l]):p===d?d="":u+=p:f?p==='"'||p==="'"?d=p:p==="]"?(f=!1,o.push(u),u=""):u+=p:p==="["?(f=!0,u&&(o.push(u),u="")):p==="."?u&&(o.push(u),u=""):u+=p,l++}return u&&o.push(u),o}e.toPath=r})(Qg)),Qg}var BC;function ub(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IH(),n=B_(),r=lb(),i=cb();function o(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?n.isDeepKey(u)?o(l,i.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return s(l,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function s(l,u,d){if(u.length===0)return d;let f=l;for(let p=0;p<u.length;p++){if(f==null||t.isUnsafeProperty(u[p]))return d;f=f[u[p]]}return f===void 0?d:f}e.get=o})(qg)),qg}var ev,zC;function LH(){return zC||(zC=1,ev=ub().get),ev}var FH=LH();const qp=Yi(FH);var $H=4;function Oo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$H,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function pn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,s)=>{var l=n[s-1];return typeof l=="string"?i+l+o:l!==void 0?i+Oo(l)+o:i+o},"")}var Er=e=>e===0?0:e>0?1:-1,gi=e=>typeof e=="number"&&e!=+e,Ea=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,_e=e=>(typeof e=="number"||e instanceof Number)&&!gi(e),vi=e=>_e(e)||typeof e=="string",BH=0,Tc=e=>{var t=++BH;return"".concat(e||"").concat(t)},$o=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&typeof t!="string")return r;var o;if(Ea(t)){if(n==null)return r;var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return gi(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},z_=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function ci(e,t,n){return _e(e)&&_e(t)?Oo(e+n*(t-e)):t}function W_(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):qp(r,t))===n)}var Nn=e=>e===null||typeof e>"u",db=e=>Nn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Un(e){return e!=null}function Ys(){}var V_=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,fb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{ab(i)&&(r[i]=(o=>n[i](n,o)))}),r},zH=(e,t,n)=>r=>(e(t,n,r),null),WH=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];ab(i)&&typeof o=="function"&&(r||(r={}),r[i]=zH(o,t,n))}),r};function WC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(n),!0).forEach(function(r){UH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UH(e,t,n){return(t=HH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(e,t){var n=VH({},e),r=t,i=Object.keys(t),o=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return o}var tv={},nv={},VC;function KH(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],l=r(s,o,n);i.has(l)||i.set(l,s)}return Array.from(i.values())}e.uniqBy=t})(nv)),nv}var rv={},UC;function qH(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(rv)),rv}var iv={},HC;function U_(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(iv)),iv}var ov={},av={},sv={},GC;function YH(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(sv)),sv}var KC;function pb(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YH();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(av)),av}var lv={},qC;function XH(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(lv)),lv}var YC;function ZH(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pb(),n=XH();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(ov)),ov}var cv={},uv={},XC;function QH(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ub();function n(r){return function(i){return t.get(i,r)}}e.property=n})(uv)),uv}var dv={},fv={},pv={},hv={},ZC;function H_(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(hv)),hv}var mv={},QC;function G_(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(mv)),mv}var gv={},JC;function K_(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(gv)),gv}var eA;function JH(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H_(),n=G_(),r=K_();function i(f,p,m){return typeof m!="function"?i(f,p,()=>{}):o(f,p,function v(x,w,b,C,k,E){const N=m(x,w,b,C,k,E);return N!==void 0?!!N:o(x,w,v,E)},new Map)}function o(f,p,m,v){if(p===f)return!0;switch(typeof p){case"object":return s(f,p,m,v);case"function":return Object.keys(p).length>0?o(f,{...p},m,v):r.isEqualsSameValueZero(f,p);default:return t.isObject(f)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(f,p)}}function s(f,p,m,v){if(p==null)return!0;if(Array.isArray(p))return u(f,p,m,v);if(p instanceof Map)return l(f,p,m,v);if(p instanceof Set)return d(f,p,m,v);const x=Object.keys(p);if(f==null||n.isPrimitive(f))return x.length===0;if(x.length===0)return!0;if(v?.has(p))return v.get(p)===f;v?.set(p,f);try{for(let w=0;w<x.length;w++){const b=x[w];if(!n.isPrimitive(f)&&!(b in f)||p[b]===void 0&&f[b]!==void 0||p[b]===null&&f[b]!==null||!m(f[b],p[b],b,f,p,v))return!1}return!0}finally{v?.delete(p)}}function l(f,p,m,v){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,w]of p.entries()){const b=f.get(x);if(m(b,w,x,f,p,v)===!1)return!1}return!0}function u(f,p,m,v){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let w=0;w<p.length;w++){const b=p[w];let C=!1;for(let k=0;k<f.length;k++){if(x.has(k))continue;const E=f[k];let N=!1;if(m(E,b,w,f,p,v)&&(N=!0),N){x.add(k),C=!0;break}}if(!C)return!1}return!0}function d(f,p,m,v){return p.size===0?!0:f instanceof Set?u([...f],[...p],m,v):!1}e.isMatchWith=i,e.isSetMatch=d})(pv)),pv}var tA;function q_(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JH();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(fv)),fv}var vv={},yv={},xv={},nA;function eG(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(xv)),xv}var bv={},rA;function hb(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(bv)),bv}var wv={},iA;function Y_(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",m="[object ArrayBuffer]",v="[object Object]",x="[object Error]",w="[object DataView]",b="[object Uint8Array]",C="[object Uint8ClampedArray]",k="[object Uint16Array]",E="[object Uint32Array]",N="[object BigUint64Array]",T="[object Int8Array]",O="[object Int16Array]",_="[object Int32Array]",D="[object BigInt64Array]",V="[object Float32Array]",q="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=m,e.arrayTag=f,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=x,e.float32ArrayTag=V,e.float64ArrayTag=q,e.functionTag=p,e.int16ArrayTag=O,e.int32ArrayTag=_,e.int8ArrayTag=T,e.mapTag=u,e.numberTag=r,e.objectTag=v,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=k,e.uint32ArrayTag=E,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=C})(wv)),wv}var Sv={},oA;function tG(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Sv)),Sv}var aA;function X_(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eG(),n=hb(),r=Y_(),i=G_(),o=tG();function s(f,p){return l(f,void 0,f,new Map,p)}function l(f,p,m,v=new Map,x=void 0){const w=x?.(f,p,m,v);if(w!==void 0)return w;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const b=new Array(f.length);v.set(f,b);for(let C=0;C<f.length;C++)b[C]=l(f[C],C,m,v,x);return Object.hasOwn(f,"index")&&(b.index=f.index),Object.hasOwn(f,"input")&&(b.input=f.input),b}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const b=new RegExp(f.source,f.flags);return b.lastIndex=f.lastIndex,b}if(f instanceof Map){const b=new Map;v.set(f,b);for(const[C,k]of f)b.set(C,l(k,C,m,v,x));return b}if(f instanceof Set){const b=new Set;v.set(f,b);for(const C of f)b.add(l(C,void 0,m,v,x));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const b=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,b);for(let C=0;C<f.length;C++)b[C]=l(f[C],C,m,v,x);return b}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const b=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,b),u(b,f,m,v,x),b}if(typeof File<"u"&&f instanceof File){const b=new File([f],f.name,{type:f.type});return v.set(f,b),u(b,f,m,v,x),b}if(typeof Blob<"u"&&f instanceof Blob){const b=new Blob([f],{type:f.type});return v.set(f,b),u(b,f,m,v,x),b}if(f instanceof Error){const b=new f.constructor;return v.set(f,b),b.message=f.message,b.name=f.name,b.stack=f.stack,b.cause=f.cause,u(b,f,m,v,x),b}if(f instanceof Boolean){const b=new Boolean(f.valueOf());return v.set(f,b),u(b,f,m,v,x),b}if(f instanceof Number){const b=new Number(f.valueOf());return v.set(f,b),u(b,f,m,v,x),b}if(f instanceof String){const b=new String(f.valueOf());return v.set(f,b),u(b,f,m,v,x),b}if(typeof f=="object"&&d(f)){const b=Object.create(Object.getPrototypeOf(f));return v.set(f,b),u(b,f,m,v,x),b}return f}function u(f,p,m=f,v,x){const w=[...Object.keys(p),...t.getSymbols(p)];for(let b=0;b<w.length;b++){const C=w[b],k=Object.getOwnPropertyDescriptor(f,C);(k==null||k.writable)&&(f[C]=l(p[C],C,m,v,x))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=u})(yv)),yv}var sA;function nG(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X_();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(vv)),vv}var lA;function rG(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q_(),n=nG();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(dv)),dv}var Pv={},Cv={},Av={},cA;function iG(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X_(),n=hb(),r=Y_();function i(o,s){return t.cloneDeepWith(o,(l,u,d,f)=>{const p=s?.(l,u,d,f);if(p!==void 0)return p;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const m={};return f.set(o,m),t.copyProperties(m,o,d,f),m}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new o.constructor(o?.valueOf());return t.copyProperties(m,o),m}case r.argumentsTag:{const m={};return t.copyProperties(m,o),m.length=o.length,m[Symbol.iterator]=o[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=i})(Av)),Av}var uA;function oG(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iG();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Cv)),Cv}var kv={},Ev={},dA;function Z_(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Ev)),Ev}var Nv={},fA;function aG(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hb();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Nv)),Nv}var pA;function sG(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B_(),n=Z_(),r=aG(),i=cb();function o(s,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&s?.[l]==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=s;for(let f=0;f<u.length;f++){const p=u[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}e.has=o})(kv)),kv}var hA;function lG(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q_(),n=lb(),r=oG(),i=ub(),o=sG();function s(l,u){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const f=i.get(d,l);return f===void 0?o.has(d,l):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=s})(Pv)),Pv}var mA;function cG(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U_(),n=QH(),r=rG(),i=lG();function o(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=o})(cv)),cv}var gA;function uG(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KH(),n=qH(),r=U_(),i=ZH(),o=cG();function s(l,u=r.identity){return i.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.ary(o.iteratee(u),1)):[]}e.uniqBy=s})(tv)),tv}var Ov,vA;function dG(){return vA||(vA=1,Ov=uG().uniqBy),Ov}var fG=dG();const yA=Yi(fG);function pG(e,t,n){return t===!0?yA(e,n):typeof t=="function"?yA(e,t):e}var jv={exports:{}},Tv={},_v={exports:{}},Dv={};var xA;function hG(){if(xA)return Dv;xA=1;var e=Vs();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function l(p,m){var v=m(),x=r({inst:{value:v,getSnapshot:m}}),w=x[0].inst,b=x[1];return o(function(){w.value=v,w.getSnapshot=m,u(w)&&b({inst:w})},[p,v,m]),i(function(){return u(w)&&b({inst:w}),p(function(){u(w)&&b({inst:w})})},[p]),s(v),v}function u(p){var m=p.getSnapshot;p=p.value;try{var v=m();return!n(p,v)}catch{return!0}}function d(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Dv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Dv}var bA;function mG(){return bA||(bA=1,_v.exports=hG()),_v.exports}var wA;function gG(){if(wA)return Tv;wA=1;var e=Vs(),t=mG();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Tv.useSyncExternalStoreWithSelector=function(d,f,p,m,v){var x=o(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function C(O){if(!k){if(k=!0,E=O,O=m(O),v!==void 0&&w.hasValue){var _=w.value;if(v(_,O))return N=_}return N=O}if(_=N,r(E,O))return _;var D=m(O);return v!==void 0&&v(_,D)?(E=O,_):(E=O,N=D)}var k=!1,E,N,T=p===void 0?null:p;return[function(){return C(f())},T===null?void 0:function(){return C(T())}]},[f,p,m,v]);var b=i(d,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=b},[b]),u(b),b},Tv}var SA;function vG(){return SA||(SA=1,jv.exports=gG()),jv.exports}var yG=vG(),mb=P.createContext(null),xG=e=>e,rn=()=>{var e=P.useContext(mb);return e?e.store.dispatch:xG},pf=()=>{},bG=()=>pf,wG=(e,t)=>e===t;function Le(e){var t=P.useContext(mb),n=P.useMemo(()=>t?r=>{if(r!=null)return e(r)}:pf,[t,e]);return yG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:bG,t?t.store.getState:pf,t?t.store.getState:pf,n,wG)}function SG(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function PG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function CG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var PA=e=>Array.isArray(e)?e:[e];function AG(e){const t=Array.isArray(e[0])?e[0]:e;return CG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function kG(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var EG=class{constructor(e){this.value=e}deref(){return this.value}},NG=typeof WeakRef<"u"?WeakRef:EG,OG=0,CA=1;function Ud(){return{s:OG,v:void 0,o:null,p:null}}function Q_(e,t={}){let n=Ud();const{resultEqualityCheck:r}=t;let i,o=0;function s(){let l=n;const{length:u}=arguments;for(let p=0,m=u;p<m;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(v);w===void 0?(l=Ud(),x.set(v,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(v);w===void 0?(l=Ud(),x.set(v,l)):l=w}}const d=l;let f;if(l.s===CA)f=l.v;else if(f=e.apply(null,arguments),o++,r){const p=i?.deref?.()??i;p!=null&&r(p,f)&&(f=p,o!==0&&o--),i=typeof f=="object"&&f!==null||typeof f=="function"?new NG(f):f}return d.s=CA,d.v=f,f}return s.clearCache=()=>{n=Ud(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function jG(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),SG(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...u},{memoize:p,memoizeOptions:m=[],argsMemoize:v=Q_,argsMemoizeOptions:x=[]}=f,w=PA(m),b=PA(x),C=AG(i),k=p(function(){return o++,d.apply(null,arguments)},...w),E=v(function(){s++;const T=kG(C,arguments);return l=k.apply(null,T),l},...b);return Object.assign(E,{resultFunc:d,memoizedResultFunc:k,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var J=jG(Q_),TG=Object.assign((e,t=J)=>{PG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,l,u)=>(s[n[u]]=l,s),{}))},{withTypes:()=>TG}),Mv={},Iv={},Rv={},AA;function _G(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=t(r),l=t(i);if(s===l&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?l-s:s-l}return 0};e.compareValues=n})(Rv)),Rv}var Lv={},Fv={},kA;function J_(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Fv)),Fv}var EA;function DG(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J_(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}e.isKey=i})(Lv)),Lv}var NA;function MG(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_G(),n=DG(),r=cb();function i(o,s,l,u){if(o==null)return[];l=u?void 0:l,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const d=(v,x)=>{let w=v;for(let b=0;b<x.length&&w!=null;++b)w=w[x[b]];return w},f=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:d(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?d(x,v):typeof x=="object"?x[v]:x,p=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return o.map(v=>({original:v,criteria:p.map(x=>f(x,v))})).slice().sort((v,x)=>{for(let w=0;w<p.length;w++){const b=t.compareValues(v.criteria[w],x.criteria[w],l[w]);if(b!==0)return b}return 0}).map(v=>v.original)}e.orderBy=i})(Iv)),Iv}var $v={},OA;function IG(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),s=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<o?s(f,u+1):i.push(f)}};return s(n,0),i}e.flatten=t})($v)),$v}var Bv={},jA;function eD(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z_(),n=pb(),r=H_(),i=K_();function o(s,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.isEqualsSameValueZero(u[l],s):!1}e.isIterateeCall=o})(Bv)),Bv}var TA;function RG(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MG(),n=IG(),r=eD();function i(o,...s){const l=s.length;return l>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(o,n.flatten(s),["asc"])}e.sortBy=i})(Mv)),Mv}var zv,_A;function LG(){return _A||(_A=1,zv=RG().sortBy),zv}var FG=LG();const Yp=Yi(FG);var tD=e=>e.legend.settings,$G=e=>e.legend.size,BG=e=>e.legend.payload;J([BG,tD],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Yp(r,n):r});var Hd=1;function zG(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=P.useState({height:0,left:0,top:0,width:0}),r=P.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-t.height)>Hd||Math.abs(s.left-t.left)>Hd||Math.abs(s.top-t.top)>Hd||Math.abs(s.width-t.width)>Hd)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}var nD=Symbol.for("immer-nothing"),DA=Symbol.for("immer-draftable"),Rn=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var or=Object,Fs=or.getPrototypeOf,Wf="constructor",Xp="prototype",a0="configurable",Vf="enumerable",hf="writable",_c="value",Vi=e=>!!e&&!!e[Rn];function Yr(e){return e?rD(e)||Qp(e)||!!e[DA]||!!e[Wf]?.[DA]||Jp(e)||eh(e):!1}var WG=or[Xp][Wf].toString(),MA=new WeakMap;function rD(e){if(!e||!gb(e))return!1;const t=Fs(e);if(t===null||t===or[Xp])return!0;const n=or.hasOwnProperty.call(t,Wf)&&t[Wf];if(n===Object)return!0;if(!ms(n))return!1;let r=MA.get(n);return r===void 0&&(r=Function.toString.call(n),MA.set(n,r)),r===WG}function Zp(e,t,n=!0){ru(e)===0?(n?Reflect.ownKeys(e):or.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ru(e){const t=e[Rn];return t?t.type_:Qp(e)?1:Jp(e)?2:eh(e)?3:0}var IA=(e,t,n=ru(e))=>n===2?e.has(t):or[Xp].hasOwnProperty.call(e,t),s0=(e,t,n=ru(e))=>n===2?e.get(t):e[t],Uf=(e,t,n,r=ru(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function VG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Qp=Array.isArray,Jp=e=>e instanceof Map,eh=e=>e instanceof Set,gb=e=>typeof e=="object",ms=e=>typeof e=="function",Wv=e=>typeof e=="boolean";function UG(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Di=e=>e.copy_||e.base_,vb=e=>e.modified_?e.copy_:e.base_;function l0(e,t){if(Jp(e))return new Map(e);if(eh(e))return new Set(e);if(Qp(e))return Array[Xp].slice.call(e);const n=rD(e);if(t===!0||t==="class_only"&&!n){const r=or.getOwnPropertyDescriptors(e);delete r[Rn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],l=r[s];l[hf]===!1&&(l[hf]=!0,l[a0]=!0),(l.get||l.set)&&(r[s]={[a0]:!0,[hf]:!0,[Vf]:l[Vf],[_c]:e[s]})}return or.create(Fs(e),r)}else{const r=Fs(e);if(r!==null&&n)return{...e};const i=or.create(r);return or.assign(i,e)}}function yb(e,t=!1){return th(e)||Vi(e)||!Yr(e)||(ru(e)>1&&or.defineProperties(e,{set:Gd,add:Gd,clear:Gd,delete:Gd}),or.freeze(e),t&&Zp(e,(n,r)=>{yb(r,!0)},!1)),e}function HG(){Vr(2)}var Gd={[_c]:HG};function th(e){return e===null||!gb(e)?!0:or.isFrozen(e)}var Hf="MapSet",c0="Patches",RA="ArrayMethods",iD={};function Na(e){const t=iD[e];return t||Vr(0,e),t}var LA=e=>!!iD[e],Dc,oD=()=>Dc,GG=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:LA(Hf)?Na(Hf):void 0,arrayMethodsPlugin_:LA(RA)?Na(RA):void 0});function FA(e,t){t&&(e.patchPlugin_=Na(c0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function u0(e){d0(e),e.drafts_.forEach(KG),e.drafts_=null}function d0(e){e===Dc&&(Dc=e.parent_)}var $A=e=>Dc=GG(Dc,e);function KG(e){const t=e[Rn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function BA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Rn].modified_&&(u0(t),Vr(4)),Yr(e)&&(e=zA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Rn].base_,e,t)}else e=zA(t,n);return qG(t,e,!0),u0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nD?e:void 0}function zA(e,t){if(th(t))return t;const n=t[Rn];if(!n)return Gf(t,e.handledSet_,e);if(!nh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);lD(n,e)}return n.copy_}function qG(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&yb(t,n)}function aD(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var nh=(e,t)=>e.scope_===t,YG=[];function sD(e,t,n,r){const i=Di(e),o=e.type_;if(r!==void 0&&s0(i,r,o)===t){Uf(i,r,n,o);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Zp(i,(u,d)=>{if(Vi(d)){const f=l.get(d)||[];f.push(u),l.set(d,f)}})}const s=e.draftLocations_.get(t)??YG;for(const l of s)Uf(i,l,n,o)}function XG(e,t,n){e.callbacks_.push(function(i){const o=t;if(!o||!nh(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const s=vb(o);sD(e,o.draft_??o,s,n),lD(o,i)})}function lD(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}aD(e)}}function ZG(e,t,n){const{scope_:r}=e;if(Vi(n)){const i=n[Rn];nh(i,r)&&i.callbacks_.push(function(){mf(e);const s=vb(i);sD(e,n,s,t)})}else Yr(n)&&e.callbacks_.push(function(){const o=Di(e);e.type_===3?o.has(n)&&Gf(n,r.handledSet_,r):s0(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Gf(s0(e.copy_,t,e.type_),r.handledSet_,r)})}function Gf(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Vi(e)||t.has(e)||!Yr(e)||th(e)||(t.add(e),Zp(e,(r,i)=>{if(Vi(i)){const o=i[Rn];if(nh(o,n)){const s=vb(o);Uf(e,r,s,e.type_),aD(o)}}else Yr(i)&&Gf(i,t,n)})),e}function QG(e,t){const n=Qp(e),r={type_:n?1:0,scope_:t?t.scope_:oD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=Kf;n&&(i=[r],o=Mc);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=s,[l,r]}var Kf={get(e,t){if(t===Rn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Di(e);if(!IA(i,t,e.type_))return JG(e,i,t);const o=i[t];if(e.finalized_||!Yr(o)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&UG(t))return o;if(o===Vv(e.base_,t)){mf(e);const s=e.type_===1?+t:t,l=p0(e.scope_,o,e,s);return e.copy_[s]=l}return o},has(e,t){return t in Di(e)},ownKeys(e){return Reflect.ownKeys(Di(e))},set(e,t,n){const r=cD(Di(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Vv(Di(e),t),o=i?.[Rn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(VG(n,i)&&(n!==void 0||IA(e.base_,t,e.type_)))return!0;mf(e),f0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),ZG(e,t,n)),!0},deleteProperty(e,t){return mf(e),Vv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),f0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Di(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[hf]:!0,[a0]:e.type_!==1||t!=="length",[Vf]:r[Vf],[_c]:n[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return Fs(e.base_)},setPrototypeOf(){Vr(12)}},Mc={};for(let e in Kf){let t=Kf[e];Mc[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Mc.deleteProperty=function(e,t){return Mc.set.call(this,e,t,void 0)};Mc.set=function(e,t,n){return Kf.set.call(this,e[0],t,n,e[0])};function Vv(e,t){const n=e[Rn];return(n?Di(n):e)[t]}function JG(e,t,n){const r=cD(t,n);return r?_c in r?r[_c]:r.get?.call(e.draft_):void 0}function cD(e,t){if(!(t in e))return;let n=Fs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Fs(n)}}function f0(e){e.modified_||(e.modified_=!0,e.parent_&&f0(e.parent_))}function mf(e){e.copy_||(e.assigned_=new Map,e.copy_=l0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var eK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ms(n)&&!ms(r)){const s=r;r=n;const l=this;return function(d=s,...f){return l.produce(d,p=>r.call(this,p,...f))}}ms(r)||Vr(6),i!==void 0&&!ms(i)&&Vr(7);let o;if(Yr(n)){const s=$A(this),l=p0(s,n,void 0);let u=!0;try{o=r(l),u=!1}finally{u?u0(s):d0(s)}return FA(s,i),BA(o,s)}else if(!n||!gb(n)){if(o=r(n),o===void 0&&(o=n),o===nD&&(o=void 0),this.autoFreeze_&&yb(o,!0),i){const s=[],l=[];Na(c0).generateReplacementPatches_(n,o,{patches_:s,inversePatches_:l}),i(s,l)}return o}else Vr(1,n)},this.produceWithPatches=(n,r)=>{if(ms(n))return(l,...u)=>this.produceWithPatches(l,d=>n(d,...u));let i,o;return[this.produce(n,r,(l,u)=>{i=l,o=u}),i,o]},Wv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Wv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Wv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Yr(t)||Vr(8),Vi(t)&&(t=Kr(t));const n=$A(this),r=p0(n,t,void 0);return r[Rn].isManual_=!0,d0(n),r}finishDraft(t,n){const r=t&&t[Rn];(!r||!r.isManual_)&&Vr(9);const{scope_:i}=r;return FA(i,n),BA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Na(c0).applyPatches_;return Vi(t)?i(t,n):this.produce(t,o=>i(o,n))}};function p0(e,t,n,r){const[i,o]=Jp(t)?Na(Hf).proxyMap_(t,n):eh(t)?Na(Hf).proxySet_(t,n):QG(t,n);return(n?.scope_??oD()).drafts_.push(i),o.callbacks_=n?.callbacks_??[],o.key_=r,n&&r!==void 0?XG(n,o,r):o.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:d}=u;o.modified_&&d&&d.generatePatches_(o,[],u)}),i}function Kr(e){return Vi(e)||Vr(10,e),uD(e)}function uD(e){if(!Yr(e)||th(e))return e;const t=e[Rn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=l0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=l0(e,!0);return Zp(n,(i,o)=>{Uf(n,i,uD(o))},r),t&&(t.finalized_=!1),n}var tK=new eK,dD=tK.produce;function fD(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var nK=fD(),rK=fD,iK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pc:Pc.apply(null,arguments)};function Tr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(cr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>sT(r)&&r.type===e,n}var pD=class oc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,oc.prototype)}static get[Symbol.species](){return oc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new oc(...t[0].concat(this)):new oc(...t.concat(this))}};function WA(e){return Yr(e)?dD(e,()=>{}):e}function Kd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function oK(e){return typeof e=="boolean"}var aK=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new pD;return n&&(oK(n)?s.push(nK):s.push(rK(n.extraArgument))),s},hD="RTK_autoBatch",kt=()=>e=>({payload:e,meta:{[hD]:!0}}),VA=e=>t=>{setTimeout(t,e)},mD=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VA(10):e.type==="callback"?e.queueNotification:VA(e.timeout),d=()=>{s=!1,o&&(o=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),m=r.subscribe(p);return l.add(f),()=>{m(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[hD],o=!i,o&&(s||(s=!0,u(d))),r.dispatch(f)}finally{i=!0}}})},sK=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new pD(e);return r&&i.push(mD(typeof r=="object"?r:void 0)),i};function lK(e){const t=aK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Ix(n))l=oT(n);else throw new Error(cr(1));let u;typeof r=="function"?u=r(t):u=t();let d=Pc;i&&(d=iK({trace:!1,...typeof i=="object"&&i}));const f=aT(...u),p=sK(f);let m=typeof s=="function"?s(p):p();const v=d(...m);return Rx(l,o,v)}function gD(e){const t={},n=[];let r;const i={addCase(o,s){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(cr(28));if(l in t)throw new Error(cr(29));return t[l]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function cK(e){return typeof e=="function"}function uK(e,t){let[n,r,i]=gD(t),o;if(cK(e))o=()=>WA(e());else{const l=WA(e);o=()=>l}function s(l=o(),u){let d=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(Vi(f)){const v=p(f,u);return v===void 0?f:v}else{if(Yr(f))return dD(f,m=>p(m,u));{const m=p(f,u);if(m===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return f},l)}return s.getInitialState=o,s}var dK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fK=(e=21)=>{let t="",n=e;for(;n--;)t+=dK[Math.random()*64|0];return t},pK=Symbol.for("rtk-slice-createasyncthunk");function hK(e,t){return`${e}/${t}`}function mK({creators:e}={}){const t=e?.asyncThunk?.[pK];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(cr(11));const s=(typeof r.reducers=="function"?r.reducers(vK()):r.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,N){const T=typeof E=="string"?E:E.type;if(!T)throw new Error(cr(12));if(T in u.sliceCaseReducersByType)throw new Error(cr(13));return u.sliceCaseReducersByType[T]=N,d},addMatcher(E,N){return u.sliceMatchers.push({matcher:E,reducer:N}),d},exposeAction(E,N){return u.actionCreators[E]=N,d},exposeCaseReducer(E,N){return u.sliceCaseReducersByName[E]=N,d}};l.forEach(E=>{const N=s[E],T={reducerName:E,type:hK(i,E),createNotation:typeof r.reducers=="function"};xK(N)?wK(T,N,d,t):yK(T,N,d)});function f(){const[E={},N=[],T=void 0]=typeof r.extraReducers=="function"?gD(r.extraReducers):[r.extraReducers],O={...E,...u.sliceCaseReducersByType};return uK(r.initialState,_=>{for(let D in O)_.addCase(D,O[D]);for(let D of u.sliceMatchers)_.addMatcher(D.matcher,D.reducer);for(let D of N)_.addMatcher(D.matcher,D.reducer);T&&_.addDefaultCase(T)})}const p=E=>E,m=new Map,v=new WeakMap;let x;function w(E,N){return x||(x=f()),x(E,N)}function b(){return x||(x=f()),x.getInitialState()}function C(E,N=!1){function T(_){let D=_[E];return typeof D>"u"&&N&&(D=Kd(v,T,b)),D}function O(_=p){const D=Kd(m,N,()=>new WeakMap);return Kd(D,_,()=>{const V={};for(const[q,G]of Object.entries(r.selectors??{}))V[q]=gK(G,_,()=>Kd(v,_,b),N);return V})}return{reducerPath:E,getSelectors:O,get selectors(){return O(T)},selectSlice:T}}const k={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...C(o),injectInto(E,{reducerPath:N,...T}={}){const O=N??o;return E.inject({reducerPath:O,reducer:w},T),{...k,...C(O,!0)}}};return k}}function gK(e,t,n,r){function i(o,...s){let l=t(o);return typeof l>"u"&&r&&(l=n()),e(l,...s)}return i.unwrapped=e,i}var Gn=mK();function vK(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function yK({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!bK(r))throw new Error(cr(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?Tr(e,s):Tr(e))}function xK(e){return e._reducerDefinitionType==="asyncThunk"}function bK(e){return e._reducerDefinitionType==="reducerWithPrepare"}function wK({type:e,reducerName:t},n,r,i){if(!i)throw new Error(cr(18));const{payloadCreator:o,fulfilled:s,pending:l,rejected:u,settled:d,options:f}=n,p=i(e,o,f);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:s||qd,pending:l||qd,rejected:u||qd,settled:d||qd})}function qd(){}var SK="task",vD="listener",yD="completed",xb="cancelled",PK=`task-${xb}`,CK=`task-${yD}`,h0=`${vD}-${xb}`,AK=`${vD}-${yD}`,rh=class{constructor(e){this.code=e,this.message=`${SK} ${xb} (reason: ${e})`}name="TaskAbortError";message},bb=(e,t)=>{if(typeof e!="function")throw new TypeError(cr(32))},qf=()=>{},xD=(e,t=qf)=>(e.catch(t),e),bD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),wa=e=>{if(e.aborted)throw new rh(e.reason)};function wD(e,t){let n=qf;return new Promise((r,i)=>{const o=()=>i(new rh(e.reason));if(e.aborted){o();return}n=bD(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=qf})}var kK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof rh?"cancelled":"rejected",error:n}}finally{t?.()}},Yf=e=>t=>xD(wD(e,t).then(n=>(wa(e),n))),SD=e=>{const t=Yf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Es}=Object,UA={},ih="listenerMiddleware",EK=(e,t)=>{const n=r=>bD(e,()=>r.abort(e.reason));return(r,i)=>{bb(r);const o=new AbortController;n(o);const s=kK(async()=>{wa(e),wa(o.signal);const l=await r({pause:Yf(o.signal),delay:SD(o.signal),signal:o.signal});return wa(o.signal),l},()=>o.abort(CK));return i?.autoJoin&&t.push(s.catch(qf)),{result:Yf(e)(s),cancel(){o.abort(PK)}}}},NK=(e,t)=>{const n=async(r,i)=>{wa(t);let o=()=>{};const l=[new Promise((u,d)=>{let f=e({predicate:r,effect:(p,m)=>{m.unsubscribe(),u([p,m.getState(),m.getOriginalState()])}});o=()=>{f(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await wD(t,Promise.race(l));return wa(t),u}finally{o()}};return(r,i)=>xD(n(r,i))},PD=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Tr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(cr(21));return bb(o),{predicate:i,type:t,effect:o}},CD=Es(e=>{const{type:t,predicate:n,effect:r}=PD(e);return{id:fK(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(cr(22))}}},{withTypes:()=>CD}),HA=(e,t)=>{const{type:n,effect:r,predicate:i}=PD(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},m0=e=>{e.pending.forEach(t=>{t.abort(h0)})},OK=(e,t)=>()=>{for(const n of t.keys())m0(n);e.clear()},GA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},AD=Es(Tr(`${ih}/add`),{withTypes:()=>AD}),jK=Tr(`${ih}/removeAll`),kD=Es(Tr(`${ih}/remove`),{withTypes:()=>kD}),TK=(...e)=>{console.error(`${ih}/error`,...e)},iu=(e={})=>{const t=new Map,n=new Map,r=v=>{const x=n.get(v)??0;n.set(v,x+1)},i=v=>{const x=n.get(v)??1;x===1?n.delete(v):n.set(v,x-1)},{extra:o,onError:s=TK}=e;bb(s);const l=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),x=>{v.unsubscribe(),x?.cancelActive&&m0(v)}),u=v=>{const x=HA(t,v)??CD(v);return l(x)};Es(u,{withTypes:()=>u});const d=v=>{const x=HA(t,v);return x&&(x.unsubscribe(),v.cancelActive&&m0(x)),!!x};Es(d,{withTypes:()=>d});const f=async(v,x,w,b)=>{const C=new AbortController,k=NK(u,C.signal),E=[];try{v.pending.add(C),r(v),await Promise.resolve(v.effect(x,Es({},w,{getOriginalState:b,condition:(N,T)=>k(N,T).then(Boolean),take:k,delay:SD(C.signal),pause:Yf(C.signal),extra:o,signal:C.signal,fork:EK(C.signal,E),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((N,T,O)=>{N!==C&&(N.abort(h0),O.delete(N))})},cancel:()=>{C.abort(h0),v.pending.delete(C)},throwIfCancelled:()=>{wa(C.signal)}})))}catch(N){N instanceof rh||GA(s,N,{raisedBy:"effect"})}finally{await Promise.all(E),C.abort(AK),i(v),v.pending.delete(C)}},p=OK(t,n);return{middleware:v=>x=>w=>{if(!sT(w))return x(w);if(AD.match(w))return u(w.payload);if(jK.match(w)){p();return}if(kD.match(w))return d(w.payload);let b=v.getState();const C=()=>{if(b===UA)throw new Error(cr(23));return b};let k;try{if(k=x(w),t.size>0){const E=v.getState(),N=Array.from(t.values());for(const T of N){let O=!1;try{O=T.predicate(w,E,b)}catch(_){O=!1,GA(s,_,{raisedBy:"predicate"})}O&&f(T,w,v,C)}}}finally{b=UA}return k},startListening:u,stopListening:d,clearListeners:p}};function cr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _K={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ED=Gn({name:"chartLayout",initialState:_K,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:DK,setLayout:MK,setChartSize:IK,setScale:RK}=ED.actions,LK=ED.reducer;function ND(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Qe(e){return Number.isFinite(e)}function yi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){FK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FK(e,t,n){return(t=$K(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $K(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vn(e,t,n){return Nn(e)||Nn(t)?n:vi(t)?qp(e,t,n):typeof t=="function"?t(e):n}var zK=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&o!=="center"&&_e(e[o]))return Ss(Ss({},e),{},{[o]:e[o]+(r||0)});if((l==="horizontal"||l==="vertical"&&o==="center")&&s!=="middle"&&_e(e[s]))return Ss(Ss({},e),{},{[s]:e[s]+(i||0)})}return e},bi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",OD=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,o,s=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate));return i||s.push(t),o||s.push(n),s},jD=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:m,axisType:v}=e;if(!s)return null;var x=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(w=v==="angleAxis"&&o&&o.length>=2?Er(o[0]-o[1])*2*w:w,p||m){var b=(p||m||[]).map((C,k)=>{var E=r?r.indexOf(C):C,N=s.map(E);return Qe(N)?{coordinate:N+w,value:C,offset:w,index:k}:null}).filter(Un);return b}return u&&d?d.map((C,k)=>{var E=s.map(C);return Qe(E)?{coordinate:E+w,value:C,index:k,offset:w}:null}).filter(Un):s.ticks&&f!=null?s.ticks(f).map((C,k)=>{var E=s.map(C);return Qe(E)?{coordinate:E+w,value:C,index:k,offset:w}:null}).filter(Un):s.domain().map((C,k)=>{var E=s.map(C);return Qe(E)?{coordinate:E+w,value:r?r[C]:C,index:k,offset:w}:null}).filter(Un)},WK=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0,l=0;l<n;++l){var u=e[l],d=u?.[i];if(d!=null){var f=d[1],p=d[0],m=gi(f)?p:f;m>=0?(d[0]=o,o+=m,d[1]=o):(d[0]=s,s+=m,d[1]=s)}}}},VK=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0;s<n;++s){var l=e[s],u=l?.[i];if(u!=null){var d=gi(u[1])?u[0]:u[1];d>=0?(u[0]=o,o+=d,u[1]=o):(u[0]=0,u[1]=0)}}}},UK={sign:WK,expand:_H,none:ka,silhouette:DH,wiggle:MH,positive:VK},HK=(e,t,n)=>{var r,i=(r=UK[n])!==null&&r!==void 0?r:ka,o=TH().keys(t).value((l,u)=>Number(vn(l,u,0))).order(o0).offset(i),s=o(e);return s.forEach((l,u)=>{l.forEach((d,f)=>{var p=vn(e[f],t[u],0);Array.isArray(p)&&p.length===2&&_e(p[0])&&_e(p[1])&&(d[0]=p[0],d[1]=p[1])})}),s};function GK(e){return e==null?void 0:String(e)}function qA(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nn(i[t.dataKey])){var l=W_(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var u=vn(i,Nn(s)?t.dataKey:s),d=t.scale.map(u);return _e(d)?d:null}var KK=e=>{var t=e.flat(2).filter(_e);return[Math.min(...t),Math.max(...t)]},qK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],YK=(e,t,n)=>{if(e!=null)return qK(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:s}=o,l=s.reduce((u,d)=>{var f=ND(d,t,n),p=KK(f);return!Qe(p[0])||!Qe(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},YA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Yp(t,f=>f.coordinate),o=1/0,s=1,l=i.length;s<l;s++){var u=i[s],d=i[s-1];o=Math.min((u?.coordinate||0)-(d?.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function ZA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return Ss(Ss({},t),{},{dataKey:n,payload:r,value:i,name:o})}function TD(e,t){if(e)return String(e);if(typeof t=="string")return t}var XK=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},ZK=(e,t)=>t==="centric"?e.angle:e.radius,Xi=e=>e.layout.width,Zi=e=>e.layout.height,QK=e=>e.layout.scale,_D=e=>e.layout.margin,oh=J(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ah=J(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),JK="data-recharts-item-index",eq="data-recharts-item-id",ou=60;function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(r){tq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tq(e,t,n){return(t=nq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nq(e){var t=rq(e,"string");return typeof t=="symbol"?t:t+""}function rq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iq=e=>e.brush.height;function oq(e){var t=ah(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ou;return n+i}return n},0)}function aq(e){var t=ah(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ou;return n+i}return n},0)}function sq(e){var t=oh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function lq(e){var t=oh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var yn=J([Xi,Zi,_D,iq,oq,aq,sq,lq,tD,$G],(e,t,n,r,i,o,s,l,u,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+o},p={top:(n.top||0)+s,bottom:(n.bottom||0)+l},m=Yd(Yd({},p),f),v=m.bottom;m.bottom+=r,m=zK(m,u,d);var x=e-m.left-m.right,w=t-m.top-m.bottom;return Yd(Yd({brushBottom:v},m),{},{width:Math.max(x,0),height:Math.max(w,0)})}),cq=J(yn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),DD=J(Xi,Zi,(e,t)=>({x:0,y:0,width:e,height:t})),uq=P.createContext(null),Kn=()=>P.useContext(uq)!=null,sh=e=>e.brush,lh=J([sh,yn,_D],(e,t,n)=>({height:e.height,x:_e(e.x)?e.x:t.left,y:_e(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:_e(e.width)?e.width:t.width})),Uv={},Hv={},Gv={},JA;function dq(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let s,l=null;const u=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),f=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},p=()=>{d&&f(),w()};let m=null;const v=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,p()},r)},x=()=>{m!==null&&(clearTimeout(m),m=null)},w=()=>{x(),s=void 0,l=null},b=()=>{f()},C=function(...k){if(i?.aborted)return;s=this,l=k;const E=m==null;v(),u&&E&&f()};return C.schedule=v,C.cancel=w,C.flush=b,i?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(Gv)),Gv}var ek;function fq(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dq();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:l=!0,maxWait:u}=o,d=Array(2);s&&(d[0]="leading"),l&&(d[1]="trailing");let f,p=null;const m=t.debounce(function(...w){f=r.apply(this,w),p=null},i,{edges:d}),v=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(f=r.apply(this,w),p=Date.now(),m.cancel(),m.schedule(),f):(m.apply(this,w),f)},x=()=>(m.flush(),f);return v.cancel=m.cancel,v.flush=x,v}e.debounce=n})(Hv)),Hv}var tk;function pq(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fq();function n(r,i=0,o={}){const{leading:s=!0,trailing:l=!0}=o;return t.debounce(r,i,{leading:s,maxWait:i,trailing:l})}e.throttle=n})(Uv)),Uv}var Kv,nk;function hq(){return nk||(nk=1,Kv=pq().throttle),Kv}var mq=hq();const gq=Yi(mq);var Zf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},ui={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},MD=(e,t,n)=>{var{width:r=ui.width,height:i=ui.height,aspect:o,maxHeight:s}=n,l=Ea(r)?e:Number(r),u=Ea(i)?t:Number(i);return o&&o>0&&(l?u=l/o:u&&(l=u*o),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:l,calculatedHeight:u}},vq={width:0,height:0,overflow:"visible"},yq={width:0,overflowX:"visible"},xq={height:0,overflowY:"visible"},bq={},wq=e=>{var{width:t,height:n}=e,r=Ea(t),i=Ea(n);return r&&i?vq:r?yq:i?xq:bq};function Sq(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i=ui.width,o=ui.height):i===void 0?i=r&&r>0?void 0:ui.width:o===void 0&&(o=r&&r>0?void 0:ui.height),{width:i,height:o}}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0.apply(null,arguments)}function rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ik(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(n),!0).forEach(function(r){Pq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pq(e,t,n){return(t=Cq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Aq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ID=P.createContext(ui.initialDimension);function kq(e){return yi(e.width)&&yi(e.height)}function RD(e){var{children:t,width:n,height:r}=e,i=P.useMemo(()=>({width:n,height:r}),[n,r]);return kq(i)?P.createElement(ID.Provider,{value:i},t):null}var wb=()=>P.useContext(ID),Eq=P.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=ui.initialDimension,width:i,height:o,minWidth:s=ui.minWidth,minHeight:l,maxHeight:u,children:d,debounce:f=ui.debounce,id:p,className:m,onResize:v,style:x={}}=e,w=P.useRef(null),b=P.useRef();b.current=v,P.useImperativeHandle(t,()=>w.current);var[C,k]=P.useState({containerWidth:r.width,containerHeight:r.height}),E=P.useCallback((D,V)=>{k(q=>{var G=Math.round(D),$=Math.round(V);return q.containerWidth===G&&q.containerHeight===$?q:{containerWidth:G,containerHeight:$}})},[]);P.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Ys;var D=$=>{var U,ce=$[0];if(ce!=null){var{width:ue,height:ge}=ce.contentRect;E(ue,ge),(U=b.current)===null||U===void 0||U.call(b,ue,ge)}};f>0&&(D=gq(D,f,{trailing:!0,leading:!1}));var V=new ResizeObserver(D),{width:q,height:G}=w.current.getBoundingClientRect();return E(q,G),V.observe(w.current),()=>{V.disconnect()}},[E,f]);var{containerWidth:N,containerHeight:T}=C;Zf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:_}=MD(N,T,{width:i,height:o,aspect:n,maxHeight:u});return Zf(O!=null&&O>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,_,i,o,s,l,n),P.createElement("div",{id:p?"".concat(p):void 0,className:Pt("recharts-responsive-container",m),style:ik(ik({},x),{},{width:i,height:o,minWidth:s,minHeight:l,maxHeight:u}),ref:w},P.createElement("div",{style:wq({width:i,height:o})},P.createElement(RD,{width:O,height:_},d)))}),Nq=P.forwardRef((e,t)=>{var n=wb();if(yi(n.width)&&yi(n.height))return e.children;var{width:r,height:i}=Sq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:s}=MD(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return _e(o)&&_e(s)?P.createElement(RD,{width:o,height:s},e.children):P.createElement(Eq,g0({},e,{width:r,height:i,ref:t}))});function Sb(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ch=()=>{var e,t=Kn(),n=Le(cq),r=Le(lh),i=(e=Le(sh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Oq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},LD=()=>{var e;return(e=Le(yn))!==null&&e!==void 0?e:Oq},FD=()=>Le(Xi),$D=()=>Le(Zi),Nt=e=>e.layout.layoutType,Xs=()=>Le(Nt),Pb=()=>{var e=Xs();if(e==="horizontal"||e==="vertical")return e},BD=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},jq=()=>{var e=Xs();return e!==void 0},au=e=>{var t=rn(),n=Kn(),{width:r,height:i}=e,o=wb(),s=r,l=i;return o&&(s=o.width>0?o.width:r,l=o.height>0?o.height:i),P.useEffect(()=>{!n&&yi(s)&&yi(l)&&t(IK({width:s,height:l}))},[t,n,s,l]),null},zD=Symbol.for("immer-nothing"),ok=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function Ur(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ic=Object.getPrototypeOf;function $s(e){return!!e&&!!e[dr]}function Oa(e){return e?WD(e)||Array.isArray(e)||!!e[ok]||!!e.constructor?.[ok]||su(e)||dh(e):!1}var Tq=Object.prototype.constructor.toString(),ak=new WeakMap;function WD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=ak.get(n);return r===void 0&&(r=Function.toString.call(n),ak.set(n,r)),r===Tq}function Qf(e,t,n=!0){uh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function uh(e){const t=e[dr];return t?t.type_:Array.isArray(e)?1:su(e)?2:dh(e)?3:0}function v0(e,t){return uh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function VD(e,t,n){const r=uh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function _q(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function su(e){return e instanceof Map}function dh(e){return e instanceof Set}function da(e){return e.copy_||e.base_}function y0(e,t){if(su(e))return new Map(e);if(dh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=WD(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[dr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(Ic(e),r)}else{const r=Ic(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Cb(e,t=!1){return fh(e)||$s(e)||!Oa(e)||(uh(e)>1&&Object.defineProperties(e,{set:Xd,add:Xd,clear:Xd,delete:Xd}),Object.freeze(e),t&&Object.values(e).forEach(n=>Cb(n,!0))),e}function Dq(){Ur(2)}var Xd={value:Dq};function fh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Mq={};function ja(e){const t=Mq[e];return t||Ur(0,e),t}var Rc;function UD(){return Rc}function Iq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sk(e,t){t&&(ja("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function x0(e){b0(e),e.drafts_.forEach(Rq),e.drafts_=null}function b0(e){e===Rc&&(Rc=e.parent_)}function lk(e){return Rc=Iq(Rc,e)}function Rq(e){const t=e[dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ck(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[dr].modified_&&(x0(t),Ur(4)),Oa(e)&&(e=Jf(t,e),t.parent_||ep(t,e)),t.patches_&&ja("Patches").generateReplacementPatches_(n[dr].base_,e,t.patches_,t.inversePatches_)):e=Jf(t,n,[]),x0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zD?e:void 0}function Jf(e,t,n){if(fh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[dr];if(!i)return Qf(t,(o,s)=>uk(e,i,t,o,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return ep(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,l=!1;i.type_===3&&(s=new Set(o),o.clear(),l=!0),Qf(s,(u,d)=>uk(e,i,o,u,d,n,l),r),ep(e,o,!1),n&&e.patches_&&ja("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function uk(e,t,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const l=fh(i);if(!(l&&!s)){if($s(i)){const u=o&&t&&t.type_!==3&&!v0(t.assigned_,r)?o.concat(r):void 0,d=Jf(e,i,u);if(VD(n,r,d),$s(d))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Oa(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;Jf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(su(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ep(e,i)}}}function ep(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Cb(t,n)}function Lq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:UD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Ab;n&&(i=[r],o=Lc);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=s,l}var Ab={get(e,t){if(t===dr)return e;const n=da(e);if(!v0(n,t))return Fq(e,n,t);const r=n[t];return e.finalized_||!Oa(r)?r:r===qv(e.base_,t)?(Yv(e),e.copy_[t]=S0(r,e)):r},has(e,t){return t in da(e)},ownKeys(e){return Reflect.ownKeys(da(e))},set(e,t,n){const r=HD(da(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=qv(da(e),t),o=i?.[dr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(_q(n,i)&&(n!==void 0||v0(e.base_,t)))return!0;Yv(e),w0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return qv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Yv(e),w0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=da(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ur(11)},getPrototypeOf(e){return Ic(e.base_)},setPrototypeOf(){Ur(12)}},Lc={};Qf(Ab,(e,t)=>{Lc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Lc.deleteProperty=function(e,t){return Lc.set.call(this,e,t,void 0)};Lc.set=function(e,t,n){return Ab.set.call(this,e[0],t,n,e[0])};function qv(e,t){const n=e[dr];return(n?da(n):e)[t]}function Fq(e,t,n){const r=HD(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function HD(e,t){if(!(t in e))return;let n=Ic(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ic(n)}}function w0(e){e.modified_||(e.modified_=!0,e.parent_&&w0(e.parent_))}function Yv(e){e.copy_||(e.copy_=y0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $q=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(u=o,...d){return s.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&Ur(6),r!==void 0&&typeof r!="function"&&Ur(7);let i;if(Oa(t)){const o=lk(this),s=S0(t,void 0);let l=!0;try{i=n(s),l=!1}finally{l?x0(o):b0(o)}return sk(o,r),ck(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===zD&&(i=void 0),this.autoFreeze_&&Cb(i,!0),r){const o=[],s=[];ja("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Ur(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,u=>t(u,...l));let r,i;return[this.produce(t,n,(s,l)=>{r=s,i=l}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Oa(e)||Ur(8),$s(e)&&(e=Bq(e));const t=lk(this),n=S0(e,void 0);return n[dr].isManual_=!0,b0(t),n}finishDraft(e,t){const n=e&&e[dr];(!n||!n.isManual_)&&Ur(9);const{scope_:r}=n;return sk(r,t),ck(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ja("Patches").applyPatches_;return $s(e)?r(e,t):this.produce(e,i=>r(i,t))}};function S0(e,t){const n=su(e)?ja("MapSet").proxyMap_(e,t):dh(e)?ja("MapSet").proxySet_(e,t):Lq(e,t);return(t?t.scope_:UD()).drafts_.push(n),n}function Bq(e){return $s(e)||Ur(10,e),GD(e)}function GD(e){if(!Oa(e)||fh(e))return e;const t=e[dr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=y0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=y0(e,!0);return Qf(n,(i,o)=>{VD(n,i,GD(o))},r),t&&(t.finalized_=!1),n}var zq=new $q;zq.produce;var Wq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},KD=Gn({name:"legend",initialState:Wq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:kt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Kr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:kt()},removeLegendPayload:{reducer(e,t){var n=Kr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:kt()}}}),{setLegendSize:ple,setLegendSettings:hle,addLegendPayload:Vq,replaceLegendPayload:Uq,removeLegendPayload:Hq}=KD.actions,Gq=KD.reducer;function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P0.apply(null,arguments)}function dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ql(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(n),!0).forEach(function(r){Kq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kq(e,t,n){return(t=qq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qq(e){var t=Yq(e,"string");return typeof t=="symbol"?t:t+""}function Yq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xq(e){return Array.isArray(e)&&vi(e[0])&&vi(e[1])?e.join(" ~ "):e}var us={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Zq=e=>{var{separator:t=us.separator,contentStyle:n,itemStyle:r,labelStyle:i=us.labelStyle,payload:o,formatter:s,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:m=us.accessibilityLayer}=e,v=()=>{if(o&&o.length){var T={padding:0,margin:0},O=(l?Yp(o,l):o).map((_,D)=>{if(_.type==="none")return null;var V=_.formatter||s||Xq,{value:q,name:G}=_,$=q,U=G;if(V){var ce=V(q,G,_,D,o);if(Array.isArray(ce))[$,U]=ce;else if(ce!=null)$=ce;else return null}var ue=ql(ql({},us.itemStyle),{},{color:_.color||us.itemStyle.color},r);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ue},vi(U)?P.createElement("span",{className:"recharts-tooltip-item-name"},U):null,vi(U)?P.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,P.createElement("span",{className:"recharts-tooltip-item-value"},$),P.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:T},O)}return null},x=ql(ql({},us.contentStyle),n),w=ql({margin:0},i),b=!Nn(f),C=b?f:"",k=Pt("recharts-default-tooltip",u),E=Pt("recharts-tooltip-label",d);b&&p&&o!==void 0&&o!==null&&(C=p(f,o));var N=m?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",P0({className:k,style:x},N),P.createElement("p",{className:E,style:w},P.isValidElement(C)?C:"".concat(C)),v())},Yl="recharts-tooltip-wrapper",Qq={visibility:"hidden"};function Jq(e){var{coordinate:t,translateX:n,translateY:r}=e;return Pt(Yl,{["".concat(Yl,"-right")]:_e(n)&&t&&_e(t.x)&&n>=t.x,["".concat(Yl,"-left")]:_e(n)&&t&&_e(t.x)&&n<t.x,["".concat(Yl,"-bottom")]:_e(r)&&t&&_e(t.y)&&r>=t.y,["".concat(Yl,"-top")]:_e(r)&&t&&_e(t.y)&&r<t.y})}function fk(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:o,reverseDirection:s,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(o&&_e(o[r]))return o[r];var f=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return s[r]?f:p;var m=u[r];if(m==null)return 0;if(s[r]){var v=f,x=m;return v<x?Math.max(p,m):Math.max(f,m)}if(d==null)return 0;var w=p+l,b=m+d;return w>b?Math.max(f,m):Math.max(p,m)}function eY(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function tY(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,p,m;return l.height>0&&l.width>0&&n?(p=fk({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=fk({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=eY({translateX:p,translateY:m,useTranslate3d:u})):f=Qq,{cssProperties:f,cssClasses:Jq({translateX:p,translateY:m,coordinate:n})}}function pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(n),!0).forEach(function(r){C0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C0(e,t,n){return(t=nY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nY(e){var t=rY(e,"string");return typeof t=="symbol"?t:t+""}function rY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class iY extends P.PureComponent{constructor(){super(...arguments),C0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),C0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:p,useTranslate3d:m,viewBox:v,wrapperStyle:x,lastBoundingBox:w,innerRef:b,hasPortalFromProps:C}=this.props,k=typeof d=="number"?d:d.x,E=typeof d=="number"?d:d.y,{cssClasses:N,cssProperties:T}=tY({allowEscapeViewBox:n,coordinate:s,offsetLeft:k,offsetTop:E,position:f,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:m,viewBox:v}),O=C?{}:Zd(Zd({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),_=Zd(Zd({},O),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},x);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:_,ref:b},o)}}var qD=()=>{var e;return(e=Le(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0.apply(null,arguments)}function hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(n),!0).forEach(function(r){oY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oY(e,t,n){return(t=aY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gk={curveBasisClosed:bH,curveBasisOpen:wH,curveBasis:xH,curveBumpX:vH,curveBumpY:yH,curveLinearClosed:SH,curveLinear:Gp,curveMonotoneX:PH,curveMonotoneY:CH,curveNatural:AH,curveStep:kH,curveStepAfter:NH,curveStepBefore:EH},tp=e=>Qe(e.x)&&Qe(e.y),vk=e=>e.base!=null&&tp(e.base)&&tp(e),Xl=e=>e.x,Zl=e=>e.y,lY=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(db(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=gk["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return gk[n]||Gp},yk={connectNulls:!1,type:"linear"},cY=e=>{var{type:t=yk.type,points:n=[],baseLine:r,layout:i,connectNulls:o=yk.connectNulls}=e,s=lY(t,i),l=o?n.filter(tp):n;if(Array.isArray(r)){var u,d=n.map((x,w)=>mk(mk({},x),{},{base:r[w]}));i==="vertical"?u=Vd().y(Zl).x1(Xl).x0(x=>x.base.x):u=Vd().x(Xl).y1(Zl).y0(x=>x.base.y);var f=u.defined(vk).curve(s),p=o?d.filter(vk):d;return f(p)}var m;i==="vertical"&&_e(r)?m=Vd().y(Zl).x1(Xl).x0(r):_e(r)?m=Vd().x(Xl).y1(Zl).y0(r):m=T_().x(Xl).y(Zl);var v=m.defined(tp).curve(s);return v(l)},gf=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=Xs();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},l=n&&n.length?cY(s):r;return P.createElement("path",A0({},qr(e),fb(e),{className:Pt("recharts-curve",t),d:l===null?void 0:l,ref:i}))},uY=["x","y","top","left","width","height","className"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(n),!0).forEach(function(r){fY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fY(e,t,n){return(t=pY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mY(e,t){if(e==null)return{};var n,r,i=gY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vY=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),yY=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:l}=e,u=mY(e,uY),d=dY({x:t,y:n,top:r,left:i,width:o,height:s},u);return!_e(t)||!_e(n)||!_e(o)||!_e(s)||!_e(r)||!_e(i)?null:P.createElement("path",k0({},jr(d),{className:Pt("recharts-cross",l),d:vY(t,n,o,s,r,i)}))};function xY(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(n),!0).forEach(function(r){bY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bY(e,t,n){return(t=wY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wY(e){var t=SY(e,"string");return typeof t=="symbol"?t:t+""}function SY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),CY=(e,t,n)=>e.map(r=>"".concat(PY(r)," ").concat(t,"ms ").concat(n)).join(","),AY=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Fc=(e,t)=>Object.keys(t).reduce((n,r)=>wk(wk({},n),{},{[r]:e(r,t[r])}),{});function Sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(n),!0).forEach(function(r){kY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kY(e,t,n){return(t=EY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EY(e){var t=NY(e,"string");return typeof t=="symbol"?t:t+""}function NY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var np=(e,t,n)=>e+(t-e)*n,E0=e=>{var{from:t,to:n}=e;return t!==n},YD=(e,t,n)=>{var r=Fc((i,o)=>{if(E0(o)){var[s,l]=e(o.from,o.to,o.velocity);return Ht(Ht({},o),{},{from:s,velocity:l})}return o},t);return n<1?Fc((i,o)=>E0(o)&&r[i]!=null?Ht(Ht({},o),{},{velocity:np(o.velocity,r[i].velocity,n),from:np(o.from,r[i].from,n)}):o,t):YD(e,r,n-1)};function OY(e,t,n,r,i,o){var s,l=r.reduce((m,v)=>Ht(Ht({},m),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>Fc((m,v)=>v.from,l),d=()=>!Object.values(l).filter(E0).length,f=null,p=m=>{s||(s=m);var v=m-s,x=v/n.dt;l=YD(n,l,x),i(Ht(Ht(Ht({},e),t),u())),s=m,d()||(f=o.setTimeout(p))};return()=>(f=o.setTimeout(p),()=>{var m;(m=f)===null||m===void 0||m()})}function jY(e,t,n,r,i,o,s){var l=null,u=i.reduce((p,m)=>{var v=e[m],x=t[m];return v==null||x==null?p:Ht(Ht({},p),{},{[m]:[v,x]})},{}),d,f=p=>{d||(d=p);var m=(p-d)/r,v=Fc((w,b)=>np(...b,n(m)),u);if(o(Ht(Ht(Ht({},e),t),v)),m<1)l=s.setTimeout(f);else{var x=Fc((w,b)=>np(...b,n(1)),u);o(Ht(Ht(Ht({},e),t),x))}};return()=>(l=s.setTimeout(f),()=>{var p;(p=l)===null||p===void 0||p()})}const TY=(e,t,n,r,i,o)=>{var s=AY(e,t);return n==null?()=>(i(Ht(Ht({},e),t)),()=>{}):n.isStepper===!0?OY(e,t,n,s,i,o):jY(e,t,n,r,s,i,o)};var rp=1e-4,XD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],ZD=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Pk=(e,t)=>n=>{var r=XD(e,t);return ZD(r,n)},_Y=(e,t)=>n=>{var r=XD(e,t),i=[...r.map((o,s)=>o*s).slice(1),0];return ZD(i,n)},DY=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},MY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=DY(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},IY=(e,t,n,r)=>{var i=Pk(e,n),o=Pk(t,r),s=_Y(e,n),l=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,p=f,m=0;m<8;++m){var v=i(p)-f,x=s(p);if(Math.abs(v-f)<rp||x<rp)return o(p);p=l(p-v/x)}return o(p)};return u.isStepper=!1,u},Ck=function(){return IY(...MY(...arguments))},RY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(s,l,u)=>{var d=-(s-l)*n,f=u*r,p=u+(d-f)*i/1e3,m=u*i/1e3+s;return Math.abs(m-l)<rp&&Math.abs(p)<rp?[l,0]:[m,p]};return o.isStepper=!0,o.dt=i,o},LY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ck(e);case"spring":return RY();default:if(e.split("(")[0]==="cubic-bezier")return Ck(e)}return typeof e=="function"?e:null};function FY(e){var t,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(o.bind(null,d),u);return}o(u),i=e.setTimeout(o.bind(null,d));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class $Y{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function BY(){return FY(new $Y)}var zY=P.createContext(BY);function WY(e,t){var n=P.useContext(zY);return P.useMemo(()=>t??n(e),[e,t,n])}var VY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),lu={isSsr:VY()},UY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Ak={t:0},Xv={t:1};function QD(e){var t=fr(e,UY),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:l,onAnimationStart:u,children:d}=t,f=n==="auto"?!lu.isSsr:n,p=WY(t.animationId,t.animationManager),[m,v]=P.useState(f?Ak:Xv),x=P.useRef(null);return P.useEffect(()=>{f||v(Xv)},[f]),P.useEffect(()=>{if(!f||!r)return Ys;var w=TY(Ak,Xv,LY(o),i,v,p.getTimeoutController()),b=()=>{x.current=w()};return p.start([u,s,b,i,l]),()=>{p.stop(),x.current&&x.current(),l()}},[f,r,i,o,s,u,l,p]),d(m.t)}function JD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=P.useRef(Tc(t)),r=P.useRef(e);return r.current!==e&&(n.current=Tc(t),r.current=e),n.current}var HY=["radius"],GY=["radius"],kk,Ek,Nk,Ok,jk,Tk,_k,Dk,Mk,Ik;function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(n),!0).forEach(function(r){KY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KY(e,t,n){return(t=qY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ip.apply(null,arguments)}function Fk(e,t){if(e==null)return{};var n,r,i=XY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $k=(e,t,n,r,i)=>{var o=Oo(n),s=Oo(r),l=Math.min(Math.abs(o)/2,Math.abs(s)/2),u=s>=0?1:-1,d=o>=0?1:-1,f=s>=0&&o>=0||s<0&&o<0?1:0,p;if(l>0&&Array.isArray(i)){for(var m=[0,0,0,0],v=0,x=4;v<x;v++){var w,b=(w=i[v])!==null&&w!==void 0?w:0;m[v]=b>l?l:b}p=pn(kk||(kk=oi(["M",",",""])),e,t+u*m[0]),m[0]>0&&(p+=pn(Ek||(Ek=oi(["A ",",",",0,0,",",",",",""])),m[0],m[0],f,e+d*m[0],t)),p+=pn(Nk||(Nk=oi(["L ",",",""])),e+n-d*m[1],t),m[1]>0&&(p+=pn(Ok||(Ok=oi(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],f,e+n,t+u*m[1])),p+=pn(jk||(jk=oi(["L ",",",""])),e+n,t+r-u*m[2]),m[2]>0&&(p+=pn(Tk||(Tk=oi(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],f,e+n-d*m[2],t+r)),p+=pn(_k||(_k=oi(["L ",",",""])),e+d*m[3],t+r),m[3]>0&&(p+=pn(Dk||(Dk=oi(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],f,e,t+r-u*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var C=Math.min(l,i);p=pn(Mk||(Mk=oi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*C,C,C,f,e+d*C,t,e+n-d*C,t,C,C,f,e+n,t+u*C,e+n,t+r-u*C,C,C,f,e+n-d*C,t+r,e+d*C,t+r,C,C,f,e,t+r-u*C)}else p=pn(Ik||(Ik=oi(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return p},Bk={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZY=e=>{var t=fr(e,Bk),n=P.useRef(null),[r,i]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:o,y:s,width:l,height:u,radius:d,className:f}=t,{animationEasing:p,animationDuration:m,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:w}=t,b=P.useRef(l),C=P.useRef(u),k=P.useRef(o),E=P.useRef(s),N=P.useMemo(()=>({x:o,y:s,width:l,height:u,radius:d}),[o,s,l,u,d]),T=JD(N,"rectangle-");if(o!==+o||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var O=Pt("recharts-rectangle",f);if(!w){var _=jr(t),{radius:D}=_,V=Fk(_,HY);return P.createElement("path",ip({},V,{x:Oo(o),y:Oo(s),width:Oo(l),height:Oo(u),radius:typeof d=="number"?d:void 0,className:O,d:$k(o,s,l,u,d)}))}var q=b.current,G=C.current,$=k.current,U=E.current,ce="0px ".concat(r===-1?1:r,"px"),ue="".concat(r,"px 0px"),ge=CY(["strokeDasharray"],m,typeof p=="string"?p:Bk.animationEasing);return P.createElement(QD,{animationId:T,key:T,canBegin:r>0,duration:m,easing:p,isActive:w,begin:v},Q=>{var Y=ci(q,l,Q),ee=ci(G,u,Q),ne=ci($,o,Q),L=ci(U,s,Q);n.current&&(b.current=Y,C.current=ee,k.current=ne,E.current=L);var W;x?Q>0?W={transition:ge,strokeDasharray:ue}:W={strokeDasharray:ce}:W={strokeDasharray:ue};var ie=jr(t),{radius:ae}=ie,de=Fk(ie,GY);return P.createElement("path",ip({},de,{radius:typeof d=="number"?d:void 0,className:O,d:$k(ne,L,Y,ee,d),ref:n,style:Lk(Lk({},W),t.style)}))})};function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(r){QY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QY(e,t,n){return(t=JY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JY(e){var t=eX(e,"string");return typeof t=="symbol"?t:t+""}function eX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var op=Math.PI/180,tX=e=>e*180/Math.PI,gn=(e,t,n,r)=>({x:e+Math.cos(-op*r)*n,y:t+Math.sin(-op*r)*n}),nX=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},rX=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},iX=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,s=rX({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,u=Math.acos(l);return r>o&&(u=2*Math.PI-u),{radius:s,angle:tX(u),angleInRadian:u}},oX=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},aX=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return e+s*360},sX=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=iX({x:n,y:r},t),{innerRadius:s,outerRadius:l}=t;if(i<s||i>l||i===0)return null;var{startAngle:u,endAngle:d}=oX(t),f=o,p;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;p=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=u}return p?Wk(Wk({},t),{},{radius:i,angle:aX(f,t)}):null};function eM(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,s=gn(t,n,r,i),l=gn(t,n,r,o);return{points:[s,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var Vk,Uk,Hk,Gk,Kk,qk,Yk;function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(null,arguments)}function ma(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var lX=(e,t)=>{var n=Er(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Qd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:l,cornerIsExternal:u}=e,d=l*(s?1:-1)+r,f=Math.asin(l/d)/op,p=u?i:i+o*f,m=gn(t,n,d,p),v=gn(t,n,r,p),x=u?i-o*f:i,w=gn(t,n,d*Math.cos(f*op),x);return{center:m,circleTangency:v,lineTangency:w,theta:f}},tM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=e,l=lX(o,s),u=o+l,d=gn(t,n,i,o),f=gn(t,n,i,u),p=pn(Vk||(Vk=ma(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(l)>180),+(o>u),f.x,f.y);if(r>0){var m=gn(t,n,r,o),v=gn(t,n,r,u);p+=pn(Uk||(Uk=ma(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(l)>180),+(o<=u),m.x,m.y)}else p+=pn(Hk||(Hk=ma(["L ",","," Z"])),t,n);return p},cX=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}=e,f=Er(d-u),{circleTangency:p,lineTangency:m,theta:v}=Qd({cx:t,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),{circleTangency:x,lineTangency:w,theta:b}=Qd({cx:t,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),C=l?Math.abs(u-d):Math.abs(u-d)-v-b;if(C<0)return s?pn(Gk||(Gk=ma(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,o,o,o*2,o,o,-o*2):tM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var k=pn(Kk||(Kk=ma(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,o,o,+(f<0),p.x,p.y,i,i,+(C>180),+(f<0),x.x,x.y,o,o,+(f<0),w.x,w.y);if(r>0){var{circleTangency:E,lineTangency:N,theta:T}=Qd({cx:t,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),{circleTangency:O,lineTangency:_,theta:D}=Qd({cx:t,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),V=l?Math.abs(u-d):Math.abs(u-d)-T-D;if(V<0&&o===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+=pn(qk||(qk=ma(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),_.x,_.y,o,o,+(f<0),O.x,O.y,r,r,+(V>180),+(f>0),E.x,E.y,o,o,+(f<0),N.x,N.y)}else k+=pn(Yk||(Yk=ma(["L",",","Z"])),t,n);return k},uX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dX=e=>{var t=fr(e,uX),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:p}=t;if(o<i||d===f)return null;var m=Pt("recharts-sector",p),v=o-i,x=$o(s,v,0,!0),w;return x>0&&Math.abs(d-f)<360?w=cX({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):w=tM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),P.createElement("path",N0({},jr(t),{className:m,d:w}))};function fX(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(V_(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:s,angle:l}=t,u=gn(r,i,o,l),d=gn(r,i,s,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return eM(t)}}var Zv={},Qv={},Jv={},Xk;function pX(){return Xk||(Xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J_();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Jv)),Jv}var Zk;function hX(){return Zk||(Zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pX();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Qv)),Qv}var Qk;function mX(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eD(),n=hX();function r(i,o,s){s&&typeof s!="number"&&t.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((o-i)/(s||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=s;return u}e.range=r})(Zv)),Zv}var ey,Jk;function gX(){return Jk||(Jk=1,ey=mX().range),ey}var vX=gX();const nM=Yi(vX);function Do(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kb(e){let t,n,r;e.length!==2?(t=Do,n=(l,u)=>Do(e(l),u),r=(l,u)=>e(l)-u):(t=e===Do||e===yX?e:xX,n=e,r=e);function i(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<0?d=p+1:f=p}while(d<f)}return d}function o(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<=0?d=p+1:f=p}while(d<f)}return d}function s(l,u,d=0,f=l.length){const p=i(l,u,d,f-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:s,right:o}}function xX(){return 0}function rM(e){return e===null?NaN:+e}function*bX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const wX=kb(Do),cu=wX.right;kb(rM).center;class eE extends Map{constructor(t,n=CX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(tE(this,t))}has(t){return super.has(tE(this,t))}set(t,n){return super.set(SX(this,t),n)}delete(t){return super.delete(PX(this,t))}}function tE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function SX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function PX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function CX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function AX(e=Do){if(e===Do)return iM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function iM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kX=Math.sqrt(50),EX=Math.sqrt(10),NX=Math.sqrt(2);function ap(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=kX?10:o>=EX?5:o>=NX?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*s,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=n&&n<2?ap(e,t,n*2):[l,u,d]}function O0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?ap(t,e,n):ap(e,t,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(s<0)for(let d=0;d<l;++d)u[d]=(o-d)/-s;else for(let d=0;d<l;++d)u[d]=(o-d)*s;else if(s<0)for(let d=0;d<l;++d)u[d]=(i+d)/-s;else for(let d=0;d<l;++d)u[d]=(i+d)*s;return u}function j0(e,t,n){return t=+t,e=+e,n=+n,ap(e,t,n)[2]}function T0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?j0(t,e,n):j0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function nE(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function rE(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?iM:AX(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,f=Math.log(u),p=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*p*(u-p)/u)*(d-u/2<0?-1:1),v=Math.max(n,Math.floor(t-d*p/u+m)),x=Math.min(r,Math.floor(t+(u-d)*p/u+m));oM(e,t,v,x,i)}const o=e[t];let s=n,l=r;for(Ql(e,n,t),i(e[r],o)>0&&Ql(e,n,r);s<l;){for(Ql(e,s,l),++s,--l;i(e[s],o)<0;)++s;for(;i(e[l],o)>0;)--l}i(e[n],o)===0?Ql(e,n,l):(++l,Ql(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Ql(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function OX(e,t,n){if(e=Float64Array.from(bX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return rE(e);if(t>=1)return nE(e);var r,i=(r-1)*t,o=Math.floor(i),s=nE(oM(e,o).subarray(0,o+1)),l=rE(e.subarray(o+1));return s+(l-s)*(i-o)}}function jX(e,t,n=rM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),l=+n(e[o+1],o+1,e);return s+(l-s)*(i-o)}}function TX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Dr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Qi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _0=Symbol("implicit");function Eb(){var e=new eE,t=[],n=[],r=_0;function i(o){let s=e.get(o);if(s===void 0){if(r!==_0)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new eE;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Eb(t,n).unknown(r)},Dr.apply(i,arguments),i}function Nb(){var e=Eb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,l=!1,u=0,d=0,f=.5;delete e.unknown;function p(){var m=t().length,v=i<r,x=v?i:r,w=v?r:i;o=(w-x)/Math.max(1,m-u+d*2),l&&(o=Math.floor(o)),x+=(w-x-o*(m-u))*f,s=o*(1-u),l&&(x=Math.round(x),s=Math.round(s));var b=TX(m).map(function(C){return x+o*C});return n(v?b.reverse():b)}return e.domain=function(m){return arguments.length?(t(m),p()):t()},e.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(m){return arguments.length?(l=!!m,p()):l},e.padding=function(m){return arguments.length?(u=Math.min(1,d=+m),p()):u},e.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),p()):u},e.paddingOuter=function(m){return arguments.length?(d=+m,p()):d},e.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),p()):f},e.copy=function(){return Nb(t(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(f)},Dr.apply(p(),arguments)}function aM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aM(t())},e}function _X(){return aM(Nb.apply(null,arguments).paddingInner(1))}function Ob(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function sM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function uu(){}var $c=.7,sp=1/$c,Ns="\\s*([+-]?\\d+)\\s*",Bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DX=/^#([0-9a-f]{3,8})$/,MX=new RegExp(`^rgb\\(${Ns},${Ns},${Ns}\\)$`),IX=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),RX=new RegExp(`^rgba\\(${Ns},${Ns},${Ns},${Bc}\\)$`),LX=new RegExp(`^rgba\\(${hi},${hi},${hi},${Bc}\\)$`),FX=new RegExp(`^hsl\\(${Bc},${hi},${hi}\\)$`),$X=new RegExp(`^hsla\\(${Bc},${hi},${hi},${Bc}\\)$`),iE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ob(uu,zc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oE,formatHex:oE,formatHex8:BX,formatHsl:zX,formatRgb:aE,toString:aE});function oE(){return this.rgb().formatHex()}function BX(){return this.rgb().formatHex8()}function zX(){return lM(this).formatHsl()}function aE(){return this.rgb().formatRgb()}function zc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=DX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?sE(t):n===3?new Hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Jd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Jd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=MX.exec(e))?new Hn(t[1],t[2],t[3],1):(t=IX.exec(e))?new Hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=RX.exec(e))?Jd(t[1],t[2],t[3],t[4]):(t=LX.exec(e))?Jd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FX.exec(e))?uE(t[1],t[2]/100,t[3]/100,1):(t=$X.exec(e))?uE(t[1],t[2]/100,t[3]/100,t[4]):iE.hasOwnProperty(e)?sE(iE[e]):e==="transparent"?new Hn(NaN,NaN,NaN,0):null}function sE(e){return new Hn(e>>16&255,e>>8&255,e&255,1)}function Jd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Hn(e,t,n,r)}function WX(e){return e instanceof uu||(e=zc(e)),e?(e=e.rgb(),new Hn(e.r,e.g,e.b,e.opacity)):new Hn}function D0(e,t,n,r){return arguments.length===1?WX(e):new Hn(e,t,n,r??1)}function Hn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ob(Hn,D0,sM(uu,{brighter(e){return e=e==null?sp:Math.pow(sp,e),new Hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$c:Math.pow($c,e),new Hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Hn(Sa(this.r),Sa(this.g),Sa(this.b),lp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lE,formatHex:lE,formatHex8:VX,formatRgb:cE,toString:cE}));function lE(){return`#${ga(this.r)}${ga(this.g)}${ga(this.b)}`}function VX(){return`#${ga(this.r)}${ga(this.g)}${ga(this.b)}${ga((isNaN(this.opacity)?1:this.opacity)*255)}`}function cE(){const e=lp(this.opacity);return`${e===1?"rgb(":"rgba("}${Sa(this.r)}, ${Sa(this.g)}, ${Sa(this.b)}${e===1?")":`, ${e})`}`}function lp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ga(e){return e=Sa(e),(e<16?"0":"")+e.toString(16)}function uE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hr(e,t,n,r)}function lM(e){if(e instanceof Hr)return new Hr(e.h,e.s,e.l,e.opacity);if(e instanceof uu||(e=zc(e)),!e)return new Hr;if(e instanceof Hr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,u=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=u<.5?o+i:2-o-i,s*=60):l=u>0&&u<1?0:s,new Hr(s,l,u,e.opacity)}function UX(e,t,n,r){return arguments.length===1?lM(e):new Hr(e,t,n,r??1)}function Hr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ob(Hr,UX,sM(uu,{brighter(e){return e=e==null?sp:Math.pow(sp,e),new Hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$c:Math.pow($c,e),new Hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Hn(ty(e>=240?e-240:e+120,i,r),ty(e,i,r),ty(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Hr(dE(this.h),ef(this.s),ef(this.l),lp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lp(this.opacity);return`${e===1?"hsl(":"hsla("}${dE(this.h)}, ${ef(this.s)*100}%, ${ef(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dE(e){return e=(e||0)%360,e<0?e+360:e}function ef(e){return Math.max(0,Math.min(1,e||0))}function ty(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const jb=e=>()=>e;function HX(e,t){return function(n){return e+n*t}}function GX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function KX(e){return(e=+e)==1?cM:function(t,n){return n-t?GX(t,n,e):jb(isNaN(t)?n:t)}}function cM(e,t){var n=t-e;return n?HX(e,n):jb(isNaN(e)?t:e)}const fE=(function e(t){var n=KX(t);function r(i,o){var s=n((i=D0(i)).r,(o=D0(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),d=cM(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=u(f),i.opacity=d(f),i+""}}return r.gamma=e,r})(1);function qX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function YX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Zs(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function ZX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function cp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function QX(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Zs(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var M0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ny=new RegExp(M0.source,"g");function JX(e){return function(){return e}}function eZ(e){return function(t){return e(t)+""}}function tZ(e,t){var n=M0.lastIndex=ny.lastIndex=0,r,i,o,s=-1,l=[],u=[];for(e=e+"",t=t+"";(r=M0.exec(e))&&(i=ny.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:cp(r,i)})),n=ny.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?u[0]?eZ(u[0].x):JX(t):(t=u.length,function(d){for(var f=0,p;f<t;++f)l[(p=u[f]).i]=p.x(d);return l.join("")})}function Zs(e,t){var n=typeof t,r;return t==null||n==="boolean"?jb(t):(n==="number"?cp:n==="string"?(r=zc(t))?(t=r,fE):tZ:t instanceof zc?fE:t instanceof Date?ZX:YX(t)?qX:Array.isArray(t)?XX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QX:cp)(e,t)}function Tb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function nZ(e,t){t===void 0&&(t=e,e=Zs);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[l](s-l)}}function rZ(e){return function(){return e}}function up(e){return+e}var pE=[0,1];function Mn(e){return e}function I0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:rZ(isNaN(t)?NaN:.5)}function iZ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function oZ(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=I0(i,r),o=n(s,o)):(r=I0(r,i),o=n(o,s)),function(l){return o(r(l))}}function aZ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=I0(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(l){var u=cu(e,l,1,r)-1;return o[u](i[u](l))}}function du(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ph(){var e=pE,t=pE,n=Zs,r,i,o,s=Mn,l,u,d;function f(){var m=Math.min(e.length,t.length);return s!==Mn&&(s=iZ(e[0],e[m-1])),l=m>2?aZ:oZ,u=d=null,p}function p(m){return m==null||isNaN(m=+m)?o:(u||(u=l(e.map(r),t,n)))(r(s(m)))}return p.invert=function(m){return s(i((d||(d=l(t,e.map(r),cp)))(m)))},p.domain=function(m){return arguments.length?(e=Array.from(m,up),f()):e.slice()},p.range=function(m){return arguments.length?(t=Array.from(m),f()):t.slice()},p.rangeRound=function(m){return t=Array.from(m),n=Tb,f()},p.clamp=function(m){return arguments.length?(s=m?!0:Mn,f()):s!==Mn},p.interpolate=function(m){return arguments.length?(n=m,f()):n},p.unknown=function(m){return arguments.length?(o=m,p):o},function(m,v){return r=m,i=v,f()}}function _b(){return ph()(Mn,Mn)}function sZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dp(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Bs(e){return e=dp(Math.abs(e)),e?e[1]:NaN}function lZ(e,t){return function(n,r){for(var i=n.length,o=[],s=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[s=(s+1)%e.length];return o.reverse().join(t)}}function cZ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var uZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wc(e){if(!(t=uZ.exec(e)))throw new Error("invalid format: "+e);var t;return new Db({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wc.prototype=Db.prototype;function Db(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Db.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dZ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var fp;function fZ(e,t){var n=dp(e,t);if(!n)return fp=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(fp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+dp(e,Math.max(0,t+o-1))[0]}function hE(e,t){var n=dp(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hE(e*100,t),r:hE,s:fZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gE(e){return e}var vE=Array.prototype.map,yE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pZ(e){var t=e.grouping===void 0||e.thousands===void 0?gE:lZ(vE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?gE:cZ(vE.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(p,m){p=Wc(p);var v=p.fill,x=p.align,w=p.sign,b=p.symbol,C=p.zero,k=p.width,E=p.comma,N=p.precision,T=p.trim,O=p.type;O==="n"?(E=!0,O="g"):mE[O]||(N===void 0&&(N=12),T=!0,O="g"),(C||v==="0"&&x==="=")&&(C=!0,v="0",x="=");var _=(m&&m.prefix!==void 0?m.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),D=(b==="$"?r:/[%p]/.test(O)?s:"")+(m&&m.suffix!==void 0?m.suffix:""),V=mE[O],q=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function G($){var U=_,ce=D,ue,ge,Q;if(O==="c")ce=V($)+ce,$="";else{$=+$;var Y=$<0||1/$<0;if($=isNaN($)?u:V(Math.abs($),N),T&&($=dZ($)),Y&&+$==0&&w!=="+"&&(Y=!1),U=(Y?w==="("?w:l:w==="-"||w==="("?"":w)+U,ce=(O==="s"&&!isNaN($)&&fp!==void 0?yE[8+fp/3]:"")+ce+(Y&&w==="("?")":""),q){for(ue=-1,ge=$.length;++ue<ge;)if(Q=$.charCodeAt(ue),48>Q||Q>57){ce=(Q===46?i+$.slice(ue+1):$.slice(ue))+ce,$=$.slice(0,ue);break}}}E&&!C&&($=t($,1/0));var ee=U.length+$.length+ce.length,ne=ee<k?new Array(k-ee+1).join(v):"";switch(E&&C&&($=t(ne+$,ne.length?k-ce.length:1/0),ne=""),x){case"<":$=U+$+ce+ne;break;case"=":$=U+ne+$+ce;break;case"^":$=ne.slice(0,ee=ne.length>>1)+U+$+ce+ne.slice(ee);break;default:$=ne+U+$+ce;break}return o($)}return G.toString=function(){return p+""},G}function f(p,m){var v=Math.max(-8,Math.min(8,Math.floor(Bs(m)/3)))*3,x=Math.pow(10,-v),w=d((p=Wc(p),p.type="f",p),{suffix:yE[8+v/3]});return function(b){return w(x*b)}}return{format:d,formatPrefix:f}}var tf,Mb,uM;hZ({thousands:",",grouping:[3],currency:["$",""]});function hZ(e){return tf=pZ(e),Mb=tf.format,uM=tf.formatPrefix,tf}function mZ(e){return Math.max(0,-Bs(Math.abs(e)))}function gZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bs(t)/3)))*3-Bs(Math.abs(e)))}function vZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bs(t)-Bs(e))+1}function dM(e,t,n,r){var i=T0(e,t,n),o;switch(r=Wc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=gZ(i,s))&&(r.precision=o),uM(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=vZ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=mZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Mb(r)}function Wo(e){var t=e.domain;return e.ticks=function(n){var r=t();return O0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return dM(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],l=r[o],u,d,f=10;for(l<s&&(d=s,s=l,l=d,d=i,i=o,o=d);f-- >0;){if(d=j0(s,l,n),d===u)return r[i]=s,r[o]=l,t(r);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function fM(){var e=_b();return e.copy=function(){return du(e,fM())},Dr.apply(e,arguments),Wo(e)}function pM(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,up),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return pM(e).unknown(t)},e=arguments.length?Array.from(e,up):[0,1],Wo(n)}function hM(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function xE(e){return Math.log(e)}function bE(e){return Math.exp(e)}function yZ(e){return-Math.log(-e)}function xZ(e){return-Math.exp(-e)}function bZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wZ(e){return e===10?bZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function SZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wE(e){return(t,n)=>-e(-t,n)}function Ib(e){const t=e(xE,bE),n=t.domain;let r=10,i,o;function s(){return i=SZ(r),o=wZ(r),n()[0]<0?(i=wE(i),o=wE(o),e(yZ,xZ)):e(xE,bE),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(n(l),s()):n()},t.ticks=l=>{const u=n();let d=u[0],f=u[u.length-1];const p=f<d;p&&([d,f]=[f,d]);let m=i(d),v=i(f),x,w;const b=l==null?10:+l;let C=[];if(!(r%1)&&v-m<b){if(m=Math.floor(m),v=Math.ceil(v),d>0){for(;m<=v;++m)for(x=1;x<r;++x)if(w=m<0?x/o(-m):x*o(m),!(w<d)){if(w>f)break;C.push(w)}}else for(;m<=v;++m)for(x=r-1;x>=1;--x)if(w=m>0?x/o(-m):x*o(m),!(w<d)){if(w>f)break;C.push(w)}C.length*2<b&&(C=O0(d,f,b))}else C=O0(m,v,Math.min(v-m,b)).map(o);return p?C.reverse():C},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Wc(u)).precision==null&&(u.trim=!0),u=Mb(u)),l===1/0)return u;const d=Math.max(1,r*l/t.ticks().length);return f=>{let p=f/o(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=d?u(f):""}},t.nice=()=>n(hM(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),t}function mM(){const e=Ib(ph()).domain([1,10]);return e.copy=()=>du(e,mM()).base(e.base()),Dr.apply(e,arguments),e}function SE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function PE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Rb(e){var t=1,n=e(SE(t),PE(t));return n.constant=function(r){return arguments.length?e(SE(t=+r),PE(t)):t},Wo(n)}function gM(){var e=Rb(ph());return e.copy=function(){return du(e,gM()).constant(e.constant())},Dr.apply(e,arguments)}function CE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CZ(e){return e<0?-e*e:e*e}function Lb(e){var t=e(Mn,Mn),n=1;function r(){return n===1?e(Mn,Mn):n===.5?e(PZ,CZ):e(CE(n),CE(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Wo(t)}function Fb(){var e=Lb(ph());return e.copy=function(){return du(e,Fb()).exponent(e.exponent())},Dr.apply(e,arguments),e}function AZ(){return Fb.apply(null,arguments).exponent(.5)}function AE(e){return Math.sign(e)*e*e}function kZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function vM(){var e=_b(),t=[0,1],n=!1,r;function i(o){var s=kZ(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(AE(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,up)).map(AE)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return vM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Dr.apply(i,arguments),Wo(i)}function yM(){var e=[],t=[],n=[],r;function i(){var s=0,l=Math.max(1,t.length);for(n=new Array(l-1);++s<l;)n[s-1]=jX(e,s/l);return o}function o(s){return s==null||isNaN(s=+s)?r:t[cu(n,s)]}return o.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Do),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return yM().domain(e).range(t).unknown(r)},Dr.apply(o,arguments)}function xM(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(u){return u!=null&&u<=u?i[cu(r,u,0,n)]:o}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},s.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return xM().domain([e,t]).range(i).unknown(o)},Dr.apply(Wo(s),arguments)}function bM(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[cu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return bM().domain(e).range(t).unknown(n)},Dr.apply(i,arguments)}const ry=new Date,iy=new Date;function Gt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const u=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return u;let d;do u.push(d=new Date(+o)),t(o,l),e(o);while(d<o&&o<s);return u},i.filter=o=>Gt(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!o(s););else for(;--l>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(ry.setTime(+o),iy.setTime(+s),e(ry),e(iy),Math.floor(n(ry,iy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const pp=Gt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):pp);pp.range;const Ii=1e3,Nr=Ii*60,Ri=Nr*60,Ui=Ri*24,$b=Ui*7,kE=Ui*30,oy=Ui*365,va=Gt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCSeconds());va.range;const Bb=Gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ii)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getMinutes());Bb.range;const zb=Gt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getUTCMinutes());zb.range;const Wb=Gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ii-e.getMinutes()*Nr)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getHours());Wb.range;const Vb=Gt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCHours());Vb.range;const fu=Gt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nr)/Ui,e=>e.getDate()-1);fu.range;const hh=Gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ui,e=>e.getUTCDate()-1);hh.range;const wM=Gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ui,e=>Math.floor(e/Ui));wM.range;function Ma(e){return Gt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Nr)/$b)}const mh=Ma(0),hp=Ma(1),EZ=Ma(2),NZ=Ma(3),zs=Ma(4),OZ=Ma(5),jZ=Ma(6);mh.range;hp.range;EZ.range;NZ.range;zs.range;OZ.range;jZ.range;function Ia(e){return Gt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$b)}const gh=Ia(0),mp=Ia(1),TZ=Ia(2),_Z=Ia(3),Ws=Ia(4),DZ=Ia(5),MZ=Ia(6);gh.range;mp.range;TZ.range;_Z.range;Ws.range;DZ.range;MZ.range;const Ub=Gt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ub.range;const Hb=Gt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Hb.range;const Hi=Gt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Hi.range;const Gi=Gt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Gi.range;function SM(e,t,n,r,i,o){const s=[[va,1,Ii],[va,5,5*Ii],[va,15,15*Ii],[va,30,30*Ii],[o,1,Nr],[o,5,5*Nr],[o,15,15*Nr],[o,30,30*Nr],[i,1,Ri],[i,3,3*Ri],[i,6,6*Ri],[i,12,12*Ri],[r,1,Ui],[r,2,2*Ui],[n,1,$b],[t,1,kE],[t,3,3*kE],[e,1,oy]];function l(d,f,p){const m=f<d;m&&([d,f]=[f,d]);const v=p&&typeof p.range=="function"?p:u(d,f,p),x=v?v.range(d,+f+1):[];return m?x.reverse():x}function u(d,f,p){const m=Math.abs(f-d)/p,v=kb(([,,b])=>b).right(s,m);if(v===s.length)return e.every(T0(d/oy,f/oy,p));if(v===0)return pp.every(Math.max(T0(d,f,p),1));const[x,w]=s[m/s[v-1][2]<s[v][2]/m?v-1:v];return x.every(w)}return[l,u]}const[IZ,RZ]=SM(Gi,Hb,gh,wM,Vb,zb),[LZ,FZ]=SM(Hi,Ub,mh,fu,Wb,Bb);function ay(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function $Z(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,d=ec(i),f=tc(i),p=ec(o),m=tc(o),v=ec(s),x=tc(s),w=ec(l),b=tc(l),C=ec(u),k=tc(u),E={a:Q,A:Y,b:ee,B:ne,c:null,d:_E,e:_E,f:lQ,g:yQ,G:bQ,H:oQ,I:aQ,j:sQ,L:PM,m:cQ,M:uQ,p:L,q:W,Q:IE,s:RE,S:dQ,u:fQ,U:pQ,V:hQ,w:mQ,W:gQ,x:null,X:null,y:vQ,Y:xQ,Z:wQ,"%":ME},N={a:ie,A:ae,b:de,B:X,c:null,d:DE,e:DE,f:AQ,g:IQ,G:LQ,H:SQ,I:PQ,j:CQ,L:AM,m:kQ,M:EQ,p:B,q:te,Q:IE,s:RE,S:NQ,u:OQ,U:jQ,V:TQ,w:_Q,W:DQ,x:null,X:null,y:MQ,Y:RQ,Z:FQ,"%":ME},T={a:q,A:G,b:$,B:U,c:ce,d:jE,e:jE,f:tQ,g:OE,G:NE,H:TE,I:TE,j:ZZ,L:eQ,m:XZ,M:QZ,p:V,q:YZ,Q:rQ,s:iQ,S:JZ,u:UZ,U:HZ,V:GZ,w:VZ,W:KZ,x:ue,X:ge,y:OE,Y:NE,Z:qZ,"%":nQ};E.x=O(n,E),E.X=O(r,E),E.c=O(t,E),N.x=O(n,N),N.X=O(r,N),N.c=O(t,N);function O(R,re){return function(fe){var I=[],Ce=-1,we=0,Ye=R.length,ze,rt,xe;for(fe instanceof Date||(fe=new Date(+fe));++Ce<Ye;)R.charCodeAt(Ce)===37&&(I.push(R.slice(we,Ce)),(rt=EE[ze=R.charAt(++Ce)])!=null?ze=R.charAt(++Ce):rt=ze==="e"?" ":"0",(xe=re[ze])&&(ze=xe(fe,rt)),I.push(ze),we=Ce+1);return I.push(R.slice(we,Ce)),I.join("")}}function _(R,re){return function(fe){var I=Jl(1900,void 0,1),Ce=D(I,R,fe+="",0),we,Ye;if(Ce!=fe.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(re&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(we=sy(Jl(I.y,0,1)),Ye=we.getUTCDay(),we=Ye>4||Ye===0?mp.ceil(we):mp(we),we=hh.offset(we,(I.V-1)*7),I.y=we.getUTCFullYear(),I.m=we.getUTCMonth(),I.d=we.getUTCDate()+(I.w+6)%7):(we=ay(Jl(I.y,0,1)),Ye=we.getDay(),we=Ye>4||Ye===0?hp.ceil(we):hp(we),we=fu.offset(we,(I.V-1)*7),I.y=we.getFullYear(),I.m=we.getMonth(),I.d=we.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),Ye="Z"in I?sy(Jl(I.y,0,1)).getUTCDay():ay(Jl(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(Ye+5)%7:I.w+I.U*7-(Ye+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,sy(I)):ay(I)}}function D(R,re,fe,I){for(var Ce=0,we=re.length,Ye=fe.length,ze,rt;Ce<we;){if(I>=Ye)return-1;if(ze=re.charCodeAt(Ce++),ze===37){if(ze=re.charAt(Ce++),rt=T[ze in EE?re.charAt(Ce++):ze],!rt||(I=rt(R,fe,I))<0)return-1}else if(ze!=fe.charCodeAt(I++))return-1}return I}function V(R,re,fe){var I=d.exec(re.slice(fe));return I?(R.p=f.get(I[0].toLowerCase()),fe+I[0].length):-1}function q(R,re,fe){var I=v.exec(re.slice(fe));return I?(R.w=x.get(I[0].toLowerCase()),fe+I[0].length):-1}function G(R,re,fe){var I=p.exec(re.slice(fe));return I?(R.w=m.get(I[0].toLowerCase()),fe+I[0].length):-1}function $(R,re,fe){var I=C.exec(re.slice(fe));return I?(R.m=k.get(I[0].toLowerCase()),fe+I[0].length):-1}function U(R,re,fe){var I=w.exec(re.slice(fe));return I?(R.m=b.get(I[0].toLowerCase()),fe+I[0].length):-1}function ce(R,re,fe){return D(R,t,re,fe)}function ue(R,re,fe){return D(R,n,re,fe)}function ge(R,re,fe){return D(R,r,re,fe)}function Q(R){return s[R.getDay()]}function Y(R){return o[R.getDay()]}function ee(R){return u[R.getMonth()]}function ne(R){return l[R.getMonth()]}function L(R){return i[+(R.getHours()>=12)]}function W(R){return 1+~~(R.getMonth()/3)}function ie(R){return s[R.getUTCDay()]}function ae(R){return o[R.getUTCDay()]}function de(R){return u[R.getUTCMonth()]}function X(R){return l[R.getUTCMonth()]}function B(R){return i[+(R.getUTCHours()>=12)]}function te(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var re=O(R+="",E);return re.toString=function(){return R},re},parse:function(R){var re=_(R+="",!1);return re.toString=function(){return R},re},utcFormat:function(R){var re=O(R+="",N);return re.toString=function(){return R},re},utcParse:function(R){var re=_(R+="",!0);return re.toString=function(){return R},re}}}var EE={"-":"",_:" ",0:"0"},on=/^\s*\d+/,BZ=/^%/,zZ=/[\\^$*+?|[\]().{}]/g;function nt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function WZ(e){return e.replace(zZ,"\\$&")}function ec(e){return new RegExp("^(?:"+e.map(WZ).join("|")+")","i")}function tc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function VZ(e,t,n){var r=on.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function UZ(e,t,n){var r=on.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function HZ(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function GZ(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function KZ(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function NE(e,t,n){var r=on.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function OE(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qZ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function YZ(e,t,n){var r=on.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function XZ(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function jE(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ZZ(e,t,n){var r=on.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function TE(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function QZ(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function JZ(e,t,n){var r=on.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function eQ(e,t,n){var r=on.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function tQ(e,t,n){var r=on.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function nQ(e,t,n){var r=BZ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function rQ(e,t,n){var r=on.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function iQ(e,t,n){var r=on.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function _E(e,t){return nt(e.getDate(),t,2)}function oQ(e,t){return nt(e.getHours(),t,2)}function aQ(e,t){return nt(e.getHours()%12||12,t,2)}function sQ(e,t){return nt(1+fu.count(Hi(e),e),t,3)}function PM(e,t){return nt(e.getMilliseconds(),t,3)}function lQ(e,t){return PM(e,t)+"000"}function cQ(e,t){return nt(e.getMonth()+1,t,2)}function uQ(e,t){return nt(e.getMinutes(),t,2)}function dQ(e,t){return nt(e.getSeconds(),t,2)}function fQ(e){var t=e.getDay();return t===0?7:t}function pQ(e,t){return nt(mh.count(Hi(e)-1,e),t,2)}function CM(e){var t=e.getDay();return t>=4||t===0?zs(e):zs.ceil(e)}function hQ(e,t){return e=CM(e),nt(zs.count(Hi(e),e)+(Hi(e).getDay()===4),t,2)}function mQ(e){return e.getDay()}function gQ(e,t){return nt(hp.count(Hi(e)-1,e),t,2)}function vQ(e,t){return nt(e.getFullYear()%100,t,2)}function yQ(e,t){return e=CM(e),nt(e.getFullYear()%100,t,2)}function xQ(e,t){return nt(e.getFullYear()%1e4,t,4)}function bQ(e,t){var n=e.getDay();return e=n>=4||n===0?zs(e):zs.ceil(e),nt(e.getFullYear()%1e4,t,4)}function wQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nt(t/60|0,"0",2)+nt(t%60,"0",2)}function DE(e,t){return nt(e.getUTCDate(),t,2)}function SQ(e,t){return nt(e.getUTCHours(),t,2)}function PQ(e,t){return nt(e.getUTCHours()%12||12,t,2)}function CQ(e,t){return nt(1+hh.count(Gi(e),e),t,3)}function AM(e,t){return nt(e.getUTCMilliseconds(),t,3)}function AQ(e,t){return AM(e,t)+"000"}function kQ(e,t){return nt(e.getUTCMonth()+1,t,2)}function EQ(e,t){return nt(e.getUTCMinutes(),t,2)}function NQ(e,t){return nt(e.getUTCSeconds(),t,2)}function OQ(e){var t=e.getUTCDay();return t===0?7:t}function jQ(e,t){return nt(gh.count(Gi(e)-1,e),t,2)}function kM(e){var t=e.getUTCDay();return t>=4||t===0?Ws(e):Ws.ceil(e)}function TQ(e,t){return e=kM(e),nt(Ws.count(Gi(e),e)+(Gi(e).getUTCDay()===4),t,2)}function _Q(e){return e.getUTCDay()}function DQ(e,t){return nt(mp.count(Gi(e)-1,e),t,2)}function MQ(e,t){return nt(e.getUTCFullYear()%100,t,2)}function IQ(e,t){return e=kM(e),nt(e.getUTCFullYear()%100,t,2)}function RQ(e,t){return nt(e.getUTCFullYear()%1e4,t,4)}function LQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ws(e):Ws.ceil(e),nt(e.getUTCFullYear()%1e4,t,4)}function FQ(){return"+0000"}function ME(){return"%"}function IE(e){return+e}function RE(e){return Math.floor(+e/1e3)}var ds,EM,NM;$Q({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $Q(e){return ds=$Z(e),EM=ds.format,ds.parse,NM=ds.utcFormat,ds.utcParse,ds}function BQ(e){return new Date(e)}function zQ(e){return e instanceof Date?+e:+new Date(+e)}function Gb(e,t,n,r,i,o,s,l,u,d){var f=_b(),p=f.invert,m=f.domain,v=d(".%L"),x=d(":%S"),w=d("%I:%M"),b=d("%I %p"),C=d("%a %d"),k=d("%b %d"),E=d("%B"),N=d("%Y");function T(O){return(u(O)<O?v:l(O)<O?x:s(O)<O?w:o(O)<O?b:r(O)<O?i(O)<O?C:k:n(O)<O?E:N)(O)}return f.invert=function(O){return new Date(p(O))},f.domain=function(O){return arguments.length?m(Array.from(O,zQ)):m().map(BQ)},f.ticks=function(O){var _=m();return e(_[0],_[_.length-1],O??10)},f.tickFormat=function(O,_){return _==null?T:d(_)},f.nice=function(O){var _=m();return(!O||typeof O.range!="function")&&(O=t(_[0],_[_.length-1],O??10)),O?m(hM(_,O)):f},f.copy=function(){return du(f,Gb(e,t,n,r,i,o,s,l,u,d))},f}function WQ(){return Dr.apply(Gb(LZ,FZ,Hi,Ub,mh,fu,Wb,Bb,va,EM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VQ(){return Dr.apply(Gb(IZ,RZ,Gi,Hb,gh,hh,Vb,zb,va,NM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vh(){var e=0,t=1,n,r,i,o,s=Mn,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:s(i===0?.5:(p=(o(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t]=p,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(s=p,d):s};function f(p){return function(m){var v,x;return arguments.length?([v,x]=m,s=p(v,x),d):[s(0),s(1)]}}return d.range=f(Zs),d.rangeRound=f(Tb),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return o=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),d}}function Vo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OM(){var e=Wo(vh()(Mn));return e.copy=function(){return Vo(e,OM())},Qi.apply(e,arguments)}function jM(){var e=Ib(vh()).domain([1,10]);return e.copy=function(){return Vo(e,jM()).base(e.base())},Qi.apply(e,arguments)}function TM(){var e=Rb(vh());return e.copy=function(){return Vo(e,TM()).constant(e.constant())},Qi.apply(e,arguments)}function Kb(){var e=Lb(vh());return e.copy=function(){return Vo(e,Kb()).exponent(e.exponent())},Qi.apply(e,arguments)}function UQ(){return Kb.apply(null,arguments).exponent(.5)}function _M(){var e=[],t=Mn;function n(r){if(r!=null&&!isNaN(r=+r))return t((cu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Do),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>OX(e,o/r))},n.copy=function(){return _M(t).domain(e)},Qi.apply(n,arguments)}function yh(){var e=0,t=.5,n=1,r=1,i,o,s,l,u,d=Mn,f,p=!1,m;function v(w){return isNaN(w=+w)?m:(w=.5+((w=+f(w))-o)*(r*w<r*o?l:u),d(p?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,n]=w,i=f(e=+e),o=f(t=+t),s=f(n=+n),l=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,v):[e,t,n]},v.clamp=function(w){return arguments.length?(p=!!w,v):p},v.interpolator=function(w){return arguments.length?(d=w,v):d};function x(w){return function(b){var C,k,E;return arguments.length?([C,k,E]=b,d=nZ(w,[C,k,E]),v):[d(0),d(.5),d(1)]}}return v.range=x(Zs),v.rangeRound=x(Tb),v.unknown=function(w){return arguments.length?(m=w,v):m},function(w){return f=w,i=w(e),o=w(t),s=w(n),l=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,v}}function DM(){var e=Wo(yh()(Mn));return e.copy=function(){return Vo(e,DM())},Qi.apply(e,arguments)}function MM(){var e=Ib(yh()).domain([.1,1,10]);return e.copy=function(){return Vo(e,MM()).base(e.base())},Qi.apply(e,arguments)}function IM(){var e=Rb(yh());return e.copy=function(){return Vo(e,IM()).constant(e.constant())},Qi.apply(e,arguments)}function qb(){var e=Lb(yh());return e.copy=function(){return Vo(e,qb()).exponent(e.exponent())},Qi.apply(e,arguments)}function HQ(){return qb.apply(null,arguments).exponent(.5)}const ac=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nb,scaleDiverging:DM,scaleDivergingLog:MM,scaleDivergingPow:qb,scaleDivergingSqrt:HQ,scaleDivergingSymlog:IM,scaleIdentity:pM,scaleImplicit:_0,scaleLinear:fM,scaleLog:mM,scaleOrdinal:Eb,scalePoint:_X,scalePow:Fb,scaleQuantile:yM,scaleQuantize:xM,scaleRadial:vM,scaleSequential:OM,scaleSequentialLog:jM,scaleSequentialPow:Kb,scaleSequentialQuantile:_M,scaleSequentialSqrt:UQ,scaleSequentialSymlog:TM,scaleSqrt:AZ,scaleSymlog:gM,scaleThreshold:bM,scaleTime:WQ,scaleUtc:VQ,tickFormat:dM},Symbol.toStringTag,{value:"Module"}));var Ji=e=>e.chartData,RM=J([Ji],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),LM=(e,t,n,r)=>r?RM(e):Ji(e),GQ=(e,t,n)=>n?RM(e):Ji(e);function Ki(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Qe(t)&&Qe(n))return!0}return!1}function LE(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function FM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(Qe(n))i=n;else if(typeof n=="function")return;if(Qe(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Ki(s))return s}}function KQ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ki(r))return LE(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,s,l;if(i==="auto")t!=null&&(s=Math.min(...t));else if(_e(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&YA.test(i)){var u=YA.exec(i);if(u==null||u[1]==null||t==null)s=void 0;else{var d=+u[1];s=t[0]-d}}else s=t?.[0];if(o==="auto")t!=null&&(l=Math.max(...t));else if(_e(o))l=o;else if(typeof o=="function")try{t!=null&&(l=o(t?.[1]))}catch{}else if(typeof o=="string"&&XA.test(o)){var f=XA.exec(o);if(f==null||f[1]==null||t==null)l=void 0;else{var p=+f[1];l=t[1]+p}}else l=t?.[1];var m=[s,l];if(Ki(m))return t==null?m:LE(m,t,n)}}}var Qs=1e9,qQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xb,Et=!0,_r="[DecimalError] ",Pa=_r+"Invalid argument: ",Yb=_r+"Exponent out of range: ",Js=Math.floor,fa=Math.pow,YQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rr,en=1e7,wt=7,$M=9007199254740991,gp=Js($M/wt),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*wt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(e){return $i(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,n=t.constructor;return mt($i(t,new n(e),0,1),n.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return Wt(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(rr))throw Error(_r+"NaN");if(n.s<1)throw Error(_r+(n.s?"NaN":"-Infinity"));return n.eq(rr)?new r(0):(Et=!1,t=$i(Vc(n,o),Vc(e,o),o),Et=!0,mt(t,i))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WM(t,e):BM(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(_r+"NaN");return n.s?(Et=!1,t=$i(n,e,0,1).times(e),Et=!0,n.minus(t)):mt(new r(n),i)};ke.naturalExponential=ke.exp=function(){return zM(this)};ke.naturalLogarithm=ke.ln=function(){return Vc(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BM(t,e):WM(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Pa+e);if(t=Wt(i)+1,r=i.d.length-1,n=r*wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ke.squareRoot=ke.sqrt=function(){var e,t,n,r,i,o,s,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(_r+"NaN")}for(e=Wt(l),Et=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=di(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Js((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(o=r,r=o.plus($i(l,o,s+2)).times(.5),di(o.d).slice(0,s)===(t=di(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(mt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(t!="9999")break;s+=4}return Et=!0,mt(r,n)};ke.times=ke.mul=function(e){var t,n,r,i,o,s,l,u,d,f=this,p=f.constructor,m=f.d,v=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,n=f.e+e.e,u=m.length,d=v.length,u<d&&(o=m,m=v,v=o,s=u,u=d,d=s),o=[],s=u+d,r=s;r--;)o.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)l=o[i]+v[r]*m[i-r-1]+t,o[i--]=l%en|0,t=l/en|0;o[i]=(o[i]+t)%en|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Et?mt(e,p.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(xi(e,0,Qs),t===void 0?t=r.rounding:xi(t,0,8),mt(n,e+Wt(n)+1,t))};ke.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ta(r,!0):(xi(e,0,Qs),t===void 0?t=i.rounding:xi(t,0,8),r=mt(new i(r),e+1,t),n=Ta(r,!0,e+1)),n};ke.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Ta(i):(xi(e,0,Qs),t===void 0?t=o.rounding:xi(t,0,8),r=mt(new o(i),e+Wt(i)+1,t),n=Ta(r.abs(),!1,e+Wt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return mt(new t(e),Wt(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,n,r,i,o,s,l=this,u=l.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(rr);if(l=new u(l),!l.s){if(e.s<1)throw Error(_r+"Infinity");return l}if(l.eq(rr))return l;if(r=u.precision,e.eq(rr))return mt(l,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=l.s,s){if((n=f<0?-f:f)<=$M){for(i=new u(rr),t=Math.ceil(r/wt+4),Et=!1;n%2&&(i=i.times(l),$E(i.d,t)),n=Js(n/2),n!==0;)l=l.times(l),$E(l.d,t);return Et=!0,e.s<0?new u(rr).div(i):mt(i,r)}}else if(o<0)throw Error(_r+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Et=!1,i=e.times(Vc(l,r+d)),Et=!0,i=zM(i),i.s=o,i};ke.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Wt(i),r=Ta(i,n<=o.toExpNeg||n>=o.toExpPos)):(xi(e,1,Qs),t===void 0?t=o.rounding:xi(t,0,8),i=mt(new o(i),e,t),n=Wt(i),r=Ta(i,e<=n||n<=o.toExpNeg,e)),r};ke.toSignificantDigits=ke.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(xi(e,1,Qs),t===void 0?t=r.rounding:xi(t,0,8)),mt(new r(n),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wt(e),n=e.constructor;return Ta(e,t<=n.toExpNeg||t>=n.toExpPos)};function BM(e,t){var n,r,i,o,s,l,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Et?mt(t,p):t;if(u=e.d,d=t.d,s=e.e,i=t.e,u=u.slice(),o=s-i,o){for(o<0?(r=u,o=-o,l=d.length):(r=d,i=s,l=u.length),s=Math.ceil(p/wt),l=s>l?s+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=u.length,o=d.length,l-o<0&&(o=l,r=d,d=u,u=r),n=0;o;)n=(u[--o]=u[o]+d[o]+n)/en|0,u[o]%=en;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,Et?mt(t,p):t}function xi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Pa+e)}function di(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=wt-r.length,n&&(o+=ko(n)),o+=r;s=e[t],r=s+"",n=wt-r.length,n&&(o+=ko(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var $i=(function(){function e(r,i){var o,s=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+s,r[l]=o%en|0,s=o/en|0;return s&&r.unshift(s),r}function t(r,i,o,s){var l,u;if(o!=s)u=o>s?1:-1;else for(l=u=0;l<o;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*en+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var l,u,d,f,p,m,v,x,w,b,C,k,E,N,T,O,_,D,V=r.constructor,q=r.s==i.s?1:-1,G=r.d,$=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(_r+"Division by zero");for(u=r.e-i.e,_=$.length,T=G.length,v=new V(q),x=v.d=[],d=0;$[d]==(G[d]||0);)++d;if($[d]>(G[d]||0)&&--u,o==null?k=o=V.precision:s?k=o+(Wt(r)-Wt(i))+1:k=o,k<0)return new V(0);if(k=k/wt+2|0,d=0,_==1)for(f=0,$=$[0],k++;(d<T||f)&&k--;d++)E=f*en+(G[d]||0),x[d]=E/$|0,f=E%$|0;else{for(f=en/($[0]+1)|0,f>1&&($=e($,f),G=e(G,f),_=$.length,T=G.length),N=_,w=G.slice(0,_),b=w.length;b<_;)w[b++]=0;D=$.slice(),D.unshift(0),O=$[0],$[1]>=en/2&&++O;do f=0,l=t($,w,_,b),l<0?(C=w[0],_!=b&&(C=C*en+(w[1]||0)),f=C/O|0,f>1?(f>=en&&(f=en-1),p=e($,f),m=p.length,b=w.length,l=t(p,w,m,b),l==1&&(f--,n(p,_<m?D:$,m))):(f==0&&(l=f=1),p=$.slice()),m=p.length,m<b&&p.unshift(0),n(w,p,b),l==-1&&(b=w.length,l=t($,w,_,b),l<1&&(f++,n(w,_<b?D:$,b))),b=w.length):l===0&&(f++,w=[0]),x[d++]=f,l&&w[0]?w[b++]=G[N]||0:(w=[G[N]],b=1);while((N++<T||w[0]!==void 0)&&k--)}return x[0]||x.shift(),v.e=u,mt(v,s?o+Wt(v)+1:o)}})();function zM(e,t){var n,r,i,o,s,l,u=0,d=0,f=e.constructor,p=f.precision;if(Wt(e)>16)throw Error(Yb+Wt(e));if(!e.s)return new f(rr);for(Et=!1,l=p,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(r=Math.log(fa(2,d))/Math.LN10*2+5|0,l+=r,n=i=o=new f(rr),f.precision=l;;){if(i=mt(i.times(e),l),n=n.times(++u),s=o.plus($i(i,n,l)),di(s.d).slice(0,l)===di(o.d).slice(0,l)){for(;d--;)o=mt(o.times(o),l);return f.precision=p,t==null?(Et=!0,mt(o,p)):o}o=s}}function Wt(e){for(var t=e.e*wt,n=e.d[0];n>=10;n/=10)t++;return t}function ly(e,t,n){if(t>e.LN10.sd())throw Et=!0,n&&(e.precision=n),Error(_r+"LN10 precision limit exceeded");return mt(new e(e.LN10),t)}function ko(e){for(var t="";e--;)t+="0";return t}function Vc(e,t){var n,r,i,o,s,l,u,d,f,p=1,m=10,v=e,x=v.d,w=v.constructor,b=w.precision;if(v.s<1)throw Error(_r+(v.s?"NaN":"-Infinity"));if(v.eq(rr))return new w(0);if(t==null?(Et=!1,d=b):d=t,v.eq(10))return t==null&&(Et=!0),ly(w,d);if(d+=m,w.precision=d,n=di(x),r=n.charAt(0),o=Wt(v),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=di(v.d),r=n.charAt(0),p++;o=Wt(v),r>1?(v=new w("0."+n),o++):v=new w(r+"."+n.slice(1))}else return u=ly(w,d+2,b).times(o+""),v=Vc(new w(r+"."+n.slice(1)),d-m).plus(u),w.precision=b,t==null?(Et=!0,mt(v,b)):v;for(l=s=v=$i(v.minus(rr),v.plus(rr),d),f=mt(v.times(v),d),i=3;;){if(s=mt(s.times(f),d),u=l.plus($i(s,new w(i),d)),di(u.d).slice(0,d)===di(l.d).slice(0,d))return l=l.times(2),o!==0&&(l=l.plus(ly(w,d+2,b).times(o+""))),l=$i(l,new w(p),d),w.precision=b,t==null?(Et=!0,mt(l,b)):l;l=u,i+=2}}function FE(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Js(n/wt),e.d=[],r=(n+1)%wt,n<0&&(r+=wt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=wt;r<i;)e.d.push(+t.slice(r,r+=wt));t=t.slice(r),r=wt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Et&&(e.e>gp||e.e<-gp))throw Error(Yb+n)}else e.s=0,e.e=0,e.d=[0];return e}function mt(e,t,n){var r,i,o,s,l,u,d,f,p=e.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=wt,i=t,d=p[f=0];else{if(f=Math.ceil((r+1)/wt),o=p.length,f>=o)return e;for(d=o=p[f],s=1;o>=10;o/=10)s++;r%=wt,i=r-wt+s}if(n!==void 0&&(o=fa(10,s-i-1),l=d/o%10|0,u=t<0||p[f+1]!==void 0||d%o,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/fa(10,s-i):0:p[f-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(o=Wt(e),p.length=1,t=t-o-1,p[0]=fa(10,(wt-t%wt)%wt),e.e=Js(-t/wt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=f,o=1,f--):(p.length=f+1,o=fa(10,wt-r),p[f]=i>0?(d/fa(10,s-i)%fa(10,i)|0)*o:0),u)for(;;)if(f==0){(p[0]+=o)==en&&(p[0]=1,++e.e);break}else{if(p[f]+=o,p[f]!=en)break;p[f--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Et&&(e.e>gp||e.e<-gp))throw Error(Yb+Wt(e));return e}function WM(e,t){var n,r,i,o,s,l,u,d,f,p,m=e.constructor,v=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Et?mt(t,v):t;if(u=e.d,p=t.d,r=t.e,d=e.e,u=u.slice(),s=d-r,s){for(f=s<0,f?(n=u,s=-s,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(v/wt),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){f=u[i]<p[i];break}s=0}for(f&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>s;){if(u[--i]<p[i]){for(o=i;o&&u[--o]===0;)u[o]=en-1;--u[o],u[i]+=en}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,Et?mt(t,v):t):new m(0)}function Ta(e,t,n){var r,i=Wt(e),o=di(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ko(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ko(-i-1)+o,n&&(r=n-s)>0&&(o+=ko(r))):i>=s?(o+=ko(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ko(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ko(r))),e.s<0?"-"+o:o}function $E(e,t){if(e.length>t)return e.length=t,!0}function VM(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Pa+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return FE(s,o.toString())}else if(typeof o!="string")throw Error(Pa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,YQ.test(o))FE(s,o);else throw Error(Pa+o)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VM,i.config=i.set=XQ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function XQ(e){if(!e||typeof e!="object")throw Error(_r+"Object expected");var t,n,r,i=["precision",1,Qs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Js(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Pa+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Pa+n+": "+r);return this}var Xb=VM(qQ);rr=new Xb(1);const ct=Xb;function UM(e){var t;return e===0?t=1:t=Math.floor(new ct(e).abs().log(10).toNumber())+1,t}function HM(e,t,n){for(var r=new ct(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var GM=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},KM=(e,t,n)=>{if(e.lte(0))return new ct(0);var r=UM(e.toNumber()),i=new ct(10).pow(r),o=e.div(i),s=r!==1?.05:.1,l=new ct(Math.ceil(o.div(s).toNumber())).add(n).mul(s),u=l.mul(i);return t?new ct(u.toNumber()):new ct(Math.ceil(u.toNumber()))},ZQ=(e,t,n)=>{var r=new ct(1),i=new ct(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new ct(10).pow(UM(e)-1),i=new ct(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ct(Math.floor(e)))}else e===0?i=new ct(Math.floor((t-1)/2)):n||(i=new ct(Math.floor(e)));for(var s=Math.floor((t-1)/2),l=[],u=0;u<t;u++)l.push(i.add(new ct(u-s).mul(r)).toNumber());return l},qM=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var s=KM(new ct(n).sub(t).div(r-1),i,o),l;t<=0&&n>=0?l=new ct(0):(l=new ct(t).add(n).div(2),l=l.sub(new ct(l).mod(s)));var u=Math.ceil(l.sub(t).div(s).toNumber()),d=Math.ceil(new ct(n).sub(l).div(s).toNumber()),f=u+d+1;return f>r?qM(t,n,r,i,o+1):(f<r&&(d=n>0?d+(r-f):d,u=n>0?u:u+(r-f)),{step:s,tickMin:l.sub(new ct(u).mul(s)),tickMax:l.add(new ct(d).mul(s))})},QQ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[l,u]=GM([n,r]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return n>r?d.reverse():d}if(l===u)return ZQ(l,i,o);var{step:f,tickMin:p,tickMax:m}=qM(l,u,s,o,0),v=HM(p,m.add(new ct(.1).mul(f)),f);return n>r?v.reverse():v},JQ=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=GM([r,i]);if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var u=Math.max(n,2),d=KM(new ct(l).sub(s).div(u-1),o,0),f=[...HM(new ct(s),new ct(l),d),l];return o===!1&&(f=f.map(p=>Math.round(p))),r>i?f.reverse():f},eJ=e=>e.rootProps.barCategoryGap,xh=e=>e.rootProps.stackOffset,YM=e=>e.rootProps.reverseStackOrder,Zb=e=>e.options.chartName,Qb=e=>e.rootProps.syncId,XM=e=>e.rootProps.syncMethod,Jb=e=>e.options.eventEmitter,tJ=e=>e.rootProps.baseValue,In={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},aa={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ai={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},bh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function wh(e,t,n){if(n!=="auto")return n;if(e!=null)return bi(e,t)?"category":"number"}function BE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(n),!0).forEach(function(r){nJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nJ(e,t,n){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zE={allowDataOverflow:aa.allowDataOverflow,allowDecimals:aa.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:aa.angleAxisId,includeHidden:!1,name:void 0,reversed:aa.reversed,scale:aa.scale,tick:aa.tick,tickCount:void 0,ticks:void 0,type:aa.type,unit:void 0},WE={allowDataOverflow:ai.allowDataOverflow,allowDecimals:ai.allowDecimals,allowDuplicatedCategory:ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ai.radiusAxisId,includeHidden:ai.includeHidden,name:void 0,reversed:ai.reversed,scale:ai.scale,tick:ai.tick,tickCount:ai.tickCount,ticks:void 0,type:ai.type,unit:void 0},oJ=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},e1=J([oJ,BD],(e,t)=>{var n;if(e!=null)return e;var r=(n=wh(t,"angleAxis",zE.type))!==null&&n!==void 0?n:"category";return vp(vp({},zE),{},{type:r})}),aJ=(e,t)=>e.polarAxis.radiusAxis[t],t1=J([aJ,BD],(e,t)=>{var n;if(e!=null)return e;var r=(n=wh(t,"radiusAxis",WE.type))!==null&&n!==void 0?n:"category";return vp(vp({},WE),{},{type:r})}),Sh=e=>e.polarOptions,n1=J([Xi,Zi,yn],nX),ZM=J([Sh,n1],(e,t)=>{if(e!=null)return $o(e.innerRadius,t,0)}),QM=J([Sh,n1],(e,t)=>{if(e!=null)return $o(e.outerRadius,t,t*.8)}),sJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},JM=J([Sh],sJ);J([e1,JM],bh);var eI=J([n1,ZM,QM],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});J([t1,eI],bh);var tI=J([Nt,Sh,ZM,QM,Xi,Zi],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:l,startAngle:u,endAngle:d}=t;return{cx:$o(s,i,i/2),cy:$o(l,o,o/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),an=(e,t)=>t,Ph=(e,t,n)=>n;function r1(e){return e?.id}function nI(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:r;if(!(d==null||d.length===0)){var f=r1(l);d.forEach((p,m)=>{var v=o==null||i?m:String(vn(p,o,null)),x=vn(p,l.dataKey,0),w;s.has(v)?w=s.get(v):w={},Object.assign(w,{[f]:x}),s.set(v,w)})}}),Array.from(s.values())}function i1(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ch=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ah(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function lJ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var sn=e=>{var t=Nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},el=e=>e.tooltip.settings.axisId;function cJ(e){if(e in ac)return ac[e]();var t="scale".concat(db(e));if(t in ac)return ac[t]()}function VE(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(o){function s(){return o.apply(this,arguments)}return s.toString=function(){return o.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var s=i[0],l=i[1];return s<=l?o>=s&&o<=l:o>=l&&o<=s},bandwidth:n?()=>n.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,s)=>{var l=e(o);if(l!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var u=e.bandwidth();switch(s.position){case"middle":l+=u/2;break;case"end":l+=u;break}}return l}}}}function UE(e,t,n){if(typeof e=="function")return VE(e.copy().domain(t).range(n));if(e!=null){var r=cJ(e);if(r!=null)return r.domain(t).range(n),VE(r)}}var uJ=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ki(t)){for(var n,r,i=0;i<t.length;i++){var o=t[i];Qe(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(r){dJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dJ(e,t,n){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R0=[0,"auto"],Zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},rI=(e,t)=>e.cartesianAxis.xAxis[t],eo=(e,t)=>{var n=rI(e,t);return n??Zt},Qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:R0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ou},iI=(e,t)=>e.cartesianAxis.yAxis[t],to=(e,t)=>{var n=iI(e,t);return n??Qt},hJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},o1=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??hJ},Ln=(e,t,n)=>{switch(t){case"xAxis":return eo(e,n);case"yAxis":return to(e,n);case"zAxis":return o1(e,n);case"angleAxis":return e1(e,n);case"radiusAxis":return t1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},mJ=(e,t,n)=>{switch(t){case"xAxis":return eo(e,n);case"yAxis":return to(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pu=(e,t,n)=>{switch(t){case"xAxis":return eo(e,n);case"yAxis":return to(e,n);case"angleAxis":return e1(e,n);case"radiusAxis":return t1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},oI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function aI(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var sI=e=>e.graphicalItems.cartesianItems,gJ=J([an,Ph],aI),lI=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),hu=J([sI,Ln,gJ],lI,{memoizeOptions:{resultEqualityCheck:Ah}}),cI=J([hu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(i1)),uI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),vJ=J([hu],uI),dI=e=>e.map(t=>t.data).filter(Boolean).flat(1),yJ=J([hu],dI,{memoizeOptions:{resultEqualityCheck:Ah}}),fI=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},a1=J([yJ,LM],fI),pI=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:vn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:vn(i,r)}))):e.map(r=>({value:r})),kh=J([a1,Ln,hu],pI);function hI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function vf(e){if(vi(e)||e instanceof Date){var t=Number(e);if(Qe(t))return t}}function GE(e){if(Array.isArray(e)){var t=[vf(e[0]),vf(e[1])];return Ki(t)?t:void 0}var n=vf(e);if(n!=null)return[n,n]}function qi(e){return e.map(vf).filter(Un)}function xJ(e,t,n){return!n||typeof t!="number"||gi(t)?[]:n.length?qi(n.flatMap(r=>{var i=vn(e,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!Qe(o)||!Qe(s)))return[t-o,t+s]})):[]}var Kt=e=>{var t=sn(e),n=el(e);return pu(e,t,n)},mu=J([Kt],e=>e?.dataKey),bJ=J([cI,LM,Kt],nI),mI=(e,t,n,r)=>{var i={},o=t.reduce((s,l)=>{if(l.stackId==null)return s;var u=s[l.stackId];return u==null&&(u=[]),u.push(l),s[l.stackId]=u,s},i);return Object.fromEntries(Object.entries(o).map(s=>{var[l,u]=s,d=r?[...u].reverse():u,f=d.map(r1);return[l,{stackedData:HK(e,f,n),graphicalItems:d}]}))},gI=J([bJ,cI,xh,YM],mI),vI=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var s=YK(e,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},wJ=J([Ln],e=>e.allowDataOverflow),s1=e=>{var t;if(e==null||!("domain"in e))return R0;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=qi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:R0},yI=J([Ln],s1),xI=J([yI,wJ],FM),SJ=J([gI,Ji,an,xI],vI,{memoizeOptions:{resultEqualityCheck:Ch}}),l1=e=>e.errorBars,PJ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>hI(n,r)),xp=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),l=Math.max(...o);return[s,l]}},bI=(e,t,n,r,i)=>{var o,s;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var d,f,p=(d=r[u.id])===null||d===void 0?void 0:d.filter(C=>hI(i,C)),m=vn(l,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),v=xJ(l,m,p);if(v.length>=2){var x=Math.min(...v),w=Math.max(...v);(o==null||x<o)&&(o=x),(s==null||w>s)&&(s=w)}var b=GE(m);b!=null&&(o=o==null?b[0]:Math.min(o,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var u=GE(vn(l,t.dataKey));u!=null&&(o=o==null?u[0]:Math.min(o,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),Qe(o)&&Qe(s))return[o,s]},CJ=J([a1,Ln,vJ,l1,an],bI,{memoizeOptions:{resultEqualityCheck:Ch}});function AJ(e){var{value:t}=e;if(vi(t)||t instanceof Date)return t}var kJ=(e,t,n)=>{var r=e.map(AJ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&z_(r))?nM(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},wI=e=>e.referenceElements.dots,tl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),EJ=J([wI,an,Ph],tl),SI=e=>e.referenceElements.areas,NJ=J([SI,an,Ph],tl),PI=e=>e.referenceElements.lines,OJ=J([PI,an,Ph],tl),CI=(e,t)=>{if(e!=null){var n=qi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jJ=J(EJ,an,CI),AI=(e,t)=>{if(e!=null){var n=qi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},TJ=J([NJ,an],AI);function _J(e){var t;if(e.x!=null)return qi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:qi(n)}function DJ(e){var t;if(e.y!=null)return qi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:qi(n)}var kI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?_J(r):DJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},MJ=J([OJ,an],kI),IJ=J(jJ,MJ,TJ,(e,t,n)=>xp(e,n,t)),EI=(e,t,n,r,i,o,s,l)=>{if(n!=null)return n;var u=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",d=u?xp(r,o,i):xp(o,i);return KQ(t,d,e.allowDataOverflow)},RJ=J([Ln,yI,xI,SJ,CJ,IJ,Nt,an],EI,{memoizeOptions:{resultEqualityCheck:Ch}}),LJ=[0,1],NI=(e,t,n,r,i,o,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:u}=e,d=bi(t,o);if(d&&l==null){var f;return nM(0,(f=n?.length)!==null&&f!==void 0?f:0)}return u==="category"?kJ(r,e,d):i==="expand"?LJ:s}},c1=J([Ln,Nt,a1,kh,xh,an,RJ],NI);function FJ(e){return e in ac}var OI=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(db(r));return FJ(o)?o:"point"}}},nl=J([Ln,oI,Zb],OI);function u1(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?UE(e.scale,n,r):UE(t,n,r)}var jI=(e,t,n)=>{var r=s1(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ki(e))return QQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ki(e))return JQ(e,t.tickCount,t.allowDecimals)}},d1=J([c1,pu,nl],jI),TI=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Ki(t)&&Array.isArray(n)&&n.length>0){var i,o,s=t[0],l=(i=n[0])!==null&&i!==void 0?i:0,u=t[1],d=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(s,l),Math.max(u,d)]}return t},$J=J([Ln,c1,d1,an],TI),BJ=J(kh,Ln,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(qi(e.map(p=>p.value))).sort((p,m)=>p-m),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var s=o-i;if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var u=r[l],d=r[l+1];if(!(u==null||d==null)){var f=d-u;n=Math.min(n,f)}}return n/s}}),_I=J(BJ,Nt,eJ,yn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Qe(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var s=$o(n,e*o),l=e*o/2;return l-s-(l-s)/o*s}return 0}),zJ=(e,t,n)=>{var r=eo(e,t);return r==null||typeof r.padding!="string"?0:_I(e,"xAxis",t,n,r.padding)},WJ=(e,t,n)=>{var r=to(e,t);return r==null||typeof r.padding!="string"?0:_I(e,"yAxis",t,n,r.padding)},VJ=J(eo,zJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),UJ=J(to,WJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),HJ=J([yn,VJ,lh,sh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),GJ=J([yn,Nt,UJ,lh,sh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),gu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return HJ(e,n,r);case"yAxis":return GJ(e,n,r);case"zAxis":return(i=o1(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return JM(e);case"radiusAxis":return eI(e,n);default:return}},DI=J([Ln,gu],bh),KJ=J([nl,$J],uJ),Eh=J([Ln,nl,KJ,DI],u1);J([hu,l1,an],PJ);function MI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Nh=(e,t)=>t,Oh=(e,t,n)=>n,qJ=J(oh,Nh,Oh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(MI)),YJ=J(ah,Nh,Oh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(MI)),II=(e,t)=>({width:e.width,height:t.height}),XJ=(e,t)=>{var n=typeof t.width=="number"?t.width:ou;return{width:n,height:e.height}},ZJ=J(yn,eo,II),QJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},JJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},eee=J(Zi,yn,qJ,Nh,Oh,(e,t,n,r,i)=>{var o={},s;return n.forEach(l=>{var u=II(t,l);s==null&&(s=QJ(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;o[l.id]=s-Number(d)*u.height,s+=(d?-1:1)*u.height}),o}),tee=J(Xi,yn,YJ,Nh,Oh,(e,t,n,r,i)=>{var o={},s;return n.forEach(l=>{var u=XJ(t,l);s==null&&(s=JJ(t,r,e));var d=r==="left"&&!i||r==="right"&&i;o[l.id]=s-Number(d)*u.width,s+=(d?-1:1)*u.width}),o}),nee=(e,t)=>{var n=eo(e,t);if(n!=null)return eee(e,n.orientation,n.mirror)},ree=J([yn,eo,nee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),iee=(e,t)=>{var n=to(e,t);if(n!=null)return tee(e,n.orientation,n.mirror)},oee=J([yn,to,iee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),aee=J(yn,to,(e,t)=>{var n=typeof t.width=="number"?t.width:ou;return{width:n,height:e.height}}),RI=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,l=bi(e,r),u=t.map(d=>d.value);if(s&&l&&o==="category"&&i&&z_(u))return u}},f1=J([Nt,kh,Ln,an],RI),LI=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=bi(e,r);if(s&&(i==="number"||o!=="auto"))return t.map(l=>l.value)}},p1=J([Nt,kh,pu,an],LI),KE=J([Nt,mJ,nl,Eh,f1,p1,gu,d1,an],(e,t,n,r,i,o,s,l,u)=>{if(t!=null){var d=bi(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:l,range:s,realScaleType:n,scale:r}}}),see=(e,t,n,r,i,o,s,l,u)=>{if(!(t==null||r==null)){var d=bi(e,u),{type:f,ticks:p,tickCount:m}=t,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/v:0;x=u==="angleAxis"&&o!=null&&o.length>=2?Er(o[0]-o[1])*2*x:x;var w=p||i;return w?w.map((b,C)=>{var k=s?s.indexOf(b):b,E=r.map(k);return Qe(E)?{index:C,coordinate:E+x,value:b,offset:x}:null}).filter(Un):d&&l?l.map((b,C)=>{var k=r.map(b);return Qe(k)?{coordinate:k+x,value:b,index:C,offset:x}:null}).filter(Un):r.ticks?r.ticks(m).map((b,C)=>{var k=r.map(b);return Qe(k)?{coordinate:k+x,value:b,index:C,offset:x}:null}).filter(Un):r.domain().map((b,C)=>{var k=r.map(b);return Qe(k)?{coordinate:k+x,value:s?s[b]:b,index:C,offset:x}:null}).filter(Un)}},FI=J([Nt,pu,nl,Eh,d1,gu,f1,p1,an],see),lee=(e,t,n,r,i,o,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=bi(e,s),{tickCount:u}=t,d=0;return d=s==="angleAxis"&&r?.length>=2?Er(r[0]-r[1])*2*d:d,l&&o?o.map((f,p)=>{var m=n.map(f);return Qe(m)?{coordinate:m+d,value:f,index:p,offset:d}:null}).filter(Un):n.ticks?n.ticks(u).map((f,p)=>{var m=n.map(f);return Qe(m)?{coordinate:m+d,value:f,index:p,offset:d}:null}).filter(Un):n.domain().map((f,p)=>{var m=n.map(f);return Qe(m)?{coordinate:m+d,value:i?i[f]:f,index:p,offset:d}:null}).filter(Un)}},$I=J([Nt,pu,Eh,gu,f1,p1,an],lee),BI=J(Ln,Eh,(e,t)=>{if(!(e==null||t==null))return yp(yp({},e),{},{scale:t})}),cee=J([Ln,nl,c1,DI],u1);J((e,t,n)=>o1(e,n),cee,(e,t)=>{if(!(e==null||t==null))return yp(yp({},e),{},{scale:t})});var uee=J([Nt,oh,ah],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),zI=e=>e.options.defaultTooltipEventType,WI=e=>e.options.validateTooltipEventTypes;function VI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function h1(e,t){var n=zI(e),r=WI(e);return VI(t,n,r)}function dee(e){return Le(t=>h1(t,e))}var UI=(e,t)=>{var n,r=Number(t);if(!(gi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},fee=e=>e.tooltip.settings,No={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},pee={itemInteraction:{click:No,hover:No},axisInteraction:{click:No,hover:No},keyboardInteraction:No,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},HI=Gn({name:"tooltip",initialState:pee,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:kt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Kr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:kt()},removeTooltipEntrySettings:{reducer(e,t){var n=Kr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:kt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:hee,replaceTooltipEntrySettings:mee,removeTooltipEntrySettings:gee,setTooltipSettingsState:vee,setActiveMouseOverItemIndex:yee,mouseLeaveItem:mle,mouseLeaveChart:GI,setActiveClickItemIndex:gle,setMouseOverAxisIndex:KI,setMouseClickAxisIndex:xee,setSyncInteraction:L0,setKeyboardInteraction:F0}=HI.actions,bee=HI.reducer;function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(n),!0).forEach(function(r){wee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wee(e,t,n){return(t=See(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function See(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cee(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Aee(e){return e.index!=null}var qI=(e,t,n,r)=>{if(t==null)return No;var i=Cee(e,t,n);if(i==null)return No;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Aee(i)){if(o)return nf(nf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return nf(nf({},No),{},{coordinate:i.coordinate})};function kee(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Eee(e,t){var n=kee(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),s=Math.max(r,i);return n>=o&&n<=s}function Nee(e,t,n){if(n==null||t==null)return!0;var r=vn(e,t);return r==null||!Ki(n)?!0:Eee(r,n)}var m1=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var o=Number(i);if(!Qe(o))return i;var s=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(s,Math.min(o,l)),d=t[u];return d==null||Nee(d,n,r)?String(u):null},YI=(e,t,n,r,i,o,s)=>{if(o!=null){var l=s[0],u=l?.getPosition(o);if(u!=null)return u;var d=i?.[Number(o)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:d.coordinate}}},XI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},ZI=e=>e.options.tooltipPayloadSearcher,rl=e=>e.tooltip;function YE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(n),!0).forEach(function(r){Oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oee(e,t,n){return(t=jee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jee(e){var t=Tee(e,"string");return typeof t=="symbol"?t:t+""}function Tee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ee(e,t){return e??t}var QI=(e,t,n,r,i,o,s)=>{if(!(t==null||o==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=n,p=[];return e.reduce((m,v)=>{var x,{dataDefinedOnItem:w,settings:b}=v,C=_ee(w,l),k=Array.isArray(C)?ND(C,d,f):C,E=(x=b?.dataKey)!==null&&x!==void 0?x:r,N=b?.nameKey,T;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&s==="axis"?T=W_(k,r,i):T=o(k,t,u,N),Array.isArray(T))T.forEach(_=>{var D=XE(XE({},b),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});m.push(ZA({tooltipEntrySettings:D,dataKey:_.dataKey,payload:_.payload,value:vn(_.payload,_.dataKey),name:_.name}))});else{var O;m.push(ZA({tooltipEntrySettings:b,dataKey:E,payload:T,value:vn(T,E),name:(O=vn(T,N))!==null&&O!==void 0?O:b?.name}))}return m},p)}},g1=J([Kt,oI,Zb],OI),Dee=J([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Mee=J([sn,el],aI),il=J([Dee,Kt,Mee],lI,{memoizeOptions:{resultEqualityCheck:Ah}}),Iee=J([il],e=>e.filter(i1)),Ree=J([il],dI,{memoizeOptions:{resultEqualityCheck:Ah}}),ol=J([Ree,Ji],fI),Lee=J([Iee,Ji,Kt],nI),v1=J([ol,Kt,il],pI),JI=J([Kt],s1),Fee=J([Kt],e=>e.allowDataOverflow),eR=J([JI,Fee],FM),$ee=J([il],e=>e.filter(i1)),Bee=J([Lee,$ee,xh,YM],mI),zee=J([Bee,Ji,sn,eR],vI),Wee=J([il],uI),Vee=J([ol,Kt,Wee,l1,sn],bI,{memoizeOptions:{resultEqualityCheck:Ch}}),Uee=J([wI,sn,el],tl),Hee=J([Uee,sn],CI),Gee=J([SI,sn,el],tl),Kee=J([Gee,sn],AI),qee=J([PI,sn,el],tl),Yee=J([qee,sn],kI),Xee=J([Hee,Yee,Kee],xp),Zee=J([Kt,JI,eR,zee,Vee,Xee,Nt,sn],EI),vu=J([Kt,Nt,ol,v1,xh,sn,Zee],NI),Qee=J([vu,Kt,g1],jI),Jee=J([Kt,vu,Qee,sn],TI),tR=e=>{var t=sn(e),n=el(e),r=!1;return gu(e,t,n,r)},nR=J([Kt,tR],bh),rR=J([Kt,g1,Jee,nR],u1),ete=J([Nt,v1,Kt,sn],RI),tte=J([Nt,v1,Kt,sn],LI),nte=(e,t,n,r,i,o,s,l)=>{if(t){var{type:u}=t,d=bi(e,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?Er(i[0]-i[1])*2*p:p,d&&s?s.map((m,v)=>{var x=r.map(m);return Qe(x)?{coordinate:x+p,value:m,index:v,offset:p}:null}).filter(Un):r.domain().map((m,v)=>{var x=r.map(m);return Qe(x)?{coordinate:x+p,value:o?o[m]:m,index:v,offset:p}:null}).filter(Un)}}},no=J([Nt,Kt,g1,rR,tR,ete,tte,sn],nte),y1=J([zI,WI,fee],(e,t,n)=>VI(n.shared,e,t)),iR=e=>e.tooltip.settings.trigger,x1=e=>e.tooltip.settings.defaultIndex,yu=J([rl,y1,iR,x1],qI),Uc=J([yu,ol,mu,vu],m1),oR=J([no,Uc],UI),rte=J([yu],e=>{if(e)return e.dataKey});J([yu],e=>{if(e)return e.graphicalItemId});var aR=J([rl,y1,iR,x1],XI),ite=J([Xi,Zi,Nt,yn,no,x1,aR],YI),ote=J([yu,ite],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),ate=J([yu],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),ste=J([aR,Uc,Ji,mu,oR,ZI,y1],QI),lte=J([ste],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(n),!0).forEach(function(r){cte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cte(e,t,n){return(t=ute(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ute(e){var t=dte(e,"string");return typeof t=="symbol"?t:t+""}function dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fte=()=>Le(Kt),pte=()=>{var e=fte(),t=Le(no),n=Le(rR);return Xf(!e||!n?void 0:QE(QE({},e),{},{scale:n}),t)};function JE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(n),!0).forEach(function(r){hte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hte(e,t,n){return(t=mte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mte(e){var t=gte(e,"string");return typeof t=="symbol"?t:t+""}function gte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vte=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},yte=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:s}=r;return fs(fs(fs({},r),gn(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var l=i.coordinate,{angle:u}=r;return fs(fs(fs({},r),gn(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xte(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var sR=(e,t,n,r,i)=>{var o,s=(o=t?.length)!==null&&o!==void 0?o:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u,d,f,p,m,v=l>0?(u=n[l-1])===null||u===void 0?void 0:u.coordinate:(d=n[s-1])===null||d===void 0?void 0:d.coordinate,x=(f=n[l])===null||f===void 0?void 0:f.coordinate,w=l>=s-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(m=n[l+1])===null||m===void 0?void 0:m.coordinate,b=void 0;if(!(v==null||x==null||w==null))if(Er(x-v)!==Er(w-x)){var C=[];if(Er(w-x)===Er(i[1]-i[0])){b=w;var k=x+i[1]-i[0];C[0]=Math.min(k,(k+v)/2),C[1]=Math.max(k,(k+v)/2)}else{b=v;var E=w+i[1]-i[0];C[0]=Math.min(x,(E+x)/2),C[1]=Math.max(x,(E+x)/2)}var N=[Math.min(x,(b+x)/2),Math.max(x,(b+x)/2)];if(e>N[0]&&e<=N[1]||e>=C[0]&&e<=C[1]){var T;return(T=n[l])===null||T===void 0?void 0:T.index}}else{var O=Math.min(v,w),_=Math.max(v,w);if(e>(O+x)/2&&e<=(_+x)/2){var D;return(D=n[l])===null||D===void 0?void 0:D.index}}}else if(t)for(var V=0;V<s;V++){var q=t[V];if(q!=null){var G=t[V+1],$=t[V-1];if(V===0&&G!=null&&e<=(q.coordinate+G.coordinate)/2||V===s-1&&$!=null&&e>(q.coordinate+$.coordinate)/2||V>0&&V<s-1&&$!=null&&G!=null&&e>(q.coordinate+$.coordinate)/2&&e<=(q.coordinate+G.coordinate)/2)return q.index}}return-1},lR=()=>Le(Zb),b1=(e,t)=>t,cR=(e,t,n)=>n,w1=(e,t,n,r)=>r,bte=J(no,e=>Yp(e,t=>t.coordinate)),S1=J([rl,b1,cR,w1],qI),P1=J([S1,ol,mu,vu],m1),wte=(e,t,n)=>{if(t!=null){var r=rl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},uR=J([rl,b1,cR,w1],XI),bp=J([Xi,Zi,Nt,yn,no,w1,uR],YI),Ste=J([S1,bp],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),dR=J([no,P1],UI),Pte=J([uR,P1,Ji,mu,dR,ZI,b1],QI),Cte=J([S1,P1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Ate=(e,t,n,r,i,o,s)=>{if(!(!e||!n||!r||!i)&&xte(e,s)){var l=XK(e,t),u=sR(l,o,i,n,r),d=vte(t,i,u,e);return{activeIndex:String(u),activeCoordinate:d}}},kte=(e,t,n,r,i,o,s)=>{if(!(!e||!r||!i||!o||!n)){var l=sX(e,n);if(l){var u=ZK(l,t),d=sR(u,s,o,r,i),f=yte(t,o,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},Ete=(e,t,n,r,i,o,s,l)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?Ate(e,t,r,i,o,s,l):kte(e,t,n,r,i,o,s)},Nte=J(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),Ote=J(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(In)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:lJ}});function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(r){jte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jte(e,t,n){return(t=Tte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tte(e){var t=_te(e,"string");return typeof t=="symbol"?t:t+""}function _te(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dte={},Mte={zIndexMap:Object.values(In).reduce((e,t)=>tN(tN({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Dte)},Ite=new Set(Object.values(In));function Rte(e){return Ite.has(e)}var fR=Gn({name:"zIndex",initialState:Mte,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:kt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Rte(n)&&delete e.zIndexMap[n])},prepare:kt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:kt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:kt()}}}),{registerZIndexPortal:Lte,unregisterZIndexPortal:Fte,registerZIndexPortalElement:$te,unregisterZIndexPortalElement:Bte}=fR.actions,zte=fR.reducer;function ro(e){var{zIndex:t,children:n}=e,r=jq(),i=r&&t!==void 0&&t!==0,o=Kn(),s=rn();P.useLayoutEffect(()=>i?(s(Lte({zIndex:t})),()=>{s(Fte({zIndex:t}))}):Ys,[s,t,i]);var l=Le(u=>Nte(u,t,o));return i?l?Jc.createPortal(n,l):null:n}function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$0.apply(null,arguments)}function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){Wte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wte(e,t,n){return(t=Vte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vte(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hte(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return P.isValidElement(t)?P.cloneElement(t,r):P.createElement(n,r)}function Gte(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:s,layout:l,cursor:u,tooltipEventType:d,chartName:f}=e,p=n,m=r,v=i;if(!u||!p||f!=="ScatterChart"&&d!=="axis")return null;var x,w,b;if(f==="ScatterChart")x=p,w=yY,b=In.cursorLine;else if(f==="BarChart")x=xY(l,p,o,s),w=ZY,b=In.cursorRectangle;else if(l==="radial"&&V_(p)){var{cx:C,cy:k,radius:E,startAngle:N,endAngle:T}=eM(p);x={cx:C,cy:k,startAngle:N,endAngle:T,innerRadius:E,outerRadius:E},w=dX,b=In.cursorLine}else x={points:fX(l,p,o)},w=gf,b=In.cursorLine;var O=typeof u=="object"&&"className"in u?u.className:void 0,_=rf(rf(rf(rf({stroke:"#ccc",pointerEvents:"none"},o),x),Hp(u)),{},{payload:m,payloadIndex:v,className:Pt("recharts-tooltip-cursor",O)});return P.createElement(ro,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},P.createElement(Hte,{cursor:u,cursorComp:w,cursorProps:_}))}function Kte(e){var t=pte(),n=LD(),r=Xs(),i=lR();return t==null||n==null||r==null||i==null?null:P.createElement(Gte,$0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var pR=P.createContext(null),qte=()=>P.useContext(pR),cy={exports:{}},rN;function Yte(){return rN||(rN=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function o(u,d,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||u,m),x=n?n+d:d;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],v]:u._events[x].push(v):(u._events[x]=v,u._eventsCount++),u}function s(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)t.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,v=p.length,x=new Array(v);m<v;m++)x[m]=p[m].fn;return x},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,m,v,x){var w=n?n+d:d;if(!this._events[w])return!1;var b=this._events[w],C=arguments.length,k,E;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),C){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,m),!0;case 5:return b.fn.call(b.context,f,p,m,v),!0;case 6:return b.fn.call(b.context,f,p,m,v,x),!0}for(E=1,k=new Array(C-1);E<C;E++)k[E-1]=arguments[E];b.fn.apply(b.context,k)}else{var N=b.length,T;for(E=0;E<N;E++)switch(b[E].once&&this.removeListener(d,b[E].fn,void 0,!0),C){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,f);break;case 3:b[E].fn.call(b[E].context,f,p);break;case 4:b[E].fn.call(b[E].context,f,p,m);break;default:if(!k)for(T=1,k=new Array(C-1);T<C;T++)k[T-1]=arguments[T];b[E].fn.apply(b[E].context,k)}}return!0},l.prototype.on=function(d,f,p){return o(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return o(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,m){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return s(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!m||x.once)&&(!p||x.context===p)&&s(this,v);else{for(var w=0,b=[],C=x.length;w<C;w++)(x[w].fn!==f||m&&!x[w].once||p&&x[w].context!==p)&&b.push(x[w]);b.length?this._events[v]=b.length===1?b[0]:b:s(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(cy)),cy.exports}var Xte=Yte();const Zte=Yi(Xte);var Hc=new Zte,B0="recharts.syncEvent.tooltip",iN="recharts.syncEvent.brush",Qte=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!gi(n))return e[n]}},Jte={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},hR=Gn({name:"options",initialState:Jte,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ene=hR.reducer,{createEventEmitter:tne}=hR.actions;function nne(e){return e.tooltip.syncInteraction}var rne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},mR=Gn({name:"chartData",initialState:rne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:oN,setDataStartEndIndexes:ine,setComputedData:vle}=mR.actions,one=mR.reducer,ane=["x","y"];function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(n),!0).forEach(function(r){sne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sne(e,t,n){return(t=lne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lne(e){var t=cne(e,"string");return typeof t=="symbol"?t:t+""}function cne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function une(e,t){if(e==null)return{};var n,r,i=dne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fne(){var e=Le(Qb),t=Le(Jb),n=rn(),r=Le(XM),i=Le(no),o=Xs(),s=ch(),l=Le(u=>u.rootProps.className);P.useEffect(()=>{if(e==null)return Ys;var u=(d,f,p)=>{if(t!==p&&e===d){if(r==="index"){var m;if(s&&f!==null&&f!==void 0&&(m=f.payload)!==null&&m!==void 0&&m.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x,y:w}=v,b=une(v,ane),{x:C,y:k,width:E,height:N}=f.payload.sourceViewBox,T=ps(ps({},b),{},{x:s.x+(E?(x-C)/E:0)*s.width,y:s.y+(N?(w-k)/N:0)*s.height});n(ps(ps({},f),{},{payload:ps(ps({},f.payload),{},{coordinate:T})}))}else n(f);return}if(i!=null){var O;if(typeof r=="function"){var _={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},D=r(i,_);O=i[D]}else r==="value"&&(O=i.find(ge=>String(ge.value)===f.payload.label));var{coordinate:V}=f.payload;if(O==null||f.payload.active===!1||V==null||s==null){n(L0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:G}=V,$=Math.min(q,s.x+s.width),U=Math.min(G,s.y+s.height),ce={x:o==="horizontal"?O.coordinate:$,y:o==="horizontal"?U:O.coordinate},ue=L0({active:f.payload.active,coordinate:ce,dataKey:f.payload.dataKey,index:String(O.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(ue)}}};return Hc.on(B0,u),()=>{Hc.off(B0,u)}},[l,n,t,e,r,i,o,s])}function pne(){var e=Le(Qb),t=Le(Jb),n=rn();P.useEffect(()=>{if(e==null)return Ys;var r=(i,o,s)=>{t!==s&&e===i&&n(ine(o))};return Hc.on(iN,r),()=>{Hc.off(iN,r)}},[n,t,e])}function hne(){var e=rn();P.useEffect(()=>{e(tne())},[e]),fne(),pne()}function mne(e,t,n,r,i,o){var s=Le(v=>wte(v,e,t)),l=Le(Jb),u=Le(Qb),d=Le(XM),f=Le(nne),p=f?.active,m=ch();P.useEffect(()=>{if(!p&&u!=null&&l!=null){var v=L0({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});Hc.emit(B0,u,v,l)}},[p,n,s,i,r,l,u,d,o,m])}function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(n),!0).forEach(function(r){gne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gne(e,t,n){return(t=vne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vne(e){var t=yne(e,"string");return typeof t=="symbol"?t:t+""}function yne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xne(e){return e.dataKey}function bne(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(Zq,t)}var cN=[],wne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Sne(e){var t,n,r=fr(e,wne),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:l,content:u,filterNull:d,isAnimationActive:f,offset:p,payloadUniqBy:m,position:v,reverseDirection:x,useTranslate3d:w,wrapperStyle:b,cursor:C,shared:k,trigger:E,defaultIndex:N,portal:T,axisId:O}=r,_=rn(),D=typeof N=="number"?String(N):N;P.useEffect(()=>{_(vee({shared:k,trigger:E,axisId:O,active:i,defaultIndex:D}))},[_,k,E,O,i,D]);var V=ch(),q=qD(),G=dee(k),{activeIndex:$,isActive:U}=(t=Le(B=>Cte(B,G,E,D)))!==null&&t!==void 0?t:{},ce=Le(B=>Pte(B,G,E,D)),ue=Le(B=>dR(B,G,E,D)),ge=Le(B=>Ste(B,G,E,D)),Q=ce,Y=qte(),ee=(n=i??U)!==null&&n!==void 0?n:!1,[ne,L]=zG([Q,ee]),W=G==="axis"?ue:void 0;mne(G,E,ge,W,$,ee);var ie=T??Y;if(ie==null||V==null||G==null)return null;var ae=Q??cN;ee||(ae=cN),d&&ae.length&&(ae=pG(ae.filter(B=>B.value!=null&&(B.hide!==!0||r.includeHidden)),m,xne));var de=ae.length>0,X=P.createElement(iY,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:f,active:ee,coordinate:ge,hasPayload:de,offset:p,position:v,reverseDirection:x,useTranslate3d:w,viewBox:V,wrapperStyle:b,lastBoundingBox:ne,innerRef:L,hasPortalFromProps:!!T},bne(u,lN(lN({},r),{},{payload:ae,label:W,active:ee,activeIndex:$,coordinate:ge,accessibilityLayer:q})));return P.createElement(P.Fragment,null,Jc.createPortal(X,ie),ee&&P.createElement(Kte,{cursor:C,tooltipEventType:G,coordinate:ge,payload:ae,index:$}))}function Pne(e,t,n){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cne(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kne{constructor(t){Pne(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function uN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ene(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(n),!0).forEach(function(r){Nne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nne(e,t,n){return(t=One(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function One(e){var t=jne(e,"string");return typeof t=="symbol"?t:t+""}function jne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tne={cacheSize:2e3,enableCache:!0},gR=Ene({},Tne),dN=new kne(gR.cacheSize),_ne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fN="recharts_measurement_span";function Dne(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(l)}var pN=(e,t)=>{try{var n=document.getElementById(fN);n||(n=document.createElement("span"),n.setAttribute("id",fN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,_ne,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},mc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||lu.isSsr)return{width:0,height:0};if(!gR.enableCache)return pN(t,n);var r=Dne(t,n),i=dN.get(r);if(i)return i;var o=pN(t,n);return dN.set(r,o),o},vR;function Mne(e,t,n){return(t=Ine(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ine(e){var t=Rne(e,"string");return typeof t=="symbol"?t:t+""}function Rne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$ne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bne=["cm","mm","pt","pc","in","Q","px"];function zne(e){return Bne.includes(e)}var Ps="NaN";function Wne(e,t){return e*$ne[t]}class hn{static parse(t){var n,[,r,i]=(n=Fne.exec(t))!==null&&n!==void 0?n:[];return r==null?hn.NaN:new hn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,gi(t)&&(this.unit=""),n!==""&&!Lne.test(n)&&(this.num=NaN,this.unit=""),zne(n)&&(this.num=Wne(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new hn(NaN,""):new hn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new hn(NaN,""):new hn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hn(NaN,""):new hn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hn(NaN,""):new hn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return gi(this.num)}}vR=hn;Mne(hn,"NaN",new vR(NaN,""));function yR(e){if(e==null||e.includes(Ps))return Ps;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=hN.exec(t))!==null&&n!==void 0?n:[],s=hn.parse(r??""),l=hn.parse(o??""),u=i==="*"?s.multiply(l):s.divide(l);if(u.isNaN())return Ps;t=t.replace(hN,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,p,m]=(d=mN.exec(t))!==null&&d!==void 0?d:[],v=hn.parse(f??""),x=hn.parse(m??""),w=p==="+"?v.add(x):v.subtract(x);if(w.isNaN())return Ps;t=t.replace(mN,w.toString())}return t}var gN=/\(([^()]*)\)/;function Vne(e){for(var t=e,n;(n=gN.exec(t))!=null;){var[,r]=n;t=t.replace(gN,yR(r))}return t}function Une(e){var t=e.replace(/\s+/g,"");return t=Vne(t),t=yR(t),t}function Hne(e){try{return Une(e)}catch{return Ps}}function uy(e){var t=Hne(e.slice(5,-1));return t===Ps?"":t}var Gne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Kne=["dx","dy","angle","className","breakAll"];function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z0.apply(null,arguments)}function vN(e,t){if(e==null)return{};var n,r,i=qne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xR=/[ \f\n\r\t\v\u2028\u2029]+/,bR=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Nn(t)||(n?i=t.toString().split(""):i=t.toString().split(xR));var o=i.map(l=>({word:l,width:mc(l,r).width})),s=n?0:mc("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}};function Yne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var wR=(e,t,n,r)=>e.reduce((i,o)=>{var{word:s,width:l}=o,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(s),u.width+=l+n;else{var d={words:[s],width:l};i.push(d)}return i},[]),SR=e=>e.reduce((t,n)=>t.width>n.width?t:n),Xne="",yN=(e,t,n,r,i,o,s,l)=>{var u=e.slice(0,t),d=bR({breakAll:n,style:r,children:u+Xne});if(!d)return[!1,[]];var f=wR(d.wordsWithComputedWidth,o,s,l),p=f.length>i||SR(f).width>Number(o);return[p,f]},Zne=(e,t,n,r,i)=>{var{maxLines:o,children:s,style:l,breakAll:u}=e,d=_e(o),f=String(s),p=wR(t,r,n,i);if(!d||i)return p;var m=p.length>o||SR(p).width>Number(r);if(!m)return p;for(var v=0,x=f.length-1,w=0,b;v<=x&&w<=f.length-1;){var C=Math.floor((v+x)/2),k=C-1,[E,N]=yN(f,k,u,l,o,r,n,i),[T]=yN(f,C,u,l,o,r,n,i);if(!E&&!T&&(v=C+1),E&&T&&(x=C-1),!E&&T){b=N;break}w++}return b||p},xN=e=>{var t=Nn(e)?[]:e.toString().split(xR);return[{words:t,width:void 0}]},Qne=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=e;if((t||n)&&!lu.isSsr){var l,u,d=bR({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;l=f,u=p}else return xN(r);return Zne({breakAll:o,children:r,maxLines:s,style:i},l,u,t,!!n)}return xN(r)},PR="#808080",Jne={angle:0,breakAll:!1,capHeight:"0.71em",fill:PR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},C1=P.forwardRef((e,t)=>{var n=fr(e,Jne),{x:r,y:i,lineHeight:o,capHeight:s,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:f}=n,p=vN(n,Gne),m=P.useMemo(()=>Qne({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:x,angle:w,className:b,breakAll:C}=p,k=vN(p,Kne);if(!vi(r)||!vi(i)||m.length===0)return null;var E=Number(r)+(_e(v)?v:0),N=Number(i)+(_e(x)?x:0);if(!Qe(E)||!Qe(N))return null;var T;switch(f){case"start":T=uy("calc(".concat(s,")"));break;case"middle":T=uy("calc(".concat((m.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:T=uy("calc(".concat(m.length-1," * -").concat(o,")"));break}var O=[],_=m[0];if(u&&_!=null){var D=_.width,{width:V}=p;O.push("scale(".concat(_e(V)&&_e(D)?V/D:1,")"))}return w&&O.push("rotate(".concat(w,", ").concat(E,", ").concat(N,")")),O.length&&(k.transform=O.join(" ")),P.createElement("text",z0({},jr(k),{ref:t,x:E,y:N,className:Pt("recharts-text",b),textAnchor:d,fill:l.includes("url")?PR:l}),m.map((q,G)=>{var $=q.words.join(C?"":" ");return P.createElement("tspan",{x:E,dy:G===0?T:o,key:"".concat($,"-").concat(G)},$)}))});C1.displayName="Text";function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ere(e,t,n){return(t=tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tre(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rre=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:o,y:s,height:l,upperWidth:u,lowerWidth:d}=Sb(t),f=o,p=o+(u-d)/2,m=(f+p)/2,v=(u+d)/2,x=f+u/2,w=l>=0?1:-1,b=w*r,C=w>0?"end":"start",k=w>0?"start":"end",E=u>=0?1:-1,N=E*r,T=E>0?"end":"start",O=E>0?"start":"end",_=i;if(n==="top"){var D={x:f+u/2,y:s-b,horizontalAnchor:"middle",verticalAnchor:C};return _&&(D.height=Math.max(s-_.y,0),D.width=u),D}if(n==="bottom"){var V={x:p+d/2,y:s+l+b,horizontalAnchor:"middle",verticalAnchor:k};return _&&(V.height=Math.max(_.y+_.height-(s+l),0),V.width=d),V}if(n==="left"){var q={x:m-N,y:s+l/2,horizontalAnchor:T,verticalAnchor:"middle"};return _&&(q.width=Math.max(q.x-_.x,0),q.height=l),q}if(n==="right"){var G={x:m+v+N,y:s+l/2,horizontalAnchor:O,verticalAnchor:"middle"};return _&&(G.width=Math.max(_.x+_.width-G.x,0),G.height=l),G}var $=_?{width:v,height:l}:{};return n==="insideLeft"?si({x:m+N,y:s+l/2,horizontalAnchor:O,verticalAnchor:"middle"},$):n==="insideRight"?si({x:m+v-N,y:s+l/2,horizontalAnchor:T,verticalAnchor:"middle"},$):n==="insideTop"?si({x:f+u/2,y:s+b,horizontalAnchor:"middle",verticalAnchor:k},$):n==="insideBottom"?si({x:p+d/2,y:s+l-b,horizontalAnchor:"middle",verticalAnchor:C},$):n==="insideTopLeft"?si({x:f+N,y:s+b,horizontalAnchor:O,verticalAnchor:k},$):n==="insideTopRight"?si({x:f+u-N,y:s+b,horizontalAnchor:T,verticalAnchor:k},$):n==="insideBottomLeft"?si({x:p+N,y:s+l-b,horizontalAnchor:O,verticalAnchor:C},$):n==="insideBottomRight"?si({x:p+d-N,y:s+l-b,horizontalAnchor:T,verticalAnchor:C},$):n&&typeof n=="object"&&(_e(n.x)||Ea(n.x))&&(_e(n.y)||Ea(n.y))?si({x:o+$o(n.x,v),y:s+$o(n.y,l),horizontalAnchor:"end",verticalAnchor:"end"},$):si({x,y:s+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},$)},ire=["labelRef"],ore=["content"];function wN(e,t){if(e==null)return{};var n,r,i=are(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function are(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(n),!0).forEach(function(r){sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sre(e,t,n){return(t=lre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lre(e){var t=cre(e,"string");return typeof t=="symbol"?t:t+""}function cre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mi.apply(null,arguments)}var CR=P.createContext(null),ure=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s,children:l}=e,u=P.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s}),[t,n,r,i,o,s]);return P.createElement(CR.Provider,{value:u},l)},AR=()=>{var e=P.useContext(CR),t=ch();return e||(t?Sb(t):void 0)},dre=P.createContext(null),fre=()=>{var e=P.useContext(dre),t=Le(tI);return e||t},pre=e=>{var{value:t,formatter:n}=e,r=Nn(e.children)?t:e.children;return typeof n=="function"?n(r):r},A1=e=>e!=null&&typeof e=="function",hre=(e,t)=>{var n=Er(t-e),r=Math.min(Math.abs(t-e),360);return n*r},mre=(e,t,n,r,i)=>{var{offset:o,className:s}=e,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:p,endAngle:m,clockWise:v}=i,x=(d+f)/2,w=hre(p,m),b=w>=0?1:-1,C,k;switch(t){case"insideStart":C=p+b*o,k=v;break;case"insideEnd":C=m-b*o,k=!v;break;case"end":C=m+b*o,k=v;break;default:throw new Error("Unsupported position ".concat(t))}k=w<=0?k:!k;var E=gn(l,u,x,C),N=gn(l,u,x,C+(k?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(N.x,",").concat(N.y),O=Nn(e.id)?Tc("recharts-radial-line-"):e.id;return P.createElement("text",Mi({},r,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",s)}),P.createElement("defs",null,P.createElement("path",{id:O,d:T})),P.createElement("textPath",{xlinkHref:"#".concat(O)},n))},gre=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(n==="outside"){var{x:f,y:p}=gn(r,i,s+t,d);return{x:f,y:p,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(o+s)/2,{x:v,y:x}=gn(r,i,m,d);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},yf=e=>e!=null&&"cx"in e&&_e(e.cx),vre={angle:0,offset:5,zIndex:In.label,position:"middle",textBreakAll:!1};function yre(e){if(!yf(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Eo(e){var t=fr(e,vre),{viewBox:n,parentViewBox:r,position:i,value:o,children:s,content:l,className:u="",textBreakAll:d,labelRef:f}=t,p=fre(),m=AR(),v=i==="center"?m:p??m,x,w,b;n==null?x=v:yf(n)?x=n:x=Sb(n);var C=yre(x);if(!x||Nn(o)&&Nn(s)&&!P.isValidElement(l)&&typeof l!="function")return null;var k=sc(sc({},t),{},{viewBox:x});if(P.isValidElement(l)){var{labelRef:E}=k,N=wN(k,ire);return P.cloneElement(l,N)}if(typeof l=="function"){var{content:T}=k,O=wN(k,ore);if(w=P.createElement(l,O),P.isValidElement(w))return w}else w=pre(t);var _=jr(t);if(yf(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return mre(t,i,w,_,x);b=gre(x,t.offset,t.position)}else{if(!C)return null;var D=rre({viewBox:C,position:i,offset:t.offset,parentViewBox:yf(r)?void 0:r});b=sc(sc({x:D.x,y:D.y,textAnchor:D.horizontalAnchor,verticalAnchor:D.verticalAnchor},D.width!==void 0?{width:D.width}:{}),D.height!==void 0?{height:D.height}:{})}return P.createElement(ro,{zIndex:t.zIndex},P.createElement(C1,Mi({ref:f,className:Pt("recharts-label",u)},_,b,{textAnchor:Yne(_.textAnchor)?_.textAnchor:b.textAnchor,breakAll:d}),w))}Eo.displayName="Label";var xre=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?P.createElement(Eo,Mi({key:"label-implicit"},r)):vi(e)?P.createElement(Eo,Mi({key:"label-implicit",value:e},r)):P.isValidElement(e)?e.type===Eo?P.cloneElement(e,sc({key:"label-implicit"},r)):P.createElement(Eo,Mi({key:"label-implicit",content:e},r)):A1(e)?P.createElement(Eo,Mi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?P.createElement(Eo,Mi({},e,{key:"label-implicit"},r)):null};function bre(e){var{label:t,labelRef:n}=e,r=AR();return xre(t,r,n)||null}var dy={},fy={},PN;function wre(){return PN||(PN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(fy)),fy}var py={},CN;function Sre(){return CN||(CN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(py)),py}var AN;function Pre(){return AN||(AN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wre(),n=Sre(),r=pb();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(dy)),dy}var hy,kN;function Cre(){return kN||(kN=1,hy=Pre().last),hy}var Are=Cre();const kre=Yi(Are);var Ere=["valueAccessor"],Nre=["dataKey","clockWise","id","textBreakAll","zIndex"];function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wp.apply(null,arguments)}function EN(e,t){if(e==null)return{};var n,r,i=Ore(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ore(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jre=e=>Array.isArray(e.value)?kre(e.value):e.value,kR=P.createContext(void 0),Tre=kR.Provider,ER=P.createContext(void 0);ER.Provider;function _re(){return P.useContext(kR)}function Dre(){return P.useContext(ER)}function xf(e){var{valueAccessor:t=jre}=e,n=EN(e,Ere),{dataKey:r,clockWise:i,id:o,textBreakAll:s,zIndex:l}=n,u=EN(n,Nre),d=_re(),f=Dre(),p=d||f;return!p||!p.length?null:P.createElement(ro,{zIndex:l??In.label},P.createElement(mi,{className:"recharts-label-list"},p.map((m,v)=>{var x,w=Nn(r)?t(m,v):vn(m.payload,r),b=Nn(o)?{}:{id:"".concat(o,"-").concat(v)};return P.createElement(Eo,wp({key:"label-".concat(v)},jr(m),u,b,{fill:(x=n.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:w,textBreakAll:s,viewBox:m.viewBox,index:v,zIndex:0}))})))}xf.displayName="LabelList";function Mre(e){var{label:t}=e;return t?t===!0?P.createElement(xf,{key:"labelList-implicit"}):P.isValidElement(t)||A1(t)?P.createElement(xf,{key:"labelList-implicit",content:t}):typeof t=="object"?P.createElement(xf,wp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W0.apply(null,arguments)}var NR=e=>{var{cx:t,cy:n,r,className:i}=e,o=Pt("recharts-dot",i);return _e(t)&&_e(n)&&_e(r)?P.createElement("circle",W0({},qr(e),fb(e),{className:o,cx:t,cy:n,r})):null},Ire={radiusAxis:{},angleAxis:{}},OR=Gn({name:"polarAxis",initialState:Ire,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:yle,removeRadiusAxis:xle,addAngleAxis:ble,removeAngleAxis:wle}=OR.actions,Rre=OR.reducer;function Lre(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var my={exports:{}},ft={};var NN;function Fre(){if(NN)return ft;NN=1;var e=60103,t=60106,n=60107,r=60108,i=60114,o=60109,s=60110,l=60112,u=60113,d=60120,f=60115,p=60116,m=60121,v=60122,x=60117,w=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var C=Symbol.for;e=C("react.element"),t=C("react.portal"),n=C("react.fragment"),r=C("react.strict_mode"),i=C("react.profiler"),o=C("react.provider"),s=C("react.context"),l=C("react.forward_ref"),u=C("react.suspense"),d=C("react.suspense_list"),f=C("react.memo"),p=C("react.lazy"),m=C("react.block"),v=C("react.server.block"),x=C("react.fundamental"),w=C("react.debug_trace_mode"),b=C("react.legacy_hidden")}function k(U){if(typeof U=="object"&&U!==null){var ce=U.$$typeof;switch(ce){case e:switch(U=U.type,U){case n:case i:case r:case u:case d:return U;default:switch(U=U&&U.$$typeof,U){case s:case l:case p:case f:case o:return U;default:return ce}}case t:return ce}}}var E=o,N=e,T=l,O=n,_=p,D=f,V=t,q=i,G=r,$=u;return ft.ContextConsumer=s,ft.ContextProvider=E,ft.Element=N,ft.ForwardRef=T,ft.Fragment=O,ft.Lazy=_,ft.Memo=D,ft.Portal=V,ft.Profiler=q,ft.StrictMode=G,ft.Suspense=$,ft.isAsyncMode=function(){return!1},ft.isConcurrentMode=function(){return!1},ft.isContextConsumer=function(U){return k(U)===s},ft.isContextProvider=function(U){return k(U)===o},ft.isElement=function(U){return typeof U=="object"&&U!==null&&U.$$typeof===e},ft.isForwardRef=function(U){return k(U)===l},ft.isFragment=function(U){return k(U)===n},ft.isLazy=function(U){return k(U)===p},ft.isMemo=function(U){return k(U)===f},ft.isPortal=function(U){return k(U)===t},ft.isProfiler=function(U){return k(U)===i},ft.isStrictMode=function(U){return k(U)===r},ft.isSuspense=function(U){return k(U)===u},ft.isValidElementType=function(U){return typeof U=="string"||typeof U=="function"||U===n||U===i||U===w||U===r||U===u||U===d||U===b||typeof U=="object"&&U!==null&&(U.$$typeof===p||U.$$typeof===f||U.$$typeof===o||U.$$typeof===s||U.$$typeof===l||U.$$typeof===x||U.$$typeof===m||U[0]===v)},ft.typeOf=k,ft}var ON;function $re(){return ON||(ON=1,my.exports=Fre()),my.exports}$re();var jR=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function Bre(e){var{tooltipEntrySettings:t}=e,n=rn(),r=Kn(),i=P.useRef(null);return P.useLayoutEffect(()=>{r||(i.current===null?n(hee(t)):i.current!==t&&n(mee({prev:i.current,next:t})),i.current=t)},[t,n,r]),P.useLayoutEffect(()=>()=>{i.current&&(n(gee(i.current)),i.current=null)},[n]),null}function zre(e){var{legendPayload:t}=e,n=rn(),r=Kn(),i=P.useRef(null);return P.useLayoutEffect(()=>{r||(i.current===null?n(Vq(t)):i.current!==t&&n(Uq({prev:i.current,next:t})),i.current=t)},[n,r,t]),P.useLayoutEffect(()=>()=>{i.current&&(n(Hq(i.current)),i.current=null)},[n]),null}var gy,Wre=()=>{var[e]=P.useState(()=>Tc("uid-"));return e},Vre=(gy=u3.useId)!==null&&gy!==void 0?gy:Wre;function Ure(e,t){var n=Vre();return t||(e?"".concat(e,"-").concat(n):n)}var Hre=P.createContext(void 0),Gre=e=>{var{id:t,type:n,children:r}=e,i=Ure("recharts-".concat(n),t);return P.createElement(Hre.Provider,{value:i},r(i))},Kre={cartesianItems:[],polarItems:[]},TR=Gn({name:"graphicalItems",initialState:Kre,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:kt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Kr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:kt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Kr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:kt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:kt()},removePolarGraphicalItem:{reducer(e,t){var n=Kr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:kt()}}}),{addCartesianGraphicalItem:qre,replaceCartesianGraphicalItem:Yre,removeCartesianGraphicalItem:Xre,addPolarGraphicalItem:Sle,removePolarGraphicalItem:Ple}=TR.actions,Zre=TR.reducer,Qre=e=>{var t=rn(),n=P.useRef(null);return P.useLayoutEffect(()=>{n.current===null?t(qre(e)):n.current!==e&&t(Yre({prev:n.current,next:e})),n.current=e},[t,e]),P.useLayoutEffect(()=>()=>{n.current&&(t(Xre(n.current)),n.current=null)},[t]),null},Jre=P.memo(Qre),eie=["points"];function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(n),!0).forEach(function(r){tie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tie(e,t,n){return(t=nie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nie(e){var t=rie(e,"string");return typeof t=="symbol"?t:t+""}function rie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sp.apply(null,arguments)}function iie(e,t){if(e==null)return{};var n,r,i=oie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aie(e){var{option:t,dotProps:n,className:r}=e;if(P.isValidElement(t))return P.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Pt(r,typeof t!="boolean"?t.className:""),o=n??{},{points:s}=o,l=iie(o,eie);return P.createElement(NR,Sp({},l,{className:i}))}function sie(e,t){return e==null?!1:t?!0:e.length===1}function lie(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:s,needClip:l,clipPathId:u,zIndex:d=In.scatter}=e;if(!sie(t,n))return null;var f=jR(n),p=aH(n),m=t.map((x,w)=>{var b,C,k=vy(vy(vy({r:3},s),p),{},{index:w,cx:(b=x.x)!==null&&b!==void 0?b:void 0,cy:(C=x.y)!==null&&C!==void 0?C:void 0,dataKey:o,value:x.value,payload:x.payload,points:t});return P.createElement(aie,{key:"dot-".concat(w),option:n,dotProps:k,className:i})}),v={};return l&&u!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),P.createElement(ro,{zIndex:d},P.createElement(mi,Sp({className:r},v),m))}function TN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _N(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(n),!0).forEach(function(r){cie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cie(e,t,n){return(t=uie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uie(e){var t=die(e,"string");return typeof t=="symbol"?t:t+""}function die(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _R=0,fie={xAxis:{},yAxis:{},zAxis:{}},DR=Gn({name:"cartesianAxis",initialState:fie,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:kt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:kt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:kt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:kt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:kt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:kt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:kt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:kt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:kt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((o=s[0])!==null&&o!==void 0?o:0))<=1)return;var l=[...s,r].slice(-3);e.yAxis[n]=_N(_N({},i),{},{width:r,widthHistory:l})}}}}),{addXAxis:pie,replaceXAxis:hie,removeXAxis:mie,addYAxis:gie,replaceYAxis:vie,removeYAxis:yie,addZAxis:Cle,replaceZAxis:Ale,removeZAxis:kle,updateYAxisWidth:xie}=DR.actions,bie=DR.reducer,wie=J([yn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Sie=J([wie,Xi,Zi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),k1=()=>Le(Sie),Pie=()=>Le(lte);function DN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(n),!0).forEach(function(r){Cie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cie(e,t,n){return(t=Aie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aie(e){var t=kie(e,"string");return typeof t=="symbol"?t:t+""}function kie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eie=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=yy(yy(yy({},l),Hp(i)),fb(i)),d;return P.isValidElement(i)?d=P.cloneElement(i,u):typeof i=="function"?d=i(u):d=P.createElement(NR,u),P.createElement(mi,{className:"recharts-active-dot",clipPath:s},d)};function MN(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:s=In.activeDot}=e,l=Le(Uc),u=Pie();if(t==null||u==null)return null;var d=t.find(f=>u.includes(f.payload));return Nn(d)?null:P.createElement(ro,{zIndex:s},P.createElement(Eie,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var Nie=e=>{var{chartData:t}=e,n=rn(),r=Kn();return P.useEffect(()=>r?()=>{}:(n(oN(t)),()=>{n(oN(void 0))}),[t,n,r]),null},IN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},MR=Gn({name:"brush",initialState:IN,reducers:{setBrushSettings(e,t){return t.payload==null?IN:t.payload}}}),{setBrushSettings:Ele}=MR.actions,Oie=MR.reducer;function jie(e){return(e%180+180)%180}var Tie=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=jie(i),s=o*Math.PI/180,l=Math.atan(r/n),u=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},_ie={dots:[],areas:[],lines:[]},IR=Gn({name:"referenceElements",initialState:_ie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Kr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Kr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Kr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Nle,removeDot:Ole,addArea:jle,removeArea:Tle,addLine:_le,removeLine:Dle}=IR.actions,Die=IR.reducer,Mie=P.createContext(void 0),Iie=e=>{var{children:t}=e,[n]=P.useState("".concat(Tc("recharts"),"-clip")),r=k1();if(r==null)return null;var{x:i,y:o,width:s,height:l}=r;return P.createElement(Mie.Provider,{value:n},P.createElement("defs",null,P.createElement("clipPath",{id:n},P.createElement("rect",{x:i,y:o,height:l,width:s}))),t)};function RR(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function Rie(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Tie(r,n)}function Lie(e,t,n){var r=n==="width",{x:i,y:o,width:s,height:l}=e;return t===1?{start:r?i:o,end:r?i+s:o+l}:{start:r?i+s:o+l,end:r?i:o}}function Gc(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Fie(e,t){return RR(e,t+1)}function $ie(e,t,n,r,i){for(var o=(r||[]).slice(),{start:s,end:l}=t,u=0,d=1,f=s,p=function(){var x=r?.[u];if(x===void 0)return{v:RR(r,d)};var w=u,b,C=()=>(b===void 0&&(b=n(x,w)),b),k=x.coordinate,E=u===0||Gc(e,k,C,f,l);E||(u=0,f=s,d+=1),E&&(f=k+e*(C()/2+i),u+=d)},m;d<=o.length;)if(m=p(),m)return m.v;return[]}function Bie(e,t,n,r,i){var o=(r||[]).slice(),s=o.length;if(s===0)return[];for(var{start:l,end:u}=t,d=1;d<=s;d++){for(var f=(s-1)%d,p=l,m=!0,v=function(){var N=r[w];if(N==null)return 0;var T=w,O,_=()=>(O===void 0&&(O=n(N,T)),O),D=N.coordinate,V=w===f||Gc(e,D,_,p,u);if(!V)return m=!1,1;V&&(p=D+e*(_()/2+i))},x,w=f;w<s&&(x=v(),!(x!==0&&x===1));w+=d);if(m){for(var b=[],C=f;C<s;C+=d){var k=r[C];k!=null&&b.push(k)}return b}}return[]}function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(n),!0).forEach(function(r){zie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zie(e,t,n){return(t=Wie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wie(e){var t=Vie(e,"string");return typeof t=="symbol"?t:t+""}function Vie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uie(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:l}=t,{end:u}=t,d=function(m){var v=o[m];if(v==null)return 1;var x=v,w,b=()=>(w===void 0&&(w=n(v,m)),w);if(m===s-1){var C=e*(x.coordinate+e*b()/2-u);o[m]=x=An(An({},x),{},{tickCoord:C>0?x.coordinate-C*e:x.coordinate})}else o[m]=x=An(An({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var k=Gc(e,x.tickCoord,b,l,u);k&&(u=x.tickCoord-e*(b()/2+i),o[m]=An(An({},x),{},{isShow:!0}))}},f=s-1;f>=0;f--)d(f);return o}function Hie(e,t,n,r,i,o){var s=(r||[]).slice(),l=s.length,{start:u,end:d}=t;if(o){var f=r[l-1];if(f!=null){var p=n(f,l-1),m=e*(f.coordinate+e*p/2-d);if(s[l-1]=f=An(An({},f),{},{tickCoord:m>0?f.coordinate-m*e:f.coordinate}),f.tickCoord!=null){var v=Gc(e,f.tickCoord,()=>p,u,d);v&&(d=f.tickCoord-e*(p/2+i),s[l-1]=An(An({},f),{},{isShow:!0}))}}}for(var x=o?l-1:l,w=function(k){var E=s[k];if(E==null)return 1;var N=E,T,O=()=>(T===void 0&&(T=n(E,k)),T);if(k===0){var _=e*(N.coordinate-e*O()/2-u);s[k]=N=An(An({},N),{},{tickCoord:_<0?N.coordinate-_*e:N.coordinate})}else s[k]=N=An(An({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var D=Gc(e,N.tickCoord,O,u,d);D&&(u=N.tickCoord+e*(O()/2+i),s[k]=An(An({},N),{},{isShow:!0}))}},b=0;b<x;b++)w(b);return s}function E1(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:l,interval:u,tickFormatter:d,unit:f,angle:p}=e;if(!i||!i.length||!r)return[];if(_e(u)||lu.isSsr){var m;return(m=Fie(i,_e(u)?u:0))!==null&&m!==void 0?m:[]}var v=[],x=l==="top"||l==="bottom"?"width":"height",w=f&&x==="width"?mc(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(T,O)=>{var _=typeof d=="function"?d(T.value,O):T.value;return x==="width"?Rie(mc(_,{fontSize:t,letterSpacing:n}),w,p):mc(_,{fontSize:t,letterSpacing:n})[x]},C=i[0],k=i[1],E=i.length>=2&&C!=null&&k!=null?Er(k.coordinate-C.coordinate):1,N=Lie(o,E,x);return u==="equidistantPreserveStart"?$ie(E,N,b,i,s):u==="equidistantPreserveEnd"?Bie(E,N,b,i,s):(u==="preserveStart"||u==="preserveStartEnd"?v=Hie(E,N,b,i,s,u==="preserveStartEnd"):v=Uie(E,N,b,i,s),v.filter(T=>T.isShow))}var Gie=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,s=0;if(t){Array.from(t).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>s&&(s=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+o,d=s+u+l+(n?r:0);return Math.round(d)}return 0},Kie=["axisLine","width","height","className","hide","ticks","axisType"];function qie(e,t){if(e==null)return{};var n,r,i=Yie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(null,arguments)}function LN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(n),!0).forEach(function(r){Xie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xie(e,t,n){return(t=Zie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zie(e){var t=Qie(e,"string");return typeof t=="symbol"?t:t+""}function Qie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:In.axis};function Jie(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=Rt(Rt(Rt({},u),qr(l)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!s||o==="bottom"&&s);d=Rt(Rt({},d),{},{x1:t,y1:n+f*i,x2:t+r,y2:n+f*i})}else{var p=+(o==="left"&&!s||o==="right"&&s);d=Rt(Rt({},d),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return P.createElement("line",_a({},d,{className:Pt("recharts-cartesian-axis-line",qp(l,"className"))}))}function eoe(e,t,n,r,i,o,s,l,u){var d,f,p,m,v,x,w=l?-1:1,b=e.tickSize||s,C=_e(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":d=f=e.coordinate,m=n+ +!l*i,p=m-w*b,x=p-w*u,v=C;break;case"left":p=m=e.coordinate,f=t+ +!l*r,d=f-w*b,v=d-w*u,x=C;break;case"right":p=m=e.coordinate,f=t+ +l*r,d=f+w*b,v=d+w*u,x=C;break;default:d=f=e.coordinate,m=n+ +l*i,p=m+w*b,x=p+w*u,v=C;break}return{line:{x1:d,y1:p,x2:f,y2:m},tick:{x:v,y:x}}}function toe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function noe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function roe(e){var{option:t,tickProps:n,value:r}=e,i,o=Pt(n.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(t))i=P.cloneElement(t,Rt(Rt({},n),{},{className:o}));else if(typeof t=="function")i=t(Rt(Rt({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Pt(s,Lre(t))),i=P.createElement(C1,_a({},n,{className:s}),r)}return i}var ioe=P.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:s,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:p,x:m,y:v,width:x,height:w,tickSize:b,tickMargin:C,fontSize:k,letterSpacing:E,getTicksConfig:N,events:T,axisType:O}=e,_=E1(Rt(Rt({},N),{},{ticks:n}),k,E),D=toe(f,p),V=noe(f,p),q=qr(N),G=Hp(r),$={};typeof i=="object"&&($=i);var U=Rt(Rt({},q),{},{fill:"none"},$),ce=_.map(Q=>Rt({entry:Q},eoe(Q,m,v,x,w,f,b,p,C))),ue=ce.map(Q=>{var{entry:Y,line:ee}=Q;return P.createElement(mi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},i&&P.createElement("line",_a({},U,ee,{className:Pt("recharts-cartesian-axis-tick-line",qp(i,"className"))})))}),ge=ce.map((Q,Y)=>{var ee,ne,{entry:L,tick:W}=Q,ie=Rt(Rt(Rt(Rt({verticalAnchor:V},q),{},{textAnchor:D,stroke:"none",fill:o},W),{},{index:Y,payload:L,visibleTicksCount:_.length,tickFormatter:s,padding:u},d),{},{angle:(ee=(ne=d?.angle)!==null&&ne!==void 0?ne:q.angle)!==null&&ee!==void 0?ee:0}),ae=Rt(Rt({},ie),G);return P.createElement(mi,_a({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},WH(T,L,Y)),r&&P.createElement(roe,{option:r,tickProps:ae,value:"".concat(typeof s=="function"?s(L.value,Y):L.value).concat(l||"")}))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},ge.length>0&&P.createElement(ro,{zIndex:In.label},P.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},ge)),ue.length>0&&P.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},ue))}),ooe=P.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:s,ticks:l,axisType:u}=e,d=qie(e,Kie),[f,p]=P.useState(""),[m,v]=P.useState(""),x=P.useRef(null);P.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return Gie({ticks:x.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=P.useCallback(b=>{if(b){var C=b.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=C;var k=C[0];if(k){var E=window.getComputedStyle(k),N=E.fontSize,T=E.letterSpacing;(N!==f||T!==m)&&(p(N),v(T))}}},[f,m]);return s||r!=null&&r<=0||i!=null&&i<=0?null:P.createElement(ro,{zIndex:e.zIndex},P.createElement(mi,{className:Pt("recharts-cartesian-axis",o)},P.createElement(Jie,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:qr(e)}),P.createElement(ioe,{ref:w,axisType:u,events:d,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),P.createElement(ure,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},P.createElement(bre,{label:e.label,labelRef:e.labelRef}),e.children)))}),N1=P.forwardRef((e,t)=>{var n=fr(e,Bi);return P.createElement(ooe,_a({},n,{ref:t}))});N1.displayName="CartesianAxis";var aoe=["x1","y1","x2","y2","key"],soe=["offset"],loe=["xAxisId","yAxisId"],coe=["xAxisId","yAxisId"];function FN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(n),!0).forEach(function(r){uoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uoe(e,t,n){return(t=doe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function doe(e){var t=foe(e,"string");return typeof t=="symbol"?t:t+""}function foe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ya.apply(null,arguments)}function Pp(e,t){if(e==null)return{};var n,r,i=poe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function poe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hoe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:l}=e;return P.createElement("rect",{x:r,y:i,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LR(e){var{option:t,lineItemProps:n}=e,r;if(P.isValidElement(t))r=P.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:s,x2:l,y2:u,key:d}=n,f=Pp(n,aoe),p=(i=qr(f))!==null&&i!==void 0?i:{},{offset:m}=p,v=Pp(p,soe);r=P.createElement("line",ya({},v,{x1:o,y1:s,x2:l,y2:u,fill:"none",key:d}))}return r}function moe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=Pp(e,loe),u=i.map((d,f)=>{var p=kn(kn({},l),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(f),index:f});return P.createElement(LR,{key:"line-".concat(f),option:r,lineItemProps:p})});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function goe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,l=Pp(e,coe),u=i.map((d,f)=>{var p=kn(kn({},l),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(f),index:f});return P.createElement(LR,{option:r,lineItemProps:p,key:"line-".concat(f)})});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function voe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==d[0]&&d.unshift(0);var f=d.map((p,m)=>{var v=d[m+1],x=v==null,w=x?i+s-p:v-p;if(w<=0)return null;var b=m%t.length;return P.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:w,width:o,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function yoe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==d[0]&&d.unshift(0);var f=d.map((p,m)=>{var v=d[m+1],x=v==null,w=x?i+s-p:v-p;if(w<=0)return null;var b=m%n.length;return P.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:w,height:l,stroke:"none",fill:n[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var xoe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return OD(E1(kn(kn(kn({},Bi),n),{},{ticks:jD(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},boe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return OD(E1(kn(kn(kn({},Bi),n),{},{ticks:jD(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},woe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:In.grid};function FR(e){var t=FD(),n=$D(),r=LD(),i=kn(kn({},fr(e,woe)),{},{x:_e(e.x)?e.x:r.left,y:_e(e.y)?e.y:r.top,width:_e(e.width)?e.width:r.width,height:_e(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:s,x:l,y:u,width:d,height:f,syncWithTicks:p,horizontalValues:m,verticalValues:v}=i,x=Kn(),w=Le(V=>KE(V,"xAxis",o,x)),b=Le(V=>KE(V,"yAxis",s,x));if(!yi(d)||!yi(f)||!_e(l)||!_e(u))return null;var C=i.verticalCoordinatesGenerator||xoe,k=i.horizontalCoordinatesGenerator||boe,{horizontalPoints:E,verticalPoints:N}=i;if((!E||!E.length)&&typeof k=="function"){var T=m&&m.length,O=k({yAxis:b?kn(kn({},b),{},{ticks:T?m:b.ticks}):void 0,width:t??d,height:n??f,offset:r},T?!0:p);Zf(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(E=O)}if((!N||!N.length)&&typeof C=="function"){var _=v&&v.length,D=C({xAxis:w?kn(kn({},w),{},{ticks:_?v:w.ticks}):void 0,width:t??d,height:n??f,offset:r},_?!0:p);Zf(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(N=D)}return P.createElement(ro,{zIndex:i.zIndex},P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(hoe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),P.createElement(voe,ya({},i,{horizontalPoints:E})),P.createElement(yoe,ya({},i,{verticalPoints:N})),P.createElement(moe,ya({},i,{offset:r,horizontalPoints:E,xAxis:w,yAxis:b})),P.createElement(goe,ya({},i,{offset:r,verticalPoints:N,xAxis:w,yAxis:b}))))}FR.displayName="CartesianGrid";var Soe={},$R=Gn({name:"errorBars",initialState:Soe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Mle,replaceErrorBar:Ile,removeErrorBar:Rle}=$R.actions,Poe=$R.reducer;function BR(e,t){var n,r,i=Le(d=>eo(d,e)),o=Le(d=>to(d,t)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Zt.allowDataOverflow,l=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Qt.allowDataOverflow,u=s||l;return{needClip:u,needClipX:s,needClipY:l}}function Coe(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=k1(),{needClipX:o,needClipY:s,needClip:l}=BR(t,n);if(!l||!i)return null;var{x:u,y:d,width:f,height:p}=i;return P.createElement("clipPath",{id:"clipPath-".concat(r)},P.createElement("rect",{x:o?u:u-f/2,y:s?d:d-p/2,width:o?f:f*2,height:s?p:p*2}))}function Aoe(e){var t=Hp(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,s=Number(i),l=Number(o);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(l)||l<0)&&(l=r),{r:s,strokeWidth:l}}return{r:n,strokeWidth:r}}var koe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Eoe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function O1(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(koe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!uf(e[r],t[r]))return!1}else if(!Eoe(e[r],t[r]))return!1;return!0}function j1(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:_R}function T1(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:_R}var zR=(e,t,n)=>BI(e,"xAxis",j1(e,t),n),WR=(e,t,n)=>$I(e,"xAxis",j1(e,t),n),VR=(e,t,n)=>BI(e,"yAxis",T1(e,t),n),UR=(e,t,n)=>$I(e,"yAxis",T1(e,t),n),Noe=J([Nt,zR,VR,WR,UR],(e,t,n,r,i)=>bi(e,"xAxis")?Xf(t,r,!1):Xf(n,i,!1)),Ooe=(e,t)=>t,HR=J([sI,Ooe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),GR=e=>{var t=Nt(e),n=bi(t,"xAxis");return n?"yAxis":"xAxis"},joe=(e,t)=>{var n=GR(e);return n==="yAxis"?T1(e,t):j1(e,t)},Toe=(e,t,n)=>gI(e,GR(e),joe(e,t),n),_oe=J([HR,Toe],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=r1(e);if(!(r==null||i==null)){var o=(n=t[r])===null||n===void 0?void 0:n.stackedData,s=o?.find(l=>l.key===i);if(s!=null)return s.map(l=>[l[0],l[1]])}}}),Doe=J([Nt,zR,VR,WR,UR,_oe,GQ,Noe,HR,tJ],(e,t,n,r,i,o,s,l,u,d)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=s;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:v}=u,x;if(v&&v.length>0?x=v:x=f?.slice(p,m+1),x!=null)return Qoe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:o,displayedData:x,chartBaseValue:d,bandSize:l})}}),Moe=["id"],Ioe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ca.apply(null,arguments)}function KR(e,t){if(e==null)return{};var n,r,i=Roe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Roe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(n),!0).forEach(function(r){Loe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Loe(e,t,n){return(t=Foe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Foe(e){var t=$oe(e,"string");return typeof t=="symbol"?t:t+""}function $oe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cp(e,t){return e&&e!=="none"?e:t}var Boe=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:o,hide:s}=e;return[{inactive:s,dataKey:t,type:o,color:Cp(r,i),value:TD(n,t),payload:e}]},zoe=P.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:l,unit:u,tooltipType:d,id:f}=e,p={dataDefinedOnItem:n,getPosition:Ys,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:TD(s,t),hide:l,type:d,color:Cp(r,o),unit:u,graphicalItemId:f}};return P.createElement(Bre,{tooltipEntrySettings:p})});function Woe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:o,dataKey:s}=r,l=qr(r);return P.createElement(lie,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:i,clipPathId:t})}function Voe(e){var{showLabels:t,children:n,points:r}=e,i=r.map(o=>{var s,l,u={x:(s=o.x)!==null&&s!==void 0?s:0,y:(l=o.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Cs(Cs({},u),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return P.createElement(Tre,{value:t?i:void 0},n)}function BN(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:o}=e,{layout:s,type:l,stroke:u,connectNulls:d,isRange:f}=o,{id:p}=o,m=KR(o,Moe),v=qr(m),x=jr(m);return P.createElement(P.Fragment,null,t?.length>1&&P.createElement(mi,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},P.createElement(gf,Ca({},x,{id:p,points:t,connectNulls:d,type:l,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&P.createElement(gf,Ca({},v,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&f&&P.createElement(gf,Ca({},v,{className:"recharts-area-curve",layout:s,type:l,connectNulls:d,fill:"none",points:n}))),P.createElement(Woe,{points:t,props:m,clipPathId:i}))}function Uoe(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=e,l=(t=o[0])===null||t===void 0?void 0:t.y,u=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!Qe(l)||!Qe(u))return null;var d=r*Math.abs(l-u),f=Math.max(...o.map(p=>p.x||0));return _e(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(p=>p.x||0),f)),_e(f)?P.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function Hoe(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=e,l=(t=o[0])===null||t===void 0?void 0:t.x,u=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!Qe(l)||!Qe(u))return null;var d=r*Math.abs(l-u),f=Math.max(...o.map(p=>p.y||0));return _e(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(p=>p.y||0),f)),_e(f)?P.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}function Goe(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:o}=e;return n==="vertical"?P.createElement(Uoe,{alpha:t,points:r,baseLine:i,strokeWidth:o}):P.createElement(Hoe,{alpha:t,points:r,baseLine:i,strokeWidth:o})}function Koe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=e,{points:s,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:p,onAnimationStart:m,onAnimationEnd:v}=r,x=P.useMemo(()=>({points:s,baseLine:l}),[s,l]),w=JD(x,"recharts-area-"),b=Pb(),[C,k]=P.useState(!1),E=!C,N=P.useCallback(()=>{typeof v=="function"&&v(),k(!1)},[v]),T=P.useCallback(()=>{typeof m=="function"&&m(),k(!0)},[m]);if(b==null)return null;var O=i.current,_=o.current;return P.createElement(Voe,{showLabels:E,points:s},r.children,P.createElement(QD,{animationId:w,begin:d,duration:f,isActive:u,easing:p,onAnimationEnd:N,onAnimationStart:T,key:w},D=>{if(O){var V=O.length/s.length,q=D===1?s:s.map(($,U)=>{var ce=Math.floor(U*V);if(O[ce]){var ue=O[ce];return Cs(Cs({},$),{},{x:ci(ue.x,$.x,D),y:ci(ue.y,$.y,D)})}return $}),G;return _e(l)?G=ci(_,l,D):Nn(l)||gi(l)?G=ci(_,0,D):G=l.map(($,U)=>{var ce=Math.floor(U*V);if(Array.isArray(_)&&_[ce]){var ue=_[ce];return Cs(Cs({},$),{},{x:ci(ue.x,$.x,D),y:ci(ue.y,$.y,D)})}return $}),D>0&&(i.current=q,o.current=G),P.createElement(BN,{points:q,baseLine:G,needClip:t,clipPathId:n,props:r})}return D>0&&(i.current=s,o.current=l),P.createElement(mi,null,u&&P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(n)},P.createElement(Goe,{alpha:D,points:s,baseLine:l,layout:b,strokeWidth:r.strokeWidth}))),P.createElement(mi,{clipPath:"url(#animationClipPath-".concat(n,")")},P.createElement(BN,{points:s,baseLine:l,needClip:t,clipPathId:n,props:r})))}),P.createElement(Mre,{label:r.label}))}function qoe(e){var{needClip:t,clipPathId:n,props:r}=e,i=P.useRef(null),o=P.useRef();return P.createElement(Koe,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class Yoe extends P.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:o,left:s,needClip:l,xAxisId:u,yAxisId:d,width:f,height:p,id:m,baseLine:v,zIndex:x}=this.props;if(t)return null;var w=Pt("recharts-area",i),b=m,{r:C,strokeWidth:k}=Aoe(n),E=jR(n),N=C*2+k,T=l?"url(#clipPath-".concat(E?"":"dots-").concat(b,")"):void 0;return P.createElement(ro,{zIndex:x},P.createElement(mi,{className:w},l&&P.createElement("defs",null,P.createElement(Coe,{clipPathId:b,xAxisId:u,yAxisId:d}),!E&&P.createElement("clipPath",{id:"clipPath-dots-".concat(b)},P.createElement("rect",{x:s-N/2,y:o-N/2,width:f+N,height:p+N}))),P.createElement(qoe,{needClip:l,clipPathId:b,props:this.props})),P.createElement(MN,{points:r,mainColor:Cp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:T}),this.props.isRange&&Array.isArray(v)&&P.createElement(MN,{points:v,mainColor:Cp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:T}))}}var qR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:In.area};function Xoe(e){var t,n=fr(e,qR),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:l,dot:u,fill:d,fillOpacity:f,hide:p,isAnimationActive:m,legendType:v,stroke:x,xAxisId:w,yAxisId:b}=n,C=KR(n,Ioe),k=Xs(),E=lR(),{needClip:N}=BR(w,b),T=Kn(),{points:O,isRange:_,baseLine:D}=(t=Le(ce=>Doe(ce,e.id,T)))!==null&&t!==void 0?t:{},V=k1();if(k!=="horizontal"&&k!=="vertical"||V==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:q,width:G,x:$,y:U}=V;return!O||!O.length?null:P.createElement(Yoe,Ca({},C,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,baseLine:D,connectNulls:l,dot:u,fill:d,fillOpacity:f,height:q,hide:p,layout:k,isAnimationActive:m==="auto"?!lu.isSsr:m,isRange:_,legendType:v,needClip:N,points:O,stroke:x,width:G,left:$,top:U,xAxisId:w,yAxisId:b}))}var Zoe=(e,t,n,r,i)=>{var o=n??t;if(_e(o))return o;var s=e==="horizontal"?i:r,l=s.scale.domain();if(s.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return o==="dataMin"?l[0]:o==="dataMax"?l[1]:l[0]};function Qoe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:s,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:f,xAxisTicks:p,yAxisTicks:m,bandSize:v}=e,x=i&&i.length,w=Zoe(o,s,n,l,u),b=o==="horizontal",C=!1,k=d.map((N,T)=>{var O,_,D,V;if(x)V=i[f+T];else{var q=vn(N,r);Array.isArray(q)?(V=q,C=!0):V=[w,q]}var G=(O=(_=V)===null||_===void 0?void 0:_[1])!==null&&O!==void 0?O:null,$=G==null||x&&!t&&vn(N,r)==null;if(b){var U;return{x:qA({axis:l,ticks:p,bandSize:v,entry:N,index:T}),y:$?null:(U=u.scale.map(G))!==null&&U!==void 0?U:null,value:V,payload:N}}return{x:$?null:(D=l.scale.map(G))!==null&&D!==void 0?D:null,y:qA({axis:u,ticks:m,bandSize:v,entry:N,index:T}),value:V,payload:N}}),E;return x||C?E=k.map(N=>{var T,O=Array.isArray(N.value)?N.value[0]:null;if(b){var _;return{x:N.x,y:O!=null&&N.y!=null&&(_=u.scale.map(O))!==null&&_!==void 0?_:null,payload:N.payload}}return{x:O!=null&&(T=l.scale.map(O))!==null&&T!==void 0?T:null,y:N.y,payload:N.payload}}):E=b?u.scale.map(w):l.scale.map(w),{points:k,baseLine:E??0,isRange:C}}function Joe(e){var t=fr(e,qR),n=Kn();return P.createElement(Gre,{id:t.id,type:"area"},r=>P.createElement(P.Fragment,null,P.createElement(zre,{legendPayload:Boe(t)}),P.createElement(zoe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),P.createElement(Jre,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:GK(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),P.createElement(Xoe,Ca({},t,{id:r}))))}var YR=P.memo(Joe,O1);YR.displayName="Area";var eae=["domain","range"],tae=["domain","range"];function zN(e,t){if(e==null)return{};var n,r,i=nae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WN(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function XR(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=zN(e,eae),{domain:o,range:s}=t,l=zN(t,tae);return!WN(n,o)||!WN(r,s)?!1:O1(i,l)}var rae=["type"],iae=["dangerouslySetInnerHTML","ticks","scale"],oae=["id","scale"];function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V0.apply(null,arguments)}function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(n),!0).forEach(function(r){aae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aae(e,t,n){return(t=sae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sae(e){var t=lae(e,"string");return typeof t=="symbol"?t:t+""}function lae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U0(e,t){if(e==null)return{};var n,r,i=cae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uae(e){var t=rn(),n=P.useRef(null),r=Pb(),{type:i}=e,o=U0(e,rae),s=wh(r,"xAxis",i),l=P.useMemo(()=>{if(s!=null)return UN(UN({},o),{},{type:s})},[o,s]);return P.useLayoutEffect(()=>{l!=null&&(n.current===null?t(pie(l)):n.current!==l&&t(hie({prev:n.current,next:l})),n.current=l)},[l,t]),P.useLayoutEffect(()=>()=>{n.current&&(t(mie(n.current)),n.current=null)},[t]),null}var dae=e=>{var{xAxisId:t,className:n}=e,r=Le(DD),i=Kn(),o="xAxis",s=Le(C=>FI(C,o,t,i)),l=Le(C=>ZJ(C,t)),u=Le(C=>ree(C,t)),d=Le(C=>rI(C,t));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p,scale:m}=e,v=U0(e,iae),{id:x,scale:w}=d,b=U0(d,oae);return P.createElement(N1,V0({},v,b,{x:u.x,y:u.y,width:l.width,height:l.height,className:Pt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s,axisType:o}))},fae={allowDataOverflow:Zt.allowDataOverflow,allowDecimals:Zt.allowDecimals,allowDuplicatedCategory:Zt.allowDuplicatedCategory,angle:Zt.angle,axisLine:Bi.axisLine,height:Zt.height,hide:!1,includeHidden:Zt.includeHidden,interval:Zt.interval,label:!1,minTickGap:Zt.minTickGap,mirror:Zt.mirror,orientation:Zt.orientation,padding:Zt.padding,reversed:Zt.reversed,scale:Zt.scale,tick:Zt.tick,tickCount:Zt.tickCount,tickLine:Bi.tickLine,tickSize:Bi.tickSize,type:Zt.type,xAxisId:0},pae=e=>{var t=fr(e,fae);return P.createElement(P.Fragment,null,P.createElement(uae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),P.createElement(dae,t))},ZR=P.memo(pae,XR);ZR.displayName="XAxis";var hae=["type"],mae=["dangerouslySetInnerHTML","ticks","scale"],gae=["id","scale"];function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H0.apply(null,arguments)}function HN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(n),!0).forEach(function(r){vae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vae(e,t,n){return(t=yae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yae(e){var t=xae(e,"string");return typeof t=="symbol"?t:t+""}function xae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G0(e,t){if(e==null)return{};var n,r,i=bae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wae(e){var t=rn(),n=P.useRef(null),r=Pb(),{type:i}=e,o=G0(e,hae),s=wh(r,"yAxis",i),l=P.useMemo(()=>{if(s!=null)return GN(GN({},o),{},{type:s})},[s,o]);return P.useLayoutEffect(()=>{l!=null&&(n.current===null?t(gie(l)):n.current!==l&&t(vie({prev:n.current,next:l})),n.current=l)},[l,t]),P.useLayoutEffect(()=>()=>{n.current&&(t(yie(n.current)),n.current=null)},[t]),null}function Sae(e){var{yAxisId:t,className:n,width:r,label:i}=e,o=P.useRef(null),s=P.useRef(null),l=Le(DD),u=Kn(),d=rn(),f="yAxis",p=Le(O=>aee(O,t)),m=Le(O=>oee(O,t)),v=Le(O=>FI(O,f,t,u)),x=Le(O=>iI(O,t));if(P.useLayoutEffect(()=>{if(!(r!=="auto"||!p||A1(i)||P.isValidElement(i)||x==null)){var O=o.current;if(O){var _=O.getCalculatedWidth();Math.round(p.width)!==Math.round(_)&&d(xie({id:t,width:_}))}}},[v,p,d,i,t,r,x]),p==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:w,ticks:b,scale:C}=e,k=G0(e,mae),{id:E,scale:N}=x,T=G0(x,gae);return P.createElement(N1,H0({},k,T,{ref:o,labelRef:s,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:Pt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:v,axisType:f}))}var Pae={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:Qt.allowDecimals,allowDuplicatedCategory:Qt.allowDuplicatedCategory,angle:Qt.angle,axisLine:Bi.axisLine,hide:!1,includeHidden:Qt.includeHidden,interval:Qt.interval,label:!1,minTickGap:Qt.minTickGap,mirror:Qt.mirror,orientation:Qt.orientation,padding:Qt.padding,reversed:Qt.reversed,scale:Qt.scale,tick:Qt.tick,tickCount:Qt.tickCount,tickLine:Bi.tickLine,tickSize:Bi.tickSize,type:Qt.type,width:Qt.width,yAxisId:0},Cae=e=>{var t=fr(e,Pae);return P.createElement(P.Fragment,null,P.createElement(wae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),P.createElement(Sae,t))},QR=P.memo(Cae,XR);QR.displayName="YAxis";var Aae=(e,t)=>t,_1=J([Aae,Nt,tI,sn,nR,no,bte,yn],Ete),D1=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},JR=Tr("mouseClick"),eL=iu();eL.startListening({actionCreator:JR,effect:(e,t)=>{var n=e.payload,r=_1(t.getState(),D1(n));r?.activeIndex!=null&&t.dispatch(xee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var K0=Tr("mouseMove"),tL=iu(),of=null;tL.startListening({actionCreator:K0,effect:(e,t)=>{var n=e.payload;of!==null&&cancelAnimationFrame(of);var r=D1(n);of=requestAnimationFrame(()=>{var i=t.getState(),o=h1(i,i.tooltip.settings.shared);if(o==="axis"){var s=_1(i,r);s?.activeIndex!=null?t.dispatch(KI({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(GI())}of=null})}});function kae(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var KN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},nL=Gn({name:"rootProps",initialState:KN,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:KN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Eae=nL.reducer,{updateOptions:Nae}=nL.actions,Oae=null,jae={updatePolarOptions:(e,t)=>t.payload},rL=Gn({name:"polarOptions",initialState:Oae,reducers:jae}),{updatePolarOptions:Lle}=rL.actions,Tae=rL.reducer,iL=Tr("keyDown"),oL=Tr("focus"),M1=iu();M1.startListening({actionCreator:iL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=m1(i,ol(n),mu(n),vu(n)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var u=no(n);if(o==="Enter"){var d=bp(n,"axis","hover",String(i.index));t.dispatch(F0({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=uee(n),p=f==="left-to-right"?1:-1,m=o==="ArrowRight"?1:-1,v=l+m*p;if(!(u==null||v>=u.length||v<0)){var x=bp(n,"axis","hover",String(v));t.dispatch(F0({active:!0,activeIndex:v.toString(),activeCoordinate:x}))}}}}}});M1.startListening({actionCreator:oL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=bp(n,"axis","hover",String(o));t.dispatch(F0({active:!0,activeIndex:o,activeCoordinate:s}))}}}});var Pr=Tr("externalEvent"),aL=iu(),xy=new Map;aL.startListening({actionCreator:Pr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=xy.get(i);o!==void 0&&cancelAnimationFrame(o);var s=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:ote(l),activeDataKey:rte(l),activeIndex:Uc(l),activeLabel:oR(l),activeTooltipIndex:Uc(l),isTooltipActive:ate(l)};n(u,r)}finally{xy.delete(i)}});xy.set(i,s)}}});var _ae=J([rl],e=>e.tooltipItemPayloads),Dae=J([_ae,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),sL=Tr("touchMove"),lL=iu();lL.startListening({actionCreator:sL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=h1(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var s=_1(r,D1({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&t.dispatch(KI({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(JK),p=(l=d.getAttribute(eq))!==null&&l!==void 0?l:void 0,m=il(r).find(w=>w.id===p);if(f==null||m==null||p==null)return;var{dataKey:v}=m,x=Dae(r,f,p);t.dispatch(yee({activeDataKey:v,activeIndex:f,activeCoordinate:x,activeGraphicalItemId:p}))}}}});var Mae=oT({brush:Oie,cartesianAxis:bie,chartData:one,errorBars:Poe,graphicalItems:Zre,layout:LK,legend:Gq,options:ene,polarAxis:Rre,polarOptions:Tae,referenceElements:Die,rootProps:Eae,tooltip:bee,zIndex:zte}),Iae=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return lK({reducer:Mae,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([eL.middleware,tL.middleware,M1.middleware,aL.middleware,lL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(mD({type:"raf"}))},devTools:{serialize:{replacer:kae},name:"recharts-".concat(n)}})};function Rae(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Kn(),o=P.useRef(null);if(i)return n;o.current==null&&(o.current=Iae(t,r));var s=mb;return P.createElement(hT,{context:s,store:o.current},n)}function Lae(e){var{layout:t,margin:n}=e,r=rn(),i=Kn();return P.useEffect(()=>{i||(r(MK(t)),r(DK(n)))},[r,i,t,n]),null}var Fae=P.memo(Lae,O1);function $ae(e){var t=rn();return P.useEffect(()=>{t(Nae(e))},[t,e]),null}function qN(e){var{zIndex:t,isPanorama:n}=e,r=P.useRef(null),i=rn();return P.useLayoutEffect(()=>(r.current&&i($te({zIndex:t,element:r.current,isPanorama:n})),()=>{i(Bte({zIndex:t,isPanorama:n}))}),[i,t,n]),P.createElement("g",{tabIndex:-1,ref:r})}function YN(e){var{children:t,isPanorama:n}=e,r=Le(Ote);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),o=r.filter(s=>s>0);return P.createElement(P.Fragment,null,i.map(s=>P.createElement(qN,{key:s,zIndex:s,isPanorama:n})),t,o.map(s=>P.createElement(qN,{key:s,zIndex:s,isPanorama:n})))}var Bae=["children"];function zae(e,t){if(e==null)return{};var n,r,i=Wae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ap.apply(null,arguments)}var Vae={width:"100%",height:"100%",display:"block"},Uae=P.forwardRef((e,t)=>{var n=FD(),r=$D(),i=qD();if(!yi(n)||!yi(r))return null;var{children:o,otherAttributes:s,title:l,desc:u}=e,d,f;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),P.createElement(A_,Ap({},s,{title:l,desc:u,role:f,tabIndex:d,width:n,height:r,style:Vae,ref:t}),o)}),Hae=e=>{var{children:t}=e,n=Le(lh);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return P.createElement(A_,{width:r,height:i,x:s,y:o},t)},XN=P.forwardRef((e,t)=>{var{children:n}=e,r=zae(e,Bae),i=Kn();return i?P.createElement(Hae,null,P.createElement(YN,{isPanorama:!0},n)):P.createElement(Uae,Ap({ref:t},r),P.createElement(YN,{isPanorama:!1},n))});function Gae(){var e=rn(),[t,n]=P.useState(null),r=Le(QK);return P.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;Qe(o)&&o!==r&&e(RK(o))}},[t,e,r]),n}function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(r){qae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qae(e,t,n){return(t=Yae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yae(e){var t=Xae(e,"string");return typeof t=="symbol"?t:t+""}function Xae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mo.apply(null,arguments)}var Zae=()=>(hne(),null);function kp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Qae=P.forwardRef((e,t)=>{var n,r,i=P.useRef(null),[o,s]=P.useState({containerWidth:kp((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:kp((r=e.style)===null||r===void 0?void 0:r.height)}),l=P.useCallback((d,f)=>{s(p=>{var m=Math.round(d),v=Math.round(f);return p.containerWidth===m&&p.containerHeight===v?p:{containerWidth:m,containerHeight:v}})},[]),u=P.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=d.getBoundingClientRect();l(f,p);var m=x=>{var w=x[0];if(w!=null){var{width:b,height:C}=w.contentRect;l(b,C)}},v=new ResizeObserver(m);v.observe(d),i.current=v}},[t,l]);return P.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),P.createElement(P.Fragment,null,P.createElement(au,{width:o.containerWidth,height:o.containerHeight}),P.createElement("div",Mo({ref:u},e)))}),Jae=P.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=P.useState({containerWidth:kp(n),containerHeight:kp(r)}),s=P.useCallback((u,d)=>{o(f=>{var p=Math.round(u),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=P.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();s(d,f)}},[t,s]);return P.createElement(P.Fragment,null,P.createElement(au,{width:i.containerWidth,height:i.containerHeight}),P.createElement("div",Mo({ref:l},e)))}),ese=P.forwardRef((e,t)=>{var{width:n,height:r}=e;return P.createElement(P.Fragment,null,P.createElement(au,{width:n,height:r}),P.createElement("div",Mo({ref:t},e)))}),tse=P.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?P.createElement(Jae,Mo({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?P.createElement(ese,Mo({},e,{width:n,height:r,ref:t})):P.createElement(P.Fragment,null,P.createElement(au,{width:n,height:r}),P.createElement("div",Mo({ref:t},e)))});function nse(e){return e?Qae:tse}var rse=P.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:m,onTouchEnd:v,onTouchMove:x,onTouchStart:w,style:b,width:C,responsive:k,dispatchTouchEvents:E=!0}=e,N=P.useRef(null),T=rn(),[O,_]=P.useState(null),[D,V]=P.useState(null),q=Gae(),G=wb(),$=G?.width>0?G.width:C,U=G?.height>0?G.height:i,ce=P.useCallback(R=>{q(R),typeof t=="function"&&t(R),_(R),V(R),R!=null&&(N.current=R)},[q,t,_,V]),ue=P.useCallback(R=>{T(JR(R)),T(Pr({handler:o,reactEvent:R}))},[T,o]),ge=P.useCallback(R=>{T(K0(R)),T(Pr({handler:d,reactEvent:R}))},[T,d]),Q=P.useCallback(R=>{T(GI()),T(Pr({handler:f,reactEvent:R}))},[T,f]),Y=P.useCallback(R=>{T(K0(R)),T(Pr({handler:p,reactEvent:R}))},[T,p]),ee=P.useCallback(()=>{T(oL())},[T]),ne=P.useCallback(R=>{T(iL(R.key))},[T]),L=P.useCallback(R=>{T(Pr({handler:s,reactEvent:R}))},[T,s]),W=P.useCallback(R=>{T(Pr({handler:l,reactEvent:R}))},[T,l]),ie=P.useCallback(R=>{T(Pr({handler:u,reactEvent:R}))},[T,u]),ae=P.useCallback(R=>{T(Pr({handler:m,reactEvent:R}))},[T,m]),de=P.useCallback(R=>{T(Pr({handler:w,reactEvent:R}))},[T,w]),X=P.useCallback(R=>{E&&T(sL(R)),T(Pr({handler:x,reactEvent:R}))},[T,E,x]),B=P.useCallback(R=>{T(Pr({handler:v,reactEvent:R}))},[T,v]),te=nse(k);return P.createElement(pR.Provider,{value:O},P.createElement(pH.Provider,{value:D},P.createElement(te,{width:$??b?.width,height:U??b?.height,className:Pt("recharts-wrapper",r),style:Kae({position:"relative",cursor:"default",width:$,height:U},b),onClick:ue,onContextMenu:L,onDoubleClick:W,onFocus:ee,onKeyDown:ne,onMouseDown:ie,onMouseEnter:ge,onMouseLeave:Q,onMouseMove:Y,onMouseUp:ae,onTouchEnd:B,onTouchMove:X,onTouchStart:de,ref:ce},P.createElement(Zae,null),n)))}),ise=["width","height","responsive","children","className","style","compact","title","desc"];function ose(e,t){if(e==null)return{};var n,r,i=ase(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ase(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sse=P.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:s,style:l,compact:u,title:d,desc:f}=e,p=ose(e,ise),m=qr(p);return u?P.createElement(P.Fragment,null,P.createElement(au,{width:n,height:r}),P.createElement(XN,{otherAttributes:m,title:d,desc:f},o)):P.createElement(rse,{className:s,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},P.createElement(XN,{otherAttributes:m,title:d,desc:f,ref:t},P.createElement(Iie,null,o)))});function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q0.apply(null,arguments)}var lse={top:5,right:5,bottom:5,left:5},cse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:lse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},use=P.forwardRef(function(t,n){var r,i=fr(t.categoricalChartProps,cse),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,f={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return P.createElement(Rae,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},P.createElement(Nie,{chartData:d.data}),P.createElement(Fae,{layout:i.layout,margin:i.margin}),P.createElement($ae,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),P.createElement(sse,q0({},i,{ref:n})))}),dse=["axis"],fse=P.forwardRef((e,t)=>P.createElement(use,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dse,tooltipPayloadSearcher:Qte,categoricalChartProps:e,ref:t}));const pse=["AR","HR","Metallic","Beamsplitter","Specialty","Base","Custom"],hse=["Gold","Silver","Aluminum","Enhanced Silver","Protected Gold","Protected Silver","Protected Aluminum"];function mse(e){return e.category==="HR"&&hse.some(t=>e.name.includes(t))?"Metallic":e.category}function gse(e){const t=new Map;for(const n of e){const r=mse(n);t.has(r)||t.set(r,[]),t.get(r).push(n)}for(const n of t.values())n.sort((r,i)=>r.name.localeCompare(i.name));return t}function vse(e){const t=e.trim().split(/\r?\n/).filter(u=>u.trim());if(t.length<1)return[];const n=t[0].includes("	")?"	":",",r=t[0].split(n).map(u=>u.toLowerCase().trim()),i=r.findIndex(u=>u.includes("wavelength")||u==="wl"||u==="lambda"||u==="nm"),o=r.findIndex(u=>u.includes("reflectivity")||u==="r"||u==="ref"),s=i>=0||o>=0?1:0,l=[];for(let u=s;u<t.length;u++){const d=t[u].split(n),f=parseFloat(d[i>=0?i:0]?.trim()??""),p=parseFloat(d[o>=0?o:1]?.trim()??"");!Number.isNaN(f)&&!Number.isNaN(p)&&l.push({wavelength:f,reflectivity:Math.max(0,Math.min(1,p))})}return l.sort((u,d)=>u.wavelength-d.wavelength)}function yse(){const[e,t]=P.useState([]),[n,r]=P.useState(""),[i,o]=P.useState(null),[s,l]=P.useState([]),[u,d]=P.useState(!1),[f,p]=P.useState(!1),[m,v]=P.useState("type"),[x,w]=P.useState("constant"),[b,C]=P.useState(.005),[k,E]=P.useState(""),[N,T]=P.useState([]),[O,_]=P.useState(""),[D,V]=P.useState(""),[q,G]=P.useState(null),[$,U]=P.useState(!1),ce=P.useCallback(async()=>{const W=await j7();t(W)},[]);P.useEffect(()=>{ce()},[ce]);const ue=P.useCallback(async W=>{const ie=W.data_points,ae=W.constant_value;if(Array.isArray(ie)&&ie.length>0){const X=Math.min(...ie.map(re=>re.wavelength)),B=Math.max(...ie.map(re=>re.wavelength)),te=Math.max(1,(B-X)/100),R=[];for(let re=X;re<=B;re+=te){const fe=ie.filter(we=>we.wavelength<=re).pop(),I=ie.find(we=>we.wavelength>=re);let Ce=fe?.reflectivity??I?.reflectivity??0;if(fe&&I&&fe.wavelength!==I.wavelength){const we=(re-fe.wavelength)/(I.wavelength-fe.wavelength);Ce=fe.reflectivity+we*(I.reflectivity-fe.reflectivity)}R.push({wavelength:Math.round(re*10)/10,reflectivity:Ce})}l(R);return}if(typeof ae=="number"){const X=[];for(let B=350;B<=1100;B+=5)X.push({wavelength:B,reflectivity:ae});l(X);return}const de=await x_(W.name,350,1100,5);l(de)},[]);P.useEffect(()=>{i?ue(i):l([])},[i,ue]);const ge=n.trim()?e.filter(W=>W.name.toLowerCase().includes(n.toLowerCase())||W.description.toLowerCase().includes(n.toLowerCase())||W.category.toLowerCase().includes(n.toLowerCase())):e,Q=gse(ge),Y=()=>{w("constant"),v("constant"),C(.005)},ee=()=>{w("table"),v("table"),E(""),T([])},ne=W=>{E(W);const ie=vse(W);T(ie)},L=async()=>{if(G(null),!O.trim()){G("Name is required");return}U(!0);try{const W={name:O.trim(),category:"Custom",description:D.trim(),is_hr:!1,data_type:x==="constant"?"constant":"table"};if(x==="constant")W.constant_value=Math.max(0,Math.min(1,b));else{if(N.length<2){G("At least 2 data points required for table");return}W.data_points=N}await T7(W),await ce();const ie={name:O.trim(),description:D.trim(),is_hr:!1,category:"Custom",source:"custom"};o(ie),ue(x==="constant"?{name:O,constant_value:W.constant_value}:{name:O,data_points:N}),p(!1),v("type"),_(""),V("")}catch(W){G(W instanceof Error?W.message:"Failed to create coating")}finally{U(!1)}};return y.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h2",{className:"text-2xl font-semibold text-cyan-400 flex items-center gap-2",children:[y.jsx(sO,{className:"w-7 h-7"}),"Coating Lab"]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{type:"button","data-testid":"coating-browse-catalog",onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800/80 backdrop-blur-md border border-white/10 text-slate-200 hover:border-cyan-400/40 hover:bg-slate-800 transition-colors",children:[y.jsx(js,{className:"w-4 h-4"}),"Browse Catalog"]}),y.jsxs("button",{type:"button",onClick:()=>{p(!0),v("type")},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-500/20 backdrop-blur-md border border-cyan-400/50 text-cyan-400 hover:bg-cyan-500/30 transition-colors shadow-[0_0_12px_rgba(34,211,238,0.15)]",children:[y.jsx(Os,{className:"w-4 h-4"}),"New Custom Coating"]})]})]}),y.jsxs("div",{"data-testid":"spectral-performance-graph",className:"rounded-xl border border-white/10 bg-slate-900/80 backdrop-blur-md p-6 shadow-xl",children:[y.jsxs("h3",{className:"text-lg font-medium text-slate-200 mb-4 flex items-center gap-2",children:[y.jsx(V3,{className:"w-5 h-5 text-cyan-400"}),"Spectral Performance R()"]}),s.length>0?y.jsx("div",{className:"h-72",children:y.jsx(Nq,{width:"100%",height:"100%",children:y.jsxs(fse,{data:s,margin:{top:10,right:20,left:0,bottom:0},children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"spectralGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:.4}),y.jsx("stop",{offset:"100%",stopColor:"#22d3ee",stopOpacity:0})]})}),y.jsx(FR,{strokeDasharray:"3 3",stroke:"#334155"}),y.jsx(ZR,{dataKey:"wavelength",type:"number",domain:[350,1100],tick:{fill:"#94a3b8",fontSize:11},stroke:"#64748b"}),y.jsx(QR,{domain:[0,1],tickFormatter:W=>`${(W*100).toFixed(0)}%`,tick:{fill:"#94a3b8",fontSize:11},stroke:"#64748b"}),y.jsx(Sne,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid #334155",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"},formatter:W=>[`${((W??0)*100).toFixed(2)}%`,"R"],labelFormatter:W=>` = ${W} nm`}),y.jsx(YR,{type:"monotone",dataKey:"reflectivity",stroke:"#22d3ee",strokeWidth:2,fill:"url(#spectralGrad)"})]})})}):y.jsx("div",{className:"h-72 flex items-center justify-center text-slate-500 border border-dashed border-slate-600 rounded-lg",children:"Select a coating from the catalog or create a custom one to view R()"}),i&&y.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-slate-400",children:"Showing:"}),y.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-medium ${i.source==="custom"?"bg-cyan-500/20 border border-cyan-400/50 text-cyan-400 shadow-[0_0_8px_rgba(34,211,238,0.2)]":"bg-slate-800 border border-white/10 text-slate-200"}`,children:i.name}),y.jsx("button",{type:"button",onClick:()=>o(null),className:"text-slate-500 hover:text-slate-300 text-sm",children:"Clear"})]})]}),y.jsx(zi,{children:u&&y.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-md p-4",onClick:()=>d(!1),children:y.jsxs(Ze.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-2xl max-h-[85vh] rounded-xl border border-white/10 bg-slate-900/95 backdrop-blur-xl shadow-2xl overflow-hidden flex flex-col",onClick:W=>W.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 px-6 py-4",children:[y.jsx("h3",{className:"text-xl font-semibold text-cyan-400",children:"Coating Catalog"}),y.jsx("button",{type:"button",onClick:()=>d(!1),className:"p-2 rounded-lg text-slate-400 hover:text-slate-200 hover:bg-white/5",children:y.jsx(vc,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"p-4 border-b border-slate-700",children:y.jsxs("div",{className:"relative",children:[y.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),y.jsx("input",{type:"text",placeholder:"Search coatings...",value:n,onChange:W=>r(W.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-slate-800/80 border border-white/10 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-400/50 focus:ring-1 focus:ring-cyan-400/30"})]})}),y.jsx("div",{className:"flex-1 overflow-auto p-4 space-y-6",children:pse.filter(W=>Q.has(W)).map(W=>y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-2 uppercase tracking-wider",children:W}),y.jsx("div",{className:"flex flex-wrap gap-2",children:Q.get(W).map(ie=>y.jsxs("button",{type:"button","data-testid":`coating-catalog-${ie.name.replace(/\s+/g,"-")}`,onClick:()=>{o(ie),d(!1)},className:`px-4 py-2.5 rounded-lg text-left transition-all flex items-center gap-2 ${i?.name===ie.name?"bg-cyan-500/20 border-2 border-cyan-400/60 text-cyan-400 shadow-[0_0_12px_rgba(34,211,238,0.25)]":"bg-slate-800/80 border border-white/10 text-slate-200 hover:border-cyan-400/30 hover:bg-slate-800"}`,children:[y.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold uppercase ${ie.is_hr?"bg-amber-500/30 text-amber-400":"bg-cyan-500/20 text-cyan-400"}`,children:ie.is_hr?"HR":"AR"}),y.jsx("span",{className:"font-medium",children:ie.name}),ie.source==="custom"&&y.jsx("span",{className:"text-[10px] text-slate-500",children:"custom"})]},ie.name))})]},W))})]})})}),y.jsx(zi,{children:f&&y.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-md p-4",onClick:()=>!$&&p(!1),children:y.jsxs(Ze.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-lg rounded-xl border border-white/10 bg-slate-900/95 backdrop-blur-xl shadow-2xl overflow-hidden",onClick:W=>W.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 px-6 py-4",children:[y.jsx("h3",{className:"text-xl font-semibold text-cyan-400",children:"New Custom Coating"}),y.jsx("button",{type:"button",onClick:()=>!$&&p(!1),className:"p-2 rounded-lg text-slate-400 hover:text-slate-200",children:y.jsx(vc,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[m==="type"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-slate-400 text-sm",children:"Choose how to define reflectivity:"}),y.jsxs("button",{type:"button",onClick:Y,className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-800/80 border border-white/10 hover:border-cyan-400/40 transition-colors text-left",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:y.jsx(uO,{className:"w-5 h-5 text-cyan-400"})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-slate-200",children:"Constant Reflectivity"}),y.jsx("div",{className:"text-sm text-slate-500",children:"Same R at all wavelengths (e.g. 0.5%)"})]})]}),y.jsx(Py,{className:"w-5 h-5 text-slate-500"})]}),y.jsxs("button",{type:"button",onClick:ee,className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-800/80 border border-white/10 hover:border-cyan-400/40 transition-colors text-left",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:y.jsx(vP,{className:"w-5 h-5 text-cyan-400"})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-slate-200",children:"Table Upload"}),y.jsx("div",{className:"text-sm text-slate-500",children:"Paste or upload CSV: wavelength_nm, reflectivity"})]})]}),y.jsx(Py,{className:"w-5 h-5 text-slate-500"})]})]}),m==="constant"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Reflectivity (0100%)"}),y.jsx("input",{type:"number",min:0,max:100,step:.01,value:b*100,onChange:W=>C(Math.max(0,Math.min(100,Number(W.target.value)||0))/100),className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 focus:border-cyan-400/50"}),y.jsxs("p",{className:"text-slate-500 text-sm",children:["R = ",(b*100).toFixed(2),"% at all wavelengths"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>v("type"),className:"px-4 py-2 rounded-lg text-slate-400 hover:bg-white/5",children:"Back"}),y.jsx("button",{type:"button",onClick:()=>{v("name"),_(""),V("")},className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/50 hover:bg-cyan-500/30",children:"Next"})]})]}),m==="table"&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Paste CSV (wavelength_nm, reflectivity)"}),y.jsx("textarea",{value:k,onChange:W=>ne(W.target.value),placeholder:`wavelength_nm,reflectivity
400,0.02
550,0.01
700,0.03`,rows:8,className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 font-mono text-sm placeholder-slate-500 focus:border-cyan-400/50 resize-none"}),y.jsx("input",{type:"file",accept:".csv,.txt",onChange:W=>{const ie=W.target.files?.[0];if(ie){const ae=new FileReader;ae.onload=()=>ne(String(ae.result)),ae.readAsText(ie)}W.target.value=""},className:"hidden",id:"csv-upload"}),y.jsxs("label",{htmlFor:"csv-upload",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800 border border-white/10 text-slate-300 hover:bg-slate-700 cursor-pointer text-sm",children:[y.jsx(vP,{className:"w-4 h-4"}),"Upload CSV"]}),N.length>0&&y.jsxs("p",{className:"text-cyan-400 text-sm",children:[N.length," points loaded"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>v("type"),className:"px-4 py-2 rounded-lg text-slate-400 hover:bg-white/5",children:"Back"}),y.jsx("button",{type:"button",onClick:()=>{v("name"),_(""),V("")},disabled:N.length<2,className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/50 hover:bg-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),m==="name"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Name"}),y.jsx("input",{type:"text",value:O,onChange:W=>_(W.target.value),placeholder:"My Custom Coating",className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 placeholder-slate-500 focus:border-cyan-400/50"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description (optional)"}),y.jsx("input",{type:"text",value:D,onChange:W=>V(W.target.value),placeholder:"e.g. Optimized for 532 nm",className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-white/10 text-slate-200 placeholder-slate-500 focus:border-cyan-400/50"})]}),q&&y.jsx("p",{className:"text-red-400 text-sm",children:q}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>v(x),className:"px-4 py-2 rounded-lg text-slate-400 hover:bg-white/5",children:"Back"}),y.jsx("button",{type:"button",onClick:L,disabled:$||!O.trim(),className:"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-400 border border-cyan-400/50 hover:bg-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:$?"Creating":"Create Coating"})]})]})]})]})})})]})}const xse=28e-7,bse=1.05;function wse(e,t){const n=e.laserPowerW??0,r=e.entrancePupilDiameter??10,i=e.surfaces.find(N=>N.type==="Glass");if(!i||n<=0)return{eflCold:t,fThermal:1/0,eflEffective:t,deltaEfl:0,pAbsorbed:0,hasSignificantHeating:!1};const o=i.absorptionCoefficient??0,l=(i.thickness??0)/10,u=o>0&&l>0?n*(1-Math.exp(-o*l)):0;if(u<=0)return{eflCold:t,fThermal:1/0,eflEffective:t,deltaEfl:0,pAbsorbed:0,hasSignificantHeating:!1};const d=r/2/1e3,f=d*d,p=Math.PI*bse*f/(u*xse),m=p*1e3,x=1/(t/1e3),w=1/p,k=1/(x+w)*1e3,E=k-t;return{eflCold:t,fThermal:m,eflEffective:k,deltaEfl:E,pAbsorbed:u,hasSignificantHeating:!0}}const hs="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:border-cyan-electric/50";function Sse({systemState:e,onSystemStateChange:t,selectedSurfaceId:n,onSelectSurface:r,showBestFocus:i,onShowBestFocusChange:o,snapToFocus:s,onSnapToFocusChange:l,snapToSurface:u,onSnapToSurfaceChange:d}){const f=C=>{t(k=>({...k,...C}))},p=()=>{t(C=>({...C,wavelengths:[...C.wavelengths,$e.defaults.defaultWavelength]}))},m=C=>{t(k=>({...k,wavelengths:k.wavelengths.filter((E,N)=>N!==C)}))},v=(C,k)=>{t(E=>({...E,wavelengths:E.wavelengths.map((N,T)=>T===C?k:N)}))},x=()=>{t(C=>C.fieldAngles.length>=$e.maxFieldAngles?C:{...C,fieldAngles:[...C.fieldAngles,$e.defaults.defaultFieldAngle]})},w=C=>{t(k=>({...k,fieldAngles:k.fieldAngles.filter((E,N)=>N!==C)}))},b=(C,k)=>{t(E=>({...E,fieldAngles:E.fieldAngles.map((N,T)=>T===C?k:N)}))};return y.jsxs("div",{className:"h-full glass-card rounded-none border-l border-white/10 p-4 overflow-y-auto",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg mb-4",children:"System Properties"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Entrance Pupil Diameter"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:e.entrancePupilDiameter,onChange:C=>f({entrancePupilDiameter:Number(C.target.value)||0}),min:.1,step:.5,className:hs}),y.jsx("span",{className:"text-slate-500 text-sm",children:"mm"})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Wavelengths"}),y.jsx("div",{className:"space-y-2",children:e.wavelengths.map((C,k)=>y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:C,onChange:E=>v(k,Number(E.target.value)||0),min:300,max:2e3,step:1,className:hs}),y.jsx("span",{className:"text-slate-500 text-sm w-8",children:"nm"}),e.wavelengths.length>1&&y.jsx("button",{onClick:()=>m(k),className:"p-1.5 rounded text-slate-500 hover:text-red-400 hover:bg-white/5 transition-colors","aria-label":"Remove wavelength",children:y.jsx(bf,{className:"w-4 h-4"})})]},k))}),y.jsxs("button",{onClick:p,className:"mt-2 w-full flex items-center justify-center gap-1 py-2 rounded-lg border border-dashed border-white/20 text-slate-400 hover:text-cyan-electric hover:border-cyan-electric/50 transition-colors text-sm",children:[y.jsx(Os,{className:"w-4 h-4"}),"Add wavelength"]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Field Angles"}),y.jsx("div",{className:"space-y-2",children:e.fieldAngles.map((C,k)=>y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"number",value:C,onChange:E=>b(k,Number(E.target.value)||0),min:0,max:90,step:.5,className:hs}),y.jsx("span",{className:"text-slate-500 text-sm w-8",children:""}),e.fieldAngles.length>1&&y.jsx("button",{onClick:()=>w(k),className:"p-1.5 rounded text-slate-500 hover:text-red-400 hover:bg-white/5 transition-colors","aria-label":"Remove field angle",children:y.jsx(bf,{className:"w-4 h-4"})})]},k))}),y.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Maximum of ",$e.maxFieldAngles," field angles allowed for this simulation."]}),y.jsxs("button",{onClick:x,disabled:e.fieldAngles.length>=$e.maxFieldAngles,title:e.fieldAngles.length>=$e.maxFieldAngles?"Maximum of 3 field angles allowed for this simulation.":"Add field angle",className:"mt-2 w-full flex items-center justify-center gap-1 py-2 rounded-lg border border-dashed border-white/20 text-slate-400 hover:text-cyan-electric hover:border-cyan-electric/50 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:text-slate-400 disabled:hover:border-white/20",children:[y.jsx(Os,{className:"w-4 h-4"}),"Add field angle"]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Ray Count"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("input",{type:"range",min:$e.rayCount.min,max:$e.rayCount.max,value:e.numRays,onChange:C=>f({numRays:Number(C.target.value)}),className:"flex-1 accent-cyan-electric"}),y.jsx("span",{className:"text-cyan-electric text-sm font-mono w-6",children:e.numRays})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Focus Configuration"}),y.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-white/10 bg-white/5",children:[y.jsx("button",{type:"button",onClick:()=>f({focusMode:"On-Axis"}),className:`flex-1 px-3 py-2.5 text-sm font-medium transition-colors ${(e.focusMode??"On-Axis")==="On-Axis"?"bg-cyan-electric/20 text-cyan-electric border-r border-white/10":"text-slate-400 hover:text-slate-200 hover:bg-white/5"}`,children:"Paraxial (On-Axis)"}),y.jsx("button",{type:"button",onClick:()=>f({focusMode:"Balanced"}),className:`flex-1 px-3 py-2.5 text-sm font-medium transition-colors ${(e.focusMode??"On-Axis")==="Balanced"?"bg-amber-500/20 text-amber-400 border-l border-white/10":"text-slate-400 hover:text-slate-200 hover:bg-white/5"}`,children:"Best Composite"})]}),y.jsx("p",{className:"mt-2 text-xs text-slate-500",children:(e.focusMode??"On-Axis")==="Balanced"?"Circle of Least Confusion across the entire field of view.":"Ignores off-axis aberrations when placing the focus diamond."})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsxs("h3",{className:"text-sm font-medium text-slate-300 mb-3 flex items-center gap-2",children:[y.jsx(_3,{className:"w-4 h-4 text-cyan-electric",strokeWidth:2}),"Snapping & Precision"]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("label",{className:"flex items-center justify-between gap-3 cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:"Snap to Focus"}),y.jsx("span",{role:"switch","aria-checked":s,tabIndex:0,onClick:()=>l(!s),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),l(!s))},className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full transition-colors duration-200 ease-in-out hover:opacity-90 ${s?"bg-cyan-electric/40":"bg-white/10"}`,children:y.jsx("span",{className:`pointer-events-none absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-lg transition-all duration-200 ease-in-out ${s?"left-5 bg-cyan-electric":"left-0.5"}`})})]}),y.jsxs("label",{className:"flex items-center justify-between gap-3 cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:"Snap to Surface"}),y.jsx("span",{role:"switch","aria-checked":u,tabIndex:0,onClick:()=>d(!u),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),d(!u))},className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full transition-colors duration-200 ease-in-out hover:opacity-90 ${u?"bg-cyan-electric/40":"bg-white/10"}`,children:y.jsx("span",{className:`pointer-events-none absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-lg transition-all duration-200 ease-in-out ${u?"left-5 bg-cyan-electric":"left-0.5"}`})})]})]}),y.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Snap to Focus: Gold Diamond. Snap to Surface: lens vertices. Hold"," ",y.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-slate-800/90 text-slate-200 font-mono text-[10px] shadow-[0_1px_0_0_rgba(255,255,255,0.1),inset_0_-1px_0_0_rgba(0,0,0,0.3)]",children:fO?" Option":"Alt"})," ","to disable snapping."]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Visualization Settings"}),y.jsxs("label",{className:"flex items-center justify-between gap-3 cursor-pointer group",children:[y.jsx("span",{className:"text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:"Show Best Focus Diamond"}),y.jsx("span",{role:"switch","aria-checked":i,tabIndex:0,onClick:()=>o(!i),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),o(!i))},className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full transition-colors duration-200 ease-in-out hover:opacity-90 ${i?"bg-cyan-electric/40":"bg-white/10"}`,children:y.jsx("span",{className:`pointer-events-none absolute top-0.5 h-5 w-5 rounded-full bg-white shadow-lg transition-all duration-200 ease-in-out ${i?"left-5 bg-cyan-electric":"left-0.5"}`})})]})]}),y.jsxs("section",{className:"glass-card p-4 border-orange-500/20",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Thermal Lensing"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Laser Power (W)"}),y.jsx("input",{type:"number",min:0,max:1e4,step:1,value:e.laserPowerW??"",onChange:C=>t(k=>({...k,laserPowerW:C.target.value===""?void 0:Math.max(0,Number(C.target.value)||0)})),placeholder:"0",className:hs}),y.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"CW power for thermo-optic (dn/dT) analysis. Absorption  set per lens in System Editor."})]}),(()=>{const C=e.traceResult?.performance?.fNumber!=null&&e.entrancePupilDiameter>0?e.traceResult.performance.fNumber*e.entrancePupilDiameter:(()=>{const E=e.surfaces[0],N=e.surfaces[1];return E&&N&&E.radius!==0&&N.radius!==0?1/((E.refractiveIndex-1)*(1/E.radius-1/-N.radius)):100})(),k=wse(e,C);return k.hasSignificantHeating?y.jsxs("div",{className:"text-xs space-y-1 pt-1 border-t border-white/10",children:[y.jsxs("div",{className:"flex justify-between text-slate-400",children:[y.jsx("span",{children:"Cold EFL"}),y.jsxs("span",{className:"tabular-nums text-slate-300",children:[k.eflCold.toFixed(2)," mm"]})]}),y.jsxs("div",{className:"flex justify-between text-slate-400",children:[y.jsx("span",{children:"Effective EFL (heated)"}),y.jsxs("span",{className:"tabular-nums text-orange-400",children:[k.eflEffective.toFixed(2)," mm"]})]}),y.jsxs("div",{className:"flex justify-between text-orange-400 font-medium",children:[y.jsx("span",{children:"f (thermo-optic)"}),y.jsxs("span",{className:"tabular-nums",children:[k.deltaEfl.toFixed(3)," mm"]})]}),y.jsxs("div",{className:"flex justify-between text-slate-500",children:[y.jsx("span",{children:"P absorbed"}),y.jsxs("span",{className:"tabular-nums",children:[(k.pAbsorbed*1e3).toFixed(2)," mW"]})]})]}):null})()]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Physical Optics"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm text-slate-400",children:"Laser M Factor"}),y.jsx("input",{type:"number",min:.1,max:10,step:.1,value:e.m2Factor??1,onChange:C=>t(k=>({...k,m2Factor:Math.max(.1,Math.min(10,Number(C.target.value)||1))})),className:hs}),y.jsx("p",{className:"text-xs text-slate-500",children:"M = 1.0 for perfect Gaussian. Higher values show how beam quality affects focus."})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Ultrafast Pulse"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm text-slate-400",children:"Pulse Width (fs)"}),y.jsx("input",{type:"number",min:5,max:1e4,step:10,value:e.pulseWidthFs??100,onChange:C=>t(k=>({...k,pulseWidthFs:Math.max(5,Math.min(1e4,Number(C.target.value)||100))})),className:hs,placeholder:"100"}),y.jsx("p",{className:"text-xs text-slate-500",children:"Input pulse width for dispersion analysis. Sellmeier equation used for glass."})]})]}),y.jsxs("section",{className:"glass-card p-4 border-cyan-electric/20",children:[y.jsx("h3",{className:"text-sm font-medium text-cyan-electric mb-3",children:"Performance"}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-slate-400",children:"RMS Spot Radius"}),y.jsxs("span",{className:"text-slate-200 font-mono",children:[e.rmsSpotRadius.toFixed(4)," mm"]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-slate-400",children:"Total Length"}),y.jsxs("span",{className:"text-slate-200 font-mono",children:[e.totalLength.toFixed(2)," mm"]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-slate-400",children:"F-Number"}),y.jsxs("span",{className:"text-slate-200 font-mono",children:["f/",e.fNumber.toFixed(2)]})]})]})]}),y.jsxs("section",{className:"glass-card p-4",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-300 mb-3",children:"Surfaces"}),y.jsx("div",{className:"space-y-2",children:e.surfaces.map(C=>y.jsxs(Ze.div,{layout:!0,transition:{type:"spring",stiffness:400,damping:30},onClick:()=>r(C.id),className:`flex cursor-pointer items-center justify-between rounded-lg px-3 py-2 border transition-colors ${n===C.id?"bg-cyan-electric/20 border-cyan-electric/50 ring-1 ring-cyan-electric/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[y.jsxs("span",{className:"text-sm",children:[C.material??C.type," R=",C.radius]}),y.jsxs("span",{className:"text-cyan-electric text-xs",children:["t=",C.thickness]})]},C.id))})]})]})]})}function Pse(){return{handshakeSent:!1,lastSurfaces:[],lastValidStack:[],lastRmsUm:null,episodic:{currentGoal:"",constraintsMet:[],failedIterations:[]}}}const Cse="RMS  1000 m; |radius|  diameter; thickness > 0; radius  0 for Glass",Ase=["radius","thickness","refractiveIndex","diameter","material","description","coating","type"];function kse(e,t,n,r){const i=n?.performance?.rmsSpotRadius!=null?n.performance.rmsSpotRadius*1e3:null;if(!e.handshakeSent)return{isHandshake:!0,delta:{optical_stack:{surfaces:t.map((f,p)=>{const m=w_(f);return{id:m.id,semanticName:m.semanticName??`S${p+1}`,aiContext:m.aiContext??"",type:m.type,radius:m.radius,thickness:m.thickness,refractiveIndex:m.refractiveIndex,diameter:m.diameter,material:m.material,description:m.description,coating:m.coating,effective_focal_length:m.effective_focal_length??null,critical_angle:m.critical_angle??null}}),entrancePupilDiameter:r.entrancePupilDiameter,wavelengths:r.wavelengths,fieldAngles:r.fieldAngles,numRays:r.numRays,focusMode:r.focusMode,m2Factor:r.m2Factor},traceResult:n?{focusZ:n.focusZ,bestFocusZ:n.bestFocusZ,performance:n.performance,gaussianBeam:n.gaussianBeam}:null}};const s=new Map(e.lastSurfaces.map(f=>[f.id,f])),l=[];for(const f of t){const p=s.get(f.id);if(!p)continue;const m={id:f.id};let v=!1;for(const x of Ase){const w=f[x],b=p[x];w!==b&&(m[x]=w,v=!0)}v&&l.push(m)}const u=i!=null?{rmsUm:i,totalLength:n?.performance?.totalLength,fNumber:n?.performance?.fNumber}:null;return{isHandshake:!1,delta:{surfaces:t.map(f=>({id:f.id,type:f.type,radius:f.radius,thickness:f.thickness,material:f.material,diameter:f.diameter})),changesSinceLast:l.length>0?l:void 0,perf:u,episodic:e.episodic}}}function QN(e,t,n){e.handshakeSent=!0,e.lastSurfaces=t.map(r=>({...r})),e.lastValidStack=t.map(r=>({...r})),e.lastRmsUm=n?.performance?.rmsSpotRadius!=null?n.performance.rmsSpotRadius*1e3:null}function af(e,t){t.currentGoal&&(e.episodic.currentGoal=t.currentGoal),t.constraintsMet?.length&&(e.episodic.constraintsMet=[...e.episodic.constraintsMet,...t.constraintsMet].slice(-5)),t.failedIterations?.length&&(e.episodic.failedIterations=[...e.episodic.failedIterations,...t.failedIterations].slice(-3))}function Ese(e,t){e.episodic.currentGoal=t}const Nse=[/^\s*(hi|hello|hey|yo)\s*[!.]?\s*$/i,/^\s*(thanks|thank you|thx|ty)\s*[!.]?\s*$/i,/^\s*(ok|okay|k)\s*[!.]?\s*$/i,/^\s*(yes|no)\s*[!.]?\s*$/i,/^\s*(cool|nice|great|awesome)\s*[!.]?\s*$/i,/^\s*(\?|\.\.\.)\s*$/];function Ose(e){const t=e.trim();return t.length<3?!0:Nse.some(n=>n.test(t))}function jse(e){const t=e.trim();return!t||Ose(t)?null:t}const Tse=["optimize","optimization","minimize","maximize","zero coma","zero spherical","aberration","seidel","strehl","rms","best focus","optimise","design a","design an","create a","create an","suggest","recommend","improve","fix","correct","troubleshoot","analyze","analyse","why","explain","how does","what if","compare"],_se=["thicker","thinner","make lens","change","set","update","radius","thickness","diameter","material","glass","lens 1","lens 2","surface 1","surface 2","first lens","second lens","mm","millimeter"];function Dse(e,t){const n=e.toLowerCase().trim(),r=Tse.some(o=>n.includes(o)),i=_se.some(o=>n.includes(o));return r&&!i?"deepseek-reasoner":i&&!r?"deepseek-chat":i&&r?"deepseek-reasoner":t}function Mse(e){try{const t=JSON.parse(e);if(Array.isArray(t)){const n=t.filter(r=>r&&typeof r=="object"&&typeof r.op=="string"&&typeof r.path=="string");return n.length>0?n:null}if(t&&typeof t=="object"&&"patch"in t){const n=t.patch;return Array.isArray(n)?n:null}return null}catch{return null}}function Ise(e,t){const n=new Map;for(const r of e){const i=r.path.match(/^\/(?:surfaces|optical_stack\/surfaces)\/([^/]+)\/(.+)$/);if(!i)continue;const o=i[1],s=i[2].replace(/^\//,"");if(!t.find(d=>d.id===o))continue;let u=n.get(o);if(u||(u={id:o},n.set(o,u)),r.op==="replace"||r.op==="add"){const d=s;if(d==="id")continue;u[d]=r.value}}return Array.from(n.values())}const gc=[],Rse=100;function JN(e,t,n){n.trim()&&(gc.push({timestamp:new Date().toISOString(),model:e,promptPreview:t.slice(0,80),rawThought:n}),gc.length>Rse&&gc.shift())}function Lse(){return gc.map(e=>`[${e.timestamp}] ${e.model}
Prompt: ${e.promptPreview}
---
${e.rawThought}
---
`).join(`
`)}function Fse(){gc.length=0}typeof window<"u"&&(window.__thoughtTrace={get:Lse,clear:Fse});function $se(e,t){return t?e.startsWith("claude")?!!t.anthropic?.trim():e.startsWith("gpt")||e.startsWith("o1")?!!t.openai?.trim():e.startsWith("deepseek")?!!t.deepseek?.trim():!1:!1}const Bse=`Role: You are the PhotonLeap Lead Physicist, an expert in classical ray optics, wave propagation, and quantum information science. Your goal is to design, optimize, and troubleshoot physical systems within the PhotonLeap environment.

## Core Competencies
- Geometric Optics: Expert in Snell's Law, the Lensmaker's Equation, and Seidel aberrations (Spherical, Coma, Astigmatism, Field Curvature, Distortion).
- Physical Optics: Mastery of Gaussian beam propagation (M factors, beam waist, Rayleigh range) and diffraction limits.
- Quantum States: Expertise in polarization (Jones Calculus), photon entanglement, and Bloch sphere mapping.

## Operational Protocol
- Zero-Error Physics: Every design must respect the Law of Conservation of Energy and the Second Law of Thermodynamics. You cannot "create" light without a defined source.
- Metric-Driven Design: When asked to optimize, minimize the Root Mean Square (RMS) spot size or maximize the Strehl Ratio.
- Manufacturing Awareness: Favor "buildable" designs. Avoid center thicknesses <1mm or curvatures that create "knife-edges" on lens peripheries. |radius| must be >= diameter to avoid impossible curves.

## Optical Stack Schema (Dual-Purpose Semantic Lattice)
Each surface has:
- id (string, required): unique identifier  MUST match existing surface ids exactly
- semanticName (string): e.g. "Primary_Objective", "Field_Flattener"
- aiContext (string): reason for surface, e.g. "Corrects coma from S1"
- type: "Glass" | "Air"
- radius (mm): curvature radius; positive = convex toward +z, negative = concave; 0 = flat
- thickness (mm): distance to next surface
- refractiveIndex: n at primary wavelength
- diameter (mm): clear aperture
- material (string): must be from glass library
- description, coating
- effective_focal_length (mm): computed R/(n-1) for curved surfaces; null for plano
- critical_angle (deg): TIR angle for glassair; null for air

## Glass Library (exact names)
N-BK7, N-SF11, N-SF5, N-SF6, N-SF10, N-SF14, N-F2, N-SK2, Fused Silica, N-BAF10, N-LAK9, H-LAF7, Calcium Fluoride, Magnesium Fluoride, Sapphire, N-K5, N-SK16, N-BAF4, N-SF6HT, N-LAK14, N-BK10, N-SF57, N-SF66, N-SF15

## Output Format
Your response must be a valid JSON object. Do not include any text outside of the JSON structure.
Return ONLY valid JSON. No conversational filler unless requested.

Preferred (token-efficient): JSON Patch RFC 6902  e.g. [{"op":"replace","path":"/surfaces/<id>/thickness","value":8}]
Full format: {"surfaceDeltas":[{"id":"surf-uuid","radius":50,"thickness":5,"material":"N-BK7",...}],"reasoning":"brief physics explanation"}

Optional: If design is physically impossible (e.g. TIR preventing beam exit), include:
{"physicsViolation":true,"reason":"description","suggestedAlternative":"geometry hint","surfaceDeltas":[],"reasoning":"..."}

## Constraints
- radius must be non-zero for Glass surfaces
- thickness > 0, diameter > 0
- |radius| >= diameter to avoid knife-edges (impossible curves)
- If design fails (RMS too high), you will receive error context; propose a new transaction.`,zse=`
## Physics Constants (immutable)
- Snell: nsin()=nsin(). TIR when   arcsin(n/n).
- Lensmaker (thin): 1/f = (n-1)(1/R - 1/R).
- RMS threshold: ${$e.agentRmsThresholdUm} m. |radius|  diameter. thickness > 0.
- Glass library: N-BK7, N-SF11, Fused Silica, N-SF5, N-SF6, N-SF10, N-SF14, N-F2, N-SK2, N-BAF10, N-LAK9, H-LAF7, Calcium Fluoride, Magnesium Fluoride, Sapphire, N-K5, N-SK16, N-BAF4, N-SF6HT, N-LAK14, N-BK10, N-SF57, N-SF66, N-SF15.
`,Ep=Bse+zse;function cL(e,t){const n={optical_stack:{surfaces:e.surfaces.map(r=>{const i=w_(r);return{id:i.id,semanticName:i.semanticName??`S${e.surfaces.indexOf(r)+1}`,aiContext:i.aiContext??"",type:i.type,radius:i.radius,thickness:i.thickness,refractiveIndex:i.refractiveIndex,diameter:i.diameter,material:i.material,description:i.description,coating:i.coating,effective_focal_length:i.effective_focal_length??null,critical_angle:i.critical_angle??null}}),entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays},traceResult:t?{focusZ:t.focusZ,bestFocusZ:t.bestFocusZ,performance:t.performance,gaussianBeam:t.gaussianBeam}:null};return`${Ep}

## Current System State (JSON)
\`\`\`json
${JSON.stringify(n,null,2)}
\`\`\``}function Wse(e,t,n){const r=n.currentGoal||n.constraintsMet.length||n.failedIterations.length?`
## Context Summary
- Current Goal: ${n.currentGoal||"None"}
- Constraints Met: ${n.constraintsMet.join("; ")||"None"}
- Failed Iterations: ${n.failedIterations.join("; ")||"None"}
- Physics Constraints: ${Cse}`:"";return`${Ep}${r}

## ${t?"Full Handshake (JSON)":"State Delta (compact)"}
\`\`\`json
${JSON.stringify(e)}
\`\`\``}function uL(e,t){const n="(?:<think>|<<think>>)",r="(?:</think>|<<\\/think>>)",i=new RegExp(n,"gi");if(t?.saveThoughts&&t.model&&t.promptPreview){const s=e.matchAll(new RegExp(n+"([\\s\\S]*?)"+r,"gi"));for(const u of s)u[1]&&JN(t.model,t.promptPreview,u[1]);const l=e.match(new RegExp(n+"[\\s\\S]*$","i"));if(l){const u=l[0].replace(i,"").trim();u&&JN(t.model,t.promptPreview,u)}}let o=e;return o=o.replace(new RegExp(n+"[\\s\\S]*?"+r,"gi"),""),o=o.replace(new RegExp(n+"[\\s\\S]*$","gi"),""),o.trim()}function eO(e,t){const r=uL(e,t).trim(),i=r.match(/```(?:json)?\s*([\s\S]*?)```/);if(i){const s=i[1].trim();if(s)return s}const o=r.match(/\{[\s\S]*\}/);return o?o[0]:r.startsWith("{")?r:null}function Vse(e,t,n){const r=n?.saveThoughts&&n.model&&n.promptPreview?{model:n.model,promptPreview:n.promptPreview,saveThoughts:!0}:void 0,i=uL(e,r),o=[()=>eO(e,r),()=>eO(i,r),()=>{const s=i.matchAll(/```(?:json)?\s*([\s\S]*?)```/g);for(const l of s){const u=l[1]?.trim();if(u?.startsWith("{")||u?.startsWith("["))return u}return null}];for(const s of o){const l=s();if(l)try{const u=JSON.parse(l);if(Array.isArray(u)){const f=Mse(l);if(f&&f.length>0){const p=Ise(f,t);if(p.length>0)return{surfaceDeltas:p,reasoning:"Applied via JSON Patch"}}}const d=u.surfaceDeltas??u.surface_deltas;if(u&&typeof u=="object"&&Array.isArray(d)){const f=u;return{surfaceDeltas:d.filter(p=>p!=null&&typeof p=="object"&&typeof p.id=="string"),reasoning:f.reasoning,physicsViolation:f.physicsViolation,reason:f.reason,suggestedAlternative:f.suggestedAlternative}}}catch{continue}}return null}function dL(e,t){const n=new Map(e.map(r=>[r.id,{...r}]));for(const r of t.surfaceDeltas){const i=n.get(r.id);i&&(r.semanticName!==void 0&&(i.semanticName=r.semanticName),r.aiContext!==void 0&&(i.aiContext=r.aiContext),r.radius!==void 0&&(i.radius=r.radius),r.thickness!==void 0&&(i.thickness=r.thickness),r.refractiveIndex!==void 0&&(i.refractiveIndex=r.refractiveIndex),r.diameter!==void 0&&(i.diameter=r.diameter),r.material!==void 0&&(i.material=r.material),r.description!==void 0&&(i.description=r.description),r.type!==void 0&&(i.type=r.type),r.coating!==void 0&&(i.coating=r.coating),r.sellmeierCoefficients!==void 0&&(i.sellmeierCoefficients=r.sellmeierCoefficients))}return Array.from(n.values())}function Use(e,t){const n=dL(e,t);for(const r of n){if(r.type==="Glass"&&r.radius===0)return{valid:!1,error:`Surface ${r.id} (Glass) cannot have radius 0`};if(r.thickness<0)return{valid:!1,error:`Surface ${r.id} has negative thickness`};if(r.diameter<=0)return{valid:!1,error:`Surface ${r.id} has invalid diameter`};if(r.radius!==0&&Math.abs(r.radius)<r.diameter)return{valid:!1,error:`Surface ${r.id} impossible curve: |radius| ${Math.abs(r.radius)}mm < diameter ${r.diameter}mm  would create knife-edge`}}return{valid:!0}}function Hse(e){const n=(e instanceof Error?e.message:String(e)).toLowerCase();return n.includes("failed to fetch")||n.includes("network")||n.includes("connection refused")||n.includes("net::err_")||n.includes("load failed")||n.includes("could not connect")}function Gse(){return`${$e.localAgent.apiBase.replace(/\/v1\/?$/,"")}/api/v1`}function fL(e){return e?.trim()||$e.localAgent.modelId}function pL(e){const t=e.slice(Ep.length);return[{type:"text",text:Ep,cache_control:{type:"ephemeral"}},{type:"text",text:t}]}async function Kse(e,t,n,r,i,o,s){const l={model:t,max_tokens:2048,stream:!0,system:pL(n),messages:[{role:"user",content:r}]};s&&(l.thinking={type:"enabled",budget_tokens:4e3});const u=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",signal:o,headers:{"Content-Type":"application/json","x-api-key":e,"anthropic-version":"2023-06-01"},body:JSON.stringify(l)});if(!u.ok){const v=await u.text();throw new Error(`Anthropic API error: ${u.status} ${v}`)}const d=u.body?.getReader();if(!d)throw new Error("No response body");const f=new TextDecoder;let p="",m="";for(;;){const{done:v,value:x}=await d.read();if(v)break;p+=f.decode(x,{stream:!0});const w=p.split(`
`);p=w.pop()??"";for(const b of w)if(b.startsWith("data: ")){const C=b.slice(6).trim();if(!C||C==="[DONE]")continue;try{const k=JSON.parse(C);k.type==="content_block_delta"&&k.delta&&(k.delta.type==="thinking_delta"&&typeof k.delta.thinking=="string"?i(k.delta.thinking):k.delta.type==="text_delta"&&typeof k.delta.text=="string"&&(i(k.delta.text),m+=k.delta.text))}catch{}}}for(const v of p.split(`
`))if(v.startsWith("data: ")){const x=v.slice(6).trim();if(!x||x==="[DONE]")continue;try{const w=JSON.parse(x);w.type==="content_block_delta"&&w.delta?.type==="text_delta"&&typeof w.delta.text=="string"&&(m+=w.delta.text)}catch{}}return m}async function qse(e,t,n,r,i,o){const s={model:t,max_tokens:2048,stream:!0,messages:[{role:"system",content:n},{role:"user",content:r}]};t.startsWith("o1")&&(s.reasoning_effort="medium");const l=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",signal:o,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(s)});if(!l.ok){const m=await l.text();throw new Error(`OpenAI API error: ${l.status} ${m}`)}const u=l.body?.getReader();if(!u)throw new Error("No response body");const d=new TextDecoder;let f="",p="";for(;;){const{done:m,value:v}=await u.read();if(m)break;f+=d.decode(v,{stream:!0});const x=f.split(`
`);f=x.pop()??"";for(const w of x)if(w.startsWith("data: ")){const b=w.slice(6).trim();if(!b||b==="[DONE]")continue;try{const k=JSON.parse(b).choices?.[0]?.delta;k&&(typeof k.reasoning_content=="string"&&i(k.reasoning_content),typeof k.content=="string"&&(i(k.content),p+=k.content))}catch{}}}for(const m of f.split(`
`))if(m.startsWith("data: ")){const v=m.slice(6).trim();if(!v||v==="[DONE]")continue;try{const x=JSON.parse(v).choices?.[0]?.delta;x?.content&&(p+=x.content)}catch{}}return p}async function Yse(e,t,n,r,i,o,s=0){const l=Math.min(16384*(1<<Math.min(s,2)),65536),u=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",signal:o,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({model:t,max_tokens:l,stream:!0,messages:[{role:"system",content:n},{role:"user",content:r}]})});if(!u.ok){const v=await u.text();throw new Error(`DeepSeek API error: ${u.status} ${v}`)}const d=u.body?.getReader();if(!d)throw new Error("No response body");const f=new TextDecoder;let p="",m="";for(;;){const{done:v,value:x}=await d.read();if(v)break;p+=f.decode(x,{stream:!0});const w=p.split(`
`);p=w.pop()??"";for(const b of w)if(b.startsWith("data: ")){const C=b.slice(6).trim();if(!C||C==="[DONE]")continue;try{const E=JSON.parse(C).choices?.[0]?.delta;E&&(typeof E.reasoning_content=="string"&&i(E.reasoning_content),typeof E.content=="string"&&(i(E.content),m+=E.content))}catch{}}}for(const v of p.split(`
`))if(v.startsWith("data: ")){const x=v.slice(6).trim();if(!x||x==="[DONE]")continue;try{const w=JSON.parse(x).choices?.[0]?.delta;w?.content&&(m+=w.content)}catch{}}return m}function Y0(e,t,n){const r=t.pending+e;t.pending="";let i="";if(t.inThink){const u=r.indexOf("</think>");return u>=0?(n(r.slice(0,u)),i=r.slice(u+8),t.inThink=!1,Y0(i,t,n)):(n(r),"")}const o=r.indexOf("<think>");if(o>=0){i=r.slice(0,o);const u=r.slice(o+8),d=u.indexOf("</think>");return d>=0?(n(u.slice(0,d)),i+Y0(u.slice(d+8),t,n)):(t.inThink=!0,n(u),i)}const s=r.lastIndexOf("<think>");if(s>=0&&s>r.length-8)return t.pending=r.slice(s),r.slice(0,s);const l=r.lastIndexOf("</think>");return l>=0&&l>r.length-8?(t.pending=r.slice(l),r.slice(0,l)):r}async function Xse(e,t,n,r,i){const{apiKey:o}=$e.localAgent,s=`${Gse()}/chat`,l=await fetch(s,{method:"POST",signal:i,headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({model:fL(e),input:n,system_prompt:t,stream:!0,max_output_tokens:2048})});if(!l.ok){const x=await l.text();throw new Error(`Local API error: ${l.status} ${x}`)}const u=l.body?.getReader();if(!u)throw new Error("No response body");const d=new TextDecoder;let f="",p="";const m={inThink:!1,pending:""};let v=!1;for(;;){const{done:x,value:w}=await u.read();if(x)break;f+=d.decode(w,{stream:!0});const b=f.split(`
`);f=b.pop()??"";for(const C of b)if(C.startsWith("data: ")){const k=C.slice(6).trim();if(!k||k==="[DONE]")continue;try{const E=JSON.parse(k);if(E.type==="reasoning.delta"&&typeof E.content=="string")v=!0,r(E.content);else if(E.type==="message.delta"&&typeof E.content=="string")v?p+=E.content:p+=Y0(E.content,m,r);else if(E.type==="chat.end"&&E.result?.output){p="";for(const N of E.result.output)(N.type==="reasoning"||N.type==="message")&&N.content&&(p+=N.content)}}catch{}}}if(!p&&f)try{for(const x of f.split(`
`))if(x.startsWith("data: ")){const w=x.slice(6).trim(),b=JSON.parse(w);if(b.type==="chat.end"&&b.result?.output)for(const C of b.result.output)(C.type==="reasoning"||C.type==="message")&&C.content&&(p+=C.content)}}catch{}return p}async function Zse(e,t,n,r,i,o,s,l){if(i&&o)return Xse(e,t,n,o,s);if(i){const{apiBase:p,apiKey:m}=$e.localAgent,v=`${p}/chat/completions`,x=await fetch(v,{method:"POST",signal:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({model:fL(e),max_tokens:2048,messages:[{role:"system",content:t},{role:"user",content:n}]})});if(!x.ok){const b=await x.text();throw new Error(`Local API error: ${x.status} ${b}`)}return(await x.json()).choices?.[0]?.message?.content??""}const u=r?.anthropic?.trim()||"",d=r?.openai?.trim()||"",f=r?.deepseek?.trim()||"";if(e.startsWith("claude")){if(!u)throw new Error("API key required for Anthropic. Add your key in Agent Uplink.");const p=/claude-(opus-4|sonnet-4|haiku-4|3-7-sonnet)/.test(e);if(o)return Kse(u,e,t,n,o,s,p);const m=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",signal:s,headers:{"Content-Type":"application/json","x-api-key":u,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:e,max_tokens:2048,system:pL(t),messages:[{role:"user",content:n}]})});if(!m.ok){const w=await m.text();throw new Error(`Anthropic API error: ${m.status} ${w}`)}return(await m.json()).content?.find(w=>w.type==="text")?.text??""}if(e.startsWith("gpt")||e.startsWith("o1")){if(!d)throw new Error("API key required for OpenAI. Add your key in Agent Uplink.");if(o)return qse(d,e,t,n,o,s);const p={model:e,max_tokens:2048,messages:[{role:"system",content:t},{role:"user",content:n}]};e.startsWith("o1")&&(p.reasoning_effort="medium");const m=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",signal:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify(p)});if(!m.ok){const w=await m.text();throw new Error(`OpenAI API error: ${m.status} ${w}`)}return(await m.json()).choices?.[0]?.message?.content??""}if(e.startsWith("deepseek")){if(!f)throw new Error("API key required for DeepSeek. Add your key in Agent Uplink.");if(o)return Yse(f,e,t,n,o,s,l??0);const m=Math.min(16384*(1<<Math.min(l??0,2)),65536),v=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",signal:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({model:e,max_tokens:m,messages:[{role:"system",content:t},{role:"user",content:n}]})});if(!v.ok){const C=await v.text();throw new Error(`DeepSeek API error: ${v.status} ${C}`)}return(await v.json()).choices?.[0]?.message?.content??""}throw new Error(`Unknown model: ${e}`)}async function by(e){return nT(e)}async function Qse(e,t,n){const{model:r,maxRetries:i=3,onProgress:o,onProposal:s,apiKeys:l,localMode:u,onThinking:d,onThinkingClear:f,signal:p,session:m,useRouter:v=!0}=n,x=$e.agentRmsThresholdUm,w=jse(t);if(w===null){const D=e.traceResult??await by({surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays});return{success:!0,surfaces:e.surfaces,transaction:{surfaceDeltas:[]},traceResult:D}}const b=w;let C=v?Dse(b,r):r;C!==r&&!u&&l&&!$se(C,l)&&(C=r),m&&Ese(m,b.slice(0,120));const k={surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays,focusMode:e.focusMode,m2Factor:e.m2Factor};let E=[...e.surfaces],N=null,T=null,O="";const _=e.traceResult?.performance?.rmsSpotRadius!=null?e.traceResult.performance.rmsSpotRadius*1e3:null;for(let D=0;D<i;D++){f?.(),o?.(D===0?"Thinking...":`Retrying (${D+1}/${i})...`);const V=N?{...e.traceResult,...N}:e.traceResult,q={entrancePupilDiameter:k.entrancePupilDiameter,wavelengths:k.wavelengths,fieldAngles:k.fieldAngles,numRays:k.numRays,focusMode:k.focusMode,m2Factor:k.m2Factor};let G;if(m){const{delta:ee,isHandshake:ne}=kse(m,E,V,q);G=Wse(ee,ne,m.episodic)}else G=cL({...k,surfaces:E},V);const $=O==="Could not parse valid transaction from LLM response",U=D>0&&O?$?'\n\nYour previous response was not valid JSON. Return ONLY a raw JSON object with "surfaceDeltas" (array) and optional "reasoning". No markdown, no ```json``` blocks, no text before or after. Example: {"surfaceDeltas":[{"id":"...","radius":50}],"reasoning":"..."}':`

Previous attempt failed: ${O}. Propose a different transaction to fix this.`:"";m&&D>0&&af(m,{failedIterations:[$?"Parse error (invalid JSON)":O]});let ce;try{ce=await Zse(C,G,b+U,l,u,d,p,D)}catch(ee){const ne=ee instanceof Error&&ee.name==="AbortError",L=ee instanceof Error?ee.message:String(ee),W=!ne&&u&&Hse(ee);return{success:!1,error:ne?"Stopped by user":L,lastTransaction:T??void 0,localUnreachable:W,aborted:ne}}const ge=Vse(ce,E,u?{model:C,promptPreview:b,saveThoughts:!0}:void 0);if(!ge){O="Could not parse valid transaction from LLM response";continue}if(ge.physicsViolation){O=[ge.reason,ge.suggestedAlternative].filter(Boolean).join(". ")||"Agent flagged PHYSICS_VIOLATION",T=ge;continue}if(ge.surfaceDeltas.length===0){const ee=N??await by({...k,surfaces:E});return m&&(QN(m,E,ee),af(m,{constraintsMet:["No changes needed"]})),{success:!0,surfaces:E,transaction:ge,traceResult:ee}}T=ge;const Q=Use(E,ge);if(!Q.valid){O=Q.error??"Validation failed";continue}o?.("Applying changes..."),E=dL(E,ge),s?.(E),o?.("Validating with ray trace...");try{N=await by({...k,surfaces:E})}catch(ee){O=ee instanceof Error?ee.message:String(ee);continue}const Y=N?.performance?.rmsSpotRadius!=null?N.performance.rmsSpotRadius*1e3:0;if(_!=null&&Y>_){O=`Design rejected: RMS increased from ${_.toFixed(1)} to ${Y.toFixed(1)} m. Please refine.`,m&&af(m,{failedIterations:[O]});continue}if(Y<=x)return m&&(QN(m,E,N),af(m,{constraintsMet:[`RMS ${Y.toFixed(1)} m within threshold`]})),{success:!0,surfaces:E,transaction:ge,traceResult:N};O=`Design failed: RMS spot radius ${Y.toFixed(1)} m exceeds threshold ${x} m. Try aspheric on Surface 2, different glass, or adjust curvature.`}return{success:!1,error:O||"Agent did not converge",lastTransaction:T??void 0}}const X0="photonleap_agent_keys",hL="photonleap_agent_local_mode",mL="photonleap_agent_local_models",Np={openai:"",anthropic:"",deepseek:""};function tO(){try{const e=localStorage.getItem(X0);if(!e)return Np;const t=JSON.parse(e);return{openai:t.openai??"",anthropic:t.anthropic??"",deepseek:t.deepseek??""}}catch{return Np}}function nO(){try{return localStorage.getItem(hL)==="true"}catch{return!1}}function rO(){try{const e=localStorage.getItem(mL);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.filter(n=>typeof n=="string"&&n.trim().length>0):[]}catch{return[]}}const gL=P.createContext(null);function Jse({children:e}){const[t,n]=P.useState(tO),[r,i]=P.useState(nO),[o,s]=P.useState(rO);P.useEffect(()=>{n(tO()),i(nO()),s(rO())},[]);const l=P.useCallback(v=>{n(v);try{localStorage.setItem(X0,JSON.stringify(v))}catch{}},[]),u=P.useCallback(()=>{try{localStorage.removeItem(X0)}catch{}n({openai:"",anthropic:"",deepseek:""})},[]),d=P.useCallback(v=>t[v]||"",[t]),f=P.useCallback(v=>{i(v);try{localStorage.setItem(hL,String(v))}catch{}},[]),p=P.useCallback(v=>{const x=v.map(w=>w.trim()).filter(Boolean);s(x);try{localStorage.setItem(mL,JSON.stringify(x))}catch{}},[]),m=P.useMemo(()=>({keys:t,setKeys:l,clearAllKeys:u,getKey:d,localMode:r,setLocalMode:f,localModels:o,setLocalModels:p}),[t,l,u,d,r,f,o,p]);return y.jsx(gL.Provider,{value:m,children:e})}function iO(e){return{openai:!!e.openai?.trim(),anthropic:!!e.anthropic?.trim(),deepseek:!!e.deepseek?.trim()}}function ele(){const e=P.useContext(gL);if(!e)return{keys:Np,hasKeys:iO(Np),setKeys:()=>{},clearAllKeys:()=>{},getKey:n=>"",localMode:!1,setLocalMode:()=>{},localModels:[],setLocalModels:()=>{}};const t=P.useMemo(()=>iO(e.keys),[e.keys]);return{keys:e.keys,hasKeys:t,setKeys:e.setKeys,clearAllKeys:e.clearAllKeys,getKey:e.getKey,localMode:e.localMode,setLocalMode:e.setLocalMode,localModels:e.localModels,setLocalModels:e.setLocalModels}}const tle=[{id:"openai",label:"OpenAI (GPT-4o / o1)",placeholder:"sk-...",dashboardUrl:"https://platform.openai.com/api-keys"},{id:"anthropic",label:"Anthropic (Claude 3.5 / Opus)",placeholder:"sk-ant-...",dashboardUrl:"https://console.anthropic.com/settings/keys"},{id:"deepseek",label:"DeepSeek",placeholder:"sk-...",dashboardUrl:"https://platform.deepseek.com/api_keys"}];function nle({open:e,onClose:t,initialKeys:n={},onSyncKeys:r,onClearAllKeys:i,requiredMessage:o,localMode:s=!1,onLocalModeChange:l,localModels:u=[],onLocalModelsChange:d}){const[f,p]=P.useState({openai:n.openai??"",anthropic:n.anthropic??"",deepseek:n.deepseek??""}),[m,v]=P.useState(""),[x,w]=P.useState({openai:!0,anthropic:!0,deepseek:!0}),[b,C]=P.useState(!1);P.useEffect(()=>{e&&p({openai:n.openai??"",anthropic:n.anthropic??"",deepseek:n.deepseek??""})},[e,n.openai,n.anthropic,n.deepseek]);const k=P.useCallback((O,_)=>{p(D=>({...D,[O]:_}))},[]),E=P.useCallback(O=>{w(_=>({..._,[O]:!_[O]}))},[]),N=P.useCallback(async()=>{C(!0),await new Promise(O=>setTimeout(O,600)),r?.(f),C(!1),t()},[f,r,t]),T=P.useCallback(()=>{p({openai:"",anthropic:"",deepseek:""}),i?.(),t()},[i,t]);return e?y.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t,"aria-hidden":!0}),y.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-white/20 bg-white/5 shadow-2xl",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 50%, rgba(34,211,238,0.03) 100%)",boxShadow:"0 0 40px rgba(34, 211, 238, 0.08), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[y.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl overflow-hidden opacity-[0.03]",style:{background:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.3) 2px, rgba(0,0,0,0.3) 4px)"}}),y.jsxs("div",{className:"relative p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h2",{className:"text-xl font-bold tracking-widest uppercase text-cyan-electric",style:{fontFamily:"'Orbitron', 'Rajdhani', monospace"},children:"Agent Uplink"}),y.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-colors","aria-label":"Close",children:y.jsx(vc,{className:"w-5 h-5"})})]}),o&&y.jsx("p",{className:"text-amber-400/90 text-sm mb-4 px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/30",children:o}),l&&y.jsxs("div",{className:"flex items-center justify-between mb-6 p-3 rounded-xl border border-white/10 bg-black/20",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(C3,{className:"w-4 h-4 text-cyan-electric"}),y.jsx("span",{className:"text-sm font-medium text-slate-200",children:"Local Mode"}),y.jsx("span",{className:"text-xs text-slate-500",children:"(LM Studio @ localhost:1234)"})]}),y.jsx("button",{type:"button",role:"switch","aria-checked":s,onClick:()=>l(!s),className:`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-electric/50 focus:ring-offset-2 focus:ring-offset-slate-900 ${s?"bg-cyan-electric":"bg-slate-600"}`,children:y.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition ${s?"translate-x-5":"translate-x-0.5"}`})})]}),s&&d&&y.jsxs("div",{className:"mb-6 p-4 rounded-xl border border-cyan-electric/30 bg-black/20",children:[y.jsx("p",{className:"text-cyan-electric/90 text-sm font-medium mb-2",children:"Local Models"}),y.jsx("p",{className:"text-slate-400 text-xs mb-3",children:"Enter the exact model name(s) from LM Studio (e.g. deepseek-r1-distill-qwen-32b-mlx). These are sent to localhost only."}),y.jsxs("div",{className:"flex gap-2 mb-3",children:[y.jsx("input",{type:"text",value:m,onChange:O=>v(O.target.value),onKeyDown:O=>{if(O.key==="Enter"){O.preventDefault();const _=m.trim();_&&!u.includes(_)&&(d([...u,_]),v(""))}},placeholder:"e.g. deepseek-r1-distill-qwen-32b-mlx",className:"flex-1 px-3 py-2 rounded-lg bg-black/30 border border-white/10 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-electric/50 font-mono text-sm"}),y.jsxs("button",{type:"button",onClick:()=>{const O=m.trim();O&&!u.includes(O)&&(d([...u,O]),v(""))},className:"px-3 py-2 rounded-lg bg-cyan-electric/20 text-cyan-electric border border-cyan-electric/40 hover:bg-cyan-electric/30 transition-colors flex items-center gap-1",children:[y.jsx(Os,{className:"w-4 h-4"}),"Add"]})]}),u.length>0?y.jsx("ul",{className:"space-y-2",children:u.map(O=>y.jsxs("li",{className:"flex items-center justify-between gap-2 px-3 py-2 rounded-lg bg-black/30 border border-white/10",children:[y.jsx("span",{className:"text-slate-200 font-mono text-sm truncate",children:O}),y.jsx("button",{type:"button",onClick:()=>d(u.filter(_=>_!==O)),className:"p-1.5 rounded text-slate-400 hover:text-amber-400 hover:bg-amber-500/10 transition-colors","aria-label":`Remove ${O}`,children:y.jsx(M3,{className:"w-4 h-4"})})]},O))}):y.jsx("p",{className:"text-slate-500 text-xs italic",children:"No models added yet. Add at least one to use Local Mode."})]}),y.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Configure API keys for LeapOS agents. Keys are stored locally and never sent except to the respective provider."}),y.jsx("div",{className:"space-y-4",children:tle.map(({id:O,label:_,placeholder:D,dashboardUrl:V})=>y.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 bg-black/20",children:[y.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${f[O]?.trim()?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.8)]":"bg-slate-500"}`}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:_}),y.jsxs("div",{className:"relative flex items-center gap-2",children:[y.jsx("input",{type:x[O]?"password":"text",value:f[O],onChange:q=>k(O,q.target.value),placeholder:D,className:"w-full px-3 py-2 rounded-lg bg-black/30 border border-white/10 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-electric/50 focus:ring-1 focus:ring-cyan-electric/30 font-mono text-sm"}),y.jsx("button",{type:"button",onClick:()=>E(O),className:"p-2 rounded-lg text-slate-400 hover:text-cyan-electric transition-colors shrink-0","aria-label":x[O]?"Show key":"Hide key",children:x[O]?y.jsx(k3,{className:"w-4 h-4"}):y.jsx(A3,{className:"w-4 h-4"})}),y.jsx("a",{href:V,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg text-slate-400 hover:text-cyan-electric transition-colors shrink-0","aria-label":`Open ${_} dashboard`,children:y.jsx(T3,{className:"w-4 h-4"})})]})]})]},O))}),y.jsxs("button",{type:"button",onClick:N,disabled:b,className:"mt-6 w-full py-3 rounded-xl font-semibold tracking-wider uppercase text-cyan-electric border border-cyan-electric/50 bg-cyan-electric/10 hover:bg-cyan-electric/20 disabled:opacity-50 transition-all relative overflow-hidden uplink-sync-btn",style:{fontFamily:"'Orbitron', 'Rajdhani', monospace"},children:[y.jsx("div",{className:"absolute inset-0 pointer-events-none uplink-scanline","aria-hidden":!0}),y.jsx("span",{className:"relative",children:b?"Syncing...":"Sync Keys"})]}),i&&y.jsxs("button",{type:"button",onClick:T,className:"mt-3 w-full py-2 rounded-xl font-medium text-sm text-slate-400 hover:text-amber-400 hover:bg-amber-500/10 border border-transparent hover:border-amber-500/30 transition-all flex items-center justify-center gap-2",style:{fontFamily:"'Orbitron', 'Rajdhani', monospace"},children:[y.jsx(bf,{className:"w-4 h-4"}),"Clear All Keys"]})]})]}),y.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap');
        .uplink-scanline {
          background: repeating-linear-gradient(
            0deg,
            transparent 0px,
            transparent 3px,
            rgba(34, 211, 238, 0.08) 3px,
            rgba(34, 211, 238, 0.08) 4px
          );
          animation: uplink-scanline 2s linear infinite;
          opacity: 0.8;
        }
        .uplink-sync-btn:hover .uplink-scanline,
        .uplink-sync-btn:focus .uplink-scanline {
          animation-duration: 1s;
          opacity: 1;
        }
        @keyframes uplink-scanline {
          0% { transform: translateY(-100%); }
          100% { transform: translateY(100%); }
        }
      `})]}):null}const wy=[{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",provider:"anthropic",role:"physicist",description:"Master Consultant  highest reasoning ceiling"},{id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",provider:"anthropic",role:"physicist",description:"The Physicist  Goldilocks for coding/math"},{id:"gpt-4o",name:"GPT-4o",provider:"openai",role:"visionary",description:"The Visionary  multimodal, vision-to-physics"},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"openai",description:"Lightweight"},{id:"o1-2024-12-17",name:"OpenAI o1",provider:"openai",role:"optimizer",description:"The Optimizer  chain-of-thought reasoning"},{id:"deepseek-chat",name:"DeepSeek Chat",provider:"deepseek",description:"DeepSeek"},{id:"deepseek-reasoner",name:"DeepSeek Reasoner",provider:"deepseek",role:"optimizer",description:"Reasoning-heavy for quantum"}];function rle(e,t){if(e.startsWith("claude"))return t.anthropic?.trim()||void 0;if(e.startsWith("gpt")||e.startsWith("o1"))return t.openai?.trim()||void 0;if(e.startsWith("deepseek"))return t.deepseek?.trim()||void 0}function ile({systemState:e,onSystemStateChange:t,recentSemanticDeltas:n=[],onClearSemanticDeltas:r}){const{keys:i,setKeys:o,clearAllKeys:s,localMode:l,setLocalMode:u,localModels:d,setLocalModels:f}=ele(),[p,m]=P.useState(!1),[v,x]=P.useState(null),[w,b]=P.useState(""),[C,k]=P.useState("claude-3-5-sonnet-20241022"),[E,N]=P.useState(""),[T,O]=P.useState(!1),[_,D]=P.useState(null),[V,q]=P.useState(null),[G,$]=P.useState(null),[U,ce]=P.useState(null),[ue,ge]=P.useState(""),[Q,Y]=P.useState(!1),[ee,ne]=P.useState(!1),[L,W]=P.useState([]),[ie,ae]=P.useState(-1),de=P.useRef(""),X=P.useRef(null),B=P.useRef(null),te=P.useRef(null),R=P.useRef(Pse()),re=50;P.useEffect(()=>{const xe=it=>{X.current&&!X.current.contains(it.target)&&Y(!1)};return Q&&document.addEventListener("click",xe),()=>document.removeEventListener("click",xe)},[Q]),P.useEffect(()=>{B.current?.scrollTo({top:B.current.scrollHeight,behavior:"smooth"})},[ue]),P.useEffect(()=>{l&&N(xe=>d.length===0?"":!xe||!d.includes(xe)?d[0]:xe)},[l,d]);const fe={surfaces:e.surfaces,entrancePupilDiameter:e.entrancePupilDiameter,wavelengths:e.wavelengths,fieldAngles:e.fieldAngles,numRays:e.numRays,focusMode:e.focusMode,m2Factor:e.m2Factor},I=cL(fe,e.traceResult),Ce=rle(C,i),we=l?d.length>0:!!Ce,Ye=l?E:C,ze=P.useCallback(async()=>{const xe=w.trim();if(!xe)return;if(!we){if(l)x("Local Mode: Add at least one model name in Agent Uplink (Manage keys) to proceed.");else{const Me=wy.find(He=>He.id===C)?.name??C;x(`Neural Link Required: Please provide an API key for ${Me} to proceed.`)}m(!0);return}if(l&&!E){x("Local Mode: Select a model from the dropdown, or add models in Agent Uplink."),m(!0);return}D("Thinking..."),q(null),$(null),ce(null),ge(""),ne(!1),b(""),de.current="",ae(-1),W(Me=>[xe,...Me.filter(Ke=>Ke!==xe)].slice(0,re));const it=new AbortController;te.current=it;const On=n.length>0?`[Recent edits: ${n.map(Me=>Me.physicalImplication).join("; ")}]

${xe}`:xe,ve=await Qse(e,On,{model:Ye,maxRetries:3,onProgress:D,apiKeys:i.openai||i.anthropic||i.deepseek?i:void 0,onProposal:Me=>{t(He=>({...He,ghostSurfaces:Me}))},localMode:l,onThinking:Me=>ge(He=>He+Me),onThinkingClear:()=>ge(""),signal:it.signal,session:R.current,useRouter:!l});if(te.current=null,D(null),ve.success){r?.(),q("success"),$(ve.transaction.reasoning??null);const Me=ve.traceResult;t(He=>({...He,surfaces:ve.surfaces,ghostSurfaces:null,traceResult:Me?{rays:Me.rays??He.traceResult?.rays??[],surfaces:Me.surfaces??He.traceResult?.surfaces??[],focusZ:Me.focusZ??He.traceResult?.focusZ??0,bestFocusZ:Me.bestFocusZ??He.traceResult?.bestFocusZ,zOrigin:Me.zOrigin??He.traceResult?.zOrigin,performance:Me.performance??He.traceResult?.performance,metricsSweep:Me.metricsSweep??He.traceResult?.metricsSweep,gaussianBeam:Me.gaussianBeam??He.traceResult?.gaussianBeam}:He.traceResult,hasTraced:!0,traceError:null,...Me?.performance?{rmsSpotRadius:Me.performance.rmsSpotRadius,totalLength:Me.performance.totalLength,fNumber:Me.performance.fNumber}:{}}))}else q("error"),ce(ve.aborted?"Stopped by user":ve.error),ve.localUnreachable&&ne(!0),t(Me=>({...Me,ghostSurfaces:null}))},[w,C,E,Ye,we,e,t,i,l,n,r]),rt=P.useCallback(()=>{te.current?.abort()},[]);return y.jsxs("div",{className:"h-full flex flex-col bg-slate-900/50 rounded-lg border border-white/10 overflow-hidden",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[y.jsx("h2",{className:"text-cyan-electric font-semibold text-lg",children:"LeapOS Command Deck"}),y.jsx("p",{className:"text-slate-400 text-sm mt-0.5",children:"Describe your optical design intent. The agent will propose surface changes and validate via ray trace."})]}),y.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-slate-400 text-xs font-medium mb-1.5",children:"Model"}),y.jsx("div",{className:"relative",ref:X,children:l?y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",onClick:()=>d.length>0&&Y(xe=>!xe),disabled:d.length===0,className:"w-full flex items-center justify-between gap-2 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-slate-200 text-sm hover:border-cyan-electric/30 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:[y.jsx("span",{className:"font-mono truncate",children:E||(d.length===0?"Add models in Uplink":"Select local model")}),y.jsx(As,{className:`w-4 h-4 shrink-0 transition-transform ${Q?"rotate-180":""}`})]}),Q&&d.length>0&&y.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 py-1 bg-slate-800 border border-white/10 rounded-lg shadow-xl z-10 max-h-48 overflow-y-auto",children:d.map(xe=>y.jsx("button",{type:"button",onClick:()=>{N(xe),Y(!1)},className:`w-full px-3 py-2 text-left text-sm font-mono hover:bg-white/5 transition-colors ${E===xe?"text-cyan-electric bg-white/5":"text-slate-300"}`,children:xe},xe))})]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{type:"button",onClick:()=>Y(xe=>!xe),className:"w-full flex items-center justify-between gap-2 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-slate-200 text-sm hover:border-cyan-electric/30 transition-colors",children:[y.jsx("span",{children:wy.find(xe=>xe.id===C)?.name??C}),y.jsx(As,{className:`w-4 h-4 transition-transform ${Q?"rotate-180":""}`})]}),Q&&y.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 py-1 bg-slate-800 border border-white/10 rounded-lg shadow-xl z-10",children:wy.map(xe=>y.jsxs("button",{type:"button",onClick:()=>{k(xe.id),Y(!1)},className:`w-full px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors ${C===xe.id?"text-cyan-electric bg-white/5":"text-slate-300"}`,children:[y.jsx("span",{className:"font-medium",children:xe.name}),xe.role&&y.jsxs("span",{className:"text-cyan-electric/70 text-xs ml-2",children:["[",xe.role,"]"]}),y.jsx("span",{className:"text-slate-500 text-xs ml-2 block mt-0.5",children:xe.description})]},xe.id))})]})}),l&&y.jsx("p",{className:"text-cyan-electric/80 text-xs mt-1.5",children:"Local Mode  LM Studio @ localhost:1234"}),!we&&!l&&y.jsxs("p",{className:"text-amber-500/90 text-xs mt-1.5 flex items-center gap-2",children:[y.jsxs("button",{type:"button",onClick:()=>{x(null),m(!0)},className:"inline-flex items-center gap-1 text-cyan-electric hover:underline",children:[y.jsx(gP,{className:"w-3.5 h-3.5"}),"Configure Uplink"]}),"to add an API key"]}),(we||l)&&y.jsxs("button",{type:"button",onClick:()=>{x(null),m(!0)},className:"text-slate-500 hover:text-cyan-electric text-xs mt-1 flex items-center gap-1",children:[y.jsx(gP,{className:"w-3 h-3"}),l?"Manage keys & models":"Manage keys"]})]}),y.jsx(nle,{open:p,onClose:()=>{m(!1),x(null)},initialKeys:i,onSyncKeys:xe=>o(xe),onClearAllKeys:s,requiredMessage:v??void 0,localMode:l,onLocalModeChange:u,localModels:d,onLocalModelsChange:f}),ee&&l&&y.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/30 flex flex-col gap-2",children:[y.jsx("p",{className:"text-amber-400/90 text-sm font-medium",children:"Local Node Offline"}),y.jsx("p",{className:"text-slate-400 text-xs",children:"Unable to reach LM Studio at localhost:1234. If LM Studio is running, enable CORS in its Developer tab (Server Settings  Enable CORS). Otherwise switch back to Cloud API?"}),y.jsx("button",{type:"button",onClick:()=>{u(!1),ne(!1),ce(null)},className:"self-start px-3 py-1.5 text-sm font-medium text-cyan-electric hover:bg-cyan-electric/10 rounded-lg transition-colors",children:"Switch to Cloud API"})]}),L.length>0&&y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-slate-500/80 text-[10px] font-medium uppercase tracking-wider",children:"Recent commands"}),y.jsx("div",{className:"space-y-0.5 max-h-20 overflow-y-auto",children:L.slice(0,5).map((xe,it)=>y.jsxs("div",{className:"px-2.5 py-1.5 rounded-md bg-slate-800/40 border border-white/[0.04] text-slate-500 text-[11px] font-mono leading-relaxed truncate",title:xe,children:[y.jsx("span",{className:"text-slate-600 mr-1.5",children:""}),xe.length>80?`${xe.slice(0,80)}`:xe]},`${it}-${xe.slice(0,20)}`))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-slate-400 text-xs font-medium mb-1.5",children:"Command"}),y.jsx("textarea",{value:w,onChange:xe=>{b(xe.target.value),ie>=0&&ae(-1)},onKeyDown:xe=>{if(xe.key==="Enter"&&!xe.shiftKey){xe.preventDefault(),w.trim()&&ze();return}if(xe.key==="ArrowUp"){if(xe.preventDefault(),L.length===0)return;ie===-1&&(de.current=w);const it=Math.min(ie+1,L.length-1);ae(it),b(L[it]);return}if(xe.key==="ArrowDown"){if(xe.preventDefault(),ie<=-1)return;const it=ie-1;ae(it),b(it>=0?L[it]:de.current)}},placeholder:"e.g. Design a beam expander for 532nm laser, 50mm tube length",rows:4,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-slate-200 text-sm font-mono placeholder-slate-500 focus:outline-none focus:border-cyan-electric/50 focus:shadow-[0_0_8px_rgba(34,211,238,0.25)] resize-none"}),L.length>0&&y.jsx("p",{className:"text-slate-600/80 text-[10px] mt-1",children:" browse history"})]}),y.jsxs("div",{children:[y.jsxs("button",{type:"button",onClick:()=>O(xe=>!xe),className:"flex items-center gap-2 text-slate-400 text-xs font-medium hover:text-cyan-electric/80 transition-colors",children:[T?y.jsx(As,{className:"w-3.5 h-3.5"}):y.jsx(Py,{className:"w-3.5 h-3.5"}),"System context (optical_stack + traceResult)"]}),T&&y.jsx("pre",{className:"mt-2 p-3 bg-black/30 border border-white/10 rounded-lg text-xs text-slate-400 font-mono overflow-auto max-h-48",children:I})]}),ue&&y.jsxs("div",{className:"p-2.5 rounded-lg bg-slate-800/50 border border-white/[0.06]",children:[y.jsx("p",{className:"text-slate-500/90 text-[10px] font-medium uppercase tracking-wider mb-1",children:"Thinking"}),y.jsx("div",{ref:B,className:"text-slate-500/90 text-[11px] leading-relaxed whitespace-pre-wrap font-mono max-h-36 overflow-y-auto",children:ue})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{type:"button",onClick:ze,disabled:!w.trim()||!!_,className:"flex items-center gap-2 px-4 py-2 bg-cyan-electric/20 text-cyan-electric rounded-lg font-medium text-sm hover:bg-cyan-electric/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:_?y.jsxs(y.Fragment,{children:[y.jsx(ks,{className:"w-4 h-4 animate-spin"}),_]}):y.jsxs(y.Fragment,{children:[y.jsx(z3,{className:"w-4 h-4"}),"Send"]})}),_&&y.jsxs("button",{type:"button",onClick:rt,className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 text-amber-400 rounded-lg font-medium text-sm hover:bg-amber-500/30 transition-colors",children:[y.jsx(U3,{className:"w-4 h-4 fill-current"}),"Stop"]}),V==="success"&&y.jsxs("span",{className:"flex items-center gap-1.5 text-emerald-400 text-sm",children:[y.jsx(w3,{className:"w-4 h-4"}),"Design applied"]}),V==="error"&&y.jsxs("span",{className:"flex items-center gap-1.5 text-amber-500 text-sm",children:[y.jsx(S3,{className:"w-4 h-4"}),"Failed"]})]}),V==="success"&&G&&y.jsxs("div",{className:"p-3 rounded-lg bg-emerald-500/5 border border-emerald-500/20",children:[y.jsx("p",{className:"text-emerald-400/90 text-xs font-medium mb-1.5",children:"Agent explanation"}),y.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:G})]}),U&&y.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:y.jsx("p",{className:"text-amber-500/90 text-sm font-mono",children:U})})]})]})}const vL="last_design";function ole(e,t){const n=Number(e.refractiveIndex??e.n??1)||1,r=$e.surfaceDefaults;return{id:typeof e.id=="string"&&e.id?e.id:crypto.randomUUID(),semanticName:typeof e.semanticName=="string"?e.semanticName:void 0,aiContext:typeof e.aiContext=="string"?e.aiContext:void 0,type:e.type==="Glass"||e.type==="Air"?e.type:n>1.01?"Glass":"Air",radius:Number(e.radius)||0,thickness:Number(e.thickness)||r.thickness,refractiveIndex:n,diameter:Number(e.diameter)||r.diameter,material:String(e.material??"Air"),description:String(e.description??""),radiusTolerance:e.radiusTolerance!=null?Number(e.radiusTolerance):void 0,thicknessTolerance:e.thicknessTolerance!=null?Number(e.thicknessTolerance):void 0,tiltTolerance:e.tiltTolerance!=null?Number(e.tiltTolerance):void 0,absorptionCoefficient:e.absorptionCoefficient!=null?Number(e.absorptionCoefficient):void 0,surfaceQuality:e.surfaceQuality!=null?String(e.surfaceQuality):void 0,coating:e.coating!=null?String(e.coating):void 0}}function ale(){try{const e=localStorage.getItem(vL);if(!e)return null;const t=JSON.parse(e);if(!t||!Array.isArray(t.surfaces))return null;const r=t.surfaces.filter(o=>typeof o=="object"&&o!==null).map((o,s)=>ole(o,s)),i={...hc,surfaces:r,entrancePupilDiameter:Number(t.entrancePupilDiameter)||$e.defaults.entrancePupilDiameter,wavelengths:Array.isArray(t.wavelengths)?t.wavelengths.map(Number):hc.wavelengths,fieldAngles:Array.isArray(t.fieldAngles)?t.fieldAngles.map(Number).slice(0,$e.maxFieldAngles):hc.fieldAngles,numRays:Number(t.numRays)||9,focusMode:t.focusMode==="Balanced"?"Balanced":"On-Axis",m2Factor:Math.max(.1,Math.min(10,Number(t.m2Factor)||1)),pulseWidthFs:Math.max(5,Math.min(1e4,Number(t.pulseWidthFs)||100)),laserPowerW:t.laserPowerW!=null?Number(t.laserPowerW):void 0,projectName:typeof t.projectName=="string"?t.projectName:void 0,hasTraced:!1,traceResult:null,traceError:null};return{...i,...Ff(i)}}catch{return null}}const Sy=["[ SYSTEM ] Initializing WebAssembly Runtime...","[ CORE ] Downloading Optical Physics Libraries (NumPy)...","[ NEURAL ] Establishing Local Memory Bridge...","[ READY ] Photon Leap V3.0 Active."];function sle({onReady:e}){const[t,n]=P.useState(0),[r,i]=P.useState(0),[o,s]=P.useState(!1),l=P.useRef();return P.useEffect(()=>{let u=!1,d;return t4().then(()=>{u||(n(Sy.length-1),i(100),s(!0),d=setTimeout(e,800))}),()=>{u=!0,clearTimeout(d)}},[e]),P.useEffect(()=>{if(o)return;const u=setInterval(()=>{n(d=>Math.min(d+1,Sy.length-2))},2200);return()=>clearInterval(u)},[o]),P.useEffect(()=>{if(o)return;const u=performance.now(),d=()=>{const f=performance.now()-u,p=Math.min(92,f/12e3*92);i(p),p<92&&(l.current=requestAnimationFrame(d))};return l.current=requestAnimationFrame(d),()=>{l.current&&cancelAnimationFrame(l.current)}},[o]),y.jsx("div",{className:"fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center",children:y.jsxs("div",{className:"w-full max-w-md px-8",children:[y.jsx("p",{className:"font-mono text-sm text-cyan-400 mb-6 tracking-widest min-h-[2.5rem]",style:{textShadow:"0 0 12px rgba(34, 211, 238, 0.6)"},children:Sy[t]}),y.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full rounded-full transition-all duration-300 ease-out",style:{width:`${r}%`,background:"linear-gradient(90deg, #0891b2 0%, #22d3ee 50%, #67e8f9 100%)",boxShadow:"0 0 20px rgba(34, 211, 238, 0.8), 0 0 40px rgba(34, 211, 238, 0.4)"}})})]})})}function lle(){const[e,t]=P.useState("agent"),[n,r]=P.useState(null),[i,o]=P.useState(null),[s,l]=P.useState(null),[u,d]=P.useState(!0),[f,p]=P.useState(!0),[m,v]=P.useState(!0),x=P.useRef(null),w=P.useRef(null),[b,C]=P.useState(null),[k,E]=P.useState([]),[N,T]=P.useState(()=>ale()??{...hc,...Ff(hc)}),[O,_]=P.useState(()=>e4());P.useEffect(()=>{C(null)},[N.surfaces]),P.useEffect(()=>{const V={surfaces:N.surfaces,entrancePupilDiameter:N.entrancePupilDiameter,wavelengths:N.wavelengths,fieldAngles:N.fieldAngles,numRays:N.numRays,focusMode:N.focusMode??"On-Axis",m2Factor:N.m2Factor??1,pulseWidthFs:N.pulseWidthFs??100,laserPowerW:N.laserPowerW,projectName:N.projectName,totalLength:N.totalLength,fNumber:N.fNumber,rmsSpotRadius:N.rmsSpotRadius};localStorage.setItem(vL,JSON.stringify(V))},[N]);const D=P.useCallback(V=>{T(q=>{const G=typeof V=="function"?V(q):{...q,...V},$={...G,fieldAngles:(G.fieldAngles??[0]).slice(0,$e.maxFieldAngles)},U=Ff($);return{...$,...U}})},[]);return y.jsx(Jse,{children:y.jsxs("div",{className:"min-h-screen bg-midnight flex flex-col",children:[O&&y.jsx(sle,{onReady:()=>_(!1)}),y.jsx(Y3,{activeTab:e,onTabChange:t,loadedFileName:n}),y.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[y.jsxs("main",{className:"flex-1 overflow-auto p-4",children:[e==="lens"&&y.jsx(_g,{systemState:N,onSystemStateChange:D,selectedSurfaceId:i,onSelectSurface:o,highlightedMetric:null,showBestFocus:u,snapToFocus:f,snapToSurface:m,onMonteCarloSensitivity:C}),e==="coating"&&y.jsx(yse,{}),y.jsxs("div",{className:"flex flex-1 min-h-0 gap-4",style:{display:e==="agent"?"flex":"none"},children:[y.jsx("div",{className:"w-96 shrink-0 overflow-y-auto",children:y.jsx(ile,{systemState:N,onSystemStateChange:D,recentSemanticDeltas:k,onClearSemanticDeltas:()=>E([])})}),y.jsx("div",{className:"flex-1 min-w-0 min-h-[400px]",children:y.jsx(_g,{systemState:N,onSystemStateChange:D,selectedSurfaceId:i,onSelectSurface:o,highlightedMetric:null,showBestFocus:u,snapToFocus:f,snapToSurface:m,onMonteCarloSensitivity:C})})]}),e==="system"&&y.jsx(Y7,{systemState:N,onSystemStateChange:D,onLoadComplete:r,selectedSurfaceId:i,onSelectSurface:o,sensitivityBySurface:b,onSemanticDelta:V=>E(q=>[...q.slice(-4),V])}),e==="info"&&y.jsxs("div",{className:"flex flex-1 min-h-0 gap-4",children:[y.jsx("div",{className:"w-96 shrink-0 overflow-y-auto",children:y.jsx(tH,{highlightedMetric:s,onHighlightMetric:l,onSystemStateChange:D,onRunSampleAnalysis:()=>x.current?.(),onOpenOptimizer:()=>w.current?.()})}),y.jsx("div",{className:"flex-1 min-w-0 min-h-[400px]",children:y.jsx(_g,{systemState:N,onSystemStateChange:D,selectedSurfaceId:i,onSelectSurface:o,highlightedMetric:s,showPersistentHud:!0,showBestFocus:u,snapToFocus:f,snapToSurface:m,runSampleAnalysisRef:x,pulseOptimizeRef:w,onMonteCarloSensitivity:C})})]}),e==="properties"&&y.jsx("div",{className:"h-full flex items-center justify-center text-slate-400",children:"Properties view  use the right sidebar"}),e==="export"&&y.jsx(nH,{systemState:N,onSystemStateChange:D})]}),y.jsx("aside",{className:"w-80 shrink-0 overflow-auto",children:y.jsx(Sse,{systemState:N,onSystemStateChange:D,selectedSurfaceId:i,onSelectSurface:o,showBestFocus:u,onShowBestFocusChange:d,snapToFocus:f,onSnapToFocusChange:p,snapToSurface:m,onSnapToSurfaceChange:v})})]})]})})}class cle extends P.Component{state={hasError:!1,error:null};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("App error:",t,n.componentStack)}render(){return this.state.hasError&&this.state.error?y.jsxs("div",{className:"min-h-screen bg-[#0B1120] text-slate-200 p-8 font-mono",children:[y.jsx("h1",{className:"text-xl font-bold text-red-400 mb-4",children:"Something went wrong"}),y.jsx("pre",{className:"text-sm overflow-auto bg-black/30 p-4 rounded-lg",children:this.state.error.toString()}),y.jsx("p",{className:"mt-4 text-slate-400 text-sm",children:"Check the browser console for more details."})]}):this.props.children}}m3.createRoot(document.getElementById("root")).render(y.jsx(P.StrictMode,{children:y.jsx(cle,{children:y.jsx(lle,{})})}));
